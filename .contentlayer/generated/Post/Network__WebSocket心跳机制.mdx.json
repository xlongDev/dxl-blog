{
  "title": "WebSocket å¿ƒè·³æœºåˆ¶ï¼šä»ŽåŽŸç†åˆ°å®žè·µçš„æ·±åº¦ä¹‹æ—…",
  "date": "2024-03-04T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æž WebSocket å¿ƒè·³æœºåˆ¶çš„åŽŸç†ã€å®žçŽ°ä¸Žæœ€ä½³å®žè·µï¼Œç»“åˆä»£ç ç¤ºä¾‹ã€æž¶æž„è®¾è®¡ä¸Žå“²å­¦æ€è€ƒï¼Œä¸ºå‰ç«¯å¼€å‘è€…æä¾›å…¨é¢æŒ‡å¯¼ã€‚",
  "keywords": "WebSocket, å¿ƒè·³æœºåˆ¶, å®žæ—¶é€šä¿¡, å‰ç«¯å¼€å‘, ç½‘ç»œåè®®, æž¶æž„è®¾è®¡, æœ€ä½³å®žè·µ",
  "author": "æ™“é¾™",
  "image": "/images/hero/websocket-heartbeat.jpg",
  "tags": [
    "WebSocket",
    "å®žæ—¶é€šä¿¡",
    "å‰ç«¯å¼€å‘",
    "ç½‘ç»œåè®®"
  ],
  "views": 0,
  "likes": 0,
  "category": "Network",
  "body": {
    "raw": "\n> â€œå¿ƒè·³å¦‚è¯—ï¼Œè„‰åŠ¨ä¸æ¯ï¼›è¿žæŽ¥å¦‚å¼¦ï¼Œä½™éŸ³ç»•æ¢ã€‚â€  \n> â€”â€” çµæ„ŸæºäºŽã€Šè¯—ç»Â·å°é›…Â·é¹¿é¸£ã€‹\n\nåœ¨å®žæ—¶é€šä¿¡çš„æµ©ç€šæ˜Ÿç©ºä¸‹ï¼ŒWebSocket å®›å¦‚ä¸€é¢—ç’€ç’¨çš„æ˜Žæ˜Ÿï¼Œä¸ºå‰ç«¯å¼€å‘è€…å¼€å¯äº†åŒå‘é€šä¿¡çš„å¥‡å¦™å¤§é—¨ã€‚ç„¶è€Œï¼Œç½‘ç»œä¸–ç•Œå¹¶éžé£Žå¹³æµªé™ï¼Œè¿žæŽ¥çš„ç¨³å®šæ€§å¦‚åŒæµ·ä¸Šå­¤èˆŸï¼Œéšæ—¶å¯èƒ½è¢«é£Žæµªåžå™¬ã€‚è¿™æ—¶ï¼Œå¿ƒè·³æœºåˆ¶ä¾¿å¦‚åŒä¸€ç›æ˜Žç¯ï¼ŒæŒ‡å¼•ç€è¿žæŽ¥åœ¨é»‘æš—ä¸­ä¿æŒè„‰åŠ¨ã€‚ðŸ’“\n\næœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ WebSocket å¿ƒè·³æœºåˆ¶çš„åŽŸç†ä¸Žå®žè·µï¼Œä»Žåè®®åº•å±‚åˆ°æž¶æž„è®¾è®¡ï¼Œä»Žä»£ç å®žçŽ°åˆ°å“²å­¦æ€è€ƒï¼ŒåŠ›æ±‚ä¸ºä½ å‘ˆçŽ°ä¸€å¹…å…¨é¢è€Œæ·±åˆ»çš„ç”»å·ã€‚æ— è®ºä½ æ˜¯åˆæŽ¢å®žæ—¶é€šä¿¡çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯ä¹…ç»æ²™åœºçš„è€å°†ï¼Œè¿™ç¯‡æ–‡ç« éƒ½å°†ä¸ºä½ æä¾›å¯å‘ä¸ŽæŒ‡å¼•ã€‚è®©æˆ‘ä»¬ä¸€èµ·è¸ä¸Šè¿™åœºæŠ€æœ¯ä¸Žæ€ç»´çš„æ—…ç¨‹å§ï¼ðŸš€\n\n## ç›®å½•\n\n1. **WebSocket ç®€ä»‹ï¼šå®žæ—¶é€šä¿¡çš„åŸºçŸ³**  \n2. **ä¸ºä½•éœ€è¦å¿ƒè·³æœºåˆ¶ï¼Ÿç½‘ç»œä¸–ç•Œçš„â€œè„‰æâ€**  \n3. **å¿ƒè·³æœºåˆ¶çš„åŽŸç†ï¼šä»Ž TCP åˆ°åº”ç”¨å±‚**  \n4. **å¿ƒè·³æœºåˆ¶çš„è®¾è®¡ä¸Žå®žçŽ°**  \n   - æ¶ˆæ¯æ ¼å¼ä¸Žåè®®è®¾è®¡  \n   - å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ååŒ  \n   - ä»£ç ç¤ºä¾‹ï¼šå¿ƒè·³çš„â€œå¿ƒåŠ¨â€æ—¶åˆ»  \n5. **æœ€ä½³å®žè·µï¼šè®©å¿ƒè·³æ›´ä¼˜é›…**  \n6. **æž¶æž„è§†è§’ï¼šå¿ƒè·³æœºåˆ¶çš„è®¾è®¡å“²å­¦**  \n7. **å¸¸è§é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ**  \n8. **æœªæ¥å±•æœ›ï¼šWebSocket ä¸Žå¿ƒè·³çš„ä¸‹ä¸€ç«™**  \n9. **ç»“è¯­ï¼šè¿žæŽ¥çš„è¯—æ„ä¸Žæ°¸æ’**\n\n## 1. WebSocket ç®€ä»‹ï¼šå®žæ—¶é€šä¿¡çš„åŸºçŸ³\n\nWebSocketï¼Œè¯žç”ŸäºŽ HTML5 æ—¶ä»£ï¼Œæ˜¯ä¸€ç§åŸºäºŽ TCP çš„å…¨åŒå·¥é€šä¿¡åè®®ã€‚å®ƒæ‰“ç ´äº† HTTP è¯·æ±‚-å“åº”çš„å•å‘æŸç¼šï¼Œè®©å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯èƒ½å¤Ÿè‡ªç”±â€œå¯¹è¯â€ã€‚ðŸŒ ç›¸æ¯”ä¼ ç»Ÿçš„è½®è¯¢æˆ–é•¿è½®è¯¢ï¼ŒWebSocket ä¸ä»…é™ä½Žäº†å»¶è¿Ÿï¼Œè¿˜æžå¤§åœ°å‡å°‘äº†æœåŠ¡å™¨èµ„æºæ¶ˆè€—ã€‚\n\n> â€œWebSocket å°±åƒä¸€åœºæ°¸ä¸è½å¹•çš„å¯¹è¯ï¼Œå®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯åœ¨æ—¶é—´çš„é•¿æ²³ä¸­ä½Žè¯­ã€‚â€  \n> â€”â€” çµæ„ŸæºäºŽæ¢­ç½—ã€Šç“¦å°”ç™»æ¹–ã€‹\n\nWebSocket çš„æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼š\n- **å…¨åŒå·¥é€šä¿¡**ï¼šå®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯å¯åŒæ—¶å‘é€å’ŒæŽ¥æ”¶æ¶ˆæ¯ã€‚\n- **ä½Žå¼€é”€**ï¼šåŸºäºŽ TCP çš„å•ä¸€è¿žæŽ¥ï¼Œé¿å…äº† HTTP å¤´éƒ¨çš„å†—ä½™ã€‚\n- **å®žæ—¶æ€§**ï¼šæ¶ˆæ¯ä¼ é€’è¿‘ä¹Žçž¬æ—¶ï¼Œé€‚åˆèŠå¤©ã€æ¸¸æˆã€å®žæ—¶é€šçŸ¥ç­‰åœºæ™¯ã€‚\n\nç„¶è€Œï¼ŒWebSocket çš„è¿žæŽ¥å¹¶éžåšä¸å¯æ‘§ã€‚ç½‘ç»œæŠ–åŠ¨ã€æœåŠ¡å™¨é‡å¯ã€å®¢æˆ·ç«¯ä¼‘çœ ç­‰å› ç´ éƒ½å¯èƒ½å¯¼è‡´è¿žæŽ¥ä¸­æ–­ã€‚è¿™æ—¶å€™ï¼Œå¿ƒè·³æœºåˆ¶ä¾¿å¦‚åŒä¸€é¢—è·³åŠ¨çš„å¿ƒè„ï¼Œä¸ºè¿žæŽ¥æ³¨å…¥ç”Ÿå‘½åŠ›ã€‚ðŸ’—\n\n*Tips: WebSocket çš„å»ºç«‹ä¾èµ–äºŽ HTTP æ¡æ‰‹ï¼Œäº†è§£ `Upgrade` å¤´å’Œ `101 Switching Protocols` çŠ¶æ€ç æœ‰åŠ©äºŽè°ƒè¯•è¿žæŽ¥é—®é¢˜ã€‚*\n\n## 2. ä¸ºä½•éœ€è¦å¿ƒè·³æœºåˆ¶ï¼Ÿç½‘ç»œä¸–ç•Œçš„â€œè„‰æâ€\n\nåœ¨ç†æƒ³ä¸–ç•Œä¸­ï¼ŒWebSocket è¿žæŽ¥åº”è¯¥å¦‚ã€Šæ˜Ÿé™…ç©¿è¶Šã€‹ä¸­çš„é»‘æ´žèˆ¬ç¨³å®šæ°¸æ’ã€‚ç„¶è€Œï¼ŒçŽ°å®žç½‘ç»œçŽ¯å¢ƒå´æ›´åƒã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ä¸­çš„ç»´æ–¯ç‰¹æ´›å¤§é™†ï¼Œå……æ»¡äº†ä¸å¯é¢„æµ‹çš„å±æœºï¼š\n\n- **ç½‘ç»œä¸ç¨³å®š**ï¼šç§»åŠ¨è®¾å¤‡åˆ‡æ¢ Wi-Fi æˆ– 4G/5Gï¼Œå¯èƒ½å¯¼è‡´è¿žæŽ¥ä¸­æ–­ã€‚\n- **NAT è¶…æ—¶**ï¼šè®¸å¤šè·¯ç”±å™¨ä¼šå¯¹é•¿æ—¶é—´æœªé€šä¿¡çš„ TCP è¿žæŽ¥è¿›è¡Œè¶…æ—¶æ¸…ç†ã€‚\n- **æœåŠ¡å™¨ç­–ç•¥**ï¼šè´Ÿè½½å‡è¡¡å™¨å¯èƒ½å› æ£€æµ‹ä¸åˆ°æ´»è·ƒè¿žæŽ¥è€Œå…³é—­å®ƒã€‚\n- **å®¢æˆ·ç«¯ä¼‘çœ **ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µä¼‘çœ æˆ–è®¾å¤‡é”å±ä¼šæš‚åœ WebSocket æ´»åŠ¨ã€‚\n\nå¿ƒè·³æœºåˆ¶çš„æœ¬è´¨æ˜¯é€šè¿‡å®šæœŸå‘é€è½»é‡çº§æ¶ˆæ¯ï¼ˆé€šå¸¸ç§°ä¸ºâ€œPingâ€æˆ–â€œPongâ€ï¼‰ï¼Œæ£€æµ‹è¿žæŽ¥æ˜¯å¦ä¾ç„¶â€œæ´»ç€â€ã€‚å¦‚æžœæ²¡æœ‰å¿ƒè·³ï¼Œè¿žæŽ¥å¯èƒ½åœ¨æ— å£°ä¸­æ¶ˆäº¡ï¼Œå¦‚åŒèŽŽå£«æ¯”äºšç¬”ä¸‹çš„å“ˆå§†é›·ç‰¹ï¼Œâ€œç”Ÿå­˜è¿˜æ˜¯æ¯ç­ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚â€\n\nä¸‹è¡¨æ€»ç»“äº†å¿ƒè·³æœºåˆ¶è§£å†³çš„ä¸»è¦é—®é¢˜ï¼š\n\n| é—®é¢˜åœºæ™¯            | æè¿°                                                                 | å¿ƒè·³æœºåˆ¶çš„è§£å†³æ–¹æ¡ˆ                              |\n|---------------------|----------------------------------------------------------------------|-----------------------------------------------|\n| NAT è¶…æ—¶            | è·¯ç”±å™¨å› é•¿æ—¶é—´æ— æ•°æ®ä¼ è¾“å…³é—­è¿žæŽ¥                                     | å®šæœŸå‘é€å¿ƒè·³åŒ…ï¼Œä¿æŒè¿žæŽ¥æ´»è·ƒ                  |\n| æœåŠ¡å™¨è´Ÿè½½å‡è¡¡      | è´Ÿè½½å‡è¡¡å™¨è¯¯åˆ¤è¿žæŽ¥ä¸ºé—²ç½®å¹¶å…³é—­                                       | å¿ƒè·³æ¶ˆæ¯ä½œä¸ºæ´»è·ƒä¿¡å·ï¼Œé˜²æ­¢è¢«è¯¯å…³é—­            |\n| ç½‘ç»œåˆ‡æ¢            | å®¢æˆ·ç«¯ç½‘ç»œåˆ‡æ¢å¯¼è‡´è¿žæŽ¥ä¸­æ–­                                           | å¿«é€Ÿæ£€æµ‹æ–­å¼€å¹¶è§¦å‘é‡è¿ž                        |\n| å®¢æˆ·ç«¯ä¼‘çœ           | æµè§ˆå™¨æˆ–è®¾å¤‡ä¼‘çœ å¯¼è‡´è¿žæŽ¥æš‚åœ                                         | æ£€æµ‹ä¼‘çœ åŽçš„è¿žæŽ¥çŠ¶æ€ï¼Œå¿…è¦æ—¶é‡æ–°å»ºç«‹è¿žæŽ¥      |\n\n*Tips: å¿ƒè·³æœºåˆ¶ä¸ä»…ä»…æ˜¯â€œä¿æ´»â€ï¼Œè¿˜å¯ä»¥ç”¨æ¥æ£€æµ‹ç½‘ç»œå»¶è¿Ÿï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚*\n\n## 3. å¿ƒè·³æœºåˆ¶çš„åŽŸç†ï¼šä»Ž TCP åˆ°åº”ç”¨å±‚\n\nè¦ç†è§£å¿ƒè·³æœºåˆ¶ï¼Œæˆ‘ä»¬éœ€è¦ä»Ž TCP åè®®çš„åº•å±‚å¼€å§‹ï¼Œå±‚å±‚é€’è¿›ï¼Œç›´è¾¾åº”ç”¨å±‚ã€‚è¿™å°±åƒæŽ¢å¯»ä¸€é¦–äº¤å“ä¹çš„åˆ›ä½œï¼Œä»Žä¹å™¨çš„æž„é€ åˆ°ä¹è°±çš„ç¼–æŽ’ã€‚\n\n### 3.1 TCP Keepaliveï¼šåº•å±‚çš„â€œå¿ƒè·³â€\n\nTCP åè®®æœ¬èº«æä¾›äº†ä¸€ç§ç§°ä¸º **TCP Keepalive** çš„æœºåˆ¶ï¼Œé€šè¿‡å‘é€ç©ºçš„ TCP æ•°æ®åŒ…æ¥æ£€æµ‹è¿žæŽ¥æ˜¯å¦å­˜æ´»ã€‚ç„¶è€Œï¼ŒTCP Keepalive æœ‰å‡ ä¸ªå±€é™ï¼š\n- **é…ç½®å¤æ‚**ï¼šéœ€è¦æ“ä½œç³»ç»Ÿæˆ–æœåŠ¡å™¨å±‚é¢å¯ç”¨ï¼Œä¸”å‚æ•°ï¼ˆå¦‚é—´éš”æ—¶é—´ï¼‰ä¸æ˜“è°ƒæ•´ã€‚\n- **èµ„æºå¼€é”€**ï¼šå¯¹å¤§é‡è¿žæŽ¥çš„åœºæ™¯ï¼ŒKeepalive æ•°æ®åŒ…å¯èƒ½å¼•å‘æ€§èƒ½é—®é¢˜ã€‚\n- **ä¸å¯å®šåˆ¶**ï¼šæ— æ³•æºå¸¦åº”ç”¨å±‚æ•°æ®ï¼Œéš¾ä»¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚\n\nå› æ­¤ï¼ŒWebSocket å¿ƒè·³æœºåˆ¶é€šå¸¸åœ¨åº”ç”¨å±‚å®žçŽ°ï¼ŒåŸºäºŽ WebSocket åè®®çš„ Ping/Pong å¸§æˆ–è‡ªå®šä¹‰æ¶ˆæ¯ã€‚\n\n### 3.2 WebSocket çš„ Ping/Pong å¸§\n\nWebSocket åè®®å†…ç½®äº† Ping å’Œ Pong æŽ§åˆ¶å¸§ï¼Œä¸“é—¨ç”¨äºŽå¿ƒè·³æ£€æµ‹ï¼š\n- **Ping å¸§**ï¼šç”±ä¸€æ–¹å‘é€ï¼Œè¯·æ±‚å¯¹æ–¹å›žåº”ã€‚\n- **Pong å¸§**ï¼šä½œä¸ºå¯¹ Ping çš„å“åº”ï¼Œè¡¨æ˜Žè¿žæŽ¥æ´»è·ƒã€‚\n\nè¿™äº›å¸§éžå¸¸è½»é‡ï¼Œé€šå¸¸åªåŒ…å«å‡ å­—èŠ‚çš„æ•°æ®ï¼Œä¸”ç”± WebSocket åè®®æ ˆè‡ªåŠ¨å¤„ç†ã€‚ç„¶è€Œï¼Œæµè§ˆå™¨å¯¹ Ping/Pong å¸§çš„æ”¯æŒæœ‰é™ï¼Œè®¸å¤šå¼€å‘è€…æ›´å€¾å‘äºŽä½¿ç”¨è‡ªå®šä¹‰çš„å¿ƒè·³æ¶ˆæ¯ã€‚\n\n### 3.3 åº”ç”¨å±‚å¿ƒè·³ï¼šçµæ´»ä¸ŽæŽŒæŽ§\n\nåº”ç”¨å±‚å¿ƒè·³é€šè¿‡å‘é€è‡ªå®šä¹‰ JSON æˆ–æ–‡æœ¬æ¶ˆæ¯å®žçŽ°ï¼Œæ ¼å¼çµæ´»ï¼Œå¯æºå¸¦ä¸šåŠ¡æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªèŠå¤©åº”ç”¨çš„å®¢æˆ·ç«¯å¯èƒ½æ¯ 30 ç§’å‘é€å¦‚ä¸‹æ¶ˆæ¯ï¼š\n\n```json\n{\n  \"type\": \"ping\",\n  \"timestamp\": 1698765432\n}\n```\n\næœåŠ¡ç«¯æ”¶åˆ°åŽå›žåº”ï¼š\n\n```json\n{\n  \"type\": \"pong\",\n  \"timestamp\": 1698765432\n}\n```\n\nè¿™ç§æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºŽï¼š\n- **å¯æ‰©å±•æ€§**ï¼šæ¶ˆæ¯å¯ä»¥æºå¸¦çŠ¶æ€ã€å»¶è¿Ÿä¿¡æ¯ç­‰ã€‚\n- **æ˜“è°ƒè¯•**ï¼šå¼€å‘è€…å¯ç›´æŽ¥æŸ¥çœ‹æ¶ˆæ¯å†…å®¹ã€‚\n- **è·¨å¹³å°å…¼å®¹**ï¼šæ— éœ€ä¾èµ–åº•å±‚çš„ Ping/Pong å¸§ã€‚\n\n*Tips: è®¾è®¡å¿ƒè·³æ¶ˆæ¯æ—¶ï¼Œå°½é‡ä¿æŒè½»é‡ï¼Œé¿å…åŒ…å«è¿‡å¤šä¸šåŠ¡æ•°æ®ï¼Œä»¥å‡å°‘å¸¦å®½æ¶ˆè€—ã€‚*\n\n## 4. å¿ƒè·³æœºåˆ¶çš„è®¾è®¡ä¸Žå®žçŽ°\n\nå¿ƒè·³æœºåˆ¶çš„è®¾è®¡éœ€è¦å¹³è¡¡æ€§èƒ½ã€ç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒã€‚ä»¥ä¸‹ä»Žåè®®è®¾è®¡ã€ååŒæœºåˆ¶åˆ°ä»£ç å®žçŽ°ï¼Œé€æ­¥å±•å¼€ã€‚\n\n### 4.1 æ¶ˆæ¯æ ¼å¼ä¸Žåè®®è®¾è®¡\n\nä¸€ä¸ªå¥½çš„å¿ƒè·³åè®®åº”è¯¥ç®€æ´ã€æ˜Žç¡®ä¸”æ˜“äºŽæ‰©å±•ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæŽ¨èçš„ JSON æ ¼å¼ï¼š\n\n```json\n{\n  \"type\": \"heartbeat\",\n  \"id\": \"unique-message-id\",\n  \"timestamp\": 1698765432,\n  \"data\": {} // å¯é€‰ï¼Œæ‰©å±•å­—æ®µ\n}\n```\n\n- **type**ï¼šæ ‡è¯†æ¶ˆæ¯ç±»åž‹ï¼ŒåŒºåˆ†å¿ƒè·³ä¸Žä¸šåŠ¡æ¶ˆæ¯ã€‚\n- **id**ï¼šå”¯ä¸€æ ‡è¯†ï¼Œç”¨äºŽåŒ¹é…è¯·æ±‚ä¸Žå“åº”ã€‚\n- **timestamp**ï¼šè®°å½•å‘é€æ—¶é—´ï¼Œä¾¿äºŽå»¶è¿Ÿè®¡ç®—ã€‚\n- **data**ï¼šé¢„ç•™å­—æ®µï¼Œç”¨äºŽæœªæ¥æ‰©å±•ã€‚\n\n### 4.2 å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ååŒ\n\nå¿ƒè·³æœºåˆ¶éœ€è¦å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ç´§å¯†åä½œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸åž‹çš„å·¥ä½œæµç¨‹ï¼š\n\n1. **å®¢æˆ·ç«¯**ï¼šæ¯éš”å›ºå®šæ—¶é—´ï¼ˆå¦‚ 30 ç§’ï¼‰å‘é€å¿ƒè·³æ¶ˆæ¯ã€‚\n2. **æœåŠ¡ç«¯**ï¼šæ”¶åˆ°å¿ƒè·³åŽç«‹å³å“åº”ï¼Œæˆ–å®šæœŸä¸»åŠ¨å‘é€å¿ƒè·³ã€‚\n3. **è¶…æ—¶æ£€æµ‹**ï¼šä»»ä¸€æ–¹è‹¥åœ¨æŒ‡å®šæ—¶é—´å†…æœªæ”¶åˆ°å¿ƒè·³ï¼Œåˆ™è®¤ä¸ºè¿žæŽ¥æ–­å¼€ï¼Œè§¦å‘é‡è¿žã€‚\n\nä¸‹è¡¨æ€»ç»“äº†å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯çš„èŒè´£ï¼š\n\n| è§’è‰²       | èŒè´£                                                                 |\n|------------|----------------------------------------------------------------------|\n| å®¢æˆ·ç«¯     | å®šæœŸå‘é€å¿ƒè·³ã€ç›‘å¬æœåŠ¡ç«¯å“åº”ã€æ£€æµ‹è¶…æ—¶å¹¶è§¦å‘é‡è¿ž                     |\n| æœåŠ¡ç«¯     | å“åº”å®¢æˆ·ç«¯å¿ƒè·³ã€ä¸»åŠ¨å‘é€å¿ƒè·³ï¼ˆå¯é€‰ï¼‰ã€æ¸…ç†è¶…æ—¶è¿žæŽ¥                   |\n\n### 4.3 ä»£ç ç¤ºä¾‹ï¼šå¿ƒè·³çš„â€œå¿ƒåŠ¨â€æ—¶åˆ»\n\nä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºäºŽ JavaScript çš„ WebSocket å¿ƒè·³å®žçŽ°ï¼Œé€‚ç”¨äºŽæµè§ˆå™¨çŽ¯å¢ƒï¼š\n\n```javascript\nclass WebSocketHeartbeat {\n  constructor(url, options = {}) {\n    this.url = url;\n    this.options = {\n      heartbeatInterval: 30000, // å¿ƒè·³é—´éš”ï¼Œå•ä½ï¼šæ¯«ç§’\n      timeout: 60000, // è¶…æ—¶æ—¶é—´\n      maxRetries: 3, // æœ€å¤§é‡è¿žæ¬¡æ•°\n      ...options\n    };\n    this.ws = null;\n    this.heartbeatTimer = null;\n    this.timeoutTimer = null;\n    this.retryCount = 0;\n    this.isAlive = false;\n  }\n\n  connect() {\n    this.ws = new WebSocket(this.url);\n    this.ws.onopen = () => {\n      console.log('WebSocket connected! ðŸš€');\n      this.isAlive = true;\n      this.retryCount = 0;\n      this.startHeartbeat();\n    };\n\n    this.ws.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      if (data.type === 'pong') {\n        console.log('Received pong! ðŸ’“');\n        this.isAlive = true;\n        this.resetTimeout();\n      }\n    };\n\n    this.ws.onclose = () => {\n      console.log('WebSocket closed! ðŸ˜¢');\n      this.stopHeartbeat();\n      this.reconnect();\n    };\n\n    this.ws.onerror = (error) => {\n      console.error('WebSocket error:', error);\n    };\n  }\n\n  startHeartbeat() {\n    this.stopHeartbeat(); // æ¸…ç†å·²æœ‰å®šæ—¶å™¨\n    this.heartbeatTimer = setInterval(() => {\n      if (this.ws.readyState === WebSocket.OPEN) {\n        this.ws.send(JSON.stringify({\n          type: 'ping',\n          id: Date.now().toString(),\n          timestamp: Date.now()\n        }));\n        console.log('Sent ping! ðŸ’Œ');\n        this.isAlive = false; // ç­‰å¾…å“åº”\n        this.setTimeout();\n      }\n    }, this.options.heartbeatInterval);\n  }\n\n  stopHeartbeat() {\n    if (this.heartbeatTimer) {\n      clearInterval(this.heartbeatTimer);\n      this.heartbeatTimer = null;\n    }\n    if (this.timeoutTimer) {\n      clearTimeout(this.timeoutTimer);\n      this.timeoutTimer = null;\n    }\n  }\n\n  setTimeout() {\n    this.timeoutTimer = setTimeout(() => {\n      if (!this.isAlive) {\n        console.warn('No pong received, closing connection...');\n        this.ws.close();\n      }\n    }, this.options.timeout);\n  }\n\n  resetTimeout() {\n    if (this.timeoutTimer) {\n      clearTimeout(this.timeoutTimer);\n      this.timeoutTimer = null;\n    }\n  }\n\n  reconnect() {\n    if (this.retryCount < this.options.maxRetries) {\n      this.retryCount++;\n      console.log(`Reconnecting... Attempt ${this.retryCount}/${this.options.maxRetries}`);\n      setTimeout(() => this.connect(), 1000 * this.retryCount);\n    } else {\n      console.error('Max retries reached. Giving up. ðŸ˜”');\n    }\n  }\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nconst ws = new WebSocketHeartbeat('wss://example.com/socket', {\n  heartbeatInterval: 30000,\n  timeout: 60000,\n  maxRetries: 3\n});\nws.connect();\n```\n\nè¿™ä¸ªå®žçŽ°åŒ…å«äº†å¿ƒè·³å‘é€ã€è¶…æ—¶æ£€æµ‹å’Œè‡ªåŠ¨é‡è¿žç­‰åŠŸèƒ½ï¼Œé€‚ç”¨äºŽèŠå¤©åº”ç”¨ã€å®žæ—¶ä»ªè¡¨ç›˜ç­‰åœºæ™¯ã€‚\n\n*Tips: åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­ï¼Œå»ºè®®ä¸ºé‡è¿žæœºåˆ¶æ·»åŠ æŒ‡æ•°é€€é¿ç®—æ³•ï¼Œé¿å…çŸ­æ—¶é—´å†…é¢‘ç¹é‡è¿žå¯¼è‡´æœåŠ¡å™¨åŽ‹åŠ›è¿‡å¤§ã€‚*\n\n## 5. æœ€ä½³å®žè·µï¼šè®©å¿ƒè·³æ›´ä¼˜é›…\n\nä»¥ä¸‹æ˜¯ä¸€äº›ç»è¿‡å®žè·µéªŒè¯çš„å¿ƒè·³æœºåˆ¶æœ€ä½³å®žè·µï¼Œå¸®åŠ©ä½ æ‰“é€ æ›´å¥å£®çš„ WebSocket åº”ç”¨ï¼š\n\n### 5.1 åŠ¨æ€è°ƒæ•´å¿ƒè·³é—´éš”\n\nå›ºå®šå¿ƒè·³é—´éš”å¯èƒ½æ— æ³•é€‚åº”æ‰€æœ‰åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œç§»åŠ¨ç½‘ç»œå¯èƒ½éœ€è¦æ›´çŸ­çš„é—´éš”ï¼Œè€Œç¨³å®šç½‘ç»œå¯ä»¥é€‚å½“å»¶é•¿ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åŠ¨æ€è°ƒæ•´ï¼š\n\n- **æ ¹æ®ç½‘ç»œå»¶è¿Ÿ**ï¼šå®¢æˆ·ç«¯è®¡ç®—æœ€è¿‘å‡ æ¬¡å¿ƒè·³çš„å¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰ï¼ŒåŠ¨æ€è°ƒæ•´é—´éš”ã€‚\n- **æ ¹æ®è®¾å¤‡çŠ¶æ€**ï¼šæ£€æµ‹è®¾å¤‡æ˜¯å¦ä¼‘çœ ï¼Œæš‚åœå¿ƒè·³ä»¥èŠ‚çœç”µé‡ã€‚\n\n*Tips: ä½¿ç”¨æŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼ˆEMAï¼‰ç®—æ³•è®¡ç®— RTTï¼Œèƒ½æ›´å¹³æ»‘åœ°è°ƒæ•´å¿ƒè·³é—´éš”ã€‚*\n\n### 5.2 å¿ƒè·³ä¸Žä¸šåŠ¡æ¶ˆæ¯å¤ç”¨\n\nä¸ºäº†å‡å°‘å¸¦å®½å ç”¨ï¼Œå¯ä»¥å°†å¿ƒè·³æ¶ˆæ¯ä¸Žä¸šåŠ¡æ¶ˆæ¯ç»“åˆã€‚ä¾‹å¦‚ï¼Œåœ¨èŠå¤©åº”ç”¨ä¸­ï¼Œè‹¥ç”¨æˆ·æ­£åœ¨å‘é€æ¶ˆæ¯ï¼Œåˆ™æ— éœ€é¢å¤–å‘é€å¿ƒè·³ã€‚\n\n*Tips: ç¡®ä¿ä¸šåŠ¡æ¶ˆæ¯ä¹Ÿèƒ½è§¦å‘è¶…æ—¶é‡ç½®é€»è¾‘ï¼Œé¿å…è¯¯åˆ¤è¿žæŽ¥çŠ¶æ€ã€‚*\n\n### 5.3 æœåŠ¡ç«¯ä¸»åŠ¨å¿ƒè·³\n\nåœ¨æŸäº›åœºæ™¯ä¸‹ï¼ŒæœåŠ¡ç«¯ä¸»åŠ¨å‘é€å¿ƒè·³å¯ä»¥å‡è½»å®¢æˆ·ç«¯è´Ÿæ‹…ã€‚ä¾‹å¦‚ï¼ŒæœåŠ¡ç«¯æ¯åˆ†é’Ÿå¹¿æ’­ä¸€æ¬¡çŠ¶æ€æ›´æ–°ï¼Œå®¢æˆ·ç«¯åªéœ€å“åº”å³å¯ã€‚\n\n*Tips: æœåŠ¡ç«¯å¿ƒè·³é€‚åˆé«˜å¹¶å‘åœºæ™¯ï¼Œä½†éœ€æ³¨æ„å¹¿æ’­é¢‘çŽ‡ï¼Œé¿å…å¼•å‘æµé‡é«˜å³°ã€‚*\n\n### 5.4 ä¼˜é›…çš„é‡è¿žæœºåˆ¶\n\né‡è¿žæœºåˆ¶éœ€è¦å…¼é¡¾ç”¨æˆ·ä½“éªŒå’ŒæœåŠ¡å™¨æ€§èƒ½ã€‚æŽ¨èçš„åšæ³•åŒ…æ‹¬ï¼š\n- **æŒ‡æ•°é€€é¿**ï¼šé‡è¿žé—´éš”éšå¤±è´¥æ¬¡æ•°é€’å¢žï¼ˆå¦‚ 1sã€2sã€4sï¼‰ã€‚\n- **éšæœºæŠ–åŠ¨**ï¼šä¸ºé‡è¿žæ—¶é—´æ·»åŠ éšæœºåç§»ï¼Œé˜²æ­¢å®¢æˆ·ç«¯åŒæ—¶é‡è¿žã€‚\n- **çŠ¶æ€åŒæ­¥**ï¼šé‡è¿žåŽæ¢å¤ä¼šè¯çŠ¶æ€ï¼ˆå¦‚èŠå¤©åŽ†å²ã€æ¸¸æˆè¿›åº¦ï¼‰ã€‚\n\n*Tips: ä½¿ç”¨ `setTimeout` è€Œéž `setInterval` å®žçŽ°é‡è¿žï¼Œé¿å…é‡è¿žé€»è¾‘å †ç§¯ã€‚*\n\n### 5.5 æ—¥å¿—ä¸Žç›‘æŽ§\n\nå¿ƒè·³æœºåˆ¶çš„è¿è¡ŒçŠ¶æ€éœ€è¦æ¸…æ™°çš„æ—¥å¿—æ”¯æŒï¼Œä»¥ä¾¿è°ƒè¯•å’Œç›‘æŽ§ã€‚å»ºè®®è®°å½•ï¼š\n- å¿ƒè·³å‘é€ä¸ŽæŽ¥æ”¶æ—¶é—´ã€‚\n- è¿žæŽ¥æ–­å¼€ä¸Žé‡è¿žäº‹ä»¶ã€‚\n- ç½‘ç»œå»¶è¿Ÿç»Ÿè®¡ã€‚\n\n*Tips: å°†å¿ƒè·³æ—¥å¿—ä¸Ž APM å·¥å…·ï¼ˆå¦‚ Sentryï¼‰é›†æˆï¼Œå®žæ—¶ç›‘æŽ§è¿žæŽ¥å¥åº·çŠ¶æ€ã€‚*\n\n## 6. æž¶æž„è§†è§’ï¼šå¿ƒè·³æœºåˆ¶çš„è®¾è®¡å“²å­¦\n\nå¿ƒè·³æœºåˆ¶ä¸ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯ç»†èŠ‚ï¼Œæ›´æ˜¯ä¸€ç§æž¶æž„è®¾è®¡çš„ç¼©å½±ã€‚å®ƒä½“çŽ°äº†è½¯ä»¶å·¥ç¨‹ä¸­çš„å‡ ä¸ªæ ¸å¿ƒåŽŸåˆ™ï¼š\n\n### 6.1 å¥å£®æ€§ä¸Žå†—ä½™\n\nå¿ƒè·³æœºåˆ¶é€šè¿‡å†—ä½™çš„æ¶ˆæ¯äº¤æ¢ï¼Œæ¢å–äº†è¿žæŽ¥çš„å¥å£®æ€§ã€‚è¿™è®©æˆ‘æƒ³èµ·ã€Šé“å¾·ç»ã€‹ä¸­çš„â€œæ— ä¸ºè€Œæ²»â€â€”â€”é€šè¿‡æœ€å°çš„å¹²é¢„ï¼Œç»´æŒç³»ç»Ÿçš„ç¨³å®šã€‚\n\n### 6.2 åˆ†å±‚ä¸Žè§£è€¦\n\nå¿ƒè·³æœºåˆ¶é€šå¸¸ç‹¬ç«‹äºŽä¸šåŠ¡é€»è¾‘ï¼Œè¿è¡Œåœ¨åè®®å±‚æˆ–åº”ç”¨å±‚çš„å•ç‹¬æ¨¡å—ä¸­ã€‚è¿™ç§åˆ†å±‚è®¾è®¡é™ä½Žäº†è€¦åˆåº¦ï¼Œä¾¿äºŽç»´æŠ¤å’Œæ‰©å±•ã€‚\n\n### 6.3 åé¦ˆä¸Žè‡ªé€‚åº”\n\nå¿ƒè·³æœºåˆ¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåé¦ˆç³»ç»Ÿï¼Œé€šè¿‡æ£€æµ‹è¿žæŽ¥çŠ¶æ€åŠ¨æ€è°ƒæ•´è¡Œä¸ºã€‚è¿™ç§è‡ªé€‚åº”èƒ½åŠ›åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å°¤ä¸ºé‡è¦ï¼Œç±»ä¼¼äºŽç”Ÿç‰©å­¦ä¸­çš„â€œè´Ÿåé¦ˆè°ƒèŠ‚â€ã€‚\n\n> â€œå¥½çš„è®¾è®¡å¦‚æµæ°´ï¼Œæ— å½¢å´æœ‰åŠ›ã€‚â€  \n> â€”â€” çµæ„ŸæºäºŽã€Šåº„å­Â·é€é¥æ¸¸ã€‹\n\nä»Žå“²å­¦å±‚é¢çœ‹ï¼Œå¿ƒè·³æœºåˆ¶æ˜¯å¯¹â€œè¿žæŽ¥â€çš„æ·±åˆ»æ€è€ƒã€‚è¿žæŽ¥ä¸ä»…æ˜¯æŠ€æœ¯ä¸Šçš„æ¡æ‰‹ï¼Œæ›´æ˜¯äººä¸Žäººã€ç³»ç»Ÿä¸Žç³»ç»Ÿä¹‹é—´çš„çº½å¸¦ã€‚å¿ƒè·³æœºåˆ¶è®©æˆ‘ä»¬æ„è¯†åˆ°ï¼Œä»»ä½•å…³ç³»çš„ç»´ç³»éƒ½éœ€è¦æŒç»­çš„æ²Ÿé€šä¸Žç¡®è®¤ã€‚ðŸ’¬\n\n*Tips: åœ¨è®¾è®¡å¿ƒè·³æœºåˆ¶æ—¶ï¼Œå§‹ç»ˆä»Žç”¨æˆ·ä½“éªŒå‡ºå‘ï¼Œæ€è€ƒå¦‚ä½•åœ¨æŠ€æœ¯å’Œäººæ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚*\n\n## 7. å¸¸è§é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ\n\nä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§é—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ å°‘èµ°å¼¯è·¯ï¼š\n\n| é—®é¢˜                              | åŽŸå› åˆ†æž                                              | è§£å†³æ–¹æ¡ˆ                                              |\n|-----------------------------------|------------------------------------------------------|------------------------------------------------------|\n| å¿ƒè·³æ¶ˆæ¯ä¸¢å¤±                      | ç½‘ç»œæŠ–åŠ¨æˆ–æœåŠ¡å™¨å¤„ç†å»¶è¿Ÿ                              | å¢žåŠ é‡è¯•æœºåˆ¶ï¼Œç¼©çŸ­å¿ƒè·³é—´éš”                           |\n| å®¢æˆ·ç«¯é¢‘ç¹é‡è¿ž                    | è¶…æ—¶æ—¶é—´è®¾ç½®è¿‡çŸ­æˆ–ç½‘ç»œä¸ç¨³å®š                          | å»¶é•¿è¶…æ—¶æ—¶é—´ï¼Œæ·»åŠ æŒ‡æ•°é€€é¿                           |\n| æœåŠ¡ç«¯åŽ‹åŠ›è¿‡å¤§                    | å¿ƒè·³é¢‘çŽ‡è¿‡é«˜æˆ–æ¶ˆæ¯è¿‡äºŽå¤æ‚                            | ä¼˜åŒ–æ¶ˆæ¯æ ¼å¼ï¼Œé™ä½Žå¿ƒè·³é¢‘çŽ‡                           |\n| æµè§ˆå™¨ä¼‘çœ å¯¼è‡´å¿ƒè·³ä¸­æ–­            | æµè§ˆå™¨æ ‡ç­¾é¡µè¿›å…¥åŽå°æˆ–è®¾å¤‡é”å±                        | æ£€æµ‹ `visibilitychange` äº‹ä»¶ï¼Œæš‚åœå¿ƒè·³               |\n\n*Tips: å¯¹äºŽå¤æ‚é—®é¢˜ï¼Œä½¿ç”¨æŠ“åŒ…å·¥å…·ï¼ˆå¦‚ Wiresharkï¼‰åˆ†æžå¿ƒè·³æ¶ˆæ¯çš„ä¼ è¾“æƒ…å†µï¼Œèƒ½å¿«é€Ÿå®šä½é—®é¢˜æ ¹æºã€‚*\n\n## 8. æœªæ¥å±•æœ›ï¼šWebSocket ä¸Žå¿ƒè·³çš„ä¸‹ä¸€ç«™\n\néšç€ Web æŠ€æœ¯çš„å‘å±•ï¼ŒWebSocket å’Œå¿ƒè·³æœºåˆ¶ä¹Ÿåœ¨ä¸æ–­æ¼”è¿›ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å€¼å¾—å…³æ³¨çš„è¶‹åŠ¿ï¼š\n- **WebTransport**ï¼šä½œä¸º WebSocket çš„ç»§ä»»è€…ï¼ŒWebTransport æä¾›äº†æ›´çµæ´»çš„ä¼ è¾“åè®®ï¼Œå¯èƒ½æ”¹å˜å¿ƒè·³æœºåˆ¶çš„è®¾è®¡æ–¹å¼ã€‚\n- **è¾¹ç¼˜è®¡ç®—**ï¼šè¾¹ç¼˜æœåŠ¡å™¨çš„æ™®åŠå°†é™ä½Žç½‘ç»œå»¶è¿Ÿï¼Œå¿ƒè·³æœºåˆ¶å¯èƒ½æ›´å¤šç”¨äºŽçŠ¶æ€åŒæ­¥è€Œéžä¿æ´»ã€‚\n- **AI é©±åŠ¨çš„ä¼˜åŒ–**ï¼šAI å¯ä»¥æ ¹æ®ç”¨æˆ·è¡Œä¸ºå’Œç½‘ç»œçŠ¶å†µåŠ¨æ€è°ƒæ•´å¿ƒè·³ç­–ç•¥ï¼Œæå‡æ•ˆçŽ‡ã€‚\n\n> â€œæŠ€æœ¯å¦‚æ²³æµï¼Œå¥”æµä¸æ¯ï¼›å¿ƒè·³å¦‚æ˜Ÿè¾°ï¼ŒæŒ‡å¼•æœªæ¥ã€‚â€  \n> â€”â€” çµæ„ŸæºäºŽæ³°æˆˆå°”ã€Šé£žé¸Ÿé›†ã€‹\n\n*Tips: æŒç»­å…³æ³¨ W3C å’Œ IETF çš„åè®®æ›´æ–°ï¼Œä¿æŒæŠ€æœ¯æ•æ„Ÿåº¦ã€‚*\n\n## 9. ç»“è¯­ï¼šè¿žæŽ¥çš„è¯—æ„ä¸Žæ°¸æ’\n\nWebSocket å¿ƒè·³æœºåˆ¶ï¼Œçœ‹ä¼¼ç®€å•çš„æŠ€æœ¯ç»†èŠ‚ï¼Œå´æ‰¿è½½ç€è¿žæŽ¥çš„ç”Ÿå‘½åŠ›ã€‚å®ƒè®©æˆ‘ä»¬æ„è¯†åˆ°ï¼Œå³ä½¿åœ¨å†°å†·çš„ä»£ç èƒŒåŽï¼Œä¹Ÿæœ‰ä¸€é¢—è·³åŠ¨çš„å¿ƒè„ï¼Œç»´ç³»ç€äººä¸Žäººã€ç³»ç»Ÿä¸Žç³»ç»Ÿä¹‹é—´çš„æ²Ÿé€šã€‚\n\næ­£å¦‚ã€Šå°çŽ‹å­ã€‹ä¸­æ‰€è¯´ï¼šâ€œçœŸæ­£é‡è¦çš„ä¸œè¥¿ï¼Œç”¨çœ¼ç›æ˜¯çœ‹ä¸åˆ°çš„ã€‚â€ å¿ƒè·³æœºåˆ¶è™½ç„¶éšå½¢ï¼Œå´æ— å¤„ä¸åœ¨ã€‚å®ƒä¸ä»…æ˜¯æŠ€æœ¯çš„å®žçŽ°ï¼Œæ›´æ˜¯è®¾è®¡çš„å“²å­¦ã€æ²Ÿé€šçš„è‰ºæœ¯ã€è¿žæŽ¥çš„è¯—æ„ã€‚\n\næ„¿ä½ åœ¨ WebSocket çš„ä¸–ç•Œä¸­ï¼Œæ‰¾åˆ°å±žäºŽè‡ªå·±çš„é‚£é¢—â€œå¿ƒè·³â€ï¼Œè®©æ¯ä¸€æ¬¡è¿žæŽ¥éƒ½å……æ»¡ç”Ÿå‘½åŠ›ã€‚ðŸŒŸ\n\n\n# WebSocket å¿ƒè·³æœºåˆ¶ï¼šä»ŽåŽŸç†åˆ°å®žè·µçš„æ·±åº¦ä¹‹æ—…\n\n> â€œå¿ƒè·³å¦‚è¯—ï¼Œè„‰åŠ¨ä¸æ¯ï¼›è¿žæŽ¥å¦‚å¼¦ï¼Œä½™éŸ³ç»•æ¢ã€‚â€  \n> â€”â€” çµæ„ŸæºäºŽã€Šè¯—ç»Â·å°é›…Â·é¹¿é¸£ã€‹\n\nåœ¨å®žæ—¶é€šä¿¡çš„æµ©ç€šæ˜Ÿç©ºä¸‹ï¼ŒWebSocket å®›å¦‚ä¸€é¢—ç’€ç’¨çš„æ˜Žæ˜Ÿï¼Œä¸ºå‰ç«¯å¼€å‘è€…å¼€å¯äº†åŒå‘é€šä¿¡çš„å¥‡å¦™å¤§é—¨ã€‚ç„¶è€Œï¼Œç½‘ç»œä¸–ç•Œå¹¶éžé£Žå¹³æµªé™ï¼Œè¿žæŽ¥çš„ç¨³å®šæ€§å¦‚åŒæµ·ä¸Šå­¤èˆŸï¼Œéšæ—¶å¯èƒ½è¢«é£Žæµªåžå™¬ã€‚è¿™æ—¶ï¼Œå¿ƒè·³æœºåˆ¶ä¾¿å¦‚åŒä¸€ç›æ˜Žç¯ï¼ŒæŒ‡å¼•ç€è¿žæŽ¥åœ¨é»‘æš—ä¸­ä¿æŒè„‰åŠ¨ã€‚ðŸ’“\n\næœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ WebSocket å¿ƒè·³æœºåˆ¶çš„åŽŸç†ä¸Žå®žè·µï¼Œä»Žåè®®åº•å±‚åˆ°æž¶æž„è®¾è®¡ï¼Œä»Žä»£ç å®žçŽ°åˆ°å“²å­¦æ€è€ƒï¼ŒåŠ›æ±‚ä¸ºä½ å‘ˆçŽ°ä¸€å¹…å…¨é¢è€Œæ·±åˆ»çš„ç”»å·ã€‚æ— è®ºä½ æ˜¯åˆæŽ¢å®žæ—¶é€šä¿¡çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯ä¹…ç»æ²™åœºçš„è€å°†ï¼Œè¿™ç¯‡æ–‡ç« éƒ½å°†ä¸ºä½ æä¾›å¯å‘ä¸ŽæŒ‡å¼•ã€‚è®©æˆ‘ä»¬ä¸€èµ·è¸ä¸Šè¿™åœºæŠ€æœ¯ä¸Žæ€ç»´çš„æ—…ç¨‹å§ï¼ðŸš€\n\n## ç›®å½•\n\n1. **WebSocket ç®€ä»‹ï¼šå®žæ—¶é€šä¿¡çš„åŸºçŸ³**  \n2. **ä¸ºä½•éœ€è¦å¿ƒè·³æœºåˆ¶ï¼Ÿç½‘ç»œä¸–ç•Œçš„â€œè„‰æâ€**  \n3. **å¿ƒè·³æœºåˆ¶çš„åŽŸç†ï¼šä»Ž TCP åˆ°åº”ç”¨å±‚**  \n4. **å¿ƒè·³æœºåˆ¶çš„è®¾è®¡ä¸Žå®žçŽ°**  \n   - æ¶ˆæ¯æ ¼å¼ä¸Žåè®®è®¾è®¡  \n   - å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ååŒ  \n   - ä»£ç ç¤ºä¾‹ï¼šå¿ƒè·³çš„â€œå¿ƒåŠ¨â€æ—¶åˆ»  \n5. **æœ€ä½³å®žè·µï¼šè®©å¿ƒè·³æ›´ä¼˜é›…**  \n6. **æž¶æž„è§†è§’ï¼šå¿ƒè·³æœºåˆ¶çš„è®¾è®¡å“²å­¦**  \n7. **å¸¸è§é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ**  \n8. **æœªæ¥å±•æœ›ï¼šWebSocket ä¸Žå¿ƒè·³çš„ä¸‹ä¸€ç«™**  \n9. **ç»“è¯­ï¼šè¿žæŽ¥çš„è¯—æ„ä¸Žæ°¸æ’**\n\n## 1. WebSocket ç®€ä»‹ï¼šå®žæ—¶é€šä¿¡çš„åŸºçŸ³\n\nWebSocketï¼Œè¯žç”ŸäºŽ HTML5 æ—¶ä»£ï¼Œæ˜¯ä¸€ç§åŸºäºŽ TCP çš„å…¨åŒå·¥é€šä¿¡åè®®ã€‚å®ƒæ‰“ç ´äº† HTTP è¯·æ±‚-å“åº”çš„å•å‘æŸç¼šï¼Œè®©å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯èƒ½å¤Ÿè‡ªç”±â€œå¯¹è¯â€ã€‚ðŸŒ ç›¸æ¯”ä¼ ç»Ÿçš„è½®è¯¢æˆ–é•¿è½®è¯¢ï¼ŒWebSocket ä¸ä»…é™ä½Žäº†å»¶è¿Ÿï¼Œè¿˜æžå¤§åœ°å‡å°‘äº†æœåŠ¡å™¨èµ„æºæ¶ˆè€—ã€‚\n\n> â€œWebSocket å°±åƒä¸€åœºæ°¸ä¸è½å¹•çš„å¯¹è¯ï¼Œå®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯åœ¨æ—¶é—´çš„é•¿æ²³ä¸­ä½Žè¯­ã€‚â€  \n> â€”â€” çµæ„ŸæºäºŽæ¢­ç½—ã€Šç“¦å°”ç™»æ¹–ã€‹\n\nWebSocket çš„æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼š\n- **å…¨åŒå·¥é€šä¿¡**ï¼šå®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯å¯åŒæ—¶å‘é€å’ŒæŽ¥æ”¶æ¶ˆæ¯ã€‚\n- **ä½Žå¼€é”€**ï¼šåŸºäºŽ TCP çš„å•ä¸€è¿žæŽ¥ï¼Œé¿å…äº† HTTP å¤´éƒ¨çš„å†—ä½™ã€‚\n- **å®žæ—¶æ€§**ï¼šæ¶ˆæ¯ä¼ é€’è¿‘ä¹Žçž¬æ—¶ï¼Œé€‚åˆèŠå¤©ã€æ¸¸æˆã€å®žæ—¶é€šçŸ¥ç­‰åœºæ™¯ã€‚\n\nç„¶è€Œï¼ŒWebSocket çš„è¿žæŽ¥å¹¶éžåšä¸å¯æ‘§ã€‚ç½‘ç»œæŠ–åŠ¨ã€æœåŠ¡å™¨é‡å¯ã€å®¢æˆ·ç«¯ä¼‘çœ ç­‰å› ç´ éƒ½å¯èƒ½å¯¼è‡´è¿žæŽ¥ä¸­æ–­ã€‚è¿™æ—¶å€™ï¼Œå¿ƒè·³æœºåˆ¶ä¾¿å¦‚åŒä¸€é¢—è·³åŠ¨çš„å¿ƒè„ï¼Œä¸ºè¿žæŽ¥æ³¨å…¥ç”Ÿå‘½åŠ›ã€‚ðŸ’—\n\n*Tips: WebSocket çš„å»ºç«‹ä¾èµ–äºŽ HTTP æ¡æ‰‹ï¼Œäº†è§£ `Upgrade` å¤´å’Œ `101 Switching Protocols` çŠ¶æ€ç æœ‰åŠ©äºŽè°ƒè¯•è¿žæŽ¥é—®é¢˜ã€‚*\n\n## 2. ä¸ºä½•éœ€è¦å¿ƒè·³æœºåˆ¶ï¼Ÿç½‘ç»œä¸–ç•Œçš„â€œè„‰æâ€\n\nåœ¨ç†æƒ³ä¸–ç•Œä¸­ï¼ŒWebSocket è¿žæŽ¥åº”è¯¥å¦‚ã€Šæ˜Ÿé™…ç©¿è¶Šã€‹ä¸­çš„é»‘æ´žèˆ¬ç¨³å®šæ°¸æ’ã€‚ç„¶è€Œï¼ŒçŽ°å®žç½‘ç»œçŽ¯å¢ƒå´æ›´åƒã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ä¸­çš„ç»´æ–¯ç‰¹æ´›å¤§é™†ï¼Œå……æ»¡äº†ä¸å¯é¢„æµ‹çš„å±æœºï¼š\n\n- **ç½‘ç»œä¸ç¨³å®š**ï¼šç§»åŠ¨è®¾å¤‡åˆ‡æ¢ Wi-Fi æˆ– 4G/5Gï¼Œå¯èƒ½å¯¼è‡´è¿žæŽ¥ä¸­æ–­ã€‚\n- **NAT è¶…æ—¶**ï¼šè®¸å¤šè·¯ç”±å™¨ä¼šå¯¹é•¿æ—¶é—´æœªé€šä¿¡çš„ TCP è¿žæŽ¥è¿›è¡Œè¶…æ—¶æ¸…ç†ã€‚\n- **æœåŠ¡å™¨ç­–ç•¥**ï¼šè´Ÿè½½å‡è¡¡å™¨å¯èƒ½å› æ£€æµ‹ä¸åˆ°æ´»è·ƒè¿žæŽ¥è€Œå…³é—­å®ƒã€‚\n- **å®¢æˆ·ç«¯ä¼‘çœ **ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µä¼‘çœ æˆ–è®¾å¤‡é”å±ä¼šæš‚åœ WebSocket æ´»åŠ¨ã€‚\n\nå¿ƒè·³æœºåˆ¶çš„æœ¬è´¨æ˜¯é€šè¿‡å®šæœŸå‘é€è½»é‡çº§æ¶ˆæ¯ï¼ˆé€šå¸¸ç§°ä¸ºâ€œPingâ€æˆ–â€œPongâ€ï¼‰ï¼Œæ£€æµ‹è¿žæŽ¥æ˜¯å¦ä¾ç„¶â€œæ´»ç€â€ã€‚å¦‚æžœæ²¡æœ‰å¿ƒè·³ï¼Œè¿žæŽ¥å¯èƒ½åœ¨æ— å£°ä¸­æ¶ˆäº¡ï¼Œå¦‚åŒèŽŽå£«æ¯”äºšç¬”ä¸‹çš„å“ˆå§†é›·ç‰¹ï¼Œâ€œç”Ÿå­˜è¿˜æ˜¯æ¯ç­ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚â€\n\nä¸‹è¡¨æ€»ç»“äº†å¿ƒè·³æœºåˆ¶è§£å†³çš„ä¸»è¦é—®é¢˜ï¼š\n\n| é—®é¢˜åœºæ™¯            | æè¿°                                                                 | å¿ƒè·³æœºåˆ¶çš„è§£å†³æ–¹æ¡ˆ                              |\n|---------------------|----------------------------------------------------------------------|-----------------------------------------------|\n| NAT è¶…æ—¶            | è·¯ç”±å™¨å› é•¿æ—¶é—´æ— æ•°æ®ä¼ è¾“å…³é—­è¿žæŽ¥                                     | å®šæœŸå‘é€å¿ƒè·³åŒ…ï¼Œä¿æŒè¿žæŽ¥æ´»è·ƒ                  |\n| æœåŠ¡å™¨è´Ÿè½½å‡è¡¡      | è´Ÿè½½å‡è¡¡å™¨è¯¯åˆ¤è¿žæŽ¥ä¸ºé—²ç½®å¹¶å…³é—­                                       | å¿ƒè·³æ¶ˆæ¯ä½œä¸ºæ´»è·ƒä¿¡å·ï¼Œé˜²æ­¢è¢«è¯¯å…³é—­            |\n| ç½‘ç»œåˆ‡æ¢            | å®¢æˆ·ç«¯ç½‘ç»œåˆ‡æ¢å¯¼è‡´è¿žæŽ¥ä¸­æ–­                                           | å¿«é€Ÿæ£€æµ‹æ–­å¼€å¹¶è§¦å‘é‡è¿ž                        |\n| å®¢æˆ·ç«¯ä¼‘çœ           | æµè§ˆå™¨æˆ–è®¾å¤‡ä¼‘çœ å¯¼è‡´è¿žæŽ¥æš‚åœ                                         | æ£€æµ‹ä¼‘çœ åŽçš„è¿žæŽ¥çŠ¶æ€ï¼Œå¿…è¦æ—¶é‡æ–°å»ºç«‹è¿žæŽ¥      |\n\n*Tips: å¿ƒè·³æœºåˆ¶ä¸ä»…ä»…æ˜¯â€œä¿æ´»â€ï¼Œè¿˜å¯ä»¥ç”¨æ¥æ£€æµ‹ç½‘ç»œå»¶è¿Ÿï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚*\n\n## 3. å¿ƒè·³æœºåˆ¶çš„åŽŸç†ï¼šä»Ž TCP åˆ°åº”ç”¨å±‚\n\nè¦ç†è§£å¿ƒè·³æœºåˆ¶ï¼Œæˆ‘ä»¬éœ€è¦ä»Ž TCP åè®®çš„åº•å±‚å¼€å§‹ï¼Œå±‚å±‚é€’è¿›ï¼Œç›´è¾¾åº”ç”¨å±‚ã€‚è¿™å°±åƒæŽ¢å¯»ä¸€é¦–äº¤å“ä¹çš„åˆ›ä½œï¼Œä»Žä¹å™¨çš„æž„é€ åˆ°ä¹è°±çš„ç¼–æŽ’ã€‚\n\n### 3.1 TCP Keepaliveï¼šåº•å±‚çš„â€œå¿ƒè·³â€\n\nTCP åè®®æœ¬èº«æä¾›äº†ä¸€ç§ç§°ä¸º **TCP Keepalive** çš„æœºåˆ¶ï¼Œé€šè¿‡å‘é€ç©ºçš„ TCP æ•°æ®åŒ…æ¥æ£€æµ‹è¿žæŽ¥æ˜¯å¦å­˜æ´»ã€‚ç„¶è€Œï¼ŒTCP Keepalive æœ‰å‡ ä¸ªå±€é™ï¼š\n- **é…ç½®å¤æ‚**ï¼šéœ€è¦æ“ä½œç³»ç»Ÿæˆ–æœåŠ¡å™¨å±‚é¢å¯ç”¨ï¼Œä¸”å‚æ•°ï¼ˆå¦‚é—´éš”æ—¶é—´ï¼‰ä¸æ˜“è°ƒæ•´ã€‚\n- **èµ„æºå¼€é”€**ï¼šå¯¹å¤§é‡è¿žæŽ¥çš„åœºæ™¯ï¼ŒKeepalive æ•°æ®åŒ…å¯èƒ½å¼•å‘æ€§èƒ½é—®é¢˜ã€‚\n- **ä¸å¯å®šåˆ¶**ï¼šæ— æ³•æºå¸¦åº”ç”¨å±‚æ•°æ®ï¼Œéš¾ä»¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚\n\nå› æ­¤ï¼ŒWebSocket å¿ƒè·³æœºåˆ¶é€šå¸¸åœ¨åº”ç”¨å±‚å®žçŽ°ï¼ŒåŸºäºŽ WebSocket åè®®çš„ Ping/Pong å¸§æˆ–è‡ªå®šä¹‰æ¶ˆæ¯ã€‚\n\n### 3.2 WebSocket çš„ Ping/Pong å¸§\n\nWebSocket åè®®å†…ç½®äº† Ping å’Œ Pong æŽ§åˆ¶å¸§ï¼Œä¸“é—¨ç”¨äºŽå¿ƒè·³æ£€æµ‹ï¼š\n- **Ping å¸§**ï¼šç”±ä¸€æ–¹å‘é€ï¼Œè¯·æ±‚å¯¹æ–¹å›žåº”ã€‚\n- **Pong å¸§**ï¼šä½œä¸ºå¯¹ Ping çš„å“åº”ï¼Œè¡¨æ˜Žè¿žæŽ¥æ´»è·ƒã€‚\n\nè¿™äº›å¸§éžå¸¸è½»é‡ï¼Œé€šå¸¸åªåŒ…å«å‡ å­—èŠ‚çš„æ•°æ®ï¼Œä¸”ç”± WebSocket åè®®æ ˆè‡ªåŠ¨å¤„ç†ã€‚ç„¶è€Œï¼Œæµè§ˆå™¨å¯¹ Ping/Pong å¸§çš„æ”¯æŒæœ‰é™ï¼Œè®¸å¤šå¼€å‘è€…æ›´å€¾å‘äºŽä½¿ç”¨è‡ªå®šä¹‰çš„å¿ƒè·³æ¶ˆæ¯ã€‚\n\n### 3.3 åº”ç”¨å±‚å¿ƒè·³ï¼šçµæ´»ä¸ŽæŽŒæŽ§\n\nåº”ç”¨å±‚å¿ƒè·³é€šè¿‡å‘é€è‡ªå®šä¹‰ JSON æˆ–æ–‡æœ¬æ¶ˆæ¯å®žçŽ°ï¼Œæ ¼å¼çµæ´»ï¼Œå¯æºå¸¦ä¸šåŠ¡æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªèŠå¤©åº”ç”¨çš„å®¢æˆ·ç«¯å¯èƒ½æ¯ 30 ç§’å‘é€å¦‚ä¸‹æ¶ˆæ¯ï¼š\n\n```json\n{\n  \"type\": \"ping\",\n  \"timestamp\": 1698765432\n}\n```\n\næœåŠ¡ç«¯æ”¶åˆ°åŽå›žåº”ï¼š\n\n```json\n{\n  \"type\": \"pong\",\n  \"timestamp\": 1698765432\n}\n```\n\nè¿™ç§æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºŽï¼š\n- **å¯æ‰©å±•æ€§**ï¼šæ¶ˆæ¯å¯ä»¥æºå¸¦çŠ¶æ€ã€å»¶è¿Ÿä¿¡æ¯ç­‰ã€‚\n- **æ˜“è°ƒè¯•**ï¼šå¼€å‘è€…å¯ç›´æŽ¥æŸ¥çœ‹æ¶ˆæ¯å†…å®¹ã€‚\n- **è·¨å¹³å°å…¼å®¹**ï¼šæ— éœ€ä¾èµ–åº•å±‚çš„ Ping/Pong å¸§ã€‚\n\n*Tips: è®¾è®¡å¿ƒè·³æ¶ˆæ¯æ—¶ï¼Œå°½é‡ä¿æŒè½»é‡ï¼Œé¿å…åŒ…å«è¿‡å¤šä¸šåŠ¡æ•°æ®ï¼Œä»¥å‡å°‘å¸¦å®½æ¶ˆè€—ã€‚*\n\n## 4. å¿ƒè·³æœºåˆ¶çš„è®¾è®¡ä¸Žå®žçŽ°\n\nå¿ƒè·³æœºåˆ¶çš„è®¾è®¡éœ€è¦å¹³è¡¡æ€§èƒ½ã€ç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒã€‚ä»¥ä¸‹ä»Žåè®®è®¾è®¡ã€ååŒæœºåˆ¶åˆ°ä»£ç å®žçŽ°ï¼Œé€æ­¥å±•å¼€ã€‚\n\n### 4.1 æ¶ˆæ¯æ ¼å¼ä¸Žåè®®è®¾è®¡\n\nä¸€ä¸ªå¥½çš„å¿ƒè·³åè®®åº”è¯¥ç®€æ´ã€æ˜Žç¡®ä¸”æ˜“äºŽæ‰©å±•ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæŽ¨èçš„ JSON æ ¼å¼ï¼š\n\n```json\n{\n  \"type\": \"heartbeat\",\n  \"id\": \"unique-message-id\",\n  \"timestamp\": 1698765432,\n  \"data\": {} // å¯é€‰ï¼Œæ‰©å±•å­—æ®µ\n}\n```\n\n- **type**ï¼šæ ‡è¯†æ¶ˆæ¯ç±»åž‹ï¼ŒåŒºåˆ†å¿ƒè·³ä¸Žä¸šåŠ¡æ¶ˆæ¯ã€‚\n- **id**ï¼šå”¯ä¸€æ ‡è¯†ï¼Œç”¨äºŽåŒ¹é…è¯·æ±‚ä¸Žå“åº”ã€‚\n- **timestamp**ï¼šè®°å½•å‘é€æ—¶é—´ï¼Œä¾¿äºŽå»¶è¿Ÿè®¡ç®—ã€‚\n- **data**ï¼šé¢„ç•™å­—æ®µï¼Œç”¨äºŽæœªæ¥æ‰©å±•ã€‚\n\n### 4.2 å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ååŒ\n\nå¿ƒè·³æœºåˆ¶éœ€è¦å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ç´§å¯†åä½œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸åž‹çš„å·¥ä½œæµç¨‹ï¼š\n\n1. **å®¢æˆ·ç«¯**ï¼šæ¯éš”å›ºå®šæ—¶é—´ï¼ˆå¦‚ 30 ç§’ï¼‰å‘é€å¿ƒè·³æ¶ˆæ¯ã€‚\n2. **æœåŠ¡ç«¯**ï¼šæ”¶åˆ°å¿ƒè·³åŽç«‹å³å“åº”ï¼Œæˆ–å®šæœŸä¸»åŠ¨å‘é€å¿ƒè·³ã€‚\n3. **è¶…æ—¶æ£€æµ‹**ï¼šä»»ä¸€æ–¹è‹¥åœ¨æŒ‡å®šæ—¶é—´å†…æœªæ”¶åˆ°å¿ƒè·³ï¼Œåˆ™è®¤ä¸ºè¿žæŽ¥æ–­å¼€ï¼Œè§¦å‘é‡è¿žã€‚\n\nä¸‹è¡¨æ€»ç»“äº†å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯çš„èŒè´£ï¼š\n\n| è§’è‰²       | èŒè´£                                                                 |\n|------------|----------------------------------------------------------------------|\n| å®¢æˆ·ç«¯     | å®šæœŸå‘é€å¿ƒè·³ã€ç›‘å¬æœåŠ¡ç«¯å“åº”ã€æ£€æµ‹è¶…æ—¶å¹¶è§¦å‘é‡è¿ž                     |\n| æœåŠ¡ç«¯     | å“åº”å®¢æˆ·ç«¯å¿ƒè·³ã€ä¸»åŠ¨å‘é€å¿ƒè·³ï¼ˆå¯é€‰ï¼‰ã€æ¸…ç†è¶…æ—¶è¿žæŽ¥                   |\n\n### 4.3 ä»£ç ç¤ºä¾‹ï¼šå¿ƒè·³çš„â€œå¿ƒåŠ¨â€æ—¶åˆ»\n\nè¯·å‚è€ƒæœ¬æ–‡æä¾›çš„ `websocket-heartbeat.js` ç¤ºä¾‹ä»£ç ï¼ˆè§ä¸Šæ–‡ï¼‰ã€‚\n\n*Tips: åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­ï¼Œå»ºè®®ä¸ºé‡è¿žæœºåˆ¶æ·»åŠ æŒ‡æ•°é€€é¿ç®—æ³•ï¼Œé¿å…çŸ­æ—¶é—´å†…é¢‘ç¹é‡è¿žå¯¼è‡´æœåŠ¡å™¨åŽ‹åŠ›è¿‡å¤§ã€‚*\n\n## 5. æœ€ä½³å®žè·µï¼šè®©å¿ƒè·³æ›´ä¼˜é›…\n\nä»¥ä¸‹æ˜¯ä¸€äº›ç»è¿‡å®žè·µéªŒè¯çš„å¿ƒè·³æœºåˆ¶æœ€ä½³å®žè·µï¼Œå¸®åŠ©ä½ æ‰“é€ æ›´å¥å£®çš„ WebSocket åº”ç”¨ï¼š\n\n### 5.1 åŠ¨æ€è°ƒæ•´å¿ƒè·³é—´éš”\n\nå›ºå®šå¿ƒè·³é—´éš”å¯èƒ½æ— æ³•é€‚åº”æ‰€æœ‰åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œç§»åŠ¨ç½‘ç»œå¯èƒ½éœ€è¦æ›´çŸ­çš„é—´éš”ï¼Œè€Œç¨³å®šç½‘ç»œå¯ä»¥é€‚å½“å»¶é•¿ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åŠ¨æ€è°ƒæ•´ï¼š\n\n- **æ ¹æ®ç½‘ç»œå»¶è¿Ÿ**ï¼šå®¢æˆ·ç«¯è®¡ç®—æœ€è¿‘å‡ æ¬¡å¿ƒè·³çš„å¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰ï¼ŒåŠ¨æ€è°ƒæ•´é—´éš”ã€‚\n- **æ ¹æ®è®¾å¤‡çŠ¶æ€**ï¼šæ£€æµ‹è®¾å¤‡æ˜¯å¦ä¼‘çœ ï¼Œæš‚åœå¿ƒè·³ä»¥èŠ‚çœç”µé‡ã€‚\n\n*Tips: ä½¿ç”¨æŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼ˆEMAï¼‰ç®—æ³•è®¡ç®— RTTï¼Œèƒ½æ›´å¹³æ»‘åœ°è°ƒæ•´å¿ƒè·³é—´éš”ã€‚*\n\n### 5.2 å¿ƒè·³ä¸Žä¸šåŠ¡æ¶ˆæ¯å¤ç”¨\n\nä¸ºäº†å‡å°‘å¸¦å®½å ç”¨ï¼Œå¯ä»¥å°†å¿ƒè·³æ¶ˆæ¯ä¸Žä¸šåŠ¡æ¶ˆæ¯ç»“åˆã€‚ä¾‹å¦‚ï¼Œåœ¨èŠå¤©åº”ç”¨ä¸­ï¼Œè‹¥ç”¨æˆ·æ­£åœ¨å‘é€æ¶ˆæ¯ï¼Œåˆ™æ— éœ€é¢å¤–å‘é€å¿ƒè·³ã€‚\n\n*Tips: ç¡®ä¿ä¸šåŠ¡æ¶ˆæ¯ä¹Ÿèƒ½è§¦å‘è¶…æ—¶é‡ç½®é€»è¾‘ï¼Œé¿å…è¯¯åˆ¤è¿žæŽ¥çŠ¶æ€ã€‚*\n\n### 5.3 æœåŠ¡ç«¯ä¸»åŠ¨å¿ƒè·³\n\nåœ¨æŸäº›åœºæ™¯ä¸‹ï¼ŒæœåŠ¡ç«¯ä¸»åŠ¨å‘é€å¿ƒè·³å¯ä»¥å‡è½»å®¢æˆ·ç«¯è´Ÿæ‹…ã€‚ä¾‹å¦‚ï¼ŒæœåŠ¡ç«¯æ¯åˆ†é’Ÿå¹¿æ’­ä¸€æ¬¡çŠ¶æ€æ›´æ–°ï¼Œå®¢æˆ·ç«¯åªéœ€å“åº”å³å¯ã€‚\n\n*Tips: æœåŠ¡ç«¯å¿ƒè·³é€‚åˆé«˜å¹¶å‘åœºæ™¯ï¼Œä½†éœ€æ³¨æ„å¹¿æ’­é¢‘çŽ‡ï¼Œé¿å…å¼•å‘æµé‡é«˜å³°ã€‚*\n\n### 5.4 ä¼˜é›…çš„é‡è¿žæœºåˆ¶\n\né‡è¿žæœºåˆ¶éœ€è¦å…¼é¡¾ç”¨æˆ·ä½“éªŒå’ŒæœåŠ¡å™¨æ€§èƒ½ã€‚æŽ¨èçš„åšæ³•åŒ…æ‹¬ï¼š\n- **æŒ‡æ•°é€€é¿**ï¼šé‡è¿žé—´éš”éšå¤±è´¥æ¬¡æ•°é€’å¢žï¼ˆå¦‚ 1sã€2sã€4sï¼‰ã€‚\n- **éšæœºæŠ–åŠ¨**ï¼šä¸ºé‡è¿žæ—¶é—´æ·»åŠ éšæœºåç§»ï¼Œé˜²æ­¢å®¢æˆ·ç«¯åŒæ—¶é‡è¿žã€‚\n- **çŠ¶æ€åŒæ­¥**ï¼šé‡è¿žåŽæ¢å¤ä¼šè¯çŠ¶æ€ï¼ˆå¦‚èŠå¤©åŽ†å²ã€æ¸¸æˆè¿›åº¦ï¼‰ã€‚\n\n*Tips: ä½¿ç”¨ `setTimeout` è€Œéž `setInterval` å®žçŽ°é‡è¿žï¼Œé¿å…é‡è¿žé€»è¾‘å †ç§¯ã€‚*\n\n### 5.5 æ—¥å¿—ä¸Žç›‘æŽ§\n\nå¿ƒè·³æœºåˆ¶çš„è¿è¡ŒçŠ¶æ€éœ€è¦æ¸…æ™°çš„æ—¥å¿—æ”¯æŒï¼Œä»¥ä¾¿è°ƒè¯•å’Œç›‘æŽ§ã€‚å»ºè®®è®°å½•ï¼š\n- å¿ƒè·³å‘é€ä¸ŽæŽ¥æ”¶æ—¶é—´ã€‚\n- è¿žæŽ¥æ–­å¼€ä¸Žé‡è¿žäº‹ä»¶ã€‚\n- ç½‘ç»œå»¶è¿Ÿç»Ÿè®¡ã€‚\n\n*Tips: å°†å¿ƒè·³æ—¥å¿—ä¸Ž APM å·¥å…·ï¼ˆå¦‚ Sentryï¼‰é›†æˆï¼Œå®žæ—¶ç›‘æŽ§è¿žæŽ¥å¥åº·çŠ¶æ€ã€‚*\n\n## 6. æž¶æž„è§†è§’ï¼šå¿ƒè·³æœºåˆ¶çš„è®¾è®¡å“²å­¦\n\nå¿ƒè·³æœºåˆ¶ä¸ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯ç»†èŠ‚ï¼Œæ›´æ˜¯ä¸€ç§æž¶æž„è®¾è®¡çš„ç¼©å½±ã€‚å®ƒä½“çŽ°äº†è½¯ä»¶å·¥ç¨‹ä¸­çš„å‡ ä¸ªæ ¸å¿ƒåŽŸåˆ™ï¼š\n\n### 6.1 å¥å£®æ€§ä¸Žå†—ä½™\n\nå¿ƒè·³æœºåˆ¶é€šè¿‡å†—ä½™çš„æ¶ˆæ¯äº¤æ¢ï¼Œæ¢å–äº†è¿žæŽ¥çš„å¥å£®æ€§ã€‚è¿™è®©æˆ‘æƒ³èµ·ã€Šé“å¾·ç»ã€‹ä¸­çš„â€œæ— ä¸ºè€Œæ²»â€â€”â€”é€šè¿‡æœ€å°çš„å¹²é¢„ï¼Œç»´æŒç³»ç»Ÿçš„ç¨³å®šã€‚\n\n### 6.2 åˆ†å±‚ä¸Žè§£è€¦\n\nå¿ƒè·³æœºåˆ¶é€šå¸¸ç‹¬ç«‹äºŽä¸šåŠ¡é€»è¾‘ï¼Œè¿è¡Œåœ¨åè®®å±‚æˆ–åº”ç”¨å±‚çš„å•ç‹¬æ¨¡å—ä¸­ã€‚è¿™ç§åˆ†å±‚è®¾è®¡é™ä½Žäº†è€¦åˆåº¦ï¼Œä¾¿äºŽç»´æŠ¤å’Œæ‰©å±•ã€‚\n\n### 6.3 åé¦ˆä¸Žè‡ªé€‚åº”\n\nå¿ƒè·³æœºåˆ¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåé¦ˆç³»ç»Ÿï¼Œé€šè¿‡æ£€æµ‹è¿žæŽ¥çŠ¶æ€åŠ¨æ€è°ƒæ•´è¡Œä¸ºã€‚è¿™ç§è‡ªé€‚åº”èƒ½åŠ›åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å°¤ä¸ºé‡è¦ï¼Œç±»ä¼¼äºŽç”Ÿç‰©å­¦ä¸­çš„â€œè´Ÿåé¦ˆè°ƒèŠ‚â€ã€‚\n\n> â€œå¥½çš„è®¾è®¡å¦‚æµæ°´ï¼Œæ— å½¢å´æœ‰åŠ›ã€‚â€  \n> â€”â€” çµæ„ŸæºäºŽã€Šåº„å­Â·é€é¥æ¸¸ã€‹\n\nä»Žå“²å­¦å±‚é¢çœ‹ï¼Œå¿ƒè·³æœºåˆ¶æ˜¯å¯¹â€œè¿žæŽ¥â€çš„æ·±åˆ»æ€è€ƒã€‚è¿žæŽ¥ä¸ä»…æ˜¯æŠ€æœ¯ä¸Šçš„æ¡æ‰‹ï¼Œæ›´æ˜¯äººä¸Žäººã€ç³»ç»Ÿä¸Žç³»ç»Ÿä¹‹é—´çš„çº½å¸¦ã€‚å¿ƒè·³æœºåˆ¶è®©æˆ‘ä»¬æ„è¯†åˆ°ï¼Œä»»ä½•å…³ç³»çš„ç»´ç³»éƒ½éœ€è¦æŒç»­çš„æ²Ÿé€šä¸Žç¡®è®¤ã€‚ðŸ’¬\n\n*Tips: åœ¨è®¾è®¡å¿ƒè·³æœºåˆ¶æ—¶ï¼Œå§‹ç»ˆä»Žç”¨æˆ·ä½“éªŒå‡ºå‘ï¼Œæ€è€ƒå¦‚ä½•åœ¨æŠ€æœ¯å’Œäººæ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚*\n\n## 7. å¸¸è§é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ\n\nä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§é—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ å°‘èµ°å¼¯è·¯ï¼š\n\n| é—®é¢˜                              | åŽŸå› åˆ†æž                                              | è§£å†³æ–¹æ¡ˆ                                              |\n|-----------------------------------|------------------------------------------------------|------------------------------------------------------|\n| å¿ƒè·³æ¶ˆæ¯ä¸¢å¤±                      | ç½‘ç»œæŠ–åŠ¨æˆ–æœåŠ¡å™¨å¤„ç†å»¶è¿Ÿ                              | å¢žåŠ é‡è¯•æœºåˆ¶ï¼Œç¼©çŸ­å¿ƒè·³é—´éš”                           |\n| å®¢æˆ·ç«¯é¢‘ç¹é‡è¿ž                    | è¶…æ—¶æ—¶é—´è®¾ç½®è¿‡çŸ­æˆ–ç½‘ç»œä¸ç¨³å®š                          | å»¶é•¿è¶…æ—¶æ—¶é—´ï¼Œæ·»åŠ æŒ‡æ•°é€€é¿                           |\n| æœåŠ¡ç«¯åŽ‹åŠ›è¿‡å¤§                    | å¿ƒè·³é¢‘çŽ‡è¿‡é«˜æˆ–æ¶ˆæ¯è¿‡äºŽå¤æ‚                            | ä¼˜åŒ–æ¶ˆæ¯æ ¼å¼ï¼Œé™ä½Žå¿ƒè·³é¢‘çŽ‡                           |\n| æµè§ˆå™¨ä¼‘çœ å¯¼è‡´å¿ƒè·³ä¸­æ–­            | æµè§ˆå™¨æ ‡ç­¾é¡µè¿›å…¥åŽå°æˆ–è®¾å¤‡é”å±                        | æ£€æµ‹ `visibilitychange` äº‹ä»¶ï¼Œæš‚åœå¿ƒè·³               |\n\n*Tips: å¯¹äºŽå¤æ‚é—®é¢˜ï¼Œä½¿ç”¨æŠ“åŒ…å·¥å…·ï¼ˆå¦‚ Wiresharkï¼‰åˆ†æžå¿ƒè·³æ¶ˆæ¯çš„ä¼ è¾“æƒ…å†µï¼Œèƒ½å¿«é€Ÿå®šä½é—®é¢˜æ ¹æºã€‚*\n\n## 8. æœªæ¥å±•æœ›ï¼šWebSocket ä¸Žå¿ƒè·³çš„ä¸‹ä¸€ç«™\n\néšç€ Web æŠ€æœ¯çš„å‘å±•ï¼ŒWebSocket å’Œå¿ƒè·³æœºåˆ¶ä¹Ÿåœ¨ä¸æ–­æ¼”è¿›ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å€¼å¾—å…³æ³¨çš„è¶‹åŠ¿ï¼š\n- **WebTransportmdb**ï¼šä½œä¸º WebSocket çš„ç»§ä»»è€…ï¼ŒWebTransport æä¾›äº†æ›´çµæ´»çš„ä¼ è¾“åè®®ï¼Œå¯èƒ½æ”¹å˜å¿ƒè·³æœºåˆ¶çš„è®¾è®¡æ–¹å¼ã€‚\n- **è¾¹ç¼˜è®¡ç®—**ï¼šè¾¹ç¼˜æœåŠ¡å™¨çš„æ™®åŠå°†é™ä½Žç½‘ç»œå»¶è¿Ÿï¼Œå¿ƒè·³æœºåˆ¶å¯èƒ½æ›´å¤šç”¨äºŽçŠ¶æ€åŒæ­¥è€Œéžä¿æ´»ã€‚\n- **AI é©±åŠ¨çš„ä¼˜åŒ–**ï¼šAI å¯ä»¥æ ¹æ®ç”¨æˆ·è¡Œä¸ºå’Œç½‘ç»œçŠ¶å†µåŠ¨æ€è°ƒæ•´å¿ƒè·³ç­–ç•¥ï¼Œæå‡æ•ˆçŽ‡ã€‚\n\n> â€œæŠ€æœ¯å¦‚æ²³æµï¼Œå¥”æµä¸æ¯ï¼›å¿ƒè·³å¦‚æ˜Ÿè¾°ï¼ŒæŒ‡å¼•æœªæ¥ã€‚â€  \n> â€”â€” çµæ„ŸæºäºŽæ³°æˆˆå°”ã€Šé£žé¸Ÿé›†ã€‹\n\n*Tips: æŒç»­å…³æ³¨ W3C å’Œ IETF çš„åè®®æ›´æ–°ï¼Œä¿æŒæŠ€æœ¯æ•æ„Ÿåº¦ã€‚*\n\n## 9. ç»“è¯­ï¼šè¿žæŽ¥çš„è¯—æ„ä¸Žæ°¸æ’\n\nWebSocket å¿ƒè·³æœºåˆ¶ï¼Œçœ‹ä¼¼ç®€å•çš„æŠ€æœ¯ç»†èŠ‚ï¼Œå´æ‰¿è½½ç€è¿žæŽ¥çš„ç”Ÿå‘½åŠ›ã€‚å®ƒè®©æˆ‘ä»¬æ„è¯†åˆ°ï¼Œå³ä½¿åœ¨å†°å†·çš„ä»£ç èƒŒåŽï¼Œä¹Ÿæœ‰ä¸€é¢—è·³åŠ¨çš„å¿ƒè„ï¼Œç»´ç³»ç€äººä¸Žäººã€ç³»ç»Ÿä¸Žç³»ç»Ÿä¹‹é—´çš„æ²Ÿé€šã€‚\n\næ­£å¦‚ã€Šå°çŽ‹å­ã€‹ä¸­æ‰€è¯´ï¼šâ€œçœŸæ­£é‡è¦çš„ä¸œè¥¿ï¼Œç”¨çœ¼ç›æ˜¯çœ‹ä¸åˆ°çš„ã€‚â€ å¿ƒè·³æœºåˆ¶è™½ç„¶éšå½¢ï¼Œå´æ— å¤„ä¸åœ¨ã€‚å®ƒä¸ä»…æ˜¯æŠ€æœ¯çš„å®žçŽ°ï¼Œæ›´æ˜¯è®¾è®¡çš„å“²å­¦ã€æ²Ÿé€šçš„è‰ºæœ¯ã€è¿žæŽ¥çš„è¯—æ„ã€‚\n\næ„¿ä½ åœ¨ WebSocket çš„ä¸–ç•Œä¸­ï¼Œæ‰¾åˆ°å±žäºŽè‡ªå·±çš„é‚£é¢—â€œå¿ƒè·³â€ï¼Œè®©æ¯ä¸€æ¬¡è¿žæŽ¥éƒ½å……æ»¡ç”Ÿå‘½åŠ›ã€‚ðŸŒŸ\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var i=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var b=(l,n)=>()=>(n||l((n={exports:{}}).exports,n),n.exports),u=(l,n)=>{for(var r in n)i(l,r,{get:n[r],enumerable:!0})},h=(l,n,r,d)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of y(n))!g.call(l,c)&&c!==r&&i(l,c,{get:()=>n[c],enumerable:!(d=E(n,c))||d.enumerable});return l};var B=(l,n,r)=>(r=l!=null?p(F(l)):{},h(n||!l||!l.__esModule?i(r,\"default\",{value:l,enumerable:!0}):r,l)),m=l=>h(i({},\"__esModule\",{value:!0}),l);var t=b((S,s)=>{s.exports=_jsx_runtime});var T={};u(T,{default:()=>o,frontmatter:()=>k});var e=B(t()),k={type:\"Post\",title:\"WebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\uFF1A\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u7684\\u6DF1\\u5EA6\\u4E4B\\u65C5\",date:\"2024-03-04\",description:\"\\u6DF1\\u5165\\u5256\\u6790 WebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\u3001\\u5B9E\\u73B0\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u7ED3\\u5408\\u4EE3\\u7801\\u793A\\u4F8B\\u3001\\u67B6\\u6784\\u8BBE\\u8BA1\\u4E0E\\u54F2\\u5B66\\u601D\\u8003\\uFF0C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u63D0\\u4F9B\\u5168\\u9762\\u6307\\u5BFC\\u3002\",keywords:\"WebSocket, \\u5FC3\\u8DF3\\u673A\\u5236, \\u5B9E\\u65F6\\u901A\\u4FE1, \\u524D\\u7AEF\\u5F00\\u53D1, \\u7F51\\u7EDC\\u534F\\u8BAE, \\u67B6\\u6784\\u8BBE\\u8BA1, \\u6700\\u4F73\\u5B9E\\u8DF5\",author:\"\\u6653\\u9F99\",image:\"/images/hero/websocket-heartbeat.jpg\",tags:[\"WebSocket\",\"\\u5B9E\\u65F6\\u901A\\u4FE1\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u7F51\\u7EDC\\u534F\\u8BAE\"],category:\"Network\"};function a(l){let n={a:\"a\",blockquote:\"blockquote\",br:\"br\",code:\"code\",em:\"em\",figure:\"figure\",h1:\"h1\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...l.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"\\u201C\\u5FC3\\u8DF3\\u5982\\u8BD7\\uFF0C\\u8109\\u52A8\\u4E0D\\u606F\\uFF1B\\u8FDE\\u63A5\\u5982\\u5F26\\uFF0C\\u4F59\\u97F3\\u7ED5\\u6881\\u3002\\u201D\",(0,e.jsx)(n.br,{}),`\n`,\"\\u2014\\u2014 \\u7075\\u611F\\u6E90\\u4E8E\\u300A\\u8BD7\\u7ECF\\xB7\\u5C0F\\u96C5\\xB7\\u9E7F\\u9E23\\u300B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u6D69\\u701A\\u661F\\u7A7A\\u4E0B\\uFF0CWebSocket \\u5B9B\\u5982\\u4E00\\u9897\\u7480\\u74A8\\u7684\\u660E\\u661F\\uFF0C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u5F00\\u542F\\u4E86\\u53CC\\u5411\\u901A\\u4FE1\\u7684\\u5947\\u5999\\u5927\\u95E8\\u3002\\u7136\\u800C\\uFF0C\\u7F51\\u7EDC\\u4E16\\u754C\\u5E76\\u975E\\u98CE\\u5E73\\u6D6A\\u9759\\uFF0C\\u8FDE\\u63A5\\u7684\\u7A33\\u5B9A\\u6027\\u5982\\u540C\\u6D77\\u4E0A\\u5B64\\u821F\\uFF0C\\u968F\\u65F6\\u53EF\\u80FD\\u88AB\\u98CE\\u6D6A\\u541E\\u566C\\u3002\\u8FD9\\u65F6\\uFF0C\\u5FC3\\u8DF3\\u673A\\u5236\\u4FBF\\u5982\\u540C\\u4E00\\u76CF\\u660E\\u706F\\uFF0C\\u6307\\u5F15\\u7740\\u8FDE\\u63A5\\u5728\\u9ED1\\u6697\\u4E2D\\u4FDD\\u6301\\u8109\\u52A8\\u3002\\u{1F493}\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165 WebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\u4E0E\\u5B9E\\u8DF5\\uFF0C\\u4ECE\\u534F\\u8BAE\\u5E95\\u5C42\\u5230\\u67B6\\u6784\\u8BBE\\u8BA1\\uFF0C\\u4ECE\\u4EE3\\u7801\\u5B9E\\u73B0\\u5230\\u54F2\\u5B66\\u601D\\u8003\\uFF0C\\u529B\\u6C42\\u4E3A\\u4F60\\u5448\\u73B0\\u4E00\\u5E45\\u5168\\u9762\\u800C\\u6DF1\\u523B\\u7684\\u753B\\u5377\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521D\\u63A2\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u65B0\\u624B\\uFF0C\\u8FD8\\u662F\\u4E45\\u7ECF\\u6C99\\u573A\\u7684\\u8001\\u5C06\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u90FD\\u5C06\\u4E3A\\u4F60\\u63D0\\u4F9B\\u542F\\u53D1\\u4E0E\\u6307\\u5F15\\u3002\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u8E0F\\u4E0A\\u8FD9\\u573A\\u6280\\u672F\\u4E0E\\u601D\\u7EF4\\u7684\\u65C5\\u7A0B\\u5427\\uFF01\\u{1F680}\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u76EE\\u5F55\",children:(0,e.jsx)(n.a,{href:\"#\\u76EE\\u5F55\",children:\"\\u76EE\\u5F55\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"WebSocket \\u7B80\\u4ECB\\uFF1A\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u57FA\\u77F3\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u4E3A\\u4F55\\u9700\\u8981\\u5FC3\\u8DF3\\u673A\\u5236\\uFF1F\\u7F51\\u7EDC\\u4E16\\u754C\\u7684\\u201C\\u8109\\u640F\\u201D\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\uFF1A\\u4ECE TCP \\u5230\\u5E94\\u7528\\u5C42\"})}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u4E0E\\u5B9E\\u73B0\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u6D88\\u606F\\u683C\\u5F0F\\u4E0E\\u534F\\u8BAE\\u8BBE\\u8BA1\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u534F\\u540C\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\\uFF1A\\u5FC3\\u8DF3\\u7684\\u201C\\u5FC3\\u52A8\\u201D\\u65F6\\u523B\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u5FC3\\u8DF3\\u66F4\\u4F18\\u96C5\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u67B6\\u6784\\u89C6\\u89D2\\uFF1A\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u672A\\u6765\\u5C55\\u671B\\uFF1AWebSocket \\u4E0E\\u5FC3\\u8DF3\\u7684\\u4E0B\\u4E00\\u7AD9\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u7ED3\\u8BED\\uFF1A\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u4E0E\\u6C38\\u6052\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"1-websocket-\\u7B80\\u4ECB\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u57FA\\u77F3\",children:(0,e.jsx)(n.a,{href:\"#1-websocket-\\u7B80\\u4ECB\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u57FA\\u77F3\",children:\"1. WebSocket \\u7B80\\u4ECB\\uFF1A\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u57FA\\u77F3\"})}),`\n`,(0,e.jsx)(n.p,{children:\"WebSocket\\uFF0C\\u8BDE\\u751F\\u4E8E HTML5 \\u65F6\\u4EE3\\uFF0C\\u662F\\u4E00\\u79CD\\u57FA\\u4E8E TCP \\u7684\\u5168\\u53CC\\u5DE5\\u901A\\u4FE1\\u534F\\u8BAE\\u3002\\u5B83\\u6253\\u7834\\u4E86 HTTP \\u8BF7\\u6C42-\\u54CD\\u5E94\\u7684\\u5355\\u5411\\u675F\\u7F1A\\uFF0C\\u8BA9\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u80FD\\u591F\\u81EA\\u7531\\u201C\\u5BF9\\u8BDD\\u201D\\u3002\\u{1F310} \\u76F8\\u6BD4\\u4F20\\u7EDF\\u7684\\u8F6E\\u8BE2\\u6216\\u957F\\u8F6E\\u8BE2\\uFF0CWebSocket \\u4E0D\\u4EC5\\u964D\\u4F4E\\u4E86\\u5EF6\\u8FDF\\uFF0C\\u8FD8\\u6781\\u5927\\u5730\\u51CF\\u5C11\\u4E86\\u670D\\u52A1\\u5668\\u8D44\\u6E90\\u6D88\\u8017\\u3002\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"\\u201CWebSocket \\u5C31\\u50CF\\u4E00\\u573A\\u6C38\\u4E0D\\u843D\\u5E55\\u7684\\u5BF9\\u8BDD\\uFF0C\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u5728\\u65F6\\u95F4\\u7684\\u957F\\u6CB3\\u4E2D\\u4F4E\\u8BED\\u3002\\u201D\",(0,e.jsx)(n.br,{}),`\n`,\"\\u2014\\u2014 \\u7075\\u611F\\u6E90\\u4E8E\\u68AD\\u7F57\\u300A\\u74E6\\u5C14\\u767B\\u6E56\\u300B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"WebSocket \\u7684\\u6838\\u5FC3\\u7279\\u70B9\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5168\\u53CC\\u5DE5\\u901A\\u4FE1\"}),\"\\uFF1A\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u53EF\\u540C\\u65F6\\u53D1\\u9001\\u548C\\u63A5\\u6536\\u6D88\\u606F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F4E\\u5F00\\u9500\"}),\"\\uFF1A\\u57FA\\u4E8E TCP \\u7684\\u5355\\u4E00\\u8FDE\\u63A5\\uFF0C\\u907F\\u514D\\u4E86 HTTP \\u5934\\u90E8\\u7684\\u5197\\u4F59\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5B9E\\u65F6\\u6027\"}),\"\\uFF1A\\u6D88\\u606F\\u4F20\\u9012\\u8FD1\\u4E4E\\u77AC\\u65F6\\uFF0C\\u9002\\u5408\\u804A\\u5929\\u3001\\u6E38\\u620F\\u3001\\u5B9E\\u65F6\\u901A\\u77E5\\u7B49\\u573A\\u666F\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7136\\u800C\\uFF0CWebSocket \\u7684\\u8FDE\\u63A5\\u5E76\\u975E\\u575A\\u4E0D\\u53EF\\u6467\\u3002\\u7F51\\u7EDC\\u6296\\u52A8\\u3001\\u670D\\u52A1\\u5668\\u91CD\\u542F\\u3001\\u5BA2\\u6237\\u7AEF\\u4F11\\u7720\\u7B49\\u56E0\\u7D20\\u90FD\\u53EF\\u80FD\\u5BFC\\u81F4\\u8FDE\\u63A5\\u4E2D\\u65AD\\u3002\\u8FD9\\u65F6\\u5019\\uFF0C\\u5FC3\\u8DF3\\u673A\\u5236\\u4FBF\\u5982\\u540C\\u4E00\\u9897\\u8DF3\\u52A8\\u7684\\u5FC3\\u810F\\uFF0C\\u4E3A\\u8FDE\\u63A5\\u6CE8\\u5165\\u751F\\u547D\\u529B\\u3002\\u{1F497}\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsxs)(n.em,{children:[\"Tips: WebSocket \\u7684\\u5EFA\\u7ACB\\u4F9D\\u8D56\\u4E8E HTTP \\u63E1\\u624B\\uFF0C\\u4E86\\u89E3 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"Upgrade\"})})})}),\" \\u5934\\u548C \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"101 Switching Protocols\"})})})}),\" \\u72B6\\u6001\\u7801\\u6709\\u52A9\\u4E8E\\u8C03\\u8BD5\\u8FDE\\u63A5\\u95EE\\u9898\\u3002\"]})}),`\n`,(0,e.jsx)(n.h2,{id:\"2-\\u4E3A\\u4F55\\u9700\\u8981\\u5FC3\\u8DF3\\u673A\\u5236\\u7F51\\u7EDC\\u4E16\\u754C\\u7684\\u8109\\u640F\",children:(0,e.jsx)(n.a,{href:\"#2-\\u4E3A\\u4F55\\u9700\\u8981\\u5FC3\\u8DF3\\u673A\\u5236\\u7F51\\u7EDC\\u4E16\\u754C\\u7684\\u8109\\u640F\",children:\"2. \\u4E3A\\u4F55\\u9700\\u8981\\u5FC3\\u8DF3\\u673A\\u5236\\uFF1F\\u7F51\\u7EDC\\u4E16\\u754C\\u7684\\u201C\\u8109\\u640F\\u201D\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u7406\\u60F3\\u4E16\\u754C\\u4E2D\\uFF0CWebSocket \\u8FDE\\u63A5\\u5E94\\u8BE5\\u5982\\u300A\\u661F\\u9645\\u7A7F\\u8D8A\\u300B\\u4E2D\\u7684\\u9ED1\\u6D1E\\u822C\\u7A33\\u5B9A\\u6C38\\u6052\\u3002\\u7136\\u800C\\uFF0C\\u73B0\\u5B9E\\u7F51\\u7EDC\\u73AF\\u5883\\u5374\\u66F4\\u50CF\\u300A\\u6743\\u529B\\u7684\\u6E38\\u620F\\u300B\\u4E2D\\u7684\\u7EF4\\u65AF\\u7279\\u6D1B\\u5927\\u9646\\uFF0C\\u5145\\u6EE1\\u4E86\\u4E0D\\u53EF\\u9884\\u6D4B\\u7684\\u5371\\u673A\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\"}),\"\\uFF1A\\u79FB\\u52A8\\u8BBE\\u5907\\u5207\\u6362 Wi-Fi \\u6216 4G/5G\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u8FDE\\u63A5\\u4E2D\\u65AD\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"NAT \\u8D85\\u65F6\"}),\"\\uFF1A\\u8BB8\\u591A\\u8DEF\\u7531\\u5668\\u4F1A\\u5BF9\\u957F\\u65F6\\u95F4\\u672A\\u901A\\u4FE1\\u7684 TCP \\u8FDE\\u63A5\\u8FDB\\u884C\\u8D85\\u65F6\\u6E05\\u7406\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u670D\\u52A1\\u5668\\u7B56\\u7565\"}),\"\\uFF1A\\u8D1F\\u8F7D\\u5747\\u8861\\u5668\\u53EF\\u80FD\\u56E0\\u68C0\\u6D4B\\u4E0D\\u5230\\u6D3B\\u8DC3\\u8FDE\\u63A5\\u800C\\u5173\\u95ED\\u5B83\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5BA2\\u6237\\u7AEF\\u4F11\\u7720\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u6807\\u7B7E\\u9875\\u4F11\\u7720\\u6216\\u8BBE\\u5907\\u9501\\u5C4F\\u4F1A\\u6682\\u505C WebSocket \\u6D3B\\u52A8\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u672C\\u8D28\\u662F\\u901A\\u8FC7\\u5B9A\\u671F\\u53D1\\u9001\\u8F7B\\u91CF\\u7EA7\\u6D88\\u606F\\uFF08\\u901A\\u5E38\\u79F0\\u4E3A\\u201CPing\\u201D\\u6216\\u201CPong\\u201D\\uFF09\\uFF0C\\u68C0\\u6D4B\\u8FDE\\u63A5\\u662F\\u5426\\u4F9D\\u7136\\u201C\\u6D3B\\u7740\\u201D\\u3002\\u5982\\u679C\\u6CA1\\u6709\\u5FC3\\u8DF3\\uFF0C\\u8FDE\\u63A5\\u53EF\\u80FD\\u5728\\u65E0\\u58F0\\u4E2D\\u6D88\\u4EA1\\uFF0C\\u5982\\u540C\\u838E\\u58EB\\u6BD4\\u4E9A\\u7B14\\u4E0B\\u7684\\u54C8\\u59C6\\u96F7\\u7279\\uFF0C\\u201C\\u751F\\u5B58\\u8FD8\\u662F\\u6BC1\\u706D\\uFF0C\\u8FD9\\u662F\\u4E00\\u4E2A\\u95EE\\u9898\\u3002\\u201D\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E0B\\u8868\\u603B\\u7ED3\\u4E86\\u5FC3\\u8DF3\\u673A\\u5236\\u89E3\\u51B3\\u7684\\u4E3B\\u8981\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u95EE\\u9898\\u573A\\u666F\"}),(0,e.jsx)(n.th,{children:\"\\u63CF\\u8FF0\"}),(0,e.jsx)(n.th,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u89E3\\u51B3\\u65B9\\u6848\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"NAT \\u8D85\\u65F6\"}),(0,e.jsx)(n.td,{children:\"\\u8DEF\\u7531\\u5668\\u56E0\\u957F\\u65F6\\u95F4\\u65E0\\u6570\\u636E\\u4F20\\u8F93\\u5173\\u95ED\\u8FDE\\u63A5\"}),(0,e.jsx)(n.td,{children:\"\\u5B9A\\u671F\\u53D1\\u9001\\u5FC3\\u8DF3\\u5305\\uFF0C\\u4FDD\\u6301\\u8FDE\\u63A5\\u6D3B\\u8DC3\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u670D\\u52A1\\u5668\\u8D1F\\u8F7D\\u5747\\u8861\"}),(0,e.jsx)(n.td,{children:\"\\u8D1F\\u8F7D\\u5747\\u8861\\u5668\\u8BEF\\u5224\\u8FDE\\u63A5\\u4E3A\\u95F2\\u7F6E\\u5E76\\u5173\\u95ED\"}),(0,e.jsx)(n.td,{children:\"\\u5FC3\\u8DF3\\u6D88\\u606F\\u4F5C\\u4E3A\\u6D3B\\u8DC3\\u4FE1\\u53F7\\uFF0C\\u9632\\u6B62\\u88AB\\u8BEF\\u5173\\u95ED\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u7F51\\u7EDC\\u5207\\u6362\"}),(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\\u7F51\\u7EDC\\u5207\\u6362\\u5BFC\\u81F4\\u8FDE\\u63A5\\u4E2D\\u65AD\"}),(0,e.jsx)(n.td,{children:\"\\u5FEB\\u901F\\u68C0\\u6D4B\\u65AD\\u5F00\\u5E76\\u89E6\\u53D1\\u91CD\\u8FDE\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\\u4F11\\u7720\"}),(0,e.jsx)(n.td,{children:\"\\u6D4F\\u89C8\\u5668\\u6216\\u8BBE\\u5907\\u4F11\\u7720\\u5BFC\\u81F4\\u8FDE\\u63A5\\u6682\\u505C\"}),(0,e.jsx)(n.td,{children:\"\\u68C0\\u6D4B\\u4F11\\u7720\\u540E\\u7684\\u8FDE\\u63A5\\u72B6\\u6001\\uFF0C\\u5FC5\\u8981\\u65F6\\u91CD\\u65B0\\u5EFA\\u7ACB\\u8FDE\\u63A5\"})]})]})]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5FC3\\u8DF3\\u673A\\u5236\\u4E0D\\u4EC5\\u4EC5\\u662F\\u201C\\u4FDD\\u6D3B\\u201D\\uFF0C\\u8FD8\\u53EF\\u4EE5\\u7528\\u6765\\u68C0\\u6D4B\\u7F51\\u7EDC\\u5EF6\\u8FDF\\uFF0C\\u4F18\\u5316\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"3-\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\u4ECE-tcp-\\u5230\\u5E94\\u7528\\u5C42\",children:(0,e.jsx)(n.a,{href:\"#3-\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\u4ECE-tcp-\\u5230\\u5E94\\u7528\\u5C42\",children:\"3. \\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\uFF1A\\u4ECE TCP \\u5230\\u5E94\\u7528\\u5C42\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8981\\u7406\\u89E3\\u5FC3\\u8DF3\\u673A\\u5236\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u4ECE TCP \\u534F\\u8BAE\\u7684\\u5E95\\u5C42\\u5F00\\u59CB\\uFF0C\\u5C42\\u5C42\\u9012\\u8FDB\\uFF0C\\u76F4\\u8FBE\\u5E94\\u7528\\u5C42\\u3002\\u8FD9\\u5C31\\u50CF\\u63A2\\u5BFB\\u4E00\\u9996\\u4EA4\\u54CD\\u4E50\\u7684\\u521B\\u4F5C\\uFF0C\\u4ECE\\u4E50\\u5668\\u7684\\u6784\\u9020\\u5230\\u4E50\\u8C31\\u7684\\u7F16\\u6392\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"31-tcp-keepalive\\u5E95\\u5C42\\u7684\\u5FC3\\u8DF3\",children:(0,e.jsx)(n.a,{href:\"#31-tcp-keepalive\\u5E95\\u5C42\\u7684\\u5FC3\\u8DF3\",children:\"3.1 TCP Keepalive\\uFF1A\\u5E95\\u5C42\\u7684\\u201C\\u5FC3\\u8DF3\\u201D\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"TCP \\u534F\\u8BAE\\u672C\\u8EAB\\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u79F0\\u4E3A \",(0,e.jsx)(n.strong,{children:\"TCP Keepalive\"}),\" \\u7684\\u673A\\u5236\\uFF0C\\u901A\\u8FC7\\u53D1\\u9001\\u7A7A\\u7684 TCP \\u6570\\u636E\\u5305\\u6765\\u68C0\\u6D4B\\u8FDE\\u63A5\\u662F\\u5426\\u5B58\\u6D3B\\u3002\\u7136\\u800C\\uFF0CTCP Keepalive \\u6709\\u51E0\\u4E2A\\u5C40\\u9650\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u914D\\u7F6E\\u590D\\u6742\"}),\"\\uFF1A\\u9700\\u8981\\u64CD\\u4F5C\\u7CFB\\u7EDF\\u6216\\u670D\\u52A1\\u5668\\u5C42\\u9762\\u542F\\u7528\\uFF0C\\u4E14\\u53C2\\u6570\\uFF08\\u5982\\u95F4\\u9694\\u65F6\\u95F4\\uFF09\\u4E0D\\u6613\\u8C03\\u6574\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8D44\\u6E90\\u5F00\\u9500\"}),\"\\uFF1A\\u5BF9\\u5927\\u91CF\\u8FDE\\u63A5\\u7684\\u573A\\u666F\\uFF0CKeepalive \\u6570\\u636E\\u5305\\u53EF\\u80FD\\u5F15\\u53D1\\u6027\\u80FD\\u95EE\\u9898\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4E0D\\u53EF\\u5B9A\\u5236\"}),\"\\uFF1A\\u65E0\\u6CD5\\u643A\\u5E26\\u5E94\\u7528\\u5C42\\u6570\\u636E\\uFF0C\\u96BE\\u4EE5\\u6EE1\\u8DB3\\u4E1A\\u52A1\\u9700\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u56E0\\u6B64\\uFF0CWebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\u901A\\u5E38\\u5728\\u5E94\\u7528\\u5C42\\u5B9E\\u73B0\\uFF0C\\u57FA\\u4E8E WebSocket \\u534F\\u8BAE\\u7684 Ping/Pong \\u5E27\\u6216\\u81EA\\u5B9A\\u4E49\\u6D88\\u606F\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"32-websocket-\\u7684-pingpong-\\u5E27\",children:(0,e.jsx)(n.a,{href:\"#32-websocket-\\u7684-pingpong-\\u5E27\",children:\"3.2 WebSocket \\u7684 Ping/Pong \\u5E27\"})}),`\n`,(0,e.jsx)(n.p,{children:\"WebSocket \\u534F\\u8BAE\\u5185\\u7F6E\\u4E86 Ping \\u548C Pong \\u63A7\\u5236\\u5E27\\uFF0C\\u4E13\\u95E8\\u7528\\u4E8E\\u5FC3\\u8DF3\\u68C0\\u6D4B\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Ping \\u5E27\"}),\"\\uFF1A\\u7531\\u4E00\\u65B9\\u53D1\\u9001\\uFF0C\\u8BF7\\u6C42\\u5BF9\\u65B9\\u56DE\\u5E94\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Pong \\u5E27\"}),\"\\uFF1A\\u4F5C\\u4E3A\\u5BF9 Ping \\u7684\\u54CD\\u5E94\\uFF0C\\u8868\\u660E\\u8FDE\\u63A5\\u6D3B\\u8DC3\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4E9B\\u5E27\\u975E\\u5E38\\u8F7B\\u91CF\\uFF0C\\u901A\\u5E38\\u53EA\\u5305\\u542B\\u51E0\\u5B57\\u8282\\u7684\\u6570\\u636E\\uFF0C\\u4E14\\u7531 WebSocket \\u534F\\u8BAE\\u6808\\u81EA\\u52A8\\u5904\\u7406\\u3002\\u7136\\u800C\\uFF0C\\u6D4F\\u89C8\\u5668\\u5BF9 Ping/Pong \\u5E27\\u7684\\u652F\\u6301\\u6709\\u9650\\uFF0C\\u8BB8\\u591A\\u5F00\\u53D1\\u8005\\u66F4\\u503E\\u5411\\u4E8E\\u4F7F\\u7528\\u81EA\\u5B9A\\u4E49\\u7684\\u5FC3\\u8DF3\\u6D88\\u606F\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"33-\\u5E94\\u7528\\u5C42\\u5FC3\\u8DF3\\u7075\\u6D3B\\u4E0E\\u638C\\u63A7\",children:(0,e.jsx)(n.a,{href:\"#33-\\u5E94\\u7528\\u5C42\\u5FC3\\u8DF3\\u7075\\u6D3B\\u4E0E\\u638C\\u63A7\",children:\"3.3 \\u5E94\\u7528\\u5C42\\u5FC3\\u8DF3\\uFF1A\\u7075\\u6D3B\\u4E0E\\u638C\\u63A7\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5E94\\u7528\\u5C42\\u5FC3\\u8DF3\\u901A\\u8FC7\\u53D1\\u9001\\u81EA\\u5B9A\\u4E49 JSON \\u6216\\u6587\\u672C\\u6D88\\u606F\\u5B9E\\u73B0\\uFF0C\\u683C\\u5F0F\\u7075\\u6D3B\\uFF0C\\u53EF\\u643A\\u5E26\\u4E1A\\u52A1\\u6570\\u636E\\u3002\\u4F8B\\u5982\\uFF0C\\u4E00\\u4E2A\\u804A\\u5929\\u5E94\\u7528\\u7684\\u5BA2\\u6237\\u7AEF\\u53EF\\u80FD\\u6BCF 30 \\u79D2\\u53D1\\u9001\\u5982\\u4E0B\\u6D88\\u606F\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"type\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"ping\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"timestamp\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1698765432\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u670D\\u52A1\\u7AEF\\u6536\\u5230\\u540E\\u56DE\\u5E94\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"type\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"pong\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"timestamp\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1698765432\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u79CD\\u65B9\\u5F0F\\u7684\\u4F18\\u52BF\\u5728\\u4E8E\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u53EF\\u6269\\u5C55\\u6027\"}),\"\\uFF1A\\u6D88\\u606F\\u53EF\\u4EE5\\u643A\\u5E26\\u72B6\\u6001\\u3001\\u5EF6\\u8FDF\\u4FE1\\u606F\\u7B49\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6613\\u8C03\\u8BD5\"}),\"\\uFF1A\\u5F00\\u53D1\\u8005\\u53EF\\u76F4\\u63A5\\u67E5\\u770B\\u6D88\\u606F\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8DE8\\u5E73\\u53F0\\u517C\\u5BB9\"}),\"\\uFF1A\\u65E0\\u9700\\u4F9D\\u8D56\\u5E95\\u5C42\\u7684 Ping/Pong \\u5E27\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u8BBE\\u8BA1\\u5FC3\\u8DF3\\u6D88\\u606F\\u65F6\\uFF0C\\u5C3D\\u91CF\\u4FDD\\u6301\\u8F7B\\u91CF\\uFF0C\\u907F\\u514D\\u5305\\u542B\\u8FC7\\u591A\\u4E1A\\u52A1\\u6570\\u636E\\uFF0C\\u4EE5\\u51CF\\u5C11\\u5E26\\u5BBD\\u6D88\\u8017\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"4-\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u4E0E\\u5B9E\\u73B0\",children:(0,e.jsx)(n.a,{href:\"#4-\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u4E0E\\u5B9E\\u73B0\",children:\"4. \\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u4E0E\\u5B9E\\u73B0\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u9700\\u8981\\u5E73\\u8861\\u6027\\u80FD\\u3001\\u7A33\\u5B9A\\u6027\\u548C\\u7528\\u6237\\u4F53\\u9A8C\\u3002\\u4EE5\\u4E0B\\u4ECE\\u534F\\u8BAE\\u8BBE\\u8BA1\\u3001\\u534F\\u540C\\u673A\\u5236\\u5230\\u4EE3\\u7801\\u5B9E\\u73B0\\uFF0C\\u9010\\u6B65\\u5C55\\u5F00\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"41-\\u6D88\\u606F\\u683C\\u5F0F\\u4E0E\\u534F\\u8BAE\\u8BBE\\u8BA1\",children:(0,e.jsx)(n.a,{href:\"#41-\\u6D88\\u606F\\u683C\\u5F0F\\u4E0E\\u534F\\u8BAE\\u8BBE\\u8BA1\",children:\"4.1 \\u6D88\\u606F\\u683C\\u5F0F\\u4E0E\\u534F\\u8BAE\\u8BBE\\u8BA1\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E00\\u4E2A\\u597D\\u7684\\u5FC3\\u8DF3\\u534F\\u8BAE\\u5E94\\u8BE5\\u7B80\\u6D01\\u3001\\u660E\\u786E\\u4E14\\u6613\\u4E8E\\u6269\\u5C55\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u63A8\\u8350\\u7684 JSON \\u683C\\u5F0F\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"type\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"heartbeat\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"id\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"unique-message-id\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"timestamp\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1698765432\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"data\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": {} \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u53EF\\u9009\\uFF0C\\u6269\\u5C55\\u5B57\\u6BB5\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"type\"}),\"\\uFF1A\\u6807\\u8BC6\\u6D88\\u606F\\u7C7B\\u578B\\uFF0C\\u533A\\u5206\\u5FC3\\u8DF3\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"id\"}),\"\\uFF1A\\u552F\\u4E00\\u6807\\u8BC6\\uFF0C\\u7528\\u4E8E\\u5339\\u914D\\u8BF7\\u6C42\\u4E0E\\u54CD\\u5E94\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"timestamp\"}),\"\\uFF1A\\u8BB0\\u5F55\\u53D1\\u9001\\u65F6\\u95F4\\uFF0C\\u4FBF\\u4E8E\\u5EF6\\u8FDF\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"data\"}),\"\\uFF1A\\u9884\\u7559\\u5B57\\u6BB5\\uFF0C\\u7528\\u4E8E\\u672A\\u6765\\u6269\\u5C55\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"42-\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u534F\\u540C\",children:(0,e.jsx)(n.a,{href:\"#42-\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u534F\\u540C\",children:\"4.2 \\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u534F\\u540C\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u9700\\u8981\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u7D27\\u5BC6\\u534F\\u4F5C\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u5178\\u578B\\u7684\\u5DE5\\u4F5C\\u6D41\\u7A0B\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5BA2\\u6237\\u7AEF\"}),\"\\uFF1A\\u6BCF\\u9694\\u56FA\\u5B9A\\u65F6\\u95F4\\uFF08\\u5982 30 \\u79D2\\uFF09\\u53D1\\u9001\\u5FC3\\u8DF3\\u6D88\\u606F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u670D\\u52A1\\u7AEF\"}),\"\\uFF1A\\u6536\\u5230\\u5FC3\\u8DF3\\u540E\\u7ACB\\u5373\\u54CD\\u5E94\\uFF0C\\u6216\\u5B9A\\u671F\\u4E3B\\u52A8\\u53D1\\u9001\\u5FC3\\u8DF3\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8D85\\u65F6\\u68C0\\u6D4B\"}),\"\\uFF1A\\u4EFB\\u4E00\\u65B9\\u82E5\\u5728\\u6307\\u5B9A\\u65F6\\u95F4\\u5185\\u672A\\u6536\\u5230\\u5FC3\\u8DF3\\uFF0C\\u5219\\u8BA4\\u4E3A\\u8FDE\\u63A5\\u65AD\\u5F00\\uFF0C\\u89E6\\u53D1\\u91CD\\u8FDE\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E0B\\u8868\\u603B\\u7ED3\\u4E86\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u7684\\u804C\\u8D23\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u89D2\\u8272\"}),(0,e.jsx)(n.th,{children:\"\\u804C\\u8D23\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\"}),(0,e.jsx)(n.td,{children:\"\\u5B9A\\u671F\\u53D1\\u9001\\u5FC3\\u8DF3\\u3001\\u76D1\\u542C\\u670D\\u52A1\\u7AEF\\u54CD\\u5E94\\u3001\\u68C0\\u6D4B\\u8D85\\u65F6\\u5E76\\u89E6\\u53D1\\u91CD\\u8FDE\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u670D\\u52A1\\u7AEF\"}),(0,e.jsx)(n.td,{children:\"\\u54CD\\u5E94\\u5BA2\\u6237\\u7AEF\\u5FC3\\u8DF3\\u3001\\u4E3B\\u52A8\\u53D1\\u9001\\u5FC3\\u8DF3\\uFF08\\u53EF\\u9009\\uFF09\\u3001\\u6E05\\u7406\\u8D85\\u65F6\\u8FDE\\u63A5\"})]})]})]}),`\n`,(0,e.jsx)(n.h3,{id:\"43-\\u4EE3\\u7801\\u793A\\u4F8B\\u5FC3\\u8DF3\\u7684\\u5FC3\\u52A8\\u65F6\\u523B\",children:(0,e.jsx)(n.a,{href:\"#43-\\u4EE3\\u7801\\u793A\\u4F8B\\u5FC3\\u8DF3\\u7684\\u5FC3\\u52A8\\u65F6\\u523B\",children:\"4.3 \\u4EE3\\u7801\\u793A\\u4F8B\\uFF1A\\u5FC3\\u8DF3\\u7684\\u201C\\u5FC3\\u52A8\\u201D\\u65F6\\u523B\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u57FA\\u4E8E JavaScript \\u7684 WebSocket \\u5FC3\\u8DF3\\u5B9E\\u73B0\\uFF0C\\u9002\\u7528\\u4E8E\\u6D4F\\u89C8\\u5668\\u73AF\\u5883\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" WebSocketHeartbeat\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {}) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".url \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" url;\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".options \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      heartbeatInterval: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"30000\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5FC3\\u8DF3\\u95F4\\u9694\\uFF0C\\u5355\\u4F4D\\uFF1A\\u6BEB\\u79D2\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      timeout: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"60000\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u8D85\\u65F6\\u65F6\\u95F4\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      maxRetries: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6700\\u5927\\u91CD\\u8FDE\\u6B21\\u6570\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      ...\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"options\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".heartbeatTimer \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".timeoutTimer \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".retryCount \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".isAlive \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  connect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" WebSocket\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".url);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"onopen\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'WebSocket connected! \\u{1F680}'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".isAlive \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".retryCount \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"startHeartbeat\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(event.data);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (data.type \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'pong'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Received pong! \\u{1F493}'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".isAlive \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"resetTimeout\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"onclose\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'WebSocket closed! \\u{1F622}'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"stopHeartbeat\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"reconnect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'WebSocket error:'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  startHeartbeat\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"stopHeartbeat\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6E05\\u7406\\u5DF2\\u6709\\u5B9A\\u65F6\\u5668\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".heartbeatTimer \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws.readyState \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" WebSocket.\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"OPEN\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          type: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'ping'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          id: Date.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"toString\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          timestamp: Date.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        }));\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Sent ping! \\u{1F48C}'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".isAlive \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u7B49\\u5F85\\u54CD\\u5E94\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"setTimeout\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".options.heartbeatInterval);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  stopHeartbeat\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".heartbeatTimer) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      clearInterval\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".heartbeatTimer);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".heartbeatTimer \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".timeoutTimer) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      clearTimeout\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".timeoutTimer);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".timeoutTimer \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".timeoutTimer \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".isAlive) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"warn\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'No pong received, closing connection...'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".ws.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"close\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".options.timeout);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  resetTimeout\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".timeoutTimer) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      clearTimeout\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".timeoutTimer);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".timeoutTimer \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  reconnect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".retryCount \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".options.maxRetries) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".retryCount\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`Reconnecting... Attempt ${\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"retryCount\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}/${\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"options\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"maxRetries\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"connect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".retryCount);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Max retries reached. Giving up. \\u{1F614}'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" ws\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" WebSocketHeartbeat\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'wss://example.com/socket'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  heartbeatInterval: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"30000\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  timeout: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"60000\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  maxRetries: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"3\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"ws.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"connect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4E2A\\u5B9E\\u73B0\\u5305\\u542B\\u4E86\\u5FC3\\u8DF3\\u53D1\\u9001\\u3001\\u8D85\\u65F6\\u68C0\\u6D4B\\u548C\\u81EA\\u52A8\\u91CD\\u8FDE\\u7B49\\u529F\\u80FD\\uFF0C\\u9002\\u7528\\u4E8E\\u804A\\u5929\\u5E94\\u7528\\u3001\\u5B9E\\u65F6\\u4EEA\\u8868\\u76D8\\u7B49\\u573A\\u666F\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\uFF0C\\u5EFA\\u8BAE\\u4E3A\\u91CD\\u8FDE\\u673A\\u5236\\u6DFB\\u52A0\\u6307\\u6570\\u9000\\u907F\\u7B97\\u6CD5\\uFF0C\\u907F\\u514D\\u77ED\\u65F6\\u95F4\\u5185\\u9891\\u7E41\\u91CD\\u8FDE\\u5BFC\\u81F4\\u670D\\u52A1\\u5668\\u538B\\u529B\\u8FC7\\u5927\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u5FC3\\u8DF3\\u66F4\\u4F18\\u96C5\",children:(0,e.jsx)(n.a,{href:\"#5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u5FC3\\u8DF3\\u66F4\\u4F18\\u96C5\",children:\"5. \\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u5FC3\\u8DF3\\u66F4\\u4F18\\u96C5\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u7ECF\\u8FC7\\u5B9E\\u8DF5\\u9A8C\\u8BC1\\u7684\\u5FC3\\u8DF3\\u673A\\u5236\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E2E\\u52A9\\u4F60\\u6253\\u9020\\u66F4\\u5065\\u58EE\\u7684 WebSocket \\u5E94\\u7528\\uFF1A\"}),`\n`,(0,e.jsx)(n.h3,{id:\"51-\\u52A8\\u6001\\u8C03\\u6574\\u5FC3\\u8DF3\\u95F4\\u9694\",children:(0,e.jsx)(n.a,{href:\"#51-\\u52A8\\u6001\\u8C03\\u6574\\u5FC3\\u8DF3\\u95F4\\u9694\",children:\"5.1 \\u52A8\\u6001\\u8C03\\u6574\\u5FC3\\u8DF3\\u95F4\\u9694\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u56FA\\u5B9A\\u5FC3\\u8DF3\\u95F4\\u9694\\u53EF\\u80FD\\u65E0\\u6CD5\\u9002\\u5E94\\u6240\\u6709\\u573A\\u666F\\u3002\\u4F8B\\u5982\\uFF0C\\u79FB\\u52A8\\u7F51\\u7EDC\\u53EF\\u80FD\\u9700\\u8981\\u66F4\\u77ED\\u7684\\u95F4\\u9694\\uFF0C\\u800C\\u7A33\\u5B9A\\u7F51\\u7EDC\\u53EF\\u4EE5\\u9002\\u5F53\\u5EF6\\u957F\\u3002\\u53EF\\u4EE5\\u901A\\u8FC7\\u4EE5\\u4E0B\\u65B9\\u5F0F\\u52A8\\u6001\\u8C03\\u6574\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6839\\u636E\\u7F51\\u7EDC\\u5EF6\\u8FDF\"}),\"\\uFF1A\\u5BA2\\u6237\\u7AEF\\u8BA1\\u7B97\\u6700\\u8FD1\\u51E0\\u6B21\\u5FC3\\u8DF3\\u7684\\u5F80\\u8FD4\\u65F6\\u95F4\\uFF08RTT\\uFF09\\uFF0C\\u52A8\\u6001\\u8C03\\u6574\\u95F4\\u9694\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6839\\u636E\\u8BBE\\u5907\\u72B6\\u6001\"}),\"\\uFF1A\\u68C0\\u6D4B\\u8BBE\\u5907\\u662F\\u5426\\u4F11\\u7720\\uFF0C\\u6682\\u505C\\u5FC3\\u8DF3\\u4EE5\\u8282\\u7701\\u7535\\u91CF\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u4F7F\\u7528\\u6307\\u6570\\u79FB\\u52A8\\u5E73\\u5747\\uFF08EMA\\uFF09\\u7B97\\u6CD5\\u8BA1\\u7B97 RTT\\uFF0C\\u80FD\\u66F4\\u5E73\\u6ED1\\u5730\\u8C03\\u6574\\u5FC3\\u8DF3\\u95F4\\u9694\\u3002\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"52-\\u5FC3\\u8DF3\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u590D\\u7528\",children:(0,e.jsx)(n.a,{href:\"#52-\\u5FC3\\u8DF3\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u590D\\u7528\",children:\"5.2 \\u5FC3\\u8DF3\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u590D\\u7528\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u51CF\\u5C11\\u5E26\\u5BBD\\u5360\\u7528\\uFF0C\\u53EF\\u4EE5\\u5C06\\u5FC3\\u8DF3\\u6D88\\u606F\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u7ED3\\u5408\\u3002\\u4F8B\\u5982\\uFF0C\\u5728\\u804A\\u5929\\u5E94\\u7528\\u4E2D\\uFF0C\\u82E5\\u7528\\u6237\\u6B63\\u5728\\u53D1\\u9001\\u6D88\\u606F\\uFF0C\\u5219\\u65E0\\u9700\\u989D\\u5916\\u53D1\\u9001\\u5FC3\\u8DF3\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u786E\\u4FDD\\u4E1A\\u52A1\\u6D88\\u606F\\u4E5F\\u80FD\\u89E6\\u53D1\\u8D85\\u65F6\\u91CD\\u7F6E\\u903B\\u8F91\\uFF0C\\u907F\\u514D\\u8BEF\\u5224\\u8FDE\\u63A5\\u72B6\\u6001\\u3002\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"53-\\u670D\\u52A1\\u7AEF\\u4E3B\\u52A8\\u5FC3\\u8DF3\",children:(0,e.jsx)(n.a,{href:\"#53-\\u670D\\u52A1\\u7AEF\\u4E3B\\u52A8\\u5FC3\\u8DF3\",children:\"5.3 \\u670D\\u52A1\\u7AEF\\u4E3B\\u52A8\\u5FC3\\u8DF3\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u67D0\\u4E9B\\u573A\\u666F\\u4E0B\\uFF0C\\u670D\\u52A1\\u7AEF\\u4E3B\\u52A8\\u53D1\\u9001\\u5FC3\\u8DF3\\u53EF\\u4EE5\\u51CF\\u8F7B\\u5BA2\\u6237\\u7AEF\\u8D1F\\u62C5\\u3002\\u4F8B\\u5982\\uFF0C\\u670D\\u52A1\\u7AEF\\u6BCF\\u5206\\u949F\\u5E7F\\u64AD\\u4E00\\u6B21\\u72B6\\u6001\\u66F4\\u65B0\\uFF0C\\u5BA2\\u6237\\u7AEF\\u53EA\\u9700\\u54CD\\u5E94\\u5373\\u53EF\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u670D\\u52A1\\u7AEF\\u5FC3\\u8DF3\\u9002\\u5408\\u9AD8\\u5E76\\u53D1\\u573A\\u666F\\uFF0C\\u4F46\\u9700\\u6CE8\\u610F\\u5E7F\\u64AD\\u9891\\u7387\\uFF0C\\u907F\\u514D\\u5F15\\u53D1\\u6D41\\u91CF\\u9AD8\\u5CF0\\u3002\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"54-\\u4F18\\u96C5\\u7684\\u91CD\\u8FDE\\u673A\\u5236\",children:(0,e.jsx)(n.a,{href:\"#54-\\u4F18\\u96C5\\u7684\\u91CD\\u8FDE\\u673A\\u5236\",children:\"5.4 \\u4F18\\u96C5\\u7684\\u91CD\\u8FDE\\u673A\\u5236\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u91CD\\u8FDE\\u673A\\u5236\\u9700\\u8981\\u517C\\u987E\\u7528\\u6237\\u4F53\\u9A8C\\u548C\\u670D\\u52A1\\u5668\\u6027\\u80FD\\u3002\\u63A8\\u8350\\u7684\\u505A\\u6CD5\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6307\\u6570\\u9000\\u907F\"}),\"\\uFF1A\\u91CD\\u8FDE\\u95F4\\u9694\\u968F\\u5931\\u8D25\\u6B21\\u6570\\u9012\\u589E\\uFF08\\u5982 1s\\u30012s\\u30014s\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u968F\\u673A\\u6296\\u52A8\"}),\"\\uFF1A\\u4E3A\\u91CD\\u8FDE\\u65F6\\u95F4\\u6DFB\\u52A0\\u968F\\u673A\\u504F\\u79FB\\uFF0C\\u9632\\u6B62\\u5BA2\\u6237\\u7AEF\\u540C\\u65F6\\u91CD\\u8FDE\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u72B6\\u6001\\u540C\\u6B65\"}),\"\\uFF1A\\u91CD\\u8FDE\\u540E\\u6062\\u590D\\u4F1A\\u8BDD\\u72B6\\u6001\\uFF08\\u5982\\u804A\\u5929\\u5386\\u53F2\\u3001\\u6E38\\u620F\\u8FDB\\u5EA6\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsxs)(n.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"setTimeout\"})})})}),\" \\u800C\\u975E \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"setInterval\"})})})}),\" \\u5B9E\\u73B0\\u91CD\\u8FDE\\uFF0C\\u907F\\u514D\\u91CD\\u8FDE\\u903B\\u8F91\\u5806\\u79EF\\u3002\"]})}),`\n`,(0,e.jsx)(n.h3,{id:\"55-\\u65E5\\u5FD7\\u4E0E\\u76D1\\u63A7\",children:(0,e.jsx)(n.a,{href:\"#55-\\u65E5\\u5FD7\\u4E0E\\u76D1\\u63A7\",children:\"5.5 \\u65E5\\u5FD7\\u4E0E\\u76D1\\u63A7\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8FD0\\u884C\\u72B6\\u6001\\u9700\\u8981\\u6E05\\u6670\\u7684\\u65E5\\u5FD7\\u652F\\u6301\\uFF0C\\u4EE5\\u4FBF\\u8C03\\u8BD5\\u548C\\u76D1\\u63A7\\u3002\\u5EFA\\u8BAE\\u8BB0\\u5F55\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u5FC3\\u8DF3\\u53D1\\u9001\\u4E0E\\u63A5\\u6536\\u65F6\\u95F4\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8FDE\\u63A5\\u65AD\\u5F00\\u4E0E\\u91CD\\u8FDE\\u4E8B\\u4EF6\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u7F51\\u7EDC\\u5EF6\\u8FDF\\u7EDF\\u8BA1\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5C06\\u5FC3\\u8DF3\\u65E5\\u5FD7\\u4E0E APM \\u5DE5\\u5177\\uFF08\\u5982 Sentry\\uFF09\\u96C6\\u6210\\uFF0C\\u5B9E\\u65F6\\u76D1\\u63A7\\u8FDE\\u63A5\\u5065\\u5EB7\\u72B6\\u6001\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"6-\\u67B6\\u6784\\u89C6\\u89D2\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\",children:(0,e.jsx)(n.a,{href:\"#6-\\u67B6\\u6784\\u89C6\\u89D2\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\",children:\"6. \\u67B6\\u6784\\u89C6\\u89D2\\uFF1A\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u4E0D\\u4EC5\\u662F\\u4E00\\u4E2A\\u6280\\u672F\\u7EC6\\u8282\\uFF0C\\u66F4\\u662F\\u4E00\\u79CD\\u67B6\\u6784\\u8BBE\\u8BA1\\u7684\\u7F29\\u5F71\\u3002\\u5B83\\u4F53\\u73B0\\u4E86\\u8F6F\\u4EF6\\u5DE5\\u7A0B\\u4E2D\\u7684\\u51E0\\u4E2A\\u6838\\u5FC3\\u539F\\u5219\\uFF1A\"}),`\n`,(0,e.jsx)(n.h3,{id:\"61-\\u5065\\u58EE\\u6027\\u4E0E\\u5197\\u4F59\",children:(0,e.jsx)(n.a,{href:\"#61-\\u5065\\u58EE\\u6027\\u4E0E\\u5197\\u4F59\",children:\"6.1 \\u5065\\u58EE\\u6027\\u4E0E\\u5197\\u4F59\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u901A\\u8FC7\\u5197\\u4F59\\u7684\\u6D88\\u606F\\u4EA4\\u6362\\uFF0C\\u6362\\u53D6\\u4E86\\u8FDE\\u63A5\\u7684\\u5065\\u58EE\\u6027\\u3002\\u8FD9\\u8BA9\\u6211\\u60F3\\u8D77\\u300A\\u9053\\u5FB7\\u7ECF\\u300B\\u4E2D\\u7684\\u201C\\u65E0\\u4E3A\\u800C\\u6CBB\\u201D\\u2014\\u2014\\u901A\\u8FC7\\u6700\\u5C0F\\u7684\\u5E72\\u9884\\uFF0C\\u7EF4\\u6301\\u7CFB\\u7EDF\\u7684\\u7A33\\u5B9A\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"62-\\u5206\\u5C42\\u4E0E\\u89E3\\u8026\",children:(0,e.jsx)(n.a,{href:\"#62-\\u5206\\u5C42\\u4E0E\\u89E3\\u8026\",children:\"6.2 \\u5206\\u5C42\\u4E0E\\u89E3\\u8026\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u901A\\u5E38\\u72EC\\u7ACB\\u4E8E\\u4E1A\\u52A1\\u903B\\u8F91\\uFF0C\\u8FD0\\u884C\\u5728\\u534F\\u8BAE\\u5C42\\u6216\\u5E94\\u7528\\u5C42\\u7684\\u5355\\u72EC\\u6A21\\u5757\\u4E2D\\u3002\\u8FD9\\u79CD\\u5206\\u5C42\\u8BBE\\u8BA1\\u964D\\u4F4E\\u4E86\\u8026\\u5408\\u5EA6\\uFF0C\\u4FBF\\u4E8E\\u7EF4\\u62A4\\u548C\\u6269\\u5C55\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"63-\\u53CD\\u9988\\u4E0E\\u81EA\\u9002\\u5E94\",children:(0,e.jsx)(n.a,{href:\"#63-\\u53CD\\u9988\\u4E0E\\u81EA\\u9002\\u5E94\",children:\"6.3 \\u53CD\\u9988\\u4E0E\\u81EA\\u9002\\u5E94\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u672C\\u8D28\\u4E0A\\u662F\\u4E00\\u4E2A\\u53CD\\u9988\\u7CFB\\u7EDF\\uFF0C\\u901A\\u8FC7\\u68C0\\u6D4B\\u8FDE\\u63A5\\u72B6\\u6001\\u52A8\\u6001\\u8C03\\u6574\\u884C\\u4E3A\\u3002\\u8FD9\\u79CD\\u81EA\\u9002\\u5E94\\u80FD\\u529B\\u5728\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u4E2D\\u5C24\\u4E3A\\u91CD\\u8981\\uFF0C\\u7C7B\\u4F3C\\u4E8E\\u751F\\u7269\\u5B66\\u4E2D\\u7684\\u201C\\u8D1F\\u53CD\\u9988\\u8C03\\u8282\\u201D\\u3002\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"\\u201C\\u597D\\u7684\\u8BBE\\u8BA1\\u5982\\u6D41\\u6C34\\uFF0C\\u65E0\\u5F62\\u5374\\u6709\\u529B\\u3002\\u201D\",(0,e.jsx)(n.br,{}),`\n`,\"\\u2014\\u2014 \\u7075\\u611F\\u6E90\\u4E8E\\u300A\\u5E84\\u5B50\\xB7\\u900D\\u9065\\u6E38\\u300B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4ECE\\u54F2\\u5B66\\u5C42\\u9762\\u770B\\uFF0C\\u5FC3\\u8DF3\\u673A\\u5236\\u662F\\u5BF9\\u201C\\u8FDE\\u63A5\\u201D\\u7684\\u6DF1\\u523B\\u601D\\u8003\\u3002\\u8FDE\\u63A5\\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u4E0A\\u7684\\u63E1\\u624B\\uFF0C\\u66F4\\u662F\\u4EBA\\u4E0E\\u4EBA\\u3001\\u7CFB\\u7EDF\\u4E0E\\u7CFB\\u7EDF\\u4E4B\\u95F4\\u7684\\u7EBD\\u5E26\\u3002\\u5FC3\\u8DF3\\u673A\\u5236\\u8BA9\\u6211\\u4EEC\\u610F\\u8BC6\\u5230\\uFF0C\\u4EFB\\u4F55\\u5173\\u7CFB\\u7684\\u7EF4\\u7CFB\\u90FD\\u9700\\u8981\\u6301\\u7EED\\u7684\\u6C9F\\u901A\\u4E0E\\u786E\\u8BA4\\u3002\\u{1F4AC}\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5728\\u8BBE\\u8BA1\\u5FC3\\u8DF3\\u673A\\u5236\\u65F6\\uFF0C\\u59CB\\u7EC8\\u4ECE\\u7528\\u6237\\u4F53\\u9A8C\\u51FA\\u53D1\\uFF0C\\u601D\\u8003\\u5982\\u4F55\\u5728\\u6280\\u672F\\u548C\\u4EBA\\u6027\\u4E4B\\u95F4\\u627E\\u5230\\u5E73\\u8861\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"7-\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\",children:(0,e.jsx)(n.a,{href:\"#7-\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\",children:\"7. \\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5E38\\u89C1\\u95EE\\u9898\\u53CA\\u5176\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u5E2E\\u52A9\\u4F60\\u5C11\\u8D70\\u5F2F\\u8DEF\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u95EE\\u9898\"}),(0,e.jsx)(n.th,{children:\"\\u539F\\u56E0\\u5206\\u6790\"}),(0,e.jsx)(n.th,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5FC3\\u8DF3\\u6D88\\u606F\\u4E22\\u5931\"}),(0,e.jsx)(n.td,{children:\"\\u7F51\\u7EDC\\u6296\\u52A8\\u6216\\u670D\\u52A1\\u5668\\u5904\\u7406\\u5EF6\\u8FDF\"}),(0,e.jsx)(n.td,{children:\"\\u589E\\u52A0\\u91CD\\u8BD5\\u673A\\u5236\\uFF0C\\u7F29\\u77ED\\u5FC3\\u8DF3\\u95F4\\u9694\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\\u9891\\u7E41\\u91CD\\u8FDE\"}),(0,e.jsx)(n.td,{children:\"\\u8D85\\u65F6\\u65F6\\u95F4\\u8BBE\\u7F6E\\u8FC7\\u77ED\\u6216\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\"}),(0,e.jsx)(n.td,{children:\"\\u5EF6\\u957F\\u8D85\\u65F6\\u65F6\\u95F4\\uFF0C\\u6DFB\\u52A0\\u6307\\u6570\\u9000\\u907F\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u670D\\u52A1\\u7AEF\\u538B\\u529B\\u8FC7\\u5927\"}),(0,e.jsx)(n.td,{children:\"\\u5FC3\\u8DF3\\u9891\\u7387\\u8FC7\\u9AD8\\u6216\\u6D88\\u606F\\u8FC7\\u4E8E\\u590D\\u6742\"}),(0,e.jsx)(n.td,{children:\"\\u4F18\\u5316\\u6D88\\u606F\\u683C\\u5F0F\\uFF0C\\u964D\\u4F4E\\u5FC3\\u8DF3\\u9891\\u7387\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u6D4F\\u89C8\\u5668\\u4F11\\u7720\\u5BFC\\u81F4\\u5FC3\\u8DF3\\u4E2D\\u65AD\"}),(0,e.jsx)(n.td,{children:\"\\u6D4F\\u89C8\\u5668\\u6807\\u7B7E\\u9875\\u8FDB\\u5165\\u540E\\u53F0\\u6216\\u8BBE\\u5907\\u9501\\u5C4F\"}),(0,e.jsxs)(n.td,{children:[\"\\u68C0\\u6D4B \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"visibilitychange\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u6682\\u505C\\u5FC3\\u8DF3\"]})]})]})]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5BF9\\u4E8E\\u590D\\u6742\\u95EE\\u9898\\uFF0C\\u4F7F\\u7528\\u6293\\u5305\\u5DE5\\u5177\\uFF08\\u5982 Wireshark\\uFF09\\u5206\\u6790\\u5FC3\\u8DF3\\u6D88\\u606F\\u7684\\u4F20\\u8F93\\u60C5\\u51B5\\uFF0C\\u80FD\\u5FEB\\u901F\\u5B9A\\u4F4D\\u95EE\\u9898\\u6839\\u6E90\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"8-\\u672A\\u6765\\u5C55\\u671Bwebsocket-\\u4E0E\\u5FC3\\u8DF3\\u7684\\u4E0B\\u4E00\\u7AD9\",children:(0,e.jsx)(n.a,{href:\"#8-\\u672A\\u6765\\u5C55\\u671Bwebsocket-\\u4E0E\\u5FC3\\u8DF3\\u7684\\u4E0B\\u4E00\\u7AD9\",children:\"8. \\u672A\\u6765\\u5C55\\u671B\\uFF1AWebSocket \\u4E0E\\u5FC3\\u8DF3\\u7684\\u4E0B\\u4E00\\u7AD9\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u968F\\u7740 Web \\u6280\\u672F\\u7684\\u53D1\\u5C55\\uFF0CWebSocket \\u548C\\u5FC3\\u8DF3\\u673A\\u5236\\u4E5F\\u5728\\u4E0D\\u65AD\\u6F14\\u8FDB\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u503C\\u5F97\\u5173\\u6CE8\\u7684\\u8D8B\\u52BF\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"WebTransport\"}),\"\\uFF1A\\u4F5C\\u4E3A WebSocket \\u7684\\u7EE7\\u4EFB\\u8005\\uFF0CWebTransport \\u63D0\\u4F9B\\u4E86\\u66F4\\u7075\\u6D3B\\u7684\\u4F20\\u8F93\\u534F\\u8BAE\\uFF0C\\u53EF\\u80FD\\u6539\\u53D8\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u65B9\\u5F0F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8FB9\\u7F18\\u8BA1\\u7B97\"}),\"\\uFF1A\\u8FB9\\u7F18\\u670D\\u52A1\\u5668\\u7684\\u666E\\u53CA\\u5C06\\u964D\\u4F4E\\u7F51\\u7EDC\\u5EF6\\u8FDF\\uFF0C\\u5FC3\\u8DF3\\u673A\\u5236\\u53EF\\u80FD\\u66F4\\u591A\\u7528\\u4E8E\\u72B6\\u6001\\u540C\\u6B65\\u800C\\u975E\\u4FDD\\u6D3B\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"AI \\u9A71\\u52A8\\u7684\\u4F18\\u5316\"}),\"\\uFF1AAI \\u53EF\\u4EE5\\u6839\\u636E\\u7528\\u6237\\u884C\\u4E3A\\u548C\\u7F51\\u7EDC\\u72B6\\u51B5\\u52A8\\u6001\\u8C03\\u6574\\u5FC3\\u8DF3\\u7B56\\u7565\\uFF0C\\u63D0\\u5347\\u6548\\u7387\\u3002\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"\\u201C\\u6280\\u672F\\u5982\\u6CB3\\u6D41\\uFF0C\\u5954\\u6D41\\u4E0D\\u606F\\uFF1B\\u5FC3\\u8DF3\\u5982\\u661F\\u8FB0\\uFF0C\\u6307\\u5F15\\u672A\\u6765\\u3002\\u201D\",(0,e.jsx)(n.br,{}),`\n`,\"\\u2014\\u2014 \\u7075\\u611F\\u6E90\\u4E8E\\u6CF0\\u6208\\u5C14\\u300A\\u98DE\\u9E1F\\u96C6\\u300B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u6301\\u7EED\\u5173\\u6CE8 W3C \\u548C IETF \\u7684\\u534F\\u8BAE\\u66F4\\u65B0\\uFF0C\\u4FDD\\u6301\\u6280\\u672F\\u654F\\u611F\\u5EA6\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"9-\\u7ED3\\u8BED\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u4E0E\\u6C38\\u6052\",children:(0,e.jsx)(n.a,{href:\"#9-\\u7ED3\\u8BED\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u4E0E\\u6C38\\u6052\",children:\"9. \\u7ED3\\u8BED\\uFF1A\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u4E0E\\u6C38\\u6052\"})}),`\n`,(0,e.jsx)(n.p,{children:\"WebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\uFF0C\\u770B\\u4F3C\\u7B80\\u5355\\u7684\\u6280\\u672F\\u7EC6\\u8282\\uFF0C\\u5374\\u627F\\u8F7D\\u7740\\u8FDE\\u63A5\\u7684\\u751F\\u547D\\u529B\\u3002\\u5B83\\u8BA9\\u6211\\u4EEC\\u610F\\u8BC6\\u5230\\uFF0C\\u5373\\u4F7F\\u5728\\u51B0\\u51B7\\u7684\\u4EE3\\u7801\\u80CC\\u540E\\uFF0C\\u4E5F\\u6709\\u4E00\\u9897\\u8DF3\\u52A8\\u7684\\u5FC3\\u810F\\uFF0C\\u7EF4\\u7CFB\\u7740\\u4EBA\\u4E0E\\u4EBA\\u3001\\u7CFB\\u7EDF\\u4E0E\\u7CFB\\u7EDF\\u4E4B\\u95F4\\u7684\\u6C9F\\u901A\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6B63\\u5982\\u300A\\u5C0F\\u738B\\u5B50\\u300B\\u4E2D\\u6240\\u8BF4\\uFF1A\\u201C\\u771F\\u6B63\\u91CD\\u8981\\u7684\\u4E1C\\u897F\\uFF0C\\u7528\\u773C\\u775B\\u662F\\u770B\\u4E0D\\u5230\\u7684\\u3002\\u201D \\u5FC3\\u8DF3\\u673A\\u5236\\u867D\\u7136\\u9690\\u5F62\\uFF0C\\u5374\\u65E0\\u5904\\u4E0D\\u5728\\u3002\\u5B83\\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u7684\\u5B9E\\u73B0\\uFF0C\\u66F4\\u662F\\u8BBE\\u8BA1\\u7684\\u54F2\\u5B66\\u3001\\u6C9F\\u901A\\u7684\\u827A\\u672F\\u3001\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u613F\\u4F60\\u5728 WebSocket \\u7684\\u4E16\\u754C\\u4E2D\\uFF0C\\u627E\\u5230\\u5C5E\\u4E8E\\u81EA\\u5DF1\\u7684\\u90A3\\u9897\\u201C\\u5FC3\\u8DF3\\u201D\\uFF0C\\u8BA9\\u6BCF\\u4E00\\u6B21\\u8FDE\\u63A5\\u90FD\\u5145\\u6EE1\\u751F\\u547D\\u529B\\u3002\\u{1F31F}\"}),`\n`,(0,e.jsx)(n.h1,{id:\"websocket-\\u5FC3\\u8DF3\\u673A\\u5236\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u7684\\u6DF1\\u5EA6\\u4E4B\\u65C5\",children:(0,e.jsx)(n.a,{href:\"#websocket-\\u5FC3\\u8DF3\\u673A\\u5236\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u7684\\u6DF1\\u5EA6\\u4E4B\\u65C5\",children:\"WebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\uFF1A\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u7684\\u6DF1\\u5EA6\\u4E4B\\u65C5\"})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"\\u201C\\u5FC3\\u8DF3\\u5982\\u8BD7\\uFF0C\\u8109\\u52A8\\u4E0D\\u606F\\uFF1B\\u8FDE\\u63A5\\u5982\\u5F26\\uFF0C\\u4F59\\u97F3\\u7ED5\\u6881\\u3002\\u201D\",(0,e.jsx)(n.br,{}),`\n`,\"\\u2014\\u2014 \\u7075\\u611F\\u6E90\\u4E8E\\u300A\\u8BD7\\u7ECF\\xB7\\u5C0F\\u96C5\\xB7\\u9E7F\\u9E23\\u300B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u6D69\\u701A\\u661F\\u7A7A\\u4E0B\\uFF0CWebSocket \\u5B9B\\u5982\\u4E00\\u9897\\u7480\\u74A8\\u7684\\u660E\\u661F\\uFF0C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u5F00\\u542F\\u4E86\\u53CC\\u5411\\u901A\\u4FE1\\u7684\\u5947\\u5999\\u5927\\u95E8\\u3002\\u7136\\u800C\\uFF0C\\u7F51\\u7EDC\\u4E16\\u754C\\u5E76\\u975E\\u98CE\\u5E73\\u6D6A\\u9759\\uFF0C\\u8FDE\\u63A5\\u7684\\u7A33\\u5B9A\\u6027\\u5982\\u540C\\u6D77\\u4E0A\\u5B64\\u821F\\uFF0C\\u968F\\u65F6\\u53EF\\u80FD\\u88AB\\u98CE\\u6D6A\\u541E\\u566C\\u3002\\u8FD9\\u65F6\\uFF0C\\u5FC3\\u8DF3\\u673A\\u5236\\u4FBF\\u5982\\u540C\\u4E00\\u76CF\\u660E\\u706F\\uFF0C\\u6307\\u5F15\\u7740\\u8FDE\\u63A5\\u5728\\u9ED1\\u6697\\u4E2D\\u4FDD\\u6301\\u8109\\u52A8\\u3002\\u{1F493}\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165 WebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\u4E0E\\u5B9E\\u8DF5\\uFF0C\\u4ECE\\u534F\\u8BAE\\u5E95\\u5C42\\u5230\\u67B6\\u6784\\u8BBE\\u8BA1\\uFF0C\\u4ECE\\u4EE3\\u7801\\u5B9E\\u73B0\\u5230\\u54F2\\u5B66\\u601D\\u8003\\uFF0C\\u529B\\u6C42\\u4E3A\\u4F60\\u5448\\u73B0\\u4E00\\u5E45\\u5168\\u9762\\u800C\\u6DF1\\u523B\\u7684\\u753B\\u5377\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521D\\u63A2\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u65B0\\u624B\\uFF0C\\u8FD8\\u662F\\u4E45\\u7ECF\\u6C99\\u573A\\u7684\\u8001\\u5C06\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u90FD\\u5C06\\u4E3A\\u4F60\\u63D0\\u4F9B\\u542F\\u53D1\\u4E0E\\u6307\\u5F15\\u3002\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u8E0F\\u4E0A\\u8FD9\\u573A\\u6280\\u672F\\u4E0E\\u601D\\u7EF4\\u7684\\u65C5\\u7A0B\\u5427\\uFF01\\u{1F680}\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u76EE\\u5F55-1\",children:(0,e.jsx)(n.a,{href:\"#\\u76EE\\u5F55-1\",children:\"\\u76EE\\u5F55\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"WebSocket \\u7B80\\u4ECB\\uFF1A\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u57FA\\u77F3\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u4E3A\\u4F55\\u9700\\u8981\\u5FC3\\u8DF3\\u673A\\u5236\\uFF1F\\u7F51\\u7EDC\\u4E16\\u754C\\u7684\\u201C\\u8109\\u640F\\u201D\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\uFF1A\\u4ECE TCP \\u5230\\u5E94\\u7528\\u5C42\"})}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u4E0E\\u5B9E\\u73B0\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u6D88\\u606F\\u683C\\u5F0F\\u4E0E\\u534F\\u8BAE\\u8BBE\\u8BA1\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u534F\\u540C\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\\uFF1A\\u5FC3\\u8DF3\\u7684\\u201C\\u5FC3\\u52A8\\u201D\\u65F6\\u523B\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u5FC3\\u8DF3\\u66F4\\u4F18\\u96C5\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u67B6\\u6784\\u89C6\\u89D2\\uFF1A\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u672A\\u6765\\u5C55\\u671B\\uFF1AWebSocket \\u4E0E\\u5FC3\\u8DF3\\u7684\\u4E0B\\u4E00\\u7AD9\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.strong,{children:\"\\u7ED3\\u8BED\\uFF1A\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u4E0E\\u6C38\\u6052\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"1-websocket-\\u7B80\\u4ECB\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u57FA\\u77F3-1\",children:(0,e.jsx)(n.a,{href:\"#1-websocket-\\u7B80\\u4ECB\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u57FA\\u77F3-1\",children:\"1. WebSocket \\u7B80\\u4ECB\\uFF1A\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u57FA\\u77F3\"})}),`\n`,(0,e.jsx)(n.p,{children:\"WebSocket\\uFF0C\\u8BDE\\u751F\\u4E8E HTML5 \\u65F6\\u4EE3\\uFF0C\\u662F\\u4E00\\u79CD\\u57FA\\u4E8E TCP \\u7684\\u5168\\u53CC\\u5DE5\\u901A\\u4FE1\\u534F\\u8BAE\\u3002\\u5B83\\u6253\\u7834\\u4E86 HTTP \\u8BF7\\u6C42-\\u54CD\\u5E94\\u7684\\u5355\\u5411\\u675F\\u7F1A\\uFF0C\\u8BA9\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u80FD\\u591F\\u81EA\\u7531\\u201C\\u5BF9\\u8BDD\\u201D\\u3002\\u{1F310} \\u76F8\\u6BD4\\u4F20\\u7EDF\\u7684\\u8F6E\\u8BE2\\u6216\\u957F\\u8F6E\\u8BE2\\uFF0CWebSocket \\u4E0D\\u4EC5\\u964D\\u4F4E\\u4E86\\u5EF6\\u8FDF\\uFF0C\\u8FD8\\u6781\\u5927\\u5730\\u51CF\\u5C11\\u4E86\\u670D\\u52A1\\u5668\\u8D44\\u6E90\\u6D88\\u8017\\u3002\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"\\u201CWebSocket \\u5C31\\u50CF\\u4E00\\u573A\\u6C38\\u4E0D\\u843D\\u5E55\\u7684\\u5BF9\\u8BDD\\uFF0C\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u5728\\u65F6\\u95F4\\u7684\\u957F\\u6CB3\\u4E2D\\u4F4E\\u8BED\\u3002\\u201D\",(0,e.jsx)(n.br,{}),`\n`,\"\\u2014\\u2014 \\u7075\\u611F\\u6E90\\u4E8E\\u68AD\\u7F57\\u300A\\u74E6\\u5C14\\u767B\\u6E56\\u300B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"WebSocket \\u7684\\u6838\\u5FC3\\u7279\\u70B9\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5168\\u53CC\\u5DE5\\u901A\\u4FE1\"}),\"\\uFF1A\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u53EF\\u540C\\u65F6\\u53D1\\u9001\\u548C\\u63A5\\u6536\\u6D88\\u606F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F4E\\u5F00\\u9500\"}),\"\\uFF1A\\u57FA\\u4E8E TCP \\u7684\\u5355\\u4E00\\u8FDE\\u63A5\\uFF0C\\u907F\\u514D\\u4E86 HTTP \\u5934\\u90E8\\u7684\\u5197\\u4F59\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5B9E\\u65F6\\u6027\"}),\"\\uFF1A\\u6D88\\u606F\\u4F20\\u9012\\u8FD1\\u4E4E\\u77AC\\u65F6\\uFF0C\\u9002\\u5408\\u804A\\u5929\\u3001\\u6E38\\u620F\\u3001\\u5B9E\\u65F6\\u901A\\u77E5\\u7B49\\u573A\\u666F\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7136\\u800C\\uFF0CWebSocket \\u7684\\u8FDE\\u63A5\\u5E76\\u975E\\u575A\\u4E0D\\u53EF\\u6467\\u3002\\u7F51\\u7EDC\\u6296\\u52A8\\u3001\\u670D\\u52A1\\u5668\\u91CD\\u542F\\u3001\\u5BA2\\u6237\\u7AEF\\u4F11\\u7720\\u7B49\\u56E0\\u7D20\\u90FD\\u53EF\\u80FD\\u5BFC\\u81F4\\u8FDE\\u63A5\\u4E2D\\u65AD\\u3002\\u8FD9\\u65F6\\u5019\\uFF0C\\u5FC3\\u8DF3\\u673A\\u5236\\u4FBF\\u5982\\u540C\\u4E00\\u9897\\u8DF3\\u52A8\\u7684\\u5FC3\\u810F\\uFF0C\\u4E3A\\u8FDE\\u63A5\\u6CE8\\u5165\\u751F\\u547D\\u529B\\u3002\\u{1F497}\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsxs)(n.em,{children:[\"Tips: WebSocket \\u7684\\u5EFA\\u7ACB\\u4F9D\\u8D56\\u4E8E HTTP \\u63E1\\u624B\\uFF0C\\u4E86\\u89E3 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"Upgrade\"})})})}),\" \\u5934\\u548C \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"101 Switching Protocols\"})})})}),\" \\u72B6\\u6001\\u7801\\u6709\\u52A9\\u4E8E\\u8C03\\u8BD5\\u8FDE\\u63A5\\u95EE\\u9898\\u3002\"]})}),`\n`,(0,e.jsx)(n.h2,{id:\"2-\\u4E3A\\u4F55\\u9700\\u8981\\u5FC3\\u8DF3\\u673A\\u5236\\u7F51\\u7EDC\\u4E16\\u754C\\u7684\\u8109\\u640F-1\",children:(0,e.jsx)(n.a,{href:\"#2-\\u4E3A\\u4F55\\u9700\\u8981\\u5FC3\\u8DF3\\u673A\\u5236\\u7F51\\u7EDC\\u4E16\\u754C\\u7684\\u8109\\u640F-1\",children:\"2. \\u4E3A\\u4F55\\u9700\\u8981\\u5FC3\\u8DF3\\u673A\\u5236\\uFF1F\\u7F51\\u7EDC\\u4E16\\u754C\\u7684\\u201C\\u8109\\u640F\\u201D\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u7406\\u60F3\\u4E16\\u754C\\u4E2D\\uFF0CWebSocket \\u8FDE\\u63A5\\u5E94\\u8BE5\\u5982\\u300A\\u661F\\u9645\\u7A7F\\u8D8A\\u300B\\u4E2D\\u7684\\u9ED1\\u6D1E\\u822C\\u7A33\\u5B9A\\u6C38\\u6052\\u3002\\u7136\\u800C\\uFF0C\\u73B0\\u5B9E\\u7F51\\u7EDC\\u73AF\\u5883\\u5374\\u66F4\\u50CF\\u300A\\u6743\\u529B\\u7684\\u6E38\\u620F\\u300B\\u4E2D\\u7684\\u7EF4\\u65AF\\u7279\\u6D1B\\u5927\\u9646\\uFF0C\\u5145\\u6EE1\\u4E86\\u4E0D\\u53EF\\u9884\\u6D4B\\u7684\\u5371\\u673A\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\"}),\"\\uFF1A\\u79FB\\u52A8\\u8BBE\\u5907\\u5207\\u6362 Wi-Fi \\u6216 4G/5G\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u8FDE\\u63A5\\u4E2D\\u65AD\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"NAT \\u8D85\\u65F6\"}),\"\\uFF1A\\u8BB8\\u591A\\u8DEF\\u7531\\u5668\\u4F1A\\u5BF9\\u957F\\u65F6\\u95F4\\u672A\\u901A\\u4FE1\\u7684 TCP \\u8FDE\\u63A5\\u8FDB\\u884C\\u8D85\\u65F6\\u6E05\\u7406\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u670D\\u52A1\\u5668\\u7B56\\u7565\"}),\"\\uFF1A\\u8D1F\\u8F7D\\u5747\\u8861\\u5668\\u53EF\\u80FD\\u56E0\\u68C0\\u6D4B\\u4E0D\\u5230\\u6D3B\\u8DC3\\u8FDE\\u63A5\\u800C\\u5173\\u95ED\\u5B83\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5BA2\\u6237\\u7AEF\\u4F11\\u7720\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u6807\\u7B7E\\u9875\\u4F11\\u7720\\u6216\\u8BBE\\u5907\\u9501\\u5C4F\\u4F1A\\u6682\\u505C WebSocket \\u6D3B\\u52A8\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u672C\\u8D28\\u662F\\u901A\\u8FC7\\u5B9A\\u671F\\u53D1\\u9001\\u8F7B\\u91CF\\u7EA7\\u6D88\\u606F\\uFF08\\u901A\\u5E38\\u79F0\\u4E3A\\u201CPing\\u201D\\u6216\\u201CPong\\u201D\\uFF09\\uFF0C\\u68C0\\u6D4B\\u8FDE\\u63A5\\u662F\\u5426\\u4F9D\\u7136\\u201C\\u6D3B\\u7740\\u201D\\u3002\\u5982\\u679C\\u6CA1\\u6709\\u5FC3\\u8DF3\\uFF0C\\u8FDE\\u63A5\\u53EF\\u80FD\\u5728\\u65E0\\u58F0\\u4E2D\\u6D88\\u4EA1\\uFF0C\\u5982\\u540C\\u838E\\u58EB\\u6BD4\\u4E9A\\u7B14\\u4E0B\\u7684\\u54C8\\u59C6\\u96F7\\u7279\\uFF0C\\u201C\\u751F\\u5B58\\u8FD8\\u662F\\u6BC1\\u706D\\uFF0C\\u8FD9\\u662F\\u4E00\\u4E2A\\u95EE\\u9898\\u3002\\u201D\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E0B\\u8868\\u603B\\u7ED3\\u4E86\\u5FC3\\u8DF3\\u673A\\u5236\\u89E3\\u51B3\\u7684\\u4E3B\\u8981\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u95EE\\u9898\\u573A\\u666F\"}),(0,e.jsx)(n.th,{children:\"\\u63CF\\u8FF0\"}),(0,e.jsx)(n.th,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u89E3\\u51B3\\u65B9\\u6848\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"NAT \\u8D85\\u65F6\"}),(0,e.jsx)(n.td,{children:\"\\u8DEF\\u7531\\u5668\\u56E0\\u957F\\u65F6\\u95F4\\u65E0\\u6570\\u636E\\u4F20\\u8F93\\u5173\\u95ED\\u8FDE\\u63A5\"}),(0,e.jsx)(n.td,{children:\"\\u5B9A\\u671F\\u53D1\\u9001\\u5FC3\\u8DF3\\u5305\\uFF0C\\u4FDD\\u6301\\u8FDE\\u63A5\\u6D3B\\u8DC3\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u670D\\u52A1\\u5668\\u8D1F\\u8F7D\\u5747\\u8861\"}),(0,e.jsx)(n.td,{children:\"\\u8D1F\\u8F7D\\u5747\\u8861\\u5668\\u8BEF\\u5224\\u8FDE\\u63A5\\u4E3A\\u95F2\\u7F6E\\u5E76\\u5173\\u95ED\"}),(0,e.jsx)(n.td,{children:\"\\u5FC3\\u8DF3\\u6D88\\u606F\\u4F5C\\u4E3A\\u6D3B\\u8DC3\\u4FE1\\u53F7\\uFF0C\\u9632\\u6B62\\u88AB\\u8BEF\\u5173\\u95ED\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u7F51\\u7EDC\\u5207\\u6362\"}),(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\\u7F51\\u7EDC\\u5207\\u6362\\u5BFC\\u81F4\\u8FDE\\u63A5\\u4E2D\\u65AD\"}),(0,e.jsx)(n.td,{children:\"\\u5FEB\\u901F\\u68C0\\u6D4B\\u65AD\\u5F00\\u5E76\\u89E6\\u53D1\\u91CD\\u8FDE\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\\u4F11\\u7720\"}),(0,e.jsx)(n.td,{children:\"\\u6D4F\\u89C8\\u5668\\u6216\\u8BBE\\u5907\\u4F11\\u7720\\u5BFC\\u81F4\\u8FDE\\u63A5\\u6682\\u505C\"}),(0,e.jsx)(n.td,{children:\"\\u68C0\\u6D4B\\u4F11\\u7720\\u540E\\u7684\\u8FDE\\u63A5\\u72B6\\u6001\\uFF0C\\u5FC5\\u8981\\u65F6\\u91CD\\u65B0\\u5EFA\\u7ACB\\u8FDE\\u63A5\"})]})]})]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5FC3\\u8DF3\\u673A\\u5236\\u4E0D\\u4EC5\\u4EC5\\u662F\\u201C\\u4FDD\\u6D3B\\u201D\\uFF0C\\u8FD8\\u53EF\\u4EE5\\u7528\\u6765\\u68C0\\u6D4B\\u7F51\\u7EDC\\u5EF6\\u8FDF\\uFF0C\\u4F18\\u5316\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"3-\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\u4ECE-tcp-\\u5230\\u5E94\\u7528\\u5C42-1\",children:(0,e.jsx)(n.a,{href:\"#3-\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\u4ECE-tcp-\\u5230\\u5E94\\u7528\\u5C42-1\",children:\"3. \\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u539F\\u7406\\uFF1A\\u4ECE TCP \\u5230\\u5E94\\u7528\\u5C42\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8981\\u7406\\u89E3\\u5FC3\\u8DF3\\u673A\\u5236\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u4ECE TCP \\u534F\\u8BAE\\u7684\\u5E95\\u5C42\\u5F00\\u59CB\\uFF0C\\u5C42\\u5C42\\u9012\\u8FDB\\uFF0C\\u76F4\\u8FBE\\u5E94\\u7528\\u5C42\\u3002\\u8FD9\\u5C31\\u50CF\\u63A2\\u5BFB\\u4E00\\u9996\\u4EA4\\u54CD\\u4E50\\u7684\\u521B\\u4F5C\\uFF0C\\u4ECE\\u4E50\\u5668\\u7684\\u6784\\u9020\\u5230\\u4E50\\u8C31\\u7684\\u7F16\\u6392\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"31-tcp-keepalive\\u5E95\\u5C42\\u7684\\u5FC3\\u8DF3-1\",children:(0,e.jsx)(n.a,{href:\"#31-tcp-keepalive\\u5E95\\u5C42\\u7684\\u5FC3\\u8DF3-1\",children:\"3.1 TCP Keepalive\\uFF1A\\u5E95\\u5C42\\u7684\\u201C\\u5FC3\\u8DF3\\u201D\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"TCP \\u534F\\u8BAE\\u672C\\u8EAB\\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u79F0\\u4E3A \",(0,e.jsx)(n.strong,{children:\"TCP Keepalive\"}),\" \\u7684\\u673A\\u5236\\uFF0C\\u901A\\u8FC7\\u53D1\\u9001\\u7A7A\\u7684 TCP \\u6570\\u636E\\u5305\\u6765\\u68C0\\u6D4B\\u8FDE\\u63A5\\u662F\\u5426\\u5B58\\u6D3B\\u3002\\u7136\\u800C\\uFF0CTCP Keepalive \\u6709\\u51E0\\u4E2A\\u5C40\\u9650\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u914D\\u7F6E\\u590D\\u6742\"}),\"\\uFF1A\\u9700\\u8981\\u64CD\\u4F5C\\u7CFB\\u7EDF\\u6216\\u670D\\u52A1\\u5668\\u5C42\\u9762\\u542F\\u7528\\uFF0C\\u4E14\\u53C2\\u6570\\uFF08\\u5982\\u95F4\\u9694\\u65F6\\u95F4\\uFF09\\u4E0D\\u6613\\u8C03\\u6574\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8D44\\u6E90\\u5F00\\u9500\"}),\"\\uFF1A\\u5BF9\\u5927\\u91CF\\u8FDE\\u63A5\\u7684\\u573A\\u666F\\uFF0CKeepalive \\u6570\\u636E\\u5305\\u53EF\\u80FD\\u5F15\\u53D1\\u6027\\u80FD\\u95EE\\u9898\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4E0D\\u53EF\\u5B9A\\u5236\"}),\"\\uFF1A\\u65E0\\u6CD5\\u643A\\u5E26\\u5E94\\u7528\\u5C42\\u6570\\u636E\\uFF0C\\u96BE\\u4EE5\\u6EE1\\u8DB3\\u4E1A\\u52A1\\u9700\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u56E0\\u6B64\\uFF0CWebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\u901A\\u5E38\\u5728\\u5E94\\u7528\\u5C42\\u5B9E\\u73B0\\uFF0C\\u57FA\\u4E8E WebSocket \\u534F\\u8BAE\\u7684 Ping/Pong \\u5E27\\u6216\\u81EA\\u5B9A\\u4E49\\u6D88\\u606F\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"32-websocket-\\u7684-pingpong-\\u5E27-1\",children:(0,e.jsx)(n.a,{href:\"#32-websocket-\\u7684-pingpong-\\u5E27-1\",children:\"3.2 WebSocket \\u7684 Ping/Pong \\u5E27\"})}),`\n`,(0,e.jsx)(n.p,{children:\"WebSocket \\u534F\\u8BAE\\u5185\\u7F6E\\u4E86 Ping \\u548C Pong \\u63A7\\u5236\\u5E27\\uFF0C\\u4E13\\u95E8\\u7528\\u4E8E\\u5FC3\\u8DF3\\u68C0\\u6D4B\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Ping \\u5E27\"}),\"\\uFF1A\\u7531\\u4E00\\u65B9\\u53D1\\u9001\\uFF0C\\u8BF7\\u6C42\\u5BF9\\u65B9\\u56DE\\u5E94\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Pong \\u5E27\"}),\"\\uFF1A\\u4F5C\\u4E3A\\u5BF9 Ping \\u7684\\u54CD\\u5E94\\uFF0C\\u8868\\u660E\\u8FDE\\u63A5\\u6D3B\\u8DC3\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4E9B\\u5E27\\u975E\\u5E38\\u8F7B\\u91CF\\uFF0C\\u901A\\u5E38\\u53EA\\u5305\\u542B\\u51E0\\u5B57\\u8282\\u7684\\u6570\\u636E\\uFF0C\\u4E14\\u7531 WebSocket \\u534F\\u8BAE\\u6808\\u81EA\\u52A8\\u5904\\u7406\\u3002\\u7136\\u800C\\uFF0C\\u6D4F\\u89C8\\u5668\\u5BF9 Ping/Pong \\u5E27\\u7684\\u652F\\u6301\\u6709\\u9650\\uFF0C\\u8BB8\\u591A\\u5F00\\u53D1\\u8005\\u66F4\\u503E\\u5411\\u4E8E\\u4F7F\\u7528\\u81EA\\u5B9A\\u4E49\\u7684\\u5FC3\\u8DF3\\u6D88\\u606F\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"33-\\u5E94\\u7528\\u5C42\\u5FC3\\u8DF3\\u7075\\u6D3B\\u4E0E\\u638C\\u63A7-1\",children:(0,e.jsx)(n.a,{href:\"#33-\\u5E94\\u7528\\u5C42\\u5FC3\\u8DF3\\u7075\\u6D3B\\u4E0E\\u638C\\u63A7-1\",children:\"3.3 \\u5E94\\u7528\\u5C42\\u5FC3\\u8DF3\\uFF1A\\u7075\\u6D3B\\u4E0E\\u638C\\u63A7\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5E94\\u7528\\u5C42\\u5FC3\\u8DF3\\u901A\\u8FC7\\u53D1\\u9001\\u81EA\\u5B9A\\u4E49 JSON \\u6216\\u6587\\u672C\\u6D88\\u606F\\u5B9E\\u73B0\\uFF0C\\u683C\\u5F0F\\u7075\\u6D3B\\uFF0C\\u53EF\\u643A\\u5E26\\u4E1A\\u52A1\\u6570\\u636E\\u3002\\u4F8B\\u5982\\uFF0C\\u4E00\\u4E2A\\u804A\\u5929\\u5E94\\u7528\\u7684\\u5BA2\\u6237\\u7AEF\\u53EF\\u80FD\\u6BCF 30 \\u79D2\\u53D1\\u9001\\u5982\\u4E0B\\u6D88\\u606F\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"type\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"ping\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"timestamp\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1698765432\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u670D\\u52A1\\u7AEF\\u6536\\u5230\\u540E\\u56DE\\u5E94\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"type\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"pong\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"timestamp\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1698765432\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u79CD\\u65B9\\u5F0F\\u7684\\u4F18\\u52BF\\u5728\\u4E8E\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u53EF\\u6269\\u5C55\\u6027\"}),\"\\uFF1A\\u6D88\\u606F\\u53EF\\u4EE5\\u643A\\u5E26\\u72B6\\u6001\\u3001\\u5EF6\\u8FDF\\u4FE1\\u606F\\u7B49\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6613\\u8C03\\u8BD5\"}),\"\\uFF1A\\u5F00\\u53D1\\u8005\\u53EF\\u76F4\\u63A5\\u67E5\\u770B\\u6D88\\u606F\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8DE8\\u5E73\\u53F0\\u517C\\u5BB9\"}),\"\\uFF1A\\u65E0\\u9700\\u4F9D\\u8D56\\u5E95\\u5C42\\u7684 Ping/Pong \\u5E27\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u8BBE\\u8BA1\\u5FC3\\u8DF3\\u6D88\\u606F\\u65F6\\uFF0C\\u5C3D\\u91CF\\u4FDD\\u6301\\u8F7B\\u91CF\\uFF0C\\u907F\\u514D\\u5305\\u542B\\u8FC7\\u591A\\u4E1A\\u52A1\\u6570\\u636E\\uFF0C\\u4EE5\\u51CF\\u5C11\\u5E26\\u5BBD\\u6D88\\u8017\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"4-\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u4E0E\\u5B9E\\u73B0-1\",children:(0,e.jsx)(n.a,{href:\"#4-\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u4E0E\\u5B9E\\u73B0-1\",children:\"4. \\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u4E0E\\u5B9E\\u73B0\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u9700\\u8981\\u5E73\\u8861\\u6027\\u80FD\\u3001\\u7A33\\u5B9A\\u6027\\u548C\\u7528\\u6237\\u4F53\\u9A8C\\u3002\\u4EE5\\u4E0B\\u4ECE\\u534F\\u8BAE\\u8BBE\\u8BA1\\u3001\\u534F\\u540C\\u673A\\u5236\\u5230\\u4EE3\\u7801\\u5B9E\\u73B0\\uFF0C\\u9010\\u6B65\\u5C55\\u5F00\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"41-\\u6D88\\u606F\\u683C\\u5F0F\\u4E0E\\u534F\\u8BAE\\u8BBE\\u8BA1-1\",children:(0,e.jsx)(n.a,{href:\"#41-\\u6D88\\u606F\\u683C\\u5F0F\\u4E0E\\u534F\\u8BAE\\u8BBE\\u8BA1-1\",children:\"4.1 \\u6D88\\u606F\\u683C\\u5F0F\\u4E0E\\u534F\\u8BAE\\u8BBE\\u8BA1\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E00\\u4E2A\\u597D\\u7684\\u5FC3\\u8DF3\\u534F\\u8BAE\\u5E94\\u8BE5\\u7B80\\u6D01\\u3001\\u660E\\u786E\\u4E14\\u6613\\u4E8E\\u6269\\u5C55\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u63A8\\u8350\\u7684 JSON \\u683C\\u5F0F\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"type\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"heartbeat\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"id\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"unique-message-id\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"timestamp\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1698765432\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"data\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": {} \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u53EF\\u9009\\uFF0C\\u6269\\u5C55\\u5B57\\u6BB5\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"type\"}),\"\\uFF1A\\u6807\\u8BC6\\u6D88\\u606F\\u7C7B\\u578B\\uFF0C\\u533A\\u5206\\u5FC3\\u8DF3\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"id\"}),\"\\uFF1A\\u552F\\u4E00\\u6807\\u8BC6\\uFF0C\\u7528\\u4E8E\\u5339\\u914D\\u8BF7\\u6C42\\u4E0E\\u54CD\\u5E94\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"timestamp\"}),\"\\uFF1A\\u8BB0\\u5F55\\u53D1\\u9001\\u65F6\\u95F4\\uFF0C\\u4FBF\\u4E8E\\u5EF6\\u8FDF\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"data\"}),\"\\uFF1A\\u9884\\u7559\\u5B57\\u6BB5\\uFF0C\\u7528\\u4E8E\\u672A\\u6765\\u6269\\u5C55\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"42-\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u534F\\u540C-1\",children:(0,e.jsx)(n.a,{href:\"#42-\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u534F\\u540C-1\",children:\"4.2 \\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u534F\\u540C\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u9700\\u8981\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u7D27\\u5BC6\\u534F\\u4F5C\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u5178\\u578B\\u7684\\u5DE5\\u4F5C\\u6D41\\u7A0B\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5BA2\\u6237\\u7AEF\"}),\"\\uFF1A\\u6BCF\\u9694\\u56FA\\u5B9A\\u65F6\\u95F4\\uFF08\\u5982 30 \\u79D2\\uFF09\\u53D1\\u9001\\u5FC3\\u8DF3\\u6D88\\u606F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u670D\\u52A1\\u7AEF\"}),\"\\uFF1A\\u6536\\u5230\\u5FC3\\u8DF3\\u540E\\u7ACB\\u5373\\u54CD\\u5E94\\uFF0C\\u6216\\u5B9A\\u671F\\u4E3B\\u52A8\\u53D1\\u9001\\u5FC3\\u8DF3\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8D85\\u65F6\\u68C0\\u6D4B\"}),\"\\uFF1A\\u4EFB\\u4E00\\u65B9\\u82E5\\u5728\\u6307\\u5B9A\\u65F6\\u95F4\\u5185\\u672A\\u6536\\u5230\\u5FC3\\u8DF3\\uFF0C\\u5219\\u8BA4\\u4E3A\\u8FDE\\u63A5\\u65AD\\u5F00\\uFF0C\\u89E6\\u53D1\\u91CD\\u8FDE\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E0B\\u8868\\u603B\\u7ED3\\u4E86\\u5BA2\\u6237\\u7AEF\\u4E0E\\u670D\\u52A1\\u7AEF\\u7684\\u804C\\u8D23\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u89D2\\u8272\"}),(0,e.jsx)(n.th,{children:\"\\u804C\\u8D23\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\"}),(0,e.jsx)(n.td,{children:\"\\u5B9A\\u671F\\u53D1\\u9001\\u5FC3\\u8DF3\\u3001\\u76D1\\u542C\\u670D\\u52A1\\u7AEF\\u54CD\\u5E94\\u3001\\u68C0\\u6D4B\\u8D85\\u65F6\\u5E76\\u89E6\\u53D1\\u91CD\\u8FDE\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u670D\\u52A1\\u7AEF\"}),(0,e.jsx)(n.td,{children:\"\\u54CD\\u5E94\\u5BA2\\u6237\\u7AEF\\u5FC3\\u8DF3\\u3001\\u4E3B\\u52A8\\u53D1\\u9001\\u5FC3\\u8DF3\\uFF08\\u53EF\\u9009\\uFF09\\u3001\\u6E05\\u7406\\u8D85\\u65F6\\u8FDE\\u63A5\"})]})]})]}),`\n`,(0,e.jsx)(n.h3,{id:\"43-\\u4EE3\\u7801\\u793A\\u4F8B\\u5FC3\\u8DF3\\u7684\\u5FC3\\u52A8\\u65F6\\u523B-1\",children:(0,e.jsx)(n.a,{href:\"#43-\\u4EE3\\u7801\\u793A\\u4F8B\\u5FC3\\u8DF3\\u7684\\u5FC3\\u52A8\\u65F6\\u523B-1\",children:\"4.3 \\u4EE3\\u7801\\u793A\\u4F8B\\uFF1A\\u5FC3\\u8DF3\\u7684\\u201C\\u5FC3\\u52A8\\u201D\\u65F6\\u523B\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u8BF7\\u53C2\\u8003\\u672C\\u6587\\u63D0\\u4F9B\\u7684 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"websocket-heartbeat.js\"})})})}),\" \\u793A\\u4F8B\\u4EE3\\u7801\\uFF08\\u89C1\\u4E0A\\u6587\\uFF09\\u3002\"]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\uFF0C\\u5EFA\\u8BAE\\u4E3A\\u91CD\\u8FDE\\u673A\\u5236\\u6DFB\\u52A0\\u6307\\u6570\\u9000\\u907F\\u7B97\\u6CD5\\uFF0C\\u907F\\u514D\\u77ED\\u65F6\\u95F4\\u5185\\u9891\\u7E41\\u91CD\\u8FDE\\u5BFC\\u81F4\\u670D\\u52A1\\u5668\\u538B\\u529B\\u8FC7\\u5927\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u5FC3\\u8DF3\\u66F4\\u4F18\\u96C5-1\",children:(0,e.jsx)(n.a,{href:\"#5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u5FC3\\u8DF3\\u66F4\\u4F18\\u96C5-1\",children:\"5. \\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u5FC3\\u8DF3\\u66F4\\u4F18\\u96C5\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u7ECF\\u8FC7\\u5B9E\\u8DF5\\u9A8C\\u8BC1\\u7684\\u5FC3\\u8DF3\\u673A\\u5236\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E2E\\u52A9\\u4F60\\u6253\\u9020\\u66F4\\u5065\\u58EE\\u7684 WebSocket \\u5E94\\u7528\\uFF1A\"}),`\n`,(0,e.jsx)(n.h3,{id:\"51-\\u52A8\\u6001\\u8C03\\u6574\\u5FC3\\u8DF3\\u95F4\\u9694-1\",children:(0,e.jsx)(n.a,{href:\"#51-\\u52A8\\u6001\\u8C03\\u6574\\u5FC3\\u8DF3\\u95F4\\u9694-1\",children:\"5.1 \\u52A8\\u6001\\u8C03\\u6574\\u5FC3\\u8DF3\\u95F4\\u9694\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u56FA\\u5B9A\\u5FC3\\u8DF3\\u95F4\\u9694\\u53EF\\u80FD\\u65E0\\u6CD5\\u9002\\u5E94\\u6240\\u6709\\u573A\\u666F\\u3002\\u4F8B\\u5982\\uFF0C\\u79FB\\u52A8\\u7F51\\u7EDC\\u53EF\\u80FD\\u9700\\u8981\\u66F4\\u77ED\\u7684\\u95F4\\u9694\\uFF0C\\u800C\\u7A33\\u5B9A\\u7F51\\u7EDC\\u53EF\\u4EE5\\u9002\\u5F53\\u5EF6\\u957F\\u3002\\u53EF\\u4EE5\\u901A\\u8FC7\\u4EE5\\u4E0B\\u65B9\\u5F0F\\u52A8\\u6001\\u8C03\\u6574\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6839\\u636E\\u7F51\\u7EDC\\u5EF6\\u8FDF\"}),\"\\uFF1A\\u5BA2\\u6237\\u7AEF\\u8BA1\\u7B97\\u6700\\u8FD1\\u51E0\\u6B21\\u5FC3\\u8DF3\\u7684\\u5F80\\u8FD4\\u65F6\\u95F4\\uFF08RTT\\uFF09\\uFF0C\\u52A8\\u6001\\u8C03\\u6574\\u95F4\\u9694\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6839\\u636E\\u8BBE\\u5907\\u72B6\\u6001\"}),\"\\uFF1A\\u68C0\\u6D4B\\u8BBE\\u5907\\u662F\\u5426\\u4F11\\u7720\\uFF0C\\u6682\\u505C\\u5FC3\\u8DF3\\u4EE5\\u8282\\u7701\\u7535\\u91CF\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u4F7F\\u7528\\u6307\\u6570\\u79FB\\u52A8\\u5E73\\u5747\\uFF08EMA\\uFF09\\u7B97\\u6CD5\\u8BA1\\u7B97 RTT\\uFF0C\\u80FD\\u66F4\\u5E73\\u6ED1\\u5730\\u8C03\\u6574\\u5FC3\\u8DF3\\u95F4\\u9694\\u3002\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"52-\\u5FC3\\u8DF3\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u590D\\u7528-1\",children:(0,e.jsx)(n.a,{href:\"#52-\\u5FC3\\u8DF3\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u590D\\u7528-1\",children:\"5.2 \\u5FC3\\u8DF3\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u590D\\u7528\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u51CF\\u5C11\\u5E26\\u5BBD\\u5360\\u7528\\uFF0C\\u53EF\\u4EE5\\u5C06\\u5FC3\\u8DF3\\u6D88\\u606F\\u4E0E\\u4E1A\\u52A1\\u6D88\\u606F\\u7ED3\\u5408\\u3002\\u4F8B\\u5982\\uFF0C\\u5728\\u804A\\u5929\\u5E94\\u7528\\u4E2D\\uFF0C\\u82E5\\u7528\\u6237\\u6B63\\u5728\\u53D1\\u9001\\u6D88\\u606F\\uFF0C\\u5219\\u65E0\\u9700\\u989D\\u5916\\u53D1\\u9001\\u5FC3\\u8DF3\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u786E\\u4FDD\\u4E1A\\u52A1\\u6D88\\u606F\\u4E5F\\u80FD\\u89E6\\u53D1\\u8D85\\u65F6\\u91CD\\u7F6E\\u903B\\u8F91\\uFF0C\\u907F\\u514D\\u8BEF\\u5224\\u8FDE\\u63A5\\u72B6\\u6001\\u3002\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"53-\\u670D\\u52A1\\u7AEF\\u4E3B\\u52A8\\u5FC3\\u8DF3-1\",children:(0,e.jsx)(n.a,{href:\"#53-\\u670D\\u52A1\\u7AEF\\u4E3B\\u52A8\\u5FC3\\u8DF3-1\",children:\"5.3 \\u670D\\u52A1\\u7AEF\\u4E3B\\u52A8\\u5FC3\\u8DF3\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u67D0\\u4E9B\\u573A\\u666F\\u4E0B\\uFF0C\\u670D\\u52A1\\u7AEF\\u4E3B\\u52A8\\u53D1\\u9001\\u5FC3\\u8DF3\\u53EF\\u4EE5\\u51CF\\u8F7B\\u5BA2\\u6237\\u7AEF\\u8D1F\\u62C5\\u3002\\u4F8B\\u5982\\uFF0C\\u670D\\u52A1\\u7AEF\\u6BCF\\u5206\\u949F\\u5E7F\\u64AD\\u4E00\\u6B21\\u72B6\\u6001\\u66F4\\u65B0\\uFF0C\\u5BA2\\u6237\\u7AEF\\u53EA\\u9700\\u54CD\\u5E94\\u5373\\u53EF\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u670D\\u52A1\\u7AEF\\u5FC3\\u8DF3\\u9002\\u5408\\u9AD8\\u5E76\\u53D1\\u573A\\u666F\\uFF0C\\u4F46\\u9700\\u6CE8\\u610F\\u5E7F\\u64AD\\u9891\\u7387\\uFF0C\\u907F\\u514D\\u5F15\\u53D1\\u6D41\\u91CF\\u9AD8\\u5CF0\\u3002\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"54-\\u4F18\\u96C5\\u7684\\u91CD\\u8FDE\\u673A\\u5236-1\",children:(0,e.jsx)(n.a,{href:\"#54-\\u4F18\\u96C5\\u7684\\u91CD\\u8FDE\\u673A\\u5236-1\",children:\"5.4 \\u4F18\\u96C5\\u7684\\u91CD\\u8FDE\\u673A\\u5236\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u91CD\\u8FDE\\u673A\\u5236\\u9700\\u8981\\u517C\\u987E\\u7528\\u6237\\u4F53\\u9A8C\\u548C\\u670D\\u52A1\\u5668\\u6027\\u80FD\\u3002\\u63A8\\u8350\\u7684\\u505A\\u6CD5\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6307\\u6570\\u9000\\u907F\"}),\"\\uFF1A\\u91CD\\u8FDE\\u95F4\\u9694\\u968F\\u5931\\u8D25\\u6B21\\u6570\\u9012\\u589E\\uFF08\\u5982 1s\\u30012s\\u30014s\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u968F\\u673A\\u6296\\u52A8\"}),\"\\uFF1A\\u4E3A\\u91CD\\u8FDE\\u65F6\\u95F4\\u6DFB\\u52A0\\u968F\\u673A\\u504F\\u79FB\\uFF0C\\u9632\\u6B62\\u5BA2\\u6237\\u7AEF\\u540C\\u65F6\\u91CD\\u8FDE\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u72B6\\u6001\\u540C\\u6B65\"}),\"\\uFF1A\\u91CD\\u8FDE\\u540E\\u6062\\u590D\\u4F1A\\u8BDD\\u72B6\\u6001\\uFF08\\u5982\\u804A\\u5929\\u5386\\u53F2\\u3001\\u6E38\\u620F\\u8FDB\\u5EA6\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsxs)(n.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"setTimeout\"})})})}),\" \\u800C\\u975E \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"setInterval\"})})})}),\" \\u5B9E\\u73B0\\u91CD\\u8FDE\\uFF0C\\u907F\\u514D\\u91CD\\u8FDE\\u903B\\u8F91\\u5806\\u79EF\\u3002\"]})}),`\n`,(0,e.jsx)(n.h3,{id:\"55-\\u65E5\\u5FD7\\u4E0E\\u76D1\\u63A7-1\",children:(0,e.jsx)(n.a,{href:\"#55-\\u65E5\\u5FD7\\u4E0E\\u76D1\\u63A7-1\",children:\"5.5 \\u65E5\\u5FD7\\u4E0E\\u76D1\\u63A7\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8FD0\\u884C\\u72B6\\u6001\\u9700\\u8981\\u6E05\\u6670\\u7684\\u65E5\\u5FD7\\u652F\\u6301\\uFF0C\\u4EE5\\u4FBF\\u8C03\\u8BD5\\u548C\\u76D1\\u63A7\\u3002\\u5EFA\\u8BAE\\u8BB0\\u5F55\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u5FC3\\u8DF3\\u53D1\\u9001\\u4E0E\\u63A5\\u6536\\u65F6\\u95F4\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8FDE\\u63A5\\u65AD\\u5F00\\u4E0E\\u91CD\\u8FDE\\u4E8B\\u4EF6\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u7F51\\u7EDC\\u5EF6\\u8FDF\\u7EDF\\u8BA1\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5C06\\u5FC3\\u8DF3\\u65E5\\u5FD7\\u4E0E APM \\u5DE5\\u5177\\uFF08\\u5982 Sentry\\uFF09\\u96C6\\u6210\\uFF0C\\u5B9E\\u65F6\\u76D1\\u63A7\\u8FDE\\u63A5\\u5065\\u5EB7\\u72B6\\u6001\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"6-\\u67B6\\u6784\\u89C6\\u89D2\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66-1\",children:(0,e.jsx)(n.a,{href:\"#6-\\u67B6\\u6784\\u89C6\\u89D2\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66-1\",children:\"6. \\u67B6\\u6784\\u89C6\\u89D2\\uFF1A\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u4E0D\\u4EC5\\u662F\\u4E00\\u4E2A\\u6280\\u672F\\u7EC6\\u8282\\uFF0C\\u66F4\\u662F\\u4E00\\u79CD\\u67B6\\u6784\\u8BBE\\u8BA1\\u7684\\u7F29\\u5F71\\u3002\\u5B83\\u4F53\\u73B0\\u4E86\\u8F6F\\u4EF6\\u5DE5\\u7A0B\\u4E2D\\u7684\\u51E0\\u4E2A\\u6838\\u5FC3\\u539F\\u5219\\uFF1A\"}),`\n`,(0,e.jsx)(n.h3,{id:\"61-\\u5065\\u58EE\\u6027\\u4E0E\\u5197\\u4F59-1\",children:(0,e.jsx)(n.a,{href:\"#61-\\u5065\\u58EE\\u6027\\u4E0E\\u5197\\u4F59-1\",children:\"6.1 \\u5065\\u58EE\\u6027\\u4E0E\\u5197\\u4F59\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u901A\\u8FC7\\u5197\\u4F59\\u7684\\u6D88\\u606F\\u4EA4\\u6362\\uFF0C\\u6362\\u53D6\\u4E86\\u8FDE\\u63A5\\u7684\\u5065\\u58EE\\u6027\\u3002\\u8FD9\\u8BA9\\u6211\\u60F3\\u8D77\\u300A\\u9053\\u5FB7\\u7ECF\\u300B\\u4E2D\\u7684\\u201C\\u65E0\\u4E3A\\u800C\\u6CBB\\u201D\\u2014\\u2014\\u901A\\u8FC7\\u6700\\u5C0F\\u7684\\u5E72\\u9884\\uFF0C\\u7EF4\\u6301\\u7CFB\\u7EDF\\u7684\\u7A33\\u5B9A\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"62-\\u5206\\u5C42\\u4E0E\\u89E3\\u8026-1\",children:(0,e.jsx)(n.a,{href:\"#62-\\u5206\\u5C42\\u4E0E\\u89E3\\u8026-1\",children:\"6.2 \\u5206\\u5C42\\u4E0E\\u89E3\\u8026\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u901A\\u5E38\\u72EC\\u7ACB\\u4E8E\\u4E1A\\u52A1\\u903B\\u8F91\\uFF0C\\u8FD0\\u884C\\u5728\\u534F\\u8BAE\\u5C42\\u6216\\u5E94\\u7528\\u5C42\\u7684\\u5355\\u72EC\\u6A21\\u5757\\u4E2D\\u3002\\u8FD9\\u79CD\\u5206\\u5C42\\u8BBE\\u8BA1\\u964D\\u4F4E\\u4E86\\u8026\\u5408\\u5EA6\\uFF0C\\u4FBF\\u4E8E\\u7EF4\\u62A4\\u548C\\u6269\\u5C55\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"63-\\u53CD\\u9988\\u4E0E\\u81EA\\u9002\\u5E94-1\",children:(0,e.jsx)(n.a,{href:\"#63-\\u53CD\\u9988\\u4E0E\\u81EA\\u9002\\u5E94-1\",children:\"6.3 \\u53CD\\u9988\\u4E0E\\u81EA\\u9002\\u5E94\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\\u672C\\u8D28\\u4E0A\\u662F\\u4E00\\u4E2A\\u53CD\\u9988\\u7CFB\\u7EDF\\uFF0C\\u901A\\u8FC7\\u68C0\\u6D4B\\u8FDE\\u63A5\\u72B6\\u6001\\u52A8\\u6001\\u8C03\\u6574\\u884C\\u4E3A\\u3002\\u8FD9\\u79CD\\u81EA\\u9002\\u5E94\\u80FD\\u529B\\u5728\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u4E2D\\u5C24\\u4E3A\\u91CD\\u8981\\uFF0C\\u7C7B\\u4F3C\\u4E8E\\u751F\\u7269\\u5B66\\u4E2D\\u7684\\u201C\\u8D1F\\u53CD\\u9988\\u8C03\\u8282\\u201D\\u3002\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"\\u201C\\u597D\\u7684\\u8BBE\\u8BA1\\u5982\\u6D41\\u6C34\\uFF0C\\u65E0\\u5F62\\u5374\\u6709\\u529B\\u3002\\u201D\",(0,e.jsx)(n.br,{}),`\n`,\"\\u2014\\u2014 \\u7075\\u611F\\u6E90\\u4E8E\\u300A\\u5E84\\u5B50\\xB7\\u900D\\u9065\\u6E38\\u300B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4ECE\\u54F2\\u5B66\\u5C42\\u9762\\u770B\\uFF0C\\u5FC3\\u8DF3\\u673A\\u5236\\u662F\\u5BF9\\u201C\\u8FDE\\u63A5\\u201D\\u7684\\u6DF1\\u523B\\u601D\\u8003\\u3002\\u8FDE\\u63A5\\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u4E0A\\u7684\\u63E1\\u624B\\uFF0C\\u66F4\\u662F\\u4EBA\\u4E0E\\u4EBA\\u3001\\u7CFB\\u7EDF\\u4E0E\\u7CFB\\u7EDF\\u4E4B\\u95F4\\u7684\\u7EBD\\u5E26\\u3002\\u5FC3\\u8DF3\\u673A\\u5236\\u8BA9\\u6211\\u4EEC\\u610F\\u8BC6\\u5230\\uFF0C\\u4EFB\\u4F55\\u5173\\u7CFB\\u7684\\u7EF4\\u7CFB\\u90FD\\u9700\\u8981\\u6301\\u7EED\\u7684\\u6C9F\\u901A\\u4E0E\\u786E\\u8BA4\\u3002\\u{1F4AC}\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5728\\u8BBE\\u8BA1\\u5FC3\\u8DF3\\u673A\\u5236\\u65F6\\uFF0C\\u59CB\\u7EC8\\u4ECE\\u7528\\u6237\\u4F53\\u9A8C\\u51FA\\u53D1\\uFF0C\\u601D\\u8003\\u5982\\u4F55\\u5728\\u6280\\u672F\\u548C\\u4EBA\\u6027\\u4E4B\\u95F4\\u627E\\u5230\\u5E73\\u8861\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"7-\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848-1\",children:(0,e.jsx)(n.a,{href:\"#7-\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848-1\",children:\"7. \\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5E38\\u89C1\\u95EE\\u9898\\u53CA\\u5176\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u5E2E\\u52A9\\u4F60\\u5C11\\u8D70\\u5F2F\\u8DEF\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u95EE\\u9898\"}),(0,e.jsx)(n.th,{children:\"\\u539F\\u56E0\\u5206\\u6790\"}),(0,e.jsx)(n.th,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5FC3\\u8DF3\\u6D88\\u606F\\u4E22\\u5931\"}),(0,e.jsx)(n.td,{children:\"\\u7F51\\u7EDC\\u6296\\u52A8\\u6216\\u670D\\u52A1\\u5668\\u5904\\u7406\\u5EF6\\u8FDF\"}),(0,e.jsx)(n.td,{children:\"\\u589E\\u52A0\\u91CD\\u8BD5\\u673A\\u5236\\uFF0C\\u7F29\\u77ED\\u5FC3\\u8DF3\\u95F4\\u9694\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\\u9891\\u7E41\\u91CD\\u8FDE\"}),(0,e.jsx)(n.td,{children:\"\\u8D85\\u65F6\\u65F6\\u95F4\\u8BBE\\u7F6E\\u8FC7\\u77ED\\u6216\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\"}),(0,e.jsx)(n.td,{children:\"\\u5EF6\\u957F\\u8D85\\u65F6\\u65F6\\u95F4\\uFF0C\\u6DFB\\u52A0\\u6307\\u6570\\u9000\\u907F\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u670D\\u52A1\\u7AEF\\u538B\\u529B\\u8FC7\\u5927\"}),(0,e.jsx)(n.td,{children:\"\\u5FC3\\u8DF3\\u9891\\u7387\\u8FC7\\u9AD8\\u6216\\u6D88\\u606F\\u8FC7\\u4E8E\\u590D\\u6742\"}),(0,e.jsx)(n.td,{children:\"\\u4F18\\u5316\\u6D88\\u606F\\u683C\\u5F0F\\uFF0C\\u964D\\u4F4E\\u5FC3\\u8DF3\\u9891\\u7387\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u6D4F\\u89C8\\u5668\\u4F11\\u7720\\u5BFC\\u81F4\\u5FC3\\u8DF3\\u4E2D\\u65AD\"}),(0,e.jsx)(n.td,{children:\"\\u6D4F\\u89C8\\u5668\\u6807\\u7B7E\\u9875\\u8FDB\\u5165\\u540E\\u53F0\\u6216\\u8BBE\\u5907\\u9501\\u5C4F\"}),(0,e.jsxs)(n.td,{children:[\"\\u68C0\\u6D4B \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"visibilitychange\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u6682\\u505C\\u5FC3\\u8DF3\"]})]})]})]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5BF9\\u4E8E\\u590D\\u6742\\u95EE\\u9898\\uFF0C\\u4F7F\\u7528\\u6293\\u5305\\u5DE5\\u5177\\uFF08\\u5982 Wireshark\\uFF09\\u5206\\u6790\\u5FC3\\u8DF3\\u6D88\\u606F\\u7684\\u4F20\\u8F93\\u60C5\\u51B5\\uFF0C\\u80FD\\u5FEB\\u901F\\u5B9A\\u4F4D\\u95EE\\u9898\\u6839\\u6E90\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"8-\\u672A\\u6765\\u5C55\\u671Bwebsocket-\\u4E0E\\u5FC3\\u8DF3\\u7684\\u4E0B\\u4E00\\u7AD9-1\",children:(0,e.jsx)(n.a,{href:\"#8-\\u672A\\u6765\\u5C55\\u671Bwebsocket-\\u4E0E\\u5FC3\\u8DF3\\u7684\\u4E0B\\u4E00\\u7AD9-1\",children:\"8. \\u672A\\u6765\\u5C55\\u671B\\uFF1AWebSocket \\u4E0E\\u5FC3\\u8DF3\\u7684\\u4E0B\\u4E00\\u7AD9\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u968F\\u7740 Web \\u6280\\u672F\\u7684\\u53D1\\u5C55\\uFF0CWebSocket \\u548C\\u5FC3\\u8DF3\\u673A\\u5236\\u4E5F\\u5728\\u4E0D\\u65AD\\u6F14\\u8FDB\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u503C\\u5F97\\u5173\\u6CE8\\u7684\\u8D8B\\u52BF\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"WebTransportmdb\"}),\"\\uFF1A\\u4F5C\\u4E3A WebSocket \\u7684\\u7EE7\\u4EFB\\u8005\\uFF0CWebTransport \\u63D0\\u4F9B\\u4E86\\u66F4\\u7075\\u6D3B\\u7684\\u4F20\\u8F93\\u534F\\u8BAE\\uFF0C\\u53EF\\u80FD\\u6539\\u53D8\\u5FC3\\u8DF3\\u673A\\u5236\\u7684\\u8BBE\\u8BA1\\u65B9\\u5F0F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8FB9\\u7F18\\u8BA1\\u7B97\"}),\"\\uFF1A\\u8FB9\\u7F18\\u670D\\u52A1\\u5668\\u7684\\u666E\\u53CA\\u5C06\\u964D\\u4F4E\\u7F51\\u7EDC\\u5EF6\\u8FDF\\uFF0C\\u5FC3\\u8DF3\\u673A\\u5236\\u53EF\\u80FD\\u66F4\\u591A\\u7528\\u4E8E\\u72B6\\u6001\\u540C\\u6B65\\u800C\\u975E\\u4FDD\\u6D3B\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"AI \\u9A71\\u52A8\\u7684\\u4F18\\u5316\"}),\"\\uFF1AAI \\u53EF\\u4EE5\\u6839\\u636E\\u7528\\u6237\\u884C\\u4E3A\\u548C\\u7F51\\u7EDC\\u72B6\\u51B5\\u52A8\\u6001\\u8C03\\u6574\\u5FC3\\u8DF3\\u7B56\\u7565\\uFF0C\\u63D0\\u5347\\u6548\\u7387\\u3002\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"\\u201C\\u6280\\u672F\\u5982\\u6CB3\\u6D41\\uFF0C\\u5954\\u6D41\\u4E0D\\u606F\\uFF1B\\u5FC3\\u8DF3\\u5982\\u661F\\u8FB0\\uFF0C\\u6307\\u5F15\\u672A\\u6765\\u3002\\u201D\",(0,e.jsx)(n.br,{}),`\n`,\"\\u2014\\u2014 \\u7075\\u611F\\u6E90\\u4E8E\\u6CF0\\u6208\\u5C14\\u300A\\u98DE\\u9E1F\\u96C6\\u300B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u6301\\u7EED\\u5173\\u6CE8 W3C \\u548C IETF \\u7684\\u534F\\u8BAE\\u66F4\\u65B0\\uFF0C\\u4FDD\\u6301\\u6280\\u672F\\u654F\\u611F\\u5EA6\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"9-\\u7ED3\\u8BED\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u4E0E\\u6C38\\u6052-1\",children:(0,e.jsx)(n.a,{href:\"#9-\\u7ED3\\u8BED\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u4E0E\\u6C38\\u6052-1\",children:\"9. \\u7ED3\\u8BED\\uFF1A\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u4E0E\\u6C38\\u6052\"})}),`\n`,(0,e.jsx)(n.p,{children:\"WebSocket \\u5FC3\\u8DF3\\u673A\\u5236\\uFF0C\\u770B\\u4F3C\\u7B80\\u5355\\u7684\\u6280\\u672F\\u7EC6\\u8282\\uFF0C\\u5374\\u627F\\u8F7D\\u7740\\u8FDE\\u63A5\\u7684\\u751F\\u547D\\u529B\\u3002\\u5B83\\u8BA9\\u6211\\u4EEC\\u610F\\u8BC6\\u5230\\uFF0C\\u5373\\u4F7F\\u5728\\u51B0\\u51B7\\u7684\\u4EE3\\u7801\\u80CC\\u540E\\uFF0C\\u4E5F\\u6709\\u4E00\\u9897\\u8DF3\\u52A8\\u7684\\u5FC3\\u810F\\uFF0C\\u7EF4\\u7CFB\\u7740\\u4EBA\\u4E0E\\u4EBA\\u3001\\u7CFB\\u7EDF\\u4E0E\\u7CFB\\u7EDF\\u4E4B\\u95F4\\u7684\\u6C9F\\u901A\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6B63\\u5982\\u300A\\u5C0F\\u738B\\u5B50\\u300B\\u4E2D\\u6240\\u8BF4\\uFF1A\\u201C\\u771F\\u6B63\\u91CD\\u8981\\u7684\\u4E1C\\u897F\\uFF0C\\u7528\\u773C\\u775B\\u662F\\u770B\\u4E0D\\u5230\\u7684\\u3002\\u201D \\u5FC3\\u8DF3\\u673A\\u5236\\u867D\\u7136\\u9690\\u5F62\\uFF0C\\u5374\\u65E0\\u5904\\u4E0D\\u5728\\u3002\\u5B83\\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u7684\\u5B9E\\u73B0\\uFF0C\\u66F4\\u662F\\u8BBE\\u8BA1\\u7684\\u54F2\\u5B66\\u3001\\u6C9F\\u901A\\u7684\\u827A\\u672F\\u3001\\u8FDE\\u63A5\\u7684\\u8BD7\\u610F\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u613F\\u4F60\\u5728 WebSocket \\u7684\\u4E16\\u754C\\u4E2D\\uFF0C\\u627E\\u5230\\u5C5E\\u4E8E\\u81EA\\u5DF1\\u7684\\u90A3\\u9897\\u201C\\u5FC3\\u8DF3\\u201D\\uFF0C\\u8BA9\\u6BCF\\u4E00\\u6B21\\u8FDE\\u63A5\\u90FD\\u5145\\u6EE1\\u751F\\u547D\\u529B\\u3002\\u{1F31F}\"}),`\n`,(0,e.jsx)(n.hr,{})]})}function o(l={}){let{wrapper:n}=l.components||{};return n?(0,e.jsx)(n,{...l,children:(0,e.jsx)(a,{...l})}):a(l)}return m(T);})();\n;return Component;"
  },
  "_id": "Network/WebSocketå¿ƒè·³æœºåˆ¶.mdx",
  "_raw": {
    "sourceFilePath": "Network/WebSocketå¿ƒè·³æœºåˆ¶.mdx",
    "sourceFileName": "WebSocketå¿ƒè·³æœºåˆ¶.mdx",
    "sourceFileDir": "Network",
    "contentType": "mdx",
    "flattenedPath": "Network/WebSocketå¿ƒè·³æœºåˆ¶"
  },
  "type": "Post",
  "url": "/blog/Network/WebSocketå¿ƒè·³æœºåˆ¶"
}
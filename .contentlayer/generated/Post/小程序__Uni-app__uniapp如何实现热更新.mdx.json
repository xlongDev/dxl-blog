{
  "title": "uniappå¦‚ä½•å®ç°çƒ­æ›´æ–°ï¼Ÿï¼ˆå¸¦è¿›åº¦æ¡ï¼‰",
  "date": "2023-04-11T00:00:00.000Z",
  "description": "æ·±å…¥æ¢è®¨ uniapp çƒ­æ›´æ–°çš„å®ç°åŸç†ä¸å®è·µï¼Œå¸¦ä½ ä»é›¶åˆ°ä¸€æ‰“é€ å¸¦è¿›åº¦æ¡çš„çƒ­æ›´æ–°åŠŸèƒ½ï¼Œé™„ä»£ç ç¤ºä¾‹ä¸æœ€ä½³å®è·µã€‚",
  "keywords": "uniapp, çƒ­æ›´æ–°, å‰ç«¯å¼€å‘, å°ç¨‹åºå¼€å‘, è¿›åº¦æ¡, H5, App æ›´æ–°",
  "author": "æ™“é¾™",
  "image": "/images/hero/uniapp-hot-update.jpg",
  "tags": [
    "uniapp",
    "å‰ç«¯å¼€å‘",
    "å°ç¨‹åº",
    "çƒ­æ›´æ–°"
  ],
  "views": 0,
  "likes": 0,
  "category": "å°ç¨‹åº",
  "body": {
    "raw": "\nçƒ­æ›´æ–°ï¼Œå¬èµ·æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹åƒâ€œåƒäº†é¡¿é¥­è¿˜æ²¡å‡‰ï¼ŒæœåŠ¡å‘˜å°±ç»™ä½ ç«¯ä¸Šæ¥çƒ­ä¹ä¹çš„ç»­èœâ€ï¼Ÿå¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´ï¼Œå°¤å…¶æ˜¯ç”¨ uniapp å¼€å‘å°ç¨‹åºã€H5 æˆ– App çš„æœ‹å‹ï¼Œçƒ­æ›´æ–°ç®€ç›´æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„æ€æ‰‹é”ã€‚ç›¸æ¯”æ¯æ¬¡æ›´æ–°éƒ½è®©ç”¨æˆ·å»åº”ç”¨å•†åº—ä¸‹è½½æ–°ç‰ˆæœ¬ï¼Œçƒ­æ›´æ–°èƒ½æ‚„æ— å£°æ¯åœ°å®Œæˆèµ„æºæ›¿æ¢ï¼Œè¿˜èƒ½é¡ºå¸¦åŠ ä¸ªè¿›åº¦æ¡ï¼Œè®©ç”¨æˆ·è§‰å¾—â€œå“‡ï¼Œè¿™ App çœŸè´´å¿ƒâ€ã€‚\n\nä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ ä»åŸç†åˆ°å®è·µï¼Œå½»åº•ææ‡‚ uniapp çš„çƒ­æ›´æ–°æœºåˆ¶ï¼Œé¡ºä¾¿å®ç°ä¸€ä¸ªå¸¦è¿›åº¦æ¡çš„ç‰ˆæœ¬ã€‚æ–‡ç« æœ‰ç‚¹é•¿ï¼Œä½†ä¿è¯å¹²è´§æ»¡æ»¡ï¼Œå¸¦ä½ ä»â€œæ‡µåœˆå°ç™½â€è¿›é˜¶åˆ°â€œçƒ­æ›´æ–°è€å¸æœºâ€ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿç³»å¥½å®‰å…¨å¸¦ï¼Œå’±ä»¬å¼€å¹²ï¼ğŸš€\n\n## ä»€ä¹ˆæ˜¯çƒ­æ›´æ–°ï¼Ÿ\n\nå…ˆæ¥èŠèŠçƒ­æ›´æ–°çš„æœ¬è´¨ã€‚ç®€å•æ¥è¯´ï¼Œçƒ­æ›´æ–°å°±æ˜¯åœ¨ä¸å‘å¸ƒæ–°ç‰ˆæœ¬çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸‹è½½æœåŠ¡å™¨ä¸Šçš„èµ„æºåŒ…ï¼ˆé€šå¸¸æ˜¯ JSã€CSS æˆ–é™æ€èµ„æºï¼‰ï¼Œæ›¿æ¢æ‰æœ¬åœ°çš„æ—§æ–‡ä»¶ï¼Œè®©åº”ç”¨ç„•ç„¶ä¸€æ–°ã€‚è¿™æœ‰ç‚¹åƒç»™ä½ çš„ App åšäº†ä¸€æ¬¡â€œå¾®æ•´å½¢â€ï¼Œä¸ç”¨å¤§åŠ¨å¹²æˆˆï¼Œç”¨æˆ·ä½“éªŒå´èƒ½å¤§å¹…æå‡ã€‚\n\nåœ¨ uniapp ä¸­ï¼Œçƒ­æ›´æ–°ä¸»è¦é’ˆå¯¹çš„æ˜¯å‰ç«¯èµ„æºï¼ˆwxa æ–‡ä»¶ã€js æ–‡ä»¶ç­‰ï¼‰ï¼Œè€Œä¸æ˜¯åŸç”Ÿä»£ç ï¼ˆæ¯”å¦‚ iOS çš„ Swift æˆ– Android çš„ Kotlinï¼‰ã€‚æ‰€ä»¥ï¼Œå®ƒæ›´é€‚åˆä¿®å¤ Bugã€æ›´æ–° UI æˆ–è°ƒæ•´é€»è¾‘ï¼Œè€Œä¸é€‚åˆå¤§å¹…æ”¹åŠ¨åŸç”ŸåŠŸèƒ½ã€‚\n\n### çƒ­æ›´æ–°çš„å…¸å‹åœºæ™¯\n- **Bug ä¿®å¤**ï¼šä¸Šçº¿åå‘ç°äº†ä¸ªå° Bugï¼Œä¸æƒ³è®©ç”¨æˆ·é‡æ–°ä¸‹è½½æ•´ä¸ª Appã€‚\n- **åŠ¨æ€å†…å®¹æ›´æ–°**ï¼šæ¯”å¦‚æ´»åŠ¨é¡µé¢ã€å…¬å‘Šæ ï¼Œä¸ç”¨å‘ç‰ˆå°±èƒ½æ¨æ–°å†…å®¹ã€‚\n- **æ€§èƒ½ä¼˜åŒ–**ï¼šæ‚„æ‚„æ›¿æ¢æ‰æŸäº›ä½æ•ˆçš„ JS ä»£ç ã€‚\n\n> **Tips**: çƒ­æ›´æ–°è™½å¥½ï¼Œä½†åˆ«æ»¥ç”¨ã€‚å¦‚æœæ”¹åŠ¨å¤ªå¤§ï¼ˆæ¯”å¦‚æ¶‰åŠåŸç”Ÿæ’ä»¶ï¼‰ï¼Œè¿˜æ˜¯è€è€å®å®å‘ç‰ˆå§ï¼Œä¸ç„¶ç”¨æˆ·å¯èƒ½ä¼šè§‰å¾—â€œè¿™ App æ€ä¹ˆè€åœ¨å·å·æ‘¸æ‘¸å¹²å•¥â€ã€‚\n\n## uniapp çƒ­æ›´æ–°çš„æ ¸å¿ƒåŸç†\n\nè¦å®ç°çƒ­æ›´æ–°ï¼Œå’±ä»¬å¾—å…ˆææ¸…æ¥šå®ƒèƒŒåçš„é€»è¾‘ã€‚uniapp çš„çƒ­æ›´æ–°æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªâ€œä¸‹è½½-æ ¡éªŒ-æ›¿æ¢â€çš„è¿‡ç¨‹ï¼Œæ ¸å¿ƒæ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. **ç‰ˆæœ¬æ£€æµ‹**ï¼šApp å¯åŠ¨æ—¶ï¼Œå‘æœåŠ¡å™¨è¯·æ±‚ç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆ¤æ–­æœ¬åœ°èµ„æºæ˜¯å¦éœ€è¦æ›´æ–°ã€‚\n2. **ä¸‹è½½èµ„æºåŒ…**ï¼šä»æœåŠ¡å™¨æ‹‰å–æœ€æ–°çš„èµ„æºåŒ…ï¼ˆé€šå¸¸æ˜¯ä¸ª zip æ–‡ä»¶ï¼‰ã€‚\n3. **æ ¡éªŒå®Œæ•´æ€§**ï¼šç¡®ä¿ä¸‹è½½çš„æ–‡ä»¶æ²¡è¢«â€œå¿«é€’å‘˜â€å¼„ä¸¢å­—èŠ‚ï¼ˆMD5 æ ¡éªŒäº†è§£ä¸€ä¸‹ï¼‰ã€‚\n4. **è§£å‹ä¸æ›¿æ¢**ï¼šè§£å‹èµ„æºåŒ…ï¼Œæ›¿æ¢æ‰æœ¬åœ°æ—§æ–‡ä»¶ã€‚\n5. **é‡å¯ç”Ÿæ•ˆ**ï¼šé‡å¯åº”ç”¨ï¼ˆæˆ–éƒ¨åˆ†é¡µé¢ï¼‰ï¼Œè®©æ–°èµ„æºç”Ÿæ•ˆã€‚\n\nå¬èµ·æ¥æ˜¯ä¸æ˜¯æŒºç®€å•ï¼Ÿä½†é­”é¬¼è—åœ¨ç»†èŠ‚é‡Œï¼Œå°¤å…¶å½“ä½ æƒ³åŠ ä¸ªè¿›åº¦æ¡çš„æ—¶å€™ï¼Œäº‹æƒ…å°±å˜å¾—â€œåˆºæ¿€â€äº†ã€‚æ¥ä¸‹æ¥ï¼Œå’±ä»¬ä¸€æ­¥æ­¥æ‹†è§£å®ç°è¿‡ç¨‹ï¼Œé¡ºä¾¿å¸¦ä¸Šä»£ç å’Œæœ€ä½³å®è·µã€‚\n\n## å®ç°çƒ­æ›´æ–°ï¼ˆå¸¦è¿›åº¦æ¡ï¼‰çš„å®æˆ˜æŒ‡å—\n\n### Step 1: è®¾è®¡ç‰ˆæœ¬æ£€æµ‹æ¥å£\n\nçƒ­æ›´æ–°ç¬¬ä¸€æ­¥æ˜¯çŸ¥é“â€œæœ‰æ²¡æœ‰æ–°ä¸œè¥¿â€ã€‚ä½ éœ€è¦åœ¨åç«¯æ­ä¸€ä¸ªæ¥å£ï¼Œè¿”å›å½“å‰æœ€æ–°çš„ç‰ˆæœ¬å·å’Œèµ„æºåŒ…çš„ä¸‹è½½åœ°å€ã€‚æ¯”å¦‚ï¼š\n\n```json\n{\n  \"version\": \"1.0.1\",\n  \"url\": \"https://example.com/update/1.0.1.zip\",\n  \"md5\": \"e99a18c428cb38d5f260853678922e03\"\n}\n```\n\nå®¢æˆ·ç«¯å¯åŠ¨æ—¶ï¼Œé€šè¿‡ uni.request è¯·æ±‚è¿™ä¸ªæ¥å£ï¼Œå’Œæœ¬åœ°ç‰ˆæœ¬å·å¯¹æ¯”ã€‚å¦‚æœæœåŠ¡å™¨ç‰ˆæœ¬æ›´é«˜ï¼Œå°±è§¦å‘æ›´æ–°é€»è¾‘ã€‚\n\n```javascript\nuni.request({\n  url: 'https://example.com/api/checkUpdate',\n  success: (res) => {\n    const serverVersion = res.data.version;\n    const localVersion = uni.getStorageSync('appVersion') || '1.0.0';\n    if (compareVersion(serverVersion, localVersion) > 0) {\n      // æœ‰æ–°ç‰ˆæœ¬ï¼Œè§¦å‘çƒ­æ›´æ–°\n      startHotUpdate(res.data);\n    }\n  }\n});\n\n// ç‰ˆæœ¬å·å¯¹æ¯”å‡½æ•°\nfunction compareVersion(v1, v2) {\n  const arr1 = v1.split('.');\n  const arr2 = v2.split('.');\n  for (let i = 0; i < arr1.length; i++) {\n    const n1 = parseInt(arr1[i] || 0);\n    const n2 = parseInt(arr2[i] || 0);\n    if (n1 > n2) return 1;\n    if (n1 < n2) return -1;\n  }\n  return 0;\n}\n```\n\n> **Tips**: ç‰ˆæœ¬å·åˆ«ç”¨æµ®ç‚¹æ•°ï¼ˆ1.0.1 æ¯” 1.0.10 è°å¤§ï¼Ÿï¼‰ï¼Œç”¨å­—ç¬¦ä¸²åˆ†å‰²å¯¹æ¯”æ›´ç¨³å¦¥ã€‚\n\n### Step 2: ä¸‹è½½èµ„æºåŒ…ï¼ˆå¸¦è¿›åº¦æ¡ï¼‰\n\nuniapp æä¾›äº† `uni.downloadFile` APIï¼Œå®Œç¾æ”¯æŒä¸‹è½½è¿›åº¦ç›‘å¬ã€‚å’±ä»¬ç”¨å®ƒæ¥æ‹‰å–èµ„æºåŒ…ï¼Œå¹¶å®æ—¶æ›´æ–°è¿›åº¦æ¡ã€‚\n\n```javascript\nfunction startHotUpdate(updateInfo) {\n  const downloadTask = uni.downloadFile({\n    url: updateInfo.url,\n    success: (res) => {\n      if (res.statusCode === 200) {\n        const filePath = res.tempFilePath;\n        verifyAndUpdate(filePath, updateInfo.md5);\n      } else {\n        uni.showToast({ title: 'ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•', icon: 'none' });\n      }\n    },\n    fail: (err) => {\n      console.error('ä¸‹è½½ç‚¸äº†ï¼š', err);\n      uni.showToast({ title: 'ç½‘ç»œä¸ç»™åŠ›', icon: 'none' });\n    }\n  });\n\n  // ç›‘å¬ä¸‹è½½è¿›åº¦\n  downloadTask.onProgressUpdate((res) => {\n    const progress = res.progress; // 0-100\n    updateProgressBar(progress);\n  });\n}\n```\n\nè¿›åº¦æ¡çš„ UI å¯ä»¥ç”¨ uniapp çš„ `<progress>` ç»„ä»¶å®ç°ï¼Œç®€å•åˆä¼˜é›…ï¼š\n\n```html\n<view class=\"update-modal\">\n  <text>æ­£åœ¨æ›´æ–°ï¼Œè¯·ç¨å€™...</text>\n  <progress percent=\"{{ progress }}\" stroke-width=\"6\" active />\n</view>\n```\n\n```javascript\nPage({\n  data: { progress: 0 },\n  updateProgressBar(progress) {\n    this.setData({ progress });\n    if (progress === 100) {\n      uni.showToast({ title: 'ä¸‹è½½å®Œæˆï¼Œæ­£åœ¨å®‰è£…', icon: 'success' });\n    }\n  }\n});\n```\n\n> **Tips**: ä¸‹è½½å¤±è´¥æ—¶åˆ«ç›´æ¥æŠ¥é”™å°±å®Œäº‹å„¿ï¼Œç»™ç”¨æˆ·ä¸ªâ€œé‡è¯•â€æŒ‰é’®ï¼Œä½“éªŒä¼šå¥½å¾ˆå¤šã€‚\n\n### Step 3: æ ¡éªŒä¸è§£å‹\n\nä¸‹è½½å®Œèµ„æºåŒ…åï¼Œåˆ«æ€¥ç€ç”¨ï¼Œå…ˆæ ¡éªŒä¸€ä¸‹å®Œæ•´æ€§ã€‚uniapp æ²¡æœ‰å†…ç½® MD5 å·¥å…·ï¼Œä½†ä½ å¯ä»¥ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ `js-md5`ï¼‰è®¡ç®—æ–‡ä»¶çš„ MD5 å€¼ã€‚\n\n```javascript\nimport md5 from 'js-md5';\n\nfunction verifyAndUpdate(filePath, expectedMd5) {\n  const fs = uni.getFileSystemManager();\n  const fileContent = fs.readFileSync(filePath, 'binary');\n  const fileMd5 = md5(fileContent);\n\n  if (fileMd5 === expectedMd5) {\n    // æ ¡éªŒé€šè¿‡ï¼Œå¼€å§‹è§£å‹\n    unzipAndReplace(filePath);\n  } else {\n    uni.showToast({ title: 'æ–‡ä»¶æ ¡éªŒå¤±è´¥ï¼Œå¯èƒ½è¢«å¤–æ˜ŸäººåŠ«æŒäº†', icon: 'none' });\n  }\n}\n\nfunction unzipAndReplace(filePath) {\n  const fs = uni.getFileSystemManager();\n  const destPath = `${wx.env.USER_DATA_PATH}/hot-update`;\n\n  fs.unzip({\n    zipFilePath: filePath,\n    targetPath: destPath,\n    success: () => {\n      // æ›¿æ¢æ—§æ–‡ä»¶\n      replaceOldFiles(destPath);\n      uni.setStorageSync('appVersion', serverVersion);\n      uni.showModal({\n        title: 'æ›´æ–°å®Œæˆ',\n        content: 'é‡å¯åº”ç”¨ä»¥ç”Ÿæ•ˆ',\n        success: (res) => {\n          if (res.confirm) uni.reLaunch({ url: '/pages/index/index' });\n        }\n      });\n    },\n    fail: (err) => {\n      console.error('è§£å‹å¤±è´¥ï¼š', err);\n      uni.showToast({ title: 'è§£å‹å‡ºé”™ï¼Œç¨åå†è¯•', icon: 'none' });\n    }\n  });\n}\n```\n\n> **Tips**: è§£å‹è·¯å¾„ç”¨ `wx.env.USER_DATA_PATH`ï¼Œè¿™æ˜¯ uniapp çš„æ²™ç›’ç›®å½•ï¼Œå®‰å…¨åˆè§„èŒƒã€‚\n\n### Step 4: é‡å¯ç”Ÿæ•ˆ\n\nçƒ­æ›´æ–°åï¼Œé€šå¸¸éœ€è¦é‡å¯åº”ç”¨æˆ–é¡µé¢ã€‚uniapp æä¾›äº† `uni.reLaunch` æ¥é‡å¯æ•´ä¸ªåº”ç”¨ï¼Œæˆ–è€…ç”¨ `uni.navigateTo` åˆ·æ–°å½“å‰é¡µé¢ï¼Œå…·ä½“çœ‹ä½ çš„éœ€æ±‚ã€‚\n\n## æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹\n\n1. **å¢é‡æ›´æ–°**  \n   åˆ«æ¯æ¬¡éƒ½ä¸‹å…¨é‡åŒ…ï¼Œå¤ªæµªè´¹æµé‡ã€‚å¯ä»¥è®©åç«¯ç”Ÿæˆå¢é‡åŒ…ï¼ˆdiff æ–‡ä»¶ï¼‰ï¼Œåªæ›´æ–°æ”¹åŠ¨çš„éƒ¨åˆ†ã€‚  \n   > **Tips**: ç”¨ `bsdiff` å·¥å…·ç”Ÿæˆå¢é‡åŒ…ï¼Œå®¢æˆ·ç«¯ç”¨ `bspatch` åˆå¹¶ï¼Œæ•ˆç‡èµ·é£ã€‚\n\n2. **è¿›åº¦æ¡ä¼˜åŒ–**  \n   è¿›åº¦æ¡åˆ«å•çº¯æ˜¾ç¤ºæ•°å­—ï¼ŒåŠ ç‚¹åŠ¨ç”»ï¼ˆæ¯”å¦‚æ¸å˜è‰²ï¼‰ï¼Œç”¨æˆ·ä¼šè§‰å¾—â€œå“‡ï¼Œè¿™è¿›åº¦æ¡å¥½é«˜çº§â€ã€‚  \n   > **Tips**: ç”¨ CSS å®ç°æ¸å˜æ•ˆæœï¼Œ`<progress activeColor=\"linear-gradient(to right, #00ff00, #0000ff)\" />`ã€‚\n\n3. **å¤±è´¥å›æ»š**  \n   ä¸‹è½½æˆ–è§£å‹å¤±è´¥æ—¶ï¼Œä¿ç•™æ—§ç‰ˆæœ¬ï¼Œåˆ«è®©ç”¨æˆ·å¡åœ¨â€œåŠæ›´æ–°â€çŠ¶æ€ã€‚  \n   > **Tips**: ä¸‹è½½å‰å¤‡ä»½æ—§æ–‡ä»¶ï¼Œå‡ºé—®é¢˜æ—¶ç›´æ¥æ¢å¤ã€‚\n\n4. **ç°åº¦å‘å¸ƒ**  \n   åˆ«ä¸€è‚¡è„‘å…¨é‡æ¨é€ï¼Œå…ˆå°èŒƒå›´æµ‹è¯•çƒ­æ›´æ–°æ•ˆæœã€‚  \n   > **Tips**: åç«¯åŠ ä¸ªå­—æ®µ `forceUpdate: false`ï¼Œè®©éƒ¨åˆ†ç”¨æˆ·å…ˆä½“éªŒã€‚\n\n5. **æ—¥å¿—è®°å½•**  \n   æ›´æ–°è¿‡ç¨‹åŠ ç‚¹æ—¥å¿—ï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ã€‚  \n   > **Tips**: ç”¨ `console.log` ä¸å¤Ÿä¼˜é›…ï¼Œè¯•è¯• uniapp çš„ `uni.setStorageSync` å­˜æ—¥å¿—ã€‚\n\n## ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–çš„çƒ­æ›´æ–°å®ç°ï¼Œå¸¦è¿›åº¦æ¡ï¼Œä¾›ä½ ç›´æ¥æŠ„ä½œä¸šï¼š\n\n```javascript\nPage({\n  data: { progress: 0, updating: false },\n  onLoad() {\n    this.checkUpdate();\n  },\n  checkUpdate() {\n    uni.request({\n      url: 'https://example.com/api/checkUpdate',\n      success: (res) => {\n        if (this.shouldUpdate(res.data.version)) {\n          this.setData({ updating: true });\n          this.downloadUpdate(res.data);\n        }\n      }\n    });\n  },\n  downloadUpdate(updateInfo) {\n    const task = uni.downloadFile({\n      url: updateInfo.url,\n      success: (res) => {\n        this.verifyAndApply(res.tempFilePath, updateInfo.md5);\n      }\n    });\n    task.onProgressUpdate((res) => {\n      this.setData({ progress: res.progress });\n    });\n  },\n  verifyAndApply(filePath, md5) {\n    // æ ¡éªŒå’Œè§£å‹é€»è¾‘ï¼ˆå‚è€ƒä¸Šæ–‡ï¼‰\n    uni.reLaunch({ url: '/pages/index/index' });\n  }\n});\n```\n\n```html\n<view wx:if=\"{{ updating }}\">\n  <text>æ›´æ–°ä¸­ï¼š{{ progress }}%</text>\n  <progress percent=\"{{ progress }}\" active stroke-width=\"10\" />\n</view>\n```\n\n## å†™åœ¨æœ€å\n\nçƒ­æ›´æ–°å°±åƒç»™ uniapp æ’ä¸Šäº†ä¸€åŒéšå½¢çš„ç¿…è†€ï¼Œè®©ä½ çš„åº”ç”¨æ—¢çµæ´»åˆé«˜æ•ˆã€‚åŠ ä¸Šè¿›åº¦æ¡åï¼Œç”¨æˆ·ä½“éªŒè¿˜èƒ½å†ä¸Šä¸€å±‚æ¥¼ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ ä»åŸç†åˆ°å®è·µå½»åº•æå®šçƒ­æ›´æ–°ï¼Œåˆ«å¿˜äº†å¤šè¯•è¯•ã€å¤šè°ƒè°ƒï¼Œæ‰¾åˆ°æœ€é€‚åˆä½ é¡¹ç›®çš„æ–¹æ¡ˆã€‚\n\næœ‰é—®é¢˜æ¬¢è¿ç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æ¢è®¨ï¼å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œç‚¹ä¸ªèµå†èµ°å‘—ï¼Œæ¯•ç«Ÿç å­—ä¸æ˜“ï¼Œæˆ‘å¾—å»å–å£å’–å•¡å‹å‹æƒŠ â˜•ï¸ã€‚\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),B=(e,l)=>{for(var r in l)s(e,r,{get:l[r],enumerable:!0})},o=(e,l,r,a)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let c of y(l))!u.call(e,c)&&c!==r&&s(e,c,{get:()=>l[c],enumerable:!(a=E(l,c))||a.enumerable});return e};var f=(e,l,r)=>(r=e!=null?p(F(e)):{},o(l||!e||!e.__esModule?s(r,\"default\",{value:e,enumerable:!0}):r,e)),m=e=>o(s({},\"__esModule\",{value:!0}),e);var d=g((x,i)=>{i.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>A});var n=f(d()),A={type:\"Post\",title:\"uniapp\\u5982\\u4F55\\u5B9E\\u73B0\\u70ED\\u66F4\\u65B0\\uFF1F\\uFF08\\u5E26\\u8FDB\\u5EA6\\u6761\\uFF09\",date:\"2023-04-11\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8 uniapp \\u70ED\\u66F4\\u65B0\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\u4E0E\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u4ECE\\u96F6\\u5230\\u4E00\\u6253\\u9020\\u5E26\\u8FDB\\u5EA6\\u6761\\u7684\\u70ED\\u66F4\\u65B0\\u529F\\u80FD\\uFF0C\\u9644\\u4EE3\\u7801\\u793A\\u4F8B\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\",keywords:\"uniapp, \\u70ED\\u66F4\\u65B0, \\u524D\\u7AEF\\u5F00\\u53D1, \\u5C0F\\u7A0B\\u5E8F\\u5F00\\u53D1, \\u8FDB\\u5EA6\\u6761, H5, App \\u66F4\\u65B0\",author:\"\\u6653\\u9F99\",image:\"/images/hero/uniapp-hot-update.jpg\",tags:[\"uniapp\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u5C0F\\u7A0B\\u5E8F\",\"\\u70ED\\u66F4\\u65B0\"],category:\"\\u5C0F\\u7A0B\\u5E8F\"};function t(e){let l={a:\"a\",blockquote:\"blockquote\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.p,{children:\"\\u70ED\\u66F4\\u65B0\\uFF0C\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u50CF\\u201C\\u5403\\u4E86\\u987F\\u996D\\u8FD8\\u6CA1\\u51C9\\uFF0C\\u670D\\u52A1\\u5458\\u5C31\\u7ED9\\u4F60\\u7AEF\\u4E0A\\u6765\\u70ED\\u4E4E\\u4E4E\\u7684\\u7EED\\u83DC\\u201D\\uFF1F\\u5BF9\\u4E8E\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u6765\\u8BF4\\uFF0C\\u5C24\\u5176\\u662F\\u7528 uniapp \\u5F00\\u53D1\\u5C0F\\u7A0B\\u5E8F\\u3001H5 \\u6216 App \\u7684\\u670B\\u53CB\\uFF0C\\u70ED\\u66F4\\u65B0\\u7B80\\u76F4\\u662F\\u63D0\\u5347\\u7528\\u6237\\u4F53\\u9A8C\\u7684\\u6740\\u624B\\u950F\\u3002\\u76F8\\u6BD4\\u6BCF\\u6B21\\u66F4\\u65B0\\u90FD\\u8BA9\\u7528\\u6237\\u53BB\\u5E94\\u7528\\u5546\\u5E97\\u4E0B\\u8F7D\\u65B0\\u7248\\u672C\\uFF0C\\u70ED\\u66F4\\u65B0\\u80FD\\u6084\\u65E0\\u58F0\\u606F\\u5730\\u5B8C\\u6210\\u8D44\\u6E90\\u66FF\\u6362\\uFF0C\\u8FD8\\u80FD\\u987A\\u5E26\\u52A0\\u4E2A\\u8FDB\\u5EA6\\u6761\\uFF0C\\u8BA9\\u7528\\u6237\\u89C9\\u5F97\\u201C\\u54C7\\uFF0C\\u8FD9 App \\u771F\\u8D34\\u5FC3\\u201D\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4ECA\\u5929\\uFF0C\\u6211\\u5C31\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u5F7B\\u5E95\\u641E\\u61C2 uniapp \\u7684\\u70ED\\u66F4\\u65B0\\u673A\\u5236\\uFF0C\\u987A\\u4FBF\\u5B9E\\u73B0\\u4E00\\u4E2A\\u5E26\\u8FDB\\u5EA6\\u6761\\u7684\\u7248\\u672C\\u3002\\u6587\\u7AE0\\u6709\\u70B9\\u957F\\uFF0C\\u4F46\\u4FDD\\u8BC1\\u5E72\\u8D27\\u6EE1\\u6EE1\\uFF0C\\u5E26\\u4F60\\u4ECE\\u201C\\u61F5\\u5708\\u5C0F\\u767D\\u201D\\u8FDB\\u9636\\u5230\\u201C\\u70ED\\u66F4\\u65B0\\u8001\\u53F8\\u673A\\u201D\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u7CFB\\u597D\\u5B89\\u5168\\u5E26\\uFF0C\\u54B1\\u4EEC\\u5F00\\u5E72\\uFF01\\u{1F680}\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u70ED\\u66F4\\u65B0\",children:(0,n.jsx)(l.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u70ED\\u66F4\\u65B0\",children:\"\\u4EC0\\u4E48\\u662F\\u70ED\\u66F4\\u65B0\\uFF1F\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5148\\u6765\\u804A\\u804A\\u70ED\\u66F4\\u65B0\\u7684\\u672C\\u8D28\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u70ED\\u66F4\\u65B0\\u5C31\\u662F\\u5728\\u4E0D\\u53D1\\u5E03\\u65B0\\u7248\\u672C\\u7684\\u60C5\\u51B5\\u4E0B\\uFF0C\\u901A\\u8FC7\\u4E0B\\u8F7D\\u670D\\u52A1\\u5668\\u4E0A\\u7684\\u8D44\\u6E90\\u5305\\uFF08\\u901A\\u5E38\\u662F JS\\u3001CSS \\u6216\\u9759\\u6001\\u8D44\\u6E90\\uFF09\\uFF0C\\u66FF\\u6362\\u6389\\u672C\\u5730\\u7684\\u65E7\\u6587\\u4EF6\\uFF0C\\u8BA9\\u5E94\\u7528\\u7115\\u7136\\u4E00\\u65B0\\u3002\\u8FD9\\u6709\\u70B9\\u50CF\\u7ED9\\u4F60\\u7684 App \\u505A\\u4E86\\u4E00\\u6B21\\u201C\\u5FAE\\u6574\\u5F62\\u201D\\uFF0C\\u4E0D\\u7528\\u5927\\u52A8\\u5E72\\u6208\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u5374\\u80FD\\u5927\\u5E45\\u63D0\\u5347\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728 uniapp \\u4E2D\\uFF0C\\u70ED\\u66F4\\u65B0\\u4E3B\\u8981\\u9488\\u5BF9\\u7684\\u662F\\u524D\\u7AEF\\u8D44\\u6E90\\uFF08wxa \\u6587\\u4EF6\\u3001js \\u6587\\u4EF6\\u7B49\\uFF09\\uFF0C\\u800C\\u4E0D\\u662F\\u539F\\u751F\\u4EE3\\u7801\\uFF08\\u6BD4\\u5982 iOS \\u7684 Swift \\u6216 Android \\u7684 Kotlin\\uFF09\\u3002\\u6240\\u4EE5\\uFF0C\\u5B83\\u66F4\\u9002\\u5408\\u4FEE\\u590D Bug\\u3001\\u66F4\\u65B0 UI \\u6216\\u8C03\\u6574\\u903B\\u8F91\\uFF0C\\u800C\\u4E0D\\u9002\\u5408\\u5927\\u5E45\\u6539\\u52A8\\u539F\\u751F\\u529F\\u80FD\\u3002\"}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u70ED\\u66F4\\u65B0\\u7684\\u5178\\u578B\\u573A\\u666F\",children:(0,n.jsx)(l.a,{href:\"#\\u70ED\\u66F4\\u65B0\\u7684\\u5178\\u578B\\u573A\\u666F\",children:\"\\u70ED\\u66F4\\u65B0\\u7684\\u5178\\u578B\\u573A\\u666F\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"Bug \\u4FEE\\u590D\"}),\"\\uFF1A\\u4E0A\\u7EBF\\u540E\\u53D1\\u73B0\\u4E86\\u4E2A\\u5C0F Bug\\uFF0C\\u4E0D\\u60F3\\u8BA9\\u7528\\u6237\\u91CD\\u65B0\\u4E0B\\u8F7D\\u6574\\u4E2A App\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u52A8\\u6001\\u5185\\u5BB9\\u66F4\\u65B0\"}),\"\\uFF1A\\u6BD4\\u5982\\u6D3B\\u52A8\\u9875\\u9762\\u3001\\u516C\\u544A\\u680F\\uFF0C\\u4E0D\\u7528\\u53D1\\u7248\\u5C31\\u80FD\\u63A8\\u65B0\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u6084\\u6084\\u66FF\\u6362\\u6389\\u67D0\\u4E9B\\u4F4E\\u6548\\u7684 JS \\u4EE3\\u7801\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u70ED\\u66F4\\u65B0\\u867D\\u597D\\uFF0C\\u4F46\\u522B\\u6EE5\\u7528\\u3002\\u5982\\u679C\\u6539\\u52A8\\u592A\\u5927\\uFF08\\u6BD4\\u5982\\u6D89\\u53CA\\u539F\\u751F\\u63D2\\u4EF6\\uFF09\\uFF0C\\u8FD8\\u662F\\u8001\\u8001\\u5B9E\\u5B9E\\u53D1\\u7248\\u5427\\uFF0C\\u4E0D\\u7136\\u7528\\u6237\\u53EF\\u80FD\\u4F1A\\u89C9\\u5F97\\u201C\\u8FD9 App \\u600E\\u4E48\\u8001\\u5728\\u5077\\u5077\\u6478\\u6478\\u5E72\\u5565\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"uniapp-\\u70ED\\u66F4\\u65B0\\u7684\\u6838\\u5FC3\\u539F\\u7406\",children:(0,n.jsx)(l.a,{href:\"#uniapp-\\u70ED\\u66F4\\u65B0\\u7684\\u6838\\u5FC3\\u539F\\u7406\",children:\"uniapp \\u70ED\\u66F4\\u65B0\\u7684\\u6838\\u5FC3\\u539F\\u7406\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8981\\u5B9E\\u73B0\\u70ED\\u66F4\\u65B0\\uFF0C\\u54B1\\u4EEC\\u5F97\\u5148\\u641E\\u6E05\\u695A\\u5B83\\u80CC\\u540E\\u7684\\u903B\\u8F91\\u3002uniapp \\u7684\\u70ED\\u66F4\\u65B0\\u672C\\u8D28\\u4E0A\\u662F\\u4E00\\u4E2A\\u201C\\u4E0B\\u8F7D-\\u6821\\u9A8C-\\u66FF\\u6362\\u201D\\u7684\\u8FC7\\u7A0B\\uFF0C\\u6838\\u5FC3\\u6B65\\u9AA4\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u7248\\u672C\\u68C0\\u6D4B\"}),\"\\uFF1AApp \\u542F\\u52A8\\u65F6\\uFF0C\\u5411\\u670D\\u52A1\\u5668\\u8BF7\\u6C42\\u7248\\u672C\\u4FE1\\u606F\\uFF0C\\u5224\\u65AD\\u672C\\u5730\\u8D44\\u6E90\\u662F\\u5426\\u9700\\u8981\\u66F4\\u65B0\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u4E0B\\u8F7D\\u8D44\\u6E90\\u5305\"}),\"\\uFF1A\\u4ECE\\u670D\\u52A1\\u5668\\u62C9\\u53D6\\u6700\\u65B0\\u7684\\u8D44\\u6E90\\u5305\\uFF08\\u901A\\u5E38\\u662F\\u4E2A zip \\u6587\\u4EF6\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6821\\u9A8C\\u5B8C\\u6574\\u6027\"}),\"\\uFF1A\\u786E\\u4FDD\\u4E0B\\u8F7D\\u7684\\u6587\\u4EF6\\u6CA1\\u88AB\\u201C\\u5FEB\\u9012\\u5458\\u201D\\u5F04\\u4E22\\u5B57\\u8282\\uFF08MD5 \\u6821\\u9A8C\\u4E86\\u89E3\\u4E00\\u4E0B\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u89E3\\u538B\\u4E0E\\u66FF\\u6362\"}),\"\\uFF1A\\u89E3\\u538B\\u8D44\\u6E90\\u5305\\uFF0C\\u66FF\\u6362\\u6389\\u672C\\u5730\\u65E7\\u6587\\u4EF6\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u91CD\\u542F\\u751F\\u6548\"}),\"\\uFF1A\\u91CD\\u542F\\u5E94\\u7528\\uFF08\\u6216\\u90E8\\u5206\\u9875\\u9762\\uFF09\\uFF0C\\u8BA9\\u65B0\\u8D44\\u6E90\\u751F\\u6548\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u633A\\u7B80\\u5355\\uFF1F\\u4F46\\u9B54\\u9B3C\\u85CF\\u5728\\u7EC6\\u8282\\u91CC\\uFF0C\\u5C24\\u5176\\u5F53\\u4F60\\u60F3\\u52A0\\u4E2A\\u8FDB\\u5EA6\\u6761\\u7684\\u65F6\\u5019\\uFF0C\\u4E8B\\u60C5\\u5C31\\u53D8\\u5F97\\u201C\\u523A\\u6FC0\\u201D\\u4E86\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u54B1\\u4EEC\\u4E00\\u6B65\\u6B65\\u62C6\\u89E3\\u5B9E\\u73B0\\u8FC7\\u7A0B\\uFF0C\\u987A\\u4FBF\\u5E26\\u4E0A\\u4EE3\\u7801\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u5B9E\\u73B0\\u70ED\\u66F4\\u65B0\\u5E26\\u8FDB\\u5EA6\\u6761\\u7684\\u5B9E\\u6218\\u6307\\u5357\",children:(0,n.jsx)(l.a,{href:\"#\\u5B9E\\u73B0\\u70ED\\u66F4\\u65B0\\u5E26\\u8FDB\\u5EA6\\u6761\\u7684\\u5B9E\\u6218\\u6307\\u5357\",children:\"\\u5B9E\\u73B0\\u70ED\\u66F4\\u65B0\\uFF08\\u5E26\\u8FDB\\u5EA6\\u6761\\uFF09\\u7684\\u5B9E\\u6218\\u6307\\u5357\"})}),`\n`,(0,n.jsx)(l.h3,{id:\"step-1-\\u8BBE\\u8BA1\\u7248\\u672C\\u68C0\\u6D4B\\u63A5\\u53E3\",children:(0,n.jsx)(l.a,{href:\"#step-1-\\u8BBE\\u8BA1\\u7248\\u672C\\u68C0\\u6D4B\\u63A5\\u53E3\",children:\"Step 1: \\u8BBE\\u8BA1\\u7248\\u672C\\u68C0\\u6D4B\\u63A5\\u53E3\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u70ED\\u66F4\\u65B0\\u7B2C\\u4E00\\u6B65\\u662F\\u77E5\\u9053\\u201C\\u6709\\u6CA1\\u6709\\u65B0\\u4E1C\\u897F\\u201D\\u3002\\u4F60\\u9700\\u8981\\u5728\\u540E\\u7AEF\\u642D\\u4E00\\u4E2A\\u63A5\\u53E3\\uFF0C\\u8FD4\\u56DE\\u5F53\\u524D\\u6700\\u65B0\\u7684\\u7248\\u672C\\u53F7\\u548C\\u8D44\\u6E90\\u5305\\u7684\\u4E0B\\u8F7D\\u5730\\u5740\\u3002\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"version\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"1.0.1\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"url\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://example.com/update/1.0.1.zip\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"md5\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"e99a18c428cb38d5f260853678922e03\"'})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5BA2\\u6237\\u7AEF\\u542F\\u52A8\\u65F6\\uFF0C\\u901A\\u8FC7 uni.request \\u8BF7\\u6C42\\u8FD9\\u4E2A\\u63A5\\u53E3\\uFF0C\\u548C\\u672C\\u5730\\u7248\\u672C\\u53F7\\u5BF9\\u6BD4\\u3002\\u5982\\u679C\\u670D\\u52A1\\u5668\\u7248\\u672C\\u66F4\\u9AD8\\uFF0C\\u5C31\\u89E6\\u53D1\\u66F4\\u65B0\\u903B\\u8F91\\u3002\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"request\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'https://example.com/api/checkUpdate'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" serverVersion\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.data.version;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" localVersion\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getStorageSync\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'appVersion'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '1.0.0'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"compareVersion\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(serverVersion, localVersion) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u6709\\u65B0\\u7248\\u672C\\uFF0C\\u89E6\\u53D1\\u70ED\\u66F4\\u65B0\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      startHotUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(res.data);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7248\\u672C\\u53F7\\u5BF9\\u6BD4\\u51FD\\u6570\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" compareVersion\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"v1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"v2\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" arr1\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" v1.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"split\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'.'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" arr2\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" v2.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"split\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'.'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" arr1.\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; i\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" n1\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" parseInt\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(arr1[i] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" n2\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" parseInt\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(arr2[i] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (n1 \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" n2) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (n1 \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" n2) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" -\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u7248\\u672C\\u53F7\\u522B\\u7528\\u6D6E\\u70B9\\u6570\\uFF081.0.1 \\u6BD4 1.0.10 \\u8C01\\u5927\\uFF1F\\uFF09\\uFF0C\\u7528\\u5B57\\u7B26\\u4E32\\u5206\\u5272\\u5BF9\\u6BD4\\u66F4\\u7A33\\u59A5\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"step-2-\\u4E0B\\u8F7D\\u8D44\\u6E90\\u5305\\u5E26\\u8FDB\\u5EA6\\u6761\",children:(0,n.jsx)(l.a,{href:\"#step-2-\\u4E0B\\u8F7D\\u8D44\\u6E90\\u5305\\u5E26\\u8FDB\\u5EA6\\u6761\",children:\"Step 2: \\u4E0B\\u8F7D\\u8D44\\u6E90\\u5305\\uFF08\\u5E26\\u8FDB\\u5EA6\\u6761\\uFF09\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"uniapp \\u63D0\\u4F9B\\u4E86 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"uni.downloadFile\"})})})}),\" API\\uFF0C\\u5B8C\\u7F8E\\u652F\\u6301\\u4E0B\\u8F7D\\u8FDB\\u5EA6\\u76D1\\u542C\\u3002\\u54B1\\u4EEC\\u7528\\u5B83\\u6765\\u62C9\\u53D6\\u8D44\\u6E90\\u5305\\uFF0C\\u5E76\\u5B9E\\u65F6\\u66F4\\u65B0\\u8FDB\\u5EA6\\u6761\\u3002\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" startHotUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"updateInfo\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" downloadTask\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"downloadFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    url: updateInfo.url,\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (res.statusCode \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" filePath\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.tempFilePath;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        verifyAndUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(filePath, updateInfo.md5);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"showToast\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4E0B\\u8F7D\\u5931\\u8D25\\uFF0C\\u8BF7\\u91CD\\u8BD5'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", icon: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'none'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    fail\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4E0B\\u8F7D\\u70B8\\u4E86\\uFF1A'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"showToast\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7F51\\u7EDC\\u4E0D\\u7ED9\\u529B'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", icon: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'none'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u76D1\\u542C\\u4E0B\\u8F7D\\u8FDB\\u5EA6\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  downloadTask.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onProgressUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" progress\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.progress; \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// 0-100\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    updateProgressBar\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(progress);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u8FDB\\u5EA6\\u6761\\u7684 UI \\u53EF\\u4EE5\\u7528 uniapp \\u7684 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"<progress>\"})})})}),\" \\u7EC4\\u4EF6\\u5B9E\\u73B0\\uFF0C\\u7B80\\u5355\\u53C8\\u4F18\\u96C5\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"view\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"update-modal\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"text\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u6B63\\u5728\\u66F4\\u65B0\\uFF0C\\u8BF7\\u7A0D\\u5019...</\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"text\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"progress\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" percent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"{{ progress }}\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" stroke-width\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"6\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" active\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\" /\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"view\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Page\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  data: { progress: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  updateProgressBar\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"progress\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ progress });\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (progress \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 100\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"showToast\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4E0B\\u8F7D\\u5B8C\\u6210\\uFF0C\\u6B63\\u5728\\u5B89\\u88C5'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", icon: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'success'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u4E0B\\u8F7D\\u5931\\u8D25\\u65F6\\u522B\\u76F4\\u63A5\\u62A5\\u9519\\u5C31\\u5B8C\\u4E8B\\u513F\\uFF0C\\u7ED9\\u7528\\u6237\\u4E2A\\u201C\\u91CD\\u8BD5\\u201D\\u6309\\u94AE\\uFF0C\\u4F53\\u9A8C\\u4F1A\\u597D\\u5F88\\u591A\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"step-3-\\u6821\\u9A8C\\u4E0E\\u89E3\\u538B\",children:(0,n.jsx)(l.a,{href:\"#step-3-\\u6821\\u9A8C\\u4E0E\\u89E3\\u538B\",children:\"Step 3: \\u6821\\u9A8C\\u4E0E\\u89E3\\u538B\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u4E0B\\u8F7D\\u5B8C\\u8D44\\u6E90\\u5305\\u540E\\uFF0C\\u522B\\u6025\\u7740\\u7528\\uFF0C\\u5148\\u6821\\u9A8C\\u4E00\\u4E0B\\u5B8C\\u6574\\u6027\\u3002uniapp \\u6CA1\\u6709\\u5185\\u7F6E MD5 \\u5DE5\\u5177\\uFF0C\\u4F46\\u4F60\\u53EF\\u4EE5\\u7528\\u7B2C\\u4E09\\u65B9\\u5E93\\uFF08\\u5982 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"js-md5\"})})})}),\"\\uFF09\\u8BA1\\u7B97\\u6587\\u4EF6\\u7684 MD5 \\u503C\\u3002\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" md5 \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'js-md5'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" verifyAndUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"filePath\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"expectedMd5\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" fs\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getFileSystemManager\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" fileContent\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" fs.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"readFileSync\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(filePath, \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'binary'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" fileMd5\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" md5\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(fileContent);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (fileMd5 \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" expectedMd5) {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6821\\u9A8C\\u901A\\u8FC7\\uFF0C\\u5F00\\u59CB\\u89E3\\u538B\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    unzipAndReplace\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(filePath);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"showToast\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6587\\u4EF6\\u6821\\u9A8C\\u5931\\u8D25\\uFF0C\\u53EF\\u80FD\\u88AB\\u5916\\u661F\\u4EBA\\u52AB\\u6301\\u4E86'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", icon: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'none'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" unzipAndReplace\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"filePath\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" fs\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getFileSystemManager\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" destPath\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" `${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"wx\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"env\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"USER_DATA_PATH\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}/hot-update`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  fs.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"unzip\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    zipFilePath: filePath,\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    targetPath: destPath,\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u66FF\\u6362\\u65E7\\u6587\\u4EF6\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      replaceOldFiles\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(destPath);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setStorageSync\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'appVersion'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", serverVersion);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"showModal\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u66F4\\u65B0\\u5B8C\\u6210'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        content: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u91CD\\u542F\\u5E94\\u7528\\u4EE5\\u751F\\u6548'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (res.confirm) uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"reLaunch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/pages/index/index'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    fail\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u89E3\\u538B\\u5931\\u8D25\\uFF1A'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"showToast\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u89E3\\u538B\\u51FA\\u9519\\uFF0C\\u7A0D\\u540E\\u518D\\u8BD5'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", icon: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'none'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u89E3\\u538B\\u8DEF\\u5F84\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"wx.env.USER_DATA_PATH\"})})})}),\"\\uFF0C\\u8FD9\\u662F uniapp \\u7684\\u6C99\\u76D2\\u76EE\\u5F55\\uFF0C\\u5B89\\u5168\\u53C8\\u89C4\\u8303\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"step-4-\\u91CD\\u542F\\u751F\\u6548\",children:(0,n.jsx)(l.a,{href:\"#step-4-\\u91CD\\u542F\\u751F\\u6548\",children:\"Step 4: \\u91CD\\u542F\\u751F\\u6548\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u70ED\\u66F4\\u65B0\\u540E\\uFF0C\\u901A\\u5E38\\u9700\\u8981\\u91CD\\u542F\\u5E94\\u7528\\u6216\\u9875\\u9762\\u3002uniapp \\u63D0\\u4F9B\\u4E86 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"uni.reLaunch\"})})})}),\" \\u6765\\u91CD\\u542F\\u6574\\u4E2A\\u5E94\\u7528\\uFF0C\\u6216\\u8005\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"uni.navigateTo\"})})})}),\" \\u5237\\u65B0\\u5F53\\u524D\\u9875\\u9762\\uFF0C\\u5177\\u4F53\\u770B\\u4F60\\u7684\\u9700\\u6C42\\u3002\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879\",children:(0,n.jsx)(l.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u589E\\u91CF\\u66F4\\u65B0\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u522B\\u6BCF\\u6B21\\u90FD\\u4E0B\\u5168\\u91CF\\u5305\\uFF0C\\u592A\\u6D6A\\u8D39\\u6D41\\u91CF\\u3002\\u53EF\\u4EE5\\u8BA9\\u540E\\u7AEF\\u751F\\u6210\\u589E\\u91CF\\u5305\\uFF08diff \\u6587\\u4EF6\\uFF09\\uFF0C\\u53EA\\u66F4\\u65B0\\u6539\\u52A8\\u7684\\u90E8\\u5206\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"bsdiff\"})})})}),\" \\u5DE5\\u5177\\u751F\\u6210\\u589E\\u91CF\\u5305\\uFF0C\\u5BA2\\u6237\\u7AEF\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"bspatch\"})})})}),\" \\u5408\\u5E76\\uFF0C\\u6548\\u7387\\u8D77\\u98DE\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u8FDB\\u5EA6\\u6761\\u4F18\\u5316\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u8FDB\\u5EA6\\u6761\\u522B\\u5355\\u7EAF\\u663E\\u793A\\u6570\\u5B57\\uFF0C\\u52A0\\u70B9\\u52A8\\u753B\\uFF08\\u6BD4\\u5982\\u6E10\\u53D8\\u8272\\uFF09\\uFF0C\\u7528\\u6237\\u4F1A\\u89C9\\u5F97\\u201C\\u54C7\\uFF0C\\u8FD9\\u8FDB\\u5EA6\\u6761\\u597D\\u9AD8\\u7EA7\\u201D\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u7528 CSS \\u5B9E\\u73B0\\u6E10\\u53D8\\u6548\\u679C\\uFF0C\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:'<progress activeColor=\"linear-gradient(to right, #00ff00, #0000ff)\" />'})})})}),\"\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5931\\u8D25\\u56DE\\u6EDA\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u4E0B\\u8F7D\\u6216\\u89E3\\u538B\\u5931\\u8D25\\u65F6\\uFF0C\\u4FDD\\u7559\\u65E7\\u7248\\u672C\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u5361\\u5728\\u201C\\u534A\\u66F4\\u65B0\\u201D\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u4E0B\\u8F7D\\u524D\\u5907\\u4EFD\\u65E7\\u6587\\u4EF6\\uFF0C\\u51FA\\u95EE\\u9898\\u65F6\\u76F4\\u63A5\\u6062\\u590D\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u7070\\u5EA6\\u53D1\\u5E03\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u522B\\u4E00\\u80A1\\u8111\\u5168\\u91CF\\u63A8\\u9001\\uFF0C\\u5148\\u5C0F\\u8303\\u56F4\\u6D4B\\u8BD5\\u70ED\\u66F4\\u65B0\\u6548\\u679C\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u540E\\u7AEF\\u52A0\\u4E2A\\u5B57\\u6BB5 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"forceUpdate: false\"})})})}),\"\\uFF0C\\u8BA9\\u90E8\\u5206\\u7528\\u6237\\u5148\\u4F53\\u9A8C\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u65E5\\u5FD7\\u8BB0\\u5F55\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u66F4\\u65B0\\u8FC7\\u7A0B\\u52A0\\u70B9\\u65E5\\u5FD7\\uFF0C\\u65B9\\u4FBF\\u6392\\u67E5\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Tips\"}),\": \\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"console.log\"})})})}),\" \\u4E0D\\u591F\\u4F18\\u96C5\\uFF0C\\u8BD5\\u8BD5 uniapp \\u7684 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"uni.setStorageSync\"})})})}),\" \\u5B58\\u65E5\\u5FD7\\u3002\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684\\u4F8B\\u5B50\",children:(0,n.jsx)(l.a,{href:\"#\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684\\u4F8B\\u5B50\",children:\"\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684\\u4F8B\\u5B50\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4E0B\\u9762\\u662F\\u4E00\\u4E2A\\u7B80\\u5316\\u7684\\u70ED\\u66F4\\u65B0\\u5B9E\\u73B0\\uFF0C\\u5E26\\u8FDB\\u5EA6\\u6761\\uFF0C\\u4F9B\\u4F60\\u76F4\\u63A5\\u6284\\u4F5C\\u4E1A\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Page\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  data: { progress: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", updating: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  onLoad\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"checkUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  checkUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"request\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'https://example.com/api/checkUpdate'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"shouldUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(res.data.version)) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"          this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ updating: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"          this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"downloadUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(res.data);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  downloadUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"updateInfo\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" task\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"downloadFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      url: updateInfo.url,\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"verifyAndApply\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(res.tempFilePath, updateInfo.md5);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    task.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onProgressUpdate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ progress: res.progress });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  verifyAndApply\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"filePath\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"md5\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6821\\u9A8C\\u548C\\u89E3\\u538B\\u903B\\u8F91\\uFF08\\u53C2\\u8003\\u4E0A\\u6587\\uFF09\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    uni.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"reLaunch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/pages/index/index'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"view\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" wx:if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"{{ updating }}\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"text\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u66F4\\u65B0\\u4E2D\\uFF1A{{ progress }}%</\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"text\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"progress\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" percent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"{{ progress }}\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" active\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" stroke-width\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"10\"'}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\" /\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"view\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u5199\\u5728\\u6700\\u540E\",children:(0,n.jsx)(l.a,{href:\"#\\u5199\\u5728\\u6700\\u540E\",children:\"\\u5199\\u5728\\u6700\\u540E\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u70ED\\u66F4\\u65B0\\u5C31\\u50CF\\u7ED9 uniapp \\u63D2\\u4E0A\\u4E86\\u4E00\\u53CC\\u9690\\u5F62\\u7684\\u7FC5\\u8180\\uFF0C\\u8BA9\\u4F60\\u7684\\u5E94\\u7528\\u65E2\\u7075\\u6D3B\\u53C8\\u9AD8\\u6548\\u3002\\u52A0\\u4E0A\\u8FDB\\u5EA6\\u6761\\u540E\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u8FD8\\u80FD\\u518D\\u4E0A\\u4E00\\u5C42\\u697C\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u5E2E\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u5F7B\\u5E95\\u641E\\u5B9A\\u70ED\\u66F4\\u65B0\\uFF0C\\u522B\\u5FD8\\u4E86\\u591A\\u8BD5\\u8BD5\\u3001\\u591A\\u8C03\\u8C03\\uFF0C\\u627E\\u5230\\u6700\\u9002\\u5408\\u4F60\\u9879\\u76EE\\u7684\\u65B9\\u6848\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6709\\u95EE\\u9898\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u63A2\\u8BA8\\uFF01\\u5982\\u679C\\u89C9\\u5F97\\u6709\\u7528\\uFF0C\\u70B9\\u4E2A\\u8D5E\\u518D\\u8D70\\u5457\\uFF0C\\u6BD5\\u7ADF\\u7801\\u5B57\\u4E0D\\u6613\\uFF0C\\u6211\\u5F97\\u53BB\\u559D\\u53E3\\u5496\\u5561\\u538B\\u538B\\u60CA \\u2615\\uFE0F\\u3002\"}),`\n`,(0,n.jsx)(l.hr,{})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}return m(b);})();\n;return Component;"
  },
  "_id": "å°ç¨‹åº/Uni-app/uniappå¦‚ä½•å®ç°çƒ­æ›´æ–°.mdx",
  "_raw": {
    "sourceFilePath": "å°ç¨‹åº/Uni-app/uniappå¦‚ä½•å®ç°çƒ­æ›´æ–°.mdx",
    "sourceFileName": "uniappå¦‚ä½•å®ç°çƒ­æ›´æ–°.mdx",
    "sourceFileDir": "å°ç¨‹åº/Uni-app",
    "contentType": "mdx",
    "flattenedPath": "å°ç¨‹åº/Uni-app/uniappå¦‚ä½•å®ç°çƒ­æ›´æ–°"
  },
  "type": "Post",
  "url": "/blog/å°ç¨‹åº/Uni-app/uniappå¦‚ä½•å®ç°çƒ­æ›´æ–°"
}
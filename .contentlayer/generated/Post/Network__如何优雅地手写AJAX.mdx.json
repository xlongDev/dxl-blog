{
  "title": "å¦‚ä½•ä¼˜é›…åœ°æ‰‹å†™ AJAX?",
  "date": "2023-05-24T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æž AJAX çš„åŽŸç†ï¼Œæ‰‹å†™å®žçŽ°ä¸€ä¸ªä¼˜é›…ä¸”å®žç”¨çš„ AJAX è¯·æ±‚å·¥å…·ï¼Œå¸¦ä½ ä»Ž XMLHttpRequest åˆ°çŽ°ä»£å°è£…çš„æœ€ä½³å®žè·µã€‚",
  "keywords": "AJAX, XMLHttpRequest, å‰ç«¯å¼€å‘, JavaScript, å¼‚æ­¥è¯·æ±‚, ç½‘ç»œè¯·æ±‚, æœ€ä½³å®žè·µ",
  "author": "æ™“é¾™",
  "image": "/images/hero/ajax-handwriting.jpg",
  "tags": [
    "JavaScript",
    "å‰ç«¯å¼€å‘",
    "ç½‘ç»œè¯·æ±‚"
  ],
  "views": 0,
  "likes": 0,
  "category": "Network",
  "body": {
    "raw": "\nå—¨ï¼Œå‰ç«¯æœ‹å‹ä»¬ï¼ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠä¸€ä¸ªå¬èµ·æ¥æœ‰ç‚¹â€œå¤å¤â€ï¼Œä½†å…¶å®žä¾ç„¶æ˜¯å‰ç«¯å¼€å‘åŸºçŸ³çš„æŠ€æœ¯â€”â€”AJAXã€‚æåˆ° AJAXï¼Œä½ å¯èƒ½è„‘æµ·é‡Œä¼šæµ®çŽ°å‡º jQuery çš„ `$.ajax`ï¼Œæˆ–è€…çŽ°ä»£çš„ `fetch` APIï¼Œç”šè‡³æ˜¯ Axios è¿™æ ·çš„æ˜Žæ˜Ÿåº“ã€‚ä½†ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œæ‰‹å†™ä¸€ä¸ªå±žäºŽè‡ªå·±çš„ AJAX å·¥å…·ï¼Œæ—¢èƒ½æ·±å…¥ç†è§£å®ƒçš„åŽŸç†ï¼Œåˆèƒ½åœ¨æŸäº›åœºæ™¯ä¸‹â€œç§€â€ä¸€æŠŠéªšæ“ä½œï¼Ÿåˆ«æ€¥ï¼Œè¿™ç¯‡æ–‡ç« å°†å¸¦ä½ ä»Žé›¶å¼€å§‹ï¼Œä¼˜é›…åœ°æ‰‹å†™ AJAXï¼Œå‰–æžå®ƒçš„çµé­‚ï¼Œè¿˜ä¼šé™„ä¸Šä¸€äº›å®žç”¨æŠ€å·§å’Œå¹½é»˜åæ§½ã€‚å‡†å¤‡å¥½äº†å—ï¼ŸLet's dive in! ðŸš€\n\n## AJAX æ˜¯ä¸ªå•¥ï¼Ÿä»Žâ€œçµé­‚æ‹·é—®â€å¼€å§‹\n\nAJAX å…¨ç§°æ˜¯ **Asynchronous JavaScript and XML**ï¼ˆå¼‚æ­¥ JavaScript å’Œ XMLï¼‰ï¼Œä½†åˆ«è¢«åå­—éª—äº†ï¼ŒçŽ°åœ¨æˆ‘ä»¬å‡ ä¹Žä¸ç”¨ XML äº†ï¼ŒJSON æ‰æ˜¯ä¸»è§’ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯é€šè¿‡ JavaScript åœ¨æµè§ˆå™¨ä¸­å‘èµ·å¼‚æ­¥ç½‘ç»œè¯·æ±‚ï¼Œä¸åˆ·æ–°é¡µé¢å°±èƒ½å’ŒæœåŠ¡å™¨â€œèŠèŠå¤©â€ã€‚è¿™å°±åƒä½ å·å·ç»™æœ‹å‹å‘å¾®ä¿¡ï¼Œä¸ç”¨å½“é¢å–Šè¯ï¼Œæ•´ä¸ªè¿‡ç¨‹æ‚„æ— å£°æ¯ã€‚\n\næ ¸å¿ƒå·¥å…·æ˜¯ `XMLHttpRequest`ï¼ˆç®€ç§° XHRï¼‰ï¼Œä¸€ä¸ªæµè§ˆå™¨å†…ç½®çš„å¯¹è±¡ï¼Œè™½ç„¶åå­—æœ‰ç‚¹é•¿å¾—åƒä¸Šä¸–çºªçš„äº§ç‰©ï¼Œä½†å®ƒä¾ç„¶æ˜¯ AJAX çš„å¿ƒè„ã€‚çŽ°ä»£çš„ `fetch` API è™½ç„¶æ›´ç®€æ´ï¼Œä½†åº•å±‚è¿˜æ˜¯ä¾èµ–ç±»ä¼¼çš„æœºåˆ¶ã€‚æ‰€ä»¥ï¼Œæžæ‡‚ XHRï¼Œå°±ç­‰äºŽæŠ“ä½äº† AJAX çš„å‘½è„‰ã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼šXHR å°±åƒä½ å®¶é‡Œçš„è€å¼åº§æœºï¼Œè™½ç„¶ä¸å¦‚æ™ºèƒ½æ‰‹æœºèŠ±å“¨ï¼Œä½†åªè¦çº¿è·¯é€šï¼Œå°±èƒ½æ‰“éå¤©ä¸‹ã€‚è€Œæ‰‹å†™ AJAXï¼Œå°±æ˜¯è®©æˆ‘ä»¬ä»Žå¤´æ‰“é€ ä¸€å°â€œåº§æœºâ€ï¼Œæ—¢å¤å¤åˆå®žç”¨ã€‚\n\n## æ‰‹å†™ AJAXï¼šä»Žæœ€ç®€ç‰ˆå¼€å§‹\n\nå¥½äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬å…ˆå†™ä¸€ä¸ªæœ€åŸºç¡€çš„ AJAX è¯·æ±‚ï¼Œçœ‹çœ‹å®ƒé•¿å•¥æ ·ï¼š\n\n```javascript\nfunction simpleAjax(url, callback) {\n  const xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url, true); // true è¡¨ç¤ºå¼‚æ­¥\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      callback(xhr.responseText);\n    }\n  };\n  xhr.send();\n}\n\n// ç”¨æ³•\nsimpleAjax(\"https://api.example.com/data\", (data) => {\n  console.log(\"æ”¶åˆ°æ•°æ®å•¦ï¼š\", data);\n});\n```\n\nè¿™æ®µä»£ç ç®€å•å¾—åƒä¸ªâ€œhello worldâ€ï¼Œä½†å·²ç»èƒ½è·‘äº†ï¼æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª XHR å¯¹è±¡ï¼Œå‘Šè¯‰å®ƒç”¨ GET æ–¹æ³•åŽ»è¯·æ±‚ä¸€ä¸ª URLï¼Œç­‰çŠ¶æ€å˜æˆ `readyState === 4`ï¼ˆè¯·æ±‚å®Œæˆï¼‰ä¸” `status === 200`ï¼ˆæˆåŠŸï¼‰æ—¶ï¼ŒæŠŠæ•°æ®ä¸¢ç»™å›žè°ƒå‡½æ•°ã€‚\n\n**å° Tips**: `readyState` æœ‰ 0 åˆ° 4 äº”ä¸ªçŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯æœªåˆå§‹åŒ–ã€å·²æ‰“å¼€ã€å·²å‘é€ã€æŽ¥æ”¶ä¸­å’Œå®Œæˆã€‚è®°ä¸ä½ï¼Ÿæ²¡äº‹ï¼Œæƒ³æˆä¸€åœºå¿«é€’æ—…ç¨‹ï¼š0 æ˜¯è¿˜æ²¡ä¸‹å•ï¼Œ4 æ˜¯å¿«é€’åˆ°æ‰‹ã€‚\n\n### åŠ ç‚¹æ–™ï¼šæ”¯æŒ POST å’Œå‚æ•°\n\nå…‰ä¼š GET å¯ä¸è¡Œï¼Œå’±ä»¬å¾—æ”¯æŒ POST å’Œä¼ å‚ã€‚å‡è®¾æˆ‘ä»¬è¦å‘ä¸ªè¡¨å•æ•°æ®ç»™æœåŠ¡å™¨ï¼š\n\n```javascript\nfunction ajax({ url, method = \"GET\", data = null, success }) {\n  const xhr = new XMLHttpRequest();\n  xhr.open(method, url, true);\n\n  // å¦‚æžœæ˜¯ POSTï¼Œè®¾ç½®è¯·æ±‚å¤´\n  if (method.toUpperCase() === \"POST\") {\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n  }\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4) {\n      if (xhr.status === 200) {\n        success(xhr.responseText);\n      } else {\n        console.error(`è¯·æ±‚æŒ‚äº†ï¼ŒçŠ¶æ€ç ï¼š${xhr.status}`);\n      }\n    }\n  };\n\n  // å‘é€æ•°æ®\n  xhr.send(data ? JSON.stringify(data) : null);\n}\n\n// ç”¨æ³•\najax({\n  url: \"https://api.example.com/submit\",\n  method: \"POST\",\n  data: { name: \"æ™“é¾™\", age: 25 },\n  success: (res) => console.log(\"æˆåŠŸå•¦ï¼š\", res),\n});\n```\n\nå‡çº§ç‰ˆæ¥äº†ï¼æˆ‘ä»¬ç”¨å¯¹è±¡å‚æ•°è§£æž„ï¼Œè®©è°ƒç”¨æ›´çµæ´»ã€‚POST è¯·æ±‚è¿˜åŠ äº†è¯·æ±‚å¤´ï¼Œæ•°æ®ä¹Ÿè½¬æˆäº† JSON æ ¼å¼ã€‚è¿™å°±åƒä»Žæ‹¨å·åº§æœºå‡çº§æˆäº†å¸¦çŸ­ä¿¡åŠŸèƒ½çš„æŒ‰é”®æœºï¼ŒåŠŸèƒ½æ›´é½å…¨äº†ã€‚\n\n**å° Tips**: åˆ«å¿˜äº† `setRequestHeader` è¦åœ¨ `open` ä¹‹åŽã€`send` ä¹‹å‰è°ƒç”¨ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚è¿™å°±åƒä½ å¾—å…ˆæŽ¥é€šç”µè¯ï¼Œæ‰èƒ½å‘Šè¯‰å¯¹æ–¹â€œä½ å¥½ï¼Œæˆ‘è¦ç‚¹å¤–å–â€ã€‚\n\n## ä¼˜é›…è¿›é˜¶ï¼šé”™è¯¯å¤„ç†å’Œè¶…æ—¶\n\nçŽ°å®žä¸–ç•Œé‡Œï¼Œç½‘ç»œè¯·æ±‚å¯ä¸æ˜¯æ°¸è¿œé£Žå¹³æµªé™ã€‚æœåŠ¡å™¨å¯èƒ½ä¼šæŠ½é£Žï¼Œç½‘ç»œå¯èƒ½ä¼šæ–­çº¿ï¼Œå’±ä»¬å¾—åŠ ç‚¹â€œé˜²æ‘”â€åŠŸèƒ½ï¼š\n\n```javascript\nfunction elegantAjax({\n  url,\n  method = \"GET\",\n  data = null,\n  success,\n  error,\n  timeout = 5000,\n}) {\n  const xhr = new XMLHttpRequest();\n  xhr.open(method, url, true);\n\n  if (method.toUpperCase() === \"POST\") {\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n  }\n\n  // è¶…æ—¶å¤„ç†\n  xhr.timeout = timeout;\n  xhr.ontimeout = () => error?.(\"è¯·æ±‚è¶…æ—¶å•¦ï¼Œåˆ«ç­‰äº†ï¼\");\n\n  // çŠ¶æ€å˜åŒ–ç›‘å¬\n  xhr.onreadystatechange = () => {\n    if (xhr.readyState === 4) {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        success(xhr.responseText);\n      } else {\n        error?.(`è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š${xhr.status}`);\n      }\n    }\n  };\n\n  // ç½‘ç»œé”™è¯¯\n  xhr.onerror = () => error?.(\"ç½‘ç»œç‚¸äº†ï¼Œæ£€æŸ¥ä¸‹WiFiå§ï¼\");\n\n  xhr.send(data ? JSON.stringify(data) : null);\n}\n\n// ç”¨æ³•\nelegantAjax({\n  url: \"https://api.example.com/data\",\n  method: \"GET\",\n  success: (res) => console.log(\"æ•°æ®åˆ°æ‰‹ï¼š\", res),\n  error: (msg) => console.error(\"å‡ºé—®é¢˜äº†ï¼š\", msg),\n  timeout: 3000,\n});\n```\n\nçŽ°åœ¨æˆ‘ä»¬çš„ AJAX å¤šäº†è¶…æ—¶å’Œé”™è¯¯å¤„ç†ï¼Œåƒä¸ªæœ‰å¤‡èƒŽçš„é è°±æœ‹å‹ã€‚`ontimeout` ä¼šåœ¨è¯·æ±‚è¶…æ—¶æ—¶è§¦å‘ï¼Œ`onerror` ä¼šåœ¨ç½‘ç»œæ–­å¼€æ—¶æ•‘åœºã€‚çŠ¶æ€ç ä¹Ÿç”¨äº†æ›´å®½æ¾çš„èŒƒå›´ï¼ˆ200-299ï¼‰ï¼Œå…¼å®¹æ›´å¤šæˆåŠŸå“åº”ã€‚\n\n**å° Tips**: è¶…æ—¶æ—¶é—´åˆ«è®¾å¤ªçŸ­ï¼Œä¸ç„¶æœåŠ¡å™¨è¿˜æ²¡æ¥å¾—åŠå–˜æ°”å°±è¢«ä½ åˆ¤äº†â€œæ­»åˆ‘â€ã€‚5ç§’åˆ°10ç§’æ˜¯ä¸ªä¸é”™çš„é»˜è®¤å€¼ã€‚\n\n## Promise åŒ–ï¼šè·Ÿä¸ŠçŽ°ä»£æ½®æµ\n\nå›žè°ƒå‡½æ•°è™½ç„¶ç»å…¸ï¼Œä½†ç”¨å¤šäº†å®¹æ˜“é™·å…¥â€œå›žè°ƒåœ°ç‹±â€ï¼Œå°±åƒä¿„ç½—æ–¯å¥—å¨ƒä¸€æ ·è®©äººå¤´æ™•ã€‚å’±ä»¬ç»™å®ƒå¥—ä¸Š Promise çš„â€œæ–°çš®è‚¤â€ï¼š\n\n```javascript\nfunction promiseAjax({ url, method = \"GET\", data = null, timeout = 5000 }) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n\n    if (method.toUpperCase() === \"POST\") {\n      xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    }\n\n    xhr.timeout = timeout;\n    xhr.ontimeout = () => reject(new Error(\"è¯·æ±‚è¶…æ—¶ï¼ŒæœåŠ¡å™¨å¯èƒ½åœ¨æ‰“ç›¹\"));\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          resolve(xhr.responseText);\n        } else {\n          reject(new Error(`è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š${xhr.status}`));\n        }\n      }\n    };\n\n    xhr.onerror = () => reject(new Error(\"ç½‘ç»œæŒ‚äº†ï¼Œèµ¶ç´§æ‰¾ç½‘ç®¡ï¼\"));\n\n    xhr.send(data ? JSON.stringify(data) : null);\n  });\n}\n\n// ç”¨æ³•\npromiseAjax({\n  url: \"https://api.example.com/data\",\n  method: \"GET\",\n})\n  .then((res) => console.log(\"æˆåŠŸï¼š\", res))\n  .catch((err) => console.error(\"å¤±è´¥ï¼š\", err.message));\n```\n\nPromise ç‰ˆçš„ AJAX æ˜¯ä¸æ˜¯çœ‹èµ·æ¥æ›´æ¸…çˆ½ï¼Ÿå®ƒå°±åƒæŠŠè€å¼åº§æœºæ”¹æˆäº†è§¦å±æ‰‹æœºï¼Œç”¨æ³•æ›´çŽ°ä»£åŒ–ï¼Œè¿˜èƒ½æ„‰å¿«åœ°è·Ÿ `async/await` çŽ©è€ï¼š\n\n```javascript\nasync function fetchData() {\n  try {\n    const res = await promiseAjax({ url: \"https://api.example.com/data\" });\n    console.log(\"æ•°æ®æ¥å•¦ï¼š\", res);\n  } catch (err) {\n    console.error(\"å‡ºé”™å•¦ï¼š\", err.message);\n  }\n}\nfetchData();\n```\n\n**å° Tips**: å¦‚æžœä½ æƒ³è®©è¿”å›žçš„æ•°æ®è‡ªåŠ¨è§£æžæˆ JSONï¼Œå¯ä»¥åœ¨ `resolve` æ—¶åŠ ä¸ª `JSON.parse(xhr.responseText)`ï¼Œä½†è®°å¾—ç”¨ `try-catch` åŒ…ä¸€ä¸‹ï¼Œå…å¾— JSON æ ¼å¼ä¸å¯¹æ—¶ç¿»è½¦ã€‚\n\n## ç»ˆæžç‰ˆï¼šåŠ ç‚¹â€œèŠ±æ´»å„¿â€\n\nåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†ä¸ªæŒºé è°±çš„ AJAX å·¥å…·ï¼Œä½†ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæ€Žä¹ˆèƒ½ä¸è¿½æ±‚æžè‡´å‘¢ï¼Ÿå’±ä»¬å†åŠ ç‚¹é«˜çº§åŠŸèƒ½ï¼Œæ¯”å¦‚è¯·æ±‚å–æ¶ˆã€æ‹¦æˆªå™¨å’Œè¿›åº¦ç›‘å¬ï¼š\n\n```javascript\nclass AjaxMaster {\n  constructor() {\n    this.interceptors = {\n      request: [],\n      response: [],\n    };\n  }\n\n  // æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨\n  interceptRequest(fn) {\n    this.interceptors.request.push(fn);\n  }\n\n  // æ·»åŠ å“åº”æ‹¦æˆªå™¨\n  interceptResponse(fn) {\n    this.interceptors.response.push(fn);\n  }\n\n  request({ url, method = \"GET\", data = null, timeout = 5000, onProgress }) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n\n      // åº”ç”¨è¯·æ±‚æ‹¦æˆªå™¨\n      let config = { url, method, data, timeout };\n      this.interceptors.request.forEach((fn) => {\n        config = fn(config) || config;\n      });\n\n      xhr.open(config.method, config.url, true);\n      if (config.method.toUpperCase() === \"POST\") {\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n      }\n\n      xhr.timeout = config.timeout;\n      xhr.ontimeout = () => reject(new Error(\"è¶…æ—¶å•¦ï¼ŒæœåŠ¡å™¨ç¡è¿‡å¤´äº†\"));\n\n      // è¿›åº¦ç›‘å¬\n      if (onProgress) {\n        xhr.onprogress = (event) => {\n          if (event.lengthComputable) {\n            const percent = (event.loaded / event.total) * 100;\n            onProgress(percent);\n          }\n        };\n      }\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4) {\n          let response = { data: xhr.responseText, status: xhr.status };\n          // åº”ç”¨å“åº”æ‹¦æˆªå™¨\n          this.interceptors.response.forEach((fn) => {\n            response = fn(response) || response;\n          });\n\n          if (xhr.status >= 200 && xhr.status < 300) {\n            resolve(response.data);\n          } else {\n            reject(new Error(`å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š${xhr.status}`));\n          }\n        }\n      };\n\n      xhr.onerror = () => reject(new Error(\"ç½‘ç»œå´©äº†ï¼Œèµ¶ç´§é‡å¯è·¯ç”±å™¨ï¼\"));\n\n      // æ”¯æŒå–æ¶ˆè¯·æ±‚\n      xhr.send(config.data ? JSON.stringify(config.data) : null);\n      return () => xhr.abort(); // è¿”å›žå–æ¶ˆå‡½æ•°\n    });\n  }\n}\n\n// ç”¨æ³•\nconst ajax = new AjaxMaster();\n\n// åŠ ä¸ªè¯·æ±‚æ‹¦æˆªå™¨ï¼Œå·å·åŠ ä¸ª token\najax.interceptRequest((config) => {\n  config.url += \"?token=secret123\";\n  return config;\n});\n\n// åŠ ä¸ªå“åº”æ‹¦æˆªå™¨ï¼Œè‡ªåŠ¨è§£æž JSON\najax.interceptResponse((response) => {\n  try {\n    response.data = JSON.parse(response.data);\n  } catch (e) {\n    console.warn(\"JSON è§£æžå¤±è´¥ï¼ŒæœåŠ¡å™¨å¯èƒ½åœ¨é€—ä½ çŽ©\");\n  }\n  return response;\n});\n\n// å‘é€è¯·æ±‚\nconst cancel = ajax.request({\n  url: \"https://api.example.com/data\",\n  method: \"GET\",\n  onProgress: (percent) => console.log(`ä¸‹è½½è¿›åº¦ï¼š${percent}%`),\n})\n  .then((res) => console.log(\"ç»“æžœï¼š\", res))\n  .catch((err) => console.error(\"é”™è¯¯ï¼š\", err.message));\n\n// åŠè·¯å–æ¶ˆ\nsetTimeout(() => cancel(), 2000); // 2ç§’åŽå–æ¶ˆè¯·æ±‚\n```\n\nè¿™ç‰ˆ `AjaxMaster` ç®€ç›´æ˜¯ AJAX çš„â€œå˜å½¢é‡‘åˆšâ€ï¼å®ƒæ”¯æŒæ‹¦æˆªå™¨ï¼ˆåƒ Axios é‚£æ ·ä¼˜é›…ï¼‰ã€è¿›åº¦ç›‘å¬ï¼ˆä¸Šä¼ ä¸‹è½½æ—¶ç‰¹åˆ«é¦™ï¼‰ã€è¯·æ±‚å–æ¶ˆï¼ˆä¸æƒ³ç­‰å°±ç›´æŽ¥å–Šåœï¼‰ã€‚ä½ å¯ä»¥ç”¨å®ƒæ‰“é€ ä¸€ä¸ªå®Œå…¨è‡ªå®šä¹‰çš„è¯·æ±‚å·¥å…·ï¼Œæ»¡è¶³å„ç§å¥‡è‘©éœ€æ±‚ã€‚\n\n**å° Tips**: æ‹¦æˆªå™¨æ˜¯ä¸ªç¥žå™¨ï¼Œå¯ä»¥ç”¨æ¥ç»Ÿä¸€åŠ è¯·æ±‚å¤´ã€æ—¥å¿—è®°å½•ç”šè‡³ mock æ•°æ®ã€‚ä½†åˆ«æ»¥ç”¨ï¼Œä¸ç„¶ä»£ç ä¼šå˜æˆâ€œæ‹¦æˆªå™¨è¿·å®«â€ï¼Œç»´æŠ¤èµ·æ¥æƒ³å“­ã€‚\n\n## æœ€ä½³å®žè·µï¼šè®© AJAX æ›´é¦™\n\næ‰‹å†™ AJAX ä¸æ˜¯ä¸ºäº†ç‚«æŠ€ï¼Œè€Œæ˜¯ä¸ºäº†åœ¨ç‰¹å®šåœºæ™¯ä¸‹æ›´çµæ´»ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å®žæˆ˜ç»éªŒï¼š\n\n1. **æ€»æ˜¯å¤„ç†é”™è¯¯**  \n   åˆ«æŒ‡æœ›æœåŠ¡å™¨æ°¸è¿œæ­£å¸¸ï¼Œ`try-catch` å’Œ `error` å›žè°ƒæ˜¯ä½ çš„æŠ¤èº«ç¬¦ã€‚  \n   **å° Tips**: åŠ ä¸ªé»˜è®¤é”™è¯¯æç¤ºï¼Œæ¯”å¦‚â€œæœåŠ¡å™¨å¼€å°å·®äº†ï¼Œç¨åŽå†è¯•â€ï¼Œç”¨æˆ·ä½“éªŒä¼šå¥½å¾ˆå¤šã€‚\n\n2. **åˆç†è®¾ç½®è¶…æ—¶**  \n   è¶…æ—¶æ—¶é—´å› ä¸šåŠ¡è€Œå¼‚ï¼Œæ–‡ä»¶ä¸Šä¼ å¯ä»¥é•¿ç‚¹ï¼ˆ30sï¼‰ï¼Œæ™®é€šæŽ¥å£çŸ­ç‚¹ï¼ˆ5sï¼‰ã€‚  \n   **å° Tips**: å¯ä»¥æ ¹æ®ç½‘ç»œçŽ¯å¢ƒåŠ¨æ€è°ƒæ•´ï¼Œæ¯”å¦‚ç”¨ `navigator.onLine` åˆ¤æ–­ã€‚\n\n3. **å–„ç”¨æ‹¦æˆªå™¨**  \n   æŠŠé€šç”¨çš„é€»è¾‘ï¼ˆæ¯”å¦‚è®¤è¯ã€æ—¥å¿—ï¼‰ä¸¢åˆ°æ‹¦æˆªå™¨é‡Œï¼Œä¿æŒè¯·æ±‚ä»£ç ç®€æ´ã€‚  \n   **å° Tips**: æ‹¦æˆªå™¨é‡Œåˆ«å¹²å¤ªé‡çš„æ´»ï¼Œä¸ç„¶æ€§èƒ½ä¼šæ‰“æŠ˜ã€‚\n\n4. **æ”¯æŒå–æ¶ˆè¯·æ±‚**  \n   åœ¨ SPA é‡Œï¼Œç”¨æˆ·åˆ‡æ¢é¡µé¢æ—¶å–æ¶ˆæœªå®Œæˆçš„è¯·æ±‚ï¼Œèƒ½çœæµé‡è¿˜èƒ½é˜²å†…å­˜æ³„æ¼ã€‚  \n   **å° Tips**: ç”¨ä¸€ä¸ª Map å­˜æ‰€æœ‰ xhr å¯¹è±¡ï¼Œé¡µé¢å¸è½½æ—¶æ‰¹é‡ abortã€‚\n\n5. **è°ƒè¯•å‹å¥½**  \n   åŠ ç‚¹æ—¥å¿—ï¼Œæ¯”å¦‚è¯·æ±‚å¼€å§‹æ—¶é—´ã€è€—æ—¶ï¼Œå¼€å‘æ—¶èƒ½å¿«é€Ÿå®šä½é—®é¢˜ã€‚  \n   **å° Tips**: ç”¨ `console.group` æŠŠè¯·æ±‚ä¿¡æ¯åˆ†ç»„ï¼Œè°ƒè¯•æ—¶æ¸…çˆ½åˆé«˜çº§ã€‚\n\n## å†™åœ¨æœ€åŽï¼šAJAX çš„â€œå“²å­¦â€\n\næ‰‹å†™ AJAX å°±åƒè‡ªå·±åŠ¨æ‰‹åšé¥­ï¼Œè™½ç„¶å¤–é¢æœ‰å¤–å–ï¼ˆfetchã€Axiosï¼‰ï¼Œä½†äº²æ‰‹ç‚’ä¸ªèœï¼Œèƒ½è®©ä½ æ›´æ‡‚é£Ÿæå’Œç«å€™ã€‚XHR è™½ç„¶è€ï¼Œå´ä¾ç„¶æ˜¯æµè§ˆå™¨ç½‘ç»œè¯·æ±‚çš„åŸºçŸ³ï¼Œç†è§£å®ƒçš„åŽŸç†ï¼Œèƒ½è®©ä½ åœ¨é¢å¯¹å¤æ‚éœ€æ±‚æ—¶æ›´æœ‰åº•æ°”ã€‚\n\nä¸‹æ¬¡é¢è¯•å®˜é—®ä½ â€œAJAX æ€Žä¹ˆå®žçŽ°â€ï¼Œä½ å°±å¯ä»¥æŽå‡ºè¿™ç¯‡æ–‡ç« é‡Œçš„ä»£ç ï¼Œä¼˜é›…åœ°ç”©ä»–ä¸€è„¸â€œæ‰‹å†™ç‰ˆâ€ã€‚å½“ç„¶ï¼Œåˆ«å¿˜äº†åŠ ä¸€å¥ï¼šâ€œæˆ‘å¹³æ—¶è¿˜æ˜¯ç”¨ Axios çš„ï¼Œæ¯•ç«Ÿæ‡’æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚â€ ðŸ˜œ\n\nå¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¸®åˆ°ä½ ï¼æœ‰ä»€ä¹ˆæƒ³æ³•æˆ–è€…æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿Žç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æŠŠ AJAX çŽ©å‡ºèŠ±å„¿æ¥ï¼ðŸŒŸ\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var u=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),g=(e,l)=>{for(var r in l)c(e,r,{get:l[r],enumerable:!0})},o=(e,l,r,a)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let s of y(l))!B.call(e,s)&&s!==r&&c(e,s,{get:()=>l[s],enumerable:!(a=E(l,s))||a.enumerable});return e};var x=(e,l,r)=>(r=e!=null?p(F(e)):{},o(l||!e||!e.__esModule?c(r,\"default\",{value:e,enumerable:!0}):r,e)),A=e=>o(c({},\"__esModule\",{value:!0}),e);var t=u((b,d)=>{d.exports=_jsx_runtime});var f={};g(f,{default:()=>h,frontmatter:()=>m});var n=x(t()),m={type:\"Post\",title:\"\\u5982\\u4F55\\u4F18\\u96C5\\u5730\\u624B\\u5199 AJAX?\",date:\"2023-05-24\",description:\"\\u6DF1\\u5165\\u5256\\u6790 AJAX \\u7684\\u539F\\u7406\\uFF0C\\u624B\\u5199\\u5B9E\\u73B0\\u4E00\\u4E2A\\u4F18\\u96C5\\u4E14\\u5B9E\\u7528\\u7684 AJAX \\u8BF7\\u6C42\\u5DE5\\u5177\\uFF0C\\u5E26\\u4F60\\u4ECE XMLHttpRequest \\u5230\\u73B0\\u4EE3\\u5C01\\u88C5\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\",keywords:\"AJAX, XMLHttpRequest, \\u524D\\u7AEF\\u5F00\\u53D1, JavaScript, \\u5F02\\u6B65\\u8BF7\\u6C42, \\u7F51\\u7EDC\\u8BF7\\u6C42, \\u6700\\u4F73\\u5B9E\\u8DF5\",author:\"\\u6653\\u9F99\",image:\"/images/hero/ajax-handwriting.jpg\",tags:[\"JavaScript\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u7F51\\u7EDC\\u8BF7\\u6C42\"],category:\"Network\"};function i(e){let l={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.p,{children:[\"\\u55E8\\uFF0C\\u524D\\u7AEF\\u670B\\u53CB\\u4EEC\\uFF01\\u4ECA\\u5929\\u6211\\u4EEC\\u6765\\u804A\\u804A\\u4E00\\u4E2A\\u542C\\u8D77\\u6765\\u6709\\u70B9\\u201C\\u590D\\u53E4\\u201D\\uFF0C\\u4F46\\u5176\\u5B9E\\u4F9D\\u7136\\u662F\\u524D\\u7AEF\\u5F00\\u53D1\\u57FA\\u77F3\\u7684\\u6280\\u672F\\u2014\\u2014AJAX\\u3002\\u63D0\\u5230 AJAX\\uFF0C\\u4F60\\u53EF\\u80FD\\u8111\\u6D77\\u91CC\\u4F1A\\u6D6E\\u73B0\\u51FA jQuery \\u7684 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"$.ajax\"})})})}),\"\\uFF0C\\u6216\\u8005\\u73B0\\u4EE3\\u7684 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"fetch\"})})})}),\" API\\uFF0C\\u751A\\u81F3\\u662F Axios \\u8FD9\\u6837\\u7684\\u660E\\u661F\\u5E93\\u3002\\u4F46\\u4F60\\u6709\\u6CA1\\u6709\\u60F3\\u8FC7\\uFF0C\\u624B\\u5199\\u4E00\\u4E2A\\u5C5E\\u4E8E\\u81EA\\u5DF1\\u7684 AJAX \\u5DE5\\u5177\\uFF0C\\u65E2\\u80FD\\u6DF1\\u5165\\u7406\\u89E3\\u5B83\\u7684\\u539F\\u7406\\uFF0C\\u53C8\\u80FD\\u5728\\u67D0\\u4E9B\\u573A\\u666F\\u4E0B\\u201C\\u79C0\\u201D\\u4E00\\u628A\\u9A9A\\u64CD\\u4F5C\\uFF1F\\u522B\\u6025\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u4F18\\u96C5\\u5730\\u624B\\u5199 AJAX\\uFF0C\\u5256\\u6790\\u5B83\\u7684\\u7075\\u9B42\\uFF0C\\u8FD8\\u4F1A\\u9644\\u4E0A\\u4E00\\u4E9B\\u5B9E\\u7528\\u6280\\u5DE7\\u548C\\u5E7D\\u9ED8\\u5410\\u69FD\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1FLet's dive in! \\u{1F680}\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"ajax-\\u662F\\u4E2A\\u5565\\u4ECE\\u7075\\u9B42\\u62F7\\u95EE\\u5F00\\u59CB\",children:(0,n.jsx)(l.a,{href:\"#ajax-\\u662F\\u4E2A\\u5565\\u4ECE\\u7075\\u9B42\\u62F7\\u95EE\\u5F00\\u59CB\",children:\"AJAX \\u662F\\u4E2A\\u5565\\uFF1F\\u4ECE\\u201C\\u7075\\u9B42\\u62F7\\u95EE\\u201D\\u5F00\\u59CB\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"AJAX \\u5168\\u79F0\\u662F \",(0,n.jsx)(l.strong,{children:\"Asynchronous JavaScript and XML\"}),\"\\uFF08\\u5F02\\u6B65 JavaScript \\u548C XML\\uFF09\\uFF0C\\u4F46\\u522B\\u88AB\\u540D\\u5B57\\u9A97\\u4E86\\uFF0C\\u73B0\\u5728\\u6211\\u4EEC\\u51E0\\u4E4E\\u4E0D\\u7528 XML \\u4E86\\uFF0CJSON \\u624D\\u662F\\u4E3B\\u89D2\\u3002\\u5B83\\u672C\\u8D28\\u4E0A\\u662F\\u901A\\u8FC7 JavaScript \\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u53D1\\u8D77\\u5F02\\u6B65\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF0C\\u4E0D\\u5237\\u65B0\\u9875\\u9762\\u5C31\\u80FD\\u548C\\u670D\\u52A1\\u5668\\u201C\\u804A\\u804A\\u5929\\u201D\\u3002\\u8FD9\\u5C31\\u50CF\\u4F60\\u5077\\u5077\\u7ED9\\u670B\\u53CB\\u53D1\\u5FAE\\u4FE1\\uFF0C\\u4E0D\\u7528\\u5F53\\u9762\\u558A\\u8BDD\\uFF0C\\u6574\\u4E2A\\u8FC7\\u7A0B\\u6084\\u65E0\\u58F0\\u606F\\u3002\"]}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u6838\\u5FC3\\u5DE5\\u5177\\u662F \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"XMLHttpRequest\"})})})}),\"\\uFF08\\u7B80\\u79F0 XHR\\uFF09\\uFF0C\\u4E00\\u4E2A\\u6D4F\\u89C8\\u5668\\u5185\\u7F6E\\u7684\\u5BF9\\u8C61\\uFF0C\\u867D\\u7136\\u540D\\u5B57\\u6709\\u70B9\\u957F\\u5F97\\u50CF\\u4E0A\\u4E16\\u7EAA\\u7684\\u4EA7\\u7269\\uFF0C\\u4F46\\u5B83\\u4F9D\\u7136\\u662F AJAX \\u7684\\u5FC3\\u810F\\u3002\\u73B0\\u4EE3\\u7684 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"fetch\"})})})}),\" API \\u867D\\u7136\\u66F4\\u7B80\\u6D01\\uFF0C\\u4F46\\u5E95\\u5C42\\u8FD8\\u662F\\u4F9D\\u8D56\\u7C7B\\u4F3C\\u7684\\u673A\\u5236\\u3002\\u6240\\u4EE5\\uFF0C\\u641E\\u61C2 XHR\\uFF0C\\u5C31\\u7B49\\u4E8E\\u6293\\u4F4F\\u4E86 AJAX \\u7684\\u547D\\u8109\\u3002\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF1AXHR \\u5C31\\u50CF\\u4F60\\u5BB6\\u91CC\\u7684\\u8001\\u5F0F\\u5EA7\\u673A\\uFF0C\\u867D\\u7136\\u4E0D\\u5982\\u667A\\u80FD\\u624B\\u673A\\u82B1\\u54E8\\uFF0C\\u4F46\\u53EA\\u8981\\u7EBF\\u8DEF\\u901A\\uFF0C\\u5C31\\u80FD\\u6253\\u904D\\u5929\\u4E0B\\u3002\\u800C\\u624B\\u5199 AJAX\\uFF0C\\u5C31\\u662F\\u8BA9\\u6211\\u4EEC\\u4ECE\\u5934\\u6253\\u9020\\u4E00\\u53F0\\u201C\\u5EA7\\u673A\\u201D\\uFF0C\\u65E2\\u590D\\u53E4\\u53C8\\u5B9E\\u7528\\u3002\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u624B\\u5199-ajax\\u4ECE\\u6700\\u7B80\\u7248\\u5F00\\u59CB\",children:(0,n.jsx)(l.a,{href:\"#\\u624B\\u5199-ajax\\u4ECE\\u6700\\u7B80\\u7248\\u5F00\\u59CB\",children:\"\\u624B\\u5199 AJAX\\uFF1A\\u4ECE\\u6700\\u7B80\\u7248\\u5F00\\u59CB\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u597D\\u4E86\\uFF0C\\u5E9F\\u8BDD\\u4E0D\\u591A\\u8BF4\\uFF0C\\u6211\\u4EEC\\u5148\\u5199\\u4E00\\u4E2A\\u6700\\u57FA\\u7840\\u7684 AJAX \\u8BF7\\u6C42\\uFF0C\\u770B\\u770B\\u5B83\\u957F\\u5565\\u6837\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" simpleAjax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"GET\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", url, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// true \\u8868\\u793A\\u5F02\\u6B65\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onreadystatechange\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.readyState \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" xhr.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      callback\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.responseText);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"simpleAjax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6536\\u5230\\u6570\\u636E\\u5566\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", data);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u8FD9\\u6BB5\\u4EE3\\u7801\\u7B80\\u5355\\u5F97\\u50CF\\u4E2A\\u201Chello world\\u201D\\uFF0C\\u4F46\\u5DF2\\u7ECF\\u80FD\\u8DD1\\u4E86\\uFF01\\u6211\\u4EEC\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A XHR \\u5BF9\\u8C61\\uFF0C\\u544A\\u8BC9\\u5B83\\u7528 GET \\u65B9\\u6CD5\\u53BB\\u8BF7\\u6C42\\u4E00\\u4E2A URL\\uFF0C\\u7B49\\u72B6\\u6001\\u53D8\\u6210 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"readyState === 4\"})})})}),\"\\uFF08\\u8BF7\\u6C42\\u5B8C\\u6210\\uFF09\\u4E14 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"status === 200\"})})})}),\"\\uFF08\\u6210\\u529F\\uFF09\\u65F6\\uFF0C\\u628A\\u6570\\u636E\\u4E22\\u7ED9\\u56DE\\u8C03\\u51FD\\u6570\\u3002\"]}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"readyState\"})})})}),\" \\u6709 0 \\u5230 4 \\u4E94\\u4E2A\\u72B6\\u6001\\uFF0C\\u5206\\u522B\\u662F\\u672A\\u521D\\u59CB\\u5316\\u3001\\u5DF2\\u6253\\u5F00\\u3001\\u5DF2\\u53D1\\u9001\\u3001\\u63A5\\u6536\\u4E2D\\u548C\\u5B8C\\u6210\\u3002\\u8BB0\\u4E0D\\u4F4F\\uFF1F\\u6CA1\\u4E8B\\uFF0C\\u60F3\\u6210\\u4E00\\u573A\\u5FEB\\u9012\\u65C5\\u7A0B\\uFF1A0 \\u662F\\u8FD8\\u6CA1\\u4E0B\\u5355\\uFF0C4 \\u662F\\u5FEB\\u9012\\u5230\\u624B\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u52A0\\u70B9\\u6599\\u652F\\u6301-post-\\u548C\\u53C2\\u6570\",children:(0,n.jsx)(l.a,{href:\"#\\u52A0\\u70B9\\u6599\\u652F\\u6301-post-\\u548C\\u53C2\\u6570\",children:\"\\u52A0\\u70B9\\u6599\\uFF1A\\u652F\\u6301 POST \\u548C\\u53C2\\u6570\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5149\\u4F1A GET \\u53EF\\u4E0D\\u884C\\uFF0C\\u54B1\\u4EEC\\u5F97\\u652F\\u6301 POST \\u548C\\u4F20\\u53C2\\u3002\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u53D1\\u4E2A\\u8868\\u5355\\u6570\\u636E\\u7ED9\\u670D\\u52A1\\u5668\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ajax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"method\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"GET\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(method, url, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u5982\\u679C\\u662F POST\\uFF0C\\u8BBE\\u7F6E\\u8BF7\\u6C42\\u5934\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (method.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toUpperCase\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"POST\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setRequestHeader\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"Content-Type\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"application/json\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onreadystatechange\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.readyState \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.responseText);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\\u8BF7\\u6C42\\u6302\\u4E86\\uFF0C\\u72B6\\u6001\\u7801\\uFF1A${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"status\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u53D1\\u9001\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ajax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/submit\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  method: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"POST\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  data: { name: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6653\\u9F99\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", age: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"25\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6210\\u529F\\u5566\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", res),\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5347\\u7EA7\\u7248\\u6765\\u4E86\\uFF01\\u6211\\u4EEC\\u7528\\u5BF9\\u8C61\\u53C2\\u6570\\u89E3\\u6784\\uFF0C\\u8BA9\\u8C03\\u7528\\u66F4\\u7075\\u6D3B\\u3002POST \\u8BF7\\u6C42\\u8FD8\\u52A0\\u4E86\\u8BF7\\u6C42\\u5934\\uFF0C\\u6570\\u636E\\u4E5F\\u8F6C\\u6210\\u4E86 JSON \\u683C\\u5F0F\\u3002\\u8FD9\\u5C31\\u50CF\\u4ECE\\u62E8\\u53F7\\u5EA7\\u673A\\u5347\\u7EA7\\u6210\\u4E86\\u5E26\\u77ED\\u4FE1\\u529F\\u80FD\\u7684\\u6309\\u952E\\u673A\\uFF0C\\u529F\\u80FD\\u66F4\\u9F50\\u5168\\u4E86\\u3002\"}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u522B\\u5FD8\\u4E86 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"setRequestHeader\"})})})}),\" \\u8981\\u5728 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"open\"})})})}),\" \\u4E4B\\u540E\\u3001\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"send\"})})})}),\" \\u4E4B\\u524D\\u8C03\\u7528\\uFF0C\\u4E0D\\u7136\\u4F1A\\u62A5\\u9519\\u3002\\u8FD9\\u5C31\\u50CF\\u4F60\\u5F97\\u5148\\u63A5\\u901A\\u7535\\u8BDD\\uFF0C\\u624D\\u80FD\\u544A\\u8BC9\\u5BF9\\u65B9\\u201C\\u4F60\\u597D\\uFF0C\\u6211\\u8981\\u70B9\\u5916\\u5356\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4F18\\u96C5\\u8FDB\\u9636\\u9519\\u8BEF\\u5904\\u7406\\u548C\\u8D85\\u65F6\",children:(0,n.jsx)(l.a,{href:\"#\\u4F18\\u96C5\\u8FDB\\u9636\\u9519\\u8BEF\\u5904\\u7406\\u548C\\u8D85\\u65F6\",children:\"\\u4F18\\u96C5\\u8FDB\\u9636\\uFF1A\\u9519\\u8BEF\\u5904\\u7406\\u548C\\u8D85\\u65F6\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u73B0\\u5B9E\\u4E16\\u754C\\u91CC\\uFF0C\\u7F51\\u7EDC\\u8BF7\\u6C42\\u53EF\\u4E0D\\u662F\\u6C38\\u8FDC\\u98CE\\u5E73\\u6D6A\\u9759\\u3002\\u670D\\u52A1\\u5668\\u53EF\\u80FD\\u4F1A\\u62BD\\u98CE\\uFF0C\\u7F51\\u7EDC\\u53EF\\u80FD\\u4F1A\\u65AD\\u7EBF\\uFF0C\\u54B1\\u4EEC\\u5F97\\u52A0\\u70B9\\u201C\\u9632\\u6454\\u201D\\u529F\\u80FD\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" elegantAjax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  url\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  method\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"GET\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  data\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  timeout\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}) {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(method, url, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (method.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toUpperCase\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"POST\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setRequestHeader\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"Content-Type\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"application/json\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u8D85\\u65F6\\u5904\\u7406\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.timeout \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" timeout;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ontimeout\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"?.(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BF7\\u6C42\\u8D85\\u65F6\\u5566\\uFF0C\\u522B\\u7B49\\u4E86\\uFF01\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u72B6\\u6001\\u53D8\\u5316\\u76D1\\u542C\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onreadystatechange\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.readyState \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" xhr.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 300\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.responseText);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"?.(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\\u8BF7\\u6C42\\u5931\\u8D25\\uFF0C\\u72B6\\u6001\\u7801\\uFF1A${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"status\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u7F51\\u7EDC\\u9519\\u8BEF\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"?.(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7F51\\u7EDC\\u70B8\\u4E86\\uFF0C\\u68C0\\u67E5\\u4E0BWiFi\\u5427\\uFF01\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"elegantAjax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  method: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"GET\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  success\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6570\\u636E\\u5230\\u624B\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", res),\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u95EE\\u9898\\u4E86\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", msg),\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  timeout: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u73B0\\u5728\\u6211\\u4EEC\\u7684 AJAX \\u591A\\u4E86\\u8D85\\u65F6\\u548C\\u9519\\u8BEF\\u5904\\u7406\\uFF0C\\u50CF\\u4E2A\\u6709\\u5907\\u80CE\\u7684\\u9760\\u8C31\\u670B\\u53CB\\u3002\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"ontimeout\"})})})}),\" \\u4F1A\\u5728\\u8BF7\\u6C42\\u8D85\\u65F6\\u65F6\\u89E6\\u53D1\\uFF0C\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"onerror\"})})})}),\" \\u4F1A\\u5728\\u7F51\\u7EDC\\u65AD\\u5F00\\u65F6\\u6551\\u573A\\u3002\\u72B6\\u6001\\u7801\\u4E5F\\u7528\\u4E86\\u66F4\\u5BBD\\u677E\\u7684\\u8303\\u56F4\\uFF08200-299\\uFF09\\uFF0C\\u517C\\u5BB9\\u66F4\\u591A\\u6210\\u529F\\u54CD\\u5E94\\u3002\"]}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u8D85\\u65F6\\u65F6\\u95F4\\u522B\\u8BBE\\u592A\\u77ED\\uFF0C\\u4E0D\\u7136\\u670D\\u52A1\\u5668\\u8FD8\\u6CA1\\u6765\\u5F97\\u53CA\\u5598\\u6C14\\u5C31\\u88AB\\u4F60\\u5224\\u4E86\\u201C\\u6B7B\\u5211\\u201D\\u30025\\u79D2\\u523010\\u79D2\\u662F\\u4E2A\\u4E0D\\u9519\\u7684\\u9ED8\\u8BA4\\u503C\\u3002\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"promise-\\u5316\\u8DDF\\u4E0A\\u73B0\\u4EE3\\u6F6E\\u6D41\",children:(0,n.jsx)(l.a,{href:\"#promise-\\u5316\\u8DDF\\u4E0A\\u73B0\\u4EE3\\u6F6E\\u6D41\",children:\"Promise \\u5316\\uFF1A\\u8DDF\\u4E0A\\u73B0\\u4EE3\\u6F6E\\u6D41\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u56DE\\u8C03\\u51FD\\u6570\\u867D\\u7136\\u7ECF\\u5178\\uFF0C\\u4F46\\u7528\\u591A\\u4E86\\u5BB9\\u6613\\u9677\\u5165\\u201C\\u56DE\\u8C03\\u5730\\u72F1\\u201D\\uFF0C\\u5C31\\u50CF\\u4FC4\\u7F57\\u65AF\\u5957\\u5A03\\u4E00\\u6837\\u8BA9\\u4EBA\\u5934\\u6655\\u3002\\u54B1\\u4EEC\\u7ED9\\u5B83\\u5957\\u4E0A Promise \\u7684\\u201C\\u65B0\\u76AE\\u80A4\\u201D\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" promiseAjax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"method\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"GET\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"timeout\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(method, url, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (method.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toUpperCase\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"POST\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setRequestHeader\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"Content-Type\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"application/json\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.timeout \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" timeout;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ontimeout\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BF7\\u6C42\\u8D85\\u65F6\\uFF0C\\u670D\\u52A1\\u5668\\u53EF\\u80FD\\u5728\\u6253\\u76F9\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onreadystatechange\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.readyState \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" xhr.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 300\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"          resolve\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.responseText);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"          reject\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\\u8BF7\\u6C42\\u5931\\u8D25\\uFF0C\\u72B6\\u6001\\u7801\\uFF1A${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"status\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7F51\\u7EDC\\u6302\\u4E86\\uFF0C\\u8D76\\u7D27\\u627E\\u7F51\\u7BA1\\uFF01\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"promiseAjax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  method: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"GET\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"})\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6210\\u529F\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", res))\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5931\\u8D25\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err.message));\"})]})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"Promise \\u7248\\u7684 AJAX \\u662F\\u4E0D\\u662F\\u770B\\u8D77\\u6765\\u66F4\\u6E05\\u723D\\uFF1F\\u5B83\\u5C31\\u50CF\\u628A\\u8001\\u5F0F\\u5EA7\\u673A\\u6539\\u6210\\u4E86\\u89E6\\u5C4F\\u624B\\u673A\\uFF0C\\u7528\\u6CD5\\u66F4\\u73B0\\u4EE3\\u5316\\uFF0C\\u8FD8\\u80FD\\u6109\\u5FEB\\u5730\\u8DDF \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"async/await\"})})})}),\" \\u73A9\\u800D\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" promiseAjax\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6570\\u636E\\u6765\\u5566\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", res);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u9519\\u5566\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err.message);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fetchData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u5982\\u679C\\u4F60\\u60F3\\u8BA9\\u8FD4\\u56DE\\u7684\\u6570\\u636E\\u81EA\\u52A8\\u89E3\\u6790\\u6210 JSON\\uFF0C\\u53EF\\u4EE5\\u5728 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"resolve\"})})})}),\" \\u65F6\\u52A0\\u4E2A \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"JSON.parse(xhr.responseText)\"})})})}),\"\\uFF0C\\u4F46\\u8BB0\\u5F97\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"try-catch\"})})})}),\" \\u5305\\u4E00\\u4E0B\\uFF0C\\u514D\\u5F97 JSON \\u683C\\u5F0F\\u4E0D\\u5BF9\\u65F6\\u7FFB\\u8F66\\u3002\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u7EC8\\u6781\\u7248\\u52A0\\u70B9\\u82B1\\u6D3B\\u513F\",children:(0,n.jsx)(l.a,{href:\"#\\u7EC8\\u6781\\u7248\\u52A0\\u70B9\\u82B1\\u6D3B\\u513F\",children:\"\\u7EC8\\u6781\\u7248\\uFF1A\\u52A0\\u70B9\\u201C\\u82B1\\u6D3B\\u513F\\u201D\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5230\\u8FD9\\u91CC\\uFF0C\\u6211\\u4EEC\\u5DF2\\u7ECF\\u6709\\u4E86\\u4E2A\\u633A\\u9760\\u8C31\\u7684 AJAX \\u5DE5\\u5177\\uFF0C\\u4F46\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u600E\\u4E48\\u80FD\\u4E0D\\u8FFD\\u6C42\\u6781\\u81F4\\u5462\\uFF1F\\u54B1\\u4EEC\\u518D\\u52A0\\u70B9\\u9AD8\\u7EA7\\u529F\\u80FD\\uFF0C\\u6BD4\\u5982\\u8BF7\\u6C42\\u53D6\\u6D88\\u3001\\u62E6\\u622A\\u5668\\u548C\\u8FDB\\u5EA6\\u76D1\\u542C\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" AjaxMaster\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".interceptors \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      request: [],\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      response: [],\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u6DFB\\u52A0\\u8BF7\\u6C42\\u62E6\\u622A\\u5668\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  interceptRequest\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".interceptors.request.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(fn);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u6DFB\\u52A0\\u54CD\\u5E94\\u62E6\\u622A\\u5668\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  interceptResponse\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".interceptors.response.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(fn);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  request\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"method\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"GET\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"timeout\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"onProgress\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u5E94\\u7528\\u8BF7\\u6C42\\u62E6\\u622A\\u5668\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      let\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" config \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { url, method, data, timeout };\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".interceptors.request.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        config \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(config) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" config;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(config.method, config.url, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (config.method.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toUpperCase\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"POST\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setRequestHeader\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"Content-Type\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"application/json\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.timeout \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" config.timeout;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ontimeout\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8D85\\u65F6\\u5566\\uFF0C\\u670D\\u52A1\\u5668\\u7761\\u8FC7\\u5934\\u4E86\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u8FDB\\u5EA6\\u76D1\\u542C\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (onProgress) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onprogress\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (event.lengthComputable) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"            const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" percent\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (event.loaded \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" event.total) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 100\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            onProgress\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(percent);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onreadystatechange\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.readyState \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          let\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { data: xhr.responseText, status: xhr.status };\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"          // \\u5E94\\u7528\\u54CD\\u5E94\\u62E6\\u622A\\u5668\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"          this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".interceptors.response.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            response \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(response) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" xhr.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 300\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            resolve\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(response.data);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            reject\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\\u5931\\u8D25\\uFF0C\\u72B6\\u6001\\u7801\\uFF1A${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"xhr\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"status\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7F51\\u7EDC\\u5D29\\u4E86\\uFF0C\\u8D76\\u7D27\\u91CD\\u542F\\u8DEF\\u7531\\u5668\\uFF01\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u652F\\u6301\\u53D6\\u6D88\\u8BF7\\u6C42\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(config.data \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(config.data) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" xhr.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"abort\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u8FD4\\u56DE\\u53D6\\u6D88\\u51FD\\u6570\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" ajax\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" AjaxMaster\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u52A0\\u4E2A\\u8BF7\\u6C42\\u62E6\\u622A\\u5668\\uFF0C\\u5077\\u5077\\u52A0\\u4E2A token\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"ajax.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"interceptRequest\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"config\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  config.url \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"?token=secret123\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" config;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u52A0\\u4E2A\\u54CD\\u5E94\\u62E6\\u622A\\u5668\\uFF0C\\u81EA\\u52A8\\u89E3\\u6790 JSON\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"ajax.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"interceptResponse\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    response.data \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(response.data);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (e) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"warn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"JSON \\u89E3\\u6790\\u5931\\u8D25\\uFF0C\\u670D\\u52A1\\u5668\\u53EF\\u80FD\\u5728\\u9017\\u4F60\\u73A9\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u53D1\\u9001\\u8BF7\\u6C42\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" cancel\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ajax.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"request\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  url: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  method: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"GET\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  onProgress\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"percent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\\u4E0B\\u8F7D\\u8FDB\\u5EA6\\uFF1A${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"percent\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}%`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"})\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7ED3\\u679C\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", res))\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u9519\\u8BEF\\uFF1A\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err.message));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u534A\\u8DEF\\u53D6\\u6D88\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setTimeout\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" cancel\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// 2\\u79D2\\u540E\\u53D6\\u6D88\\u8BF7\\u6C42\"})]})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u8FD9\\u7248 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"AjaxMaster\"})})})}),\" \\u7B80\\u76F4\\u662F AJAX \\u7684\\u201C\\u53D8\\u5F62\\u91D1\\u521A\\u201D\\uFF01\\u5B83\\u652F\\u6301\\u62E6\\u622A\\u5668\\uFF08\\u50CF Axios \\u90A3\\u6837\\u4F18\\u96C5\\uFF09\\u3001\\u8FDB\\u5EA6\\u76D1\\u542C\\uFF08\\u4E0A\\u4F20\\u4E0B\\u8F7D\\u65F6\\u7279\\u522B\\u9999\\uFF09\\u3001\\u8BF7\\u6C42\\u53D6\\u6D88\\uFF08\\u4E0D\\u60F3\\u7B49\\u5C31\\u76F4\\u63A5\\u558A\\u505C\\uFF09\\u3002\\u4F60\\u53EF\\u4EE5\\u7528\\u5B83\\u6253\\u9020\\u4E00\\u4E2A\\u5B8C\\u5168\\u81EA\\u5B9A\\u4E49\\u7684\\u8BF7\\u6C42\\u5DE5\\u5177\\uFF0C\\u6EE1\\u8DB3\\u5404\\u79CD\\u5947\\u8469\\u9700\\u6C42\\u3002\"]}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u62E6\\u622A\\u5668\\u662F\\u4E2A\\u795E\\u5668\\uFF0C\\u53EF\\u4EE5\\u7528\\u6765\\u7EDF\\u4E00\\u52A0\\u8BF7\\u6C42\\u5934\\u3001\\u65E5\\u5FD7\\u8BB0\\u5F55\\u751A\\u81F3 mock \\u6570\\u636E\\u3002\\u4F46\\u522B\\u6EE5\\u7528\\uFF0C\\u4E0D\\u7136\\u4EE3\\u7801\\u4F1A\\u53D8\\u6210\\u201C\\u62E6\\u622A\\u5668\\u8FF7\\u5BAB\\u201D\\uFF0C\\u7EF4\\u62A4\\u8D77\\u6765\\u60F3\\u54ED\\u3002\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-ajax-\\u66F4\\u9999\",children:(0,n.jsx)(l.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-ajax-\\u66F4\\u9999\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9 AJAX \\u66F4\\u9999\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u624B\\u5199 AJAX \\u4E0D\\u662F\\u4E3A\\u4E86\\u70AB\\u6280\\uFF0C\\u800C\\u662F\\u4E3A\\u4E86\\u5728\\u7279\\u5B9A\\u573A\\u666F\\u4E0B\\u66F4\\u7075\\u6D3B\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5B9E\\u6218\\u7ECF\\u9A8C\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u603B\\u662F\\u5904\\u7406\\u9519\\u8BEF\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u522B\\u6307\\u671B\\u670D\\u52A1\\u5668\\u6C38\\u8FDC\\u6B63\\u5E38\\uFF0C\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"try-catch\"})})})}),\" \\u548C \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"error\"})})})}),\" \\u56DE\\u8C03\\u662F\\u4F60\\u7684\\u62A4\\u8EAB\\u7B26\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u52A0\\u4E2A\\u9ED8\\u8BA4\\u9519\\u8BEF\\u63D0\\u793A\\uFF0C\\u6BD4\\u5982\\u201C\\u670D\\u52A1\\u5668\\u5F00\\u5C0F\\u5DEE\\u4E86\\uFF0C\\u7A0D\\u540E\\u518D\\u8BD5\\u201D\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u4F1A\\u597D\\u5F88\\u591A\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5408\\u7406\\u8BBE\\u7F6E\\u8D85\\u65F6\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u8D85\\u65F6\\u65F6\\u95F4\\u56E0\\u4E1A\\u52A1\\u800C\\u5F02\\uFF0C\\u6587\\u4EF6\\u4E0A\\u4F20\\u53EF\\u4EE5\\u957F\\u70B9\\uFF0830s\\uFF09\\uFF0C\\u666E\\u901A\\u63A5\\u53E3\\u77ED\\u70B9\\uFF085s\\uFF09\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u53EF\\u4EE5\\u6839\\u636E\\u7F51\\u7EDC\\u73AF\\u5883\\u52A8\\u6001\\u8C03\\u6574\\uFF0C\\u6BD4\\u5982\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"navigator.onLine\"})})})}),\" \\u5224\\u65AD\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5584\\u7528\\u62E6\\u622A\\u5668\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u628A\\u901A\\u7528\\u7684\\u903B\\u8F91\\uFF08\\u6BD4\\u5982\\u8BA4\\u8BC1\\u3001\\u65E5\\u5FD7\\uFF09\\u4E22\\u5230\\u62E6\\u622A\\u5668\\u91CC\\uFF0C\\u4FDD\\u6301\\u8BF7\\u6C42\\u4EE3\\u7801\\u7B80\\u6D01\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u62E6\\u622A\\u5668\\u91CC\\u522B\\u5E72\\u592A\\u91CD\\u7684\\u6D3B\\uFF0C\\u4E0D\\u7136\\u6027\\u80FD\\u4F1A\\u6253\\u6298\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u652F\\u6301\\u53D6\\u6D88\\u8BF7\\u6C42\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u5728 SPA \\u91CC\\uFF0C\\u7528\\u6237\\u5207\\u6362\\u9875\\u9762\\u65F6\\u53D6\\u6D88\\u672A\\u5B8C\\u6210\\u7684\\u8BF7\\u6C42\\uFF0C\\u80FD\\u7701\\u6D41\\u91CF\\u8FD8\\u80FD\\u9632\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u7528\\u4E00\\u4E2A Map \\u5B58\\u6240\\u6709 xhr \\u5BF9\\u8C61\\uFF0C\\u9875\\u9762\\u5378\\u8F7D\\u65F6\\u6279\\u91CF abort\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u8C03\\u8BD5\\u53CB\\u597D\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u52A0\\u70B9\\u65E5\\u5FD7\\uFF0C\\u6BD4\\u5982\\u8BF7\\u6C42\\u5F00\\u59CB\\u65F6\\u95F4\\u3001\\u8017\\u65F6\\uFF0C\\u5F00\\u53D1\\u65F6\\u80FD\\u5FEB\\u901F\\u5B9A\\u4F4D\\u95EE\\u9898\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\": \\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"console.group\"})})})}),\" \\u628A\\u8BF7\\u6C42\\u4FE1\\u606F\\u5206\\u7EC4\\uFF0C\\u8C03\\u8BD5\\u65F6\\u6E05\\u723D\\u53C8\\u9AD8\\u7EA7\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u5199\\u5728\\u6700\\u540Eajax-\\u7684\\u54F2\\u5B66\",children:(0,n.jsx)(l.a,{href:\"#\\u5199\\u5728\\u6700\\u540Eajax-\\u7684\\u54F2\\u5B66\",children:\"\\u5199\\u5728\\u6700\\u540E\\uFF1AAJAX \\u7684\\u201C\\u54F2\\u5B66\\u201D\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u624B\\u5199 AJAX \\u5C31\\u50CF\\u81EA\\u5DF1\\u52A8\\u624B\\u505A\\u996D\\uFF0C\\u867D\\u7136\\u5916\\u9762\\u6709\\u5916\\u5356\\uFF08fetch\\u3001Axios\\uFF09\\uFF0C\\u4F46\\u4EB2\\u624B\\u7092\\u4E2A\\u83DC\\uFF0C\\u80FD\\u8BA9\\u4F60\\u66F4\\u61C2\\u98DF\\u6750\\u548C\\u706B\\u5019\\u3002XHR \\u867D\\u7136\\u8001\\uFF0C\\u5374\\u4F9D\\u7136\\u662F\\u6D4F\\u89C8\\u5668\\u7F51\\u7EDC\\u8BF7\\u6C42\\u7684\\u57FA\\u77F3\\uFF0C\\u7406\\u89E3\\u5B83\\u7684\\u539F\\u7406\\uFF0C\\u80FD\\u8BA9\\u4F60\\u5728\\u9762\\u5BF9\\u590D\\u6742\\u9700\\u6C42\\u65F6\\u66F4\\u6709\\u5E95\\u6C14\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4E0B\\u6B21\\u9762\\u8BD5\\u5B98\\u95EE\\u4F60\\u201CAJAX \\u600E\\u4E48\\u5B9E\\u73B0\\u201D\\uFF0C\\u4F60\\u5C31\\u53EF\\u4EE5\\u638F\\u51FA\\u8FD9\\u7BC7\\u6587\\u7AE0\\u91CC\\u7684\\u4EE3\\u7801\\uFF0C\\u4F18\\u96C5\\u5730\\u7529\\u4ED6\\u4E00\\u8138\\u201C\\u624B\\u5199\\u7248\\u201D\\u3002\\u5F53\\u7136\\uFF0C\\u522B\\u5FD8\\u4E86\\u52A0\\u4E00\\u53E5\\uFF1A\\u201C\\u6211\\u5E73\\u65F6\\u8FD8\\u662F\\u7528 Axios \\u7684\\uFF0C\\u6BD5\\u7ADF\\u61D2\\u662F\\u7B2C\\u4E00\\u751F\\u4EA7\\u529B\\u3002\\u201D \\u{1F61C}\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u535A\\u5BA2\\u80FD\\u5E2E\\u5230\\u4F60\\uFF01\\u6709\\u4EC0\\u4E48\\u60F3\\u6CD5\\u6216\\u8005\\u6539\\u8FDB\\u5EFA\\u8BAE\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u628A AJAX \\u73A9\\u51FA\\u82B1\\u513F\\u6765\\uFF01\\u{1F31F}\"}),`\n`,(0,n.jsx)(l.hr,{})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}return A(f);})();\n;return Component;"
  },
  "_id": "Network/å¦‚ä½•ä¼˜é›…åœ°æ‰‹å†™AJAX.mdx",
  "_raw": {
    "sourceFilePath": "Network/å¦‚ä½•ä¼˜é›…åœ°æ‰‹å†™AJAX.mdx",
    "sourceFileName": "å¦‚ä½•ä¼˜é›…åœ°æ‰‹å†™AJAX.mdx",
    "sourceFileDir": "Network",
    "contentType": "mdx",
    "flattenedPath": "Network/å¦‚ä½•ä¼˜é›…åœ°æ‰‹å†™AJAX"
  },
  "type": "Post",
  "url": "/blog/Network/å¦‚ä½•ä¼˜é›…åœ°æ‰‹å†™AJAX"
}
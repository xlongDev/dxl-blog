{
  "title": "Vue3 æƒé™æ§åˆ¶ï¼šåˆ©ç”¨åŠ¨æ€è·¯ç”±ä¸è‡ªå®šä¹‰æŒ‡ä»¤",
  "date": "2023-03-06T00:00:00.000Z",
  "description": "æ·±å…¥æ¢ç´¢ Vue3 ä¸­çš„æƒé™æ§åˆ¶æ–¹æ¡ˆï¼Œé€šè¿‡åŠ¨æ€è·¯ç”±å’Œè‡ªå®šä¹‰æŒ‡ä»¤å®ç°çµæ´»ã€é«˜æ•ˆçš„å‰ç«¯æƒé™ç®¡ç†ï¼Œé™„å¸¦å®ç”¨æ¡ˆä¾‹å’Œæœ€ä½³å®è·µã€‚",
  "keywords": "Vue3, åŠ¨æ€è·¯ç”±, è‡ªå®šä¹‰æŒ‡ä»¤, æƒé™æ§åˆ¶, å‰ç«¯å¼€å‘, Vue Router, Composition API",
  "author": "æ™“é¾™",
  "image": "/images/hero/vue3-permission.jpg",
  "tags": [
    "Vue3",
    "å‰ç«¯å¼€å‘",
    "æƒé™ç®¡ç†"
  ],
  "views": 0,
  "likes": 0,
  "category": "Vue.js",
  "body": {
    "raw": "\nå—¨ï¼Œå‰ç«¯å°ä¼™ä¼´ä»¬ï¼ä»Šå¤©æˆ‘ä»¬è¦èŠä¸€ä¸ªåœ¨ä¼ä¸šçº§é¡¹ç›®ä¸­ç»•ä¸å¼€çš„è¯é¢˜â€”â€”æƒé™æ§åˆ¶ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ˜¯ä¸€ä¸ªå®ˆé—¨çš„éª‘å£« ğŸ›¡ï¸ï¼Œæ‰‹æ¡ Vue3 è¿™æŠŠåˆ©å‰‘ï¼Œå¦‚ä½•åœ¨å‰ç«¯ä¼˜é›…åœ°å®ç°æƒé™ç®¡ç†ï¼Œæ—¢è®©ç”¨æˆ·ä½“éªŒä¸æ»‘ï¼Œåˆè®©ä»£ç å¯ç»´æŠ¤æ€§æ‹‰æ»¡ï¼Ÿç­”æ¡ˆå°±æ˜¯ï¼š**åŠ¨æ€è·¯ç”±**å’Œ**è‡ªå®šä¹‰æŒ‡ä»¤**ã€‚è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ ä»åŸç†åˆ°å®è·µï¼Œè§£é” Vue3 æƒé™æ§åˆ¶çš„æ­£ç¡®å§¿åŠ¿ï¼Œé™„å¸¦ä¸€å †å®ç”¨ä¾‹å­å’Œ tipsï¼Œè®©ä½ åœ¨é¡¹ç›®ä¸­ç›´æ¥èµ·é£ ğŸš€ã€‚\n\n## ä¸ºä»€ä¹ˆè¦åœ¨å‰ç«¯åšæƒé™æ§åˆ¶ï¼Ÿ\n\nå…ˆé—®ä¸€ä¸ªçµé­‚é—®é¢˜ï¼šæƒé™æ§åˆ¶ä¸æ˜¯åç«¯çš„æ´»å„¿å—ï¼Ÿä¸ºå•¥å‰ç«¯è¿˜è¦æºå’Œï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼šåç«¯ç®¡çš„æ˜¯â€œèƒ½ä¸èƒ½è®¿é—®â€ï¼Œå‰ç«¯ç®¡çš„æ˜¯â€œçœ‹ä¸çœ‹å¾—åˆ°â€ã€‚å¦‚æœå…¨é åç«¯ï¼Œé¡µé¢å¯èƒ½ä¼šå‡ºç°ä¸€å †â€œ403 Forbiddenâ€çš„å°´å°¬æç¤ºï¼Œç”¨æˆ·ä½“éªŒç›´æ¥å´©ç›˜ã€‚å‰ç«¯æƒé™æ§åˆ¶å°±åƒç»™é¡µé¢åŠ äº†ä¸ªéšèº«æ–—ç¯· ğŸ§™â€â™‚ï¸ï¼Œè®©æ²¡æƒé™çš„å†…å®¹å‹æ ¹å„¿ä¸æ¸²æŸ“ï¼Œæ—¢ä¼˜é›…åˆé«˜æ•ˆã€‚\n\nVue3 æä¾›äº† Composition APIã€Vue Router å’Œè‡ªå®šä¹‰æŒ‡ä»¤è¿™äº›â€œæ ¸æ­¦å™¨â€ï¼Œè®©æˆ‘ä»¬èƒ½è½»æ¾å®ç°åŠ¨æ€ã€ç»†ç²’åº¦çš„æƒé™ç®¡ç†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä»**åŠ¨æ€è·¯ç”±**å’Œ**è‡ªå®šä¹‰æŒ‡ä»¤**ä¸¤ä¸ªç»´åº¦ï¼Œé€æ­¥æ‹†è§£è¿™ä¸ªè¯é¢˜ã€‚\n\n---\n\n## ä¸€ã€åŠ¨æ€è·¯ç”±ï¼šæƒé™çš„â€œå¯¼èˆªå¤§è„‘â€ ğŸ§ \n\n### 1. åŠ¨æ€è·¯ç”±æ˜¯ä»€ä¹ˆï¼Ÿ\n\nVue Router çš„åŠ¨æ€è·¯ç”±åŠŸèƒ½å…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶æ ¹æ®æ¡ä»¶æ·»åŠ è·¯ç”±ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ ¹æ®ç”¨æˆ·çš„è§’è‰²ï¼ˆæ¯”å¦‚ adminã€editorã€guestï¼‰åŠ¨æ€ç”Ÿæˆå¯¼èˆªèœå•å’Œå¯è®¿é—®é¡µé¢ã€‚ç›¸æ¯”é™æ€è·¯ç”±ï¼Œå®ƒå°±åƒä¸€ä¸ªä¼šå˜èº«çš„å˜å½¢é‡‘åˆš ğŸ¤–ï¼Œéšæ—¶é€‚é…ä¸åŒæƒé™éœ€æ±‚ã€‚\n\n### 2. å®ç°åŸç†\n\nVue Router æä¾›äº† `addRoute` æ–¹æ³•ï¼Œè®©æˆ‘ä»¬èƒ½åœ¨è·¯ç”±åˆå§‹åŒ–åå†åŠ¨æ€æ’å…¥è·¯ç”±ã€‚æ­é…åç«¯è¿”å›çš„æƒé™æ•°æ®ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªè·¯ç”±è¡¨ï¼‰ï¼Œæˆ‘ä»¬å°±èƒ½æ„å»ºå‡ºä¸“å±çš„è·¯ç”±ç³»ç»Ÿã€‚æ ¸å¿ƒæ€è·¯æ˜¯ï¼š\n\n1. å®šä¹‰ä¸€ä¸ªåŸºç¡€è·¯ç”±ï¼ˆæ¯”å¦‚ç™»å½•é¡µã€404 é¡µï¼‰ã€‚\n2. ä»åç«¯è·å–ç”¨æˆ·æƒé™å¯¹åº”çš„è·¯ç”±è¡¨ã€‚\n3. ç”¨ `addRoute` åŠ¨æ€æ·»åŠ æƒé™è·¯ç”±ã€‚\n4. é€šè¿‡å…¨å±€å¯¼èˆªå®ˆå«ï¼ˆ`beforeEach`ï¼‰æ ¡éªŒæƒé™ã€‚\n\nå¬èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿåˆ«æ€¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç›´æ¥ä¸Šä»£ç ã€‚\n\n### 3. å®æˆ˜æ¡ˆä¾‹ï¼šåŠ¨æ€è·¯ç”±æ­å»º\n\nå‡è®¾æˆ‘ä»¬æœ‰ä¸‰ä¸ªè§’è‰²ï¼š`admin`ï¼ˆå…¨èƒ½ç‹ï¼‰ã€`editor`ï¼ˆç¼–è¾‘ä¾ ï¼‰ã€`guest`ï¼ˆæ¸¸å®¢ï¼‰ã€‚åç«¯è¿”å›çš„è·¯ç”±è¡¨å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š\n\n```json\n{\n  \"role\": \"admin\",\n  \"routes\": [\n    { \"path\": \"/dashboard\", \"component\": \"Dashboard.vue\", \"meta\": { \"role\": \"admin\" } },\n    { \"path\": \"/settings\", \"component\": \"Settings.vue\", \"meta\": { \"role\": \"admin\" } },\n    { \"path\": \"/editor\", \"component\": \"Editor.vue\", \"meta\": { \"role\": [\"admin\", \"editor\"] } }\n  ]\n}\n```\n\nå‰ç«¯è·¯ç”±é…ç½®å¦‚ä¸‹ï¼š\n\n```javascript\n// router/index.js\nimport { createRouter, createWebHistory } from 'vue-router';\nimport Home from '@/views/Home.vue';\nimport Login from '@/views/Login.vue';\n\n// åŸºç¡€è·¯ç”±ï¼ˆæ— éœ€æƒé™ï¼‰\nconst baseRoutes = [\n  { path: '/', component: Home },\n  { path: '/login', component: Login },\n  { path: '/:pathMatch(.*)*', name: 'NotFound', component: () => import('@/views/404.vue') },\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: baseRoutes,\n});\n\n// å­˜å‚¨åŠ¨æ€è·¯ç”±ï¼Œé˜²æ­¢é‡å¤æ·»åŠ \nlet isRoutesAdded = false;\n\n// åŠ¨æ€æ·»åŠ è·¯ç”±çš„å‡½æ•°\nasync function addDynamicRoutes(userRoutes) {\n  if (isRoutesAdded) return;\n  userRoutes.forEach((route) => {\n    router.addRoute({\n      path: route.path,\n      component: () => import(`@/views/${route.component}`),\n      meta: route.meta,\n    });\n  });\n  isRoutesAdded = true;\n}\n\n// å…¨å±€å¯¼èˆªå®ˆå«\nrouter.beforeEach(async (to, from, next) => {\n  const userRole = localStorage.getItem('userRole'); // å‡è®¾è§’è‰²å­˜åœ¨æœ¬åœ°\n  if (!userRole && to.path !== '/login') {\n    return next('/login'); // æœªç™»å½•è·³ç™»å½•é¡µ\n  }\n\n  if (!isRoutesAdded && userRole) {\n    const res = await fetchUserRoutesFromAPI(); // æ¨¡æ‹Ÿä»åç«¯è·å–è·¯ç”±è¡¨\n    await addDynamicRoutes(res.routes);\n    return next(to.path); // é˜²æ­¢è·¯ç”±æœªåŠ è½½å®Œæˆï¼Œé‡æ–°å¯¼èˆª\n  }\n\n  const requiredRole = to.meta?.role;\n  if (requiredRole && !requiredRole.includes(userRole)) {\n    return next('/404'); // æ— æƒé™è·³ 404\n  }\n  next();\n});\n\nexport default router;\n```\n\n**Tips:**  \n- ç”¨ `isRoutesAdded` æ ‡å¿—ä½é¿å…é‡å¤æ·»åŠ è·¯ç”±ï¼Œä¸ç„¶æ¯æ¬¡åˆ·æ–°é¡µé¢éƒ½é‡æ–°åŠ è½½ï¼Œæ€§èƒ½ç›´æ¥çˆ†ç‚¸ ğŸ’¥ã€‚  \n- åœ¨ `beforeEach` ä¸­ç”¨ `return next(to.path)` å¤„ç†åŠ¨æ€è·¯ç”±åçš„é¦–æ¬¡å¯¼èˆªï¼Œé¿å…ç™½å±å°´å°¬ã€‚  \n- `meta` å­—æ®µæ˜¯ä¸ªå®è—ï¼Œå¯ä»¥å­˜è§’è‰²ã€æ ‡é¢˜ã€å›¾æ ‡ç­‰ä¿¡æ¯ï¼Œéšæ‰‹ä¸€å†™ï¼Œå¤ç”¨æ€§æ‹‰æ»¡ã€‚\n\n### 4. è¿›é˜¶ï¼šåµŒå¥—è·¯ç”±ä¸æ‡’åŠ è½½\n\nå¦‚æœé¡¹ç›®ä¸­æœ‰åµŒå¥—è·¯ç”±ï¼ˆæ¯”å¦‚ `/dashboard/users`ï¼‰ï¼Œå¯ä»¥ç”¨ `addRoute` çš„çˆ¶å­è·¯ç”±ç‰¹æ€§ï¼š\n\n```javascript\nrouter.addRoute({\n  path: '/dashboard',\n  component: () => import('@/views/Dashboard.vue'),\n  children: [\n    { path: 'users', component: () => import('@/views/Users.vue'), meta: { role: 'admin' } },\n  ],\n});\n```\n\næ‡’åŠ è½½ï¼ˆ`() => import()`ï¼‰æ˜¯æ€§èƒ½ä¼˜åŒ–çš„ç¥å™¨ï¼Œå°¤å…¶åœ¨è·¯ç”±è¡¨å¾ˆå¤§çš„æ—¶å€™ï¼Œèƒ½æ˜¾è‘—å‡å°‘é¦–å±åŠ è½½æ—¶é—´ã€‚åˆ«å°çœ‹è¿™ç‚¹ä¼˜åŒ–ï¼Œç”¨æˆ·ä½“éªŒæå‡ä¸æ˜¯ä¸€æ˜ŸåŠç‚¹ ğŸŒŸã€‚\n\n**Tips:**  \n- åŠ¨æ€è·¯ç”±å¤šäº†ï¼Œè€ƒè™‘ç”¨ `Promise.all` æ‰¹é‡åŠ è½½ç»„ä»¶ï¼Œå‡å°‘å¼‚æ­¥è¯·æ±‚çš„ç­‰å¾…æ—¶é—´ã€‚  \n- å¦‚æœåç«¯è¿”å›çš„è·¯ç”±è¡¨æ ¼å¼ä¸ç»Ÿä¸€ï¼ŒåŠ ä¸ªé€‚é…å±‚ï¼ˆadapterï¼‰ï¼Œåˆ«è®©å‰ç«¯ä»£ç ä¸ºåç«¯çš„â€œéšæ€§â€ä¹°å•ã€‚\n\n---\n\n## äºŒã€è‡ªå®šä¹‰æŒ‡ä»¤ï¼šæƒé™çš„â€œæ˜¾éšå°åŠ©æ‰‹â€ âœ‚ï¸\n\n### 1. è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ\n\nVue3 çš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼ˆ`v-directive`ï¼‰æ˜¯ä¸ªè¶…çº§çµæ´»çš„å·¥å…·ï¼Œå¯ä»¥ç›´æ¥æ“ä½œ DOMã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ `v-permission` æ¥æ§åˆ¶æŒ‰é’®ã€èœå•çš„æ˜¾éšï¼Œæ¯”ç”¨ `v-if` å†™ä¸€å †æ¡ä»¶åˆ¤æ–­ä¼˜é›…å¤šäº†ã€‚\n\n### 2. å®ç°åŸç†\n\nè‡ªå®šä¹‰æŒ‡ä»¤çš„æ ¸å¿ƒæ˜¯é’©å­å‡½æ•°ï¼ˆ`mounted`ã€`updated` ç­‰ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡ä»¤çš„å€¼ï¼ˆæ¯”å¦‚è§’è‰²åï¼‰åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦æœ‰æƒé™ï¼Œç„¶åå†³å®š DOM å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€ã€‚åŸç†ç®€å•ï¼Œä½†ç”¨å¾—å¥½ï¼Œèƒ½è®©ä»£ç  DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰åˆ°é£èµ·ã€‚\n\n### 3. å®æˆ˜æ¡ˆä¾‹ï¼šv-permission æŒ‡ä»¤\n\nå…ˆä¸Šä»£ç ï¼š\n\n```javascript\n// directives/permission.js\nimport { useUserStore } from '@/stores/user';\n\nexport default {\n  mounted(el, binding) {\n    const userStore = useUserStore();\n    const requiredRole = binding.value; // v-permission=\"admin\"\n    const userRole = userStore.role;\n\n    if (!requiredRole.includes(userRole)) {\n      el.style.display = 'none'; // æ— æƒé™ç›´æ¥éšè—\n    }\n  },\n  updated(el, binding) {\n    const userStore = useUserStore();\n    const requiredRole = binding.value;\n    const userRole = userStore.role;\n\n    el.style.display = requiredRole.includes(userRole) ? '' : 'none';\n  },\n};\n```\n\næ³¨å†ŒæŒ‡ä»¤ï¼š\n\n```javascript\n// main.js\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport permission from './directives/permission';\n\nconst app = createApp(App);\napp.directive('permission', permission);\napp.mount('#app');\n```\n\nä½¿ç”¨ç¤ºä¾‹ï¼š\n\n```vue\n<template>\n  <div>\n    <button v-permission=\"['admin']\">åˆ é™¤ç”¨æˆ·</button>\n    <button v-permission=\"['admin', 'editor']\">ç¼–è¾‘æ–‡ç« </button>\n  </div>\n</template>\n```\n\n**Tips:**  \n- ç”¨ Piniaï¼ˆæˆ– Vuexï¼‰ç®¡ç†ç”¨æˆ·çŠ¶æ€ï¼Œ`useUserStore` æ‹¿è§’è‰²ä¿¡æ¯ï¼Œé¿å…åˆ°å¤„ä¼ å‚ã€‚  \n- å¦‚æœéšè—å…ƒç´ åå¸ƒå±€å´©äº†ï¼Œå¯ä»¥ç”¨ `el.parentNode.removeChild(el)` åˆ é™¤èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯å•çº¯ `display: none`ã€‚  \n- æ”¯æŒæ•°ç»„æ ¼å¼ï¼ˆ`v-permission=\"['admin', 'editor']\"`ï¼‰ï¼Œçµæ´»æ€§ç›´æ¥æ‹‰æ»¡ã€‚\n\n### 4. è¿›é˜¶ï¼šæŒ‡ä»¤ + Modifier\n\næƒ³è®©æŒ‡ä»¤æ›´é…·ç‚«ï¼ŸåŠ ä¸ªä¿®é¥°ç¬¦ï¼ˆmodifierï¼‰è¯•è¯•ã€‚æ¯”å¦‚ `v-permission.disable`ï¼Œæ— æƒé™æ—¶ç¦ç”¨æŒ‰é’®è€Œä¸æ˜¯éšè—ï¼š\n\n```javascript\nmounted(el, binding) {\n  const userStore = useUserStore();\n  const requiredRole = binding.value;\n  const userRole = userStore.role;\n\n  if (!requiredRole.includes(userRole)) {\n    if (binding.modifiers.disable) {\n      el.disabled = true;\n      el.classList.add('disabled'); // åŠ ä¸ªæ ·å¼ï¼Œç¾è§‚ä¸€ç‚¹\n    } else {\n      el.style.display = 'none';\n    }\n  }\n},\n```\n\nä½¿ç”¨ï¼š\n\n```vue\n<button v-permission.disable=\"['admin']\">åˆ é™¤ç”¨æˆ·</button>\n```\n\n**Tips:**  \n- ä¿®é¥°ç¬¦æ˜¯ä¸ªéšè—å½©è›‹ï¼Œèƒ½è®©æŒ‡ä»¤å¤ç”¨æ€§ç¿»å€ï¼Œè®°å¾—åœ¨å›¢é˜Ÿé‡Œæ¨å¹¿ä¸€ä¸‹ã€‚  \n- åŠ ä¸ª `console.warn` æç¤ºæ— æƒé™æ“ä½œï¼Œè°ƒè¯•æ—¶èƒ½æ•‘å‘½ã€‚\n\n---\n\n## ä¸‰ã€æœ€ä½³å®è·µä¸è¸©å‘æŒ‡å—\n\n### 1. åŠ¨æ€è·¯ç”±ä¸è‡ªå®šä¹‰æŒ‡ä»¤å¦‚ä½•é…åˆï¼Ÿ\n\nåŠ¨æ€è·¯ç”±ç®¡é¡µé¢çº§æƒé™ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤ç®¡ç»„ä»¶çº§æƒé™ã€‚ä¸¤è€…çš„å…³ç³»å°±åƒâ€œå¤§é—¨â€å’Œâ€œæˆ¿é—´é”â€ï¼šè·¯ç”±å®ˆä½å…¥å£ï¼ŒæŒ‡ä»¤æ§åˆ¶ç»†èŠ‚ã€‚æ¯”å¦‚ï¼Œç”¨æˆ·èƒ½è¿› `/dashboard`ï¼Œä½†çœ‹ä¸åˆ°â€œåˆ é™¤â€æŒ‰é’®ã€‚\n\n**æœ€ä½³å®è·µï¼š**  \n- è·¯ç”±è¡¨ä¸­åŠ  `meta.perms` å­—æ®µï¼Œè®°å½•é¡µé¢çº§æƒé™ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤å¤ç”¨è¿™éƒ¨åˆ†é€»è¾‘ï¼Œå‡å°‘é‡å¤ä»£ç ã€‚  \n- ç”¨ä¸€ä¸ªå…¨å±€ `permission.js` å·¥å…·å‡½æ•°ï¼Œç»Ÿä¸€æ ¡éªŒé€»è¾‘ï¼Œè·¯ç”±å’ŒæŒ‡ä»¤éƒ½è°ƒç”¨å®ƒã€‚\n\n### 2. æ€§èƒ½ä¼˜åŒ–\n\n- **è·¯ç”±æ‡’åŠ è½½**ï¼šä¸Šé¢æåˆ°è¿‡ï¼Œåˆ«è®©ç”¨æˆ·ç­‰å¾—èŠ±å„¿éƒ½è°¢äº†ã€‚  \n- **ç¼“å­˜æƒé™æ•°æ®**ï¼šç”¨ localStorage æˆ– IndexedDB å­˜è·¯ç”±è¡¨å’Œè§’è‰²ä¿¡æ¯ï¼Œå‡å°‘é‡å¤è¯·æ±‚ã€‚  \n- **é˜²æŠ–æ ¡éªŒ**ï¼šé¢‘ç¹åˆ‡æ¢é¡µé¢æ—¶ï¼Œ`beforeEach` é‡Œçš„æƒé™æ ¡éªŒå¯ä»¥ç”¨é˜²æŠ–ï¼Œçœç‚¹ CPUã€‚\n\n### 3. å¸¸è§å‘ä¸è§£å†³åŠæ³•\n\n- **å‘ 1ï¼šåŠ¨æ€è·¯ç”±åˆ·æ–°åä¸¢å¤±**  \n  è§£å†³ï¼šæ¯æ¬¡åˆ·æ–°æ—¶é‡æ–°è°ƒç”¨ `addDynamicRoutes`ï¼Œæ­é… `beforeEach` çš„é‡æ–°å¯¼èˆªé€»è¾‘ã€‚  \n- **å‘ 2ï¼šæŒ‡ä»¤ä¸ç”Ÿæ•ˆ**  \n  è§£å†³ï¼šæ£€æŸ¥æŒ‡ä»¤æ˜¯å¦æ­£ç¡®æ³¨å†Œï¼Œåˆ«å¿˜äº† `app.directive`ã€‚  \n- **å‘ 3ï¼šåç«¯è·¯ç”±è¡¨ä¸è§„èŒƒ**  \n  è§£å†³ï¼šå‰ç«¯åŠ ä¸ªé€‚é…å±‚ï¼Œåˆ«æŒ‡æœ›åç«¯æ°¸è¿œé è°± ğŸ˜‚ã€‚\n\n---\n\n## å››ã€æ€»ç»“ä¸å½©è›‹\n\nVue3 çš„åŠ¨æ€è·¯ç”±å’Œè‡ªå®šä¹‰æŒ‡ä»¤å°±åƒä¸€å¯¹é»„é‡‘æ­æ¡£ï¼Œä¸€ä¸ªç®¡å®è§‚ï¼Œä¸€ä¸ªç®¡å¾®è§‚ã€‚åŠ¨æ€è·¯ç”±è®©ä½ çµæ´»ç”Ÿæˆå¯¼èˆªï¼Œè‡ªå®šä¹‰æŒ‡ä»¤è®©æƒé™æ§åˆ¶ç»†è…»åˆ°åƒç´ çº§ã€‚åŠ ä¸Š Composition API å’Œ Pinia çš„åŠ æŒï¼Œæƒé™ç®¡ç†å†ä¹Ÿä¸æ˜¯å‰ç«¯çš„â€œè€å¤§éš¾â€ã€‚\n\n**å½©è›‹æ—¶é—´ï¼š**  \næƒ³è®©ä»£ç æ›´æœ‰çµé­‚ï¼Ÿè¯•è¯•ç»™æƒé™æ ¡éªŒåŠ ç‚¹å¹½é»˜æç¤ºï¼Œæ¯”å¦‚æ— æƒé™æ—¶å¼¹ä¸ª `alert('å…„å¼Ÿï¼Œä½ æƒ³å¹²å•¥ï¼Ÿæƒé™ä¸å¤Ÿå•Šï¼')`ï¼Œç”¨æˆ·ç¬‘äº†ï¼Œbug ä¹Ÿå°‘äº†ï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ï¼ŸğŸ˜œ\n\nå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ åœ¨æƒé™æ§åˆ¶çš„è·¯ä¸Šå°‘èµ°å¼¯è·¯ã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„ç©æ³•ï¼Œæ¬¢è¿ç•™è¨€åˆ†äº«ï¼Œå’±ä»¬ä¸€èµ·è¿›æ­¥ï¼âœŒï¸\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),m=(l,e)=>{for(var r in e)c(l,r,{get:e[r],enumerable:!0})},s=(l,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!u.call(l,a)&&a!==r&&c(l,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return l};var B=(l,e,r)=>(r=l!=null?p(F(l)):{},s(e||!l||!l.__esModule?c(r,\"default\",{value:l,enumerable:!0}):r,l)),f=l=>s(c({},\"__esModule\",{value:!0}),l);var t=g((C,i)=>{i.exports=_jsx_runtime});var x={};m(x,{default:()=>h,frontmatter:()=>b});var n=B(t()),b={type:\"Post\",title:\"Vue3 \\u6743\\u9650\\u63A7\\u5236\\uFF1A\\u5229\\u7528\\u52A8\\u6001\\u8DEF\\u7531\\u4E0E\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\",date:\"2023-03-06\",description:\"\\u6DF1\\u5165\\u63A2\\u7D22 Vue3 \\u4E2D\\u7684\\u6743\\u9650\\u63A7\\u5236\\u65B9\\u6848\\uFF0C\\u901A\\u8FC7\\u52A8\\u6001\\u8DEF\\u7531\\u548C\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u5B9E\\u73B0\\u7075\\u6D3B\\u3001\\u9AD8\\u6548\\u7684\\u524D\\u7AEF\\u6743\\u9650\\u7BA1\\u7406\\uFF0C\\u9644\\u5E26\\u5B9E\\u7528\\u6848\\u4F8B\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\",keywords:\"Vue3, \\u52A8\\u6001\\u8DEF\\u7531, \\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4, \\u6743\\u9650\\u63A7\\u5236, \\u524D\\u7AEF\\u5F00\\u53D1, Vue Router, Composition API\",author:\"\\u6653\\u9F99\",image:\"/images/hero/vue3-permission.jpg\",tags:[\"Vue3\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6743\\u9650\\u7BA1\\u7406\"],category:\"Vue.js\"};function o(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u55E8\\uFF0C\\u524D\\u7AEF\\u5C0F\\u4F19\\u4F34\\u4EEC\\uFF01\\u4ECA\\u5929\\u6211\\u4EEC\\u8981\\u804A\\u4E00\\u4E2A\\u5728\\u4F01\\u4E1A\\u7EA7\\u9879\\u76EE\\u4E2D\\u7ED5\\u4E0D\\u5F00\\u7684\\u8BDD\\u9898\\u2014\\u2014\\u6743\\u9650\\u63A7\\u5236\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4F60\\u662F\\u4E00\\u4E2A\\u5B88\\u95E8\\u7684\\u9A91\\u58EB \\u{1F6E1}\\uFE0F\\uFF0C\\u624B\\u63E1 Vue3 \\u8FD9\\u628A\\u5229\\u5251\\uFF0C\\u5982\\u4F55\\u5728\\u524D\\u7AEF\\u4F18\\u96C5\\u5730\\u5B9E\\u73B0\\u6743\\u9650\\u7BA1\\u7406\\uFF0C\\u65E2\\u8BA9\\u7528\\u6237\\u4F53\\u9A8C\\u4E1D\\u6ED1\\uFF0C\\u53C8\\u8BA9\\u4EE3\\u7801\\u53EF\\u7EF4\\u62A4\\u6027\\u62C9\\u6EE1\\uFF1F\\u7B54\\u6848\\u5C31\\u662F\\uFF1A\",(0,n.jsx)(e.strong,{children:\"\\u52A8\\u6001\\u8DEF\\u7531\"}),\"\\u548C\",(0,n.jsx)(e.strong,{children:\"\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\"}),\"\\u3002\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u89E3\\u9501 Vue3 \\u6743\\u9650\\u63A7\\u5236\\u7684\\u6B63\\u786E\\u59FF\\u52BF\\uFF0C\\u9644\\u5E26\\u4E00\\u5806\\u5B9E\\u7528\\u4F8B\\u5B50\\u548C tips\\uFF0C\\u8BA9\\u4F60\\u5728\\u9879\\u76EE\\u4E2D\\u76F4\\u63A5\\u8D77\\u98DE \\u{1F680}\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5728\\u524D\\u7AEF\\u505A\\u6743\\u9650\\u63A7\\u5236\",children:(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u8981\\u5728\\u524D\\u7AEF\\u505A\\u6743\\u9650\\u63A7\\u5236\",children:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5728\\u524D\\u7AEF\\u505A\\u6743\\u9650\\u63A7\\u5236\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5148\\u95EE\\u4E00\\u4E2A\\u7075\\u9B42\\u95EE\\u9898\\uFF1A\\u6743\\u9650\\u63A7\\u5236\\u4E0D\\u662F\\u540E\\u7AEF\\u7684\\u6D3B\\u513F\\u5417\\uFF1F\\u4E3A\\u5565\\u524D\\u7AEF\\u8FD8\\u8981\\u63BA\\u548C\\uFF1F\\u7B54\\u6848\\u5F88\\u7B80\\u5355\\uFF1A\\u540E\\u7AEF\\u7BA1\\u7684\\u662F\\u201C\\u80FD\\u4E0D\\u80FD\\u8BBF\\u95EE\\u201D\\uFF0C\\u524D\\u7AEF\\u7BA1\\u7684\\u662F\\u201C\\u770B\\u4E0D\\u770B\\u5F97\\u5230\\u201D\\u3002\\u5982\\u679C\\u5168\\u9760\\u540E\\u7AEF\\uFF0C\\u9875\\u9762\\u53EF\\u80FD\\u4F1A\\u51FA\\u73B0\\u4E00\\u5806\\u201C403 Forbidden\\u201D\\u7684\\u5C34\\u5C2C\\u63D0\\u793A\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u76F4\\u63A5\\u5D29\\u76D8\\u3002\\u524D\\u7AEF\\u6743\\u9650\\u63A7\\u5236\\u5C31\\u50CF\\u7ED9\\u9875\\u9762\\u52A0\\u4E86\\u4E2A\\u9690\\u8EAB\\u6597\\u7BF7 \\u{1F9D9}\\u200D\\u2642\\uFE0F\\uFF0C\\u8BA9\\u6CA1\\u6743\\u9650\\u7684\\u5185\\u5BB9\\u538B\\u6839\\u513F\\u4E0D\\u6E32\\u67D3\\uFF0C\\u65E2\\u4F18\\u96C5\\u53C8\\u9AD8\\u6548\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Vue3 \\u63D0\\u4F9B\\u4E86 Composition API\\u3001Vue Router \\u548C\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u8FD9\\u4E9B\\u201C\\u6838\\u6B66\\u5668\\u201D\\uFF0C\\u8BA9\\u6211\\u4EEC\\u80FD\\u8F7B\\u677E\\u5B9E\\u73B0\\u52A8\\u6001\\u3001\\u7EC6\\u7C92\\u5EA6\\u7684\\u6743\\u9650\\u7BA1\\u7406\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C31\\u4ECE\",(0,n.jsx)(e.strong,{children:\"\\u52A8\\u6001\\u8DEF\\u7531\"}),\"\\u548C\",(0,n.jsx)(e.strong,{children:\"\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\"}),\"\\u4E24\\u4E2A\\u7EF4\\u5EA6\\uFF0C\\u9010\\u6B65\\u62C6\\u89E3\\u8FD9\\u4E2A\\u8BDD\\u9898\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E00\\u52A8\\u6001\\u8DEF\\u7531\\u6743\\u9650\\u7684\\u5BFC\\u822A\\u5927\\u8111-\",children:(0,n.jsx)(e.a,{href:\"#\\u4E00\\u52A8\\u6001\\u8DEF\\u7531\\u6743\\u9650\\u7684\\u5BFC\\u822A\\u5927\\u8111-\",children:\"\\u4E00\\u3001\\u52A8\\u6001\\u8DEF\\u7531\\uFF1A\\u6743\\u9650\\u7684\\u201C\\u5BFC\\u822A\\u5927\\u8111\\u201D \\u{1F9E0}\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u52A8\\u6001\\u8DEF\\u7531\\u662F\\u4EC0\\u4E48\",children:(0,n.jsx)(e.a,{href:\"#1-\\u52A8\\u6001\\u8DEF\\u7531\\u662F\\u4EC0\\u4E48\",children:\"1. \\u52A8\\u6001\\u8DEF\\u7531\\u662F\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Vue Router \\u7684\\u52A8\\u6001\\u8DEF\\u7531\\u529F\\u80FD\\u5141\\u8BB8\\u6211\\u4EEC\\u5728\\u8FD0\\u884C\\u65F6\\u6839\\u636E\\u6761\\u4EF6\\u6DFB\\u52A0\\u8DEF\\u7531\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u5C31\\u662F\\u6839\\u636E\\u7528\\u6237\\u7684\\u89D2\\u8272\\uFF08\\u6BD4\\u5982 admin\\u3001editor\\u3001guest\\uFF09\\u52A8\\u6001\\u751F\\u6210\\u5BFC\\u822A\\u83DC\\u5355\\u548C\\u53EF\\u8BBF\\u95EE\\u9875\\u9762\\u3002\\u76F8\\u6BD4\\u9759\\u6001\\u8DEF\\u7531\\uFF0C\\u5B83\\u5C31\\u50CF\\u4E00\\u4E2A\\u4F1A\\u53D8\\u8EAB\\u7684\\u53D8\\u5F62\\u91D1\\u521A \\u{1F916}\\uFF0C\\u968F\\u65F6\\u9002\\u914D\\u4E0D\\u540C\\u6743\\u9650\\u9700\\u6C42\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u5B9E\\u73B0\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#2-\\u5B9E\\u73B0\\u539F\\u7406\",children:\"2. \\u5B9E\\u73B0\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Vue Router \\u63D0\\u4F9B\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"addRoute\"})})})}),\" \\u65B9\\u6CD5\\uFF0C\\u8BA9\\u6211\\u4EEC\\u80FD\\u5728\\u8DEF\\u7531\\u521D\\u59CB\\u5316\\u540E\\u518D\\u52A8\\u6001\\u63D2\\u5165\\u8DEF\\u7531\\u3002\\u642D\\u914D\\u540E\\u7AEF\\u8FD4\\u56DE\\u7684\\u6743\\u9650\\u6570\\u636E\\uFF08\\u901A\\u5E38\\u662F\\u4E00\\u4E2A\\u8DEF\\u7531\\u8868\\uFF09\\uFF0C\\u6211\\u4EEC\\u5C31\\u80FD\\u6784\\u5EFA\\u51FA\\u4E13\\u5C5E\\u7684\\u8DEF\\u7531\\u7CFB\\u7EDF\\u3002\\u6838\\u5FC3\\u601D\\u8DEF\\u662F\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5B9A\\u4E49\\u4E00\\u4E2A\\u57FA\\u7840\\u8DEF\\u7531\\uFF08\\u6BD4\\u5982\\u767B\\u5F55\\u9875\\u3001404 \\u9875\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4ECE\\u540E\\u7AEF\\u83B7\\u53D6\\u7528\\u6237\\u6743\\u9650\\u5BF9\\u5E94\\u7684\\u8DEF\\u7531\\u8868\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"addRoute\"})})})}),\" \\u52A8\\u6001\\u6DFB\\u52A0\\u6743\\u9650\\u8DEF\\u7531\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u901A\\u8FC7\\u5168\\u5C40\\u5BFC\\u822A\\u5B88\\u536B\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"beforeEach\"})})})}),\"\\uFF09\\u6821\\u9A8C\\u6743\\u9650\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u5F88\\u7B80\\u5355\\uFF1F\\u522B\\u6025\\uFF0C\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u76F4\\u63A5\\u4E0A\\u4EE3\\u7801\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5B9E\\u6218\\u6848\\u4F8B\\u52A8\\u6001\\u8DEF\\u7531\\u642D\\u5EFA\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5B9E\\u6218\\u6848\\u4F8B\\u52A8\\u6001\\u8DEF\\u7531\\u642D\\u5EFA\",children:\"3. \\u5B9E\\u6218\\u6848\\u4F8B\\uFF1A\\u52A8\\u6001\\u8DEF\\u7531\\u642D\\u5EFA\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5047\\u8BBE\\u6211\\u4EEC\\u6709\\u4E09\\u4E2A\\u89D2\\u8272\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"admin\"})})})}),\"\\uFF08\\u5168\\u80FD\\u738B\\uFF09\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"editor\"})})})}),\"\\uFF08\\u7F16\\u8F91\\u4FA0\\uFF09\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"guest\"})})})}),\"\\uFF08\\u6E38\\u5BA2\\uFF09\\u3002\\u540E\\u7AEF\\u8FD4\\u56DE\\u7684\\u8DEF\\u7531\\u8868\\u53EF\\u80FD\\u662F\\u8FD9\\u6837\\u7684\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"role\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"admin\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"routes\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": [\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"path\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/dashboard\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"component\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Dashboard.vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"meta\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"role\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"admin\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"path\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/settings\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"component\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Settings.vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"meta\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"role\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"admin\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"path\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/editor\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"component\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Editor.vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"meta\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"role\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": [\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"admin\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"editor\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] } }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ]\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u524D\\u7AEF\\u8DEF\\u7531\\u914D\\u7F6E\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// router/index.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createRouter, createWebHistory } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue-router'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Home \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '@/views/Home.vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Login \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '@/views/Login.vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u57FA\\u7840\\u8DEF\\u7531\\uFF08\\u65E0\\u9700\\u6743\\u9650\\uFF09\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" baseRoutes\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { path: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", component: Home },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { path: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/login'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", component: Login },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { path: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/:pathMatch(.*)*'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'NotFound'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'@/views/404.vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") },\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" router\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createRouter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  history: \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createWebHistory\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  routes: baseRoutes,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B58\\u50A8\\u52A8\\u6001\\u8DEF\\u7531\\uFF0C\\u9632\\u6B62\\u91CD\\u590D\\u6DFB\\u52A0\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" isRoutesAdded \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u52A8\\u6001\\u6DFB\\u52A0\\u8DEF\\u7531\\u7684\\u51FD\\u6570\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" addDynamicRoutes\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"userRoutes\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (isRoutesAdded) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  userRoutes.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"route\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    router.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addRoute\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      path: route.path,\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`@/views/${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"route\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"component\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      meta: route.meta,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  isRoutesAdded \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5168\\u5C40\\u5BFC\\u822A\\u5B88\\u536B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"beforeEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"to\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" userRole\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'userRole'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5047\\u8BBE\\u89D2\\u8272\\u5B58\\u5728\\u672C\\u5730\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"userRole \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" to.path \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '/login'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/login'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u672A\\u767B\\u5F55\\u8DF3\\u767B\\u5F55\\u9875\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"isRoutesAdded \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" userRole) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUserRoutesFromAPI\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF\\u4ECE\\u540E\\u7AEF\\u83B7\\u53D6\\u8DEF\\u7531\\u8868\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" addDynamicRoutes\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(res.routes);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(to.path); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9632\\u6B62\\u8DEF\\u7531\\u672A\\u52A0\\u8F7D\\u5B8C\\u6210\\uFF0C\\u91CD\\u65B0\\u5BFC\\u822A\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" requiredRole\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" to.meta?.role;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (requiredRole \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"requiredRole.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"includes\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(userRole)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/404'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u65E0\\u6743\\u9650\\u8DF3 404\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" router;\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Tips:\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"isRoutesAdded\"})})})}),\" \\u6807\\u5FD7\\u4F4D\\u907F\\u514D\\u91CD\\u590D\\u6DFB\\u52A0\\u8DEF\\u7531\\uFF0C\\u4E0D\\u7136\\u6BCF\\u6B21\\u5237\\u65B0\\u9875\\u9762\\u90FD\\u91CD\\u65B0\\u52A0\\u8F7D\\uFF0C\\u6027\\u80FD\\u76F4\\u63A5\\u7206\\u70B8 \\u{1F4A5}\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"beforeEach\"})})})}),\" \\u4E2D\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"return next(to.path)\"})})})}),\" \\u5904\\u7406\\u52A8\\u6001\\u8DEF\\u7531\\u540E\\u7684\\u9996\\u6B21\\u5BFC\\u822A\\uFF0C\\u907F\\u514D\\u767D\\u5C4F\\u5C34\\u5C2C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"meta\"})})})}),\" \\u5B57\\u6BB5\\u662F\\u4E2A\\u5B9D\\u85CF\\uFF0C\\u53EF\\u4EE5\\u5B58\\u89D2\\u8272\\u3001\\u6807\\u9898\\u3001\\u56FE\\u6807\\u7B49\\u4FE1\\u606F\\uFF0C\\u968F\\u624B\\u4E00\\u5199\\uFF0C\\u590D\\u7528\\u6027\\u62C9\\u6EE1\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u8FDB\\u9636\\u5D4C\\u5957\\u8DEF\\u7531\\u4E0E\\u61D2\\u52A0\\u8F7D\",children:(0,n.jsx)(e.a,{href:\"#4-\\u8FDB\\u9636\\u5D4C\\u5957\\u8DEF\\u7531\\u4E0E\\u61D2\\u52A0\\u8F7D\",children:\"4. \\u8FDB\\u9636\\uFF1A\\u5D4C\\u5957\\u8DEF\\u7531\\u4E0E\\u61D2\\u52A0\\u8F7D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u9879\\u76EE\\u4E2D\\u6709\\u5D4C\\u5957\\u8DEF\\u7531\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"/dashboard/users\"})})})}),\"\\uFF09\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"addRoute\"})})})}),\" \\u7684\\u7236\\u5B50\\u8DEF\\u7531\\u7279\\u6027\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addRoute\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  path: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/dashboard'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'@/views/Dashboard.vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  children: [\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    { path: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'users'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'@/views/Users.vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), meta: { role: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'admin'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } },\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ],\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u61D2\\u52A0\\u8F7D\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"() => import()\"})})})}),\"\\uFF09\\u662F\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u795E\\u5668\\uFF0C\\u5C24\\u5176\\u5728\\u8DEF\\u7531\\u8868\\u5F88\\u5927\\u7684\\u65F6\\u5019\\uFF0C\\u80FD\\u663E\\u8457\\u51CF\\u5C11\\u9996\\u5C4F\\u52A0\\u8F7D\\u65F6\\u95F4\\u3002\\u522B\\u5C0F\\u770B\\u8FD9\\u70B9\\u4F18\\u5316\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u63D0\\u5347\\u4E0D\\u662F\\u4E00\\u661F\\u534A\\u70B9 \\u{1F31F}\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Tips:\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u52A8\\u6001\\u8DEF\\u7531\\u591A\\u4E86\\uFF0C\\u8003\\u8651\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u6279\\u91CF\\u52A0\\u8F7D\\u7EC4\\u4EF6\\uFF0C\\u51CF\\u5C11\\u5F02\\u6B65\\u8BF7\\u6C42\\u7684\\u7B49\\u5F85\\u65F6\\u95F4\\u3002\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5982\\u679C\\u540E\\u7AEF\\u8FD4\\u56DE\\u7684\\u8DEF\\u7531\\u8868\\u683C\\u5F0F\\u4E0D\\u7EDF\\u4E00\\uFF0C\\u52A0\\u4E2A\\u9002\\u914D\\u5C42\\uFF08adapter\\uFF09\\uFF0C\\u522B\\u8BA9\\u524D\\u7AEF\\u4EE3\\u7801\\u4E3A\\u540E\\u7AEF\\u7684\\u201C\\u968F\\u6027\\u201D\\u4E70\\u5355\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E8C\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u6743\\u9650\\u7684\\u663E\\u9690\\u5C0F\\u52A9\\u624B-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#\\u4E8C\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u6743\\u9650\\u7684\\u663E\\u9690\\u5C0F\\u52A9\\u624B-\\uFE0F\",children:\"\\u4E8C\\u3001\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\uFF1A\\u6743\\u9650\\u7684\\u201C\\u663E\\u9690\\u5C0F\\u52A9\\u624B\\u201D \\u2702\\uFE0F\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u662F\\u4EC0\\u4E48\",children:(0,n.jsx)(e.a,{href:\"#1-\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u662F\\u4EC0\\u4E48\",children:\"1. \\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u662F\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Vue3 \\u7684\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"v-directive\"})})})}),\"\\uFF09\\u662F\\u4E2A\\u8D85\\u7EA7\\u7075\\u6D3B\\u7684\\u5DE5\\u5177\\uFF0C\\u53EF\\u4EE5\\u76F4\\u63A5\\u64CD\\u4F5C DOM\\u3002\\u6BD4\\u5982\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"v-permission\"})})})}),\" \\u6765\\u63A7\\u5236\\u6309\\u94AE\\u3001\\u83DC\\u5355\\u7684\\u663E\\u9690\\uFF0C\\u6BD4\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"v-if\"})})})}),\" \\u5199\\u4E00\\u5806\\u6761\\u4EF6\\u5224\\u65AD\\u4F18\\u96C5\\u591A\\u4E86\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u5B9E\\u73B0\\u539F\\u7406-1\",children:(0,n.jsx)(e.a,{href:\"#2-\\u5B9E\\u73B0\\u539F\\u7406-1\",children:\"2. \\u5B9E\\u73B0\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u7684\\u6838\\u5FC3\\u662F\\u94A9\\u5B50\\u51FD\\u6570\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"mounted\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"updated\"})})})}),\" \\u7B49\\uFF09\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\\u6307\\u4EE4\\u7684\\u503C\\uFF08\\u6BD4\\u5982\\u89D2\\u8272\\u540D\\uFF09\\u5224\\u65AD\\u5F53\\u524D\\u7528\\u6237\\u662F\\u5426\\u6709\\u6743\\u9650\\uFF0C\\u7136\\u540E\\u51B3\\u5B9A DOM \\u5143\\u7D20\\u7684\\u663E\\u793A\\u72B6\\u6001\\u3002\\u539F\\u7406\\u7B80\\u5355\\uFF0C\\u4F46\\u7528\\u5F97\\u597D\\uFF0C\\u80FD\\u8BA9\\u4EE3\\u7801 DRY\\uFF08Don\\u2019t Repeat Yourself\\uFF09\\u5230\\u98DE\\u8D77\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5B9E\\u6218\\u6848\\u4F8Bv-permission-\\u6307\\u4EE4\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5B9E\\u6218\\u6848\\u4F8Bv-permission-\\u6307\\u4EE4\",children:\"3. \\u5B9E\\u6218\\u6848\\u4F8B\\uFF1Av-permission \\u6307\\u4EE4\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5148\\u4E0A\\u4EE3\\u7801\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// directives/permission.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useUserStore } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '@/stores/user'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  mounted\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"el\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"binding\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" userStore\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useUserStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" requiredRole\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" binding.value; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// v-permission=\"admin\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" userRole\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" userStore.role;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"requiredRole.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"includes\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(userRole)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      el.style.display \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'none'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u65E0\\u6743\\u9650\\u76F4\\u63A5\\u9690\\u85CF\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  updated\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"el\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"binding\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" userStore\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useUserStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" requiredRole\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" binding.value;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" userRole\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" userStore.role;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    el.style.display \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" requiredRole.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"includes\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(userRole) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'none'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6CE8\\u518C\\u6307\\u4EE4\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// main.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createApp } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" App \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" './App.vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" permission \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" './directives/permission'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createApp\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(App);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"directive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'permission'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", permission);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"mount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#app'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"vue\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"vue\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" v-permission\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:`\"['admin']\"`}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u5220\\u9664\\u7528\\u6237</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" v-permission\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:`\"['admin', 'editor']\"`}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u7F16\\u8F91\\u6587\\u7AE0</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Tips:\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7528 Pinia\\uFF08\\u6216 Vuex\\uFF09\\u7BA1\\u7406\\u7528\\u6237\\u72B6\\u6001\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useUserStore\"})})})}),\" \\u62FF\\u89D2\\u8272\\u4FE1\\u606F\\uFF0C\\u907F\\u514D\\u5230\\u5904\\u4F20\\u53C2\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u9690\\u85CF\\u5143\\u7D20\\u540E\\u5E03\\u5C40\\u5D29\\u4E86\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"el.parentNode.removeChild(el)\"})})})}),\" \\u5220\\u9664\\u8282\\u70B9\\uFF0C\\u800C\\u4E0D\\u662F\\u5355\\u7EAF \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"display: none\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u652F\\u6301\\u6570\\u7EC4\\u683C\\u5F0F\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:`v-permission=\"['admin', 'editor']\"`})})})}),\"\\uFF09\\uFF0C\\u7075\\u6D3B\\u6027\\u76F4\\u63A5\\u62C9\\u6EE1\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u8FDB\\u9636\\u6307\\u4EE4--modifier\",children:(0,n.jsx)(e.a,{href:\"#4-\\u8FDB\\u9636\\u6307\\u4EE4--modifier\",children:\"4. \\u8FDB\\u9636\\uFF1A\\u6307\\u4EE4 + Modifier\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u60F3\\u8BA9\\u6307\\u4EE4\\u66F4\\u9177\\u70AB\\uFF1F\\u52A0\\u4E2A\\u4FEE\\u9970\\u7B26\\uFF08modifier\\uFF09\\u8BD5\\u8BD5\\u3002\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"v-permission.disable\"})})})}),\"\\uFF0C\\u65E0\\u6743\\u9650\\u65F6\\u7981\\u7528\\u6309\\u94AE\\u800C\\u4E0D\\u662F\\u9690\\u85CF\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"mounted\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(el, binding) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" userStore\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useUserStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" requiredRole\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" binding.value;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" userRole\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" userStore.role;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"requiredRole.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"includes\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(userRole)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (binding.modifiers.disable) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      el.disabled \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      el.classList.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'disabled'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u52A0\\u4E2A\\u6837\\u5F0F\\uFF0C\\u7F8E\\u89C2\\u4E00\\u70B9\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      el.style.display \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'none'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"},\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"vue\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"vue\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" v-permission\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"disable\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"[\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'admin'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u5220\\u9664\\u7528\\u6237</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Tips:\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u4FEE\\u9970\\u7B26\\u662F\\u4E2A\\u9690\\u85CF\\u5F69\\u86CB\\uFF0C\\u80FD\\u8BA9\\u6307\\u4EE4\\u590D\\u7528\\u6027\\u7FFB\\u500D\\uFF0C\\u8BB0\\u5F97\\u5728\\u56E2\\u961F\\u91CC\\u63A8\\u5E7F\\u4E00\\u4E0B\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u52A0\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"console.warn\"})})})}),\" \\u63D0\\u793A\\u65E0\\u6743\\u9650\\u64CD\\u4F5C\\uFF0C\\u8C03\\u8BD5\\u65F6\\u80FD\\u6551\\u547D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E09\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u8E29\\u5751\\u6307\\u5357\",children:(0,n.jsx)(e.a,{href:\"#\\u4E09\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u8E29\\u5751\\u6307\\u5357\",children:\"\\u4E09\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u8E29\\u5751\\u6307\\u5357\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u52A8\\u6001\\u8DEF\\u7531\\u4E0E\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u5982\\u4F55\\u914D\\u5408\",children:(0,n.jsx)(e.a,{href:\"#1-\\u52A8\\u6001\\u8DEF\\u7531\\u4E0E\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u5982\\u4F55\\u914D\\u5408\",children:\"1. \\u52A8\\u6001\\u8DEF\\u7531\\u4E0E\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u5982\\u4F55\\u914D\\u5408\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u52A8\\u6001\\u8DEF\\u7531\\u7BA1\\u9875\\u9762\\u7EA7\\u6743\\u9650\\uFF0C\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u7BA1\\u7EC4\\u4EF6\\u7EA7\\u6743\\u9650\\u3002\\u4E24\\u8005\\u7684\\u5173\\u7CFB\\u5C31\\u50CF\\u201C\\u5927\\u95E8\\u201D\\u548C\\u201C\\u623F\\u95F4\\u9501\\u201D\\uFF1A\\u8DEF\\u7531\\u5B88\\u4F4F\\u5165\\u53E3\\uFF0C\\u6307\\u4EE4\\u63A7\\u5236\\u7EC6\\u8282\\u3002\\u6BD4\\u5982\\uFF0C\\u7528\\u6237\\u80FD\\u8FDB \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"/dashboard\"})})})}),\"\\uFF0C\\u4F46\\u770B\\u4E0D\\u5230\\u201C\\u5220\\u9664\\u201D\\u6309\\u94AE\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8DEF\\u7531\\u8868\\u4E2D\\u52A0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"meta.perms\"})})})}),\" \\u5B57\\u6BB5\\uFF0C\\u8BB0\\u5F55\\u9875\\u9762\\u7EA7\\u6743\\u9650\\uFF0C\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u590D\\u7528\\u8FD9\\u90E8\\u5206\\u903B\\u8F91\\uFF0C\\u51CF\\u5C11\\u91CD\\u590D\\u4EE3\\u7801\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7528\\u4E00\\u4E2A\\u5168\\u5C40 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"permission.js\"})})})}),\" \\u5DE5\\u5177\\u51FD\\u6570\\uFF0C\\u7EDF\\u4E00\\u6821\\u9A8C\\u903B\\u8F91\\uFF0C\\u8DEF\\u7531\\u548C\\u6307\\u4EE4\\u90FD\\u8C03\\u7528\\u5B83\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u6027\\u80FD\\u4F18\\u5316\",children:(0,n.jsx)(e.a,{href:\"#2-\\u6027\\u80FD\\u4F18\\u5316\",children:\"2. \\u6027\\u80FD\\u4F18\\u5316\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8DEF\\u7531\\u61D2\\u52A0\\u8F7D\"}),\"\\uFF1A\\u4E0A\\u9762\\u63D0\\u5230\\u8FC7\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u7B49\\u5F97\\u82B1\\u513F\\u90FD\\u8C22\\u4E86\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F13\\u5B58\\u6743\\u9650\\u6570\\u636E\"}),\"\\uFF1A\\u7528 localStorage \\u6216 IndexedDB \\u5B58\\u8DEF\\u7531\\u8868\\u548C\\u89D2\\u8272\\u4FE1\\u606F\\uFF0C\\u51CF\\u5C11\\u91CD\\u590D\\u8BF7\\u6C42\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9632\\u6296\\u6821\\u9A8C\"}),\"\\uFF1A\\u9891\\u7E41\\u5207\\u6362\\u9875\\u9762\\u65F6\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"beforeEach\"})})})}),\" \\u91CC\\u7684\\u6743\\u9650\\u6821\\u9A8C\\u53EF\\u4EE5\\u7528\\u9632\\u6296\\uFF0C\\u7701\\u70B9 CPU\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5E38\\u89C1\\u5751\\u4E0E\\u89E3\\u51B3\\u529E\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5E38\\u89C1\\u5751\\u4E0E\\u89E3\\u51B3\\u529E\\u6CD5\",children:\"3. \\u5E38\\u89C1\\u5751\\u4E0E\\u89E3\\u51B3\\u529E\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5751 1\\uFF1A\\u52A8\\u6001\\u8DEF\\u7531\\u5237\\u65B0\\u540E\\u4E22\\u5931\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u89E3\\u51B3\\uFF1A\\u6BCF\\u6B21\\u5237\\u65B0\\u65F6\\u91CD\\u65B0\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"addDynamicRoutes\"})})})}),\"\\uFF0C\\u642D\\u914D \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"beforeEach\"})})})}),\" \\u7684\\u91CD\\u65B0\\u5BFC\\u822A\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5751 2\\uFF1A\\u6307\\u4EE4\\u4E0D\\u751F\\u6548\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u89E3\\u51B3\\uFF1A\\u68C0\\u67E5\\u6307\\u4EE4\\u662F\\u5426\\u6B63\\u786E\\u6CE8\\u518C\\uFF0C\\u522B\\u5FD8\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"app.directive\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5751 3\\uFF1A\\u540E\\u7AEF\\u8DEF\\u7531\\u8868\\u4E0D\\u89C4\\u8303\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u89E3\\u51B3\\uFF1A\\u524D\\u7AEF\\u52A0\\u4E2A\\u9002\\u914D\\u5C42\\uFF0C\\u522B\\u6307\\u671B\\u540E\\u7AEF\\u6C38\\u8FDC\\u9760\\u8C31 \\u{1F602}\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u56DB\\u603B\\u7ED3\\u4E0E\\u5F69\\u86CB\",children:(0,n.jsx)(e.a,{href:\"#\\u56DB\\u603B\\u7ED3\\u4E0E\\u5F69\\u86CB\",children:\"\\u56DB\\u3001\\u603B\\u7ED3\\u4E0E\\u5F69\\u86CB\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Vue3 \\u7684\\u52A8\\u6001\\u8DEF\\u7531\\u548C\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u5C31\\u50CF\\u4E00\\u5BF9\\u9EC4\\u91D1\\u642D\\u6863\\uFF0C\\u4E00\\u4E2A\\u7BA1\\u5B8F\\u89C2\\uFF0C\\u4E00\\u4E2A\\u7BA1\\u5FAE\\u89C2\\u3002\\u52A8\\u6001\\u8DEF\\u7531\\u8BA9\\u4F60\\u7075\\u6D3B\\u751F\\u6210\\u5BFC\\u822A\\uFF0C\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\\u8BA9\\u6743\\u9650\\u63A7\\u5236\\u7EC6\\u817B\\u5230\\u50CF\\u7D20\\u7EA7\\u3002\\u52A0\\u4E0A Composition API \\u548C Pinia \\u7684\\u52A0\\u6301\\uFF0C\\u6743\\u9650\\u7BA1\\u7406\\u518D\\u4E5F\\u4E0D\\u662F\\u524D\\u7AEF\\u7684\\u201C\\u8001\\u5927\\u96BE\\u201D\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5F69\\u86CB\\u65F6\\u95F4\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u60F3\\u8BA9\\u4EE3\\u7801\\u66F4\\u6709\\u7075\\u9B42\\uFF1F\\u8BD5\\u8BD5\\u7ED9\\u6743\\u9650\\u6821\\u9A8C\\u52A0\\u70B9\\u5E7D\\u9ED8\\u63D0\\u793A\\uFF0C\\u6BD4\\u5982\\u65E0\\u6743\\u9650\\u65F6\\u5F39\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"alert('\\u5144\\u5F1F\\uFF0C\\u4F60\\u60F3\\u5E72\\u5565\\uFF1F\\u6743\\u9650\\u4E0D\\u591F\\u554A\\uFF01')\"})})})}),\"\\uFF0C\\u7528\\u6237\\u7B11\\u4E86\\uFF0Cbug \\u4E5F\\u5C11\\u4E86\\uFF0C\\u4F55\\u4E50\\u800C\\u4E0D\\u4E3A\\u5462\\uFF1F\\u{1F61C}\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u5E2E\\u4F60\\u5728\\u6743\\u9650\\u63A7\\u5236\\u7684\\u8DEF\\u4E0A\\u5C11\\u8D70\\u5F2F\\u8DEF\\u3002\\u5982\\u679C\\u4F60\\u6709\\u66F4\\u597D\\u7684\\u73A9\\u6CD5\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u5206\\u4EAB\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u8FDB\\u6B65\\uFF01\\u270C\\uFE0F\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return f(x);})();\n;return Component;"
  },
  "_id": "Vue.js/Vue3æƒé™æ§åˆ¶.mdx",
  "_raw": {
    "sourceFilePath": "Vue.js/Vue3æƒé™æ§åˆ¶.mdx",
    "sourceFileName": "Vue3æƒé™æ§åˆ¶.mdx",
    "sourceFileDir": "Vue.js",
    "contentType": "mdx",
    "flattenedPath": "Vue.js/Vue3æƒé™æ§åˆ¶"
  },
  "type": "Post",
  "url": "/blog/Vue.js/Vue3æƒé™æ§åˆ¶"
}
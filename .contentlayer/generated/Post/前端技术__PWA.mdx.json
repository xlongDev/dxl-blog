{
  "title": "PWA æŒ‡å—ï¼šæ‰“é€ ç°ä»£ Web åº”ç”¨",
  "date": "2024-10-29T00:00:00.000Z",
  "description": "æ·±å…¥æ¢ç´¢ Progressive Web Appsï¼ˆPWAï¼‰çš„æ ¸å¿ƒåŸç†ã€æŠ€æœ¯ç»†èŠ‚å’Œæœ€ä½³å®è·µï¼Œå¸¦ä½ ä»é›¶æ‰“é€ ä¸€ä¸ªç°ä»£åŒ–çš„ Web åº”ç”¨ï¼Œå…¼å…· Native App çš„ä½“éªŒå’Œ Web çš„çµæ´»æ€§ã€‚",
  "keywords": "PWA, Progressive Web Apps, Service Worker, Web App Manifest, å‰ç«¯å¼€å‘, ç¦»çº¿ç¼“å­˜, æ€§èƒ½ä¼˜åŒ–, æ¨é€é€šçŸ¥",
  "author": "æ™“é¾™",
  "image": "/images/hero/pwa-guide.jpg",
  "tags": [
    "PWA",
    "å‰ç«¯å¼€å‘",
    "JavaScript",
    "Web æ€§èƒ½"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå¦‚æœä½ æ˜¯ä¸€åå‰ç«¯å¼€å‘è€…ï¼ŒProgressive Web Appsï¼ˆPWAï¼‰å¯èƒ½æ˜¯ä½ èŒä¸šç”Ÿæ¶¯ä¸­çš„ä¸€æ¬¡â€œè¶…çº§è‹±é›„å¼è§‰é†’â€ã€‚å®ƒä¸ä»…èƒ½è®©ä½ çš„ Web åº”ç”¨æ‹¥æœ‰åª²ç¾ Native App çš„ä½“éªŒï¼Œè¿˜èƒ½è®©ä½ åœ¨è€æ¿é¢å‰è‡ªä¿¡åœ°è¯´ï¼šâ€œæ˜¯çš„ï¼Œæˆ‘ä»¬çš„ç½‘ç«™èƒ½åœ¨åœ°é“é‡Œæ²¡ç½‘æ—¶ç…§æ ·ç”¨ï¼â€ ğŸš‡âœ¨ è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ æ·±å…¥ PWA çš„ä¸–ç•Œï¼Œä»æ ¸å¿ƒåŸç†åˆ°å®æˆ˜æŠ€å·§ï¼Œå†åˆ°ä¸€äº›â€œè„‘æ´å¤§å¼€â€çš„ç±»æ¯”å’Œæœ€ä½³å®è·µï¼Œç¡®ä¿ä½ è¯»å®Œåèƒ½èƒ¸æœ‰æˆç«¹åœ°æ‰“é€ å±äºè‡ªå·±çš„ PWAã€‚\n\n## ä»€ä¹ˆæ˜¯ PWAï¼Ÿä»â€œæ¦‚å¿µâ€åˆ°â€œè¶…èƒ½åŠ›â€\n\nPWAï¼Œå…¨ç§° Progressive Web Appsï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯â€œæ¸è¿›å¼ Web åº”ç”¨â€ã€‚å¬èµ·æ¥æœ‰ç‚¹å­¦æœ¯ï¼Œä½†å…¶å®å®ƒæ›´åƒæ˜¯ Web å¼€å‘ä¸­çš„â€œå˜å½¢é‡‘åˆšâ€ï¼šæ—¢æœ‰ Web çš„çµæ´»æ€§å’Œè·¨å¹³å°ç‰¹æ€§ï¼Œåˆèƒ½é€šè¿‡ç°ä»£æµè§ˆå™¨ API è·å¾—ç¦»çº¿æ”¯æŒã€æ¨é€é€šçŸ¥å’Œæ¡Œé¢å®‰è£…ç­‰â€œåŸç”Ÿåº”ç”¨â€æ‰æœ‰çš„è¶…èƒ½åŠ›ã€‚\n\nPWA çš„ä¸‰å¤§æ”¯æŸ±æ˜¯ï¼š\n1. **Service Worker**ï¼šåå°è¿è¡Œçš„â€œéšå½¢åŠ©æ‰‹â€ï¼Œè´Ÿè´£ç¼“å­˜ã€ç¦»çº¿æ”¯æŒå’Œæ¨é€é€šçŸ¥ã€‚\n2. **Web App Manifest**ï¼šåº”ç”¨çš„â€œèº«ä»½è¯â€ï¼Œå®šä¹‰å›¾æ ‡ã€åç§°å’Œå¯åŠ¨æ–¹å¼ã€‚\n3. **HTTPS**ï¼šå®‰å…¨çš„â€œä¼ é€é—¨â€ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“ä¸è¢«åŠ«æŒã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼ŒPWA å°±åƒæ˜¯ Web ä¸–ç•Œçš„â€œèœ˜è››ä¾ â€ï¼šå¹³æ—¶ä½è°ƒåœ°æ··è¿¹äºæ™®é€šç½‘ç«™ä¸­ï¼Œä½†å…³é”®æ—¶åˆ»èƒ½ç”©å‡ºâ€œç¦»çº¿ç¼“å­˜â€å’Œâ€œæ¨é€é€šçŸ¥â€è¿™æ ·çš„ç»æŠ€ï¼Œæ‹¯æ•‘ç”¨æˆ·ä½“éªŒã€‚ğŸ•·ï¸\n\n## æ ¸å¿ƒåŸç†ï¼šä»â€œå¹•åâ€åˆ°â€œå°å‰â€\n\n### 1. Service Workerï¼šPWA çš„çµé­‚\n\nService Worker æ˜¯ PWA çš„æ ¸å¿ƒï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æµè§ˆå™¨åå°çš„ JavaScript æ–‡ä»¶ï¼Œä¸ä¸»çº¿ç¨‹åˆ†å¼€ï¼Œä¸ä¼šé˜»å¡ UIã€‚å®ƒçš„â€œè¶…èƒ½åŠ›â€åŒ…æ‹¬æ‹¦æˆªç½‘ç»œè¯·æ±‚ã€ç®¡ç†ç¼“å­˜å’Œå¤„ç†æ¨é€äº‹ä»¶ã€‚\n\n#### å·¥ä½œåŸç†\næƒ³è±¡ Service Worker æ˜¯ä¸€ä¸ªâ€œå¿«é€’å°å“¥â€ï¼š\n- **æ³¨å†Œ**ï¼šé€šè¿‡ `navigator.serviceWorker.register('/sw.js')` é›‡ä½£å®ƒã€‚\n- **å®‰è£…**ï¼šå®ƒä¼šè§¦å‘ `install` äº‹ä»¶ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œé¢„ç¼“å­˜å…³é”®èµ„æºã€‚\n- **æ¿€æ´»**ï¼šè§¦å‘ `activate` äº‹ä»¶ï¼Œæ¸…ç†æ—§ç¼“å­˜ï¼Œå‡†å¤‡æ¥ç®¡ã€‚\n- **æ‹¦æˆª**ï¼šé€šè¿‡ `fetch` äº‹ä»¶ï¼Œå®ƒèƒ½å†³å®šæ˜¯ç›´æ¥ä»ç½‘ç»œæ‹¿æ•°æ®ï¼Œè¿˜æ˜¯ä»ç¼“å­˜ä¸­â€œç§’é€â€ç»™ä½ ã€‚\n\n#### ç¤ºä¾‹ä»£ç \n```javascript\n// sw.js\nself.addEventListener('install', (event) => {\n  event.waitUntil(\n    caches.open('my-cache-v1').then((cache) => {\n      return cache.addAll([\n        '/',\n        '/styles.css',\n        '/app.js',\n        '/images/logo.png',\n      ]);\n    })\n  );\n});\n\nself.addEventListener('fetch', (event) => {\n  event.respondWith(\n    caches.match(event.request).then((response) => {\n      return response || fetch(event.request);\n    })\n  );\n});\n```\n\nåœ¨ä¸»çº¿ç¨‹ä¸­æ³¨å†Œï¼š\n```javascript\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', () => {\n    navigator.serviceWorker.register('/sw.js')\n      .then((reg) => console.log('Service Worker æ³¨å†ŒæˆåŠŸï¼ğŸ‰', reg))\n      .catch((err) => console.error('æ³¨å†Œå¤±è´¥ ğŸ˜¢', err));\n  });\n}\n```\n\n#### æœ€ä½³å®è·µ\n- **ç‰ˆæœ¬æ§åˆ¶ç¼“å­˜**ï¼šæ¯æ¬¡æ›´æ–°èµ„æºæ—¶ï¼Œæ”¹ç¼“å­˜åç§°ï¼ˆå¦‚ `my-cache-v2`ï¼‰ï¼Œé¿å…æ—§ç¼“å­˜å¹²æ‰°æ–°å†…å®¹ã€‚\n- **å¤±è´¥ä¼˜å…ˆç½‘ç»œç­–ç•¥**ï¼šå…ˆå°è¯•ç½‘ç»œè¯·æ±‚ï¼Œå¤±è´¥æ—¶ fallback åˆ°ç¼“å­˜ï¼Œé€‚åˆåŠ¨æ€å†…å®¹ã€‚\n- **é¢„ç¼“å­˜å…³é”®èµ„æº**ï¼šHTMLã€CSS å’Œæ ¸å¿ƒ JS æ–‡ä»¶æ˜¯â€œç¬¬ä¸€æ¢¯é˜Ÿâ€ï¼Œç¡®ä¿ç¦»çº¿æ—¶ä¹Ÿèƒ½è·‘èµ·æ¥ã€‚\n\n### 2. Web App Manifestï¼šåº”ç”¨çš„â€œé—¨é¢æ‹…å½“â€\n\nWeb App Manifest æ˜¯ä¸€ä¸ª JSON æ–‡ä»¶ï¼Œå‘Šè¯‰æµè§ˆå™¨ä½ çš„åº”ç”¨å«ä»€ä¹ˆã€å›¾æ ‡æ˜¯ä»€ä¹ˆã€å¯åŠ¨æ—¶æ˜¯å…¨å±è¿˜æ˜¯çª—å£æ¨¡å¼ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯ PWA çš„â€œèº«ä»½è¯â€ã€‚\n\n#### ç¤ºä¾‹\n```json\n{\n  \"name\": \"æ™“é¾™çš„ PWA\",\n  \"short_name\": \"æ™“é¾™PWA\",\n  \"start_url\": \"/index.html\",\n  \"display\": \"standalone\",\n  \"background_color\": \"#ffffff\",\n  \"theme_color\": \"#007bff\",\n  \"icons\": [\n    {\n      \"src\": \"/images/icon-192.png\",\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/images/icon-512.png\",\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\"\n    }\n  ]\n}\n```\n\nåœ¨ HTML ä¸­å¼•å…¥ï¼š\n```html\n<link rel=\"manifest\" href=\"/manifest.json\">\n```\n\n#### ç±»æ¯”\nManifest å°±åƒæ˜¯ä½ åœ¨ç¤¾äº¤åœºåˆé€’å‡ºçš„åç‰‡ï¼šåå­—å¾—å“äº®ï¼ˆ`name`ï¼‰ã€å¤´åƒå¾—å¸…æ°”ï¼ˆ`icons`ï¼‰ã€æ°”è´¨å¾—ç‹¬ç‰¹ï¼ˆ`theme_color`ï¼‰ã€‚ç”¨æˆ·çœ‹åˆ°åä¼šæƒ³ï¼šâ€œè¿™åº”ç”¨çœ‹èµ·æ¥é è°±ï¼Œè£…åˆ°æ¡Œé¢è¯•è¯•ï¼â€\n\n#### æœ€ä½³å®è·µ\n- **å¤šå°ºå¯¸å›¾æ ‡**ï¼šæä¾› 192x192 å’Œ 512x512 çš„å›¾æ ‡ï¼Œé€‚é…ä¸åŒè®¾å¤‡ã€‚\n- **è®¾ç½® `display`**ï¼šç”¨ `standalone` è®©åº”ç”¨åƒ Native App ä¸€æ ·æ— æµè§ˆå™¨ UIã€‚\n- **åŠ¨æ€ç”Ÿæˆ**ï¼šå¦‚æœä½ çš„åº”ç”¨æ”¯æŒå¤šè¯­è¨€ï¼Œå¯ä»¥ç”¨åç«¯åŠ¨æ€ç”Ÿæˆ `manifest.json`ã€‚\n\n### 3. HTTPSï¼šå®‰å…¨çš„åŸºçŸ³\n\næ²¡æœ‰ HTTPSï¼ŒService Worker å°±æ²¡æ³•è·‘ï¼ˆæœ¬åœ°å¼€å‘é™¤å¤–ï¼‰ã€‚å®ƒä¸ä»…æ˜¯å®‰å…¨è¦æ±‚ï¼Œæ›´æ˜¯ç”¨æˆ·ä¿¡ä»»çš„è±¡å¾ã€‚ç±»æ¯”ä¸€ä¸‹ï¼ŒHTTPS å°±åƒæ˜¯ PWA çš„â€œç›”ç”²â€ï¼Œæ²¡æœ‰å®ƒï¼Œä½ çš„â€œè¶…çº§è‹±é›„â€è¿ä¸Šæˆ˜åœºçš„èµ„æ ¼éƒ½æ²¡æœ‰ã€‚\n\n#### å¦‚ä½•å®ç°\n- ç”¨ Letâ€™s Encrypt å…è´¹ç”³è¯·è¯ä¹¦ã€‚\n- åœ¨å¼€å‘æ—¶å¯ä»¥ç”¨ `localhost` æµ‹è¯•ï¼Œç”Ÿäº§ç¯å¢ƒåŠ¡å¿…éƒ¨ç½² HTTPSã€‚\n\n## å®æˆ˜ï¼šä» 0 åˆ° 1 æ‰“é€ ä¸€ä¸ª PWA\n\nè®©æˆ‘ä»¬åŠ¨æ‰‹å†™ä¸€ä¸ªç®€å•çš„ PWAï¼šä¸€ä¸ªæ”¯æŒç¦»çº¿çš„å¾…åŠäº‹é¡¹åº”ç”¨ã€‚\n\n### 1. é¡¹ç›®ç»“æ„\n```\nmy-pwa/\nâ”œâ”€â”€ index.html\nâ”œâ”€â”€ styles.css\nâ”œâ”€â”€ app.js\nâ”œâ”€â”€ sw.js\nâ”œâ”€â”€ manifest.json\nâ””â”€â”€ images/\n    â”œâ”€â”€ icon-192.png\n    â””â”€â”€ icon-512.png\n```\n\n### 2. HTML åŸºç¡€\n```html\n<!DOCTYPE html>\n<html lang=\"zh\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>æ™“é¾™çš„å¾…åŠäº‹é¡¹</title>\n  <link rel=\"manifest\" href=\"/manifest.json\">\n  <link rel=\"stylesheet\" href=\"/styles.css\">\n</head>\n<body>\n  <h1>å¾…åŠäº‹é¡¹</h1>\n  <input type=\"text\" id=\"todoInput\" placeholder=\"è¾“å…¥ä»»åŠ¡...\">\n  <button onclick=\"addTodo()\">æ·»åŠ </button>\n  <ul id=\"todoList\"></ul>\n  <script src=\"/app.js\"></script>\n</body>\n</html>\n```\n\n### 3. JavaScript é€»è¾‘\n```javascript\n// app.js\nconst todoInput = document.getElementById('todoInput');\nconst todoList = document.getElementById('todoList');\n\nfunction addTodo() {\n  const value = todoInput.value.trim();\n  if (value) {\n    const li = document.createElement('li');\n    li.textContent = value;\n    todoList.appendChild(li);\n    todoInput.value = '';\n  }\n}\n\n// æ³¨å†Œ Service Worker\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/sw.js')\n    .then(() => console.log('Service Worker å·²å°±ä½ï¼ğŸš€'))\n    .catch((err) => console.error('Service Worker å‡ºå¸ˆä¸åˆ© ğŸ˜­', err));\n}\n```\n\n### 4. Service Worker\n```javascript\n// sw.js\nconst CACHE_NAME = 'todo-cache-v1';\nconst urlsToCache = [\n  '/',\n  '/index.html',\n  '/styles.css',\n  '/app.js',\n  '/images/icon-192.png',\n  '/images/icon-512.png',\n];\n\nself.addEventListener('install', (event) => {\n  event.waitUntil(\n    caches.open(CACHE_NAME).then((cache) => {\n      console.log('ç¼“å­˜åˆå§‹åŒ–ä¸­...');\n      return cache.addAll(urlsToCache);\n    })\n  );\n});\n\nself.addEventListener('fetch', (event) => {\n  event.respondWith(\n    caches.match(event.request).then((response) => {\n      return response || fetch(event.request).then((networkResponse) => {\n        return caches.open(CACHE_NAME).then((cache) => {\n          cache.put(event.request, networkResponse.clone());\n          return networkResponse;\n        });\n      });\n    })\n  );\n});\n\nself.addEventListener('activate', (event) => {\n  const cacheWhitelist = [CACHE_NAME];\n  event.waitUntil(\n    caches.keys().then((cacheNames) => {\n      return Promise.all(\n        cacheNames.map((cacheName) => {\n          if (!cacheWhitelist.includes(cacheName)) {\n            return caches.delete(cacheName);\n          }\n        })\n      );\n    })\n  );\n});\n```\n\n### 5. Manifest æ–‡ä»¶\n```json\n{\n  \"name\": \"æ™“é¾™çš„å¾…åŠäº‹é¡¹\",\n  \"short_name\": \"å¾…åŠ\",\n  \"start_url\": \"/index.html\",\n  \"display\": \"standalone\",\n  \"background_color\": \"#f0f0f0\",\n  \"theme_color\": \"#007bff\",\n  \"icons\": [\n    {\n      \"src\": \"/images/icon-192.png\",\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/images/icon-512.png\",\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\"\n    }\n  ]\n}\n```\n\n### 6. éƒ¨ç½²ä¸æµ‹è¯•\nç”¨ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ï¼ˆå¦‚ `npx serve`ï¼‰è·‘èµ·æ¥ï¼Œæ‰“å¼€ Chrome DevTools çš„ Application é¢æ¿ï¼Œæ£€æŸ¥ Service Worker å’Œ Manifest æ˜¯å¦ç”Ÿæ•ˆã€‚ç¦»çº¿æ¨¡å¼ä¸‹åˆ·æ–°ï¼Œä¾ç„¶èƒ½çœ‹åˆ°é¡µé¢ï¼Ÿæ­å–œï¼Œä½ çš„ PWA å·²å°±ä½ï¼ğŸ‰\n\n## è¿›é˜¶æŠ€å·§ï¼šè®© PWA æ›´â€œå¼ºâ€\n\n### 1. æ¨é€é€šçŸ¥\næƒ³è®©ç”¨æˆ·åœ¨åº”ç”¨å…³é—­æ—¶ä¹Ÿèƒ½æ”¶åˆ°æé†’ï¼Ÿç”¨ `Push API` å’Œ Service Worker æå®šï¼š\n```javascript\n// sw.js\nself.addEventListener('push', (event) => {\n  const data = event.data.json();\n  const options = {\n    body: data.body,\n    icon: '/images/icon-192.png',\n  };\n  event.waitUntil(\n    self.registration.showNotification(data.title, options)\n  );\n});\n```\n\nåœ¨ä¸»çº¿ç¨‹è®¢é˜…æ¨é€ï¼š\n```javascript\nasync function subscribePush() {\n  const registration = await navigator.serviceWorker.ready;\n  const subscription = await registration.pushManager.subscribe({\n    userVisibleOnly: true,\n    applicationServerKey: 'ä½ çš„å…¬é’¥',\n  });\n  console.log('æ¨é€è®¢é˜…æˆåŠŸï¼', subscription);\n}\n```\n\n### 2. åå°åŒæ­¥\nç”¨æˆ·æ²¡ç½‘æ—¶ä¹Ÿèƒ½æ·»åŠ å¾…åŠï¼Ÿç”¨ `SyncManager`ï¼š\n```javascript\n// sw.js\nself.addEventListener('sync', (event) => {\n  if (event.tag === 'sync-todos') {\n    event.waitUntil(syncTodosToServer());\n  }\n});\n\nasync function syncTodosToServer() {\n  // æ¨¡æ‹ŸåŒæ­¥é€»è¾‘\n  console.log('åŒæ­¥å¾…åŠäº‹é¡¹åˆ°æœåŠ¡å™¨...');\n}\n```\n\nä¸»çº¿ç¨‹è§¦å‘ï¼š\n```javascript\nnavigator.serviceWorker.ready.then((reg) => {\n  reg.sync.register('sync-todos');\n});\n```\n\n### 3. æ€§èƒ½ä¼˜åŒ–\n- **æ‡’åŠ è½½å›¾ç‰‡**ï¼šç”¨ Intersection Observer å»¶è¿ŸåŠ è½½éè§†å£å†…çš„å›¾ç‰‡ã€‚\n- **å‹ç¼©èµ„æº**ï¼šç”¨ Gzip æˆ– Brotli å‹ç¼© JS å’Œ CSSã€‚\n- **CDN åŠ é€Ÿ**ï¼šé™æ€èµ„æºæ‰”åˆ° CDN ä¸Šï¼Œå‡å°‘åŠ è½½æ—¶é—´ã€‚\n\n## å¸¸è§é—®é¢˜ä¸â€œå‘â€è§„é¿\n\n1. **Service Worker ä¸ç”Ÿæ•ˆï¼Ÿ**\n   - æ£€æŸ¥è·¯å¾„ï¼š`/sw.js` å¿…é¡»åœ¨æ ¹ç›®å½•æˆ–æ˜ç¡®ä½œç”¨åŸŸã€‚\n   - ç¡®ä¿ HTTPS æˆ–æœ¬åœ°ç¯å¢ƒã€‚\n\n2. **ç¼“å­˜æ›´æ–°æ…¢ï¼Ÿ**\n   - ç”¨ç‰ˆæœ¬åŒ–çš„ç¼“å­˜åç§°ï¼Œå¹¶åœ¨ `activate` äº‹ä»¶æ¸…ç†æ—§ç¼“å­˜ã€‚\n\n3. **ç”¨æˆ·ä¸è£…åº”ç”¨ï¼Ÿ**\n   - åŠ ä¸ªâ€œæ·»åŠ åˆ°ä¸»å±å¹•â€æç¤ºï¼Œç”¨ `beforeinstallprompt` äº‹ä»¶ï¼š\n   ```javascript\n   let deferredPrompt;\n   window.addEventListener('beforeinstallprompt', (e) => {\n     e.preventDefault();\n     deferredPrompt = e;\n     showInstallButton();\n   });\n\n   function showInstallButton() {\n     const btn = document.createElement('button');\n     btn.textContent = 'å®‰è£…åˆ°æ¡Œé¢';\n     btn.onclick = () => deferredPrompt.prompt();\n     document.body.appendChild(btn);\n   }\n   ```\n\n## æˆ‘çš„æ„Ÿæ‚Ÿï¼šPWA æ˜¯æœªæ¥çš„â€œæ•²é—¨ç –â€\n\nPWA ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼ã€‚å®ƒè®©æˆ‘ä»¬é‡æ–°æ€è€ƒ Web åº”ç”¨çš„è¾¹ç•Œï¼šä¸ºä»€ä¹ˆä¸èƒ½åƒ Native App ä¸€æ ·æµç•…ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½ç¦»çº¿ä¹Ÿèƒ½ç”¨ï¼Ÿå®ƒå°±åƒæ˜¯ Web å¼€å‘ä¸­çš„â€œç‘å£«å†›åˆ€â€ï¼ŒåŠŸèƒ½å¤šåˆ°è®©äººæƒŠå–œï¼Œåˆå®ç”¨åˆ°è®©äººç¦»ä¸å¼€ã€‚\n\nå†™åˆ°è¿™é‡Œï¼Œæˆ‘ä¸ç¦æƒ³è°ƒä¾ƒä¸€å¥ï¼šå¦‚æœ PWA æ˜¯è¶…çº§è‹±é›„ï¼Œé‚£ Service Worker å°±æ˜¯å®ƒçš„â€œé’¢é“ä¾ æˆ˜ç”²â€ï¼ŒManifest æ˜¯â€œç¾å›½é˜Ÿé•¿ç›¾ç‰Œâ€ï¼ŒHTTPS åˆ™æ˜¯â€œé›·ç¥ä¹‹é”¤â€â€”â€”ç¼ºä¸€ä¸å¯ï¼Œç»„åˆèµ·æ¥æ— æ•Œã€‚ğŸ˜‚\n\nå¸Œæœ›è¿™ç¯‡æŒ‡å—èƒ½å¸®ä½ å¼€å¯ PWA ä¹‹æ—…ã€‚å¦‚æœæœ‰ç–‘é—®ï¼Œéšæ—¶ç•™è¨€ï¼Œæˆ‘ä¼šå°½åŠ›è§£ç­”ã€‚å»å§ï¼Œå‰ç«¯è‹±é›„ï¼Œæ‰“é€ ä½ çš„ PWA å®‡å®™ï¼ğŸš€\n\n---",
    "code": "var Component=(()=>{var E=Object.create;var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var B=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),u=(e,l)=>{for(var r in l)a(e,r,{get:l[r],enumerable:!0})},i=(e,l,r,s)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let c of y(l))!g.call(e,c)&&c!==r&&a(e,c,{get:()=>l[c],enumerable:!(s=p(l,c))||s.enumerable});return e};var f=(e,l,r)=>(r=e!=null?E(F(e)):{},i(l||!e||!e.__esModule?a(r,\"default\",{value:e,enumerable:!0}):r,e)),m=e=>i(a({},\"__esModule\",{value:!0}),e);var o=B((k,d)=>{d.exports=_jsx_runtime});var b={};u(b,{default:()=>h,frontmatter:()=>v});var n=f(o()),v={type:\"Post\",title:\"PWA \\u6307\\u5357\\uFF1A\\u6253\\u9020\\u73B0\\u4EE3 Web \\u5E94\\u7528\",date:\"2024-10-29\",description:\"\\u6DF1\\u5165\\u63A2\\u7D22 Progressive Web Apps\\uFF08PWA\\uFF09\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u3001\\u6280\\u672F\\u7EC6\\u8282\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u4ECE\\u96F6\\u6253\\u9020\\u4E00\\u4E2A\\u73B0\\u4EE3\\u5316\\u7684 Web \\u5E94\\u7528\\uFF0C\\u517C\\u5177 Native App \\u7684\\u4F53\\u9A8C\\u548C Web \\u7684\\u7075\\u6D3B\\u6027\\u3002\",keywords:\"PWA, Progressive Web Apps, Service Worker, Web App Manifest, \\u524D\\u7AEF\\u5F00\\u53D1, \\u79BB\\u7EBF\\u7F13\\u5B58, \\u6027\\u80FD\\u4F18\\u5316, \\u63A8\\u9001\\u901A\\u77E5\",author:\"\\u6653\\u9F99\",image:\"/images/hero/pwa-guide.jpg\",tags:[\"PWA\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"JavaScript\",\"Web \\u6027\\u80FD\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function t(e){let l={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.p,{children:\"\\u5982\\u679C\\u4F60\\u662F\\u4E00\\u540D\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0CProgressive Web Apps\\uFF08PWA\\uFF09\\u53EF\\u80FD\\u662F\\u4F60\\u804C\\u4E1A\\u751F\\u6DAF\\u4E2D\\u7684\\u4E00\\u6B21\\u201C\\u8D85\\u7EA7\\u82F1\\u96C4\\u5F0F\\u89C9\\u9192\\u201D\\u3002\\u5B83\\u4E0D\\u4EC5\\u80FD\\u8BA9\\u4F60\\u7684 Web \\u5E94\\u7528\\u62E5\\u6709\\u5AB2\\u7F8E Native App \\u7684\\u4F53\\u9A8C\\uFF0C\\u8FD8\\u80FD\\u8BA9\\u4F60\\u5728\\u8001\\u677F\\u9762\\u524D\\u81EA\\u4FE1\\u5730\\u8BF4\\uFF1A\\u201C\\u662F\\u7684\\uFF0C\\u6211\\u4EEC\\u7684\\u7F51\\u7AD9\\u80FD\\u5728\\u5730\\u94C1\\u91CC\\u6CA1\\u7F51\\u65F6\\u7167\\u6837\\u7528\\uFF01\\u201D \\u{1F687}\\u2728 \\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165 PWA \\u7684\\u4E16\\u754C\\uFF0C\\u4ECE\\u6838\\u5FC3\\u539F\\u7406\\u5230\\u5B9E\\u6218\\u6280\\u5DE7\\uFF0C\\u518D\\u5230\\u4E00\\u4E9B\\u201C\\u8111\\u6D1E\\u5927\\u5F00\\u201D\\u7684\\u7C7B\\u6BD4\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u786E\\u4FDD\\u4F60\\u8BFB\\u5B8C\\u540E\\u80FD\\u80F8\\u6709\\u6210\\u7AF9\\u5730\\u6253\\u9020\\u5C5E\\u4E8E\\u81EA\\u5DF1\\u7684 PWA\\u3002\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4EC0\\u4E48\\u662F-pwa\\u4ECE\\u6982\\u5FF5\\u5230\\u8D85\\u80FD\\u529B\",children:(0,n.jsx)(l.a,{href:\"#\\u4EC0\\u4E48\\u662F-pwa\\u4ECE\\u6982\\u5FF5\\u5230\\u8D85\\u80FD\\u529B\",children:\"\\u4EC0\\u4E48\\u662F PWA\\uFF1F\\u4ECE\\u201C\\u6982\\u5FF5\\u201D\\u5230\\u201C\\u8D85\\u80FD\\u529B\\u201D\"})}),`\n`,(0,n.jsx)(l.p,{children:\"PWA\\uFF0C\\u5168\\u79F0 Progressive Web Apps\\uFF0C\\u7FFB\\u8BD1\\u6210\\u4E2D\\u6587\\u5C31\\u662F\\u201C\\u6E10\\u8FDB\\u5F0F Web \\u5E94\\u7528\\u201D\\u3002\\u542C\\u8D77\\u6765\\u6709\\u70B9\\u5B66\\u672F\\uFF0C\\u4F46\\u5176\\u5B9E\\u5B83\\u66F4\\u50CF\\u662F Web \\u5F00\\u53D1\\u4E2D\\u7684\\u201C\\u53D8\\u5F62\\u91D1\\u521A\\u201D\\uFF1A\\u65E2\\u6709 Web \\u7684\\u7075\\u6D3B\\u6027\\u548C\\u8DE8\\u5E73\\u53F0\\u7279\\u6027\\uFF0C\\u53C8\\u80FD\\u901A\\u8FC7\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668 API \\u83B7\\u5F97\\u79BB\\u7EBF\\u652F\\u6301\\u3001\\u63A8\\u9001\\u901A\\u77E5\\u548C\\u684C\\u9762\\u5B89\\u88C5\\u7B49\\u201C\\u539F\\u751F\\u5E94\\u7528\\u201D\\u624D\\u6709\\u7684\\u8D85\\u80FD\\u529B\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"PWA \\u7684\\u4E09\\u5927\\u652F\\u67F1\\u662F\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"Service Worker\"}),\"\\uFF1A\\u540E\\u53F0\\u8FD0\\u884C\\u7684\\u201C\\u9690\\u5F62\\u52A9\\u624B\\u201D\\uFF0C\\u8D1F\\u8D23\\u7F13\\u5B58\\u3001\\u79BB\\u7EBF\\u652F\\u6301\\u548C\\u63A8\\u9001\\u901A\\u77E5\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"Web App Manifest\"}),\"\\uFF1A\\u5E94\\u7528\\u7684\\u201C\\u8EAB\\u4EFD\\u8BC1\\u201D\\uFF0C\\u5B9A\\u4E49\\u56FE\\u6807\\u3001\\u540D\\u79F0\\u548C\\u542F\\u52A8\\u65B9\\u5F0F\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"HTTPS\"}),\"\\uFF1A\\u5B89\\u5168\\u7684\\u201C\\u4F20\\u9001\\u95E8\\u201D\\uFF0C\\u786E\\u4FDD\\u6570\\u636E\\u4F20\\u8F93\\u4E0D\\u88AB\\u52AB\\u6301\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF0CPWA \\u5C31\\u50CF\\u662F Web \\u4E16\\u754C\\u7684\\u201C\\u8718\\u86DB\\u4FA0\\u201D\\uFF1A\\u5E73\\u65F6\\u4F4E\\u8C03\\u5730\\u6DF7\\u8FF9\\u4E8E\\u666E\\u901A\\u7F51\\u7AD9\\u4E2D\\uFF0C\\u4F46\\u5173\\u952E\\u65F6\\u523B\\u80FD\\u7529\\u51FA\\u201C\\u79BB\\u7EBF\\u7F13\\u5B58\\u201D\\u548C\\u201C\\u63A8\\u9001\\u901A\\u77E5\\u201D\\u8FD9\\u6837\\u7684\\u7EDD\\u6280\\uFF0C\\u62EF\\u6551\\u7528\\u6237\\u4F53\\u9A8C\\u3002\\u{1F577}\\uFE0F\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u6838\\u5FC3\\u539F\\u7406\\u4ECE\\u5E55\\u540E\\u5230\\u53F0\\u524D\",children:(0,n.jsx)(l.a,{href:\"#\\u6838\\u5FC3\\u539F\\u7406\\u4ECE\\u5E55\\u540E\\u5230\\u53F0\\u524D\",children:\"\\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u4ECE\\u201C\\u5E55\\u540E\\u201D\\u5230\\u201C\\u53F0\\u524D\\u201D\"})}),`\n`,(0,n.jsx)(l.h3,{id:\"1-service-workerpwa-\\u7684\\u7075\\u9B42\",children:(0,n.jsx)(l.a,{href:\"#1-service-workerpwa-\\u7684\\u7075\\u9B42\",children:\"1. Service Worker\\uFF1APWA \\u7684\\u7075\\u9B42\"})}),`\n`,(0,n.jsx)(l.p,{children:\"Service Worker \\u662F PWA \\u7684\\u6838\\u5FC3\\uFF0C\\u5B83\\u672C\\u8D28\\u4E0A\\u662F\\u4E00\\u4E2A\\u8FD0\\u884C\\u5728\\u6D4F\\u89C8\\u5668\\u540E\\u53F0\\u7684 JavaScript \\u6587\\u4EF6\\uFF0C\\u4E0E\\u4E3B\\u7EBF\\u7A0B\\u5206\\u5F00\\uFF0C\\u4E0D\\u4F1A\\u963B\\u585E UI\\u3002\\u5B83\\u7684\\u201C\\u8D85\\u80FD\\u529B\\u201D\\u5305\\u62EC\\u62E6\\u622A\\u7F51\\u7EDC\\u8BF7\\u6C42\\u3001\\u7BA1\\u7406\\u7F13\\u5B58\\u548C\\u5904\\u7406\\u63A8\\u9001\\u4E8B\\u4EF6\\u3002\"}),`\n`,(0,n.jsx)(l.h4,{id:\"\\u5DE5\\u4F5C\\u539F\\u7406\",children:(0,n.jsx)(l.a,{href:\"#\\u5DE5\\u4F5C\\u539F\\u7406\",children:\"\\u5DE5\\u4F5C\\u539F\\u7406\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u60F3\\u8C61 Service Worker \\u662F\\u4E00\\u4E2A\\u201C\\u5FEB\\u9012\\u5C0F\\u54E5\\u201D\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6CE8\\u518C\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"navigator.serviceWorker.register('/sw.js')\"})})})}),\" \\u96C7\\u4F63\\u5B83\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5B89\\u88C5\"}),\"\\uFF1A\\u5B83\\u4F1A\\u89E6\\u53D1 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"install\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u4F60\\u53EF\\u4EE5\\u5728\\u8FD9\\u91CC\\u9884\\u7F13\\u5B58\\u5173\\u952E\\u8D44\\u6E90\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6FC0\\u6D3B\"}),\"\\uFF1A\\u89E6\\u53D1 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"activate\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u6E05\\u7406\\u65E7\\u7F13\\u5B58\\uFF0C\\u51C6\\u5907\\u63A5\\u7BA1\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u62E6\\u622A\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"fetch\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u5B83\\u80FD\\u51B3\\u5B9A\\u662F\\u76F4\\u63A5\\u4ECE\\u7F51\\u7EDC\\u62FF\\u6570\\u636E\\uFF0C\\u8FD8\\u662F\\u4ECE\\u7F13\\u5B58\\u4E2D\\u201C\\u79D2\\u9001\\u201D\\u7ED9\\u4F60\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h4,{id:\"\\u793A\\u4F8B\\u4EE3\\u7801\",children:(0,n.jsx)(l.a,{href:\"#\\u793A\\u4F8B\\u4EE3\\u7801\",children:\"\\u793A\\u4F8B\\u4EE3\\u7801\"})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// sw.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'install'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'my-cache-v1'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"cache\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addAll\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"        '/'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"        '/styles.css'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"        '/app.js'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"        '/images/logo.png'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      ]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'fetch'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"respondWith\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"match\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(event.request).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(event.request);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u4E3B\\u7EBF\\u7A0B\\u4E2D\\u6CE8\\u518C\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'serviceWorker'\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" in\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" navigator) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  window.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'load'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    navigator.serviceWorker.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"register\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/sw.js'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reg\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'Service Worker \\u6CE8\\u518C\\u6210\\u529F\\uFF01\\u{1F389}'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", reg))\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6CE8\\u518C\\u5931\\u8D25 \\u{1F622}'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h4,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\",children:(0,n.jsx)(l.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u7248\\u672C\\u63A7\\u5236\\u7F13\\u5B58\"}),\"\\uFF1A\\u6BCF\\u6B21\\u66F4\\u65B0\\u8D44\\u6E90\\u65F6\\uFF0C\\u6539\\u7F13\\u5B58\\u540D\\u79F0\\uFF08\\u5982 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"my-cache-v2\"})})})}),\"\\uFF09\\uFF0C\\u907F\\u514D\\u65E7\\u7F13\\u5B58\\u5E72\\u6270\\u65B0\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5931\\u8D25\\u4F18\\u5148\\u7F51\\u7EDC\\u7B56\\u7565\"}),\"\\uFF1A\\u5148\\u5C1D\\u8BD5\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF0C\\u5931\\u8D25\\u65F6 fallback \\u5230\\u7F13\\u5B58\\uFF0C\\u9002\\u5408\\u52A8\\u6001\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9884\\u7F13\\u5B58\\u5173\\u952E\\u8D44\\u6E90\"}),\"\\uFF1AHTML\\u3001CSS \\u548C\\u6838\\u5FC3 JS \\u6587\\u4EF6\\u662F\\u201C\\u7B2C\\u4E00\\u68AF\\u961F\\u201D\\uFF0C\\u786E\\u4FDD\\u79BB\\u7EBF\\u65F6\\u4E5F\\u80FD\\u8DD1\\u8D77\\u6765\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"2-web-app-manifest\\u5E94\\u7528\\u7684\\u95E8\\u9762\\u62C5\\u5F53\",children:(0,n.jsx)(l.a,{href:\"#2-web-app-manifest\\u5E94\\u7528\\u7684\\u95E8\\u9762\\u62C5\\u5F53\",children:\"2. Web App Manifest\\uFF1A\\u5E94\\u7528\\u7684\\u201C\\u95E8\\u9762\\u62C5\\u5F53\\u201D\"})}),`\n`,(0,n.jsx)(l.p,{children:\"Web App Manifest \\u662F\\u4E00\\u4E2A JSON \\u6587\\u4EF6\\uFF0C\\u544A\\u8BC9\\u6D4F\\u89C8\\u5668\\u4F60\\u7684\\u5E94\\u7528\\u53EB\\u4EC0\\u4E48\\u3001\\u56FE\\u6807\\u662F\\u4EC0\\u4E48\\u3001\\u542F\\u52A8\\u65F6\\u662F\\u5168\\u5C4F\\u8FD8\\u662F\\u7A97\\u53E3\\u6A21\\u5F0F\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u5B83\\u662F PWA \\u7684\\u201C\\u8EAB\\u4EFD\\u8BC1\\u201D\\u3002\"}),`\n`,(0,n.jsx)(l.h4,{id:\"\\u793A\\u4F8B\",children:(0,n.jsx)(l.a,{href:\"#\\u793A\\u4F8B\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"name\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6653\\u9F99\\u7684 PWA\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"short_name\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6653\\u9F99PWA\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"start_url\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/index.html\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"display\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"standalone\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"background_color\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"#ffffff\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"theme_color\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"#007bff\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"icons\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": [\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"src\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/images/icon-192.png\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"sizes\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"192x192\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"type\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"image/png\"'})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"src\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/images/icon-512.png\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"sizes\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"512x512\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"type\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"image/png\"'})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ]\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728 HTML \\u4E2D\\u5F15\\u5165\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"link\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" rel\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"manifest\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" href\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/manifest.json\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})})})}),`\n`,(0,n.jsx)(l.h4,{id:\"\\u7C7B\\u6BD4\",children:(0,n.jsx)(l.a,{href:\"#\\u7C7B\\u6BD4\",children:\"\\u7C7B\\u6BD4\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"Manifest \\u5C31\\u50CF\\u662F\\u4F60\\u5728\\u793E\\u4EA4\\u573A\\u5408\\u9012\\u51FA\\u7684\\u540D\\u7247\\uFF1A\\u540D\\u5B57\\u5F97\\u54CD\\u4EAE\\uFF08\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"name\"})})})}),\"\\uFF09\\u3001\\u5934\\u50CF\\u5F97\\u5E05\\u6C14\\uFF08\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"icons\"})})})}),\"\\uFF09\\u3001\\u6C14\\u8D28\\u5F97\\u72EC\\u7279\\uFF08\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"theme_color\"})})})}),\"\\uFF09\\u3002\\u7528\\u6237\\u770B\\u5230\\u540E\\u4F1A\\u60F3\\uFF1A\\u201C\\u8FD9\\u5E94\\u7528\\u770B\\u8D77\\u6765\\u9760\\u8C31\\uFF0C\\u88C5\\u5230\\u684C\\u9762\\u8BD5\\u8BD5\\uFF01\\u201D\"]}),`\n`,(0,n.jsx)(l.h4,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5-1\",children:(0,n.jsx)(l.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5-1\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u591A\\u5C3A\\u5BF8\\u56FE\\u6807\"}),\"\\uFF1A\\u63D0\\u4F9B 192x192 \\u548C 512x512 \\u7684\\u56FE\\u6807\\uFF0C\\u9002\\u914D\\u4E0D\\u540C\\u8BBE\\u5907\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsxs)(l.strong,{children:[\"\\u8BBE\\u7F6E \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"display\"})})})})]}),\"\\uFF1A\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"standalone\"})})})}),\" \\u8BA9\\u5E94\\u7528\\u50CF Native App \\u4E00\\u6837\\u65E0\\u6D4F\\u89C8\\u5668 UI\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u52A8\\u6001\\u751F\\u6210\"}),\"\\uFF1A\\u5982\\u679C\\u4F60\\u7684\\u5E94\\u7528\\u652F\\u6301\\u591A\\u8BED\\u8A00\\uFF0C\\u53EF\\u4EE5\\u7528\\u540E\\u7AEF\\u52A8\\u6001\\u751F\\u6210 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"manifest.json\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"3-https\\u5B89\\u5168\\u7684\\u57FA\\u77F3\",children:(0,n.jsx)(l.a,{href:\"#3-https\\u5B89\\u5168\\u7684\\u57FA\\u77F3\",children:\"3. HTTPS\\uFF1A\\u5B89\\u5168\\u7684\\u57FA\\u77F3\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6CA1\\u6709 HTTPS\\uFF0CService Worker \\u5C31\\u6CA1\\u6CD5\\u8DD1\\uFF08\\u672C\\u5730\\u5F00\\u53D1\\u9664\\u5916\\uFF09\\u3002\\u5B83\\u4E0D\\u4EC5\\u662F\\u5B89\\u5168\\u8981\\u6C42\\uFF0C\\u66F4\\u662F\\u7528\\u6237\\u4FE1\\u4EFB\\u7684\\u8C61\\u5F81\\u3002\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF0CHTTPS \\u5C31\\u50CF\\u662F PWA \\u7684\\u201C\\u76D4\\u7532\\u201D\\uFF0C\\u6CA1\\u6709\\u5B83\\uFF0C\\u4F60\\u7684\\u201C\\u8D85\\u7EA7\\u82F1\\u96C4\\u201D\\u8FDE\\u4E0A\\u6218\\u573A\\u7684\\u8D44\\u683C\\u90FD\\u6CA1\\u6709\\u3002\"}),`\n`,(0,n.jsx)(l.h4,{id:\"\\u5982\\u4F55\\u5B9E\\u73B0\",children:(0,n.jsx)(l.a,{href:\"#\\u5982\\u4F55\\u5B9E\\u73B0\",children:\"\\u5982\\u4F55\\u5B9E\\u73B0\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u7528 Let\\u2019s Encrypt \\u514D\\u8D39\\u7533\\u8BF7\\u8BC1\\u4E66\\u3002\"}),`\n`,(0,n.jsxs)(l.li,{children:[\"\\u5728\\u5F00\\u53D1\\u65F6\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"localhost\"})})})}),\" \\u6D4B\\u8BD5\\uFF0C\\u751F\\u4EA7\\u73AF\\u5883\\u52A1\\u5FC5\\u90E8\\u7F72 HTTPS\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u5B9E\\u6218\\u4ECE-0-\\u5230-1-\\u6253\\u9020\\u4E00\\u4E2A-pwa\",children:(0,n.jsx)(l.a,{href:\"#\\u5B9E\\u6218\\u4ECE-0-\\u5230-1-\\u6253\\u9020\\u4E00\\u4E2A-pwa\",children:\"\\u5B9E\\u6218\\uFF1A\\u4ECE 0 \\u5230 1 \\u6253\\u9020\\u4E00\\u4E2A PWA\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8BA9\\u6211\\u4EEC\\u52A8\\u624B\\u5199\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 PWA\\uFF1A\\u4E00\\u4E2A\\u652F\\u6301\\u79BB\\u7EBF\\u7684\\u5F85\\u529E\\u4E8B\\u9879\\u5E94\\u7528\\u3002\"}),`\n`,(0,n.jsx)(l.h3,{id:\"1-\\u9879\\u76EE\\u7ED3\\u6784\",children:(0,n.jsx)(l.a,{href:\"#1-\\u9879\\u76EE\\u7ED3\\u6784\",children:\"1. \\u9879\\u76EE\\u7ED3\\u6784\"})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"my-pwa/\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u251C\\u2500\\u2500 index.html\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u251C\\u2500\\u2500 styles.css\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u251C\\u2500\\u2500 app.js\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u251C\\u2500\\u2500 sw.js\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u251C\\u2500\\u2500 manifest.json\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u2514\\u2500\\u2500 images/\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"    \\u251C\\u2500\\u2500 icon-192.png\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"    \\u2514\\u2500\\u2500 icon-512.png\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"2-html-\\u57FA\\u7840\",children:(0,n.jsx)(l.a,{href:\"#2-html-\\u57FA\\u7840\",children:\"2. HTML \\u57FA\\u7840\"})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<!\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"DOCTYPE\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" html\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"html\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" lang\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"zh\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"head\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"meta\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" charset\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"UTF-8\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"meta\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" name\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"viewport\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" content\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"width=device-width, initial-scale=1.0\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"title\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u6653\\u9F99\\u7684\\u5F85\\u529E\\u4E8B\\u9879</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"title\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"link\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" rel\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"manifest\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" href\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/manifest.json\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"link\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" rel\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"stylesheet\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" href\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/styles.css\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"head\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"body\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u5F85\\u529E\\u4E8B\\u9879</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" type\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"text\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" id\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"todoInput\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" placeholder\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8F93\\u5165\\u4EFB\\u52A1...\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" onclick\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addTodo\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'()\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u6DFB\\u52A0</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" id\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"todoList\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" src\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/app.js\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"body\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"html\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"3-javascript-\\u903B\\u8F91\",children:(0,n.jsx)(l.a,{href:\"#3-javascript-\\u903B\\u8F91\",children:\"3. JavaScript \\u903B\\u8F91\"})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// app.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" todoInput\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'todoInput'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" todoList\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'todoList'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" addTodo\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" value\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" todoInput.value.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"trim\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (value) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" li\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'li'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    li.textContent \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" value;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    todoList.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(li);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    todoInput.value \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6CE8\\u518C Service Worker\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'serviceWorker'\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" in\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" navigator) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  navigator.serviceWorker.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"register\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/sw.js'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'Service Worker \\u5DF2\\u5C31\\u4F4D\\uFF01\\u{1F680}'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'Service Worker \\u51FA\\u5E08\\u4E0D\\u5229 \\u{1F62D}'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"4-service-worker\",children:(0,n.jsx)(l.a,{href:\"#4-service-worker\",children:\"4. Service Worker\"})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// sw.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" CACHE_NAME\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'todo-cache-v1'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" urlsToCache\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"  '/'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"  '/index.html'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"  '/styles.css'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"  '/app.js'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"  '/images/icon-192.png'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"  '/images/icon-512.png'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"];\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'install'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"CACHE_NAME\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"cache\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7F13\\u5B58\\u521D\\u59CB\\u5316\\u4E2D...'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addAll\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(urlsToCache);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'fetch'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"respondWith\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"match\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(event.request).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(event.request).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"networkResponse\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" caches.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"CACHE_NAME\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"cache\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          cache.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"put\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(event.request, networkResponse.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"clone\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" networkResponse;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'activate'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" cacheWhitelist\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"CACHE_NAME\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"keys\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"cacheNames\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        cacheNames.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"cacheName\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"cacheWhitelist.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"includes\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(cacheName)) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"            return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" caches.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"delete\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(cacheName);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        })\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"5-manifest-\\u6587\\u4EF6\",children:(0,n.jsx)(l.a,{href:\"#5-manifest-\\u6587\\u4EF6\",children:\"5. Manifest \\u6587\\u4EF6\"})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"name\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6653\\u9F99\\u7684\\u5F85\\u529E\\u4E8B\\u9879\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"short_name\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5F85\\u529E\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"start_url\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/index.html\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"display\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"standalone\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"background_color\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"#f0f0f0\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"theme_color\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"#007bff\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"icons\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": [\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"src\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/images/icon-192.png\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"sizes\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"192x192\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"type\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"image/png\"'})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"src\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/images/icon-512.png\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"sizes\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"512x512\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'      \"type\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"image/png\"'})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ]\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"6-\\u90E8\\u7F72\\u4E0E\\u6D4B\\u8BD5\",children:(0,n.jsx)(l.a,{href:\"#6-\\u90E8\\u7F72\\u4E0E\\u6D4B\\u8BD5\",children:\"6. \\u90E8\\u7F72\\u4E0E\\u6D4B\\u8BD5\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u7528\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 HTTP \\u670D\\u52A1\\u5668\\uFF08\\u5982 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"npx serve\"})})})}),\"\\uFF09\\u8DD1\\u8D77\\u6765\\uFF0C\\u6253\\u5F00 Chrome DevTools \\u7684 Application \\u9762\\u677F\\uFF0C\\u68C0\\u67E5 Service Worker \\u548C Manifest \\u662F\\u5426\\u751F\\u6548\\u3002\\u79BB\\u7EBF\\u6A21\\u5F0F\\u4E0B\\u5237\\u65B0\\uFF0C\\u4F9D\\u7136\\u80FD\\u770B\\u5230\\u9875\\u9762\\uFF1F\\u606D\\u559C\\uFF0C\\u4F60\\u7684 PWA \\u5DF2\\u5C31\\u4F4D\\uFF01\\u{1F389}\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u8FDB\\u9636\\u6280\\u5DE7\\u8BA9-pwa-\\u66F4\\u5F3A\",children:(0,n.jsx)(l.a,{href:\"#\\u8FDB\\u9636\\u6280\\u5DE7\\u8BA9-pwa-\\u66F4\\u5F3A\",children:\"\\u8FDB\\u9636\\u6280\\u5DE7\\uFF1A\\u8BA9 PWA \\u66F4\\u201C\\u5F3A\\u201D\"})}),`\n`,(0,n.jsx)(l.h3,{id:\"1-\\u63A8\\u9001\\u901A\\u77E5\",children:(0,n.jsx)(l.a,{href:\"#1-\\u63A8\\u9001\\u901A\\u77E5\",children:\"1. \\u63A8\\u9001\\u901A\\u77E5\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u60F3\\u8BA9\\u7528\\u6237\\u5728\\u5E94\\u7528\\u5173\\u95ED\\u65F6\\u4E5F\\u80FD\\u6536\\u5230\\u63D0\\u9192\\uFF1F\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"Push API\"})})})}),\" \\u548C Service Worker \\u641E\\u5B9A\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// sw.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'push'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" event.data.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" options\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    body: data.body,\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    icon: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/images/icon-192.png'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    self.registration.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"showNotification\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data.title, options)\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u4E3B\\u7EBF\\u7A0B\\u8BA2\\u9605\\u63A8\\u9001\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" subscribePush\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" registration\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" navigator.serviceWorker.ready;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" subscription\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" registration.pushManager.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"subscribe\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    userVisibleOnly: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    applicationServerKey: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4F60\\u7684\\u516C\\u94A5'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u63A8\\u9001\\u8BA2\\u9605\\u6210\\u529F\\uFF01'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", subscription);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"2-\\u540E\\u53F0\\u540C\\u6B65\",children:(0,n.jsx)(l.a,{href:\"#2-\\u540E\\u53F0\\u540C\\u6B65\",children:\"2. \\u540E\\u53F0\\u540C\\u6B65\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u7528\\u6237\\u6CA1\\u7F51\\u65F6\\u4E5F\\u80FD\\u6DFB\\u52A0\\u5F85\\u529E\\uFF1F\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"SyncManager\"})})})}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// sw.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'sync'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (event.tag \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'sync-todos'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    event.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"syncTodosToServer\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" syncTodosToServer\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u6A21\\u62DF\\u540C\\u6B65\\u903B\\u8F91\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u540C\\u6B65\\u5F85\\u529E\\u4E8B\\u9879\\u5230\\u670D\\u52A1\\u5668...'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4E3B\\u7EBF\\u7A0B\\u89E6\\u53D1\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"navigator.serviceWorker.ready.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reg\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  reg.sync.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"register\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'sync-todos'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"3-\\u6027\\u80FD\\u4F18\\u5316\",children:(0,n.jsx)(l.a,{href:\"#3-\\u6027\\u80FD\\u4F18\\u5316\",children:\"3. \\u6027\\u80FD\\u4F18\\u5316\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u61D2\\u52A0\\u8F7D\\u56FE\\u7247\"}),\"\\uFF1A\\u7528 Intersection Observer \\u5EF6\\u8FDF\\u52A0\\u8F7D\\u975E\\u89C6\\u53E3\\u5185\\u7684\\u56FE\\u7247\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u538B\\u7F29\\u8D44\\u6E90\"}),\"\\uFF1A\\u7528 Gzip \\u6216 Brotli \\u538B\\u7F29 JS \\u548C CSS\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"CDN \\u52A0\\u901F\"}),\"\\uFF1A\\u9759\\u6001\\u8D44\\u6E90\\u6254\\u5230 CDN \\u4E0A\\uFF0C\\u51CF\\u5C11\\u52A0\\u8F7D\\u65F6\\u95F4\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u5751\\u89C4\\u907F\",children:(0,n.jsx)(l.a,{href:\"#\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u5751\\u89C4\\u907F\",children:\"\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u201C\\u5751\\u201D\\u89C4\\u907F\"})}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.strong,{children:\"Service Worker \\u4E0D\\u751F\\u6548\\uFF1F\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[\"\\u68C0\\u67E5\\u8DEF\\u5F84\\uFF1A\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"/sw.js\"})})})}),\" \\u5FC5\\u987B\\u5728\\u6839\\u76EE\\u5F55\\u6216\\u660E\\u786E\\u4F5C\\u7528\\u57DF\\u3002\"]}),`\n`,(0,n.jsx)(l.li,{children:\"\\u786E\\u4FDD HTTPS \\u6216\\u672C\\u5730\\u73AF\\u5883\\u3002\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.strong,{children:\"\\u7F13\\u5B58\\u66F4\\u65B0\\u6162\\uFF1F\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[\"\\u7528\\u7248\\u672C\\u5316\\u7684\\u7F13\\u5B58\\u540D\\u79F0\\uFF0C\\u5E76\\u5728 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"activate\"})})})}),\" \\u4E8B\\u4EF6\\u6E05\\u7406\\u65E7\\u7F13\\u5B58\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.strong,{children:\"\\u7528\\u6237\\u4E0D\\u88C5\\u5E94\\u7528\\uFF1F\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[\"\\u52A0\\u4E2A\\u201C\\u6DFB\\u52A0\\u5230\\u4E3B\\u5C4F\\u5E55\\u201D\\u63D0\\u793A\\uFF0C\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"beforeinstallprompt\"})})})}),\" \\u4E8B\\u4EF6\\uFF1A\"]}),`\n`]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" deferredPrompt;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'beforeinstallprompt'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  e.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"preventDefault\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  deferredPrompt \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" e;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  showInstallButton\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" showInstallButton\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" btn\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'button'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  btn.textContent \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '\\u5B89\\u88C5\\u5230\\u684C\\u9762'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  btn.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onclick\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" deferredPrompt.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"prompt\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  document.body.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(btn);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u6211\\u7684\\u611F\\u609Fpwa-\\u662F\\u672A\\u6765\\u7684\\u6572\\u95E8\\u7816\",children:(0,n.jsx)(l.a,{href:\"#\\u6211\\u7684\\u611F\\u609Fpwa-\\u662F\\u672A\\u6765\\u7684\\u6572\\u95E8\\u7816\",children:\"\\u6211\\u7684\\u611F\\u609F\\uFF1APWA \\u662F\\u672A\\u6765\\u7684\\u201C\\u6572\\u95E8\\u7816\\u201D\"})}),`\n`,(0,n.jsx)(l.p,{children:\"PWA \\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\uFF0C\\u66F4\\u662F\\u4E00\\u79CD\\u601D\\u7EF4\\u65B9\\u5F0F\\u3002\\u5B83\\u8BA9\\u6211\\u4EEC\\u91CD\\u65B0\\u601D\\u8003 Web \\u5E94\\u7528\\u7684\\u8FB9\\u754C\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u4E0D\\u80FD\\u50CF Native App \\u4E00\\u6837\\u6D41\\u7545\\uFF1F\\u4E3A\\u4EC0\\u4E48\\u4E0D\\u80FD\\u79BB\\u7EBF\\u4E5F\\u80FD\\u7528\\uFF1F\\u5B83\\u5C31\\u50CF\\u662F Web \\u5F00\\u53D1\\u4E2D\\u7684\\u201C\\u745E\\u58EB\\u519B\\u5200\\u201D\\uFF0C\\u529F\\u80FD\\u591A\\u5230\\u8BA9\\u4EBA\\u60CA\\u559C\\uFF0C\\u53C8\\u5B9E\\u7528\\u5230\\u8BA9\\u4EBA\\u79BB\\u4E0D\\u5F00\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5199\\u5230\\u8FD9\\u91CC\\uFF0C\\u6211\\u4E0D\\u7981\\u60F3\\u8C03\\u4F83\\u4E00\\u53E5\\uFF1A\\u5982\\u679C PWA \\u662F\\u8D85\\u7EA7\\u82F1\\u96C4\\uFF0C\\u90A3 Service Worker \\u5C31\\u662F\\u5B83\\u7684\\u201C\\u94A2\\u94C1\\u4FA0\\u6218\\u7532\\u201D\\uFF0CManifest \\u662F\\u201C\\u7F8E\\u56FD\\u961F\\u957F\\u76FE\\u724C\\u201D\\uFF0CHTTPS \\u5219\\u662F\\u201C\\u96F7\\u795E\\u4E4B\\u9524\\u201D\\u2014\\u2014\\u7F3A\\u4E00\\u4E0D\\u53EF\\uFF0C\\u7EC4\\u5408\\u8D77\\u6765\\u65E0\\u654C\\u3002\\u{1F602}\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6307\\u5357\\u80FD\\u5E2E\\u4F60\\u5F00\\u542F PWA \\u4E4B\\u65C5\\u3002\\u5982\\u679C\\u6709\\u7591\\u95EE\\uFF0C\\u968F\\u65F6\\u7559\\u8A00\\uFF0C\\u6211\\u4F1A\\u5C3D\\u529B\\u89E3\\u7B54\\u3002\\u53BB\\u5427\\uFF0C\\u524D\\u7AEF\\u82F1\\u96C4\\uFF0C\\u6253\\u9020\\u4F60\\u7684 PWA \\u5B87\\u5B99\\uFF01\\u{1F680}\"}),`\n`,(0,n.jsx)(l.hr,{})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}return m(b);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/PWA.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/PWA.mdx",
    "sourceFileName": "PWA.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/PWA"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/PWA"
}
{
  "title": "èŠèŠSSR (æœåŠ¡ç«¯æ¸²æŸ“)ï¼šä»åŸç†åˆ°å®è·µ",
  "date": "2023-05-29T00:00:00.000Z",
  "description": "æ·±å…¥å‰–ææœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰çš„åŸç†ã€å®ç°ã€ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠåœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­çš„æœ€ä½³å®è·µï¼Œå¸¦ä½ ä»é›¶åˆ°ä¸€ææ‡‚SSRçš„é‚£äº›äº‹å„¿ã€‚",
  "keywords": "æœåŠ¡ç«¯æ¸²æŸ“, SSR, React, Next.js, hydration, SEO, æ€§èƒ½ä¼˜åŒ–, å‰ç«¯å¼€å‘",
  "author": "æ™“é¾™",
  "image": "/images/hero/ssr-journey.jpg",
  "tags": [
    "React",
    "å‰ç«¯å¼€å‘",
    "æ€§èƒ½ä¼˜åŒ–",
    "SEO"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nHeyï¼Œå‰ç«¯çš„å°ä¼™ä¼´ä»¬ï¼ä»Šå¤©å’±ä»¬æ¥èŠèŠæœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ï¼Œè¿™ä¸ªåœ¨ç°ä»£Webå¼€å‘ä¸­ç»•ä¸å¼€çš„è¯é¢˜ã€‚SSRæ—¢æ˜¯æ€§èƒ½ä¼˜åŒ–çš„åˆ©å™¨ï¼Œåˆæ˜¯SEOçš„æ•‘æ˜Ÿï¼Œä½†ä¹Ÿå¶å°”è®©äººæŠ“ç‹‚â€”â€”â€œä¸ºå•¥æˆ‘çš„é¡µé¢é—ªçƒäº†ï¼Ÿâ€â€œhydrationå’‹åˆæŠ¥é”™äº†ï¼Ÿâ€åˆ«æ€¥ï¼Œè¿™ç¯‡åšå®¢æˆ‘ä¼šå¸¦ä½ ä»åŸç†åˆ°å®è·µï¼Œæ·±å…¥SSRçš„æ¯ä¸ªè§’è½ï¼Œé…ä¸Šä¾‹å­ã€æœ€ä½³å®è·µï¼Œè¿˜æœ‰ä¸€ç‚¹æˆ‘çš„ç¢ç¢å¿µå’Œå¹½é»˜è°ƒå‰‚ï¼ˆæ¯•ç«Ÿå†™ä»£ç å¤ªè‹¦äº†ï¼Œå¾—æ‰¾ç‚¹ä¹å­ï¼‰ã€‚å‡†å¤‡å¥½äº†å—ï¼ŸğŸš€\n\n## SSRæ˜¯ä¸ªå•¥ï¼Ÿä»CSRè¯´èµ·\n\nè¦ææ‡‚SSRï¼Œå…ˆå¾—ä»å®ƒçš„â€œè€å¯¹æ‰‹â€â€”â€”å®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆCSRï¼‰èŠèµ·ã€‚CSRæ˜¯å•¥ï¼Ÿç®€å•æ¥è¯´ï¼Œå°±æ˜¯æµè§ˆå™¨æ‹¿åˆ°ä¸€ä¸ªç©ºå£³HTMLï¼Œç„¶åé€šè¿‡JavaScriptæŠŠé¡µé¢å†…å®¹åŠ¨æ€å¡è¿›å»ã€‚æ¯”å¦‚ç”¨Reactå†™ä¸ªSPAï¼ˆå•é¡µåº”ç”¨ï¼‰ï¼Œä½ å¯èƒ½ä¼šè§åˆ°è¿™æ ·çš„æµç¨‹ï¼š\n\n```jsx\n// index.js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\næµè§ˆå™¨åŠ è½½å®ŒJSåï¼ŒReactå¼€å§‹â€œç”»ç”»â€ï¼ŒæŠŠç»„ä»¶æ¸²æŸ“åˆ°DOMä¸Šã€‚å¬èµ·æ¥å¾ˆç¾å¥½ï¼Œä½†é—®é¢˜æ¥äº†ï¼šå¦‚æœJSè¿˜æ²¡åŠ è½½å®Œï¼Œæˆ–è€…ç”¨æˆ·ç½‘é€Ÿæ…¢å¾—åƒèœ—ç‰›çˆ¬ï¼Œé¡µé¢å°±æ˜¯ä¸€ç‰‡ç©ºç™½ã€‚æ›´åˆ«ææœç´¢å¼•æ“çˆ¬è™«äº†ï¼Œå®ƒä»¬çœ‹åˆ°è¿™ä¸ªç©ºå£³HTMLï¼Œå¯èƒ½ä¼šç›´æ¥æ‘†æ‰‹ï¼šâ€œæ²¡å†…å®¹ï¼Œ886ï¼â€\n\näºæ˜¯ï¼ŒSSRç«™å‡ºæ¥äº†ã€‚æœåŠ¡ç«¯æ¸²æŸ“çš„æ„æ€æ˜¯ï¼ŒæœåŠ¡å™¨ç›´æ¥æŠŠæ¸²æŸ“å¥½çš„HTMLåç»™æµè§ˆå™¨ï¼Œè€Œä¸æ˜¯è®©å®¢æˆ·ç«¯è‡ªå·±åŠ¨æ‰‹ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šCSRåƒæ˜¯ç‚¹å¤–å–ï¼Œä½ æ‹¿åˆ°çš„æ˜¯ç”Ÿé£Ÿæï¼Œå¾—è‡ªå·±ç‚’èœï¼›è€ŒSSRæ˜¯ç›´æ¥é€ä¸Šæ¡Œçš„çƒ­ä¹ä¹æˆå“é¥­èœï¼Œåƒå®Œè¿˜èƒ½æ‰“åŒ…èµ°ï¼ˆSEOå‹å¥½ï¼‰ã€‚è¿™æ¯”å–»æ˜¯ä¸æ˜¯æœ‰ç‚¹æ„æ€ï¼ŸğŸ˜\n\n## SSRçš„åº•å±‚åŸç†ï¼šä»è¯·æ±‚åˆ°å“åº”\n\nSSRçš„æµç¨‹å…¶å®ä¸å¤æ‚ï¼Œä½†ç»†èŠ‚å¤šå¾—èƒ½è®©äººå¤´ç§ƒã€‚æˆ‘ä»¬ä»¥Reactä¸ºä¾‹ï¼Œæ‹†è§£ä¸€ä¸‹ï¼š\n\n1. **ç”¨æˆ·è¯·æ±‚**ï¼šæµè§ˆå™¨å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œæ¯”å¦‚`GET /home`ã€‚\n2. **æœåŠ¡å™¨æ¸²æŸ“**ï¼šæœåŠ¡å™¨æ‹¿åˆ°è¯·æ±‚åï¼Œè°ƒç”¨Reactçš„`renderToString`ï¼ˆæˆ–ç±»ä¼¼æ–¹æ³•ï¼‰ï¼ŒæŠŠç»„ä»¶æ¸²æŸ“æˆHTMLå­—ç¬¦ä¸²ã€‚\n3. **å“åº”è¿”å›**ï¼šæœåŠ¡å™¨æŠŠè¿™ä¸ªHTMLå¡è¿›æ¨¡æ¿ï¼Œè¿åŒå¿…è¦çš„JSã€CSSä¸€èµ·å‘å›æµè§ˆå™¨ã€‚\n4. **å®¢æˆ·ç«¯æ¿€æ´»ï¼ˆHydrationï¼‰**ï¼šæµè§ˆå™¨æ‹¿åˆ°HTMLåï¼ŒReacté€šè¿‡`hydrate`æŠŠé™æ€HTMLâ€œæ¿€æ´»â€ï¼Œç»‘å®šäº‹ä»¶ç›‘å¬å™¨ï¼Œå˜æˆäº¤äº’é¡µé¢ã€‚\n\nä»£ç å¤§æ¦‚é•¿è¿™æ ·ï¼š\n\n```jsx\n// server.js (ä¼ªä»£ç )\nimport { renderToString } from 'react-dom/server';\nimport App from './App';\n\napp.get('/home', (req, res) => {\n  const html = renderToString(<App />);\n  res.send(`\n    <html>\n      <body>\n        <div id=\"root\">${html}</div>\n        <script src=\"/client.js\"></script>\n      </body>\n    </html>\n  `);\n});\n\n// client.js\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.hydrate(<App />, document.getElementById('root'));\n```\n\nè¿™è¿‡ç¨‹çœ‹ä¼¼ç®€å•ï¼Œä½†é­”é¬¼è—åœ¨ç»†èŠ‚é‡Œã€‚æ¯”å¦‚ï¼ŒæœåŠ¡å™¨æ€ä¹ˆçŸ¥é“ç”¨æˆ·è¯·æ±‚çš„æ•°æ®ï¼Ÿç»„ä»¶çš„çŠ¶æ€å’‹åŒæ­¥ï¼Ÿhydrationä¸ºå•¥è€å‡ºé”™ï¼Ÿåˆ«æ€¥ï¼Œå’±ä»¬æ…¢æ…¢èŠã€‚\n\n## SSRçš„ä¼˜ç‚¹ï¼šä¸ºå•¥è¦ç”¨å®ƒï¼Ÿ\n\nSSRä¸æ˜¯ä¸‡èƒ½çš„ï¼Œä½†å®ƒç¡®å®æœ‰å‡ ä¸ªæ€æ‰‹é”ï¼š\n\n1. **é¦–å±æ€§èƒ½**ï¼šç”¨æˆ·èƒ½æ›´å¿«çœ‹åˆ°å†…å®¹ï¼Œä¸ç”¨ç­‰JSåŠ è½½å®Œã€‚å°¤å…¶åœ¨ç§»åŠ¨ç«¯ï¼Œç½‘é€Ÿä¸ç¨³å®šæ—¶ï¼ŒSSRç®€ç›´æ˜¯æ•‘å‘½ç¨»è‰ã€‚\n2. **SEOå‹å¥½**ï¼šæœç´¢å¼•æ“çˆ±é™æ€HTMLï¼ŒSSRç›´æ¥æŠŠå†…å®¹å–‚ç»™çˆ¬è™«ï¼Œçœå¾—å®ƒä»¬çŒœæ¥çŒœå»ã€‚\n3. **ç”¨æˆ·ä½“éªŒ**ï¼šå‡å°‘ç™½å±æ—¶é—´ï¼Œå°¤å…¶æ˜¯ç¤¾äº¤åª’ä½“åˆ†äº«æ—¶ï¼Œé¢„è§ˆå›¾èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯ä¸€ç‰‡ç°ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾ä½ åšä¸ªç”µå•†ç½‘ç«™ï¼Œé¦–é¡µå¾—å±•ç¤ºå•†å“åˆ—è¡¨ã€‚å¦‚æœç”¨CSRï¼Œç”¨æˆ·å¯èƒ½å¾—ç­‰3ç§’æ‰èƒ½çœ‹åˆ°å•†å“ï¼ˆJSä¸‹è½½+æ‰§è¡Œï¼‰ï¼Œè€ŒSSRèƒ½æŠŠåˆ—è¡¨ç›´æ¥å¡è¿›HTMLï¼Œ1ç§’å†…å°±å±•ç¤ºå‡ºæ¥ã€‚è¿™3ç§’çš„å·®è·ï¼Œå¯èƒ½å°±æ˜¯ç”¨æˆ·ç•™ä¸‹æ¥è¿˜æ˜¯å…³æ‰é¡µé¢çš„åˆ†æ°´å²­ã€‚\n\n## SSRçš„ç—›ç‚¹ï¼šåˆ«è¢«è¡¨è±¡éª—äº†\n\nSSRä¹Ÿä¸æ˜¯å®Œç¾çš„â€œé­”æ³•æ£’â€ï¼Œç”¨ä¸å¥½ç…§æ ·ç¿»è½¦ï¼š\n\n1. **æœåŠ¡å™¨å‹åŠ›**ï¼šæ¯æ¬¡è¯·æ±‚éƒ½è¦æ¸²æŸ“ï¼ŒæœåŠ¡å™¨å¾—æ‰›ä½å‹åŠ›ã€‚CSRåªéœ€è¦é™æ€æ–‡ä»¶åˆ†å‘ï¼ŒæœåŠ¡å™¨è½»æ¾å¾—å¤šã€‚\n2. **Hydrationå‘**ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ¸²æŸ“ä¸ä¸€è‡´ï¼ˆæ¯”å¦‚æ—¶é—´æˆ³ã€éšæœºæ•°ï¼‰ï¼Œä¼šå¯¼è‡´é¡µé¢é—ªçƒç”šè‡³æŠ¥é”™ã€‚\n3. **å¼€å‘å¤æ‚åº¦**ï¼šä½ å¾—åŒæ—¶æ“å¿ƒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€»è¾‘ï¼Œä»£ç ä¸€ä¸å°å¿ƒå°±ä¹±æˆä¸€é”…ç²¥ã€‚\n\næˆ‘æœ‰æ¬¡è°ƒè¯•SSRï¼Œæ„£æ˜¯èŠ±äº†ä¿©å°æ—¶æ‰¾hydrationæŠ¥é”™ï¼Œæœ€åå‘ç°æ˜¯æœåŠ¡ç«¯å°‘ä¼ äº†ä¸ªpropsï¼Œé¡µé¢ç›´æ¥â€œç²¾ç¥åˆ†è£‚â€äº†ã€‚ğŸ˜‚ æ‰€ä»¥ï¼ŒSSRè™½å¥½ï¼Œåˆ«è´ªæ¯å•Šï¼\n\n## æ·±å…¥Hydrationï¼šSSRçš„çµé­‚ä¼´ä¾£\n\nHydrationæ˜¯SSRçš„æ ¸å¿ƒç¯èŠ‚ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯æŠŠæœåŠ¡ç«¯åå‡ºçš„â€œæ­»HTMLâ€å˜æˆâ€œæ´»Reactç»„ä»¶â€ã€‚ä½†è¿™è¿‡ç¨‹å®¹æ˜“ç¿»è½¦ï¼Œå’±ä»¬ç»†èŠèŠã€‚\n\n### Hydrationå’‹å®ç°çš„ï¼Ÿ\n\nReactçš„`hydrate`ä¼šå¯¹æ¯”æœåŠ¡ç«¯ç”Ÿæˆçš„HTMLå’Œå®¢æˆ·ç«¯çš„è™šæ‹ŸDOMã€‚å¦‚æœä¸€è‡´ï¼Œå°±ç»‘å®šäº‹ä»¶ï¼›å¦‚æœä¸ä¸€è‡´ï¼Œå°±æŠ¥é”™æˆ–è€…å¼ºåˆ¶é‡æ¸²æŸ“ã€‚æ¯”å¦‚ï¼š\n\n```jsx\n// æœåŠ¡ç«¯\nconst html = renderToString(<div>Hello</div>);\n\n// å®¢æˆ·ç«¯\nReactDOM.hydrate(<div>Hello</div>, document.getElementById('root'));\n```\n\nè¿™ä¿©ä¸€è‡´ï¼Œhydrationå°±æˆåŠŸã€‚ä½†å¦‚æœæœåŠ¡ç«¯æ˜¯`<div>Hello</div>`ï¼Œå®¢æˆ·ç«¯å˜æˆ`<div>Hi</div>`ï¼ŒReactå°±æ‡µäº†ï¼Œç›´æ¥æŠ¥é”™ï¼šâ€œExpected server HTML to matchâ€ã€‚\n\n### é¿å‘æŒ‡å—\n\n- **æ•°æ®ä¸€è‡´æ€§**ï¼šæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å¾—ç”¨åŒä¸€ä»½æ•°æ®æºï¼Œåˆ«è®©æœåŠ¡ç«¯æŸ¥æ•°æ®åº“ï¼Œå®¢æˆ·ç«¯è°ƒAPIï¼Œä¿©äººå”±å¯¹å°æˆã€‚\n- **é¿å…éšæœºæ€§**ï¼šåˆ«åœ¨ç»„ä»¶é‡Œç”¨`Math.random()`ï¼Œå¦åˆ™æ¯æ¬¡æ¸²æŸ“éƒ½ä¸ä¸€æ ·ï¼Œhydrationè‚¯å®šç‚¸ã€‚\n- **æ¡ä»¶æ¸²æŸ“å°å¿ƒç‚¹**ï¼šæœåŠ¡ç«¯åˆ«éšä¾¿ç”¨`window`å¯¹è±¡ï¼ˆä¸å­˜åœ¨ï¼ï¼‰ï¼Œä¸ç„¶å®¢æˆ·ç«¯æ¥æ‰‹æ—¶ç›´æ¥å´©æºƒã€‚\n\næœ€ä½³å®è·µï¼Ÿç”¨ä¸ªçŠ¶æ€ç®¡ç†å·¥å…·ï¼ˆåƒReduxæˆ–Zustandï¼‰ï¼ŒæŠŠæ•°æ®æå‰fetchå¥½ï¼Œä¼ ç»™æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼Œä¿è¯â€œåŒæºåŒè°ƒâ€ã€‚\n\n## Next.jsï¼šSSRçš„æœ€ä½³æ‹æ¡£\n\nè¯´åˆ°SSRï¼Œæ€èƒ½ä¸æNext.jsï¼Ÿå®ƒæŠŠSSRç©å¾—ç‚‰ç«çº¯é’ï¼Œçœå»äº†æˆ‘ä»¬æ‰‹å†™æœåŠ¡å™¨çš„éº»çƒ¦ã€‚Next.jsçš„`getServerSideProps`å°±æ˜¯SSRçš„å…¸å‹å®ç°ï¼š\n\n```jsx\nexport async function getServerSideProps(context) {\n  const res = await fetch('https://api.example.com/data');\n  const data = await res.json();\n  return { props: { data } };\n}\n\nfunction Page({ data }) {\n  return <div>{data.title}</div>;\n}\n\nexport default Page;\n```\n\næ¯æ¬¡è¯·æ±‚ï¼ŒNext.jséƒ½ä¼šåœ¨æœåŠ¡å™¨è·‘ä¸€é`getServerSideProps`ï¼ŒæŠŠæ•°æ®å¡è¿›é¡µé¢ï¼Œæ¸²æŸ“å®Œå†åç»™æµè§ˆå™¨ã€‚ç®€å•ç²—æš´åˆå®ç”¨ã€‚\n\n### Next.jsçš„éªšæ“ä½œ\n\n- **åŠ¨æ€è·¯ç”±**ï¼š`[id].js`é…åˆSSRï¼Œè½»æ¾å®ç°ä¸ªæ€§åŒ–é¡µé¢ã€‚\n- **å¢é‡é™æ€å†ç”Ÿï¼ˆISRï¼‰**ï¼šSSRå’ŒSSGï¼ˆé™æ€ç”Ÿæˆï¼‰çš„æ··åˆä½“ï¼Œæ—¢åŠ¨æ€åˆçœèµ„æºã€‚\n- **APIè·¯ç”±**ï¼šä¸€ä¸ªæ¡†æ¶æå®šå‰åç«¯ï¼Œå¼€å‘æ•ˆç‡èµ·é£ã€‚\n\næˆ‘ç”¨Next.jsåšè¿‡ä¸ªåšå®¢ï¼Œæ¯æ¬¡å‘æ–°æ–‡ç« ï¼ŒSSRè‡ªåŠ¨æ›´æ–°é¦–é¡µåˆ—è¡¨ï¼ŒSEOæ•ˆæœæ æ çš„ï¼Œçˆ¬è™«éƒ½ç»™æˆ‘ç‚¹èµã€‚ğŸ˜\n\n## æœ€ä½³å®è·µï¼šè®©SSRæ›´é¦™\n\nèŠäº†è¿™ä¹ˆå¤šï¼Œæ¥ç‚¹å¹²è´§â€”â€”SSRçš„æœ€ä½³å®è·µï¼Œå¸®ä½ å°‘è¸©å‘ï¼š\n\n1. **ç¼“å­˜æ˜¯ç‹é“**ï¼šæœåŠ¡å™¨æ¸²æŸ“è€—èµ„æºï¼Œç”¨Redisæˆ–CDNç¼“å­˜HTMLï¼Œå‡è½»å‹åŠ›ã€‚\n2. **æ‡’åŠ è½½éé¦–å±**ï¼šé¦–å±ç”¨SSRï¼Œä¸‹é¢ç”¨CSRæˆ–æ‡’åŠ è½½ï¼Œæ€§èƒ½å’Œä½“éªŒä¸¤ä¸è¯¯ã€‚\n3. **é”™è¯¯å¤„ç†ä¼˜é›…ç‚¹**ï¼šæœåŠ¡ç«¯å´©äº†åˆ«ç›´æ¥500ï¼Œç»™ä¸ªé™çº§é¡µé¢ï¼Œç”¨æˆ·ä¸è‡³äºéª‚å¨˜ã€‚\n4. **ç›‘æ§è¦è·Ÿä¸Š**ï¼šåŠ ä¸ªSentryï¼ŒhydrationæŠ¥é”™ä¸€ç›®äº†ç„¶ï¼Œåˆ«è®©Bugè—ç€æ–ç€ã€‚\n5. **ç»„ä»¶åŒ–æ€ç»´**ï¼šæŠŠSSRé€»è¾‘æ‹†æˆå°å—ï¼Œå¤ç”¨æ€§é«˜ï¼Œç»´æŠ¤ä¹Ÿè½»æ¾ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ç»™ä¸ªç”µå•†é¡¹ç›®åŠ äº†Redisç¼“å­˜ï¼ŒæŠŠå•†å“è¯¦æƒ…é¡µçš„SSRç»“æœå­˜5åˆ†é’Ÿï¼Œç”¨æˆ·è®¿é—®ç›´æ¥ä»ç¼“å­˜æ‹¿ï¼ŒæœåŠ¡å™¨å‹åŠ›é™äº†70%ï¼Œè€æ¿éƒ½ç»™æˆ‘åŠ é¸¡è…¿äº†ã€‚ğŸ—\n\n## SSR vs CSR vs SSGï¼šåˆ°åº•é€‰å“ªä¸ªï¼Ÿ\n\næœ€åï¼Œå’±ä»¬æ¥ä¸ªå¤§æ€»ç»“ã€‚SSRã€CSRã€SSGï¼ˆé™æ€ç”Ÿæˆï¼‰å„æœ‰åƒç§‹ï¼š\n\n- **CSR**ï¼šé€‚åˆäº¤äº’é¢‘ç¹çš„åå°ç³»ç»Ÿï¼ŒSEOä¸é‡è¦æ—¶ã€‚\n- **SSR**ï¼šé¦–å±å¿«ã€SEOå¼ºï¼Œé€‚åˆç”µå•†ã€åšå®¢è¿™ç§å†…å®¹å‹ç«™ç‚¹ã€‚\n- **SSG**ï¼šå†…å®¹ä¸å’‹å˜æ—¶ï¼ˆæ¯”å¦‚æ–‡æ¡£ç«™ï¼‰ï¼Œç”Ÿæˆä¸€æ¬¡åˆ°å¤„ç”¨ï¼Œçœå¿ƒçœåŠ›ã€‚\n\né€‰å“ªä¸ªï¼Ÿçœ‹éœ€æ±‚ã€‚æ¯”å¦‚æˆ‘æœ€è¿‘åšä¸ªæ–°é—»ç«™ï¼Œé¦–é¡µç”¨SSRå®æ—¶æ›´æ–°ï¼Œæ–‡ç« é¡µç”¨SSGæå‰ç”Ÿæˆï¼Œå®Œç¾å¹³è¡¡æ€§èƒ½å’ŒåŠ¨æ€æ€§ã€‚ä½ å‘¢ï¼Œä¸‹ä¸ªé¡¹ç›®æ‰“ç®—æ€ä¹ˆç©ï¼Ÿ\n\n## ç»“è¯­ï¼šSSRçš„æœªæ¥\n\nSSRå‘å±•åˆ°ç°åœ¨ï¼Œå·²ç»ä¸åªæ˜¯â€œæœåŠ¡ç«¯åHTMLâ€é‚£ä¹ˆç®€å•ã€‚React 18çš„Server Componentsã€Next.jsçš„TurboPackï¼Œç”šè‡³Qwikçš„â€œæ— hydrationæ¸²æŸ“â€ï¼Œéƒ½åœ¨é‡æ–°å®šä¹‰SSRçš„è¾¹ç•Œã€‚ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œç†è§£SSRçš„åŸç†å’Œå®è·µï¼Œä¸ä»…èƒ½å†™å‡ºé«˜æ€§èƒ½åº”ç”¨ï¼Œè¿˜èƒ½è®©ä½ åœ¨é¢è¯•æ—¶å¤šå¹å‡ åˆ†é’Ÿç‰›ã€‚ğŸ˜œ\n\nå¥½äº†ï¼Œä»Šå¤©çš„SSRç¡¬æ ¸ä¹‹æ—…å°±åˆ°è¿™å„¿ã€‚ä½ æœ‰å•¥ç–‘é—®æˆ–è€…å®æˆ˜ç»éªŒï¼Œæ¬¢è¿ç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·èŠèŠï¼æ¯•ç«Ÿï¼Œä»£ç æ˜¯æ­»çš„ï¼Œäººæ˜¯æ´»çš„ï¼ŒæŠ€æœ¯å¾—é æ‘¸ç´¢å’Œåˆ†äº«æ‰èƒ½è¿›æ­¥ã€‚å¯¹äº†ï¼Œå¦‚æœä½ è§‰å¾—hydrationè¿˜æ˜¯ä¸ªè°œï¼Œä¸‹æ¬¡æˆ‘å†å†™ç¯‡ã€ŠHydrationæ·±åº¦è§£æã€‹ï¼Œå¸¦ä½ å½»åº•æå®šå®ƒã€‚âœŒï¸\n\n--- \n",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),u=(l,e)=>{for(var r in e)a(l,r,{get:e[r],enumerable:!0})},i=(l,e,r,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let d of E(e))!g.call(l,d)&&d!==r&&a(l,d,{get:()=>e[d],enumerable:!(c=y(e,d))||c.enumerable});return l};var R=(l,e,r)=>(r=l!=null?p(S(l)):{},i(e||!l||!l.__esModule?a(r,\"default\",{value:l,enumerable:!0}):r,l)),m=l=>i(a({},\"__esModule\",{value:!0}),l);var s=F((C,t)=>{t.exports=_jsx_runtime});var f={};u(f,{default:()=>o,frontmatter:()=>x});var n=R(s()),x={type:\"Post\",title:\"\\u804A\\u804ASSR (\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3)\\uFF1A\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\",date:\"2023-05-29\",description:\"\\u6DF1\\u5165\\u5256\\u6790\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF08SSR\\uFF09\\u7684\\u539F\\u7406\\u3001\\u5B9E\\u73B0\\u3001\\u4F18\\u7F3A\\u70B9\\uFF0C\\u4EE5\\u53CA\\u5728\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u4ECE\\u96F6\\u5230\\u4E00\\u641E\\u61C2SSR\\u7684\\u90A3\\u4E9B\\u4E8B\\u513F\\u3002\",keywords:\"\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3, SSR, React, Next.js, hydration, SEO, \\u6027\\u80FD\\u4F18\\u5316, \\u524D\\u7AEF\\u5F00\\u53D1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/ssr-journey.jpg\",tags:[\"React\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\",\"SEO\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function h(l){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Hey\\uFF0C\\u524D\\u7AEF\\u7684\\u5C0F\\u4F19\\u4F34\\u4EEC\\uFF01\\u4ECA\\u5929\\u54B1\\u4EEC\\u6765\\u804A\\u804A\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF08SSR\\uFF09\\uFF0C\\u8FD9\\u4E2A\\u5728\\u73B0\\u4EE3Web\\u5F00\\u53D1\\u4E2D\\u7ED5\\u4E0D\\u5F00\\u7684\\u8BDD\\u9898\\u3002SSR\\u65E2\\u662F\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u5229\\u5668\\uFF0C\\u53C8\\u662FSEO\\u7684\\u6551\\u661F\\uFF0C\\u4F46\\u4E5F\\u5076\\u5C14\\u8BA9\\u4EBA\\u6293\\u72C2\\u2014\\u2014\\u201C\\u4E3A\\u5565\\u6211\\u7684\\u9875\\u9762\\u95EA\\u70C1\\u4E86\\uFF1F\\u201D\\u201Chydration\\u548B\\u53C8\\u62A5\\u9519\\u4E86\\uFF1F\\u201D\\u522B\\u6025\\uFF0C\\u8FD9\\u7BC7\\u535A\\u5BA2\\u6211\\u4F1A\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u6DF1\\u5165SSR\\u7684\\u6BCF\\u4E2A\\u89D2\\u843D\\uFF0C\\u914D\\u4E0A\\u4F8B\\u5B50\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u8FD8\\u6709\\u4E00\\u70B9\\u6211\\u7684\\u788E\\u788E\\u5FF5\\u548C\\u5E7D\\u9ED8\\u8C03\\u5242\\uFF08\\u6BD5\\u7ADF\\u5199\\u4EE3\\u7801\\u592A\\u82E6\\u4E86\\uFF0C\\u5F97\\u627E\\u70B9\\u4E50\\u5B50\\uFF09\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u{1F680}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"ssr\\u662F\\u4E2A\\u5565\\u4ECEcsr\\u8BF4\\u8D77\",children:(0,n.jsx)(e.a,{href:\"#ssr\\u662F\\u4E2A\\u5565\\u4ECEcsr\\u8BF4\\u8D77\",children:\"SSR\\u662F\\u4E2A\\u5565\\uFF1F\\u4ECECSR\\u8BF4\\u8D77\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8981\\u641E\\u61C2SSR\\uFF0C\\u5148\\u5F97\\u4ECE\\u5B83\\u7684\\u201C\\u8001\\u5BF9\\u624B\\u201D\\u2014\\u2014\\u5BA2\\u6237\\u7AEF\\u6E32\\u67D3\\uFF08CSR\\uFF09\\u804A\\u8D77\\u3002CSR\\u662F\\u5565\\uFF1F\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u5C31\\u662F\\u6D4F\\u89C8\\u5668\\u62FF\\u5230\\u4E00\\u4E2A\\u7A7A\\u58F3HTML\\uFF0C\\u7136\\u540E\\u901A\\u8FC7JavaScript\\u628A\\u9875\\u9762\\u5185\\u5BB9\\u52A8\\u6001\\u585E\\u8FDB\\u53BB\\u3002\\u6BD4\\u5982\\u7528React\\u5199\\u4E2ASPA\\uFF08\\u5355\\u9875\\u5E94\\u7528\\uFF09\\uFF0C\\u4F60\\u53EF\\u80FD\\u4F1A\\u89C1\\u5230\\u8FD9\\u6837\\u7684\\u6D41\\u7A0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// index.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ReactDOM \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react-dom'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" App \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" './App'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"ReactDOM.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"App\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />, document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'root'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6D4F\\u89C8\\u5668\\u52A0\\u8F7D\\u5B8CJS\\u540E\\uFF0CReact\\u5F00\\u59CB\\u201C\\u753B\\u753B\\u201D\\uFF0C\\u628A\\u7EC4\\u4EF6\\u6E32\\u67D3\\u5230DOM\\u4E0A\\u3002\\u542C\\u8D77\\u6765\\u5F88\\u7F8E\\u597D\\uFF0C\\u4F46\\u95EE\\u9898\\u6765\\u4E86\\uFF1A\\u5982\\u679CJS\\u8FD8\\u6CA1\\u52A0\\u8F7D\\u5B8C\\uFF0C\\u6216\\u8005\\u7528\\u6237\\u7F51\\u901F\\u6162\\u5F97\\u50CF\\u8717\\u725B\\u722C\\uFF0C\\u9875\\u9762\\u5C31\\u662F\\u4E00\\u7247\\u7A7A\\u767D\\u3002\\u66F4\\u522B\\u63D0\\u641C\\u7D22\\u5F15\\u64CE\\u722C\\u866B\\u4E86\\uFF0C\\u5B83\\u4EEC\\u770B\\u5230\\u8FD9\\u4E2A\\u7A7A\\u58F3HTML\\uFF0C\\u53EF\\u80FD\\u4F1A\\u76F4\\u63A5\\u6446\\u624B\\uFF1A\\u201C\\u6CA1\\u5185\\u5BB9\\uFF0C886\\uFF01\\u201D\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E8E\\u662F\\uFF0CSSR\\u7AD9\\u51FA\\u6765\\u4E86\\u3002\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u7684\\u610F\\u601D\\u662F\\uFF0C\\u670D\\u52A1\\u5668\\u76F4\\u63A5\\u628A\\u6E32\\u67D3\\u597D\\u7684HTML\\u5410\\u7ED9\\u6D4F\\u89C8\\u5668\\uFF0C\\u800C\\u4E0D\\u662F\\u8BA9\\u5BA2\\u6237\\u7AEF\\u81EA\\u5DF1\\u52A8\\u624B\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF1ACSR\\u50CF\\u662F\\u70B9\\u5916\\u5356\\uFF0C\\u4F60\\u62FF\\u5230\\u7684\\u662F\\u751F\\u98DF\\u6750\\uFF0C\\u5F97\\u81EA\\u5DF1\\u7092\\u83DC\\uFF1B\\u800CSSR\\u662F\\u76F4\\u63A5\\u9001\\u4E0A\\u684C\\u7684\\u70ED\\u4E4E\\u4E4E\\u6210\\u54C1\\u996D\\u83DC\\uFF0C\\u5403\\u5B8C\\u8FD8\\u80FD\\u6253\\u5305\\u8D70\\uFF08SEO\\u53CB\\u597D\\uFF09\\u3002\\u8FD9\\u6BD4\\u55BB\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u610F\\u601D\\uFF1F\\u{1F60F}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"ssr\\u7684\\u5E95\\u5C42\\u539F\\u7406\\u4ECE\\u8BF7\\u6C42\\u5230\\u54CD\\u5E94\",children:(0,n.jsx)(e.a,{href:\"#ssr\\u7684\\u5E95\\u5C42\\u539F\\u7406\\u4ECE\\u8BF7\\u6C42\\u5230\\u54CD\\u5E94\",children:\"SSR\\u7684\\u5E95\\u5C42\\u539F\\u7406\\uFF1A\\u4ECE\\u8BF7\\u6C42\\u5230\\u54CD\\u5E94\"})}),`\n`,(0,n.jsx)(e.p,{children:\"SSR\\u7684\\u6D41\\u7A0B\\u5176\\u5B9E\\u4E0D\\u590D\\u6742\\uFF0C\\u4F46\\u7EC6\\u8282\\u591A\\u5F97\\u80FD\\u8BA9\\u4EBA\\u5934\\u79C3\\u3002\\u6211\\u4EEC\\u4EE5React\\u4E3A\\u4F8B\\uFF0C\\u62C6\\u89E3\\u4E00\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7528\\u6237\\u8BF7\\u6C42\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u53D1\\u9001\\u8BF7\\u6C42\\u5230\\u670D\\u52A1\\u5668\\uFF0C\\u6BD4\\u5982\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"GET /home\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u670D\\u52A1\\u5668\\u6E32\\u67D3\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u62FF\\u5230\\u8BF7\\u6C42\\u540E\\uFF0C\\u8C03\\u7528React\\u7684\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"renderToString\"})})})}),\"\\uFF08\\u6216\\u7C7B\\u4F3C\\u65B9\\u6CD5\\uFF09\\uFF0C\\u628A\\u7EC4\\u4EF6\\u6E32\\u67D3\\u6210HTML\\u5B57\\u7B26\\u4E32\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u54CD\\u5E94\\u8FD4\\u56DE\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u628A\\u8FD9\\u4E2AHTML\\u585E\\u8FDB\\u6A21\\u677F\\uFF0C\\u8FDE\\u540C\\u5FC5\\u8981\\u7684JS\\u3001CSS\\u4E00\\u8D77\\u53D1\\u56DE\\u6D4F\\u89C8\\u5668\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5BA2\\u6237\\u7AEF\\u6FC0\\u6D3B\\uFF08Hydration\\uFF09\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u62FF\\u5230HTML\\u540E\\uFF0CReact\\u901A\\u8FC7\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"hydrate\"})})})}),\"\\u628A\\u9759\\u6001HTML\\u201C\\u6FC0\\u6D3B\\u201D\\uFF0C\\u7ED1\\u5B9A\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\uFF0C\\u53D8\\u6210\\u4EA4\\u4E92\\u9875\\u9762\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4EE3\\u7801\\u5927\\u6982\\u957F\\u8FD9\\u6837\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// server.js (\\u4F2A\\u4EE3\\u7801)\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { renderToString } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react-dom/server'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" App \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" './App'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/home'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" html\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" renderToString\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"App\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"    <html>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"      <body>\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'        <div id=\"root\">${'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"html\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}</div>\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'        <script src=\"/client.js\"><\\/script>'})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"      </body>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"    </html>\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"  `\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// client.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ReactDOM \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react-dom'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" App \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" './App'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"ReactDOM.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"hydrate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"App\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />, document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'root'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u8FC7\\u7A0B\\u770B\\u4F3C\\u7B80\\u5355\\uFF0C\\u4F46\\u9B54\\u9B3C\\u85CF\\u5728\\u7EC6\\u8282\\u91CC\\u3002\\u6BD4\\u5982\\uFF0C\\u670D\\u52A1\\u5668\\u600E\\u4E48\\u77E5\\u9053\\u7528\\u6237\\u8BF7\\u6C42\\u7684\\u6570\\u636E\\uFF1F\\u7EC4\\u4EF6\\u7684\\u72B6\\u6001\\u548B\\u540C\\u6B65\\uFF1Fhydration\\u4E3A\\u5565\\u8001\\u51FA\\u9519\\uFF1F\\u522B\\u6025\\uFF0C\\u54B1\\u4EEC\\u6162\\u6162\\u804A\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"ssr\\u7684\\u4F18\\u70B9\\u4E3A\\u5565\\u8981\\u7528\\u5B83\",children:(0,n.jsx)(e.a,{href:\"#ssr\\u7684\\u4F18\\u70B9\\u4E3A\\u5565\\u8981\\u7528\\u5B83\",children:\"SSR\\u7684\\u4F18\\u70B9\\uFF1A\\u4E3A\\u5565\\u8981\\u7528\\u5B83\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"SSR\\u4E0D\\u662F\\u4E07\\u80FD\\u7684\\uFF0C\\u4F46\\u5B83\\u786E\\u5B9E\\u6709\\u51E0\\u4E2A\\u6740\\u624B\\u950F\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9996\\u5C4F\\u6027\\u80FD\"}),\"\\uFF1A\\u7528\\u6237\\u80FD\\u66F4\\u5FEB\\u770B\\u5230\\u5185\\u5BB9\\uFF0C\\u4E0D\\u7528\\u7B49JS\\u52A0\\u8F7D\\u5B8C\\u3002\\u5C24\\u5176\\u5728\\u79FB\\u52A8\\u7AEF\\uFF0C\\u7F51\\u901F\\u4E0D\\u7A33\\u5B9A\\u65F6\\uFF0CSSR\\u7B80\\u76F4\\u662F\\u6551\\u547D\\u7A3B\\u8349\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"SEO\\u53CB\\u597D\"}),\"\\uFF1A\\u641C\\u7D22\\u5F15\\u64CE\\u7231\\u9759\\u6001HTML\\uFF0CSSR\\u76F4\\u63A5\\u628A\\u5185\\u5BB9\\u5582\\u7ED9\\u722C\\u866B\\uFF0C\\u7701\\u5F97\\u5B83\\u4EEC\\u731C\\u6765\\u731C\\u53BB\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7528\\u6237\\u4F53\\u9A8C\"}),\"\\uFF1A\\u51CF\\u5C11\\u767D\\u5C4F\\u65F6\\u95F4\\uFF0C\\u5C24\\u5176\\u662F\\u793E\\u4EA4\\u5A92\\u4F53\\u5206\\u4EAB\\u65F6\\uFF0C\\u9884\\u89C8\\u56FE\\u80FD\\u6B63\\u5E38\\u663E\\u793A\\uFF0C\\u800C\\u4E0D\\u662F\\u4E00\\u7247\\u7070\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF1A\\u5047\\u8BBE\\u4F60\\u505A\\u4E2A\\u7535\\u5546\\u7F51\\u7AD9\\uFF0C\\u9996\\u9875\\u5F97\\u5C55\\u793A\\u5546\\u54C1\\u5217\\u8868\\u3002\\u5982\\u679C\\u7528CSR\\uFF0C\\u7528\\u6237\\u53EF\\u80FD\\u5F97\\u7B493\\u79D2\\u624D\\u80FD\\u770B\\u5230\\u5546\\u54C1\\uFF08JS\\u4E0B\\u8F7D+\\u6267\\u884C\\uFF09\\uFF0C\\u800CSSR\\u80FD\\u628A\\u5217\\u8868\\u76F4\\u63A5\\u585E\\u8FDBHTML\\uFF0C1\\u79D2\\u5185\\u5C31\\u5C55\\u793A\\u51FA\\u6765\\u3002\\u8FD93\\u79D2\\u7684\\u5DEE\\u8DDD\\uFF0C\\u53EF\\u80FD\\u5C31\\u662F\\u7528\\u6237\\u7559\\u4E0B\\u6765\\u8FD8\\u662F\\u5173\\u6389\\u9875\\u9762\\u7684\\u5206\\u6C34\\u5CAD\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"ssr\\u7684\\u75DB\\u70B9\\u522B\\u88AB\\u8868\\u8C61\\u9A97\\u4E86\",children:(0,n.jsx)(e.a,{href:\"#ssr\\u7684\\u75DB\\u70B9\\u522B\\u88AB\\u8868\\u8C61\\u9A97\\u4E86\",children:\"SSR\\u7684\\u75DB\\u70B9\\uFF1A\\u522B\\u88AB\\u8868\\u8C61\\u9A97\\u4E86\"})}),`\n`,(0,n.jsx)(e.p,{children:\"SSR\\u4E5F\\u4E0D\\u662F\\u5B8C\\u7F8E\\u7684\\u201C\\u9B54\\u6CD5\\u68D2\\u201D\\uFF0C\\u7528\\u4E0D\\u597D\\u7167\\u6837\\u7FFB\\u8F66\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u670D\\u52A1\\u5668\\u538B\\u529B\"}),\"\\uFF1A\\u6BCF\\u6B21\\u8BF7\\u6C42\\u90FD\\u8981\\u6E32\\u67D3\\uFF0C\\u670D\\u52A1\\u5668\\u5F97\\u625B\\u4F4F\\u538B\\u529B\\u3002CSR\\u53EA\\u9700\\u8981\\u9759\\u6001\\u6587\\u4EF6\\u5206\\u53D1\\uFF0C\\u670D\\u52A1\\u5668\\u8F7B\\u677E\\u5F97\\u591A\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Hydration\\u5751\"}),\"\\uFF1A\\u5BA2\\u6237\\u7AEF\\u548C\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u4E0D\\u4E00\\u81F4\\uFF08\\u6BD4\\u5982\\u65F6\\u95F4\\u6233\\u3001\\u968F\\u673A\\u6570\\uFF09\\uFF0C\\u4F1A\\u5BFC\\u81F4\\u9875\\u9762\\u95EA\\u70C1\\u751A\\u81F3\\u62A5\\u9519\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5F00\\u53D1\\u590D\\u6742\\u5EA6\"}),\"\\uFF1A\\u4F60\\u5F97\\u540C\\u65F6\\u64CD\\u5FC3\\u670D\\u52A1\\u5668\\u548C\\u5BA2\\u6237\\u7AEF\\u903B\\u8F91\\uFF0C\\u4EE3\\u7801\\u4E00\\u4E0D\\u5C0F\\u5FC3\\u5C31\\u4E71\\u6210\\u4E00\\u9505\\u7CA5\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6211\\u6709\\u6B21\\u8C03\\u8BD5SSR\\uFF0C\\u6123\\u662F\\u82B1\\u4E86\\u4FE9\\u5C0F\\u65F6\\u627Ehydration\\u62A5\\u9519\\uFF0C\\u6700\\u540E\\u53D1\\u73B0\\u662F\\u670D\\u52A1\\u7AEF\\u5C11\\u4F20\\u4E86\\u4E2Aprops\\uFF0C\\u9875\\u9762\\u76F4\\u63A5\\u201C\\u7CBE\\u795E\\u5206\\u88C2\\u201D\\u4E86\\u3002\\u{1F602} \\u6240\\u4EE5\\uFF0CSSR\\u867D\\u597D\\uFF0C\\u522B\\u8D2A\\u676F\\u554A\\uFF01\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6DF1\\u5165hydrationssr\\u7684\\u7075\\u9B42\\u4F34\\u4FA3\",children:(0,n.jsx)(e.a,{href:\"#\\u6DF1\\u5165hydrationssr\\u7684\\u7075\\u9B42\\u4F34\\u4FA3\",children:\"\\u6DF1\\u5165Hydration\\uFF1ASSR\\u7684\\u7075\\u9B42\\u4F34\\u4FA3\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Hydration\\u662FSSR\\u7684\\u6838\\u5FC3\\u73AF\\u8282\\uFF0C\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u5C31\\u662F\\u628A\\u670D\\u52A1\\u7AEF\\u5410\\u51FA\\u7684\\u201C\\u6B7BHTML\\u201D\\u53D8\\u6210\\u201C\\u6D3BReact\\u7EC4\\u4EF6\\u201D\\u3002\\u4F46\\u8FD9\\u8FC7\\u7A0B\\u5BB9\\u6613\\u7FFB\\u8F66\\uFF0C\\u54B1\\u4EEC\\u7EC6\\u804A\\u804A\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"hydration\\u548B\\u5B9E\\u73B0\\u7684\",children:(0,n.jsx)(e.a,{href:\"#hydration\\u548B\\u5B9E\\u73B0\\u7684\",children:\"Hydration\\u548B\\u5B9E\\u73B0\\u7684\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"React\\u7684\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"hydrate\"})})})}),\"\\u4F1A\\u5BF9\\u6BD4\\u670D\\u52A1\\u7AEF\\u751F\\u6210\\u7684HTML\\u548C\\u5BA2\\u6237\\u7AEF\\u7684\\u865A\\u62DFDOM\\u3002\\u5982\\u679C\\u4E00\\u81F4\\uFF0C\\u5C31\\u7ED1\\u5B9A\\u4E8B\\u4EF6\\uFF1B\\u5982\\u679C\\u4E0D\\u4E00\\u81F4\\uFF0C\\u5C31\\u62A5\\u9519\\u6216\\u8005\\u5F3A\\u5236\\u91CD\\u6E32\\u67D3\\u3002\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u670D\\u52A1\\u7AEF\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" html\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" renderToString\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Hello</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5BA2\\u6237\\u7AEF\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"ReactDOM.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"hydrate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Hello</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">, document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'root'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4FE9\\u4E00\\u81F4\\uFF0Chydration\\u5C31\\u6210\\u529F\\u3002\\u4F46\\u5982\\u679C\\u670D\\u52A1\\u7AEF\\u662F\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<div>Hello</div>\"})})})}),\"\\uFF0C\\u5BA2\\u6237\\u7AEF\\u53D8\\u6210\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<div>Hi</div>\"})})})}),\"\\uFF0CReact\\u5C31\\u61F5\\u4E86\\uFF0C\\u76F4\\u63A5\\u62A5\\u9519\\uFF1A\\u201CExpected server HTML to match\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u907F\\u5751\\u6307\\u5357\",children:(0,n.jsx)(e.a,{href:\"#\\u907F\\u5751\\u6307\\u5357\",children:\"\\u907F\\u5751\\u6307\\u5357\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6570\\u636E\\u4E00\\u81F4\\u6027\"}),\"\\uFF1A\\u670D\\u52A1\\u7AEF\\u548C\\u5BA2\\u6237\\u7AEF\\u5F97\\u7528\\u540C\\u4E00\\u4EFD\\u6570\\u636E\\u6E90\\uFF0C\\u522B\\u8BA9\\u670D\\u52A1\\u7AEF\\u67E5\\u6570\\u636E\\u5E93\\uFF0C\\u5BA2\\u6237\\u7AEF\\u8C03API\\uFF0C\\u4FE9\\u4EBA\\u5531\\u5BF9\\u53F0\\u620F\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u907F\\u514D\\u968F\\u673A\\u6027\"}),\"\\uFF1A\\u522B\\u5728\\u7EC4\\u4EF6\\u91CC\\u7528\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Math.random()\"})})})}),\"\\uFF0C\\u5426\\u5219\\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4E0D\\u4E00\\u6837\\uFF0Chydration\\u80AF\\u5B9A\\u70B8\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6761\\u4EF6\\u6E32\\u67D3\\u5C0F\\u5FC3\\u70B9\"}),\"\\uFF1A\\u670D\\u52A1\\u7AEF\\u522B\\u968F\\u4FBF\\u7528\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\"\\u5BF9\\u8C61\\uFF08\\u4E0D\\u5B58\\u5728\\uFF01\\uFF09\\uFF0C\\u4E0D\\u7136\\u5BA2\\u6237\\u7AEF\\u63A5\\u624B\\u65F6\\u76F4\\u63A5\\u5D29\\u6E83\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1F\\u7528\\u4E2A\\u72B6\\u6001\\u7BA1\\u7406\\u5DE5\\u5177\\uFF08\\u50CFRedux\\u6216Zustand\\uFF09\\uFF0C\\u628A\\u6570\\u636E\\u63D0\\u524Dfetch\\u597D\\uFF0C\\u4F20\\u7ED9\\u670D\\u52A1\\u7AEF\\u548C\\u5BA2\\u6237\\u7AEF\\uFF0C\\u4FDD\\u8BC1\\u201C\\u540C\\u6E90\\u540C\\u8C03\\u201D\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"nextjsssr\\u7684\\u6700\\u4F73\\u62CD\\u6863\",children:(0,n.jsx)(e.a,{href:\"#nextjsssr\\u7684\\u6700\\u4F73\\u62CD\\u6863\",children:\"Next.js\\uFF1ASSR\\u7684\\u6700\\u4F73\\u62CD\\u6863\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BF4\\u5230SSR\\uFF0C\\u600E\\u80FD\\u4E0D\\u63D0Next.js\\uFF1F\\u5B83\\u628ASSR\\u73A9\\u5F97\\u7089\\u706B\\u7EAF\\u9752\\uFF0C\\u7701\\u53BB\\u4E86\\u6211\\u4EEC\\u624B\\u5199\\u670D\\u52A1\\u5668\\u7684\\u9EBB\\u70E6\\u3002Next.js\\u7684\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getServerSideProps\"})})})}),\"\\u5C31\\u662FSSR\\u7684\\u5178\\u578B\\u5B9E\\u73B0\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getServerSideProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"context\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { props: { data } };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Page\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{data.title}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Page;\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6BCF\\u6B21\\u8BF7\\u6C42\\uFF0CNext.js\\u90FD\\u4F1A\\u5728\\u670D\\u52A1\\u5668\\u8DD1\\u4E00\\u904D\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getServerSideProps\"})})})}),\"\\uFF0C\\u628A\\u6570\\u636E\\u585E\\u8FDB\\u9875\\u9762\\uFF0C\\u6E32\\u67D3\\u5B8C\\u518D\\u5410\\u7ED9\\u6D4F\\u89C8\\u5668\\u3002\\u7B80\\u5355\\u7C97\\u66B4\\u53C8\\u5B9E\\u7528\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"nextjs\\u7684\\u9A9A\\u64CD\\u4F5C\",children:(0,n.jsx)(e.a,{href:\"#nextjs\\u7684\\u9A9A\\u64CD\\u4F5C\",children:\"Next.js\\u7684\\u9A9A\\u64CD\\u4F5C\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u52A8\\u6001\\u8DEF\\u7531\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"[id].js\"})})})}),\"\\u914D\\u5408SSR\\uFF0C\\u8F7B\\u677E\\u5B9E\\u73B0\\u4E2A\\u6027\\u5316\\u9875\\u9762\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u589E\\u91CF\\u9759\\u6001\\u518D\\u751F\\uFF08ISR\\uFF09\"}),\"\\uFF1ASSR\\u548CSSG\\uFF08\\u9759\\u6001\\u751F\\u6210\\uFF09\\u7684\\u6DF7\\u5408\\u4F53\\uFF0C\\u65E2\\u52A8\\u6001\\u53C8\\u7701\\u8D44\\u6E90\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"API\\u8DEF\\u7531\"}),\"\\uFF1A\\u4E00\\u4E2A\\u6846\\u67B6\\u641E\\u5B9A\\u524D\\u540E\\u7AEF\\uFF0C\\u5F00\\u53D1\\u6548\\u7387\\u8D77\\u98DE\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6211\\u7528Next.js\\u505A\\u8FC7\\u4E2A\\u535A\\u5BA2\\uFF0C\\u6BCF\\u6B21\\u53D1\\u65B0\\u6587\\u7AE0\\uFF0CSSR\\u81EA\\u52A8\\u66F4\\u65B0\\u9996\\u9875\\u5217\\u8868\\uFF0CSEO\\u6548\\u679C\\u6760\\u6760\\u7684\\uFF0C\\u722C\\u866B\\u90FD\\u7ED9\\u6211\\u70B9\\u8D5E\\u3002\\u{1F60E}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9ssr\\u66F4\\u9999\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9ssr\\u66F4\\u9999\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9SSR\\u66F4\\u9999\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u804A\\u4E86\\u8FD9\\u4E48\\u591A\\uFF0C\\u6765\\u70B9\\u5E72\\u8D27\\u2014\\u2014SSR\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E2E\\u4F60\\u5C11\\u8E29\\u5751\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F13\\u5B58\\u662F\\u738B\\u9053\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u6E32\\u67D3\\u8017\\u8D44\\u6E90\\uFF0C\\u7528Redis\\u6216CDN\\u7F13\\u5B58HTML\\uFF0C\\u51CF\\u8F7B\\u538B\\u529B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u61D2\\u52A0\\u8F7D\\u975E\\u9996\\u5C4F\"}),\"\\uFF1A\\u9996\\u5C4F\\u7528SSR\\uFF0C\\u4E0B\\u9762\\u7528CSR\\u6216\\u61D2\\u52A0\\u8F7D\\uFF0C\\u6027\\u80FD\\u548C\\u4F53\\u9A8C\\u4E24\\u4E0D\\u8BEF\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u4F18\\u96C5\\u70B9\"}),\"\\uFF1A\\u670D\\u52A1\\u7AEF\\u5D29\\u4E86\\u522B\\u76F4\\u63A5500\\uFF0C\\u7ED9\\u4E2A\\u964D\\u7EA7\\u9875\\u9762\\uFF0C\\u7528\\u6237\\u4E0D\\u81F3\\u4E8E\\u9A82\\u5A18\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u76D1\\u63A7\\u8981\\u8DDF\\u4E0A\"}),\"\\uFF1A\\u52A0\\u4E2ASentry\\uFF0Chydration\\u62A5\\u9519\\u4E00\\u76EE\\u4E86\\u7136\\uFF0C\\u522B\\u8BA9Bug\\u85CF\\u7740\\u6396\\u7740\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7EC4\\u4EF6\\u5316\\u601D\\u7EF4\"}),\"\\uFF1A\\u628ASSR\\u903B\\u8F91\\u62C6\\u6210\\u5C0F\\u5757\\uFF0C\\u590D\\u7528\\u6027\\u9AD8\\uFF0C\\u7EF4\\u62A4\\u4E5F\\u8F7B\\u677E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF1A\\u6211\\u7ED9\\u4E2A\\u7535\\u5546\\u9879\\u76EE\\u52A0\\u4E86Redis\\u7F13\\u5B58\\uFF0C\\u628A\\u5546\\u54C1\\u8BE6\\u60C5\\u9875\\u7684SSR\\u7ED3\\u679C\\u5B585\\u5206\\u949F\\uFF0C\\u7528\\u6237\\u8BBF\\u95EE\\u76F4\\u63A5\\u4ECE\\u7F13\\u5B58\\u62FF\\uFF0C\\u670D\\u52A1\\u5668\\u538B\\u529B\\u964D\\u4E8670%\\uFF0C\\u8001\\u677F\\u90FD\\u7ED9\\u6211\\u52A0\\u9E21\\u817F\\u4E86\\u3002\\u{1F357}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"ssr-vs-csr-vs-ssg\\u5230\\u5E95\\u9009\\u54EA\\u4E2A\",children:(0,n.jsx)(e.a,{href:\"#ssr-vs-csr-vs-ssg\\u5230\\u5E95\\u9009\\u54EA\\u4E2A\",children:\"SSR vs CSR vs SSG\\uFF1A\\u5230\\u5E95\\u9009\\u54EA\\u4E2A\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u540E\\uFF0C\\u54B1\\u4EEC\\u6765\\u4E2A\\u5927\\u603B\\u7ED3\\u3002SSR\\u3001CSR\\u3001SSG\\uFF08\\u9759\\u6001\\u751F\\u6210\\uFF09\\u5404\\u6709\\u5343\\u79CB\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"CSR\"}),\"\\uFF1A\\u9002\\u5408\\u4EA4\\u4E92\\u9891\\u7E41\\u7684\\u540E\\u53F0\\u7CFB\\u7EDF\\uFF0CSEO\\u4E0D\\u91CD\\u8981\\u65F6\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"SSR\"}),\"\\uFF1A\\u9996\\u5C4F\\u5FEB\\u3001SEO\\u5F3A\\uFF0C\\u9002\\u5408\\u7535\\u5546\\u3001\\u535A\\u5BA2\\u8FD9\\u79CD\\u5185\\u5BB9\\u578B\\u7AD9\\u70B9\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"SSG\"}),\"\\uFF1A\\u5185\\u5BB9\\u4E0D\\u548B\\u53D8\\u65F6\\uFF08\\u6BD4\\u5982\\u6587\\u6863\\u7AD9\\uFF09\\uFF0C\\u751F\\u6210\\u4E00\\u6B21\\u5230\\u5904\\u7528\\uFF0C\\u7701\\u5FC3\\u7701\\u529B\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9009\\u54EA\\u4E2A\\uFF1F\\u770B\\u9700\\u6C42\\u3002\\u6BD4\\u5982\\u6211\\u6700\\u8FD1\\u505A\\u4E2A\\u65B0\\u95FB\\u7AD9\\uFF0C\\u9996\\u9875\\u7528SSR\\u5B9E\\u65F6\\u66F4\\u65B0\\uFF0C\\u6587\\u7AE0\\u9875\\u7528SSG\\u63D0\\u524D\\u751F\\u6210\\uFF0C\\u5B8C\\u7F8E\\u5E73\\u8861\\u6027\\u80FD\\u548C\\u52A8\\u6001\\u6027\\u3002\\u4F60\\u5462\\uFF0C\\u4E0B\\u4E2A\\u9879\\u76EE\\u6253\\u7B97\\u600E\\u4E48\\u73A9\\uFF1F\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u7ED3\\u8BEDssr\\u7684\\u672A\\u6765\",children:(0,n.jsx)(e.a,{href:\"#\\u7ED3\\u8BEDssr\\u7684\\u672A\\u6765\",children:\"\\u7ED3\\u8BED\\uFF1ASSR\\u7684\\u672A\\u6765\"})}),`\n`,(0,n.jsx)(e.p,{children:\"SSR\\u53D1\\u5C55\\u5230\\u73B0\\u5728\\uFF0C\\u5DF2\\u7ECF\\u4E0D\\u53EA\\u662F\\u201C\\u670D\\u52A1\\u7AEF\\u5410HTML\\u201D\\u90A3\\u4E48\\u7B80\\u5355\\u3002React 18\\u7684Server Components\\u3001Next.js\\u7684TurboPack\\uFF0C\\u751A\\u81F3Qwik\\u7684\\u201C\\u65E0hydration\\u6E32\\u67D3\\u201D\\uFF0C\\u90FD\\u5728\\u91CD\\u65B0\\u5B9A\\u4E49SSR\\u7684\\u8FB9\\u754C\\u3002\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u7406\\u89E3SSR\\u7684\\u539F\\u7406\\u548C\\u5B9E\\u8DF5\\uFF0C\\u4E0D\\u4EC5\\u80FD\\u5199\\u51FA\\u9AD8\\u6027\\u80FD\\u5E94\\u7528\\uFF0C\\u8FD8\\u80FD\\u8BA9\\u4F60\\u5728\\u9762\\u8BD5\\u65F6\\u591A\\u5439\\u51E0\\u5206\\u949F\\u725B\\u3002\\u{1F61C}\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u597D\\u4E86\\uFF0C\\u4ECA\\u5929\\u7684SSR\\u786C\\u6838\\u4E4B\\u65C5\\u5C31\\u5230\\u8FD9\\u513F\\u3002\\u4F60\\u6709\\u5565\\u7591\\u95EE\\u6216\\u8005\\u5B9E\\u6218\\u7ECF\\u9A8C\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u804A\\u804A\\uFF01\\u6BD5\\u7ADF\\uFF0C\\u4EE3\\u7801\\u662F\\u6B7B\\u7684\\uFF0C\\u4EBA\\u662F\\u6D3B\\u7684\\uFF0C\\u6280\\u672F\\u5F97\\u9760\\u6478\\u7D22\\u548C\\u5206\\u4EAB\\u624D\\u80FD\\u8FDB\\u6B65\\u3002\\u5BF9\\u4E86\\uFF0C\\u5982\\u679C\\u4F60\\u89C9\\u5F97hydration\\u8FD8\\u662F\\u4E2A\\u8C1C\\uFF0C\\u4E0B\\u6B21\\u6211\\u518D\\u5199\\u7BC7\\u300AHydration\\u6DF1\\u5EA6\\u89E3\\u6790\\u300B\\uFF0C\\u5E26\\u4F60\\u5F7B\\u5E95\\u641E\\u5B9A\\u5B83\\u3002\\u270C\\uFE0F\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(h,{...l})}):h(l)}return m(f);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/SSG.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/SSG.mdx",
    "sourceFileName": "SSG.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/SSG"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/SSG"
}
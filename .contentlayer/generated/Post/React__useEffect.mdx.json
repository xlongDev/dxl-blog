{
  "title": "æ­ç§˜ useEffectï¼šReact æ ¸å¿ƒé’©å­ä½¿ç”¨æŠ€å·§ä¸é¿å‘å…¨æ”»ç•¥ ğŸš€",
  "date": "2024-08-03T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æ React useEffect é’©å­çš„æ ¸å¿ƒä½¿ç”¨æŠ€å·§ã€å¸¸è§è¯¯åŒºä¸æœ€ä½³å®è·µï¼Œæ¶µç›–åŸç†ã€ç¤ºä¾‹å’Œå®ç”¨å»ºè®®ï¼ŒåŠ©åŠ›å‰ç«¯å¼€å‘è€…å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç ã€‚",
  "keywords": "React, useEffect, React Hooks, å‰ç«¯å¼€å‘, å‰¯ä½œç”¨ç®¡ç†, æ€§èƒ½ä¼˜åŒ–, æœ€ä½³å®è·µ",
  "author": "æ™“é¾™",
  "image": "/images/hero/useeffect-guide.jpg",
  "tags": [
    "React",
    "Frontend",
    "JavaScript",
    "Hooks"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\n> â€œä»£ç æ˜¯è¯—ï¼Œå‰¯ä½œç”¨æ˜¯éŸµå¾‹ï¼Œ`useEffect` æ˜¯é‚£æ”¯è°ƒéŸ³çš„æŒ‡æŒ¥æ£’ã€‚â€\n\nä½œä¸º React å¼€å‘è€…ï¼Œ`useEffect` å¯èƒ½æ˜¯ä½ æœ€å¸¸æ‰“äº¤é“çš„é’©å­ä¹‹ä¸€ã€‚å®ƒåƒä¸€ä¸ªâ€œé­”æ³•å¸ˆâ€ï¼Œå¸®ä½ åœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ç®¡ç†å‰¯ä½œç”¨ï¼Œä½†ç¨ä¸ç•™ç¥ï¼Œå®ƒä¹Ÿå¯èƒ½å˜æˆâ€œæ£è›‹é¬¼â€ï¼Œè®©ä½ çš„ä»£ç é™·å…¥æ··ä¹±ã€‚ğŸ”¥ æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ `useEffect` çš„æ ¸å¿ƒï¼Œæ­å¼€å®ƒçš„ç¥ç§˜é¢çº±ï¼Œä»åŸç†åˆ°å®è·µï¼Œä»æŠ€å·§åˆ°é¿å‘ï¼Œå…¨é¢è§£æå¦‚ä½•ä¼˜é›…åœ°é©¾é©­è¿™ä¸ª React æ ¸å¿ƒé’©å­ã€‚\n\nè¿™ä¸ä»…æ˜¯ä¸€ç¯‡æŠ€æœ¯æŒ‡å—ï¼Œæ›´æ˜¯ä¸€åœºå…³äºä»£ç å“²å­¦ã€æ€ç»´æ–¹å¼å’Œå®è·µæ™ºæ…§çš„æ¢ç´¢ã€‚æ— è®ºä½ æ˜¯ React æ–°æ‰‹è¿˜æ˜¯è€å…µï¼Œè¿™ç¯‡æ–‡ç« éƒ½ä¼šè®©ä½ æœ‰æ‰€æ”¶è·ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœº `useEffect` çš„å†’é™©å§ï¼ğŸ§™â€â™‚ï¸\n\n---\n\n## ä»€ä¹ˆæ˜¯ useEffectï¼Ÿä»å“²å­¦åˆ°æœ¬è´¨\n\nåœ¨æ·±å…¥æŠ€å·§ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥èŠèŠ `useEffect` çš„â€œçµé­‚â€ã€‚React çš„è®¾è®¡å“²å­¦æ˜¯ **å£°æ˜å¼ç¼–ç¨‹**ï¼Œå¼ºè°ƒâ€œæè¿°çŠ¶æ€ï¼ŒReact å¸®ä½ æ¸²æŸ“ UIâ€ã€‚ä½†ç°å®ä¸–ç•Œä¸­ï¼ŒUI ä¹‹å¤–è¿˜æœ‰è®¸å¤šâ€œå‰¯ä½œç”¨â€ï¼ˆSide Effectsï¼‰ï¼Œæ¯”å¦‚ï¼š\n\n- å‘èµ·ç½‘ç»œè¯·æ±‚\n- æ“ä½œ DOM\n- è®¢é˜…äº‹ä»¶\n- è®¾ç½®å®šæ—¶å™¨\n\nè¿™äº›æ“ä½œä¸åœ¨ React çš„â€œçº¯å‡½æ•°â€ç®¡è¾–èŒƒå›´å†…ï¼Œäºæ˜¯ `useEffect` åº”è¿è€Œç”Ÿã€‚å®ƒæ˜¯ React æä¾›çš„ä¸€ä¸ªâ€œå‰¯ä½œç”¨å®¹å™¨â€ï¼Œè®©ä½ åœ¨ç»„ä»¶æ¸²æŸ“åå®‰å…¨åœ°æ‰§è¡Œè¿™äº›â€œæ‚äº‹â€ã€‚\n\n### useEffect çš„æ ¸å¿ƒç­¾å\n\n```jsx\nuseEffect(() => {\n  // å‰¯ä½œç”¨é€»è¾‘\n  return () => {\n    // æ¸…ç†é€»è¾‘\n  };\n}, [dependencies]);\n```\n\n- **ç¬¬ä¸€ä¸ªå‚æ•°**ï¼šå‰¯ä½œç”¨å‡½æ•°ï¼ŒåŒ…å«ä½ æƒ³åœ¨æ¸²æŸ“åæ‰§è¡Œçš„é€»è¾‘ã€‚\n- **ç¬¬äºŒä¸ªå‚æ•°**ï¼šä¾èµ–æ•°ç»„ï¼Œæ§åˆ¶å‰¯ä½œç”¨ä½•æ—¶è¿è¡Œã€‚\n- **è¿”å›å€¼**ï¼ˆå¯é€‰ï¼‰ï¼šæ¸…ç†å‡½æ•°ï¼Œåœ¨ç»„ä»¶å¸è½½æˆ–ä¾èµ–å˜æ›´å‰è¿è¡Œã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼Œ`useEffect` å°±åƒä½ å®¶é‡Œçš„æ™ºèƒ½æ‰«åœ°æœºå™¨äºº ğŸ¤–ï¼šå®ƒä¼šåœ¨ä½ æŒ‡å®šçš„æ—¶é—´ï¼ˆä¾èµ–å˜æ›´ï¼‰æ‰“æ‰«æˆ¿é—´ï¼ˆæ‰§è¡Œå‰¯ä½œç”¨ï¼‰ï¼Œè¿˜èƒ½åœ¨ç¦»å¼€å‰æ”¶æ‹¾å¥½ï¼ˆæ¸…ç†é€»è¾‘ï¼‰ã€‚\n\n> **å° Tips**ï¼š*å§‹ç»ˆæ˜ç¡®ä½ çš„å‰¯ä½œç”¨ç›®æ ‡ï¼Œé¿å…åœ¨ `useEffect` ä¸­å †ç Œè¿‡å¤šé€»è¾‘ï¼Œå¦åˆ™ä»£ç ä¼šåƒâ€œæ‚ç‰©é—´â€ä¸€æ ·éš¾ä»¥ç»´æŠ¤ã€‚*\n\n---\n\n## useEffect çš„è¿è¡Œæœºåˆ¶ï¼šæ·±å…¥åŸç†\n\nè¦çœŸæ­£æŒæ¡ `useEffect`ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å®ƒçš„è¿è¡Œæœºåˆ¶ã€‚React çš„æ¸²æŸ“æµç¨‹å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š\n\n1. **Render é˜¶æ®µ**ï¼šReact æ ¹æ®çŠ¶æ€å’Œ props ç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOMã€‚\n2. **Commit é˜¶æ®µ**ï¼šå°†è™šæ‹Ÿ DOM åº”ç”¨åˆ°çœŸå® DOMã€‚\n3. **å‰¯ä½œç”¨é˜¶æ®µ**ï¼šæ‰§è¡Œ `useEffect` å’Œå…¶ä»–å‰¯ä½œç”¨é€»è¾‘ã€‚\n\n`useEffect` æ€»æ˜¯åœ¨ **Commit é˜¶æ®µ** åè¿è¡Œï¼Œç¡®ä¿ DOM å·²æ›´æ–°ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®ƒé€‚åˆå¤„ç† DOM æ“ä½œæˆ–å¼‚æ­¥è¯·æ±‚ã€‚\n\n### ä¾èµ–æ•°ç»„çš„ç§˜å¯†\n\nä¾èµ–æ•°ç»„æ˜¯ `useEffect` çš„â€œé¥æ§å™¨â€ã€‚React ä¼šæ¯”è¾ƒæ–°æ—§ä¾èµ–æ•°ç»„çš„æ¯ä¸€é¡¹ï¼ˆä½¿ç”¨ `Object.is` è¿›è¡Œæµ…æ¯”è¾ƒï¼‰ï¼Œå†³å®šæ˜¯å¦é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ã€‚\n\n- **ç©ºæ•°ç»„ `[]`**ï¼šå‰¯ä½œç”¨åªåœ¨ç»„ä»¶æŒ‚è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç±»ä¼¼ `componentDidMount`ã€‚\n- **éç©ºæ•°ç»„ `[dep1, dep2]`**ï¼šå½“æ•°ç»„ä¸­çš„ä»»æ„ä¾èµ–å˜æ›´æ—¶ï¼Œå‰¯ä½œç”¨é‡æ–°è¿è¡Œã€‚\n- **æ— ä¾èµ–æ•°ç»„**ï¼šæ¯æ¬¡æ¸²æŸ“åéƒ½è¿è¡Œå‰¯ä½œç”¨ï¼ˆè°¨æ…ä½¿ç”¨ï¼âš ï¸ï¼‰ã€‚\n\n> **å° Tips**ï¼š*ä¾èµ–æ•°ç»„ä¸­çš„å€¼åº”è¯¥æ˜¯åŸå§‹å€¼æˆ–ç¨³å®šå¼•ç”¨ï¼Œé¿å…ä½¿ç”¨å¯¹è±¡æˆ–å‡½æ•°ä½œä¸ºä¾èµ–ï¼Œé™¤éå®ƒä»¬è¢« `useMemo` æˆ– `useCallback` åŒ…è£¹ã€‚*\n\n### æ¸…ç†å‡½æ•°çš„å“²å­¦\n\n`useEffect` çš„æ¸…ç†å‡½æ•°å°±åƒæ˜¯å‰¯ä½œç”¨çš„â€œå–„åä¸“å®¶â€ã€‚å®ƒåœ¨ä»¥ä¸‹åœºæ™¯è¿è¡Œï¼š\n\n- ç»„ä»¶å¸è½½æ—¶ï¼ˆç±»ä¼¼ `componentWillUnmount`ï¼‰ã€‚\n- ä¾èµ–å˜æ›´æ—¶ï¼Œåœ¨æ–°çš„å‰¯ä½œç”¨æ‰§è¡Œå‰ã€‚\n\næ¸…ç†å‡½æ•°çš„å­˜åœ¨ä½“ç°äº† React çš„ **èµ„æºç®¡ç†å“²å­¦**ï¼šæ¯åˆ†é…ä¸€ä¸ªèµ„æºï¼ˆè®¢é˜…ã€å®šæ—¶å™¨ï¼‰ï¼Œå°±å¿…é¡»æä¾›ä¸€ç§å›æ”¶æ–¹å¼ã€‚è¿™ç§è®¾è®¡é¿å…äº†å†…å­˜æ³„æ¼å’ŒçŠ¶æ€ç«äº‰ã€‚\n\n---\n\n## useEffect çš„æ ¸å¿ƒä½¿ç”¨åœºæ™¯\n\n`useEffect` çš„ç”¨é€”éå¸¸å¹¿æ³›ï¼Œä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§åœºæ™¯åŠå…¶æœ€ä½³å®è·µã€‚\n\n### 1. æ•°æ®è·å–ï¼ˆData Fetchingï¼‰\n\næ•°æ®è·å–æ˜¯ `useEffect` çš„ç»å…¸ç”¨ä¾‹ã€‚å‡è®¾æˆ‘ä»¬è¦ä» API è·å–ç”¨æˆ·åˆ—è¡¨ï¼š\n\n```jsx\nimport { useState, useEffect } from 'react';\n\nfunction UserList() {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    let isMounted = true; // é¿å…å†…å­˜æ³„æ¼\n    const fetchUsers = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch('https://api.example.com/users');\n        const data = await response.json();\n        if (isMounted) {\n          setUsers(data);\n          setLoading(false);\n        }\n      } catch (err) {\n        if (isMounted) {\n          setError(err.message);\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchUsers();\n\n    return () => {\n      isMounted = false; // æ¸…ç†æ ‡å¿—\n    };\n  }, []);\n\n  if (loading) return <div>åŠ è½½ä¸­...</div>;\n  if (error) return <div>é”™è¯¯ï¼š{error}</div>;\n  return (\n    <ul>\n      {users.map(user => (\n        <li key={user.id}>{user.name}</li>\n      ))}\n    </ul>\n  );\n}\n\nexport default UserList;\n```\n\n**æœ€ä½³å®è·µ**ï¼š\n- ä½¿ç”¨ `isMounted` æ ‡å¿—é˜²æ­¢ç»„ä»¶å¸è½½åæ›´æ–°çŠ¶æ€ã€‚\n- å§‹ç»ˆå¤„ç†åŠ è½½å’Œé”™è¯¯çŠ¶æ€ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚\n- é¿å…åœ¨ `useEffect` ä¸­ç›´æ¥ä½¿ç”¨ async å‡½æ•°ï¼ˆReact ä¸æ”¯æŒç›´æ¥è¿”å› Promiseï¼‰ã€‚\n\n> **å° Tips**ï¼š*å°†æ•°æ®è·å–é€»è¾‘æŠ½å–ä¸ºè‡ªå®šä¹‰ Hookï¼ˆå¦‚ `useFetch`ï¼‰ï¼Œæé«˜ä»£ç å¤ç”¨æ€§å’Œå¯è¯»æ€§ã€‚*\n\n### 2. äº‹ä»¶è®¢é˜…ï¼ˆEvent Subscriptionï¼‰\n\n`useEffect` éå¸¸é€‚åˆç®¡ç†äº‹ä»¶ç›‘å¬å™¨ï¼Œæ¯”å¦‚ç›‘å¬çª—å£çš„ `resize` äº‹ä»¶ï¼š\n\n```jsx\nimport { useState, useEffect } from 'react';\n\nfunction WindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  return (\n    <div>\n      çª—å£å¤§å°ï¼š{windowSize.width} x {windowSize.height}\n    </div>\n  );\n}\n\nexport default WindowSize;\n```\n\n**æœ€ä½³å®è·µ**ï¼š\n- å§‹ç»ˆåœ¨æ¸…ç†å‡½æ•°ä¸­ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚\n- ä½¿ç”¨é˜²æŠ–ï¼ˆdebounceï¼‰æˆ–èŠ‚æµï¼ˆthrottleï¼‰ä¼˜åŒ–é¢‘ç¹è§¦å‘çš„äº‹ä»¶ã€‚\n\n> **å° Tips**ï¼š*å°†äº‹ä»¶å¤„ç†é€»è¾‘å°è£…ä¸ºè‡ªå®šä¹‰ Hookï¼ˆå¦‚ `useWindowSize`ï¼‰ï¼Œè®©ä»£ç æ›´æ¨¡å—åŒ–ã€‚*\n\n### 3. å®šæ—¶å™¨ç®¡ç†\n\nå®šæ—¶å™¨ï¼ˆå¦‚ `setInterval`ï¼‰æ˜¯ `useEffect` çš„å¦ä¸€ä¸ªå¸¸è§åœºæ™¯ï¼š\n\n```jsx\nimport { useState, useEffect } from 'react';\n\nfunction Timer() {\n  const [seconds, setSeconds] = useState(0);\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      setSeconds(prev => prev + 1);\n    }, 1000);\n\n    return () => clearInterval(intervalId);\n  }, []);\n\n  return <div>å·²è¿è¡Œ {seconds} ç§’</div>;\n}\n\nexport default Timer;\n```\n\n**æœ€ä½³å®è·µ**ï¼š\n- å§‹ç»ˆåœ¨æ¸…ç†å‡½æ•°ä¸­æ¸…é™¤å®šæ—¶å™¨ã€‚\n- å¦‚æœéœ€è¦åŠ¨æ€æ›´æ–°å®šæ—¶å™¨é—´éš”ï¼Œä½¿ç”¨ `useRef` å­˜å‚¨ `intervalId`ã€‚\n\n> **å° Tips**ï¼š*é¿å…åœ¨ä¾èµ–æ•°ç»„ä¸­æ”¾å…¥çŠ¶æ€æ›´æ–°å‡½æ•°ï¼ˆå¦‚ `setSeconds`ï¼‰ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ„å¤–çš„é‡æ¸²æŸ“ã€‚*\n\n---\n\n## useEffect çš„å¸¸è§è¯¯åŒºä¸é¿å‘æŒ‡å—\n\n`useEffect` è™½ç„¶å¼ºå¤§ï¼Œä½†ä¹Ÿå®¹æ˜“è¸©å‘ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§è¯¯åŒºåŠå…¶è§£å†³æ–¹æ¡ˆï¼Œé…ä»¥å¹½é»˜çš„ç±»æ¯”å’Œå®ç”¨å»ºè®®ã€‚\n\n### è¯¯åŒº 1ï¼šä¾èµ–æ•°ç»„é—æ¼\n\n**é—®é¢˜**ï¼šé—æ¼ä¾èµ–æ•°ç»„ä¸­çš„å˜é‡ä¼šå¯¼è‡´å‰¯ä½œç”¨è¡Œä¸ºä¸ç¬¦åˆé¢„æœŸã€‚ä¾‹å¦‚ï¼š\n\n```jsx\nfunction Counter({ step }) {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    const id = setInterval(() => {\n      setCount(count + step); // é”™è¯¯ï¼šstep æœªåœ¨ä¾èµ–æ•°ç»„ä¸­\n    }, 1000);\n    return () => clearInterval(id);\n  }, [count]); // é—æ¼äº† step\n\n  return <div>{count}</div>;\n}\n```\n\n**åæœ**ï¼š`step` å˜åŒ–æ—¶ï¼Œ`useEffect` ä¸ä¼šé‡æ–°è¿è¡Œï¼Œå¯¼è‡´è®¡æ•°å™¨è¡Œä¸ºå¼‚å¸¸ã€‚\n\n**è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿ä¾èµ–æ•°ç»„åŒ…å«æ‰€æœ‰å‰¯ä½œç”¨ä¸­ä½¿ç”¨çš„å¤–éƒ¨å˜é‡ã€‚ESLint çš„ `react-hooks/exhaustive-deps` è§„åˆ™æ˜¯ä½ çš„å¥½å¸®æ‰‹ã€‚\n\n**ä¿®å¤ä»£ç **ï¼š\n\n```jsx\nuseEffect(() => {\n  const id = setInterval(() => {\n    setCount(prev => prev + step); // ä½¿ç”¨å‡½æ•°å¼æ›´æ–°\n  }, 1000);\n  return () => clearInterval(id);\n}, [step]); // æ­£ç¡®åŒ…å« step\n```\n\n**ç±»æ¯”**ï¼šä¾èµ–æ•°ç»„å°±åƒä½ çš„è´­ç‰©æ¸…å• ğŸ›’ï¼Œæ¼å†™ä¸€ä¸ªé£Ÿæï¼Œä½ çš„èœè‚´å°±ä¼šå‘³é“ä¸å¯¹ã€‚\n\n> **å° Tips**ï¼š*å®‰è£… `eslint-plugin-react-hooks`ï¼Œè®© ESLint å¸®ä½ è‡ªåŠ¨æ£€æµ‹ä¾èµ–æ•°ç»„é—®é¢˜ã€‚*\n\n### è¯¯åŒº 2ï¼šæ— é™å¾ªç¯\n\n**é—®é¢˜**ï¼šåœ¨ `useEffect` ä¸­æ›´æ–°çŠ¶æ€ï¼Œä¸”çŠ¶æ€åœ¨ä¾èµ–æ•°ç»„ä¸­ï¼Œå¯èƒ½å¯¼è‡´æ— é™å¾ªç¯ï¼š\n\n```jsx\nfunction BadCounter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    setCount(count + 1); // æ¯æ¬¡æ¸²æŸ“éƒ½æ›´æ–° count\n  }, [count]); // count å˜åŒ–è§¦å‘é‡æ¸²æŸ“\n\n  return <div>{count}</div>;\n}\n```\n\n**åæœ**ï¼šç»„ä»¶é™·å…¥æ— é™é‡æ¸²æŸ“ï¼Œæµè§ˆå™¨ç›´æ¥â€œå´©æºƒâ€ ğŸ˜µã€‚\n\n**è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥å‰¯ä½œç”¨é€»è¾‘ï¼Œé¿å…ä¸å¿…è¦çš„çŠ¶æ€æ›´æ–°ã€‚å¦‚æœéœ€è¦ç´¯åŠ è®¡æ•°ï¼Œä½¿ç”¨å‡½æ•°å¼æ›´æ–°æˆ–æ¡ä»¶é€»è¾‘ï¼š\n\n```jsx\nuseEffect(() => {\n  if (count < 10) {\n    setCount(count + 1); // é™åˆ¶æ›´æ–°æ¬¡æ•°\n  }\n}, [count]);\n```\n\n**ç±»æ¯”**ï¼šè¿™å°±åƒä½ ä¸åœåœ°å¾€å’–å•¡é‡ŒåŠ ç³– â˜•ï¼Œç»“æœç”œåˆ°æ— æ³•å…¥å£ã€‚\n\n> **å° Tips**ï¼š*åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ React DevTools ç›‘æ§æ¸²æŸ“æ¬¡æ•°ï¼Œå¿«é€Ÿå®šä½æ— é™å¾ªç¯é—®é¢˜ã€‚*\n\n### è¯¯åŒº 3ï¼šæ¸…ç†å‡½æ•°ç¼ºå¤±\n\n**é—®é¢˜**ï¼šæœªæä¾›æ¸…ç†å‡½æ•°ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ã€‚ä¾‹å¦‚ï¼š\n\n```jsx\nfunction ChatRoom({ roomId }) {\n  useEffect(() => {\n    const socket = new WebSocket(`wss://example.com/${roomId}`);\n    socket.onmessage = (msg) => console.log(msg);\n    // ç¼ºå°‘æ¸…ç†å‡½æ•°\n  }, [roomId]);\n\n  return <div>èŠå¤©å®¤ï¼š{roomId}</div>;\n}\n```\n\n**åæœ**ï¼šå½“ `roomId` å˜åŒ–æˆ–ç»„ä»¶å¸è½½æ—¶ï¼Œæ—§çš„ WebSocket è¿æ¥æœªå…³é—­ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚\n\n**è§£å†³æ–¹æ¡ˆ**ï¼šå§‹ç»ˆè¿”å›æ¸…ç†å‡½æ•°ï¼š\n\n```jsx\nuseEffect(() => {\n  const socket = new WebSocket(`wss://example.com/${roomId}`);\n  socket.onmessage = (msg) => console.log(msg);\n\n  return () => {\n    socket.close();\n  };\n}, [roomId]);\n```\n\n**ç±»æ¯”**ï¼šä¸æ¸…ç†å°±åƒä½ ç¦»å¼€å®¶æ—¶å¿˜äº†å…³æ°´é¾™å¤´ ğŸš°ï¼Œè¿Ÿæ—©ä¼šâ€œæ°´æ¼«é‡‘å±±â€ã€‚\n\n> **å° Tips**ï¼š*å°†æ¸…ç†é€»è¾‘ä¸åˆ›å»ºé€»è¾‘å¯¹ç§°ç¼–å†™ï¼Œå…»æˆâ€œæœ‰å€Ÿæœ‰è¿˜â€çš„ç¼–ç ä¹ æƒ¯ã€‚*\n\n---\n\n## useEffect æœ€ä½³å®è·µä¸€è§ˆè¡¨\n\nä»¥ä¸‹æ˜¯ `useEffect` çš„æœ€ä½³å®è·µæ€»ç»“ï¼Œä¾›å¿«é€Ÿå‚è€ƒï¼š\n\n| **å®è·µ** | **æè¿°** | **ç¤ºä¾‹** | **æ³¨æ„äº‹é¡¹** |\n|----------|----------|----------|--------------|\n| **æ˜ç¡®ä¾èµ–æ•°ç»„** | ç¡®ä¿æ‰€æœ‰å‰¯ä½œç”¨ä¸­ä½¿ç”¨çš„å˜é‡éƒ½åœ¨ä¾èµ–æ•°ç»„ä¸­ã€‚ | `useEffect(() => { fetchData(id); }, [id]);` | ä½¿ç”¨ ESLint æ’ä»¶æ£€æŸ¥ä¾èµ–å®Œæ•´æ€§ã€‚ |\n| **é¿å…æ— é™å¾ªç¯** | é¿å…åœ¨å‰¯ä½œç”¨ä¸­ç›´æ¥æ›´æ–°ä¾èµ–çŠ¶æ€ã€‚ | `setCount(prev => prev + 1);` | ä½¿ç”¨å‡½æ•°å¼æ›´æ–°æˆ–æ¡ä»¶é€»è¾‘ã€‚ |\n| **å§‹ç»ˆæ¸…ç†èµ„æº** | è¿”å›æ¸…ç†å‡½æ•°ï¼Œé‡Šæ”¾è®¢é˜…ã€å®šæ—¶å™¨ç­‰èµ„æºã€‚ | `return () => clearInterval(id);` | ç¡®ä¿æ¸…ç†é€»è¾‘ä¸åˆ›å»ºé€»è¾‘å¯¹ç§°ã€‚ |\n| **æŠ½å–è‡ªå®šä¹‰ Hook** | å°†å¤æ‚å‰¯ä½œç”¨é€»è¾‘å°è£…ä¸ºå¯å¤ç”¨çš„ Hookã€‚ | `useFetch(url)` | æé«˜ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ |\n| **ä¼˜åŒ–æ€§èƒ½** | ä½¿ç”¨ `useMemo` æˆ– `useCallback` ç¨³å®šä¾èµ–ã€‚ | `const memoizedCallback = useCallback(() => {}, []);` | é¿å…ä¸å¿…è¦çš„å‰¯ä½œç”¨é‡è¿è¡Œã€‚ |\n| **å¤„ç†å¼‚æ­¥é€»è¾‘** | é¿å…ç›´æ¥åœ¨ `useEffect` ä¸­ä½¿ç”¨ async å‡½æ•°ã€‚ | ä½¿ç”¨å†…éƒ¨ async å‡½æ•°å¹¶è°ƒç”¨ã€‚ | ç¡®ä¿æ¸…ç†å¼‚æ­¥æ“ä½œã€‚ |\n\n> **å° Tips**ï¼š*å°†æ­¤è¡¨æ ¼æ‰“å°å‡ºæ¥ï¼Œè´´åœ¨æ˜¾ç¤ºå™¨æ—ï¼Œæ¯æ¬¡å†™ `useEffect` æ—¶å¿«é€Ÿæ ¸å¯¹ï¼*\n\n---\n\n## é«˜çº§æŠ€å·§ï¼šè§£é” useEffect çš„éšè—æ½œåŠ›\n\n`useEffect` ä¸ä»…èƒ½å¤„ç†åŸºç¡€å‰¯ä½œç”¨ï¼Œè¿˜èƒ½å®ç°ä¸€äº›é«˜çº§åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯å‡ ç§è¿›é˜¶ç”¨æ³•ï¼Œå¸¦ä½ ç©è½¬ `useEffect`ã€‚\n\n### 1. æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸæ–¹æ³•\n\nè™½ç„¶ Hooks å–ä»£äº†ç±»ç»„ä»¶ï¼Œä½†ä½ å¯ä»¥ç”¨ `useEffect` æ¨¡æ‹Ÿä¼ ç»Ÿç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š\n\n- **componentDidMount**ï¼šç©ºä¾èµ–æ•°ç»„ã€‚\n- **componentDidUpdate**ï¼šæŒ‡å®šä¾èµ–æ•°ç»„ã€‚\n- **componentWillUnmount**ï¼šæ¸…ç†å‡½æ•°ã€‚\n\nç¤ºä¾‹ï¼š\n\n```jsx\nuseEffect(() => {\n  console.log('ç»„ä»¶æŒ‚è½½');\n  return () => console.log('ç»„ä»¶å¸è½½');\n}, []); // æ¨¡æ‹Ÿ componentDidMount å’Œ componentWillUnmount\n\nuseEffect(() => {\n  console.log('ä¾èµ–æ›´æ–°ï¼š', someProp);\n}, [someProp]); // æ¨¡æ‹Ÿ componentDidUpdate\n```\n\n> **å° Tips**ï¼š*å°†å¤šä¸ªç›¸å…³å‰¯ä½œç”¨åˆå¹¶åˆ°ä¸€ä¸ª `useEffect` ä¸­ï¼Œå‡å°‘ä»£ç åˆ†æ•£ã€‚*\n\n### 2. å»¶è¿Ÿæ‰§è¡Œå‰¯ä½œç”¨\n\næœ‰æ—¶ï¼Œä½ éœ€è¦åœ¨æ¸²æŸ“åå»¶è¿Ÿæ‰§è¡Œå‰¯ä½œç”¨ï¼Œæ¯”å¦‚æ˜¾ç¤ºæç¤ºæ¡†ï¼š\n\n```jsx\nimport { useEffect } from 'react';\n\nfunction Notification() {\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      alert('æ¬¢è¿å›æ¥ï¼');\n    }, 2000);\n\n    return () => clearTimeout(timeoutId);\n  }, []);\n\n  return <div>é€šçŸ¥ç»„ä»¶</div>;\n}\n\nexport default Notification;\n```\n\n> **å° Tips**ï¼š*ä½¿ç”¨ `setTimeout` æ—¶ï¼Œç¡®ä¿æ¸…ç†å®šæ—¶å™¨ï¼Œé¿å…é‡å¤è§¦å‘ã€‚*\n\n### 3. åŒæ­¥çŠ¶æ€ä¸å¤–éƒ¨ç³»ç»Ÿ\n\n`useEffect` å¯ä»¥ç”¨æ¥åŒæ­¥ React çŠ¶æ€ä¸å¤–éƒ¨ç³»ç»Ÿï¼ˆå¦‚æœ¬åœ°å­˜å‚¨ï¼‰ï¼š\n\n```jsx\nimport { useState, useEffect } from 'react';\n\nfunction ThemeToggle() {\n  const [theme, setTheme] = useState(() => localStorage.getItem('theme') || 'light');\n\n  useEffect(() => {\n    localStorage.setItem('theme', theme);\n    document.body.className = theme;\n  }, [theme]);\n\n  return (\n    <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>\n      åˆ‡æ¢åˆ° {theme === 'light' ? 'æš—é»‘' : 'æ˜äº®'} æ¨¡å¼\n    </button>\n  );\n}\n\nexport default ThemeToggle;\n```\n\n> **å° Tips**ï¼š*åœ¨åŒæ­¥å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œç¡®ä¿å‰¯ä½œç”¨é€»è¾‘å¹‚ç­‰ï¼Œé¿å…é‡å¤æ“ä½œã€‚*\n\n---\n\n## useEffect çš„è®¾è®¡å“²å­¦ä¸æ„Ÿæ‚Ÿ\n\n`useEffect` ä¸ä»…æ˜¯æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯ React å“²å­¦çš„ä½“ç°ã€‚å®ƒé¼“åŠ±å¼€å‘è€…ä»¥ **å£°æ˜å¼** å’Œ **æ¨¡å—åŒ–** çš„æ–¹å¼ç®¡ç†å‰¯ä½œç”¨ã€‚è¿™ç§è®¾è®¡è®©æˆ‘æƒ³èµ·ã€Šç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯ã€‹ä¸­çš„ä¸€å¥è¯ï¼š\n\n> â€œæŠ€æœ¯å¹¶éå†·å†°å†°çš„å·¥å…·ï¼Œå®ƒæ˜¯äººç±»åˆ›é€ åŠ›çš„å»¶ä¼¸ã€‚â€\n\n`useEffect` çš„ç¾åœ¨äºå®ƒçš„çµæ´»æ€§å’Œçº¦æŸæ€§å¹¶å­˜ã€‚å®ƒç»™ä½ è‡ªç”±å»å¤„ç†å‰¯ä½œç”¨ï¼Œä½†é€šè¿‡ä¾èµ–æ•°ç»„å’Œæ¸…ç†å‡½æ•°æé†’ä½ ï¼š**è‡ªç”±éœ€è¦çºªå¾‹**ã€‚è¿™å°±åƒå†™ä½œï¼šä½ å¯ä»¥å¤©é©¬è¡Œç©ºï¼Œä½†ç»“æ„å’Œé€»è¾‘æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚\n\nåœ¨å®è·µä¸­ï¼Œæˆ‘å‘ç° `useEffect` æ•™ä¼šäº†æˆ‘ä¸€ç§æ€ç»´æ–¹å¼ï¼š**åˆ†è§£é—®é¢˜ï¼Œä¸“æ³¨æœ¬è´¨**ã€‚æ¯æ¬¡å†™ `useEffect`ï¼Œæˆ‘éƒ½ä¼šé—®è‡ªå·±ï¼š\n\n- è¿™ä¸ªå‰¯ä½œç”¨çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ\n- å®ƒä¾èµ–å“ªäº›å˜é‡ï¼Ÿ\n- å¦‚ä½•ä¼˜é›…åœ°æ¸…ç†ï¼Ÿ\n\nè¿™ç§æ€ç»´ä¸ä»…é€‚ç”¨äºä»£ç ï¼Œä¹Ÿé€‚ç”¨äºç”Ÿæ´»ã€‚æ¯”å¦‚ï¼Œç®¡ç†æ—¶é—´å°±åƒç®¡ç†å‰¯ä½œç”¨ï¼šæ˜ç¡®ç›®æ ‡ï¼ˆä¾èµ–ï¼‰ï¼Œæ‰§è¡Œä»»åŠ¡ï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œå¹¶åœ¨åˆ‡æ¢æ—¶æ¸…ç†ï¼ˆæ”¾ä¸‹ï¼‰ã€‚\n\n---\n\n## ç»“è¯­ï¼šä¼˜é›…é©¾é©­ useEffect\n\n`useEffect` æ˜¯ React å¼€å‘è€…çš„â€œç‘å£«å†›åˆ€â€ï¼Œæ—¢å¼ºå¤§åˆå±é™©ã€‚é€šè¿‡æœ¬æ–‡çš„å…¨é¢è§£æï¼Œä½ åº”è¯¥å¯¹å®ƒçš„åŸç†ã€ä½¿ç”¨æŠ€å·§å’Œé¿å‘æ–¹æ³•æœ‰äº†æ·±å…¥äº†è§£ã€‚ä»¥ä¸‹æ˜¯å‡ æ¡æ ¸å¿ƒå»ºè®®ï¼Œé€ç»™æ¯ä½ React å¼€å‘è€…ï¼š\n\n1. **ä¿æŒç®€å•**ï¼šä¸€ä¸ª `useEffect` åªåšä¸€ä»¶äº‹ã€‚\n2. **ä¾èµ–æ¸…æ™°**ï¼šä¾èµ–æ•°ç»„æ˜¯ä½ çš„â€œå¥‘çº¦â€ï¼Œä¸è¦è¿èƒŒã€‚\n3. **æ¸…ç†å½»åº•**ï¼šåƒæ”¶æ‹¾æˆ¿é—´ä¸€æ ·ï¼Œç¦»å¼€å‰æ¸…ç†å¹²å‡€ã€‚\n4. **æ‹¥æŠ±å·¥å…·**ï¼šå–„ç”¨ ESLint å’Œ React DevToolsã€‚\n5. **æŒç»­å­¦ä¹ **ï¼šå¤šè¯»æºç ï¼Œå¤šå†™ä»£ç ï¼Œå¤šåæ€ã€‚\n\næ­£å¦‚ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹ä¸­æ‰€è¯´ï¼š\n\n> â€œç¼–ç¨‹æ˜¯ä¸€ç§è‰ºæœ¯ï¼Œä½ éœ€è¦ç”¨ä»£ç è¡¨è¾¾ä½ çš„æ€æƒ³ã€‚â€\n\nå¸Œæœ›è¿™ç¯‡é•¿æ–‡èƒ½æˆä¸ºä½  React ä¹‹æ—…ä¸­çš„ä¸€ç›æ˜ç¯ï¼Œè®©ä½ åœ¨ `useEffect` çš„ä¸–ç•Œé‡Œæ¸¸åˆƒæœ‰ä½™ã€‚âœ¨ å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³åˆ†äº«è‡ªå·±çš„ `useEffect` æ•…äº‹ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼è®©æˆ‘ä»¬ä¸€èµ·å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç ï¼Œåˆ›é€ æ›´ç¾å¥½çš„ Web ä¸–ç•Œï¼ğŸŒ\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var r in e)c(l,r,{get:e[r],enumerable:!0})},t=(l,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(l,a)&&a!==r&&c(l,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return l};var m=(l,e,r)=>(r=l!=null?p(u(l)):{},t(e||!l||!l.__esModule?c(r,\"default\",{value:l,enumerable:!0}):r,l)),B=l=>t(c({},\"__esModule\",{value:!0}),l);var s=F((D,i)=>{i.exports=_jsx_runtime});var k={};f(k,{default:()=>h,frontmatter:()=>b});var n=m(s()),b={type:\"Post\",title:\"\\u63ED\\u79D8 useEffect\\uFF1AReact \\u6838\\u5FC3\\u94A9\\u5B50\\u4F7F\\u7528\\u6280\\u5DE7\\u4E0E\\u907F\\u5751\\u5168\\u653B\\u7565 \\u{1F680}\",date:\"2024-08-03\",description:\"\\u6DF1\\u5165\\u5256\\u6790 React useEffect \\u94A9\\u5B50\\u7684\\u6838\\u5FC3\\u4F7F\\u7528\\u6280\\u5DE7\\u3001\\u5E38\\u89C1\\u8BEF\\u533A\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u6DB5\\u76D6\\u539F\\u7406\\u3001\\u793A\\u4F8B\\u548C\\u5B9E\\u7528\\u5EFA\\u8BAE\\uFF0C\\u52A9\\u529B\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u5199\\u51FA\\u66F4\\u4F18\\u96C5\\u7684\\u4EE3\\u7801\\u3002\",keywords:\"React, useEffect, React Hooks, \\u524D\\u7AEF\\u5F00\\u53D1, \\u526F\\u4F5C\\u7528\\u7BA1\\u7406, \\u6027\\u80FD\\u4F18\\u5316, \\u6700\\u4F73\\u5B9E\\u8DF5\",author:\"\\u6653\\u9F99\",image:\"/images/hero/useeffect-guide.jpg\",tags:[\"React\",\"Frontend\",\"JavaScript\",\"Hooks\"],category:\"React\"};function o(l){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u201C\\u4EE3\\u7801\\u662F\\u8BD7\\uFF0C\\u526F\\u4F5C\\u7528\\u662F\\u97F5\\u5F8B\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u662F\\u90A3\\u652F\\u8C03\\u97F3\\u7684\\u6307\\u6325\\u68D2\\u3002\\u201D\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F5C\\u4E3A React \\u5F00\\u53D1\\u8005\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u53EF\\u80FD\\u662F\\u4F60\\u6700\\u5E38\\u6253\\u4EA4\\u9053\\u7684\\u94A9\\u5B50\\u4E4B\\u4E00\\u3002\\u5B83\\u50CF\\u4E00\\u4E2A\\u201C\\u9B54\\u6CD5\\u5E08\\u201D\\uFF0C\\u5E2E\\u4F60\\u5728\\u7EC4\\u4EF6\\u7684\\u751F\\u547D\\u5468\\u671F\\u4E2D\\u7BA1\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u4F46\\u7A0D\\u4E0D\\u7559\\u795E\\uFF0C\\u5B83\\u4E5F\\u53EF\\u80FD\\u53D8\\u6210\\u201C\\u6363\\u86CB\\u9B3C\\u201D\\uFF0C\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u9677\\u5165\\u6DF7\\u4E71\\u3002\\u{1F525} \\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u6838\\u5FC3\\uFF0C\\u63ED\\u5F00\\u5B83\\u7684\\u795E\\u79D8\\u9762\\u7EB1\\uFF0C\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u4ECE\\u6280\\u5DE7\\u5230\\u907F\\u5751\\uFF0C\\u5168\\u9762\\u89E3\\u6790\\u5982\\u4F55\\u4F18\\u96C5\\u5730\\u9A7E\\u9A6D\\u8FD9\\u4E2A React \\u6838\\u5FC3\\u94A9\\u5B50\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4E0D\\u4EC5\\u662F\\u4E00\\u7BC7\\u6280\\u672F\\u6307\\u5357\\uFF0C\\u66F4\\u662F\\u4E00\\u573A\\u5173\\u4E8E\\u4EE3\\u7801\\u54F2\\u5B66\\u3001\\u601D\\u7EF4\\u65B9\\u5F0F\\u548C\\u5B9E\\u8DF5\\u667A\\u6167\\u7684\\u63A2\\u7D22\\u3002\\u65E0\\u8BBA\\u4F60\\u662F React \\u65B0\\u624B\\u8FD8\\u662F\\u8001\\u5175\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u90FD\\u4F1A\\u8BA9\\u4F60\\u6709\\u6240\\u6536\\u83B7\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u8FD9\\u573A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u5192\\u9669\\u5427\\uFF01\\u{1F9D9}\\u200D\\u2642\\uFE0F\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4EC0\\u4E48\\u662F-useeffect\\u4ECE\\u54F2\\u5B66\\u5230\\u672C\\u8D28\",children:(0,n.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u662F-useeffect\\u4ECE\\u54F2\\u5B66\\u5230\\u672C\\u8D28\",children:\"\\u4EC0\\u4E48\\u662F useEffect\\uFF1F\\u4ECE\\u54F2\\u5B66\\u5230\\u672C\\u8D28\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u6DF1\\u5165\\u6280\\u5DE7\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u804A\\u804A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u201C\\u7075\\u9B42\\u201D\\u3002React \\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u662F \",(0,n.jsx)(e.strong,{children:\"\\u58F0\\u660E\\u5F0F\\u7F16\\u7A0B\"}),\"\\uFF0C\\u5F3A\\u8C03\\u201C\\u63CF\\u8FF0\\u72B6\\u6001\\uFF0CReact \\u5E2E\\u4F60\\u6E32\\u67D3 UI\\u201D\\u3002\\u4F46\\u73B0\\u5B9E\\u4E16\\u754C\\u4E2D\\uFF0CUI \\u4E4B\\u5916\\u8FD8\\u6709\\u8BB8\\u591A\\u201C\\u526F\\u4F5C\\u7528\\u201D\\uFF08Side Effects\\uFF09\\uFF0C\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u53D1\\u8D77\\u7F51\\u7EDC\\u8BF7\\u6C42\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u64CD\\u4F5C DOM\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u8BA2\\u9605\\u4E8B\\u4EF6\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u8BBE\\u7F6E\\u5B9A\\u65F6\\u5668\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4E9B\\u64CD\\u4F5C\\u4E0D\\u5728 React \\u7684\\u201C\\u7EAF\\u51FD\\u6570\\u201D\\u7BA1\\u8F96\\u8303\\u56F4\\u5185\\uFF0C\\u4E8E\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u5E94\\u8FD0\\u800C\\u751F\\u3002\\u5B83\\u662F React \\u63D0\\u4F9B\\u7684\\u4E00\\u4E2A\\u201C\\u526F\\u4F5C\\u7528\\u5BB9\\u5668\\u201D\\uFF0C\\u8BA9\\u4F60\\u5728\\u7EC4\\u4EF6\\u6E32\\u67D3\\u540E\\u5B89\\u5168\\u5730\\u6267\\u884C\\u8FD9\\u4E9B\\u201C\\u6742\\u4E8B\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"useeffect-\\u7684\\u6838\\u5FC3\\u7B7E\\u540D\",children:(0,n.jsx)(e.a,{href:\"#useeffect-\\u7684\\u6838\\u5FC3\\u7B7E\\u540D\",children:\"useEffect \\u7684\\u6838\\u5FC3\\u7B7E\\u540D\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u526F\\u4F5C\\u7528\\u903B\\u8F91\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6E05\\u7406\\u903B\\u8F91\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, [dependencies]);\"})})]})})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\"}),\"\\uFF1A\\u526F\\u4F5C\\u7528\\u51FD\\u6570\\uFF0C\\u5305\\u542B\\u4F60\\u60F3\\u5728\\u6E32\\u67D3\\u540E\\u6267\\u884C\\u7684\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\"}),\"\\uFF1A\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u63A7\\u5236\\u526F\\u4F5C\\u7528\\u4F55\\u65F6\\u8FD0\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FD4\\u56DE\\u503C\"}),\"\\uFF08\\u53EF\\u9009\\uFF09\\uFF1A\\u6E05\\u7406\\u51FD\\u6570\\uFF0C\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u6216\\u4F9D\\u8D56\\u53D8\\u66F4\\u524D\\u8FD0\\u884C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u5C31\\u50CF\\u4F60\\u5BB6\\u91CC\\u7684\\u667A\\u80FD\\u626B\\u5730\\u673A\\u5668\\u4EBA \\u{1F916}\\uFF1A\\u5B83\\u4F1A\\u5728\\u4F60\\u6307\\u5B9A\\u7684\\u65F6\\u95F4\\uFF08\\u4F9D\\u8D56\\u53D8\\u66F4\\uFF09\\u6253\\u626B\\u623F\\u95F4\\uFF08\\u6267\\u884C\\u526F\\u4F5C\\u7528\\uFF09\\uFF0C\\u8FD8\\u80FD\\u5728\\u79BB\\u5F00\\u524D\\u6536\\u62FE\\u597D\\uFF08\\u6E05\\u7406\\u903B\\u8F91\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u59CB\\u7EC8\\u660E\\u786E\\u4F60\\u7684\\u526F\\u4F5C\\u7528\\u76EE\\u6807\\uFF0C\\u907F\\u514D\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\u5806\\u780C\\u8FC7\\u591A\\u903B\\u8F91\\uFF0C\\u5426\\u5219\\u4EE3\\u7801\\u4F1A\\u50CF\\u201C\\u6742\\u7269\\u95F4\\u201D\\u4E00\\u6837\\u96BE\\u4EE5\\u7EF4\\u62A4\\u3002\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"useeffect-\\u7684\\u8FD0\\u884C\\u673A\\u5236\\u6DF1\\u5165\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#useeffect-\\u7684\\u8FD0\\u884C\\u673A\\u5236\\u6DF1\\u5165\\u539F\\u7406\",children:\"useEffect \\u7684\\u8FD0\\u884C\\u673A\\u5236\\uFF1A\\u6DF1\\u5165\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8981\\u771F\\u6B63\\u638C\\u63E1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\"\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u4E86\\u89E3\\u5B83\\u7684\\u8FD0\\u884C\\u673A\\u5236\\u3002React \\u7684\\u6E32\\u67D3\\u6D41\\u7A0B\\u53EF\\u4EE5\\u5206\\u4E3A\\u4E09\\u4E2A\\u9636\\u6BB5\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Render \\u9636\\u6BB5\"}),\"\\uFF1AReact \\u6839\\u636E\\u72B6\\u6001\\u548C props \\u751F\\u6210\\u65B0\\u7684\\u865A\\u62DF DOM\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Commit \\u9636\\u6BB5\"}),\"\\uFF1A\\u5C06\\u865A\\u62DF DOM \\u5E94\\u7528\\u5230\\u771F\\u5B9E DOM\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u526F\\u4F5C\\u7528\\u9636\\u6BB5\"}),\"\\uFF1A\\u6267\\u884C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u548C\\u5176\\u4ED6\\u526F\\u4F5C\\u7528\\u903B\\u8F91\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u603B\\u662F\\u5728 \",(0,n.jsx)(e.strong,{children:\"Commit \\u9636\\u6BB5\"}),\" \\u540E\\u8FD0\\u884C\\uFF0C\\u786E\\u4FDD DOM \\u5DF2\\u66F4\\u65B0\\u3002\\u8FD9\\u4E5F\\u662F\\u4E3A\\u4EC0\\u4E48\\u5B83\\u9002\\u5408\\u5904\\u7406 DOM \\u64CD\\u4F5C\\u6216\\u5F02\\u6B65\\u8BF7\\u6C42\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4F9D\\u8D56\\u6570\\u7EC4\\u7684\\u79D8\\u5BC6\",children:(0,n.jsx)(e.a,{href:\"#\\u4F9D\\u8D56\\u6570\\u7EC4\\u7684\\u79D8\\u5BC6\",children:\"\\u4F9D\\u8D56\\u6570\\u7EC4\\u7684\\u79D8\\u5BC6\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F9D\\u8D56\\u6570\\u7EC4\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u201C\\u9065\\u63A7\\u5668\\u201D\\u3002React \\u4F1A\\u6BD4\\u8F83\\u65B0\\u65E7\\u4F9D\\u8D56\\u6570\\u7EC4\\u7684\\u6BCF\\u4E00\\u9879\\uFF08\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Object.is\"})})})}),\" \\u8FDB\\u884C\\u6D45\\u6BD4\\u8F83\\uFF09\\uFF0C\\u51B3\\u5B9A\\u662F\\u5426\\u91CD\\u65B0\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u51FD\\u6570\\u3002\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.strong,{children:[\"\\u7A7A\\u6570\\u7EC4 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"[]\"})})})})]}),\"\\uFF1A\\u526F\\u4F5C\\u7528\\u53EA\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u65F6\\u8FD0\\u884C\\u4E00\\u6B21\\uFF0C\\u7C7B\\u4F3C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"componentDidMount\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.strong,{children:[\"\\u975E\\u7A7A\\u6570\\u7EC4 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"[dep1, dep2]\"})})})})]}),\"\\uFF1A\\u5F53\\u6570\\u7EC4\\u4E2D\\u7684\\u4EFB\\u610F\\u4F9D\\u8D56\\u53D8\\u66F4\\u65F6\\uFF0C\\u526F\\u4F5C\\u7528\\u91CD\\u65B0\\u8FD0\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u65E0\\u4F9D\\u8D56\\u6570\\u7EC4\"}),\"\\uFF1A\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u90FD\\u8FD0\\u884C\\u526F\\u4F5C\\u7528\\uFF08\\u8C28\\u614E\\u4F7F\\u7528\\uFF01\\u26A0\\uFE0F\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u4F9D\\u8D56\\u6570\\u7EC4\\u4E2D\\u7684\\u503C\\u5E94\\u8BE5\\u662F\\u539F\\u59CB\\u503C\\u6216\\u7A33\\u5B9A\\u5F15\\u7528\\uFF0C\\u907F\\u514D\\u4F7F\\u7528\\u5BF9\\u8C61\\u6216\\u51FD\\u6570\\u4F5C\\u4E3A\\u4F9D\\u8D56\\uFF0C\\u9664\\u975E\\u5B83\\u4EEC\\u88AB \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u5305\\u88F9\\u3002\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u6E05\\u7406\\u51FD\\u6570\\u7684\\u54F2\\u5B66\",children:(0,n.jsx)(e.a,{href:\"#\\u6E05\\u7406\\u51FD\\u6570\\u7684\\u54F2\\u5B66\",children:\"\\u6E05\\u7406\\u51FD\\u6570\\u7684\\u54F2\\u5B66\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u6E05\\u7406\\u51FD\\u6570\\u5C31\\u50CF\\u662F\\u526F\\u4F5C\\u7528\\u7684\\u201C\\u5584\\u540E\\u4E13\\u5BB6\\u201D\\u3002\\u5B83\\u5728\\u4EE5\\u4E0B\\u573A\\u666F\\u8FD0\\u884C\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\uFF08\\u7C7B\\u4F3C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"componentWillUnmount\"})})})}),\"\\uFF09\\u3002\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4F9D\\u8D56\\u53D8\\u66F4\\u65F6\\uFF0C\\u5728\\u65B0\\u7684\\u526F\\u4F5C\\u7528\\u6267\\u884C\\u524D\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6E05\\u7406\\u51FD\\u6570\\u7684\\u5B58\\u5728\\u4F53\\u73B0\\u4E86 React \\u7684 \",(0,n.jsx)(e.strong,{children:\"\\u8D44\\u6E90\\u7BA1\\u7406\\u54F2\\u5B66\"}),\"\\uFF1A\\u6BCF\\u5206\\u914D\\u4E00\\u4E2A\\u8D44\\u6E90\\uFF08\\u8BA2\\u9605\\u3001\\u5B9A\\u65F6\\u5668\\uFF09\\uFF0C\\u5C31\\u5FC5\\u987B\\u63D0\\u4F9B\\u4E00\\u79CD\\u56DE\\u6536\\u65B9\\u5F0F\\u3002\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u907F\\u514D\\u4E86\\u5185\\u5B58\\u6CC4\\u6F0F\\u548C\\u72B6\\u6001\\u7ADE\\u4E89\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"useeffect-\\u7684\\u6838\\u5FC3\\u4F7F\\u7528\\u573A\\u666F\",children:(0,n.jsx)(e.a,{href:\"#useeffect-\\u7684\\u6838\\u5FC3\\u4F7F\\u7528\\u573A\\u666F\",children:\"useEffect \\u7684\\u6838\\u5FC3\\u4F7F\\u7528\\u573A\\u666F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u7528\\u9014\\u975E\\u5E38\\u5E7F\\u6CDB\\uFF0C\\u4EE5\\u4E0B\\u662F\\u51E0\\u79CD\\u5E38\\u89C1\\u573A\\u666F\\u53CA\\u5176\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u6570\\u636E\\u83B7\\u53D6data-fetching\",children:(0,n.jsx)(e.a,{href:\"#1-\\u6570\\u636E\\u83B7\\u53D6data-fetching\",children:\"1. \\u6570\\u636E\\u83B7\\u53D6\\uFF08Data Fetching\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6570\\u636E\\u83B7\\u53D6\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u7ECF\\u5178\\u7528\\u4F8B\\u3002\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u4ECE API \\u83B7\\u53D6\\u7528\\u6237\\u5217\\u8868\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" UserList\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"users\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setUsers\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"loading\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setLoading\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setError\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" isMounted \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUsers\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      try\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setLoading\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/users'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (isMounted) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          setUsers\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          setLoading\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (isMounted) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          setError\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(err.message);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          setLoading\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchUsers\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      isMounted \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6E05\\u7406\\u6807\\u5FD7\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (loading) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u52A0\\u8F7D\\u4E2D...</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u9519\\u8BEF\\uFF1A{error}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{user.id}>{user.name}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" UserList;\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"isMounted\"})})})}),\" \\u6807\\u5FD7\\u9632\\u6B62\\u7EC4\\u4EF6\\u5378\\u8F7D\\u540E\\u66F4\\u65B0\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u59CB\\u7EC8\\u5904\\u7406\\u52A0\\u8F7D\\u548C\\u9519\\u8BEF\\u72B6\\u6001\\uFF0C\\u63D0\\u4F9B\\u66F4\\u597D\\u7684\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u907F\\u514D\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\u76F4\\u63A5\\u4F7F\\u7528 async \\u51FD\\u6570\\uFF08React \\u4E0D\\u652F\\u6301\\u76F4\\u63A5\\u8FD4\\u56DE Promise\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u5C06\\u6570\\u636E\\u83B7\\u53D6\\u903B\\u8F91\\u62BD\\u53D6\\u4E3A\\u81EA\\u5B9A\\u4E49 Hook\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useFetch\"})})})}),\"\\uFF09\\uFF0C\\u63D0\\u9AD8\\u4EE3\\u7801\\u590D\\u7528\\u6027\\u548C\\u53EF\\u8BFB\\u6027\\u3002\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u4E8B\\u4EF6\\u8BA2\\u9605event-subscription\",children:(0,n.jsx)(e.a,{href:\"#2-\\u4E8B\\u4EF6\\u8BA2\\u9605event-subscription\",children:\"2. \\u4E8B\\u4EF6\\u8BA2\\u9605\\uFF08Event Subscription\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u975E\\u5E38\\u9002\\u5408\\u7BA1\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\uFF0C\\u6BD4\\u5982\\u76D1\\u542C\\u7A97\\u53E3\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"resize\"})})})}),\" \\u4E8B\\u4EF6\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WindowSize\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"windowSize\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setWindowSize\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    width: window.innerWidth,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    height: window.innerHeight,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleResize\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setWindowSize\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        width: window.innerWidth,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        height: window.innerHeight,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'resize'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", handleResize);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'resize'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", handleResize);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      \\u7A97\\u53E3\\u5927\\u5C0F\\uFF1A{windowSize.width} x {windowSize.height}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" WindowSize;\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u59CB\\u7EC8\\u5728\\u6E05\\u7406\\u51FD\\u6570\\u4E2D\\u79FB\\u9664\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528\\u9632\\u6296\\uFF08debounce\\uFF09\\u6216\\u8282\\u6D41\\uFF08throttle\\uFF09\\u4F18\\u5316\\u9891\\u7E41\\u89E6\\u53D1\\u7684\\u4E8B\\u4EF6\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u5C06\\u4E8B\\u4EF6\\u5904\\u7406\\u903B\\u8F91\\u5C01\\u88C5\\u4E3A\\u81EA\\u5B9A\\u4E49 Hook\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useWindowSize\"})})})}),\"\\uFF09\\uFF0C\\u8BA9\\u4EE3\\u7801\\u66F4\\u6A21\\u5757\\u5316\\u3002\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5B9A\\u65F6\\u5668\\u7BA1\\u7406\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5B9A\\u65F6\\u5668\\u7BA1\\u7406\",children:\"3. \\u5B9A\\u65F6\\u5668\\u7BA1\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5B9A\\u65F6\\u5668\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setInterval\"})})})}),\"\\uFF09\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u53E6\\u4E00\\u4E2A\\u5E38\\u89C1\\u573A\\u666F\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Timer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"seconds\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setSeconds\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" intervalId\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setSeconds\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(intervalId);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u5DF2\\u8FD0\\u884C {seconds} \\u79D2</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Timer;\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u59CB\\u7EC8\\u5728\\u6E05\\u7406\\u51FD\\u6570\\u4E2D\\u6E05\\u9664\\u5B9A\\u65F6\\u5668\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u9700\\u8981\\u52A8\\u6001\\u66F4\\u65B0\\u5B9A\\u65F6\\u5668\\u95F4\\u9694\\uFF0C\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5B58\\u50A8 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"intervalId\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u907F\\u514D\\u5728\\u4F9D\\u8D56\\u6570\\u7EC4\\u4E2D\\u653E\\u5165\\u72B6\\u6001\\u66F4\\u65B0\\u51FD\\u6570\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setSeconds\"})})})}),\"\\uFF09\\uFF0C\\u5426\\u5219\\u53EF\\u80FD\\u5BFC\\u81F4\\u610F\\u5916\\u7684\\u91CD\\u6E32\\u67D3\\u3002\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"useeffect-\\u7684\\u5E38\\u89C1\\u8BEF\\u533A\\u4E0E\\u907F\\u5751\\u6307\\u5357\",children:(0,n.jsx)(e.a,{href:\"#useeffect-\\u7684\\u5E38\\u89C1\\u8BEF\\u533A\\u4E0E\\u907F\\u5751\\u6307\\u5357\",children:\"useEffect \\u7684\\u5E38\\u89C1\\u8BEF\\u533A\\u4E0E\\u907F\\u5751\\u6307\\u5357\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u867D\\u7136\\u5F3A\\u5927\\uFF0C\\u4F46\\u4E5F\\u5BB9\\u6613\\u8E29\\u5751\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5E38\\u89C1\\u8BEF\\u533A\\u53CA\\u5176\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u914D\\u4EE5\\u5E7D\\u9ED8\\u7684\\u7C7B\\u6BD4\\u548C\\u5B9E\\u7528\\u5EFA\\u8BAE\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u8BEF\\u533A-1\\u4F9D\\u8D56\\u6570\\u7EC4\\u9057\\u6F0F\",children:(0,n.jsx)(e.a,{href:\"#\\u8BEF\\u533A-1\\u4F9D\\u8D56\\u6570\\u7EC4\\u9057\\u6F0F\",children:\"\\u8BEF\\u533A 1\\uFF1A\\u4F9D\\u8D56\\u6570\\u7EC4\\u9057\\u6F0F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u9057\\u6F0F\\u4F9D\\u8D56\\u6570\\u7EC4\\u4E2D\\u7684\\u53D8\\u91CF\\u4F1A\\u5BFC\\u81F4\\u526F\\u4F5C\\u7528\\u884C\\u4E3A\\u4E0D\\u7B26\\u5408\\u9884\\u671F\\u3002\\u4F8B\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Counter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"step\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" id\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" step); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9519\\u8BEF\\uFF1Astep \\u672A\\u5728\\u4F9D\\u8D56\\u6570\\u7EC4\\u4E2D\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(id);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [count]); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9057\\u6F0F\\u4E86 step\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u540E\\u679C\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"step\"})})})}),\" \\u53D8\\u5316\\u65F6\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E0D\\u4F1A\\u91CD\\u65B0\\u8FD0\\u884C\\uFF0C\\u5BFC\\u81F4\\u8BA1\\u6570\\u5668\\u884C\\u4E3A\\u5F02\\u5E38\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u786E\\u4FDD\\u4F9D\\u8D56\\u6570\\u7EC4\\u5305\\u542B\\u6240\\u6709\\u526F\\u4F5C\\u7528\\u4E2D\\u4F7F\\u7528\\u7684\\u5916\\u90E8\\u53D8\\u91CF\\u3002ESLint \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"react-hooks/exhaustive-deps\"})})})}),\" \\u89C4\\u5219\\u662F\\u4F60\\u7684\\u597D\\u5E2E\\u624B\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4FEE\\u590D\\u4EE3\\u7801\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" id\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" step); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u51FD\\u6570\\u5F0F\\u66F4\\u65B0\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(id);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, [step]); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6B63\\u786E\\u5305\\u542B step\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u4F9D\\u8D56\\u6570\\u7EC4\\u5C31\\u50CF\\u4F60\\u7684\\u8D2D\\u7269\\u6E05\\u5355 \\u{1F6D2}\\uFF0C\\u6F0F\\u5199\\u4E00\\u4E2A\\u98DF\\u6750\\uFF0C\\u4F60\\u7684\\u83DC\\u80B4\\u5C31\\u4F1A\\u5473\\u9053\\u4E0D\\u5BF9\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u5B89\\u88C5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"eslint-plugin-react-hooks\"})})})}),\"\\uFF0C\\u8BA9 ESLint \\u5E2E\\u4F60\\u81EA\\u52A8\\u68C0\\u6D4B\\u4F9D\\u8D56\\u6570\\u7EC4\\u95EE\\u9898\\u3002\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u8BEF\\u533A-2\\u65E0\\u9650\\u5FAA\\u73AF\",children:(0,n.jsx)(e.a,{href:\"#\\u8BEF\\u533A-2\\u65E0\\u9650\\u5FAA\\u73AF\",children:\"\\u8BEF\\u533A 2\\uFF1A\\u65E0\\u9650\\u5FAA\\u73AF\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\u66F4\\u65B0\\u72B6\\u6001\\uFF0C\\u4E14\\u72B6\\u6001\\u5728\\u4F9D\\u8D56\\u6570\\u7EC4\\u4E2D\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u65E0\\u9650\\u5FAA\\u73AF\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" BadCounter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u66F4\\u65B0 count\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [count]); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// count \\u53D8\\u5316\\u89E6\\u53D1\\u91CD\\u6E32\\u67D3\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u540E\\u679C\"}),\"\\uFF1A\\u7EC4\\u4EF6\\u9677\\u5165\\u65E0\\u9650\\u91CD\\u6E32\\u67D3\\uFF0C\\u6D4F\\u89C8\\u5668\\u76F4\\u63A5\\u201C\\u5D29\\u6E83\\u201D \\u{1F635}\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u68C0\\u67E5\\u526F\\u4F5C\\u7528\\u903B\\u8F91\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u72B6\\u6001\\u66F4\\u65B0\\u3002\\u5982\\u679C\\u9700\\u8981\\u7D2F\\u52A0\\u8BA1\\u6570\\uFF0C\\u4F7F\\u7528\\u51FD\\u6570\\u5F0F\\u66F4\\u65B0\\u6216\\u6761\\u4EF6\\u903B\\u8F91\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 10\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9650\\u5236\\u66F4\\u65B0\\u6B21\\u6570\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, [count]);\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u8FD9\\u5C31\\u50CF\\u4F60\\u4E0D\\u505C\\u5730\\u5F80\\u5496\\u5561\\u91CC\\u52A0\\u7CD6 \\u2615\\uFF0C\\u7ED3\\u679C\\u751C\\u5230\\u65E0\\u6CD5\\u5165\\u53E3\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsx)(e.em,{children:\"\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\u4F7F\\u7528 React DevTools \\u76D1\\u63A7\\u6E32\\u67D3\\u6B21\\u6570\\uFF0C\\u5FEB\\u901F\\u5B9A\\u4F4D\\u65E0\\u9650\\u5FAA\\u73AF\\u95EE\\u9898\\u3002\"})]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u8BEF\\u533A-3\\u6E05\\u7406\\u51FD\\u6570\\u7F3A\\u5931\",children:(0,n.jsx)(e.a,{href:\"#\\u8BEF\\u533A-3\\u6E05\\u7406\\u51FD\\u6570\\u7F3A\\u5931\",children:\"\\u8BEF\\u533A 3\\uFF1A\\u6E05\\u7406\\u51FD\\u6570\\u7F3A\\u5931\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u672A\\u63D0\\u4F9B\\u6E05\\u7406\\u51FD\\u6570\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\\u4F8B\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ChatRoom\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"roomId\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" socket\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WebSocket\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`wss://example.com/${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"roomId\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    socket.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(msg);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u7F3A\\u5C11\\u6E05\\u7406\\u51FD\\u6570\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [roomId]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u804A\\u5929\\u5BA4\\uFF1A{roomId}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u540E\\u679C\"}),\"\\uFF1A\\u5F53 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"roomId\"})})})}),\" \\u53D8\\u5316\\u6216\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\uFF0C\\u65E7\\u7684 WebSocket \\u8FDE\\u63A5\\u672A\\u5173\\u95ED\\uFF0C\\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u59CB\\u7EC8\\u8FD4\\u56DE\\u6E05\\u7406\\u51FD\\u6570\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" socket\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WebSocket\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`wss://example.com/${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"roomId\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  socket.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(msg);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    socket.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"close\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, [roomId]);\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u4E0D\\u6E05\\u7406\\u5C31\\u50CF\\u4F60\\u79BB\\u5F00\\u5BB6\\u65F6\\u5FD8\\u4E86\\u5173\\u6C34\\u9F99\\u5934 \\u{1F6B0}\\uFF0C\\u8FDF\\u65E9\\u4F1A\\u201C\\u6C34\\u6F2B\\u91D1\\u5C71\\u201D\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsx)(e.em,{children:\"\\u5C06\\u6E05\\u7406\\u903B\\u8F91\\u4E0E\\u521B\\u5EFA\\u903B\\u8F91\\u5BF9\\u79F0\\u7F16\\u5199\\uFF0C\\u517B\\u6210\\u201C\\u6709\\u501F\\u6709\\u8FD8\\u201D\\u7684\\u7F16\\u7801\\u4E60\\u60EF\\u3002\"})]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"useeffect-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E00\\u89C8\\u8868\",children:(0,n.jsx)(e.a,{href:\"#useeffect-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E00\\u89C8\\u8868\",children:\"useEffect \\u6700\\u4F73\\u5B9E\\u8DF5\\u4E00\\u89C8\\u8868\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4EE5\\u4E0B\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\u603B\\u7ED3\\uFF0C\\u4F9B\\u5FEB\\u901F\\u53C2\\u8003\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u8DF5\"})}),(0,n.jsx)(e.th,{children:(0,n.jsx)(e.strong,{children:\"\\u63CF\\u8FF0\"})}),(0,n.jsx)(e.th,{children:(0,n.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"})}),(0,n.jsx)(e.th,{children:(0,n.jsx)(e.strong,{children:\"\\u6CE8\\u610F\\u4E8B\\u9879\"})})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u660E\\u786E\\u4F9D\\u8D56\\u6570\\u7EC4\"})}),(0,n.jsx)(e.td,{children:\"\\u786E\\u4FDD\\u6240\\u6709\\u526F\\u4F5C\\u7528\\u4E2D\\u4F7F\\u7528\\u7684\\u53D8\\u91CF\\u90FD\\u5728\\u4F9D\\u8D56\\u6570\\u7EC4\\u4E2D\\u3002\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect(() => { fetchData(id); }, [id]);\"})})})})}),(0,n.jsx)(e.td,{children:\"\\u4F7F\\u7528 ESLint \\u63D2\\u4EF6\\u68C0\\u67E5\\u4F9D\\u8D56\\u5B8C\\u6574\\u6027\\u3002\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u907F\\u514D\\u65E0\\u9650\\u5FAA\\u73AF\"})}),(0,n.jsx)(e.td,{children:\"\\u907F\\u514D\\u5728\\u526F\\u4F5C\\u7528\\u4E2D\\u76F4\\u63A5\\u66F4\\u65B0\\u4F9D\\u8D56\\u72B6\\u6001\\u3002\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setCount(prev => prev + 1);\"})})})})}),(0,n.jsx)(e.td,{children:\"\\u4F7F\\u7528\\u51FD\\u6570\\u5F0F\\u66F4\\u65B0\\u6216\\u6761\\u4EF6\\u903B\\u8F91\\u3002\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u59CB\\u7EC8\\u6E05\\u7406\\u8D44\\u6E90\"})}),(0,n.jsx)(e.td,{children:\"\\u8FD4\\u56DE\\u6E05\\u7406\\u51FD\\u6570\\uFF0C\\u91CA\\u653E\\u8BA2\\u9605\\u3001\\u5B9A\\u65F6\\u5668\\u7B49\\u8D44\\u6E90\\u3002\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"return () => clearInterval(id);\"})})})})}),(0,n.jsx)(e.td,{children:\"\\u786E\\u4FDD\\u6E05\\u7406\\u903B\\u8F91\\u4E0E\\u521B\\u5EFA\\u903B\\u8F91\\u5BF9\\u79F0\\u3002\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u62BD\\u53D6\\u81EA\\u5B9A\\u4E49 Hook\"})}),(0,n.jsx)(e.td,{children:\"\\u5C06\\u590D\\u6742\\u526F\\u4F5C\\u7528\\u903B\\u8F91\\u5C01\\u88C5\\u4E3A\\u53EF\\u590D\\u7528\\u7684 Hook\\u3002\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useFetch(url)\"})})})})}),(0,n.jsx)(e.td,{children:\"\\u63D0\\u9AD8\\u4EE3\\u7801\\u590D\\u7528\\u6027\\u548C\\u53EF\\u7EF4\\u62A4\\u6027\\u3002\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5316\\u6027\\u80FD\"})}),(0,n.jsxs)(e.td,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u7A33\\u5B9A\\u4F9D\\u8D56\\u3002\"]}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"const memoizedCallback = useCallback(() => {}, []);\"})})})})}),(0,n.jsx)(e.td,{children:\"\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\\u91CD\\u8FD0\\u884C\\u3002\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u5904\\u7406\\u5F02\\u6B65\\u903B\\u8F91\"})}),(0,n.jsxs)(e.td,{children:[\"\\u907F\\u514D\\u76F4\\u63A5\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\u4F7F\\u7528 async \\u51FD\\u6570\\u3002\"]}),(0,n.jsx)(e.td,{children:\"\\u4F7F\\u7528\\u5185\\u90E8 async \\u51FD\\u6570\\u5E76\\u8C03\\u7528\\u3002\"}),(0,n.jsx)(e.td,{children:\"\\u786E\\u4FDD\\u6E05\\u7406\\u5F02\\u6B65\\u64CD\\u4F5C\\u3002\"})]})]})]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u5C06\\u6B64\\u8868\\u683C\\u6253\\u5370\\u51FA\\u6765\\uFF0C\\u8D34\\u5728\\u663E\\u793A\\u5668\\u65C1\\uFF0C\\u6BCF\\u6B21\\u5199 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u65F6\\u5FEB\\u901F\\u6838\\u5BF9\\uFF01\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u9AD8\\u7EA7\\u6280\\u5DE7\\u89E3\\u9501-useeffect-\\u7684\\u9690\\u85CF\\u6F5C\\u529B\",children:(0,n.jsx)(e.a,{href:\"#\\u9AD8\\u7EA7\\u6280\\u5DE7\\u89E3\\u9501-useeffect-\\u7684\\u9690\\u85CF\\u6F5C\\u529B\",children:\"\\u9AD8\\u7EA7\\u6280\\u5DE7\\uFF1A\\u89E3\\u9501 useEffect \\u7684\\u9690\\u85CF\\u6F5C\\u529B\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E0D\\u4EC5\\u80FD\\u5904\\u7406\\u57FA\\u7840\\u526F\\u4F5C\\u7528\\uFF0C\\u8FD8\\u80FD\\u5B9E\\u73B0\\u4E00\\u4E9B\\u9AD8\\u7EA7\\u529F\\u80FD\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u79CD\\u8FDB\\u9636\\u7528\\u6CD5\\uFF0C\\u5E26\\u4F60\\u73A9\\u8F6C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u6A21\\u62DF\\u751F\\u547D\\u5468\\u671F\\u65B9\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#1-\\u6A21\\u62DF\\u751F\\u547D\\u5468\\u671F\\u65B9\\u6CD5\",children:\"1. \\u6A21\\u62DF\\u751F\\u547D\\u5468\\u671F\\u65B9\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u867D\\u7136 Hooks \\u53D6\\u4EE3\\u4E86\\u7C7B\\u7EC4\\u4EF6\\uFF0C\\u4F46\\u4F60\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u6A21\\u62DF\\u4F20\\u7EDF\\u751F\\u547D\\u5468\\u671F\\u65B9\\u6CD5\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"componentDidMount\"}),\"\\uFF1A\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"componentDidUpdate\"}),\"\\uFF1A\\u6307\\u5B9A\\u4F9D\\u8D56\\u6570\\u7EC4\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"componentWillUnmount\"}),\"\\uFF1A\\u6E05\\u7406\\u51FD\\u6570\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7EC4\\u4EF6\\u6302\\u8F7D'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7EC4\\u4EF6\\u5378\\u8F7D'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, []); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF componentDidMount \\u548C componentWillUnmount\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4F9D\\u8D56\\u66F4\\u65B0\\uFF1A'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", someProp);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, [someProp]); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF componentDidUpdate\"})]})]})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u5C06\\u591A\\u4E2A\\u76F8\\u5173\\u526F\\u4F5C\\u7528\\u5408\\u5E76\\u5230\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\uFF0C\\u51CF\\u5C11\\u4EE3\\u7801\\u5206\\u6563\\u3002\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u5EF6\\u8FDF\\u6267\\u884C\\u526F\\u4F5C\\u7528\",children:(0,n.jsx)(e.a,{href:\"#2-\\u5EF6\\u8FDF\\u6267\\u884C\\u526F\\u4F5C\\u7528\",children:\"2. \\u5EF6\\u8FDF\\u6267\\u884C\\u526F\\u4F5C\\u7528\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6709\\u65F6\\uFF0C\\u4F60\\u9700\\u8981\\u5728\\u6E32\\u67D3\\u540E\\u5EF6\\u8FDF\\u6267\\u884C\\u526F\\u4F5C\\u7528\\uFF0C\\u6BD4\\u5982\\u663E\\u793A\\u63D0\\u793A\\u6846\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Notification\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" timeoutId\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      alert\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6B22\\u8FCE\\u56DE\\u6765\\uFF01'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" clearTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(timeoutId);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u901A\\u77E5\\u7EC4\\u4EF6</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Notification;\"})]})]})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsxs)(e.em,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u65F6\\uFF0C\\u786E\\u4FDD\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u89E6\\u53D1\\u3002\"]})]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u540C\\u6B65\\u72B6\\u6001\\u4E0E\\u5916\\u90E8\\u7CFB\\u7EDF\",children:(0,n.jsx)(e.a,{href:\"#3-\\u540C\\u6B65\\u72B6\\u6001\\u4E0E\\u5916\\u90E8\\u7CFB\\u7EDF\",children:\"3. \\u540C\\u6B65\\u72B6\\u6001\\u4E0E\\u5916\\u90E8\\u7CFB\\u7EDF\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u53EF\\u4EE5\\u7528\\u6765\\u540C\\u6B65 React \\u72B6\\u6001\\u4E0E\\u5916\\u90E8\\u7CFB\\u7EDF\\uFF08\\u5982\\u672C\\u5730\\u5B58\\u50A8\\uFF09\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ThemeToggle\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"theme\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setTheme\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'theme'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'light'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'theme'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", theme);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    document.body.className \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" theme;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [theme]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTheme\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(theme \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'light'\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'dark'\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'light'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}>\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      \\u5207\\u6362\\u5230 {theme \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'light'\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '\\u6697\\u9ED1'\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '\\u660E\\u4EAE'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \\u6A21\\u5F0F\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ThemeToggle;\"})]})]})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\",(0,n.jsx)(e.em,{children:\"\\u5728\\u540C\\u6B65\\u5916\\u90E8\\u7CFB\\u7EDF\\u65F6\\uFF0C\\u786E\\u4FDD\\u526F\\u4F5C\\u7528\\u903B\\u8F91\\u5E42\\u7B49\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u64CD\\u4F5C\\u3002\"})]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"useeffect-\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F\",children:(0,n.jsx)(e.a,{href:\"#useeffect-\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F\",children:\"useEffect \\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u5DE5\\u5177\\uFF0C\\u66F4\\u662F React \\u54F2\\u5B66\\u7684\\u4F53\\u73B0\\u3002\\u5B83\\u9F13\\u52B1\\u5F00\\u53D1\\u8005\\u4EE5 \",(0,n.jsx)(e.strong,{children:\"\\u58F0\\u660E\\u5F0F\"}),\" \\u548C \",(0,n.jsx)(e.strong,{children:\"\\u6A21\\u5757\\u5316\"}),\" \\u7684\\u65B9\\u5F0F\\u7BA1\\u7406\\u526F\\u4F5C\\u7528\\u3002\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u8BA9\\u6211\\u60F3\\u8D77\\u300A\\u7985\\u4E0E\\u6469\\u6258\\u8F66\\u7EF4\\u4FEE\\u827A\\u672F\\u300B\\u4E2D\\u7684\\u4E00\\u53E5\\u8BDD\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u201C\\u6280\\u672F\\u5E76\\u975E\\u51B7\\u51B0\\u51B0\\u7684\\u5DE5\\u5177\\uFF0C\\u5B83\\u662F\\u4EBA\\u7C7B\\u521B\\u9020\\u529B\\u7684\\u5EF6\\u4F38\\u3002\\u201D\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u7F8E\\u5728\\u4E8E\\u5B83\\u7684\\u7075\\u6D3B\\u6027\\u548C\\u7EA6\\u675F\\u6027\\u5E76\\u5B58\\u3002\\u5B83\\u7ED9\\u4F60\\u81EA\\u7531\\u53BB\\u5904\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u4F46\\u901A\\u8FC7\\u4F9D\\u8D56\\u6570\\u7EC4\\u548C\\u6E05\\u7406\\u51FD\\u6570\\u63D0\\u9192\\u4F60\\uFF1A\",(0,n.jsx)(e.strong,{children:\"\\u81EA\\u7531\\u9700\\u8981\\u7EAA\\u5F8B\"}),\"\\u3002\\u8FD9\\u5C31\\u50CF\\u5199\\u4F5C\\uFF1A\\u4F60\\u53EF\\u4EE5\\u5929\\u9A6C\\u884C\\u7A7A\\uFF0C\\u4F46\\u7ED3\\u6784\\u548C\\u903B\\u8F91\\u662F\\u4E0D\\u53EF\\u6216\\u7F3A\\u7684\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5B9E\\u8DF5\\u4E2D\\uFF0C\\u6211\\u53D1\\u73B0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u6559\\u4F1A\\u4E86\\u6211\\u4E00\\u79CD\\u601D\\u7EF4\\u65B9\\u5F0F\\uFF1A\",(0,n.jsx)(e.strong,{children:\"\\u5206\\u89E3\\u95EE\\u9898\\uFF0C\\u4E13\\u6CE8\\u672C\\u8D28\"}),\"\\u3002\\u6BCF\\u6B21\\u5199 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\"\\uFF0C\\u6211\\u90FD\\u4F1A\\u95EE\\u81EA\\u5DF1\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u8FD9\\u4E2A\\u526F\\u4F5C\\u7528\\u7684\\u76EE\\u7684\\u662F\\u4EC0\\u4E48\\uFF1F\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5B83\\u4F9D\\u8D56\\u54EA\\u4E9B\\u53D8\\u91CF\\uFF1F\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5982\\u4F55\\u4F18\\u96C5\\u5730\\u6E05\\u7406\\uFF1F\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u601D\\u7EF4\\u4E0D\\u4EC5\\u9002\\u7528\\u4E8E\\u4EE3\\u7801\\uFF0C\\u4E5F\\u9002\\u7528\\u4E8E\\u751F\\u6D3B\\u3002\\u6BD4\\u5982\\uFF0C\\u7BA1\\u7406\\u65F6\\u95F4\\u5C31\\u50CF\\u7BA1\\u7406\\u526F\\u4F5C\\u7528\\uFF1A\\u660E\\u786E\\u76EE\\u6807\\uFF08\\u4F9D\\u8D56\\uFF09\\uFF0C\\u6267\\u884C\\u4EFB\\u52A1\\uFF08\\u526F\\u4F5C\\u7528\\uFF09\\uFF0C\\u5E76\\u5728\\u5207\\u6362\\u65F6\\u6E05\\u7406\\uFF08\\u653E\\u4E0B\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u7ED3\\u8BED\\u4F18\\u96C5\\u9A7E\\u9A6D-useeffect\",children:(0,n.jsx)(e.a,{href:\"#\\u7ED3\\u8BED\\u4F18\\u96C5\\u9A7E\\u9A6D-useeffect\",children:\"\\u7ED3\\u8BED\\uFF1A\\u4F18\\u96C5\\u9A7E\\u9A6D useEffect\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u662F React \\u5F00\\u53D1\\u8005\\u7684\\u201C\\u745E\\u58EB\\u519B\\u5200\\u201D\\uFF0C\\u65E2\\u5F3A\\u5927\\u53C8\\u5371\\u9669\\u3002\\u901A\\u8FC7\\u672C\\u6587\\u7684\\u5168\\u9762\\u89E3\\u6790\\uFF0C\\u4F60\\u5E94\\u8BE5\\u5BF9\\u5B83\\u7684\\u539F\\u7406\\u3001\\u4F7F\\u7528\\u6280\\u5DE7\\u548C\\u907F\\u5751\\u65B9\\u6CD5\\u6709\\u4E86\\u6DF1\\u5165\\u4E86\\u89E3\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u6761\\u6838\\u5FC3\\u5EFA\\u8BAE\\uFF0C\\u9001\\u7ED9\\u6BCF\\u4F4D React \\u5F00\\u53D1\\u8005\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4FDD\\u6301\\u7B80\\u5355\"}),\"\\uFF1A\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u53EA\\u505A\\u4E00\\u4EF6\\u4E8B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F9D\\u8D56\\u6E05\\u6670\"}),\"\\uFF1A\\u4F9D\\u8D56\\u6570\\u7EC4\\u662F\\u4F60\\u7684\\u201C\\u5951\\u7EA6\\u201D\\uFF0C\\u4E0D\\u8981\\u8FDD\\u80CC\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u5F7B\\u5E95\"}),\"\\uFF1A\\u50CF\\u6536\\u62FE\\u623F\\u95F4\\u4E00\\u6837\\uFF0C\\u79BB\\u5F00\\u524D\\u6E05\\u7406\\u5E72\\u51C0\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u62E5\\u62B1\\u5DE5\\u5177\"}),\"\\uFF1A\\u5584\\u7528 ESLint \\u548C React DevTools\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6301\\u7EED\\u5B66\\u4E60\"}),\"\\uFF1A\\u591A\\u8BFB\\u6E90\\u7801\\uFF0C\\u591A\\u5199\\u4EE3\\u7801\\uFF0C\\u591A\\u53CD\\u601D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6B63\\u5982\\u300A\\u9ED1\\u5BA2\\u4E0E\\u753B\\u5BB6\\u300B\\u4E2D\\u6240\\u8BF4\\uFF1A\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u201C\\u7F16\\u7A0B\\u662F\\u4E00\\u79CD\\u827A\\u672F\\uFF0C\\u4F60\\u9700\\u8981\\u7528\\u4EE3\\u7801\\u8868\\u8FBE\\u4F60\\u7684\\u601D\\u60F3\\u3002\\u201D\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u957F\\u6587\\u80FD\\u6210\\u4E3A\\u4F60 React \\u4E4B\\u65C5\\u4E2D\\u7684\\u4E00\\u76CF\\u660E\\u706F\\uFF0C\\u8BA9\\u4F60\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u4E16\\u754C\\u91CC\\u6E38\\u5203\\u6709\\u4F59\\u3002\\u2728 \\u5982\\u679C\\u4F60\\u6709\\u4EFB\\u4F55\\u7591\\u95EE\\u6216\\u60F3\\u5206\\u4EAB\\u81EA\\u5DF1\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u6545\\u4E8B\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u4EA4\\u6D41\\uFF01\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u5199\\u51FA\\u66F4\\u4F18\\u96C5\\u7684\\u4EE3\\u7801\\uFF0C\\u521B\\u9020\\u66F4\\u7F8E\\u597D\\u7684 Web \\u4E16\\u754C\\uFF01\\u{1F30D}\"]}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return B(k);})();\n;return Component;"
  },
  "_id": "React/useEffect.mdx",
  "_raw": {
    "sourceFilePath": "React/useEffect.mdx",
    "sourceFileName": "useEffect.mdx",
    "sourceFileDir": "React",
    "contentType": "mdx",
    "flattenedPath": "React/useEffect"
  },
  "type": "Post",
  "url": "/blog/React/useEffect"
}
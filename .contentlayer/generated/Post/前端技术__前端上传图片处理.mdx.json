{
  "title": "å‰ç«¯ä¸Šä¼ å›¾ç‰‡å¤„ç†ï¼šç¼©æ”¾ã€æ—‹è½¬ã€ç§»åŠ¨ä¸è£å‰ª",
  "date": "2023-02-09T00:00:00.000Z",
  "description": "æ·±å…¥æ¢è®¨å‰ç«¯å›¾ç‰‡ä¸Šä¼ çš„å¤„ç†æŠ€å·§ï¼Œæ¶µç›–ç¼©æ”¾ã€æ—‹è½¬ã€ç§»åŠ¨å’Œè£å‰ªçš„å®ç°åŸç†ä¸æœ€ä½³å®è·µï¼Œå¸¦ä½ ä»é›¶æ‰“é€ ä¸€ä¸ªä¸æ»‘çš„å›¾ç‰‡ç¼–è¾‘ä½“éªŒã€‚",
  "keywords": "å‰ç«¯å¼€å‘, å›¾ç‰‡å¤„ç†, Canvas, JavaScript, ç¼©æ”¾, æ—‹è½¬, ç§»åŠ¨, è£å‰ª, æ€§èƒ½ä¼˜åŒ–, ç”¨æˆ·ä½“éªŒ",
  "author": "æ™“é¾™",
  "image": "/images/hero/image-processing.jpg",
  "tags": [
    "å‰ç«¯å¼€å‘",
    "JavaScript",
    "Canvas",
    "ç”¨æˆ·ä½“éªŒ"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå›¾ç‰‡ä¸Šä¼ åœ¨ç°ä»£ Web åº”ç”¨ä¸­æ— å¤„ä¸åœ¨ï¼Œä»ç¤¾äº¤å¹³å°çš„å¤´åƒè£å‰ªåˆ°ç”µå•†å•†å“çš„ç»†èŠ‚å±•ç¤ºï¼Œç”¨æˆ·å¯¹å›¾ç‰‡çš„å¤„ç†éœ€æ±‚æ—©å·²ä¸å†æ˜¯ç®€å•çš„â€œæ‹–è¿›æ¥å°±å®Œäº‹â€ã€‚ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬éœ€è¦è®©ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è½»æ¾å®Œæˆç¼©æ”¾ã€æ—‹è½¬ã€ç§»åŠ¨å’Œè£å‰ªæ“ä½œï¼Œè¿˜è¦ä¿è¯æ€§èƒ½ä¸æ»‘ã€ä½“éªŒæµç•…ã€‚è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ æ·±å…¥å›¾ç‰‡å¤„ç†çš„æ¯ä¸€ä¸ªç¯èŠ‚ï¼Œè§£é”èƒŒåçš„åŸç†ï¼Œåˆ†äº«å®ç”¨æŠ€å·§ï¼Œç”šè‡³å¤¹æ‚ä¸€ç‚¹é«˜çº§å¹½é»˜ï¼ˆæ¯•ç«Ÿï¼Œè°è¯´æŠ€æœ¯åšå®¢ä¸èƒ½æœ‰ç‚¹çµé­‚ï¼Ÿï¼‰ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·æŠŠå›¾ç‰‡ç©å‡ºèŠ±å„¿æ¥ï¼ğŸŒŸ\n\n---\n\n## ä¸ºä»€ä¹ˆå›¾ç‰‡å¤„ç†è¿™ä¹ˆé‡è¦ï¼Ÿ\n\næƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ˜¯ä¸€ä¸ªç”¨æˆ·ï¼Œä¸Šä¼ äº†ä¸€å¼ åº¦å‡ç…§ï¼Œç»“æœå‘ç°å®ƒæ­ªäº†ã€å¤ªå¤§ã€è¿˜æŒ¡ä½äº†å…³é”®éƒ¨åˆ†ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªå¥½ç”¨çš„ç¼–è¾‘å·¥å…·ï¼Œä½ å¯èƒ½ä¼šç›´æ¥å…³é—­é¡µé¢ï¼Œå˜´é‡Œå˜€å’•ï¼šâ€œè¿™ç ´ç½‘ç«™ï¼Œè¿ä¸ªå›¾ç‰‡éƒ½æä¸å®šã€‚â€åè¿‡æ¥ï¼Œå¦‚æœæˆ‘ä»¬æä¾›ä¸€ä¸ªç›´è§‚ã€å“åº”è¿…é€Ÿçš„å›¾ç‰‡ç¼–è¾‘å™¨ï¼Œç”¨æˆ·ä¼šè§‰å¾—â€œå“‡ï¼Œè¿™ç©æ„å„¿æ¯”æˆ‘å®¶ PS è¿˜å¥½ç”¨ï¼â€ã€‚\n\nä»æŠ€æœ¯è§’åº¦çœ‹ï¼Œå›¾ç‰‡å¤„ç†æ¶‰åŠæµè§ˆå™¨åŸç”Ÿ APIï¼ˆå¦‚ `Canvas`ï¼‰ã€çŸ©é˜µå˜æ¢ã€æ€§èƒ½ä¼˜åŒ–å’Œç”¨æˆ·äº¤äº’è®¾è®¡ã€‚æ¯ä¸ªç¯èŠ‚éƒ½æœ‰å‘ï¼Œä½†ä¹Ÿéƒ½æœ‰è§£æ³•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€ä¸€æ‹†è§£ç¼©æ”¾ã€æ—‹è½¬ã€ç§»åŠ¨å’Œè£å‰ªçš„å®ç°ï¼Œå¸¦ä¸Šä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µã€‚\n\n---\n\n## åŸºç¡€å‡†å¤‡ï¼šä»ä¸Šä¼ å¼€å§‹\n\nåœ¨å¤„ç†å›¾ç‰‡ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆæ‹¿åˆ°å®ƒã€‚HTML çš„ `<input type=\"file\">` æ˜¯èµ·ç‚¹ï¼Œä½†åˆ«æŒ‡æœ›å®ƒèƒ½ç›´æ¥åå‡ºä½ æƒ³è¦çš„åƒç´ æ•°æ®ã€‚\n\n### è·å–å›¾ç‰‡æ•°æ®\n\n```javascript\nconst input = document.querySelector('#imageInput');\ninput.addEventListener('change', (e) => {\n  const file = e.target.files[0];\n  if (!file) return;\n\n  const reader = new FileReader();\n  reader.onload = (event) => {\n    const img = new Image();\n    img.src = event.target.result;\n    img.onload = () => {\n      // å›¾ç‰‡åŠ è½½å®Œæˆï¼Œå‡†å¤‡å¤„ç†\n      processImage(img);\n    };\n  };\n  reader.readAsDataURL(file);\n});\n```\n\nè¿™é‡Œç”¨ `FileReader` å°†æ–‡ä»¶è½¬ä¸º DataURLï¼Œå†åŠ è½½åˆ° `Image` å¯¹è±¡ä¸­ã€‚ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ Blob æˆ– ArrayBufferï¼Ÿå› ä¸º DataURL èƒ½ç›´æ¥å¡ç»™ `<img>` çš„ `src`ï¼Œç®€å•ç²—æš´ã€‚ä¸è¿‡ï¼Œæ–‡ä»¶å¤ªå¤§æ—¶å¯èƒ½ä¼šå¡é¡¿ï¼Œåæ–‡ä¼šèŠä¼˜åŒ–ã€‚\n\n**Tips**:  \n- æ£€æŸ¥æ–‡ä»¶ç±»å‹ï¼š`if (!file.type.startsWith('image/'))` èƒ½é¿å…ç”¨æˆ·ä¸Šä¼ äº†ä¸ªâ€œå‡å›¾ç‰‡â€ï¼ˆæ¯”å¦‚ PDF æ”¹äº†ä¸ª .jpg åç¼€ï¼‰ã€‚\n- é™åˆ¶æ–‡ä»¶å¤§å°ï¼š`if (file.size > 5 * 1024 * 1024)`ï¼Œè¶…è¿‡ 5MB å°±æç¤ºç”¨æˆ·â€œå“¥ä»¬å„¿ï¼Œè¿™å›¾å¤Ÿæˆ‘æ‰“å°æµ·æŠ¥äº†â€ã€‚\n\n---\n\n## æ ¸å¿ƒå·¥å…·ï¼šCanvas çš„é­”æ³•\n\nå›¾ç‰‡å¤„ç†çš„çµé­‚æ˜¯ `Canvas`ã€‚å®ƒå°±åƒä¸€ä¸ªæ•°å­—ç”»æ¿ï¼Œç»™ä½ æ— é™å¯èƒ½ï¼Œä½†ä¹Ÿå®¹æ˜“è®©ä½ è¸©å‘ï¼ˆæ¯”å¦‚ç”»æ­ªäº†è¿˜æ€ªå®ƒï¼‰ã€‚æˆ‘ä»¬å…ˆç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼ŒæŠŠå›¾ç‰‡ç”»ä¸Šå»ï¼š\n\n```javascript\nfunction processImage(img) {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  canvas.width = img.width;\n  canvas.height = img.height;\n  ctx.drawImage(img, 0, 0, img.width, img.height);\n  document.body.appendChild(canvas);\n}\n```\n\nè¿™åªæ˜¯å¼€å§‹ã€‚ç¼©æ”¾ã€æ—‹è½¬ã€ç§»åŠ¨å’Œè£å‰ªéƒ½ç¦»ä¸å¼€ `ctx` çš„å˜æ¢é­”æ³•ã€‚è®©æˆ‘ä»¬é€ä¸ªå‡»ç ´ã€‚\n\n---\n\n## ç¼©æ”¾ï¼šè®©å›¾ç‰‡å¬è¯å˜å¤§å˜å°\n\nç¼©æ”¾çš„æ ¸å¿ƒæ˜¯è°ƒæ•´å›¾ç‰‡çš„æ˜¾ç¤ºæ¯”ä¾‹ã€‚ç›´æ¥ç”¨ `drawImage` çš„å‚æ•°å¯ä»¥å®ç°ï¼š\n\n```javascript\nctx.drawImage(img, 0, 0, img.width * scale, img.height * scale);\n```\n\nä½†è¿™æœ‰ä¸ªé—®é¢˜ï¼šç¼©æ”¾åï¼Œå›¾ç‰‡å¯èƒ½ä¼šæº¢å‡º `canvas` è¾¹ç•Œï¼Œæˆ–è€…å˜å¾—æ¨¡ç³Šã€‚æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éœ€è¦ä¸€ä¸ªâ€œç¼©æ”¾ä¸­å¿ƒâ€ã€‚\n\n### åŸç†ï¼šçŸ©é˜µå˜æ¢\n\nCanvas çš„ `scale` æ–¹æ³•èƒ½å…¨å±€ç¼©æ”¾ï¼Œä½†å®ƒé»˜è®¤ä»¥ (0, 0) ä¸ºåŸç‚¹ã€‚è¦ä»¥å›¾ç‰‡ä¸­å¿ƒç¼©æ”¾ï¼Œå¾—é…åˆ `translate`ï¼š\n\n```javascript\nfunction scaleImage(img, scale) {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  canvas.width = img.width;\n  canvas.height = img.height;\n\n  // ç§»åŠ¨åˆ°ä¸­å¿ƒ\n  ctx.translate(img.width / 2, img.height / 2);\n  // åº”ç”¨ç¼©æ”¾\n  ctx.scale(scale, scale);\n  // ç§»å›å»\n  ctx.translate(-img.width / 2, -img.height / 2);\n  ctx.drawImage(img, 0, 0);\n\n  return canvas;\n}\n```\n\n**ç±»æ¯”**ï¼šè¿™å°±åƒä½ åœ¨æ”¾å¤§é•œä¸‹çœ‹åœ°å›¾ï¼Œå…ˆæŠŠåœ°å›¾ç§»åˆ°ä¸­é—´ï¼Œæ”¾å¤§åå†ç§»å›å»ï¼Œä¸ç„¶ä½ å¯èƒ½åªçœ‹åˆ°è§’è½é‡Œçš„ä¸€åªèš‚èš ğŸœã€‚\n\n**Tips**:  \n- é˜²æ¨¡ç³Šï¼šè®¾ç½® `ctx.imageSmoothingEnabled = true`ï¼Œä½†å¦‚æœè¿½æ±‚åƒç´ é£ï¼Œå¯ä»¥å…³æ‰ã€‚\n- æ€§èƒ½ä¼˜åŒ–ï¼šé¢‘ç¹ç¼©æ”¾æ—¶ï¼Œåˆ«æ¯æ¬¡éƒ½åˆ›å»ºæ–° `canvas`ï¼Œå¤ç”¨ä¸€ä¸ªå¹¶æ¸…ç©ºï¼ˆ`ctx.clearRect`ï¼‰ã€‚\n\n---\n\n## æ—‹è½¬ï¼šè®©å›¾ç‰‡è·³ä¸ªèˆ\n\næ—‹è½¬æ˜¯å‰ç«¯å›¾ç‰‡å¤„ç†çš„â€œç‚«æŠ€æ—¶åˆ»â€ã€‚ç”¨æˆ·ç‚¹äº†â€œé¡ºæ—¶é’ˆ 90Â°â€ï¼Œä½ å¾—è®©å›¾ç‰‡ä¼˜é›…åœ°è½¬èµ·æ¥ã€‚\n\n### å®ç°æ—‹è½¬\n\n```javascript\nfunction rotateImage(img, angleInDegrees) {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  \n  // æ—‹è½¬åå®½é«˜å¯èƒ½å˜ï¼Œè®¡ç®—æ–°å°ºå¯¸\n  const radians = (angleInDegrees * Math.PI) / 180;\n  const cos = Math.abs(Math.cos(radians));\n  const sin = Math.abs(Math.sin(radians));\n  canvas.width = img.width * cos + img.height * sin;\n  canvas.height = img.width * sin + img.height * cos;\n\n  // ç§»åˆ°ä¸­å¿ƒå¹¶æ—‹è½¬\n  ctx.translate(canvas.width / 2, canvas.height / 2);\n  ctx.rotate(radians);\n  ctx.drawImage(img, -img.width / 2, -img.height / 2);\n\n  return canvas;\n}\n```\n\n**å¹½é»˜æ„Ÿæ³¨å…¥**ï¼šæ—‹è½¬çš„å›¾ç‰‡å°±åƒä¸€ä¸ªè·³èˆçš„èƒ–å­ï¼Œè§’åº¦è¶Šå¤§ï¼Œå åœ°è¶Šå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åŠ¨æ€è°ƒæ•´ `canvas` å°ºå¯¸ï¼Œä¸ç„¶å®ƒä¼šæŒ¤å‡ºèˆå°ã€‚\n\n**Tips**:  \n- è§’åº¦å½’ä¸€åŒ–ï¼šç”¨æˆ·è¾“å…¥ 370Â°ï¼Ÿç”¨ `angle % 360` è½¬æˆ 10Â°ã€‚\n- æ€§èƒ½æ€æ‰‹ï¼šé¿å…åœ¨ `requestAnimationFrame` é‡Œåå¤æ—‹è½¬å¤§å›¾ï¼Œé¢„è®¡ç®—ç»“æœç¼“å­˜èµ·æ¥ã€‚\n\n---\n\n## ç§»åŠ¨ï¼šæ‹–æ‹½çš„è‰ºæœ¯\n\nç§»åŠ¨å›¾ç‰‡å¬èµ·æ¥ç®€å•ï¼Œä½†è¦å®ç°ä¸æ»‘çš„æ‹–æ‹½ä½“éªŒï¼Œå¾—å¤„ç†é¼ æ ‡/è§¦æ‘¸äº‹ä»¶ã€‚\n\n### æ‹–æ‹½å®ç°\n\n```javascript\nlet offsetX = 0, offsetY = 0, isDragging = false;\n\ncanvas.addEventListener('mousedown', (e) => {\n  isDragging = true;\n  const rect = canvas.getBoundingClientRect();\n  offsetX = e.clientX - rect.left;\n  offsetY = e.clientY - rect.top;\n});\n\ncanvas.addEventListener('mousemove', (e) => {\n  if (!isDragging) return;\n  const rect = canvas.getBoundingClientRect();\n  const x = e.clientX - rect.left - offsetX;\n  const y = e.clientY - rect.top - offsetY;\n  drawImageWithOffset(img, x, y);\n});\n\ncanvas.addEventListener('mouseup', () => {\n  isDragging = false;\n});\n\nfunction drawImageWithOffset(img, x, y) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.drawImage(img, x, y);\n}\n```\n\n**ç±»æ¯”**ï¼šè¿™å°±åƒç‰µç€ç‹—ç‹—æ•£æ­¥ï¼Œä½ å¾—çŸ¥é“ç»³å­ï¼ˆé¼ æ ‡ï¼‰çš„åç§»é‡ï¼Œæ‰èƒ½è®©å®ƒè·Ÿç€ä½ è·‘ã€‚\n\n**Tips**:  \n- è¾¹ç•Œæ£€æŸ¥ï¼š`if (x < 0) x = 0`ï¼Œåˆ«è®©å›¾ç‰‡è·‘å‡ºè§†çº¿ã€‚\n- è§¦æ‘¸æ”¯æŒï¼šåŠ ä¸Š `touchstart`ã€`touchmove`ã€`touchend`ï¼Œé€‚é…ç§»åŠ¨ç«¯ã€‚\n\n---\n\n## è£å‰ªï¼šå‰ªå‡ºå®Œç¾ä¸€å¸§\n\nè£å‰ªæ˜¯å›¾ç‰‡å¤„ç†çš„ç»ˆææ€æ‹›ï¼Œç”¨æˆ·æ¡†é€‰ä¸€å—åŒºåŸŸï¼Œæˆ‘ä»¬å¾—ç²¾å‡†å‰ªä¸‹æ¥ã€‚\n\n### å®ç°è£å‰ª\n\n```javascript\nfunction cropImage(img, x, y, cropWidth, cropHeight) {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  canvas.width = cropWidth;\n  canvas.height = cropHeight;\n\n  // ä»åŸå›¾è£å‰ªæŒ‡å®šåŒºåŸŸ\n  ctx.drawImage(img, x, y, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight);\n  return canvas;\n}\n```\n\næƒ³è®©ç”¨æˆ·è‡ªå·±é€‰åŒºåŸŸï¼ŸåŠ ä¸ªè£å‰ªæ¡†ï¼š\n\n```javascript\nconst cropBox = { x: 50, y: 50, width: 200, height: 200 };\n\nfunction drawCropPreview() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.drawImage(img, 0, 0);\n  // åŠé€æ˜é®ç½©\n  ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  // æ¸…é™¤è£å‰ªåŒºåŸŸ\n  ctx.globalCompositeOperation = 'destination-out';\n  ctx.fillRect(cropBox.x, cropBox.y, cropBox.width, cropBox.height);\n  ctx.globalCompositeOperation = 'source-over';\n}\n```\n\n**å¹½é»˜æ„Ÿ**ï¼šè£å‰ªæ¡†å°±åƒç†å‘å¸ˆçš„å‰ªåˆ€ï¼Œæ¡†ä¸å¥½å°±å˜æˆâ€œåœ°ä¸­æµ·å‘å‹â€ï¼Œå¾—è®©ç”¨æˆ·æ‹–ç€ç©å¾—å¼€å¿ƒã€‚\n\n**Tips**:  \n- åŠ¨æ€è°ƒæ•´ï¼šç”¨ `resize` äº‹ä»¶ç›‘å¬è£å‰ªæ¡†å˜åŒ–ï¼Œå®æ—¶é¢„è§ˆã€‚\n- å¯¼å‡ºè´¨é‡ï¼šç”¨ `canvas.toDataURL('image/jpeg', 0.8)` æ§åˆ¶å‹ç¼©ç‡ï¼Œå¹³è¡¡è´¨é‡å’Œå¤§å°ã€‚\n\n---\n\n## æ€§èƒ½ä¼˜åŒ–ï¼šåˆ«è®©ç”¨æˆ·ç­‰å¾—èŠ±å„¿éƒ½è°¢äº†\n\nå›¾ç‰‡å¤„ç†å¾ˆé…·ï¼Œä½†åŠ¨è¾„å‡  MB çš„å¤§å›¾ä¼šè®©æµè§ˆå™¨å–˜ä¸è¿‡æ°”ã€‚ä»¥ä¸‹æ˜¯ä¼˜åŒ–å»ºè®®ï¼š\n\n1. **åˆ†ç‰‡å¤„ç†**ï¼šå¤§å›¾ç”¨ `createImageBitmap` åˆ†ç‰‡åŠ è½½ã€‚\n2. **Web Worker**ï¼šæŠŠå¯†é›†è®¡ç®—ï¼ˆæ¯”å¦‚æ—‹è½¬çŸ©é˜µï¼‰æ‰”åˆ°åå°çº¿ç¨‹ã€‚\n3. **é™é‡‡æ ·**ï¼šä¸Šä¼ å‰ç”¨ `canvas` ç¼©å°åˆ†è¾¨ç‡ï¼Œ`ctx.drawImage(img, 0, 0, newWidth, newHeight)`ã€‚\n\n**ç±»æ¯”**ï¼šä¼˜åŒ–å°±åƒç»™è½¦å‡é‡ï¼Œè·‘å¾—å¿«è¿˜ä¸è´¹æ²¹ã€‚\n\n---\n\n## ç»“è¯­ï¼šä»æ¯ç‡¥åˆ°ä¼˜é›…\n\nå›¾ç‰‡å¤„ç†çœ‹ä¼¼æ¯ç‡¥ï¼Œä½†æŒæ¡äº†ç¼©æ”¾ã€æ—‹è½¬ã€ç§»åŠ¨å’Œè£å‰ªï¼Œä½ å°±èƒ½æ‰“é€ ä¸€ä¸ªè®©ç”¨æˆ·æƒŠå¹çš„ç¼–è¾‘å™¨ã€‚æ— è®ºæ˜¯çŸ©é˜µå˜æ¢çš„æ•°å­¦ä¹‹ç¾ï¼Œè¿˜æ˜¯æ‹–æ‹½äº¤äº’çš„ä¸æ»‘ä½“éªŒï¼Œæ¯ä¸€è¡Œä»£ç éƒ½åœ¨ä¸ºç”¨æˆ·ä½“éªŒåŠ åˆ†ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸ä»…ç»™ä½ æŠ€æœ¯å¯å‘ï¼Œè¿˜è®©ä½ ä¼šå¿ƒä¸€ç¬‘â€”â€”æ¯•ç«Ÿï¼Œå†™ä»£ç å’Œè®²ç¬‘è¯ä¸€æ ·ï¼Œéƒ½å¾—æœ‰ç‚¹çµé­‚ã€‚ğŸ˜\n\næœ‰ä»€ä¹ˆæƒ³èŠçš„ï¼Ÿæ¬¢è¿ç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æŠŠå›¾ç‰‡ç©å‡ºæ–°é«˜åº¦ï¼\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(s=E(e,a))||s.enumerable});return n};var m=(n,e,r)=>(r=n!=null?p(F(n)):{},d(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>d(c({},\"__esModule\",{value:!0}),n);var i=u((k,t)=>{t.exports=_jsx_runtime});var v={};B(v,{default:()=>h,frontmatter:()=>x});var l=m(i()),x={type:\"Post\",title:\"\\u524D\\u7AEF\\u4E0A\\u4F20\\u56FE\\u7247\\u5904\\u7406\\uFF1A\\u7F29\\u653E\\u3001\\u65CB\\u8F6C\\u3001\\u79FB\\u52A8\\u4E0E\\u88C1\\u526A\",date:\"2023-02-09\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u524D\\u7AEF\\u56FE\\u7247\\u4E0A\\u4F20\\u7684\\u5904\\u7406\\u6280\\u5DE7\\uFF0C\\u6DB5\\u76D6\\u7F29\\u653E\\u3001\\u65CB\\u8F6C\\u3001\\u79FB\\u52A8\\u548C\\u88C1\\u526A\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u4ECE\\u96F6\\u6253\\u9020\\u4E00\\u4E2A\\u4E1D\\u6ED1\\u7684\\u56FE\\u7247\\u7F16\\u8F91\\u4F53\\u9A8C\\u3002\",keywords:\"\\u524D\\u7AEF\\u5F00\\u53D1, \\u56FE\\u7247\\u5904\\u7406, Canvas, JavaScript, \\u7F29\\u653E, \\u65CB\\u8F6C, \\u79FB\\u52A8, \\u88C1\\u526A, \\u6027\\u80FD\\u4F18\\u5316, \\u7528\\u6237\\u4F53\\u9A8C\",author:\"\\u6653\\u9F99\",image:\"/images/hero/image-processing.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"JavaScript\",\"Canvas\",\"\\u7528\\u6237\\u4F53\\u9A8C\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function o(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"\\u56FE\\u7247\\u4E0A\\u4F20\\u5728\\u73B0\\u4EE3 Web \\u5E94\\u7528\\u4E2D\\u65E0\\u5904\\u4E0D\\u5728\\uFF0C\\u4ECE\\u793E\\u4EA4\\u5E73\\u53F0\\u7684\\u5934\\u50CF\\u88C1\\u526A\\u5230\\u7535\\u5546\\u5546\\u54C1\\u7684\\u7EC6\\u8282\\u5C55\\u793A\\uFF0C\\u7528\\u6237\\u5BF9\\u56FE\\u7247\\u7684\\u5904\\u7406\\u9700\\u6C42\\u65E9\\u5DF2\\u4E0D\\u518D\\u662F\\u7B80\\u5355\\u7684\\u201C\\u62D6\\u8FDB\\u6765\\u5C31\\u5B8C\\u4E8B\\u201D\\u3002\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u8BA9\\u7528\\u6237\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u8F7B\\u677E\\u5B8C\\u6210\\u7F29\\u653E\\u3001\\u65CB\\u8F6C\\u3001\\u79FB\\u52A8\\u548C\\u88C1\\u526A\\u64CD\\u4F5C\\uFF0C\\u8FD8\\u8981\\u4FDD\\u8BC1\\u6027\\u80FD\\u4E1D\\u6ED1\\u3001\\u4F53\\u9A8C\\u6D41\\u7545\\u3002\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165\\u56FE\\u7247\\u5904\\u7406\\u7684\\u6BCF\\u4E00\\u4E2A\\u73AF\\u8282\\uFF0C\\u89E3\\u9501\\u80CC\\u540E\\u7684\\u539F\\u7406\\uFF0C\\u5206\\u4EAB\\u5B9E\\u7528\\u6280\\u5DE7\\uFF0C\\u751A\\u81F3\\u5939\\u6742\\u4E00\\u70B9\\u9AD8\\u7EA7\\u5E7D\\u9ED8\\uFF08\\u6BD5\\u7ADF\\uFF0C\\u8C01\\u8BF4\\u6280\\u672F\\u535A\\u5BA2\\u4E0D\\u80FD\\u6709\\u70B9\\u7075\\u9B42\\uFF1F\\uFF09\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u628A\\u56FE\\u7247\\u73A9\\u51FA\\u82B1\\u513F\\u6765\\uFF01\\u{1F31F}\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u56FE\\u7247\\u5904\\u7406\\u8FD9\\u4E48\\u91CD\\u8981\",children:(0,l.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u56FE\\u7247\\u5904\\u7406\\u8FD9\\u4E48\\u91CD\\u8981\",children:\"\\u4E3A\\u4EC0\\u4E48\\u56FE\\u7247\\u5904\\u7406\\u8FD9\\u4E48\\u91CD\\u8981\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4F60\\u662F\\u4E00\\u4E2A\\u7528\\u6237\\uFF0C\\u4E0A\\u4F20\\u4E86\\u4E00\\u5F20\\u5EA6\\u5047\\u7167\\uFF0C\\u7ED3\\u679C\\u53D1\\u73B0\\u5B83\\u6B6A\\u4E86\\u3001\\u592A\\u5927\\u3001\\u8FD8\\u6321\\u4F4F\\u4E86\\u5173\\u952E\\u90E8\\u5206\\u3002\\u5982\\u679C\\u6CA1\\u6709\\u4E00\\u4E2A\\u597D\\u7528\\u7684\\u7F16\\u8F91\\u5DE5\\u5177\\uFF0C\\u4F60\\u53EF\\u80FD\\u4F1A\\u76F4\\u63A5\\u5173\\u95ED\\u9875\\u9762\\uFF0C\\u5634\\u91CC\\u5600\\u5495\\uFF1A\\u201C\\u8FD9\\u7834\\u7F51\\u7AD9\\uFF0C\\u8FDE\\u4E2A\\u56FE\\u7247\\u90FD\\u641E\\u4E0D\\u5B9A\\u3002\\u201D\\u53CD\\u8FC7\\u6765\\uFF0C\\u5982\\u679C\\u6211\\u4EEC\\u63D0\\u4F9B\\u4E00\\u4E2A\\u76F4\\u89C2\\u3001\\u54CD\\u5E94\\u8FC5\\u901F\\u7684\\u56FE\\u7247\\u7F16\\u8F91\\u5668\\uFF0C\\u7528\\u6237\\u4F1A\\u89C9\\u5F97\\u201C\\u54C7\\uFF0C\\u8FD9\\u73A9\\u610F\\u513F\\u6BD4\\u6211\\u5BB6 PS \\u8FD8\\u597D\\u7528\\uFF01\\u201D\\u3002\"}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4ECE\\u6280\\u672F\\u89D2\\u5EA6\\u770B\\uFF0C\\u56FE\\u7247\\u5904\\u7406\\u6D89\\u53CA\\u6D4F\\u89C8\\u5668\\u539F\\u751F API\\uFF08\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Canvas\"})})})}),\"\\uFF09\\u3001\\u77E9\\u9635\\u53D8\\u6362\\u3001\\u6027\\u80FD\\u4F18\\u5316\\u548C\\u7528\\u6237\\u4EA4\\u4E92\\u8BBE\\u8BA1\\u3002\\u6BCF\\u4E2A\\u73AF\\u8282\\u90FD\\u6709\\u5751\\uFF0C\\u4F46\\u4E5F\\u90FD\\u6709\\u89E3\\u6CD5\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u9010\\u4E00\\u62C6\\u89E3\\u7F29\\u653E\\u3001\\u65CB\\u8F6C\\u3001\\u79FB\\u52A8\\u548C\\u88C1\\u526A\\u7684\\u5B9E\\u73B0\\uFF0C\\u5E26\\u4E0A\\u4EE3\\u7801\\u793A\\u4F8B\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u57FA\\u7840\\u51C6\\u5907\\u4ECE\\u4E0A\\u4F20\\u5F00\\u59CB\",children:(0,l.jsx)(e.a,{href:\"#\\u57FA\\u7840\\u51C6\\u5907\\u4ECE\\u4E0A\\u4F20\\u5F00\\u59CB\",children:\"\\u57FA\\u7840\\u51C6\\u5907\\uFF1A\\u4ECE\\u4E0A\\u4F20\\u5F00\\u59CB\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u5904\\u7406\\u56FE\\u7247\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5F97\\u5148\\u62FF\\u5230\\u5B83\\u3002HTML \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'<input type=\"file\">'})})})}),\" \\u662F\\u8D77\\u70B9\\uFF0C\\u4F46\\u522B\\u6307\\u671B\\u5B83\\u80FD\\u76F4\\u63A5\\u5410\\u51FA\\u4F60\\u60F3\\u8981\\u7684\\u50CF\\u7D20\\u6570\\u636E\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u83B7\\u53D6\\u56FE\\u7247\\u6570\\u636E\",children:(0,l.jsx)(e.a,{href:\"#\\u83B7\\u53D6\\u56FE\\u7247\\u6570\\u636E\",children:\"\\u83B7\\u53D6\\u56FE\\u7247\\u6570\\u636E\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" input\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#imageInput'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"input.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'change'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" file\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.target.files[\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"file) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" reader\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" FileReader\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  reader.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" img\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Image\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    img.src \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" event.target.result;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    img.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u56FE\\u7247\\u52A0\\u8F7D\\u5B8C\\u6210\\uFF0C\\u51C6\\u5907\\u5904\\u7406\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      processImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  reader.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"readAsDataURL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(file);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"FileReader\"})})})}),\" \\u5C06\\u6587\\u4EF6\\u8F6C\\u4E3A DataURL\\uFF0C\\u518D\\u52A0\\u8F7D\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Image\"})})})}),\" \\u5BF9\\u8C61\\u4E2D\\u3002\\u4E3A\\u4EC0\\u4E48\\u4E0D\\u76F4\\u63A5\\u7528 Blob \\u6216 ArrayBuffer\\uFF1F\\u56E0\\u4E3A DataURL \\u80FD\\u76F4\\u63A5\\u585E\\u7ED9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<img>\"})})})}),\" \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"src\"})})})}),\"\\uFF0C\\u7B80\\u5355\\u7C97\\u66B4\\u3002\\u4E0D\\u8FC7\\uFF0C\\u6587\\u4EF6\\u592A\\u5927\\u65F6\\u53EF\\u80FD\\u4F1A\\u5361\\u987F\\uFF0C\\u540E\\u6587\\u4F1A\\u804A\\u4F18\\u5316\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\":\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u68C0\\u67E5\\u6587\\u4EF6\\u7C7B\\u578B\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"if (!file.type.startsWith('image/'))\"})})})}),\" \\u80FD\\u907F\\u514D\\u7528\\u6237\\u4E0A\\u4F20\\u4E86\\u4E2A\\u201C\\u5047\\u56FE\\u7247\\u201D\\uFF08\\u6BD4\\u5982 PDF \\u6539\\u4E86\\u4E2A .jpg \\u540E\\u7F00\\uFF09\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u9650\\u5236\\u6587\\u4EF6\\u5927\\u5C0F\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"if (file.size > 5 * 1024 * 1024)\"})})})}),\"\\uFF0C\\u8D85\\u8FC7 5MB \\u5C31\\u63D0\\u793A\\u7528\\u6237\\u201C\\u54E5\\u4EEC\\u513F\\uFF0C\\u8FD9\\u56FE\\u591F\\u6211\\u6253\\u5370\\u6D77\\u62A5\\u4E86\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6838\\u5FC3\\u5DE5\\u5177canvas-\\u7684\\u9B54\\u6CD5\",children:(0,l.jsx)(e.a,{href:\"#\\u6838\\u5FC3\\u5DE5\\u5177canvas-\\u7684\\u9B54\\u6CD5\",children:\"\\u6838\\u5FC3\\u5DE5\\u5177\\uFF1ACanvas \\u7684\\u9B54\\u6CD5\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u56FE\\u7247\\u5904\\u7406\\u7684\\u7075\\u9B42\\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Canvas\"})})})}),\"\\u3002\\u5B83\\u5C31\\u50CF\\u4E00\\u4E2A\\u6570\\u5B57\\u753B\\u677F\\uFF0C\\u7ED9\\u4F60\\u65E0\\u9650\\u53EF\\u80FD\\uFF0C\\u4F46\\u4E5F\\u5BB9\\u6613\\u8BA9\\u4F60\\u8E29\\u5751\\uFF08\\u6BD4\\u5982\\u753B\\u6B6A\\u4E86\\u8FD8\\u602A\\u5B83\\uFF09\\u3002\\u6211\\u4EEC\\u5148\\u7528\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF0C\\u628A\\u56FE\\u7247\\u753B\\u4E0A\\u53BB\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" processImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"img\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" canvas\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'canvas'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getContext\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'2d'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  canvas.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.width;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  canvas.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.height;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"drawImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", img.width, img.height);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.body.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(canvas);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8FD9\\u53EA\\u662F\\u5F00\\u59CB\\u3002\\u7F29\\u653E\\u3001\\u65CB\\u8F6C\\u3001\\u79FB\\u52A8\\u548C\\u88C1\\u526A\\u90FD\\u79BB\\u4E0D\\u5F00 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx\"})})})}),\" \\u7684\\u53D8\\u6362\\u9B54\\u6CD5\\u3002\\u8BA9\\u6211\\u4EEC\\u9010\\u4E2A\\u51FB\\u7834\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u7F29\\u653E\\u8BA9\\u56FE\\u7247\\u542C\\u8BDD\\u53D8\\u5927\\u53D8\\u5C0F\",children:(0,l.jsx)(e.a,{href:\"#\\u7F29\\u653E\\u8BA9\\u56FE\\u7247\\u542C\\u8BDD\\u53D8\\u5927\\u53D8\\u5C0F\",children:\"\\u7F29\\u653E\\uFF1A\\u8BA9\\u56FE\\u7247\\u542C\\u8BDD\\u53D8\\u5927\\u53D8\\u5C0F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7F29\\u653E\\u7684\\u6838\\u5FC3\\u662F\\u8C03\\u6574\\u56FE\\u7247\\u7684\\u663E\\u793A\\u6BD4\\u4F8B\\u3002\\u76F4\\u63A5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"drawImage\"})})})}),\" \\u7684\\u53C2\\u6570\\u53EF\\u4EE5\\u5B9E\\u73B0\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"drawImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", img.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" scale, img.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" scale);\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4F46\\u8FD9\\u6709\\u4E2A\\u95EE\\u9898\\uFF1A\\u7F29\\u653E\\u540E\\uFF0C\\u56FE\\u7247\\u53EF\\u80FD\\u4F1A\\u6EA2\\u51FA \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"canvas\"})})})}),\" \\u8FB9\\u754C\\uFF0C\\u6216\\u8005\\u53D8\\u5F97\\u6A21\\u7CCA\\u3002\\u600E\\u4E48\\u529E\\uFF1F\\u6211\\u4EEC\\u9700\\u8981\\u4E00\\u4E2A\\u201C\\u7F29\\u653E\\u4E2D\\u5FC3\\u201D\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u77E9\\u9635\\u53D8\\u6362\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u77E9\\u9635\\u53D8\\u6362\",children:\"\\u539F\\u7406\\uFF1A\\u77E9\\u9635\\u53D8\\u6362\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Canvas \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scale\"})})})}),\" \\u65B9\\u6CD5\\u80FD\\u5168\\u5C40\\u7F29\\u653E\\uFF0C\\u4F46\\u5B83\\u9ED8\\u8BA4\\u4EE5 (0, 0) \\u4E3A\\u539F\\u70B9\\u3002\\u8981\\u4EE5\\u56FE\\u7247\\u4E2D\\u5FC3\\u7F29\\u653E\\uFF0C\\u5F97\\u914D\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"translate\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" scaleImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"img\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"scale\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" canvas\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'canvas'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getContext\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'2d'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  canvas.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.width;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  canvas.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.height;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u79FB\\u52A8\\u5230\\u4E2D\\u5FC3\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"translate\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", img.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5E94\\u7528\\u7F29\\u653E\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"scale\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(scale, scale);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u79FB\\u56DE\\u53BB\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"translate\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"img.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"img.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"drawImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u8FD9\\u5C31\\u50CF\\u4F60\\u5728\\u653E\\u5927\\u955C\\u4E0B\\u770B\\u5730\\u56FE\\uFF0C\\u5148\\u628A\\u5730\\u56FE\\u79FB\\u5230\\u4E2D\\u95F4\\uFF0C\\u653E\\u5927\\u540E\\u518D\\u79FB\\u56DE\\u53BB\\uFF0C\\u4E0D\\u7136\\u4F60\\u53EF\\u80FD\\u53EA\\u770B\\u5230\\u89D2\\u843D\\u91CC\\u7684\\u4E00\\u53EA\\u8682\\u8681 \\u{1F41C}\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\":\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u9632\\u6A21\\u7CCA\\uFF1A\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx.imageSmoothingEnabled = true\"})})})}),\"\\uFF0C\\u4F46\\u5982\\u679C\\u8FFD\\u6C42\\u50CF\\u7D20\\u98CE\\uFF0C\\u53EF\\u4EE5\\u5173\\u6389\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u6027\\u80FD\\u4F18\\u5316\\uFF1A\\u9891\\u7E41\\u7F29\\u653E\\u65F6\\uFF0C\\u522B\\u6BCF\\u6B21\\u90FD\\u521B\\u5EFA\\u65B0 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"canvas\"})})})}),\"\\uFF0C\\u590D\\u7528\\u4E00\\u4E2A\\u5E76\\u6E05\\u7A7A\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx.clearRect\"})})})}),\"\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u65CB\\u8F6C\\u8BA9\\u56FE\\u7247\\u8DF3\\u4E2A\\u821E\",children:(0,l.jsx)(e.a,{href:\"#\\u65CB\\u8F6C\\u8BA9\\u56FE\\u7247\\u8DF3\\u4E2A\\u821E\",children:\"\\u65CB\\u8F6C\\uFF1A\\u8BA9\\u56FE\\u7247\\u8DF3\\u4E2A\\u821E\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u65CB\\u8F6C\\u662F\\u524D\\u7AEF\\u56FE\\u7247\\u5904\\u7406\\u7684\\u201C\\u70AB\\u6280\\u65F6\\u523B\\u201D\\u3002\\u7528\\u6237\\u70B9\\u4E86\\u201C\\u987A\\u65F6\\u9488 90\\xB0\\u201D\\uFF0C\\u4F60\\u5F97\\u8BA9\\u56FE\\u7247\\u4F18\\u96C5\\u5730\\u8F6C\\u8D77\\u6765\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5B9E\\u73B0\\u65CB\\u8F6C\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u73B0\\u65CB\\u8F6C\",children:\"\\u5B9E\\u73B0\\u65CB\\u8F6C\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" rotateImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"img\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"angleInDegrees\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" canvas\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'canvas'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getContext\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'2d'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u65CB\\u8F6C\\u540E\\u5BBD\\u9AD8\\u53EF\\u80FD\\u53D8\\uFF0C\\u8BA1\\u7B97\\u65B0\\u5C3A\\u5BF8\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" radians\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (angleInDegrees \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PI\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 180\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cos\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"abs\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"cos\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(radians));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" sin\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"abs\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sin\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(radians));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  canvas.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cos \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" sin;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  canvas.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" sin \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cos;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u79FB\\u5230\\u4E2D\\u5FC3\\u5E76\\u65CB\\u8F6C\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"translate\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(canvas.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", canvas.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rotate\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(radians);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"drawImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img, \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"img.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"img.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5E7D\\u9ED8\\u611F\\u6CE8\\u5165\"}),\"\\uFF1A\\u65CB\\u8F6C\\u7684\\u56FE\\u7247\\u5C31\\u50CF\\u4E00\\u4E2A\\u8DF3\\u821E\\u7684\\u80D6\\u5B50\\uFF0C\\u89D2\\u5EA6\\u8D8A\\u5927\\uFF0C\\u5360\\u5730\\u8D8A\\u591A\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u5F97\\u52A8\\u6001\\u8C03\\u6574 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"canvas\"})})})}),\" \\u5C3A\\u5BF8\\uFF0C\\u4E0D\\u7136\\u5B83\\u4F1A\\u6324\\u51FA\\u821E\\u53F0\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\":\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u89D2\\u5EA6\\u5F52\\u4E00\\u5316\\uFF1A\\u7528\\u6237\\u8F93\\u5165 370\\xB0\\uFF1F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"angle % 360\"})})})}),\" \\u8F6C\\u6210 10\\xB0\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u6027\\u80FD\\u6740\\u624B\\uFF1A\\u907F\\u514D\\u5728 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"requestAnimationFrame\"})})})}),\" \\u91CC\\u53CD\\u590D\\u65CB\\u8F6C\\u5927\\u56FE\\uFF0C\\u9884\\u8BA1\\u7B97\\u7ED3\\u679C\\u7F13\\u5B58\\u8D77\\u6765\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u79FB\\u52A8\\u62D6\\u62FD\\u7684\\u827A\\u672F\",children:(0,l.jsx)(e.a,{href:\"#\\u79FB\\u52A8\\u62D6\\u62FD\\u7684\\u827A\\u672F\",children:\"\\u79FB\\u52A8\\uFF1A\\u62D6\\u62FD\\u7684\\u827A\\u672F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u79FB\\u52A8\\u56FE\\u7247\\u542C\\u8D77\\u6765\\u7B80\\u5355\\uFF0C\\u4F46\\u8981\\u5B9E\\u73B0\\u4E1D\\u6ED1\\u7684\\u62D6\\u62FD\\u4F53\\u9A8C\\uFF0C\\u5F97\\u5904\\u7406\\u9F20\\u6807/\\u89E6\\u6478\\u4E8B\\u4EF6\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u62D6\\u62FD\\u5B9E\\u73B0\",children:(0,l.jsx)(e.a,{href:\"#\\u62D6\\u62FD\\u5B9E\\u73B0\",children:\"\\u62D6\\u62FD\\u5B9E\\u73B0\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" offsetX \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", offsetY \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", isDragging \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'mousedown'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  isDragging \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" rect\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getBoundingClientRect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  offsetX \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.clientX \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" rect.left;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  offsetY \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.clientY \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" rect.top;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'mousemove'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"isDragging) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" rect\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getBoundingClientRect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" x\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.clientX \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" rect.left \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" offsetX;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" y\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.clientY \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" rect.top \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" offsetY;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  drawImageWithOffset\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img, x, y);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'mouseup'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  isDragging \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" drawImageWithOffset\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"img\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"x\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"y\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"clearRect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", canvas.width, canvas.height);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"drawImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img, x, y);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u8FD9\\u5C31\\u50CF\\u7275\\u7740\\u72D7\\u72D7\\u6563\\u6B65\\uFF0C\\u4F60\\u5F97\\u77E5\\u9053\\u7EF3\\u5B50\\uFF08\\u9F20\\u6807\\uFF09\\u7684\\u504F\\u79FB\\u91CF\\uFF0C\\u624D\\u80FD\\u8BA9\\u5B83\\u8DDF\\u7740\\u4F60\\u8DD1\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\":\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u8FB9\\u754C\\u68C0\\u67E5\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"if (x < 0) x = 0\"})})})}),\"\\uFF0C\\u522B\\u8BA9\\u56FE\\u7247\\u8DD1\\u51FA\\u89C6\\u7EBF\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u89E6\\u6478\\u652F\\u6301\\uFF1A\\u52A0\\u4E0A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"touchstart\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"touchmove\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"touchend\"})})})}),\"\\uFF0C\\u9002\\u914D\\u79FB\\u52A8\\u7AEF\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u88C1\\u526A\\u526A\\u51FA\\u5B8C\\u7F8E\\u4E00\\u5E27\",children:(0,l.jsx)(e.a,{href:\"#\\u88C1\\u526A\\u526A\\u51FA\\u5B8C\\u7F8E\\u4E00\\u5E27\",children:\"\\u88C1\\u526A\\uFF1A\\u526A\\u51FA\\u5B8C\\u7F8E\\u4E00\\u5E27\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u88C1\\u526A\\u662F\\u56FE\\u7247\\u5904\\u7406\\u7684\\u7EC8\\u6781\\u6740\\u62DB\\uFF0C\\u7528\\u6237\\u6846\\u9009\\u4E00\\u5757\\u533A\\u57DF\\uFF0C\\u6211\\u4EEC\\u5F97\\u7CBE\\u51C6\\u526A\\u4E0B\\u6765\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5B9E\\u73B0\\u88C1\\u526A\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u73B0\\u88C1\\u526A\",children:\"\\u5B9E\\u73B0\\u88C1\\u526A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" cropImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"img\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"x\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"y\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cropWidth\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cropHeight\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" canvas\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'canvas'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getContext\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'2d'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  canvas.width \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cropWidth;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  canvas.height \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cropHeight;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u4ECE\\u539F\\u56FE\\u88C1\\u526A\\u6307\\u5B9A\\u533A\\u57DF\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"drawImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img, x, y, cropWidth, cropHeight, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", cropWidth, cropHeight);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u60F3\\u8BA9\\u7528\\u6237\\u81EA\\u5DF1\\u9009\\u533A\\u57DF\\uFF1F\\u52A0\\u4E2A\\u88C1\\u526A\\u6846\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cropBox\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { x: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"50\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", y: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"50\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", width: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", height: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" drawCropPreview\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"clearRect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", canvas.width, canvas.height);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"drawImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u534A\\u900F\\u660E\\u906E\\u7F69\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.fillStyle \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'rgba(0, 0, 0, 0.5)'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fillRect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", canvas.width, canvas.height);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u6E05\\u9664\\u88C1\\u526A\\u533A\\u57DF\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.globalCompositeOperation \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'destination-out'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fillRect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(cropBox.x, cropBox.y, cropBox.width, cropBox.height);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ctx.globalCompositeOperation \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'source-over'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5E7D\\u9ED8\\u611F\"}),\"\\uFF1A\\u88C1\\u526A\\u6846\\u5C31\\u50CF\\u7406\\u53D1\\u5E08\\u7684\\u526A\\u5200\\uFF0C\\u6846\\u4E0D\\u597D\\u5C31\\u53D8\\u6210\\u201C\\u5730\\u4E2D\\u6D77\\u53D1\\u578B\\u201D\\uFF0C\\u5F97\\u8BA9\\u7528\\u6237\\u62D6\\u7740\\u73A9\\u5F97\\u5F00\\u5FC3\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\":\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u52A8\\u6001\\u8C03\\u6574\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"resize\"})})})}),\" \\u4E8B\\u4EF6\\u76D1\\u542C\\u88C1\\u526A\\u6846\\u53D8\\u5316\\uFF0C\\u5B9E\\u65F6\\u9884\\u89C8\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5BFC\\u51FA\\u8D28\\u91CF\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"canvas.toDataURL('image/jpeg', 0.8)\"})})})}),\" \\u63A7\\u5236\\u538B\\u7F29\\u7387\\uFF0C\\u5E73\\u8861\\u8D28\\u91CF\\u548C\\u5927\\u5C0F\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6027\\u80FD\\u4F18\\u5316\\u522B\\u8BA9\\u7528\\u6237\\u7B49\\u5F97\\u82B1\\u513F\\u90FD\\u8C22\\u4E86\",children:(0,l.jsx)(e.a,{href:\"#\\u6027\\u80FD\\u4F18\\u5316\\u522B\\u8BA9\\u7528\\u6237\\u7B49\\u5F97\\u82B1\\u513F\\u90FD\\u8C22\\u4E86\",children:\"\\u6027\\u80FD\\u4F18\\u5316\\uFF1A\\u522B\\u8BA9\\u7528\\u6237\\u7B49\\u5F97\\u82B1\\u513F\\u90FD\\u8C22\\u4E86\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u56FE\\u7247\\u5904\\u7406\\u5F88\\u9177\\uFF0C\\u4F46\\u52A8\\u8F84\\u51E0 MB \\u7684\\u5927\\u56FE\\u4F1A\\u8BA9\\u6D4F\\u89C8\\u5668\\u5598\\u4E0D\\u8FC7\\u6C14\\u3002\\u4EE5\\u4E0B\\u662F\\u4F18\\u5316\\u5EFA\\u8BAE\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5206\\u7247\\u5904\\u7406\"}),\"\\uFF1A\\u5927\\u56FE\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"createImageBitmap\"})})})}),\" \\u5206\\u7247\\u52A0\\u8F7D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Web Worker\"}),\"\\uFF1A\\u628A\\u5BC6\\u96C6\\u8BA1\\u7B97\\uFF08\\u6BD4\\u5982\\u65CB\\u8F6C\\u77E9\\u9635\\uFF09\\u6254\\u5230\\u540E\\u53F0\\u7EBF\\u7A0B\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u964D\\u91C7\\u6837\"}),\"\\uFF1A\\u4E0A\\u4F20\\u524D\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"canvas\"})})})}),\" \\u7F29\\u5C0F\\u5206\\u8FA8\\u7387\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx.drawImage(img, 0, 0, newWidth, newHeight)\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u4F18\\u5316\\u5C31\\u50CF\\u7ED9\\u8F66\\u51CF\\u91CD\\uFF0C\\u8DD1\\u5F97\\u5FEB\\u8FD8\\u4E0D\\u8D39\\u6CB9\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u7ED3\\u8BED\\u4ECE\\u67AF\\u71E5\\u5230\\u4F18\\u96C5\",children:(0,l.jsx)(e.a,{href:\"#\\u7ED3\\u8BED\\u4ECE\\u67AF\\u71E5\\u5230\\u4F18\\u96C5\",children:\"\\u7ED3\\u8BED\\uFF1A\\u4ECE\\u67AF\\u71E5\\u5230\\u4F18\\u96C5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u56FE\\u7247\\u5904\\u7406\\u770B\\u4F3C\\u67AF\\u71E5\\uFF0C\\u4F46\\u638C\\u63E1\\u4E86\\u7F29\\u653E\\u3001\\u65CB\\u8F6C\\u3001\\u79FB\\u52A8\\u548C\\u88C1\\u526A\\uFF0C\\u4F60\\u5C31\\u80FD\\u6253\\u9020\\u4E00\\u4E2A\\u8BA9\\u7528\\u6237\\u60CA\\u53F9\\u7684\\u7F16\\u8F91\\u5668\\u3002\\u65E0\\u8BBA\\u662F\\u77E9\\u9635\\u53D8\\u6362\\u7684\\u6570\\u5B66\\u4E4B\\u7F8E\\uFF0C\\u8FD8\\u662F\\u62D6\\u62FD\\u4EA4\\u4E92\\u7684\\u4E1D\\u6ED1\\u4F53\\u9A8C\\uFF0C\\u6BCF\\u4E00\\u884C\\u4EE3\\u7801\\u90FD\\u5728\\u4E3A\\u7528\\u6237\\u4F53\\u9A8C\\u52A0\\u5206\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4E0D\\u4EC5\\u7ED9\\u4F60\\u6280\\u672F\\u542F\\u53D1\\uFF0C\\u8FD8\\u8BA9\\u4F60\\u4F1A\\u5FC3\\u4E00\\u7B11\\u2014\\u2014\\u6BD5\\u7ADF\\uFF0C\\u5199\\u4EE3\\u7801\\u548C\\u8BB2\\u7B11\\u8BDD\\u4E00\\u6837\\uFF0C\\u90FD\\u5F97\\u6709\\u70B9\\u7075\\u9B42\\u3002\\u{1F60E}\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6709\\u4EC0\\u4E48\\u60F3\\u804A\\u7684\\uFF1F\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u628A\\u56FE\\u7247\\u73A9\\u51FA\\u65B0\\u9AD8\\u5EA6\\uFF01\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}return f(v);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/å‰ç«¯ä¸Šä¼ å›¾ç‰‡å¤„ç†.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/å‰ç«¯ä¸Šä¼ å›¾ç‰‡å¤„ç†.mdx",
    "sourceFileName": "å‰ç«¯ä¸Šä¼ å›¾ç‰‡å¤„ç†.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/å‰ç«¯ä¸Šä¼ å›¾ç‰‡å¤„ç†"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/å‰ç«¯ä¸Šä¼ å›¾ç‰‡å¤„ç†"
}
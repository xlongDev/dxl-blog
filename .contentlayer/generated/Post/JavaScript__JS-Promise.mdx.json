{
  "title": "æ·±å…¥å‰–æž JavaScript Promiseï¼šä»ŽåŽŸç†åˆ°å®žè·µçš„å…¨é¢æŒ‡å—",
  "date": "2022-03-02T00:00:00.000Z",
  "description": "å…¨é¢è§£æž JavaScript Promise çš„æ ¸å¿ƒåŽŸç†ã€è®¾è®¡å“²å­¦ä¸Žå®žæˆ˜æŠ€å·§ï¼Œæ¶µç›–å¼‚æ­¥ç¼–ç¨‹ã€é”™è¯¯å¤„ç†ã€æœ€ä½³å®žè·µåŠæ·±åº¦æ¡ˆä¾‹ï¼Œé€‚åˆå‰ç«¯å¼€å‘è€…è¿›é˜¶ã€‚",
  "keywords": "JavaScript, Promise, å¼‚æ­¥ç¼–ç¨‹, å‰ç«¯å¼€å‘, ES6, é”™è¯¯å¤„ç†, å¹¶å‘æŽ§åˆ¶, å¾®ä»»åŠ¡",
  "author": "æ™“é¾™",
  "image": "/images/hero/promise-guide.jpg",
  "tags": [
    "JavaScript",
    "å¼‚æ­¥ç¼–ç¨‹",
    "å‰ç«¯å¼€å‘"
  ],
  "views": 0,
  "likes": 0,
  "category": "JavaScript",
  "body": {
    "raw": "\n> â€œæˆ‘ä»¬æ— æ³•æŽ§åˆ¶æœªæ¥çš„åˆ°æ¥ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€‰æ‹©å¦‚ä½•è¿ŽæŽ¥å®ƒã€‚â€ â€”â€” æ”¹ç¼–è‡ªã€Šå“ˆåˆ©Â·æ³¢ç‰¹ã€‹ä¸­çš„ä¸€å¥å“²ç†\n\nå¼‚æ­¥ç¼–ç¨‹æ˜¯çŽ°ä»£å‰ç«¯å¼€å‘çš„åŸºçŸ³ï¼Œè€Œ JavaScript çš„ **Promise** æ— ç–‘æ˜¯è¿™åœºå˜é©çš„å…ˆé”‹ã€‚å®ƒä¸ä»…è§£å†³äº†å›žè°ƒåœ°ç‹±çš„å™©æ¢¦ï¼Œè¿˜ä¸ºæˆ‘ä»¬å¸¦æ¥äº†ä¼˜é›…çš„ä»£ç ç»“æž„å’Œå¯é çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œä½ å¯èƒ½å·²ç»ç”¨è¿‡ `Promise`ï¼Œä½†ä½ æ˜¯å¦çœŸæ­£ç†è§£å®ƒçš„å†…æ ¸ï¼Ÿå®ƒä¸ºä½•å¦‚æ­¤è®¾è®¡ï¼Ÿå®ƒçš„è¾¹ç•Œåœ¨å“ªé‡Œï¼Ÿä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä¸€èµ·è¸ä¸Šä¸€åœºæ·±å…¥ Promise çš„æ—…ç¨‹ï¼Œä»Žåº•å±‚åŽŸç†åˆ°é«˜çº§å®žè·µï¼Œå¸¦ä½ å½»åº•æžæ‡‚è¿™ä¸ªå‰ç«¯å¼€å‘ä¸­çš„æ ¸å¿ƒæ¦‚å¿µã€‚ðŸš€\n\nè¿™ç¯‡æ–‡ç« çš„ç›®æ ‡æ˜¯ï¼š**æ¸…æ™°ã€å…¨é¢ã€æœ‰è¶£**ã€‚æˆ‘ä¼šç”¨ç±»æ¯”ã€å¹½é»˜ã€æ¡ˆä¾‹å’Œè¡¨æ ¼ä¸ºä½ æ‹†è§£ Promise çš„æ¯ä¸€ä¸ªè§’è½ï¼Œåˆ†äº«æˆ‘çš„æ„Ÿæ‚Ÿå’Œæœ€ä½³å®žè·µã€‚æ— è®ºä½ æ˜¯åˆšæŽ¥è§¦ Promise çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯æƒ³æ·±å…¥åŽŸç†çš„è€å…µï¼Œè¿™ç¯‡æ–‡ç« éƒ½ä¼šè®©ä½ æœ‰æ‰€æ”¶èŽ·ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼\n\n## ä»€ä¹ˆæ˜¯ Promiseï¼Ÿä¸€ä¸ªç›´è§‚çš„ç±»æ¯” ðŸŒŸ\n\nPromiseï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸€ä¸ªâ€œæ‰¿è¯ºâ€ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨å’–å•¡åº—ç‚¹äº†ä¸€æ¯æ‹¿é“ï¼ŒæœåŠ¡å‘˜å‘Šè¯‰ä½ ï¼šâ€œ5 åˆ†é’ŸåŽåšå¥½ï¼Œæˆ‘ä¿è¯ï¼â€ è¿™å°±æ˜¯ä¸€ä¸ª Promiseï¼š\n- **ä½ å¾—åˆ°äº†ä¸€ä¸ªæ‰¿è¯º**ï¼šå’–å•¡ä¼šåœ¨æœªæ¥æŸä¸ªæ—¶é—´å‡†å¤‡å¥½ï¼ˆæˆ–å¤±è´¥ï¼Œæ¯”å¦‚æœºå™¨åäº†ï¼‰ã€‚\n- **ä½ æ— éœ€ä¸€ç›´ç›¯ç€**ï¼šä½ å¯ä»¥åŽ»åˆ·æ‰‹æœºï¼Œç­‰æœåŠ¡å‘˜å–Šä½ åå­—ã€‚\n- **ç»“æžœæœ‰ä¸¤ç§å¯èƒ½**ï¼šè¦ä¹ˆæ‹¿åˆ°å’–å•¡ï¼ˆfulfilledï¼‰ï¼Œè¦ä¹ˆè¢«å‘ŠçŸ¥æœºå™¨æ•…éšœï¼ˆrejectedï¼‰ã€‚\n\nåœ¨ JavaScript ä¸­ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆæˆ–å¤±è´¥ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯**çŠ¶æ€ç®¡ç†**å’Œ**é“¾å¼è°ƒç”¨**ï¼Œè®©æˆ‘ä»¬ä»¥å£°æ˜Žå¼çš„æ–¹å¼å¤„ç†å¼‚æ­¥é€»è¾‘ã€‚\n\n### Promise çš„ä¸‰ç§çŠ¶æ€\n\nPromise æœ‰ä¸‰ç§çŠ¶æ€ï¼Œæ¸…æ™°åœ°å®šä¹‰äº†å¼‚æ­¥æ“ä½œçš„ç”Ÿå‘½å‘¨æœŸï¼š\n\n| çŠ¶æ€       | æè¿°                                                                 | ç±»æ¯”                     |\n|------------|----------------------------------------------------------------------|--------------------------|\n| **Pending**   | åˆå§‹çŠ¶æ€ï¼Œæ“ä½œå°šæœªå®Œæˆ                                               | å’–å•¡æ­£åœ¨åˆ¶ä½œï¼Œä½ åœ¨ç­‰å¾…   |\n| **Fulfilled** | æ“ä½œæˆåŠŸå®Œæˆï¼Œè¿”å›žç»“æžœ                                               | å’–å•¡åšå¥½ï¼Œç«¯åˆ°ä½ é¢å‰     |\n| **Rejected**  | æ“ä½œå¤±è´¥ï¼Œè¿”å›žé”™è¯¯åŽŸå›                                                | æœºå™¨åäº†ï¼Œè®¢å•è¢«å–æ¶ˆ     |\n\n*Tipsï¼šPromise çš„çŠ¶æ€ä¸€æ—¦ä»Ž Pending å˜ä¸º Fulfilled æˆ– Rejectedï¼Œå°±ä¸å¯æ›´æ”¹ã€‚è¿™å°±åƒå’–å•¡åšå¥½åŽä¸å¯èƒ½å†å˜å›žâ€œæ­£åœ¨åšâ€çš„çŠ¶æ€ã€‚*\n\n### Promise çš„åŸºæœ¬ç»“æž„\n\nä¸€ä¸ª Promise é€šå¸¸é€šè¿‡æž„é€ å‡½æ•°åˆ›å»ºï¼š\n\n```javascript\nconst myPromise = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    const success = Math.random() > 0.5;\n    if (success) {\n      resolve(\"æ“ä½œæˆåŠŸï¼ðŸŽ‰\");\n    } else {\n      reject(\"å‡ºé”™äº†ï¼ðŸ˜¢\");\n    }\n  }, 1000);\n});\n```\n\n- **resolve**ï¼šå°† Promise çŠ¶æ€å˜ä¸º Fulfilledï¼Œå¹¶ä¼ é€’æˆåŠŸç»“æžœã€‚\n- **reject**ï¼šå°† Promise çŠ¶æ€å˜ä¸º Rejectedï¼Œå¹¶ä¼ é€’å¤±è´¥åŽŸå› ã€‚\n\n*Tipsï¼šæ€»æ˜¯ç¡®ä¿ resolve å’Œ reject è‡³å°‘æœ‰ä¸€ä¸ªè¢«è°ƒç”¨ï¼Œå¦åˆ™ Promise å°†æ°¸è¿œå¤„äºŽ Pending çŠ¶æ€ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚*\n\n## ä¸ºä»€ä¹ˆéœ€è¦ Promiseï¼Ÿä»Žå›žè°ƒåœ°ç‹±è¯´èµ· ðŸ˜±\n\nåœ¨ Promise å‡ºçŽ°ä¹‹å‰ï¼Œå¼‚æ­¥æ“ä½œä¸»è¦ä¾é å›žè°ƒå‡½æ•°ã€‚å‡è®¾ä½ è¦æŒ‰é¡ºåºåŠ è½½ç”¨æˆ·æ•°æ®ã€å¸–å­å’Œè¯„è®ºï¼š\n\n```javascript\ngetUser(userId, (user, err) => {\n  if (err) return console.error(err);\n  getPosts(user.id, (posts, err) => {\n    if (err) return console.error(err);\n    getComments(posts[0].id, (comments, err) => {\n      if (err) return console.error(err);\n      console.log(comments);\n    });\n  });\n});\n```\n\nè¿™ç§åµŒå¥—ç»“æž„è¢«ç§°ä¸º**å›žè°ƒåœ°ç‹±**ï¼ˆCallback Hellï¼‰ï¼Œé—®é¢˜æ˜¾è€Œæ˜“è§ï¼š\n- **å¯è¯»æ€§å·®**ï¼šä»£ç åƒé‡‘å­—å¡”ä¸€æ ·å±‚å±‚ç¼©è¿›ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚\n- **é”™è¯¯å¤„ç†ç¹ç**ï¼šæ¯ä¸ªå›žè°ƒéƒ½éœ€è¦å•ç‹¬å¤„ç†é”™è¯¯ã€‚\n- **é€»è¾‘å¤æ‚**ï¼šéš¾ä»¥å®žçŽ°å¤æ‚çš„å¼‚æ­¥æµç¨‹ï¼Œå¦‚å¹¶è¡Œæˆ–ç«žäº‰ã€‚\n\nPromise çš„å‡ºçŽ°å°±åƒç»™å¼‚æ­¥ç¼–ç¨‹è£…ä¸Šäº†â€œè‡ªåŠ¨æŒ¡â€ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨é“¾å¼è°ƒç”¨çš„æ–¹å¼é‡å†™ä¸Šè¿°ä»£ç ï¼š\n\n```javascript\ngetUser(userId)\n  .then(user => getPosts(user.id))\n  .then(posts => getComments(posts[0].id))\n  .then(comments => console.log(comments))\n  .catch(err => console.error(err));\n```\n\n*Tipsï¼šPromise çš„é“¾å¼è°ƒç”¨ä¾èµ–äºŽæ¯æ¬¡ then è¿”å›žä¸€ä¸ªæ–°çš„ Promiseã€‚ç¡®ä¿ä½ çš„å‡½æ•°è¿”å›ž Promise å¯¹è±¡ï¼Œå¦åˆ™é“¾æ¡ä¼šæ–­è£‚ï¼*\n\n## Promise çš„æ ¸å¿ƒåŽŸç†ï¼šå¾®ä»»åŠ¡ä¸Žäº‹ä»¶å¾ªçŽ¯ ðŸ”\n\nè¦å½»åº•æžæ‡‚ Promiseï¼Œæˆ‘ä»¬éœ€è¦æ·±å…¥ JavaScript çš„è¿è¡Œæœºåˆ¶ï¼Œç‰¹åˆ«æ˜¯**äº‹ä»¶å¾ªçŽ¯**å’Œ**å¾®ä»»åŠ¡**ã€‚\n\n### äº‹ä»¶å¾ªçŽ¯ä¸Žå¾®ä»»åŠ¡\n\nJavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œä¾é äº‹ä»¶å¾ªçŽ¯å¤„ç†å¼‚æ­¥ä»»åŠ¡ã€‚äº‹ä»¶å¾ªçŽ¯ä¼šä¼˜å…ˆå¤„ç†**å¾®ä»»åŠ¡é˜Ÿåˆ—**ï¼ˆå¦‚ Promise çš„å›žè°ƒï¼‰ï¼Œç„¶åŽå†å¤„ç†**å®ä»»åŠ¡é˜Ÿåˆ—**ï¼ˆå¦‚ setTimeoutï¼‰ã€‚\n\nå½“ä¸€ä¸ª Promise çŠ¶æ€å˜ä¸º Fulfilled æˆ– Rejected æ—¶ï¼Œå®ƒä¼šå°† `then` æˆ– `catch` çš„å›žè°ƒæŽ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚ä¾‹å¦‚ï¼š\n\n```javascript\nconsole.log(\"å¼€å§‹\");\nPromise.resolve(\"æˆåŠŸ\").then(res => console.log(res));\nconsole.log(\"ç»“æŸ\");\n```\n\nè¾“å‡ºé¡ºåºæ˜¯ï¼š\n```\nå¼€å§‹\nç»“æŸ\næˆåŠŸ\n```\n\nåŽŸå› åœ¨äºŽï¼Œ`then` çš„å›žè°ƒæ˜¯å¾®ä»»åŠ¡ï¼Œä¼šåœ¨å½“å‰å®ä»»åŠ¡ï¼ˆä¸»çº¿ç¨‹ä»£ç ï¼‰æ‰§è¡Œå®Œæ¯•åŽæ‰è¿è¡Œã€‚\n\n*Tipsï¼šå¦‚æžœä½ å‘çŽ°å¼‚æ­¥ä»£ç çš„æ‰§è¡Œé¡ºåºä¸ç¬¦åˆé¢„æœŸï¼Œæ£€æŸ¥æ˜¯å¦æ··æ·†äº†å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡ã€‚å¯ä»¥ç”¨ `queueMicrotask` è°ƒè¯•å¾®ä»»åŠ¡è¡Œä¸ºã€‚*\n\n### Promise çš„å†…éƒ¨å®žçŽ°ï¼ˆä¼ªä»£ç ï¼‰\n\nä¸ºäº†ç†è§£ Promise çš„è®¾è®¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¼ªä»£ç æ¨¡æ‹Ÿå®ƒçš„æ ¸å¿ƒé€»è¾‘ï¼š\n\n```javascript\nclass MyPromise {\n  constructor(executor) {\n    this.state = \"pending\";\n    this.value = null;\n    this.callbacks = [];\n\n    const resolve = (value) => {\n      if (this.state !== \"pending\") return;\n      this.state = \"fulfilled\";\n      this.value = value;\n      this.callbacks.forEach(cb => cb.onFulfilled(value));\n    };\n\n    const reject = (reason) => {\n      if (this.state !== \"pending\") return;\n      this.state = \"rejected\";\n      this.value = reason;\n      this.callbacks.forEach(cb => cb.onRejected(reason));\n    };\n\n    try {\n      executor(resolve, reject);\n    } catch (err) {\n      reject(err);\n    }\n  }\n\n  then(onFulfilled, onRejected) {\n    return new MyPromise((resolve, reject) => {\n      const callback = {\n        onFulfilled: (value) => {\n          try {\n            const result = onFulfilled(value);\n            resolve(result);\n          } catch (err) {\n            reject(err);\n          }\n        },\n        onRejected: (reason) => {\n          try {\n            const result = onRejected(reason);\n            resolve(result);\n          } catch (err) {\n            reject(err);\n          }\n        }\n      };\n      if (this.state === \"pending\") {\n        this.callbacks.push(callback);\n      } else if (this.state === \"fulfilled\") {\n        queueMicrotask(() => callback.onFulfilled(this.value));\n      } else {\n        queueMicrotask(() => callback.onRejected(this.value));\n      }\n    });\n  }\n}\n```\n\nè¿™æ®µä¼ªä»£ç å±•ç¤ºäº† Promise çš„æ ¸å¿ƒï¼š\n- **çŠ¶æ€ç®¡ç†**ï¼šé€šè¿‡ `state` å’Œ `value` è®°å½•çŠ¶æ€å’Œç»“æžœã€‚\n- **å›žè°ƒé˜Ÿåˆ—**ï¼šPending çŠ¶æ€ä¸‹æ”¶é›†å›žè°ƒï¼ŒçŠ¶æ€å˜æ›´åŽå¼‚æ­¥æ‰§è¡Œã€‚\n- **é“¾å¼è°ƒç”¨**ï¼š`then` è¿”å›žæ–°çš„ Promiseï¼Œæ”¯æŒè¿žç»­è°ƒç”¨ã€‚\n\n*Tipsï¼šç†è§£ Promise çš„é“¾å¼è°ƒç”¨å…³é”®åœ¨äºŽâ€œæ¯ä¸ª then éƒ½ä¼šè¿”å›žä¸€ä¸ªæ–°çš„ Promiseâ€ã€‚è¿™ä¿è¯äº†çµæ´»æ€§å’Œéš”ç¦»æ€§ã€‚*\n\n## Promise çš„æ ¸å¿ƒæ–¹æ³•ä¸Žç”¨æ³• ðŸ› ï¸\n\nPromise æä¾›äº†å‡ ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼Œè®©æˆ‘ä»¬é€ä¸€å‰–æžï¼Œå¹¶é€šè¿‡æ¡ˆä¾‹åŠ æ·±ç†è§£ã€‚\n\n### 1. Promise.then()\n\n`then` æ˜¯ Promise çš„æ ¸å¿ƒï¼Œç”¨äºŽå¤„ç†æˆåŠŸå’Œå¤±è´¥çš„å›žè°ƒï¼š\n\n```javascript\nfetch(\"https://api.example.com/data\")\n  .then(response => response.json())\n  .then(data => console.log(data))\n  .catch(err => console.error(err));\n```\n\n*Tipsï¼š`then` å¯ä»¥æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸“é—¨å¤„ç† Rejected çŠ¶æ€ï¼Œä½†æ›´æŽ¨èç”¨ `catch` å¤„ç†é”™è¯¯ï¼Œä»£ç æ›´æ¸…æ™°ã€‚*\n\n### 2. Promise.catch()\n\n`catch` æ˜¯ `then(null, onRejected)` çš„ç®€å†™ï¼Œä¸“é—¨ç”¨äºŽæ•èŽ·é”™è¯¯ï¼š\n\n```javascript\nfetch(\"https://api.example.com/data\")\n  .then(response => response.json())\n  .catch(err => console.error(\"è¯·æ±‚å¤±è´¥ï¼š\", err));\n```\n\n*Tipsï¼šå§‹ç»ˆåœ¨ Promise é“¾çš„æœ«å°¾æ·»åŠ  `catch`ï¼Œé˜²æ­¢æœªæ•èŽ·çš„é”™è¯¯å¯¼è‡´ç¨‹åºå´©æºƒã€‚*\n\n### 3. Promise.finally()\n\n`finally` æ— è®ºæˆåŠŸæˆ–å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼Œé€‚åˆæ¸…ç†æ“ä½œï¼š\n\n```javascript\nfetch(\"https://api.example.com/data\")\n  .then(response => response.json())\n  .catch(err => console.error(err))\n  .finally(() => console.log(\"è¯·æ±‚ç»“æŸ\"));\n```\n\n*Tipsï¼š`finally` ä¸æŽ¥æ”¶ä»»ä½•å‚æ•°ï¼Œä¸”å®ƒçš„è¿”å›žå€¼ä¸ä¼šå½±å“ Promise é“¾çš„çŠ¶æ€ã€‚*\n\n### 4. Promise.all()\n\n`Promise.all` æŽ¥å—ä¸€ä¸ª Promise æ•°ç»„ï¼Œåªæœ‰å½“æ‰€æœ‰ Promise éƒ½ Fulfilled æ—¶è¿”å›žç»“æžœï¼Œå¦åˆ™è¿”å›žç¬¬ä¸€ä¸ª Rejected çš„é”™è¯¯ï¼š\n\n```javascript\nPromise.all([\n  fetch(\"https://api.example.com/data1\"),\n  fetch(\"https://api.example.com/data2\")\n])\n  .then(responses => Promise.all(responses.map(res => res.json())))\n  .then(data => console.log(data))\n  .catch(err => console.error(err));\n```\n\n*Tipsï¼šå¦‚æžœæŸä¸ª Promise å¯èƒ½å¤±è´¥ä½†ä¸å½±å“æ•´ä½“é€»è¾‘ï¼Œå¯ä»¥åœ¨è¯¥ Promise å†…éƒ¨æ•èŽ·é”™è¯¯å¹¶è¿”å›žé»˜è®¤å€¼ã€‚*\n\n### 5. Promise.race()\n\n`Promise.race` è¿”å›žç¬¬ä¸€ä¸ªå®Œæˆçš„ Promiseï¼ˆæ— è®º Fulfilled æˆ– Rejectedï¼‰ï¼š\n\n```javascript\nconst timeout = new Promise((_, reject) => {\n  setTimeout(() => reject(\"è¶…æ—¶\"), 5000);\n});\nPromise.race([fetch(\"https://api.example.com/data\"), timeout])\n  .then(response => response.json())\n  .catch(err => console.error(err));\n```\n\n*Tipsï¼š`Promise.race` å¸¸ç”¨äºŽè®¾ç½®è¶…æ—¶æˆ–ç«žé€Ÿåœºæ™¯ï¼Œä½†è¦æ³¨æ„æ¸…ç†æœªå®Œæˆçš„ Promise ä»¥é¿å…èµ„æºæ³„æ¼ã€‚*\n\n### 6. Promise.allSettled()\n\n`Promise.allSettled` ç­‰å¾…æ‰€æœ‰ Promise å®Œæˆï¼Œæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼Œå¹¶è¿”å›žæ¯ä¸ª Promise çš„çŠ¶æ€å’Œç»“æžœï¼š\n\n```javascript\nPromise.allSettled([\n  Promise.resolve(\"æˆåŠŸ\"),\n  Promise.reject(\"å¤±è´¥\")\n]).then(results => {\n  console.log(results);\n  // [{status: \"fulfilled\", value: \"æˆåŠŸ\"}, {status: \"rejected\", reason: \"å¤±è´¥\"}]\n});\n```\n\n*Tipsï¼š`Promise.allSettled` é€‚åˆéœ€è¦å®Œæ•´ç»“æžœçš„åœºæ™¯ï¼Œæ¯”å¦‚æ‰¹é‡ä»»åŠ¡çš„çŠ¶æ€æ±‡æ€»ã€‚*\n\n## é«˜çº§ç”¨æ³•ä¸Žå®žæˆ˜æ¡ˆä¾‹ ðŸ’»\n\nPromise çš„çœŸæ­£å¨åŠ›åœ¨äºŽå®ƒçš„çµæ´»æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é«˜çº§ç”¨æ³•å’Œå®žæˆ˜æ¡ˆä¾‹ï¼Œå¸®åŠ©ä½ åº”å¯¹å¤æ‚åœºæ™¯ã€‚\n\n### 1. å¹¶å‘æŽ§åˆ¶ï¼šé™åˆ¶åŒæ—¶è¿è¡Œçš„ Promise æ•°é‡\n\nå‡è®¾ä½ è¦æ‰¹é‡ä¸‹è½½ 100 å¼ å›¾ç‰‡ï¼Œä½†ä¸æƒ³åŒæ—¶å‘èµ· 100 ä¸ªè¯·æ±‚ä»¥å…åŽ‹åž®æœåŠ¡å™¨ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„å¹¶å‘æŽ§åˆ¶å™¨ï¼š\n\n```javascript\nasync function limitConcurrency(tasks, limit) {\n  const results = [];\n  const executing = [];\n\n  for (const task of tasks) {\n    const promise = task().then(result => ({ status: \"fulfilled\", value: result }))\n      .catch(err => ({ status: \"rejected\", reason: err }));\n    \n    results.push(promise);\n    executing.push(promise);\n\n    if (executing.length >= limit) {\n      await Promise.race(executing);\n      executing.splice(executing.findIndex(p => p.status !== \"pending\"), 1);\n    }\n  }\n\n  return Promise.allSettled(results);\n}\n\n// ç¤ºä¾‹ï¼šä¸‹è½½ 10 å¼ å›¾ç‰‡ï¼Œé™åˆ¶å¹¶å‘ä¸º 3\nconst urls = Array(10).fill(\"https://example.com/image.jpg\");\nconst tasks = urls.map(url => () => fetch(url).then(res => res.blob()));\nlimitConcurrency(tasks, 3).then(results => {\n  console.log(results);\n});\n```\n\n*Tipsï¼šå¹¶å‘æŽ§åˆ¶çš„å…³é”®æ˜¯ç»´æŠ¤ä¸€ä¸ªâ€œè¿è¡Œä¸­çš„ Promiseâ€é˜Ÿåˆ—ï¼Œå¹¶é€šè¿‡ `Promise.race` åŠ¨æ€è°ƒåº¦ã€‚*\n\n### 2. é‡è¯•æœºåˆ¶ï¼šå¤±è´¥åŽè‡ªåŠ¨é‡è¯•\n\nç½‘ç»œè¯·æ±‚å¯èƒ½å› ä¸ç¨³å®šè€Œå¤±è´¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º Promise æ·»åŠ é‡è¯•é€»è¾‘ï¼š\n\n```javascript\nfunction withRetry(promiseFn, retries = 3, delay = 1000) {\n  return new Promise((resolve, reject) => {\n    function attempt() {\n      promiseFn()\n        .then(resolve)\n        .catch(err => {\n          if (retries === 0) return reject(err);\n          retries--;\n          setTimeout(attempt, delay);\n        });\n    }\n    attempt();\n  });\n}\n\n// ç¤ºä¾‹ï¼šé‡è¯• fetch è¯·æ±‚\nwithRetry(() => fetch(\"https://api.example.com/data\").then(res => res.json()))\n  .then(data => console.log(data))\n  .catch(err => console.error(\"æœ€ç»ˆå¤±è´¥ï¼š\", err));\n```\n\n*Tipsï¼šä¸ºé‡è¯•æœºåˆ¶è®¾ç½®åˆç†çš„å»¶è¿Ÿå’Œæœ€å¤§å°è¯•æ¬¡æ•°ï¼Œé¿å…æ— é™å¾ªçŽ¯æˆ–è¿‡å¿«é‡è¯•ã€‚*\n\n### 3. é“¾å¼ä¾èµ–ï¼šé¡ºåºæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡\n\nå½“å¼‚æ­¥ä»»åŠ¡æœ‰ä¾èµ–å…³ç³»æ—¶ï¼ŒPromise é“¾å¯ä»¥æ¸…æ™°åœ°è¡¨è¾¾é€»è¾‘ï¼š\n\n```javascript\nasync function processUser(userId) {\n  try {\n    const user = await fetchUser(userId);\n    const posts = await fetchPosts(user.id);\n    const comments = await fetchComments(posts[0].id);\n    return { user, posts, comments };\n  } catch (err) {\n    console.error(\"å¤„ç†å¤±è´¥ï¼š\", err);\n    throw err;\n  }\n}\n```\n\n*Tipsï¼šå°† Promise é“¾è½¬æ¢ä¸º async/await å¯ä»¥æé«˜å¯è¯»æ€§ï¼Œä½†è¦æ³¨æ„é”™è¯¯å¤„ç†çš„ä¸€è‡´æ€§ã€‚*\n\n## æœ€ä½³å®žè·µï¼šè®©ä½ çš„ Promise æ›´å¥å£® ðŸ›¡ï¸\n\nä»¥ä¸‹æ˜¯ä¸€äº›ç»è¿‡å®žæˆ˜éªŒè¯çš„æœ€ä½³å®žè·µï¼Œå¸®åŠ©ä½ å†™å‡ºæ›´å¯é çš„ Promise ä»£ç ï¼š\n\n1. **å§‹ç»ˆæ•èŽ·é”™è¯¯**\n   ```javascript\n   myPromise.catch(err => {\n     console.error(\"æœªå¤„ç†çš„é”™è¯¯ï¼š\", err);\n     // è®°å½•æ—¥å¿—æˆ–é€šçŸ¥ç”¨æˆ·\n   });\n   ```\n   *Tipsï¼šæœªæ•èŽ·çš„ Promise é”™è¯¯å¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒï¼ŒNode.js ä¸­ç”šè‡³ä¼šè§¦å‘ `unhandledRejection` äº‹ä»¶ã€‚*\n\n2. **é¿å…åµŒå¥— Promise**\n   ```javascript\n   // é”™è¯¯ç¤ºä¾‹\n   getUser(userId).then(user => {\n     getPosts(user.id).then(posts => {\n       console.log(posts);\n     });\n   });\n\n   // æ­£ç¡®ç¤ºä¾‹\n   getUser(userId)\n     .then(user => getPosts(user.id))\n     .then(posts => console.log(posts));\n   ```\n   *Tipsï¼šåµŒå¥— Promise ä¼šå¯¼è‡´ä»£ç å¤æ‚ï¼Œå¤±åŽ»é“¾å¼è°ƒç”¨çš„ä¼˜åŠ¿ã€‚*\n\n3. **ä½¿ç”¨ Promise.all ä¼˜åŒ–å¹¶è¡Œè¯·æ±‚**\n   ```javascript\n   Promise.all([fetchData1(), fetchData2()])\n     .then(([data1, data2]) => console.log(data1, data2));\n   ```\n   *Tipsï¼šå¹¶è¡Œè¯·æ±‚å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ï¼Œä½†è¦æ³¨æ„æœåŠ¡å™¨çš„è´Ÿè½½èƒ½åŠ›ã€‚*\n\n4. **æ¸…ç†æœªå®Œæˆçš„ Promise**\n   ```javascript\n   let controller = new AbortController();\n   fetch(\"https://api.example.com/data\", { signal: controller.signal })\n     .then(res => res.json())\n     .catch(err => console.error(err));\n\n   // å–æ¶ˆè¯·æ±‚\n   controller.abort();\n   ```\n   *Tipsï¼šä½¿ç”¨ AbortController æ¸…ç†æœªå®Œæˆçš„ç½‘ç»œè¯·æ±‚ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚*\n\n5. **è®°å½• Promise çŠ¶æ€**\n   ```javascript\n   const promiseWithLogging = promise =>\n     promise\n       .then(result => {\n         console.log(\"Promise æˆåŠŸï¼š\", result);\n         return result;\n       })\n       .catch(err => {\n         console.error(\"Promise å¤±è´¥ï¼š\", err);\n         throw err;\n       });\n   ```\n   *Tipsï¼šåœ¨å¼€å‘çŽ¯å¢ƒä¸­ä¸º Promise æ·»åŠ æ—¥å¿—ï¼Œæ–¹ä¾¿è°ƒè¯•å¤æ‚å¼‚æ­¥æµç¨‹ã€‚*\n\n## Promise çš„è®¾è®¡å“²å­¦ä¸Žæ„Ÿæ‚Ÿ ðŸŒ\n\nPromise çš„è®¾è®¡ä¸ä»…æ˜¯ä¸ºäº†è§£å†³æŠ€æœ¯é—®é¢˜ï¼Œæ›´æ˜¯ä¸€ç§ç¼–ç¨‹æ€ç»´çš„ä½“çŽ°ã€‚å®ƒè®©æˆ‘ä»¬ä»Žâ€œå‘½ä»¤å¼â€çš„å›žè°ƒé€»è¾‘è½¬å‘â€œå£°æ˜Žå¼â€çš„é“¾å¼è°ƒç”¨ï¼Œä½“çŽ°äº† **å…³æ³¨ç‚¹åˆ†ç¦»** å’Œ **å¯ç»„åˆæ€§** çš„æ€æƒ³ã€‚\n\n> â€œå¥½çš„ä»£ç å°±åƒå¥½çš„æ•…äº‹ï¼šæ¸…æ™°ã€è¿žè´¯ã€å¼•äººå…¥èƒœã€‚â€ â€”â€” æ”¹ç¼–è‡ªã€Šä»£ç å¤§å…¨ã€‹\n\nPromise çš„é“¾å¼è°ƒç”¨å°±åƒè®²æ•…äº‹ï¼šæ¯ä¸ª `then` æ˜¯ä¸€ä¸ªæƒ…èŠ‚ï¼Œé€æ­¥æŽ¨è¿›ï¼Œæœ€ç»ˆè¾¾åˆ°é«˜æ½®ï¼ˆæˆ–æ‚²å‰§ï¼‰ã€‚å®ƒè®©æˆ‘ä»¬ä¸“æ³¨äºŽâ€œåšä»€ä¹ˆâ€è€Œä¸æ˜¯â€œæ€Žä¹ˆåšâ€ï¼Œè¿™æ­£æ˜¯çŽ°ä»£ç¼–ç¨‹è¯­è¨€è¿½æ±‚çš„ç›®æ ‡ã€‚\n\nåŒæ—¶ï¼ŒPromise ä¹Ÿæ•™ä¼šæˆ‘ä»¬å¦‚ä½•é¢å¯¹ä¸ç¡®å®šæ€§ã€‚å¼‚æ­¥æ“ä½œå°±åƒç”Ÿæ´»ä¸­çš„æ‰¿è¯ºï¼šæˆ‘ä»¬æ— æ³•æŽ§åˆ¶ç»“æžœï¼Œä½†å¯ä»¥é€šè¿‡ç»“æž„åŒ–çš„æ–¹å¼ç®¡ç†æœŸæœ›å’Œå¤±è´¥ã€‚æ­£å¦‚å“²å­¦å®¶å°¼é‡‡æ‰€è¯´ï¼šâ€œé‚£ä¸èƒ½æ€æ­»æˆ‘çš„ï¼Œä½¿æˆ‘æ›´å¼ºå¤§ã€‚â€ Promise çš„é”™è¯¯å¤„ç†æœºåˆ¶è®©æˆ‘ä»¬åœ¨å¤±è´¥ä¸­å­¦ä¹ ï¼Œæž„å»ºæ›´å¥å£®çš„ç³»ç»Ÿã€‚\n\n## Promise çš„å±€é™æ€§ä¸Žæœªæ¥ ðŸ”®\n\nå°½ç®¡ Promise å¾ˆå¼ºå¤§ï¼Œä½†å®ƒå¹¶éžä¸‡èƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å±€é™æ€§å’Œæ”¹è¿›æ–¹å‘ï¼š\n\n1. **æ— æ³•å–æ¶ˆ**ï¼šåŽŸç”Ÿ Promise ä¸å¯å–æ¶ˆï¼Œéœ€å€ŸåŠ© AbortController æˆ–è‡ªå®šä¹‰é€»è¾‘ã€‚\n2. **å¤æ‚å¹¶å‘æŽ§åˆ¶**ï¼šå¦‚å¹¶å‘é™åˆ¶æˆ–ä¼˜å…ˆçº§ç®¡ç†ï¼Œéœ€è¦é¢å¤–å°è£…ã€‚\n3. **å†—é•¿é“¾å¼è°ƒç”¨**ï¼šé•¿é“¾å¯èƒ½é™ä½Žå¯è¯»æ€§ï¼Œasync/await æä¾›äº†æ›´ç®€æ´çš„æ›¿ä»£ã€‚\n\næœªæ¥ï¼ŒJavaScript ç¤¾åŒºæ­£åœ¨æŽ¢ç´¢æ›´é«˜çº§çš„å¼‚æ­¥æ¨¡åž‹ï¼Œå¦‚ **Observable** å’Œ **Async Iterators**ï¼Œå®ƒä»¬åœ¨æµå¤„ç†å’Œå¤æ‚å¼‚æ­¥åœºæ™¯ä¸­æ›´æœ‰ä¼˜åŠ¿ã€‚ä½† Promise ä½œä¸ºå¼‚æ­¥ç¼–ç¨‹çš„åŸºçŸ³ï¼Œä¾ç„¶ä¸å¯æ›¿ä»£ã€‚\n\n## ç»“è¯­ï¼šæ‹¥æŠ± Promiseï¼Œæ‹¥æŠ±å¼‚æ­¥ ðŸŒˆ\n\nPromise æ˜¯ JavaScript å¼‚æ­¥ç¼–ç¨‹çš„é‡Œç¨‹ç¢‘ï¼Œå®ƒè®©æˆ‘ä»¬ä»Žå›žè°ƒåœ°ç‹±ä¸­è§£æ”¾å‡ºæ¥ï¼Œå†™å‡ºæ›´ä¼˜é›…ã€æ›´å¯é çš„ä»£ç ã€‚é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ä¸ä»…ç†è§£äº† Promise çš„åŽŸç†å’Œç”¨æ³•ï¼Œè¿˜æŽ¢ç´¢äº†å®ƒçš„å“²å­¦æ„ä¹‰å’Œå®žæˆ˜æŠ€å·§ã€‚\n\nå¸Œæœ›ä½ åœ¨æœªæ¥çš„å¼€å‘ä¸­ï¼Œèƒ½ç”¨ Promise æž„å»ºå‡ºæ›´é«˜æ•ˆã€æ›´å¥å£®çš„ç³»ç»Ÿã€‚å°±åƒã€Šæ˜Ÿé™…ç©¿è¶Šã€‹ä¸­çš„é‚£å¥å°è¯ï¼šâ€œæˆ‘ä»¬ä»°æœ›æ˜Ÿç©ºï¼Œä¸æ˜¯ä¸ºäº†å¾æœå®‡å®™ï¼Œè€Œæ˜¯ä¸ºäº†æ‰¾åˆ°å›žå®¶çš„è·¯ã€‚â€ Promise æ­£æ˜¯æˆ‘ä»¬æŽ¢ç´¢å¼‚æ­¥ä¸–ç•Œçš„é‚£ç›æ˜Žç¯ã€‚\n\nçŽ°åœ¨ï¼Œè½®åˆ°ä½ äº†ï¼è¯•è¯•ç”¨ Promise é‡æž„ä¸€ä¸ªå¤æ‚çš„å¼‚æ­¥æµç¨‹ï¼Œæˆ–è€…åˆ†äº«ä½ åœ¨ Promise ä½¿ç”¨ä¸­çš„å¿ƒå¾—å§ï¼ðŸ’¬\n\n--- \n",
    "code": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,l)=>()=>(l||n((l={exports:{}}).exports,l),l.exports),B=(n,l)=>{for(var r in l)s(n,r,{get:l[r],enumerable:!0})},o=(n,l,r,a)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let c of y(l))!g.call(n,c)&&c!==r&&s(n,c,{get:()=>l[c],enumerable:!(a=E(l,c))||a.enumerable});return n};var m=(n,l,r)=>(r=n!=null?p(F(n)):{},o(l||!n||!n.__esModule?s(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>o(s({},\"__esModule\",{value:!0}),n);var d=u((j,i)=>{i.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>P});var e=m(d()),P={type:\"Post\",title:\"\\u6DF1\\u5165\\u5256\\u6790 JavaScript Promise\\uFF1A\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u7684\\u5168\\u9762\\u6307\\u5357\",date:\"2022-03-02\",description:\"\\u5168\\u9762\\u89E3\\u6790 JavaScript Promise \\u7684\\u6838\\u5FC3\\u539F\\u7406\\u3001\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u5B9E\\u6218\\u6280\\u5DE7\\uFF0C\\u6DB5\\u76D6\\u5F02\\u6B65\\u7F16\\u7A0B\\u3001\\u9519\\u8BEF\\u5904\\u7406\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\u53CA\\u6DF1\\u5EA6\\u6848\\u4F8B\\uFF0C\\u9002\\u5408\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u8FDB\\u9636\\u3002\",keywords:\"JavaScript, Promise, \\u5F02\\u6B65\\u7F16\\u7A0B, \\u524D\\u7AEF\\u5F00\\u53D1, ES6, \\u9519\\u8BEF\\u5904\\u7406, \\u5E76\\u53D1\\u63A7\\u5236, \\u5FAE\\u4EFB\\u52A1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/promise-guide.jpg\",tags:[\"JavaScript\",\"\\u5F02\\u6B65\\u7F16\\u7A0B\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"JavaScript\"};function t(n){let l={a:\"a\",blockquote:\"blockquote\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.blockquote,{children:[`\n`,(0,e.jsx)(l.p,{children:\"\\u201C\\u6211\\u4EEC\\u65E0\\u6CD5\\u63A7\\u5236\\u672A\\u6765\\u7684\\u5230\\u6765\\uFF0C\\u4F46\\u6211\\u4EEC\\u53EF\\u4EE5\\u9009\\u62E9\\u5982\\u4F55\\u8FCE\\u63A5\\u5B83\\u3002\\u201D \\u2014\\u2014 \\u6539\\u7F16\\u81EA\\u300A\\u54C8\\u5229\\xB7\\u6CE2\\u7279\\u300B\\u4E2D\\u7684\\u4E00\\u53E5\\u54F2\\u7406\"}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5F02\\u6B65\\u7F16\\u7A0B\\u662F\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u57FA\\u77F3\\uFF0C\\u800C JavaScript \\u7684 \",(0,e.jsx)(l.strong,{children:\"Promise\"}),\" \\u65E0\\u7591\\u662F\\u8FD9\\u573A\\u53D8\\u9769\\u7684\\u5148\\u950B\\u3002\\u5B83\\u4E0D\\u4EC5\\u89E3\\u51B3\\u4E86\\u56DE\\u8C03\\u5730\\u72F1\\u7684\\u5669\\u68A6\\uFF0C\\u8FD8\\u4E3A\\u6211\\u4EEC\\u5E26\\u6765\\u4E86\\u4F18\\u96C5\\u7684\\u4EE3\\u7801\\u7ED3\\u6784\\u548C\\u53EF\\u9760\\u7684\\u9519\\u8BEF\\u5904\\u7406\\u673A\\u5236\\u3002\\u4F5C\\u4E3A\\u4E00\\u540D\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u4F60\\u53EF\\u80FD\\u5DF2\\u7ECF\\u7528\\u8FC7 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"Promise\"})})})}),\"\\uFF0C\\u4F46\\u4F60\\u662F\\u5426\\u771F\\u6B63\\u7406\\u89E3\\u5B83\\u7684\\u5185\\u6838\\uFF1F\\u5B83\\u4E3A\\u4F55\\u5982\\u6B64\\u8BBE\\u8BA1\\uFF1F\\u5B83\\u7684\\u8FB9\\u754C\\u5728\\u54EA\\u91CC\\uFF1F\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C06\\u4E00\\u8D77\\u8E0F\\u4E0A\\u4E00\\u573A\\u6DF1\\u5165 Promise \\u7684\\u65C5\\u7A0B\\uFF0C\\u4ECE\\u5E95\\u5C42\\u539F\\u7406\\u5230\\u9AD8\\u7EA7\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u5F7B\\u5E95\\u641E\\u61C2\\u8FD9\\u4E2A\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u7684\\u6838\\u5FC3\\u6982\\u5FF5\\u3002\\u{1F680}\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u7684\\u76EE\\u6807\\u662F\\uFF1A\",(0,e.jsx)(l.strong,{children:\"\\u6E05\\u6670\\u3001\\u5168\\u9762\\u3001\\u6709\\u8DA3\"}),\"\\u3002\\u6211\\u4F1A\\u7528\\u7C7B\\u6BD4\\u3001\\u5E7D\\u9ED8\\u3001\\u6848\\u4F8B\\u548C\\u8868\\u683C\\u4E3A\\u4F60\\u62C6\\u89E3 Promise \\u7684\\u6BCF\\u4E00\\u4E2A\\u89D2\\u843D\\uFF0C\\u5206\\u4EAB\\u6211\\u7684\\u611F\\u609F\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521A\\u63A5\\u89E6 Promise \\u7684\\u65B0\\u624B\\uFF0C\\u8FD8\\u662F\\u60F3\\u6DF1\\u5165\\u539F\\u7406\\u7684\\u8001\\u5175\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u90FD\\u4F1A\\u8BA9\\u4F60\\u6709\\u6240\\u6536\\u83B7\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u5427\\uFF01\"]}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u4EC0\\u4E48\\u662F-promise\\u4E00\\u4E2A\\u76F4\\u89C2\\u7684\\u7C7B\\u6BD4-\",children:(0,e.jsx)(l.a,{href:\"#\\u4EC0\\u4E48\\u662F-promise\\u4E00\\u4E2A\\u76F4\\u89C2\\u7684\\u7C7B\\u6BD4-\",children:\"\\u4EC0\\u4E48\\u662F Promise\\uFF1F\\u4E00\\u4E2A\\u76F4\\u89C2\\u7684\\u7C7B\\u6BD4 \\u{1F31F}\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Promise\\uFF0C\\u987E\\u540D\\u601D\\u4E49\\uFF0C\\u662F\\u4E00\\u4E2A\\u201C\\u627F\\u8BFA\\u201D\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4F60\\u5728\\u5496\\u5561\\u5E97\\u70B9\\u4E86\\u4E00\\u676F\\u62FF\\u94C1\\uFF0C\\u670D\\u52A1\\u5458\\u544A\\u8BC9\\u4F60\\uFF1A\\u201C5 \\u5206\\u949F\\u540E\\u505A\\u597D\\uFF0C\\u6211\\u4FDD\\u8BC1\\uFF01\\u201D \\u8FD9\\u5C31\\u662F\\u4E00\\u4E2A Promise\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u4F60\\u5F97\\u5230\\u4E86\\u4E00\\u4E2A\\u627F\\u8BFA\"}),\"\\uFF1A\\u5496\\u5561\\u4F1A\\u5728\\u672A\\u6765\\u67D0\\u4E2A\\u65F6\\u95F4\\u51C6\\u5907\\u597D\\uFF08\\u6216\\u5931\\u8D25\\uFF0C\\u6BD4\\u5982\\u673A\\u5668\\u574F\\u4E86\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u4F60\\u65E0\\u9700\\u4E00\\u76F4\\u76EF\\u7740\"}),\"\\uFF1A\\u4F60\\u53EF\\u4EE5\\u53BB\\u5237\\u624B\\u673A\\uFF0C\\u7B49\\u670D\\u52A1\\u5458\\u558A\\u4F60\\u540D\\u5B57\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u7ED3\\u679C\\u6709\\u4E24\\u79CD\\u53EF\\u80FD\"}),\"\\uFF1A\\u8981\\u4E48\\u62FF\\u5230\\u5496\\u5561\\uFF08fulfilled\\uFF09\\uFF0C\\u8981\\u4E48\\u88AB\\u544A\\u77E5\\u673A\\u5668\\u6545\\u969C\\uFF08rejected\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5728 JavaScript \\u4E2D\\uFF0CPromise \\u662F\\u4E00\\u4E2A\\u5BF9\\u8C61\\uFF0C\\u8868\\u793A\\u4E00\\u4E2A\\u5F02\\u6B65\\u64CD\\u4F5C\\u7684\\u6700\\u7EC8\\u5B8C\\u6210\\u6216\\u5931\\u8D25\\u3002\\u5B83\\u7684\\u6838\\u5FC3\\u662F\",(0,e.jsx)(l.strong,{children:\"\\u72B6\\u6001\\u7BA1\\u7406\"}),\"\\u548C\",(0,e.jsx)(l.strong,{children:\"\\u94FE\\u5F0F\\u8C03\\u7528\"}),\"\\uFF0C\\u8BA9\\u6211\\u4EEC\\u4EE5\\u58F0\\u660E\\u5F0F\\u7684\\u65B9\\u5F0F\\u5904\\u7406\\u5F02\\u6B65\\u903B\\u8F91\\u3002\"]}),`\n`,(0,e.jsx)(l.h3,{id:\"promise-\\u7684\\u4E09\\u79CD\\u72B6\\u6001\",children:(0,e.jsx)(l.a,{href:\"#promise-\\u7684\\u4E09\\u79CD\\u72B6\\u6001\",children:\"Promise \\u7684\\u4E09\\u79CD\\u72B6\\u6001\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Promise \\u6709\\u4E09\\u79CD\\u72B6\\u6001\\uFF0C\\u6E05\\u6670\\u5730\\u5B9A\\u4E49\\u4E86\\u5F02\\u6B65\\u64CD\\u4F5C\\u7684\\u751F\\u547D\\u5468\\u671F\\uFF1A\"}),`\n`,(0,e.jsxs)(l.table,{children:[(0,e.jsx)(l.thead,{children:(0,e.jsxs)(l.tr,{children:[(0,e.jsx)(l.th,{children:\"\\u72B6\\u6001\"}),(0,e.jsx)(l.th,{children:\"\\u63CF\\u8FF0\"}),(0,e.jsx)(l.th,{children:\"\\u7C7B\\u6BD4\"})]})}),(0,e.jsxs)(l.tbody,{children:[(0,e.jsxs)(l.tr,{children:[(0,e.jsx)(l.td,{children:(0,e.jsx)(l.strong,{children:\"Pending\"})}),(0,e.jsx)(l.td,{children:\"\\u521D\\u59CB\\u72B6\\u6001\\uFF0C\\u64CD\\u4F5C\\u5C1A\\u672A\\u5B8C\\u6210\"}),(0,e.jsx)(l.td,{children:\"\\u5496\\u5561\\u6B63\\u5728\\u5236\\u4F5C\\uFF0C\\u4F60\\u5728\\u7B49\\u5F85\"})]}),(0,e.jsxs)(l.tr,{children:[(0,e.jsx)(l.td,{children:(0,e.jsx)(l.strong,{children:\"Fulfilled\"})}),(0,e.jsx)(l.td,{children:\"\\u64CD\\u4F5C\\u6210\\u529F\\u5B8C\\u6210\\uFF0C\\u8FD4\\u56DE\\u7ED3\\u679C\"}),(0,e.jsx)(l.td,{children:\"\\u5496\\u5561\\u505A\\u597D\\uFF0C\\u7AEF\\u5230\\u4F60\\u9762\\u524D\"})]}),(0,e.jsxs)(l.tr,{children:[(0,e.jsx)(l.td,{children:(0,e.jsx)(l.strong,{children:\"Rejected\"})}),(0,e.jsx)(l.td,{children:\"\\u64CD\\u4F5C\\u5931\\u8D25\\uFF0C\\u8FD4\\u56DE\\u9519\\u8BEF\\u539F\\u56E0\"}),(0,e.jsx)(l.td,{children:\"\\u673A\\u5668\\u574F\\u4E86\\uFF0C\\u8BA2\\u5355\\u88AB\\u53D6\\u6D88\"})]})]})]}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1APromise \\u7684\\u72B6\\u6001\\u4E00\\u65E6\\u4ECE Pending \\u53D8\\u4E3A Fulfilled \\u6216 Rejected\\uFF0C\\u5C31\\u4E0D\\u53EF\\u66F4\\u6539\\u3002\\u8FD9\\u5C31\\u50CF\\u5496\\u5561\\u505A\\u597D\\u540E\\u4E0D\\u53EF\\u80FD\\u518D\\u53D8\\u56DE\\u201C\\u6B63\\u5728\\u505A\\u201D\\u7684\\u72B6\\u6001\\u3002\"})}),`\n`,(0,e.jsx)(l.h3,{id:\"promise-\\u7684\\u57FA\\u672C\\u7ED3\\u6784\",children:(0,e.jsx)(l.a,{href:\"#promise-\\u7684\\u57FA\\u672C\\u7ED3\\u6784\",children:\"Promise \\u7684\\u57FA\\u672C\\u7ED3\\u6784\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u4E00\\u4E2A Promise \\u901A\\u5E38\\u901A\\u8FC7\\u6784\\u9020\\u51FD\\u6570\\u521B\\u5EFA\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" myPromise\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" success\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"random\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0.5\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (success) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u64CD\\u4F5C\\u6210\\u529F\\uFF01\\u{1F389}\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u9519\\u4E86\\uFF01\\u{1F622}\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"resolve\"}),\"\\uFF1A\\u5C06 Promise \\u72B6\\u6001\\u53D8\\u4E3A Fulfilled\\uFF0C\\u5E76\\u4F20\\u9012\\u6210\\u529F\\u7ED3\\u679C\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"reject\"}),\"\\uFF1A\\u5C06 Promise \\u72B6\\u6001\\u53D8\\u4E3A Rejected\\uFF0C\\u5E76\\u4F20\\u9012\\u5931\\u8D25\\u539F\\u56E0\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u603B\\u662F\\u786E\\u4FDD resolve \\u548C reject \\u81F3\\u5C11\\u6709\\u4E00\\u4E2A\\u88AB\\u8C03\\u7528\\uFF0C\\u5426\\u5219 Promise \\u5C06\\u6C38\\u8FDC\\u5904\\u4E8E Pending \\u72B6\\u6001\\uFF0C\\u9020\\u6210\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"})}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-promise\\u4ECE\\u56DE\\u8C03\\u5730\\u72F1\\u8BF4\\u8D77-\",children:(0,e.jsx)(l.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-promise\\u4ECE\\u56DE\\u8C03\\u5730\\u72F1\\u8BF4\\u8D77-\",children:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981 Promise\\uFF1F\\u4ECE\\u56DE\\u8C03\\u5730\\u72F1\\u8BF4\\u8D77 \\u{1F631}\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5728 Promise \\u51FA\\u73B0\\u4E4B\\u524D\\uFF0C\\u5F02\\u6B65\\u64CD\\u4F5C\\u4E3B\\u8981\\u4F9D\\u9760\\u56DE\\u8C03\\u51FD\\u6570\\u3002\\u5047\\u8BBE\\u4F60\\u8981\\u6309\\u987A\\u5E8F\\u52A0\\u8F7D\\u7528\\u6237\\u6570\\u636E\\u3001\\u5E16\\u5B50\\u548C\\u8BC4\\u8BBA\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getUser\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(userId, (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  getPosts\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(user.id, (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"posts\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    getComments\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(posts[\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"].id, (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"comments\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(comments);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u8FD9\\u79CD\\u5D4C\\u5957\\u7ED3\\u6784\\u88AB\\u79F0\\u4E3A\",(0,e.jsx)(l.strong,{children:\"\\u56DE\\u8C03\\u5730\\u72F1\"}),\"\\uFF08Callback Hell\\uFF09\\uFF0C\\u95EE\\u9898\\u663E\\u800C\\u6613\\u89C1\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u53EF\\u8BFB\\u6027\\u5DEE\"}),\"\\uFF1A\\u4EE3\\u7801\\u50CF\\u91D1\\u5B57\\u5854\\u4E00\\u6837\\u5C42\\u5C42\\u7F29\\u8FDB\\uFF0C\\u96BE\\u4EE5\\u7EF4\\u62A4\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u7E41\\u7410\"}),\"\\uFF1A\\u6BCF\\u4E2A\\u56DE\\u8C03\\u90FD\\u9700\\u8981\\u5355\\u72EC\\u5904\\u7406\\u9519\\u8BEF\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u903B\\u8F91\\u590D\\u6742\"}),\"\\uFF1A\\u96BE\\u4EE5\\u5B9E\\u73B0\\u590D\\u6742\\u7684\\u5F02\\u6B65\\u6D41\\u7A0B\\uFF0C\\u5982\\u5E76\\u884C\\u6216\\u7ADE\\u4E89\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"Promise \\u7684\\u51FA\\u73B0\\u5C31\\u50CF\\u7ED9\\u5F02\\u6B65\\u7F16\\u7A0B\\u88C5\\u4E0A\\u4E86\\u201C\\u81EA\\u52A8\\u6321\\u201D\\uFF0C\\u8BA9\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528\\u94FE\\u5F0F\\u8C03\\u7528\\u7684\\u65B9\\u5F0F\\u91CD\\u5199\\u4E0A\\u8FF0\\u4EE3\\u7801\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getUser\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(userId)\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" getPosts\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(user.id))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"posts\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" getComments\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(posts[\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"].id))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"comments\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(comments))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1APromise \\u7684\\u94FE\\u5F0F\\u8C03\\u7528\\u4F9D\\u8D56\\u4E8E\\u6BCF\\u6B21 then \\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684 Promise\\u3002\\u786E\\u4FDD\\u4F60\\u7684\\u51FD\\u6570\\u8FD4\\u56DE Promise \\u5BF9\\u8C61\\uFF0C\\u5426\\u5219\\u94FE\\u6761\\u4F1A\\u65AD\\u88C2\\uFF01\"})}),`\n`,(0,e.jsx)(l.h2,{id:\"promise-\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u5FAE\\u4EFB\\u52A1\\u4E0E\\u4E8B\\u4EF6\\u5FAA\\u73AF-\",children:(0,e.jsx)(l.a,{href:\"#promise-\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u5FAE\\u4EFB\\u52A1\\u4E0E\\u4E8B\\u4EF6\\u5FAA\\u73AF-\",children:\"Promise \\u7684\\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u5FAE\\u4EFB\\u52A1\\u4E0E\\u4E8B\\u4EF6\\u5FAA\\u73AF \\u{1F50D}\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u8981\\u5F7B\\u5E95\\u641E\\u61C2 Promise\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u6DF1\\u5165 JavaScript \\u7684\\u8FD0\\u884C\\u673A\\u5236\\uFF0C\\u7279\\u522B\\u662F\",(0,e.jsx)(l.strong,{children:\"\\u4E8B\\u4EF6\\u5FAA\\u73AF\"}),\"\\u548C\",(0,e.jsx)(l.strong,{children:\"\\u5FAE\\u4EFB\\u52A1\"}),\"\\u3002\"]}),`\n`,(0,e.jsx)(l.h3,{id:\"\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4E0E\\u5FAE\\u4EFB\\u52A1\",children:(0,e.jsx)(l.a,{href:\"#\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4E0E\\u5FAE\\u4EFB\\u52A1\",children:\"\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4E0E\\u5FAE\\u4EFB\\u52A1\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"JavaScript \\u662F\\u5355\\u7EBF\\u7A0B\\u7684\\uFF0C\\u4F9D\\u9760\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u5904\\u7406\\u5F02\\u6B65\\u4EFB\\u52A1\\u3002\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4F1A\\u4F18\\u5148\\u5904\\u7406\",(0,e.jsx)(l.strong,{children:\"\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\"}),\"\\uFF08\\u5982 Promise \\u7684\\u56DE\\u8C03\\uFF09\\uFF0C\\u7136\\u540E\\u518D\\u5904\\u7406\",(0,e.jsx)(l.strong,{children:\"\\u5B8F\\u4EFB\\u52A1\\u961F\\u5217\"}),\"\\uFF08\\u5982 setTimeout\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5F53\\u4E00\\u4E2A Promise \\u72B6\\u6001\\u53D8\\u4E3A Fulfilled \\u6216 Rejected \\u65F6\\uFF0C\\u5B83\\u4F1A\\u5C06 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"then\"})})})}),\" \\u6216 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"catch\"})})})}),\" \\u7684\\u56DE\\u8C03\\u63A8\\u5165\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u3002\\u4F8B\\u5982\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5F00\\u59CB\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6210\\u529F\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(res));\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7ED3\\u675F\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8F93\\u51FA\\u987A\\u5E8F\\u662F\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"\\u5F00\\u59CB\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"\\u7ED3\\u675F\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"\\u6210\\u529F\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u539F\\u56E0\\u5728\\u4E8E\\uFF0C\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"then\"})})})}),\" \\u7684\\u56DE\\u8C03\\u662F\\u5FAE\\u4EFB\\u52A1\\uFF0C\\u4F1A\\u5728\\u5F53\\u524D\\u5B8F\\u4EFB\\u52A1\\uFF08\\u4E3B\\u7EBF\\u7A0B\\u4EE3\\u7801\\uFF09\\u6267\\u884C\\u5B8C\\u6BD5\\u540E\\u624D\\u8FD0\\u884C\\u3002\"]}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsxs)(l.em,{children:[\"Tips\\uFF1A\\u5982\\u679C\\u4F60\\u53D1\\u73B0\\u5F02\\u6B65\\u4EE3\\u7801\\u7684\\u6267\\u884C\\u987A\\u5E8F\\u4E0D\\u7B26\\u5408\\u9884\\u671F\\uFF0C\\u68C0\\u67E5\\u662F\\u5426\\u6DF7\\u6DC6\\u4E86\\u5FAE\\u4EFB\\u52A1\\u548C\\u5B8F\\u4EFB\\u52A1\\u3002\\u53EF\\u4EE5\\u7528 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"queueMicrotask\"})})})}),\" \\u8C03\\u8BD5\\u5FAE\\u4EFB\\u52A1\\u884C\\u4E3A\\u3002\"]})}),`\n`,(0,e.jsx)(l.h3,{id:\"promise-\\u7684\\u5185\\u90E8\\u5B9E\\u73B0\\u4F2A\\u4EE3\\u7801\",children:(0,e.jsx)(l.a,{href:\"#promise-\\u7684\\u5185\\u90E8\\u5B9E\\u73B0\\u4F2A\\u4EE3\\u7801\",children:\"Promise \\u7684\\u5185\\u90E8\\u5B9E\\u73B0\\uFF08\\u4F2A\\u4EE3\\u7801\\uFF09\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u4E3A\\u4E86\\u7406\\u89E3 Promise \\u7684\\u8BBE\\u8BA1\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528\\u4F2A\\u4EE3\\u7801\\u6A21\\u62DF\\u5B83\\u7684\\u6838\\u5FC3\\u903B\\u8F91\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" MyPromise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"executor\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"pending\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".callbacks \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"pending\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"fulfilled\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" value;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".callbacks.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"cb\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" cb.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onFulfilled\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(value));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reason\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"pending\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"rejected\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" reason;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".callbacks.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"cb\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" cb.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onRejected\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(reason));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      executor\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(resolve, reject);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"onFulfilled\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"onRejected\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" MyPromise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" callback\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        onFulfilled\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          try\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"            const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" onFulfilled\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(value);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(result);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        },\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        onRejected\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reason\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          try\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"            const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" onRejected\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(reason);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(result);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"pending\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".callbacks.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(callback);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"fulfilled\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        queueMicrotask\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" callback.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onFulfilled\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".value));\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        queueMicrotask\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" callback.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onRejected\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".value));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8FD9\\u6BB5\\u4F2A\\u4EE3\\u7801\\u5C55\\u793A\\u4E86 Promise \\u7684\\u6838\\u5FC3\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u72B6\\u6001\\u7BA1\\u7406\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"state\"})})})}),\" \\u548C \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"value\"})})})}),\" \\u8BB0\\u5F55\\u72B6\\u6001\\u548C\\u7ED3\\u679C\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u56DE\\u8C03\\u961F\\u5217\"}),\"\\uFF1APending \\u72B6\\u6001\\u4E0B\\u6536\\u96C6\\u56DE\\u8C03\\uFF0C\\u72B6\\u6001\\u53D8\\u66F4\\u540E\\u5F02\\u6B65\\u6267\\u884C\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u94FE\\u5F0F\\u8C03\\u7528\"}),\"\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"then\"})})})}),\" \\u8FD4\\u56DE\\u65B0\\u7684 Promise\\uFF0C\\u652F\\u6301\\u8FDE\\u7EED\\u8C03\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u7406\\u89E3 Promise \\u7684\\u94FE\\u5F0F\\u8C03\\u7528\\u5173\\u952E\\u5728\\u4E8E\\u201C\\u6BCF\\u4E2A then \\u90FD\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684 Promise\\u201D\\u3002\\u8FD9\\u4FDD\\u8BC1\\u4E86\\u7075\\u6D3B\\u6027\\u548C\\u9694\\u79BB\\u6027\\u3002\"})}),`\n`,(0,e.jsx)(l.h2,{id:\"promise-\\u7684\\u6838\\u5FC3\\u65B9\\u6CD5\\u4E0E\\u7528\\u6CD5-\\uFE0F\",children:(0,e.jsx)(l.a,{href:\"#promise-\\u7684\\u6838\\u5FC3\\u65B9\\u6CD5\\u4E0E\\u7528\\u6CD5-\\uFE0F\",children:\"Promise \\u7684\\u6838\\u5FC3\\u65B9\\u6CD5\\u4E0E\\u7528\\u6CD5 \\u{1F6E0}\\uFE0F\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Promise \\u63D0\\u4F9B\\u4E86\\u51E0\\u4E2A\\u6838\\u5FC3\\u65B9\\u6CD5\\uFF0C\\u8BA9\\u6211\\u4EEC\\u9010\\u4E00\\u5256\\u6790\\uFF0C\\u5E76\\u901A\\u8FC7\\u6848\\u4F8B\\u52A0\\u6DF1\\u7406\\u89E3\\u3002\"}),`\n`,(0,e.jsx)(l.h3,{id:\"1-promisethen\",children:(0,e.jsx)(l.a,{href:\"#1-promisethen\",children:\"1. Promise.then()\"})}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"then\"})})})}),\" \\u662F Promise \\u7684\\u6838\\u5FC3\\uFF0C\\u7528\\u4E8E\\u5904\\u7406\\u6210\\u529F\\u548C\\u5931\\u8D25\\u7684\\u56DE\\u8C03\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsxs)(l.em,{children:[\"Tips\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"then\"})})})}),\" \\u53EF\\u4EE5\\u63A5\\u53D7\\u4E24\\u4E2A\\u53C2\\u6570\\uFF0C\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u4E13\\u95E8\\u5904\\u7406 Rejected \\u72B6\\u6001\\uFF0C\\u4F46\\u66F4\\u63A8\\u8350\\u7528 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"catch\"})})})}),\" \\u5904\\u7406\\u9519\\u8BEF\\uFF0C\\u4EE3\\u7801\\u66F4\\u6E05\\u6670\\u3002\"]})}),`\n`,(0,e.jsx)(l.h3,{id:\"2-promisecatch\",children:(0,e.jsx)(l.a,{href:\"#2-promisecatch\",children:\"2. Promise.catch()\"})}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"catch\"})})})}),\" \\u662F \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"then(null, onRejected)\"})})})}),\" \\u7684\\u7B80\\u5199\\uFF0C\\u4E13\\u95E8\\u7528\\u4E8E\\u6355\\u83B7\\u9519\\u8BEF\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BF7\\u6C42\\u5931\\u8D25\\uFF1A\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsxs)(l.em,{children:[\"Tips\\uFF1A\\u59CB\\u7EC8\\u5728 Promise \\u94FE\\u7684\\u672B\\u5C3E\\u6DFB\\u52A0 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"catch\"})})})}),\"\\uFF0C\\u9632\\u6B62\\u672A\\u6355\\u83B7\\u7684\\u9519\\u8BEF\\u5BFC\\u81F4\\u7A0B\\u5E8F\\u5D29\\u6E83\\u3002\"]})}),`\n`,(0,e.jsx)(l.h3,{id:\"3-promisefinally\",children:(0,e.jsx)(l.a,{href:\"#3-promisefinally\",children:\"3. Promise.finally()\"})}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"finally\"})})})}),\" \\u65E0\\u8BBA\\u6210\\u529F\\u6216\\u5931\\u8D25\\u90FD\\u4F1A\\u6267\\u884C\\uFF0C\\u9002\\u5408\\u6E05\\u7406\\u64CD\\u4F5C\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"finally\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BF7\\u6C42\\u7ED3\\u675F\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsxs)(l.em,{children:[\"Tips\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"finally\"})})})}),\" \\u4E0D\\u63A5\\u6536\\u4EFB\\u4F55\\u53C2\\u6570\\uFF0C\\u4E14\\u5B83\\u7684\\u8FD4\\u56DE\\u503C\\u4E0D\\u4F1A\\u5F71\\u54CD Promise \\u94FE\\u7684\\u72B6\\u6001\\u3002\"]})}),`\n`,(0,e.jsx)(l.h3,{id:\"4-promiseall\",children:(0,e.jsx)(l.a,{href:\"#4-promiseall\",children:\"4. Promise.all()\"})}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"Promise.all\"})})})}),\" \\u63A5\\u53D7\\u4E00\\u4E2A Promise \\u6570\\u7EC4\\uFF0C\\u53EA\\u6709\\u5F53\\u6240\\u6709 Promise \\u90FD Fulfilled \\u65F6\\u8FD4\\u56DE\\u7ED3\\u679C\\uFF0C\\u5426\\u5219\\u8FD4\\u56DE\\u7B2C\\u4E00\\u4E2A Rejected \\u7684\\u9519\\u8BEF\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data1\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data2\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"])\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"responses\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(responses.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u5982\\u679C\\u67D0\\u4E2A Promise \\u53EF\\u80FD\\u5931\\u8D25\\u4F46\\u4E0D\\u5F71\\u54CD\\u6574\\u4F53\\u903B\\u8F91\\uFF0C\\u53EF\\u4EE5\\u5728\\u8BE5 Promise \\u5185\\u90E8\\u6355\\u83B7\\u9519\\u8BEF\\u5E76\\u8FD4\\u56DE\\u9ED8\\u8BA4\\u503C\\u3002\"})}),`\n`,(0,e.jsx)(l.h3,{id:\"5-promiserace\",children:(0,e.jsx)(l.a,{href:\"#5-promiserace\",children:\"5. Promise.race()\"})}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"Promise.race\"})})})}),\" \\u8FD4\\u56DE\\u7B2C\\u4E00\\u4E2A\\u5B8C\\u6210\\u7684 Promise\\uFF08\\u65E0\\u8BBA Fulfilled \\u6216 Rejected\\uFF09\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" timeout\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8D85\\u65F6\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"5000\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"race\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"), timeout])\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsxs)(l.em,{children:[\"Tips\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"Promise.race\"})})})}),\" \\u5E38\\u7528\\u4E8E\\u8BBE\\u7F6E\\u8D85\\u65F6\\u6216\\u7ADE\\u901F\\u573A\\u666F\\uFF0C\\u4F46\\u8981\\u6CE8\\u610F\\u6E05\\u7406\\u672A\\u5B8C\\u6210\\u7684 Promise \\u4EE5\\u907F\\u514D\\u8D44\\u6E90\\u6CC4\\u6F0F\\u3002\"]})}),`\n`,(0,e.jsx)(l.h3,{id:\"6-promiseallsettled\",children:(0,e.jsx)(l.a,{href:\"#6-promiseallsettled\",children:\"6. Promise.allSettled()\"})}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"Promise.allSettled\"})})})}),\" \\u7B49\\u5F85\\u6240\\u6709 Promise \\u5B8C\\u6210\\uFF0C\\u65E0\\u8BBA\\u6210\\u529F\\u6216\\u5931\\u8D25\\uFF0C\\u5E76\\u8FD4\\u56DE\\u6BCF\\u4E2A Promise \\u7684\\u72B6\\u6001\\u548C\\u7ED3\\u679C\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"allSettled\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6210\\u529F\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5931\\u8D25\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]).\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"results\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(results);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:'  // [{status: \"fulfilled\", value: \"\\u6210\\u529F\"}, {status: \"rejected\", reason: \"\\u5931\\u8D25\"}]'})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsxs)(l.em,{children:[\"Tips\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"Promise.allSettled\"})})})}),\" \\u9002\\u5408\\u9700\\u8981\\u5B8C\\u6574\\u7ED3\\u679C\\u7684\\u573A\\u666F\\uFF0C\\u6BD4\\u5982\\u6279\\u91CF\\u4EFB\\u52A1\\u7684\\u72B6\\u6001\\u6C47\\u603B\\u3002\"]})}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u9AD8\\u7EA7\\u7528\\u6CD5\\u4E0E\\u5B9E\\u6218\\u6848\\u4F8B-\",children:(0,e.jsx)(l.a,{href:\"#\\u9AD8\\u7EA7\\u7528\\u6CD5\\u4E0E\\u5B9E\\u6218\\u6848\\u4F8B-\",children:\"\\u9AD8\\u7EA7\\u7528\\u6CD5\\u4E0E\\u5B9E\\u6218\\u6848\\u4F8B \\u{1F4BB}\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Promise \\u7684\\u771F\\u6B63\\u5A01\\u529B\\u5728\\u4E8E\\u5B83\\u7684\\u7075\\u6D3B\\u6027\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u9AD8\\u7EA7\\u7528\\u6CD5\\u548C\\u5B9E\\u6218\\u6848\\u4F8B\\uFF0C\\u5E2E\\u52A9\\u4F60\\u5E94\\u5BF9\\u590D\\u6742\\u573A\\u666F\\u3002\"}),`\n`,(0,e.jsx)(l.h3,{id:\"1-\\u5E76\\u53D1\\u63A7\\u5236\\u9650\\u5236\\u540C\\u65F6\\u8FD0\\u884C\\u7684-promise-\\u6570\\u91CF\",children:(0,e.jsx)(l.a,{href:\"#1-\\u5E76\\u53D1\\u63A7\\u5236\\u9650\\u5236\\u540C\\u65F6\\u8FD0\\u884C\\u7684-promise-\\u6570\\u91CF\",children:\"1. \\u5E76\\u53D1\\u63A7\\u5236\\uFF1A\\u9650\\u5236\\u540C\\u65F6\\u8FD0\\u884C\\u7684 Promise \\u6570\\u91CF\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5047\\u8BBE\\u4F60\\u8981\\u6279\\u91CF\\u4E0B\\u8F7D 100 \\u5F20\\u56FE\\u7247\\uFF0C\\u4F46\\u4E0D\\u60F3\\u540C\\u65F6\\u53D1\\u8D77 100 \\u4E2A\\u8BF7\\u6C42\\u4EE5\\u514D\\u538B\\u57AE\\u670D\\u52A1\\u5668\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u5E76\\u53D1\\u63A7\\u5236\\u5668\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" limitConcurrency\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"tasks\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"limit\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" results\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" executing\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" task\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" of\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" tasks) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" promise\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" task\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"result\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ({ status: \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"fulfilled\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", value: result }))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ({ status: \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"rejected\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", reason: err }));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    results.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(promise);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    executing.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(promise);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (executing.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" >=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" limit) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      await\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"race\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(executing);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      executing.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"splice\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(executing.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"findIndex\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" p.status \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"pending\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"allSettled\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(results);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u793A\\u4F8B\\uFF1A\\u4E0B\\u8F7D 10 \\u5F20\\u56FE\\u7247\\uFF0C\\u9650\\u5236\\u5E76\\u53D1\\u4E3A 3\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" urls\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"10\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://example.com/image.jpg\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" tasks\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" urls.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(url).\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"blob\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()));\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"limitConcurrency\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(tasks, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"results\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(results);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsxs)(l.em,{children:[\"Tips\\uFF1A\\u5E76\\u53D1\\u63A7\\u5236\\u7684\\u5173\\u952E\\u662F\\u7EF4\\u62A4\\u4E00\\u4E2A\\u201C\\u8FD0\\u884C\\u4E2D\\u7684 Promise\\u201D\\u961F\\u5217\\uFF0C\\u5E76\\u901A\\u8FC7 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"Promise.race\"})})})}),\" \\u52A8\\u6001\\u8C03\\u5EA6\\u3002\"]})}),`\n`,(0,e.jsx)(l.h3,{id:\"2-\\u91CD\\u8BD5\\u673A\\u5236\\u5931\\u8D25\\u540E\\u81EA\\u52A8\\u91CD\\u8BD5\",children:(0,e.jsx)(l.a,{href:\"#2-\\u91CD\\u8BD5\\u673A\\u5236\\u5931\\u8D25\\u540E\\u81EA\\u52A8\\u91CD\\u8BD5\",children:\"2. \\u91CD\\u8BD5\\u673A\\u5236\\uFF1A\\u5931\\u8D25\\u540E\\u81EA\\u52A8\\u91CD\\u8BD5\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u7F51\\u7EDC\\u8BF7\\u6C42\\u53EF\\u80FD\\u56E0\\u4E0D\\u7A33\\u5B9A\\u800C\\u5931\\u8D25\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u4E3A Promise \\u6DFB\\u52A0\\u91CD\\u8BD5\\u903B\\u8F91\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" withRetry\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"promiseFn\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"retries\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 3\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 1000\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    function\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" attempt\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      promiseFn\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(resolve)\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (retries \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          retries\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"--\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"          setTimeout\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(attempt, delay);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        });\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    attempt\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u793A\\u4F8B\\uFF1A\\u91CD\\u8BD5 fetch \\u8BF7\\u6C42\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"withRetry\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6700\\u7EC8\\u5931\\u8D25\\uFF1A\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u4E3A\\u91CD\\u8BD5\\u673A\\u5236\\u8BBE\\u7F6E\\u5408\\u7406\\u7684\\u5EF6\\u8FDF\\u548C\\u6700\\u5927\\u5C1D\\u8BD5\\u6B21\\u6570\\uFF0C\\u907F\\u514D\\u65E0\\u9650\\u5FAA\\u73AF\\u6216\\u8FC7\\u5FEB\\u91CD\\u8BD5\\u3002\"})}),`\n`,(0,e.jsx)(l.h3,{id:\"3-\\u94FE\\u5F0F\\u4F9D\\u8D56\\u987A\\u5E8F\\u6267\\u884C\\u5F02\\u6B65\\u4EFB\\u52A1\",children:(0,e.jsx)(l.a,{href:\"#3-\\u94FE\\u5F0F\\u4F9D\\u8D56\\u987A\\u5E8F\\u6267\\u884C\\u5F02\\u6B65\\u4EFB\\u52A1\",children:\"3. \\u94FE\\u5F0F\\u4F9D\\u8D56\\uFF1A\\u987A\\u5E8F\\u6267\\u884C\\u5F02\\u6B65\\u4EFB\\u52A1\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5F53\\u5F02\\u6B65\\u4EFB\\u52A1\\u6709\\u4F9D\\u8D56\\u5173\\u7CFB\\u65F6\\uFF0CPromise \\u94FE\\u53EF\\u4EE5\\u6E05\\u6670\\u5730\\u8868\\u8FBE\\u903B\\u8F91\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" processUser\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"userId\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchUser\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(userId);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" posts\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchPosts\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(user.id);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" comments\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchComments\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(posts[\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"].id);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { user, posts, comments };\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5904\\u7406\\u5931\\u8D25\\uFF1A\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    throw\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" err;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u5C06 Promise \\u94FE\\u8F6C\\u6362\\u4E3A async/await \\u53EF\\u4EE5\\u63D0\\u9AD8\\u53EF\\u8BFB\\u6027\\uFF0C\\u4F46\\u8981\\u6CE8\\u610F\\u9519\\u8BEF\\u5904\\u7406\\u7684\\u4E00\\u81F4\\u6027\\u3002\"})}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u4F60\\u7684-promise-\\u66F4\\u5065\\u58EE-\\uFE0F\",children:(0,e.jsx)(l.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u4F60\\u7684-promise-\\u66F4\\u5065\\u58EE-\\uFE0F\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u4F60\\u7684 Promise \\u66F4\\u5065\\u58EE \\u{1F6E1}\\uFE0F\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u7ECF\\u8FC7\\u5B9E\\u6218\\u9A8C\\u8BC1\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E2E\\u52A9\\u4F60\\u5199\\u51FA\\u66F4\\u53EF\\u9760\\u7684 Promise \\u4EE3\\u7801\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.strong,{children:\"\\u59CB\\u7EC8\\u6355\\u83B7\\u9519\\u8BEF\"})}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"myPromise.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u672A\\u5904\\u7406\\u7684\\u9519\\u8BEF\\uFF1A\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u8BB0\\u5F55\\u65E5\\u5FD7\\u6216\\u901A\\u77E5\\u7528\\u6237\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsxs)(l.em,{children:[\"Tips\\uFF1A\\u672A\\u6355\\u83B7\\u7684 Promise \\u9519\\u8BEF\\u53EF\\u80FD\\u5BFC\\u81F4\\u7A0B\\u5E8F\\u5D29\\u6E83\\uFF0CNode.js \\u4E2D\\u751A\\u81F3\\u4F1A\\u89E6\\u53D1 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"unhandledRejection\"})})})}),\" \\u4E8B\\u4EF6\\u3002\"]})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.strong,{children:\"\\u907F\\u514D\\u5D4C\\u5957 Promise\"})}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u9519\\u8BEF\\u793A\\u4F8B\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getUser\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(userId).\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  getPosts\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(user.id).\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"posts\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(posts);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6B63\\u786E\\u793A\\u4F8B\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getUser\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(userId)\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" getPosts\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(user.id))\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"posts\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(posts));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u5D4C\\u5957 Promise \\u4F1A\\u5BFC\\u81F4\\u4EE3\\u7801\\u590D\\u6742\\uFF0C\\u5931\\u53BB\\u94FE\\u5F0F\\u8C03\\u7528\\u7684\\u4F18\\u52BF\\u3002\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.strong,{children:\"\\u4F7F\\u7528 Promise.all \\u4F18\\u5316\\u5E76\\u884C\\u8BF7\\u6C42\"})}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fetchData1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fetchData2\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()])\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(([\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data2\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]) \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data1, data2));\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u5E76\\u884C\\u8BF7\\u6C42\\u53EF\\u4EE5\\u663E\\u8457\\u63D0\\u9AD8\\u6027\\u80FD\\uFF0C\\u4F46\\u8981\\u6CE8\\u610F\\u670D\\u52A1\\u5668\\u7684\\u8D1F\\u8F7D\\u80FD\\u529B\\u3002\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.strong,{children:\"\\u6E05\\u7406\\u672A\\u5B8C\\u6210\\u7684 Promise\"})}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" controller \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" AbortController\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", { signal: controller.signal })\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u53D6\\u6D88\\u8BF7\\u6C42\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"controller.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"abort\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u4F7F\\u7528 AbortController \\u6E05\\u7406\\u672A\\u5B8C\\u6210\\u7684\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF0C\\u9632\\u6B62\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.strong,{children:\"\\u8BB0\\u5F55 Promise \\u72B6\\u6001\"})}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" promiseWithLogging\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\" promise\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  promise\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"result\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"Promise \\u6210\\u529F\\uFF1A\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", result);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" result;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"Promise \\u5931\\u8D25\\uFF1A\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      throw\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" err;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"Tips\\uFF1A\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\u4E3A Promise \\u6DFB\\u52A0\\u65E5\\u5FD7\\uFF0C\\u65B9\\u4FBF\\u8C03\\u8BD5\\u590D\\u6742\\u5F02\\u6B65\\u6D41\\u7A0B\\u3002\"})}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(l.h2,{id:\"promise-\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F-\",children:(0,e.jsx)(l.a,{href:\"#promise-\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F-\",children:\"Promise \\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F \\u{1F30D}\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"Promise \\u7684\\u8BBE\\u8BA1\\u4E0D\\u4EC5\\u662F\\u4E3A\\u4E86\\u89E3\\u51B3\\u6280\\u672F\\u95EE\\u9898\\uFF0C\\u66F4\\u662F\\u4E00\\u79CD\\u7F16\\u7A0B\\u601D\\u7EF4\\u7684\\u4F53\\u73B0\\u3002\\u5B83\\u8BA9\\u6211\\u4EEC\\u4ECE\\u201C\\u547D\\u4EE4\\u5F0F\\u201D\\u7684\\u56DE\\u8C03\\u903B\\u8F91\\u8F6C\\u5411\\u201C\\u58F0\\u660E\\u5F0F\\u201D\\u7684\\u94FE\\u5F0F\\u8C03\\u7528\\uFF0C\\u4F53\\u73B0\\u4E86 \",(0,e.jsx)(l.strong,{children:\"\\u5173\\u6CE8\\u70B9\\u5206\\u79BB\"}),\" \\u548C \",(0,e.jsx)(l.strong,{children:\"\\u53EF\\u7EC4\\u5408\\u6027\"}),\" \\u7684\\u601D\\u60F3\\u3002\"]}),`\n`,(0,e.jsxs)(l.blockquote,{children:[`\n`,(0,e.jsx)(l.p,{children:\"\\u201C\\u597D\\u7684\\u4EE3\\u7801\\u5C31\\u50CF\\u597D\\u7684\\u6545\\u4E8B\\uFF1A\\u6E05\\u6670\\u3001\\u8FDE\\u8D2F\\u3001\\u5F15\\u4EBA\\u5165\\u80DC\\u3002\\u201D \\u2014\\u2014 \\u6539\\u7F16\\u81EA\\u300A\\u4EE3\\u7801\\u5927\\u5168\\u300B\"}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"Promise \\u7684\\u94FE\\u5F0F\\u8C03\\u7528\\u5C31\\u50CF\\u8BB2\\u6545\\u4E8B\\uFF1A\\u6BCF\\u4E2A \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"then\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u60C5\\u8282\\uFF0C\\u9010\\u6B65\\u63A8\\u8FDB\\uFF0C\\u6700\\u7EC8\\u8FBE\\u5230\\u9AD8\\u6F6E\\uFF08\\u6216\\u60B2\\u5267\\uFF09\\u3002\\u5B83\\u8BA9\\u6211\\u4EEC\\u4E13\\u6CE8\\u4E8E\\u201C\\u505A\\u4EC0\\u4E48\\u201D\\u800C\\u4E0D\\u662F\\u201C\\u600E\\u4E48\\u505A\\u201D\\uFF0C\\u8FD9\\u6B63\\u662F\\u73B0\\u4EE3\\u7F16\\u7A0B\\u8BED\\u8A00\\u8FFD\\u6C42\\u7684\\u76EE\\u6807\\u3002\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u540C\\u65F6\\uFF0CPromise \\u4E5F\\u6559\\u4F1A\\u6211\\u4EEC\\u5982\\u4F55\\u9762\\u5BF9\\u4E0D\\u786E\\u5B9A\\u6027\\u3002\\u5F02\\u6B65\\u64CD\\u4F5C\\u5C31\\u50CF\\u751F\\u6D3B\\u4E2D\\u7684\\u627F\\u8BFA\\uFF1A\\u6211\\u4EEC\\u65E0\\u6CD5\\u63A7\\u5236\\u7ED3\\u679C\\uFF0C\\u4F46\\u53EF\\u4EE5\\u901A\\u8FC7\\u7ED3\\u6784\\u5316\\u7684\\u65B9\\u5F0F\\u7BA1\\u7406\\u671F\\u671B\\u548C\\u5931\\u8D25\\u3002\\u6B63\\u5982\\u54F2\\u5B66\\u5BB6\\u5C3C\\u91C7\\u6240\\u8BF4\\uFF1A\\u201C\\u90A3\\u4E0D\\u80FD\\u6740\\u6B7B\\u6211\\u7684\\uFF0C\\u4F7F\\u6211\\u66F4\\u5F3A\\u5927\\u3002\\u201D Promise \\u7684\\u9519\\u8BEF\\u5904\\u7406\\u673A\\u5236\\u8BA9\\u6211\\u4EEC\\u5728\\u5931\\u8D25\\u4E2D\\u5B66\\u4E60\\uFF0C\\u6784\\u5EFA\\u66F4\\u5065\\u58EE\\u7684\\u7CFB\\u7EDF\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"promise-\\u7684\\u5C40\\u9650\\u6027\\u4E0E\\u672A\\u6765-\",children:(0,e.jsx)(l.a,{href:\"#promise-\\u7684\\u5C40\\u9650\\u6027\\u4E0E\\u672A\\u6765-\",children:\"Promise \\u7684\\u5C40\\u9650\\u6027\\u4E0E\\u672A\\u6765 \\u{1F52E}\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5C3D\\u7BA1 Promise \\u5F88\\u5F3A\\u5927\\uFF0C\\u4F46\\u5B83\\u5E76\\u975E\\u4E07\\u80FD\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5C40\\u9650\\u6027\\u548C\\u6539\\u8FDB\\u65B9\\u5411\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u65E0\\u6CD5\\u53D6\\u6D88\"}),\"\\uFF1A\\u539F\\u751F Promise \\u4E0D\\u53EF\\u53D6\\u6D88\\uFF0C\\u9700\\u501F\\u52A9 AbortController \\u6216\\u81EA\\u5B9A\\u4E49\\u903B\\u8F91\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u590D\\u6742\\u5E76\\u53D1\\u63A7\\u5236\"}),\"\\uFF1A\\u5982\\u5E76\\u53D1\\u9650\\u5236\\u6216\\u4F18\\u5148\\u7EA7\\u7BA1\\u7406\\uFF0C\\u9700\\u8981\\u989D\\u5916\\u5C01\\u88C5\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u5197\\u957F\\u94FE\\u5F0F\\u8C03\\u7528\"}),\"\\uFF1A\\u957F\\u94FE\\u53EF\\u80FD\\u964D\\u4F4E\\u53EF\\u8BFB\\u6027\\uFF0Casync/await \\u63D0\\u4F9B\\u4E86\\u66F4\\u7B80\\u6D01\\u7684\\u66FF\\u4EE3\\u3002\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u672A\\u6765\\uFF0CJavaScript \\u793E\\u533A\\u6B63\\u5728\\u63A2\\u7D22\\u66F4\\u9AD8\\u7EA7\\u7684\\u5F02\\u6B65\\u6A21\\u578B\\uFF0C\\u5982 \",(0,e.jsx)(l.strong,{children:\"Observable\"}),\" \\u548C \",(0,e.jsx)(l.strong,{children:\"Async Iterators\"}),\"\\uFF0C\\u5B83\\u4EEC\\u5728\\u6D41\\u5904\\u7406\\u548C\\u590D\\u6742\\u5F02\\u6B65\\u573A\\u666F\\u4E2D\\u66F4\\u6709\\u4F18\\u52BF\\u3002\\u4F46 Promise \\u4F5C\\u4E3A\\u5F02\\u6B65\\u7F16\\u7A0B\\u7684\\u57FA\\u77F3\\uFF0C\\u4F9D\\u7136\\u4E0D\\u53EF\\u66FF\\u4EE3\\u3002\"]}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u7ED3\\u8BED\\u62E5\\u62B1-promise\\u62E5\\u62B1\\u5F02\\u6B65-\",children:(0,e.jsx)(l.a,{href:\"#\\u7ED3\\u8BED\\u62E5\\u62B1-promise\\u62E5\\u62B1\\u5F02\\u6B65-\",children:\"\\u7ED3\\u8BED\\uFF1A\\u62E5\\u62B1 Promise\\uFF0C\\u62E5\\u62B1\\u5F02\\u6B65 \\u{1F308}\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Promise \\u662F JavaScript \\u5F02\\u6B65\\u7F16\\u7A0B\\u7684\\u91CC\\u7A0B\\u7891\\uFF0C\\u5B83\\u8BA9\\u6211\\u4EEC\\u4ECE\\u56DE\\u8C03\\u5730\\u72F1\\u4E2D\\u89E3\\u653E\\u51FA\\u6765\\uFF0C\\u5199\\u51FA\\u66F4\\u4F18\\u96C5\\u3001\\u66F4\\u53EF\\u9760\\u7684\\u4EE3\\u7801\\u3002\\u901A\\u8FC7\\u8FD9\\u7BC7\\u6587\\u7AE0\\uFF0C\\u6211\\u4EEC\\u4E0D\\u4EC5\\u7406\\u89E3\\u4E86 Promise \\u7684\\u539F\\u7406\\u548C\\u7528\\u6CD5\\uFF0C\\u8FD8\\u63A2\\u7D22\\u4E86\\u5B83\\u7684\\u54F2\\u5B66\\u610F\\u4E49\\u548C\\u5B9E\\u6218\\u6280\\u5DE7\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5E0C\\u671B\\u4F60\\u5728\\u672A\\u6765\\u7684\\u5F00\\u53D1\\u4E2D\\uFF0C\\u80FD\\u7528 Promise \\u6784\\u5EFA\\u51FA\\u66F4\\u9AD8\\u6548\\u3001\\u66F4\\u5065\\u58EE\\u7684\\u7CFB\\u7EDF\\u3002\\u5C31\\u50CF\\u300A\\u661F\\u9645\\u7A7F\\u8D8A\\u300B\\u4E2D\\u7684\\u90A3\\u53E5\\u53F0\\u8BCD\\uFF1A\\u201C\\u6211\\u4EEC\\u4EF0\\u671B\\u661F\\u7A7A\\uFF0C\\u4E0D\\u662F\\u4E3A\\u4E86\\u5F81\\u670D\\u5B87\\u5B99\\uFF0C\\u800C\\u662F\\u4E3A\\u4E86\\u627E\\u5230\\u56DE\\u5BB6\\u7684\\u8DEF\\u3002\\u201D Promise \\u6B63\\u662F\\u6211\\u4EEC\\u63A2\\u7D22\\u5F02\\u6B65\\u4E16\\u754C\\u7684\\u90A3\\u76CF\\u660E\\u706F\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u73B0\\u5728\\uFF0C\\u8F6E\\u5230\\u4F60\\u4E86\\uFF01\\u8BD5\\u8BD5\\u7528 Promise \\u91CD\\u6784\\u4E00\\u4E2A\\u590D\\u6742\\u7684\\u5F02\\u6B65\\u6D41\\u7A0B\\uFF0C\\u6216\\u8005\\u5206\\u4EAB\\u4F60\\u5728 Promise \\u4F7F\\u7528\\u4E2D\\u7684\\u5FC3\\u5F97\\u5427\\uFF01\\u{1F4AC}\"}),`\n`,(0,e.jsx)(l.hr,{})]})}function h(n={}){let{wrapper:l}=n.components||{};return l?(0,e.jsx)(l,{...n,children:(0,e.jsx)(t,{...n})}):t(n)}return f(b);})();\n;return Component;"
  },
  "_id": "JavaScript/JS-Promise.mdx",
  "_raw": {
    "sourceFilePath": "JavaScript/JS-Promise.mdx",
    "sourceFileName": "JS-Promise.mdx",
    "sourceFileDir": "JavaScript",
    "contentType": "mdx",
    "flattenedPath": "JavaScript/JS-Promise"
  },
  "type": "Post",
  "url": "/blog/JavaScript/JS-Promise"
}
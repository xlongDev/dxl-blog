{
  "title": "å¦‚ä½•è‡ªå®šä¹‰ Hooks å®ç°æ¥å£è½®è¯¢ï¼Ÿä»åŸç†åˆ°å®æˆ˜ï¼Œå¸¦ä½ ç©è½¬æ•°æ®åŒæ­¥",
  "date": "2024-02-08T00:00:00.000Z",
  "description": "æ·±å…¥æ¢è®¨å¦‚ä½•é€šè¿‡è‡ªå®šä¹‰ Hooks å®ç°æ¥å£è½®è¯¢ï¼Œå‰–æåŸç†ï¼Œæä¾›å¤šç§åœºæ™¯ç¤ºä¾‹ï¼Œé™„å¸¦æœ€ä½³å®è·µï¼Œè®©ä½ çš„å‰ç«¯æ•°æ®åŒæ­¥æ›´ä¼˜é›…ã€æ›´é«˜æ•ˆã€‚",
  "keywords": "React Hooks, æ¥å£è½®è¯¢, æ•°æ®åŒæ­¥, å‰ç«¯å¼€å‘, è‡ªå®šä¹‰ Hooks, çŠ¶æ€ç®¡ç†, æ€§èƒ½ä¼˜åŒ–",
  "author": "æ™“é¾™",
  "image": "/images/hero/polling-hooks.jpg",
  "tags": [
    "React",
    "Hooks",
    "å‰ç«¯å¼€å‘",
    "JavaScript"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\nå—¨ï¼Œå‰ç«¯å°ä¼™ä¼´ä»¬ï¼ä»Šå¤©æˆ‘ä»¬è¦èŠä¸€ä¸ªåœ¨å¼€å‘ä¸­æ—¢å¸¸è§åˆè®©äººå¤´ç–¼çš„éœ€æ±‚ï¼š**æ¥å£è½®è¯¢**ã€‚ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šåç«¯çš„æ•°æ®æ›´æ–°äº†ï¼Œä½†å‰ç«¯è¿˜å¾—é æ‰‹åŠ¨åˆ·æ–°æ‰èƒ½çœ‹åˆ°æœ€æ–°ç»“æœï¼Ÿæˆ–è€…è€æ¿çªç„¶è¯´ï¼šâ€œè¿™ä¸ªå®æ—¶ç›‘æ§é¡µé¢ï¼Œèƒ½ä¸èƒ½æ¯éš”å‡ ç§’è‡ªåŠ¨æ›´æ–°ä¸€ä¸‹ï¼Ÿâ€åˆ«æ€¥ï¼Œä»Šå¤©æˆ‘ä»¬å°±ç”¨è‡ªå®šä¹‰ Hooks æŠŠè¿™ä¸ªéœ€æ±‚æå®šï¼Œé¡ºä¾¿æ·±å…¥åŸç†ï¼Œå¸¦ä½ ä»â€œå°ç™½â€è¿›åŒ–åˆ°â€œè½®è¯¢å¤§å¸ˆâ€ ğŸš€ã€‚\n\nè¿™ç¯‡åšå®¢ä¸ä»…ä¼šæ•™ä½ å¦‚ä½•å†™ä¸€ä¸ªä¼˜é›…çš„è½®è¯¢ Hookï¼Œè¿˜ä¼šå‰–æå®ƒçš„åº•å±‚é€»è¾‘ï¼Œé…ä¸Šä¸°å¯Œçš„ç¤ºä¾‹å’Œå®ç”¨æŠ€å·§ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼\n\n## ä»€ä¹ˆæ˜¯æ¥å£è½®è¯¢ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ\n\nç®€å•æ¥è¯´ï¼Œæ¥å£è½®è¯¢ï¼ˆPollingï¼‰å°±æ˜¯å‰ç«¯å®šæ—¶å»è¯·æ±‚åç«¯æ¥å£ï¼Œè·å–æœ€æ–°æ•°æ®çš„ä¸€ç§æ–¹å¼ã€‚å®ƒæœ‰ç‚¹åƒä½ åœ¨ç­‰äººæ—¶ä¸åœåœ°çœ‹æ‰‹æœºæœ‰æ²¡æœ‰æ–°æ¶ˆæ¯â€”â€”è™½ç„¶æœ‰ç‚¹â€œä½æ•ˆâ€ï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹å´æ˜¯æœ€ç®€å•ç›´æ¥çš„è§£å†³æ–¹æ¡ˆã€‚\n\nå¸¸è§çš„è½®è¯¢åœºæ™¯åŒ…æ‹¬ï¼š\n- å®æ—¶è‚¡ç¥¨ä»·æ ¼æ›´æ–° ğŸ“ˆ\n- è®¢å•çŠ¶æ€æ£€æŸ¥ï¼ˆâ€œæˆ‘çš„å¤–å–åˆ°å“ªäº†ï¼Ÿâ€ï¼‰\n- æœåŠ¡å™¨ä»»åŠ¡è¿›åº¦æŸ¥è¯¢\n\nå½“ç„¶ï¼Œè½®è¯¢ä¸æ˜¯ä¸‡èƒ½çš„ã€‚å¦‚æœåç«¯æ”¯æŒ WebSocketï¼Œé‚£å¯èƒ½æ˜¯æ›´ä¼˜é›…çš„é€‰æ‹©ã€‚ä½†ç°å®æ˜¯ï¼Œå¾ˆå¤šé¡¹ç›®é‡Œåç«¯æ¥å£å°±é‚£ä¹ˆâ€œæœ´å®æ— åâ€ï¼Œè½®è¯¢æˆäº†æˆ‘ä»¬çš„â€œæ•‘å‘½ç¨»è‰â€ã€‚æ‰€ä»¥ï¼ŒæŒæ¡ä¸€ä¸ªçµæ´»çš„è½®è¯¢æ–¹æ¡ˆï¼Œç»å¯¹æ˜¯å‰ç«¯å¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚\n\n---\n\n## è‡ªå®šä¹‰ Hooks çš„è½®è¯¢æ€è·¯\n\nåœ¨ React ä¸­ï¼Œè‡ªå®šä¹‰ Hooks æ˜¯å°è£…é€»è¾‘çš„åˆ©å™¨ã€‚æˆ‘ä»¬è¦å®ç°çš„è½®è¯¢ Hookï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ï¼š\n1. **å®šæ—¶è¯·æ±‚æ•°æ®**ï¼šç”¨ `setInterval` æˆ–å…¶ä»–æ–¹å¼å®ç°å¾ªç¯è°ƒç”¨ã€‚\n2. **ç®¡ç†çŠ¶æ€**ï¼šè¿”å›æœ€æ–°çš„æ•°æ®ç»™ç»„ä»¶ç”¨ã€‚\n3. **å¯æ§æ€§å¼º**ï¼šæ”¯æŒæš‚åœã€æ¢å¤ã€è°ƒæ•´é—´éš”ç­‰æ“ä½œã€‚\n4. **æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…å†…å­˜æ³„æ¼ï¼Œå‡å°‘ä¸å¿…è¦çš„è¯·æ±‚ã€‚\n\nå¬èµ·æ¥ä¸å¤æ‚å¯¹å§ï¼Ÿä½†é­”é¬¼è—åœ¨ç»†èŠ‚é‡Œã€‚è®©æˆ‘ä»¬ä¸€æ­¥æ­¥æ‹†è§£ã€‚\n\n### æ ¸å¿ƒåŸç†ï¼šå®šæ—¶å™¨ + æ•°æ®è¯·æ±‚\n\nè½®è¯¢çš„æ ¸å¿ƒæ˜¯ä¸ªâ€œå¾ªç¯â€ã€‚åœ¨ JavaScript ä¸­ï¼Œ`setInterval` æ˜¯æœ€ç›´è§‚çš„å·¥å…·ã€‚æˆ‘ä»¬å¯ä»¥ç»“åˆ `useState` å’Œ `useEffect` æ¥å®ç°ï¼š\n- ç”¨ `useState` å­˜æ•°æ®ã€‚\n- ç”¨ `useEffect` è®¾ç½®å®šæ—¶å™¨ï¼Œå®šæ—¶è°ƒç”¨æ¥å£ã€‚\n\nä½†è¿™åªæ˜¯èµ·ç‚¹ã€‚å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¿˜å¾—è€ƒè™‘ï¼š\n- å¦‚ä½•æ¸…ç†å®šæ—¶å™¨ï¼Œé¿å…ç»„ä»¶å¸è½½åçš„å†…å­˜æ³„æ¼ï¼Ÿ\n- å¦‚ä½•è®©è½®è¯¢æ”¯æŒåŠ¨æ€é…ç½®ï¼Œæ¯”å¦‚æš‚åœæˆ–æ”¹å˜é—´éš”ï¼Ÿ\n- å¦‚ä½•å¤„ç†è¯·æ±‚å¤±è´¥çš„é‡è¯•é€»è¾‘ï¼Ÿ\n\nåˆ«æ…Œï¼Œæˆ‘ä»¬ä¼šä¸€æ­¥æ­¥è§£å†³è¿™äº›é—®é¢˜ã€‚\n\n---\n\n## åŸºç¡€ç‰ˆï¼šä¸€ä¸ªç®€å•çš„è½®è¯¢ Hook\n\nå…ˆä»æœ€ç®€å•çš„ç‰ˆæœ¬å¼€å§‹ï¼Œçœ‹çœ‹æ€ä¹ˆç”¨ Hooks å®ç°è½®è¯¢ã€‚\n\n```javascript\nimport { useState, useEffect } from 'react';\n\nfunction usePolling(fetchFn, interval = 5000) {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    // ç«‹å³æ‰§è¡Œä¸€æ¬¡\n    fetchFn().then(setData);\n\n    // è®¾ç½®å®šæ—¶å™¨\n    const timer = setInterval(() => {\n      fetchFn().then(setData);\n    }, interval);\n\n    // æ¸…ç†å®šæ—¶å™¨\n    return () => clearInterval(timer);\n  }, [fetchFn, interval]);\n\n  return data;\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nfunction StockPrice() {\n  const fetchStockPrice = async () => {\n    const res = await fetch('https://api.example.com/stock');\n    return res.json();\n  };\n\n  const stockData = usePolling(fetchStockPrice, 3000);\n\n  return <div>å½“å‰è‚¡ä»·: {stockData?.price || 'åŠ è½½ä¸­...'}</div>;\n}\n```\n\n### å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\n\n1. **å‚æ•°**ï¼š`fetchFn` æ˜¯ä¸€ä¸ªè¿”å› Promise çš„å‡½æ•°ï¼Œ`interval` æ˜¯è½®è¯¢é—´éš”ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ã€‚\n2. **åˆæ¬¡è¯·æ±‚**ï¼š`useEffect` é‡Œå…ˆæ‰‹åŠ¨è°ƒç”¨ä¸€æ¬¡ `fetchFn`ï¼Œé¿å…ç”¨æˆ·ç­‰å¾…ç¬¬ä¸€ä¸ªå‘¨æœŸã€‚\n3. **å®šæ—¶å™¨**ï¼šç”¨ `setInterval` æ¯éš” `interval` æ—¶é—´è°ƒç”¨ä¸€æ¬¡ `fetchFn`ï¼Œæ›´æ–°æ•°æ®ã€‚\n4. **æ¸…ç†**ï¼šç»„ä»¶å¸è½½æ—¶ï¼Œé€šè¿‡ `return` å‡½æ•°æ¸…é™¤å®šæ—¶å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚\n\n**å° Tips**ï¼š  \n- åˆ«å¿˜äº†æ¸…ç†å®šæ—¶å™¨ï¼Œä¸ç„¶ä½ çš„åº”ç”¨å¯èƒ½ä¼šå˜æˆâ€œå®šæ—¶ç‚¸å¼¹â€ ğŸ’£ï¼Œåœ¨åå°ç–¯ç‹‚è·‘ä»»åŠ¡ã€‚\n\nè¿™ä¸ªåŸºç¡€ç‰ˆå·²ç»èƒ½ç”¨äº†ï¼Œä½†é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼š\n- æ²¡æ³•æš‚åœæˆ–æ‰‹åŠ¨è§¦å‘ã€‚\n- æ¥å£å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ\n- æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°åˆ›å»º `fetchFn`ï¼Œå¯èƒ½å¯¼è‡´ `useEffect` é‡å¤æ‰§è¡Œã€‚\n\nè®©æˆ‘ä»¬é€æ­¥å‡çº§å®ƒï¼\n\n---\n\n## è¿›é˜¶ç‰ˆï¼šå¯æ§çš„è½®è¯¢ Hook\n\nç°å®ä¸­ï¼Œè½®è¯¢ä¸èƒ½æ€»æ˜¯â€œæ­»å¾ªç¯â€ä¸‹å»ã€‚æˆ‘ä»¬éœ€è¦æ›´å¤šæ§åˆ¶æƒï¼Œæ¯”å¦‚æš‚åœã€æ¢å¤ã€æ‰‹åŠ¨åˆ·æ–°ã€‚æ¥çœ‹è¿›é˜¶ç‰ˆï¼š\n\n```javascript\nimport { useState, useEffect, useCallback } from 'react';\n\nfunction usePolling(fetchFn, interval = 5000) {\n  const [data, setData] = useState(null);\n  const [isPolling, setIsPolling] = useState(true);\n\n  const poll = useCallback(async () => {\n    try {\n      const result = await fetchFn();\n      setData(result);\n    } catch (error) {\n      console.error('è½®è¯¢å‡ºé”™:', error);\n    }\n  }, [fetchFn]);\n\n  useEffect(() => {\n    if (!isPolling) return;\n\n    poll(); // ç«‹å³æ‰§è¡Œä¸€æ¬¡\n    const timer = setInterval(poll, interval);\n\n    return () => clearInterval(timer);\n  }, [poll, interval, isPolling]);\n\n  return {\n    data,\n    isPolling,\n    startPolling: () => setIsPolling(true),\n    stopPolling: () => setIsPolling(false),\n    manualPoll: poll, // æ‰‹åŠ¨è§¦å‘\n  };\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nfunction OrderStatus() {\n  const fetchOrder = async () => {\n    const res = await fetch('https://api.example.com/order/123');\n    return res.json();\n  };\n\n  const { data, isPolling, startPolling, stopPolling, manualPoll } = usePolling(fetchOrder, 2000);\n\n  return (\n    <div>\n      <p>è®¢å•çŠ¶æ€: {data?.status || 'åŠ è½½ä¸­...'}</p>\n      <button onClick={manualPoll}>æ‰‹åŠ¨åˆ·æ–°</button>\n      <button onClick={stopPolling} disabled={!isPolling}>\n        æš‚åœ\n      </button>\n      <button onClick={startPolling} disabled={isPolling}>\n        æ¢å¤\n      </button>\n    </div>\n  );\n}\n```\n\n### å‡çº§äº®ç‚¹\n\n1. **æ§åˆ¶å¼€å…³**ï¼šæ–°å¢ `isPolling` çŠ¶æ€ï¼ŒåŠ¨æ€æ§åˆ¶è½®è¯¢çš„å¼€å¯å’Œå…³é—­ã€‚\n2. **æ‰‹åŠ¨è§¦å‘**ï¼šé€šè¿‡ `manualPoll` å‡½æ•°ï¼Œéšæ—¶å¯ä»¥æ‰‹åŠ¨åˆ·æ–°æ•°æ®ã€‚\n3. **é”™è¯¯å¤„ç†**ï¼šåŠ äº† `try-catch`ï¼Œé¿å…æ¥å£å¤±è´¥å¯¼è‡´æ•´ä¸ª Hook å´©æ‰ã€‚\n4. **useCallback**ï¼šåŒ…è£… `poll` å‡½æ•°ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°åˆ›å»ºã€‚\n\n**å° Tips**ï¼š  \n- ç”¨ `useCallback` åŒ…è£¹ä¾èµ–é¢‘ç¹å˜åŒ–çš„å‡½æ•°ï¼Œèƒ½æœ‰æ•ˆå‡å°‘ `useEffect` çš„è§¦å‘æ¬¡æ•°ï¼Œæ€§èƒ½æå‡ä¸æ˜¯ä¸€ç‚¹ç‚¹ï¼\n\n---\n\n## é«˜çº§ç‰ˆï¼šå¸¦é‡è¯•å’ŒåŠ¨æ€é—´éš”çš„è½®è¯¢ Hook\n\nåŸºç¡€ç‰ˆå’Œè¿›é˜¶ç‰ˆå·²ç»å¤Ÿç”¨äº†ï¼Œä½†çœŸæ­£çš„â€œå¤§ä½¬â€ Hook è¿˜å¾—è€ƒè™‘æ›´å¤šã€‚æ¯”å¦‚ï¼š\n- æ¥å£å¤±è´¥åè‡ªåŠ¨é‡è¯•ã€‚\n- æ ¹æ®æ¡ä»¶åŠ¨æ€è°ƒæ•´è½®è¯¢é—´éš”ã€‚\n- åŠ è½½çŠ¶æ€å’Œé”™è¯¯çŠ¶æ€çš„åé¦ˆã€‚\n\næ¥çœ‹ç»ˆæç‰ˆï¼š\n\n```javascript\nimport { useState, useEffect, useCallback, useRef } from 'react';\n\nfunction usePolling(fetchFn, options = {}) {\n  const { interval = 5000, retries = 3, retryDelay = 1000 } = options;\n  const [data, setData] = useState(null);\n  const [isPolling, setIsPolling] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const retryCountRef = useRef(0); // ç”¨ ref è®°å½•é‡è¯•æ¬¡æ•°\n\n  const poll = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const result = await fetchFn();\n      setData(result);\n      retryCountRef.current = 0; // æˆåŠŸåé‡ç½®é‡è¯•è®¡æ•°\n    } catch (err) {\n      setError(err);\n      if (retryCountRef.current < retries) {\n        retryCountRef.current += 1;\n        setTimeout(poll, retryDelay); // å»¶è¿Ÿé‡è¯•\n        return;\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  }, [fetchFn, retries, retryDelay]);\n\n  useEffect(() => {\n    if (!isPolling) return;\n\n    poll(); // é¦–æ¬¡è°ƒç”¨\n    const timer = setInterval(poll, interval);\n\n    return () => clearInterval(timer);\n  }, [poll, interval, isPolling]);\n\n  // åŠ¨æ€è°ƒæ•´é—´éš”\n  const updateInterval = (newInterval) => {\n    clearInterval(timer);\n    timer = setInterval(poll, newInterval);\n  };\n\n  return {\n    data,\n    isPolling,\n    isLoading,\n    error,\n    startPolling: () => setIsPolling(true),\n    stopPolling: () => setIsPolling(false),\n    manualPoll: poll,\n    updateInterval,\n  };\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nfunction ServerTaskMonitor() {\n  const fetchTaskStatus = async () => {\n    const res = await fetch('https://api.example.com/task/456');\n    return res.json();\n  };\n\n  const { data, isLoading, error, stopPolling, updateInterval } = usePolling(fetchTaskStatus, {\n    interval: 5000,\n    retries: 3,\n    retryDelay: 2000,\n  });\n\n  useEffect(() => {\n    if (data?.status === 'completed') {\n      stopPolling(); // ä»»åŠ¡å®Œæˆï¼Œåœæ­¢è½®è¯¢\n    } else if (data?.status === 'processing') {\n      updateInterval(2000); // å¤„ç†ä¸­ï¼ŒåŠ å¿«è½®è¯¢\n    }\n  }, [data, stopPolling, updateInterval]);\n\n  return (\n    <div>\n      <p>ä»»åŠ¡çŠ¶æ€: {isLoading ? 'åŠ è½½ä¸­...' : data?.status || 'æœªçŸ¥'}</p>\n      {error && <p style={{ color: 'red' }}>é”™è¯¯: {error.message}</p>}\n    </div>\n  );\n}\n```\n\n### é«˜çº§åŠŸèƒ½è§£æ\n\n1. **é‡è¯•æœºåˆ¶**ï¼šç”¨ `retryCountRef` è¿½è¸ªå¤±è´¥æ¬¡æ•°ï¼Œå¤±è´¥åå»¶è¿Ÿé‡è¯•ï¼Œè¾¾åˆ°ä¸Šé™ååœæ­¢ã€‚\n2. **åŠ¨æ€é—´éš”**ï¼šé€šè¿‡ `updateInterval` å‡½æ•°ï¼Œéšæ—¶è°ƒæ•´è½®è¯¢é¢‘ç‡ã€‚\n3. **çŠ¶æ€åé¦ˆ**ï¼šæ–°å¢ `isLoading` å’Œ `error`ï¼Œè®©ç»„ä»¶èƒ½æ›´å¥½åœ°å±•ç¤ºåŠ è½½å’Œé”™è¯¯çŠ¶æ€ã€‚\n4. **æ™ºèƒ½åœæ­¢**ï¼šä»»åŠ¡å®Œæˆæ—¶è‡ªåŠ¨åœæ­¢è½®è¯¢ï¼Œå‡å°‘æ— ç”¨è¯·æ±‚ã€‚\n\n**å° Tips**ï¼š  \n- ç”¨ `useRef` è€Œä¸æ˜¯ `useState` å­˜é‡è¯•æ¬¡æ•°ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼Œæ€§èƒ½æ›´ä¼˜ã€‚\n\n---\n\n## æœ€ä½³å®è·µï¼šè®©è½®è¯¢æ›´â€œèªæ˜â€\n\nè½®è¯¢è™½ç„¶ç®€å•ï¼Œä½†ç”¨ä¸å¥½å®¹æ˜“â€œç¿»è½¦â€ã€‚è¿™é‡Œæ€»ç»“å‡ ä¸ªå®æˆ˜ç»éªŒï¼š\n\n1. **æ¡ä»¶è½®è¯¢**  \n   åˆ«è®©è½®è¯¢ä¸€ç›´è·‘ã€‚æ¯”å¦‚è®¢å•çŠ¶æ€å˜æˆâ€œå·²å®Œæˆâ€ï¼Œå°±è¯¥åœä¸‹æ¥ã€‚  \n   **Tips**ï¼šç»“åˆä¸šåŠ¡é€»è¾‘åœ¨ `useEffect` é‡ŒåŠ¨æ€æ§åˆ¶ `stopPolling`ã€‚\n\n2. **èŠ‚æµè¯·æ±‚**  \n   å¦‚æœç”¨æˆ·é¢‘ç¹æ“ä½œï¼ˆæ¯”å¦‚æ‰‹åŠ¨åˆ·æ–°ï¼‰ï¼Œå¯ä»¥ç”¨ `debounce` æˆ– `throttle` é™åˆ¶è¯·æ±‚é¢‘ç‡ã€‚  \n   **Tips**ï¼šå¯ä»¥ç”¨ lodash çš„ `debounce` åŒ…è£… `manualPoll`ã€‚\n\n3. **é”™è¯¯æç¤ºå‹å¥½åŒ–**  \n   åˆ«ç›´æ¥ `console.error`ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªå¯è¯»çš„æç¤ºï¼Œæ¯”å¦‚â€œæœåŠ¡å™¨å¼€å°å·®äº†ï¼Œè¯·ç¨åé‡è¯•â€ã€‚  \n   **Tips**ï¼šæŠŠ `error` çŠ¶æ€æš´éœ²å‡ºå»ï¼Œç»“åˆ UI ç»„ä»¶å±•ç¤ºã€‚\n\n4. **é¿å…é‡å¤è¯·æ±‚**  \n   å¦‚æœä¸Šä¸€æ¬¡è¯·æ±‚è¿˜æ²¡å›æ¥ï¼Œè€ƒè™‘è·³è¿‡ä¸‹ä¸€æ¬¡è½®è¯¢ã€‚å¯ä»¥ç”¨ä¸€ä¸ª `isFetching` æ ‡å¿—ä½æ§åˆ¶ã€‚  \n   **Tips**ï¼šåœ¨ `poll` å‡½æ•°é‡ŒåŠ ä¸ª `if (isFetching) return`ã€‚\n\n5. **è°ƒè¯•ç¥å™¨**  \n   åœ¨å¼€å‘ç¯å¢ƒåŠ ç‚¹æ—¥å¿—ï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ï¼Œæ¯”å¦‚ `console.log('è½®è¯¢ç¬¬ ${count} æ¬¡', data)`ã€‚  \n   **Tips**ï¼šç”¨ç¯å¢ƒå˜é‡æ§åˆ¶æ—¥å¿—å¼€å…³ï¼Œé¿å…çº¿ä¸Šç¯å¢ƒåˆ·å±ã€‚\n\n---\n\n## ç±»æ¯”ä¸å¹½é»˜ï¼šè½®è¯¢å°±åƒè¿½å‰§\n\næŠŠè½®è¯¢æƒ³è±¡æˆè¿½å‰§ï¼šä½ æ¯éš”å‡ åˆ†é’Ÿåˆ·æ–°ä¸€ä¸‹ B ç«™ï¼Œçœ‹çœ‹ UP ä¸»æœ‰æ²¡æœ‰æ›´æ–°è§†é¢‘ã€‚åŸºç¡€ç‰ˆæ˜¯â€œæ­»ç­‰â€ï¼Œè¿›é˜¶ç‰ˆèƒ½â€œæš‚åœè¿½å‰§â€ï¼Œé«˜çº§ç‰ˆè¿˜èƒ½â€œåˆ·åˆ° 404 è‡ªåŠ¨é‡è¯•â€ã€‚è€Œæœ€ä½³å®è·µå‘¢ï¼Ÿå°±åƒä½ å­¦ä¼šäº†â€œåªè¿½å®Œç»“å‰§â€ï¼Œçœæ—¶åˆçœåŠ› ğŸ˜‚ã€‚\n\n---\n\n## æ€»ç»“\n\né€šè¿‡è¿™ç¯‡åšå®¢ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„è½®è¯¢ Hookï¼Œè¿›åŒ–åˆ°äº†ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€å¯æ§æ€§å¼ºã€æ€§èƒ½ä¼˜åŒ–çš„é«˜çº§ç‰ˆæœ¬ã€‚æ— è®ºæ˜¯å®æ—¶æ•°æ®å±•ç¤ºï¼Œè¿˜æ˜¯ä»»åŠ¡çŠ¶æ€ç›‘æ§ï¼Œè‡ªå®šä¹‰ Hooks éƒ½èƒ½è®©ä½ çš„ä»£ç æ›´ä¼˜é›…ã€æ›´å¯ç»´æŠ¤ã€‚\n\nä¸‹æ¬¡è€æ¿å†æâ€œåŠ ä¸ªå®æ—¶æ›´æ–°â€æ—¶ï¼Œä½ å¯ä»¥è‡ªä¿¡åœ°è¯´ï¼šâ€œå°èœä¸€ç¢Ÿï¼Œæˆ‘æœ‰è½®è¯¢ Hookï¼â€å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ åœ¨å‰ç«¯è·¯ä¸Šæ›´è¿›ä¸€æ­¥ã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„å®ç°æ–¹å¼ï¼Œæ¬¢è¿ç•™è¨€åˆ†äº«å“¦ï½è®©æˆ‘ä»¬ä¸€èµ·æŠŠè½®è¯¢ç©å‡ºèŠ±æ¥ï¼ğŸŒŸ\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),B=(e,l)=>{for(var r in l)c(e,r,{get:l[r],enumerable:!0})},d=(e,l,r,s)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let a of y(l))!g.call(e,a)&&a!==r&&c(e,a,{get:()=>l[a],enumerable:!(s=E(l,a))||s.enumerable});return e};var f=(e,l,r)=>(r=e!=null?p(F(e)):{},d(l||!e||!e.__esModule?c(r,\"default\",{value:e,enumerable:!0}):r,e)),k=e=>d(c({},\"__esModule\",{value:!0}),e);var i=u((P,t)=>{t.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>m});var n=f(i()),m={type:\"Post\",title:\"\\u5982\\u4F55\\u81EA\\u5B9A\\u4E49 Hooks \\u5B9E\\u73B0\\u63A5\\u53E3\\u8F6E\\u8BE2\\uFF1F\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u6218\\uFF0C\\u5E26\\u4F60\\u73A9\\u8F6C\\u6570\\u636E\\u540C\\u6B65\",date:\"2024-02-08\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u5982\\u4F55\\u901A\\u8FC7\\u81EA\\u5B9A\\u4E49 Hooks \\u5B9E\\u73B0\\u63A5\\u53E3\\u8F6E\\u8BE2\\uFF0C\\u5256\\u6790\\u539F\\u7406\\uFF0C\\u63D0\\u4F9B\\u591A\\u79CD\\u573A\\u666F\\u793A\\u4F8B\\uFF0C\\u9644\\u5E26\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u8BA9\\u4F60\\u7684\\u524D\\u7AEF\\u6570\\u636E\\u540C\\u6B65\\u66F4\\u4F18\\u96C5\\u3001\\u66F4\\u9AD8\\u6548\\u3002\",keywords:\"React Hooks, \\u63A5\\u53E3\\u8F6E\\u8BE2, \\u6570\\u636E\\u540C\\u6B65, \\u524D\\u7AEF\\u5F00\\u53D1, \\u81EA\\u5B9A\\u4E49 Hooks, \\u72B6\\u6001\\u7BA1\\u7406, \\u6027\\u80FD\\u4F18\\u5316\",author:\"\\u6653\\u9F99\",image:\"/images/hero/polling-hooks.jpg\",tags:[\"React\",\"Hooks\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"JavaScript\"],category:\"React\"};function o(e){let l={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.p,{children:[\"\\u55E8\\uFF0C\\u524D\\u7AEF\\u5C0F\\u4F19\\u4F34\\u4EEC\\uFF01\\u4ECA\\u5929\\u6211\\u4EEC\\u8981\\u804A\\u4E00\\u4E2A\\u5728\\u5F00\\u53D1\\u4E2D\\u65E2\\u5E38\\u89C1\\u53C8\\u8BA9\\u4EBA\\u5934\\u75BC\\u7684\\u9700\\u6C42\\uFF1A\",(0,n.jsx)(l.strong,{children:\"\\u63A5\\u53E3\\u8F6E\\u8BE2\"}),\"\\u3002\\u4F60\\u6709\\u6CA1\\u6709\\u9047\\u5230\\u8FC7\\u8FD9\\u6837\\u7684\\u573A\\u666F\\uFF1A\\u540E\\u7AEF\\u7684\\u6570\\u636E\\u66F4\\u65B0\\u4E86\\uFF0C\\u4F46\\u524D\\u7AEF\\u8FD8\\u5F97\\u9760\\u624B\\u52A8\\u5237\\u65B0\\u624D\\u80FD\\u770B\\u5230\\u6700\\u65B0\\u7ED3\\u679C\\uFF1F\\u6216\\u8005\\u8001\\u677F\\u7A81\\u7136\\u8BF4\\uFF1A\\u201C\\u8FD9\\u4E2A\\u5B9E\\u65F6\\u76D1\\u63A7\\u9875\\u9762\\uFF0C\\u80FD\\u4E0D\\u80FD\\u6BCF\\u9694\\u51E0\\u79D2\\u81EA\\u52A8\\u66F4\\u65B0\\u4E00\\u4E0B\\uFF1F\\u201D\\u522B\\u6025\\uFF0C\\u4ECA\\u5929\\u6211\\u4EEC\\u5C31\\u7528\\u81EA\\u5B9A\\u4E49 Hooks \\u628A\\u8FD9\\u4E2A\\u9700\\u6C42\\u641E\\u5B9A\\uFF0C\\u987A\\u4FBF\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u5E26\\u4F60\\u4ECE\\u201C\\u5C0F\\u767D\\u201D\\u8FDB\\u5316\\u5230\\u201C\\u8F6E\\u8BE2\\u5927\\u5E08\\u201D \\u{1F680}\\u3002\"]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8FD9\\u7BC7\\u535A\\u5BA2\\u4E0D\\u4EC5\\u4F1A\\u6559\\u4F60\\u5982\\u4F55\\u5199\\u4E00\\u4E2A\\u4F18\\u96C5\\u7684\\u8F6E\\u8BE2 Hook\\uFF0C\\u8FD8\\u4F1A\\u5256\\u6790\\u5B83\\u7684\\u5E95\\u5C42\\u903B\\u8F91\\uFF0C\\u914D\\u4E0A\\u4E30\\u5BCC\\u7684\\u793A\\u4F8B\\u548C\\u5B9E\\u7528\\u6280\\u5DE7\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u5427\\uFF01\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u63A5\\u53E3\\u8F6E\\u8BE2\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5B83\",children:(0,n.jsx)(l.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u63A5\\u53E3\\u8F6E\\u8BE2\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5B83\",children:\"\\u4EC0\\u4E48\\u662F\\u63A5\\u53E3\\u8F6E\\u8BE2\\uFF1F\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5B83\\uFF1F\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u63A5\\u53E3\\u8F6E\\u8BE2\\uFF08Polling\\uFF09\\u5C31\\u662F\\u524D\\u7AEF\\u5B9A\\u65F6\\u53BB\\u8BF7\\u6C42\\u540E\\u7AEF\\u63A5\\u53E3\\uFF0C\\u83B7\\u53D6\\u6700\\u65B0\\u6570\\u636E\\u7684\\u4E00\\u79CD\\u65B9\\u5F0F\\u3002\\u5B83\\u6709\\u70B9\\u50CF\\u4F60\\u5728\\u7B49\\u4EBA\\u65F6\\u4E0D\\u505C\\u5730\\u770B\\u624B\\u673A\\u6709\\u6CA1\\u6709\\u65B0\\u6D88\\u606F\\u2014\\u2014\\u867D\\u7136\\u6709\\u70B9\\u201C\\u4F4E\\u6548\\u201D\\uFF0C\\u4F46\\u5728\\u67D0\\u4E9B\\u573A\\u666F\\u4E0B\\u5374\\u662F\\u6700\\u7B80\\u5355\\u76F4\\u63A5\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5E38\\u89C1\\u7684\\u8F6E\\u8BE2\\u573A\\u666F\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u5B9E\\u65F6\\u80A1\\u7968\\u4EF7\\u683C\\u66F4\\u65B0 \\u{1F4C8}\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u8BA2\\u5355\\u72B6\\u6001\\u68C0\\u67E5\\uFF08\\u201C\\u6211\\u7684\\u5916\\u5356\\u5230\\u54EA\\u4E86\\uFF1F\\u201D\\uFF09\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u670D\\u52A1\\u5668\\u4EFB\\u52A1\\u8FDB\\u5EA6\\u67E5\\u8BE2\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5F53\\u7136\\uFF0C\\u8F6E\\u8BE2\\u4E0D\\u662F\\u4E07\\u80FD\\u7684\\u3002\\u5982\\u679C\\u540E\\u7AEF\\u652F\\u6301 WebSocket\\uFF0C\\u90A3\\u53EF\\u80FD\\u662F\\u66F4\\u4F18\\u96C5\\u7684\\u9009\\u62E9\\u3002\\u4F46\\u73B0\\u5B9E\\u662F\\uFF0C\\u5F88\\u591A\\u9879\\u76EE\\u91CC\\u540E\\u7AEF\\u63A5\\u53E3\\u5C31\\u90A3\\u4E48\\u201C\\u6734\\u5B9E\\u65E0\\u534E\\u201D\\uFF0C\\u8F6E\\u8BE2\\u6210\\u4E86\\u6211\\u4EEC\\u7684\\u201C\\u6551\\u547D\\u7A3B\\u8349\\u201D\\u3002\\u6240\\u4EE5\\uFF0C\\u638C\\u63E1\\u4E00\\u4E2A\\u7075\\u6D3B\\u7684\\u8F6E\\u8BE2\\u65B9\\u6848\\uFF0C\\u7EDD\\u5BF9\\u662F\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7684\\u5FC5\\u5907\\u6280\\u80FD\\u3002\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u81EA\\u5B9A\\u4E49-hooks-\\u7684\\u8F6E\\u8BE2\\u601D\\u8DEF\",children:(0,n.jsx)(l.a,{href:\"#\\u81EA\\u5B9A\\u4E49-hooks-\\u7684\\u8F6E\\u8BE2\\u601D\\u8DEF\",children:\"\\u81EA\\u5B9A\\u4E49 Hooks \\u7684\\u8F6E\\u8BE2\\u601D\\u8DEF\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728 React \\u4E2D\\uFF0C\\u81EA\\u5B9A\\u4E49 Hooks \\u662F\\u5C01\\u88C5\\u903B\\u8F91\\u7684\\u5229\\u5668\\u3002\\u6211\\u4EEC\\u8981\\u5B9E\\u73B0\\u7684\\u8F6E\\u8BE2 Hook\\uFF0C\\u6838\\u5FC3\\u76EE\\u6807\\u662F\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5B9A\\u65F6\\u8BF7\\u6C42\\u6570\\u636E\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"setInterval\"})})})}),\" \\u6216\\u5176\\u4ED6\\u65B9\\u5F0F\\u5B9E\\u73B0\\u5FAA\\u73AF\\u8C03\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u7BA1\\u7406\\u72B6\\u6001\"}),\"\\uFF1A\\u8FD4\\u56DE\\u6700\\u65B0\\u7684\\u6570\\u636E\\u7ED9\\u7EC4\\u4EF6\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u53EF\\u63A7\\u6027\\u5F3A\"}),\"\\uFF1A\\u652F\\u6301\\u6682\\u505C\\u3001\\u6062\\u590D\\u3001\\u8C03\\u6574\\u95F4\\u9694\\u7B49\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\uFF0C\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u8BF7\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u542C\\u8D77\\u6765\\u4E0D\\u590D\\u6742\\u5BF9\\u5427\\uFF1F\\u4F46\\u9B54\\u9B3C\\u85CF\\u5728\\u7EC6\\u8282\\u91CC\\u3002\\u8BA9\\u6211\\u4EEC\\u4E00\\u6B65\\u6B65\\u62C6\\u89E3\\u3002\"}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u6838\\u5FC3\\u539F\\u7406\\u5B9A\\u65F6\\u5668--\\u6570\\u636E\\u8BF7\\u6C42\",children:(0,n.jsx)(l.a,{href:\"#\\u6838\\u5FC3\\u539F\\u7406\\u5B9A\\u65F6\\u5668--\\u6570\\u636E\\u8BF7\\u6C42\",children:\"\\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u5B9A\\u65F6\\u5668 + \\u6570\\u636E\\u8BF7\\u6C42\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u8F6E\\u8BE2\\u7684\\u6838\\u5FC3\\u662F\\u4E2A\\u201C\\u5FAA\\u73AF\\u201D\\u3002\\u5728 JavaScript \\u4E2D\\uFF0C\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"setInterval\"})})})}),\" \\u662F\\u6700\\u76F4\\u89C2\\u7684\\u5DE5\\u5177\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u7ED3\\u5408 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useState\"})})})}),\" \\u548C \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useEffect\"})})})}),\" \\u6765\\u5B9E\\u73B0\\uFF1A\"]}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[\"\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useState\"})})})}),\" \\u5B58\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[\"\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useEffect\"})})})}),\" \\u8BBE\\u7F6E\\u5B9A\\u65F6\\u5668\\uFF0C\\u5B9A\\u65F6\\u8C03\\u7528\\u63A5\\u53E3\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4F46\\u8FD9\\u53EA\\u662F\\u8D77\\u70B9\\u3002\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\uFF0C\\u6211\\u4EEC\\u8FD8\\u5F97\\u8003\\u8651\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u5982\\u4F55\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\\uFF0C\\u907F\\u514D\\u7EC4\\u4EF6\\u5378\\u8F7D\\u540E\\u7684\\u5185\\u5B58\\u6CC4\\u6F0F\\uFF1F\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u5982\\u4F55\\u8BA9\\u8F6E\\u8BE2\\u652F\\u6301\\u52A8\\u6001\\u914D\\u7F6E\\uFF0C\\u6BD4\\u5982\\u6682\\u505C\\u6216\\u6539\\u53D8\\u95F4\\u9694\\uFF1F\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u5982\\u4F55\\u5904\\u7406\\u8BF7\\u6C42\\u5931\\u8D25\\u7684\\u91CD\\u8BD5\\u903B\\u8F91\\uFF1F\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u522B\\u614C\\uFF0C\\u6211\\u4EEC\\u4F1A\\u4E00\\u6B65\\u6B65\\u89E3\\u51B3\\u8FD9\\u4E9B\\u95EE\\u9898\\u3002\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u57FA\\u7840\\u7248\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u8F6E\\u8BE2-hook\",children:(0,n.jsx)(l.a,{href:\"#\\u57FA\\u7840\\u7248\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u8F6E\\u8BE2-hook\",children:\"\\u57FA\\u7840\\u7248\\uFF1A\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u8F6E\\u8BE2 Hook\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5148\\u4ECE\\u6700\\u7B80\\u5355\\u7684\\u7248\\u672C\\u5F00\\u59CB\\uFF0C\\u770B\\u770B\\u600E\\u4E48\\u7528 Hooks \\u5B9E\\u73B0\\u8F6E\\u8BE2\\u3002\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" usePolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"fetchFn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"interval\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    fetchFn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(setData);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u8BBE\\u7F6E\\u5B9A\\u65F6\\u5668\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" timer\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      fetchFn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(setData);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }, interval);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6E05\\u7406\\u5B9A\\u65F6\\u5668\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" clearInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(timer);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [fetchFn, interval]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" data;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" StockPrice\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchStockPrice\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/stock'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" stockData\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" usePolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(fetchStockPrice, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u5F53\\u524D\\u80A1\\u4EF7: {stockData?.price \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '\\u52A0\\u8F7D\\u4E2D...'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u53D1\\u751F\\u4E86\\u4EC0\\u4E48\",children:(0,n.jsx)(l.a,{href:\"#\\u53D1\\u751F\\u4E86\\u4EC0\\u4E48\",children:\"\\u53D1\\u751F\\u4E86\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u53C2\\u6570\"}),\"\\uFF1A\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"fetchFn\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u8FD4\\u56DE Promise \\u7684\\u51FD\\u6570\\uFF0C\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"interval\"})})})}),\" \\u662F\\u8F6E\\u8BE2\\u95F4\\u9694\\uFF08\\u5355\\u4F4D\\uFF1A\\u6BEB\\u79D2\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u521D\\u6B21\\u8BF7\\u6C42\"}),\"\\uFF1A\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useEffect\"})})})}),\" \\u91CC\\u5148\\u624B\\u52A8\\u8C03\\u7528\\u4E00\\u6B21 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"fetchFn\"})})})}),\"\\uFF0C\\u907F\\u514D\\u7528\\u6237\\u7B49\\u5F85\\u7B2C\\u4E00\\u4E2A\\u5468\\u671F\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5B9A\\u65F6\\u5668\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"setInterval\"})})})}),\" \\u6BCF\\u9694 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"interval\"})})})}),\" \\u65F6\\u95F4\\u8C03\\u7528\\u4E00\\u6B21 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"fetchFn\"})})})}),\"\\uFF0C\\u66F4\\u65B0\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6E05\\u7406\"}),\"\\uFF1A\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\uFF0C\\u901A\\u8FC7 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"return\"})})})}),\" \\u51FD\\u6570\\u6E05\\u9664\\u5B9A\\u65F6\\u5668\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u522B\\u5FD8\\u4E86\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\\uFF0C\\u4E0D\\u7136\\u4F60\\u7684\\u5E94\\u7528\\u53EF\\u80FD\\u4F1A\\u53D8\\u6210\\u201C\\u5B9A\\u65F6\\u70B8\\u5F39\\u201D \\u{1F4A3}\\uFF0C\\u5728\\u540E\\u53F0\\u75AF\\u72C2\\u8DD1\\u4EFB\\u52A1\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8FD9\\u4E2A\\u57FA\\u7840\\u7248\\u5DF2\\u7ECF\\u80FD\\u7528\\u4E86\\uFF0C\\u4F46\\u95EE\\u9898\\u4E5F\\u5F88\\u660E\\u663E\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u6CA1\\u6CD5\\u6682\\u505C\\u6216\\u624B\\u52A8\\u89E6\\u53D1\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u63A5\\u53E3\\u5931\\u8D25\\u4E86\\u600E\\u4E48\\u529E\\uFF1F\"}),`\n`,(0,n.jsxs)(l.li,{children:[\"\\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u91CD\\u65B0\\u521B\\u5EFA \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"fetchFn\"})})})}),\"\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useEffect\"})})})}),\" \\u91CD\\u590D\\u6267\\u884C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8BA9\\u6211\\u4EEC\\u9010\\u6B65\\u5347\\u7EA7\\u5B83\\uFF01\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u8FDB\\u9636\\u7248\\u53EF\\u63A7\\u7684\\u8F6E\\u8BE2-hook\",children:(0,n.jsx)(l.a,{href:\"#\\u8FDB\\u9636\\u7248\\u53EF\\u63A7\\u7684\\u8F6E\\u8BE2-hook\",children:\"\\u8FDB\\u9636\\u7248\\uFF1A\\u53EF\\u63A7\\u7684\\u8F6E\\u8BE2 Hook\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u73B0\\u5B9E\\u4E2D\\uFF0C\\u8F6E\\u8BE2\\u4E0D\\u80FD\\u603B\\u662F\\u201C\\u6B7B\\u5FAA\\u73AF\\u201D\\u4E0B\\u53BB\\u3002\\u6211\\u4EEC\\u9700\\u8981\\u66F4\\u591A\\u63A7\\u5236\\u6743\\uFF0C\\u6BD4\\u5982\\u6682\\u505C\\u3001\\u6062\\u590D\\u3001\\u624B\\u52A8\\u5237\\u65B0\\u3002\\u6765\\u770B\\u8FDB\\u9636\\u7248\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect, useCallback } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" usePolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"fetchFn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"interval\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"isPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setIsPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" poll\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useCallback\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchFn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      setData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(result);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8F6E\\u8BE2\\u51FA\\u9519:'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [fetchFn]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"isPolling) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    poll\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" timer\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(poll, interval);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" clearInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(timer);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [poll, interval, isPolling]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    data,\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    isPolling,\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    startPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setIsPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    stopPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setIsPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    manualPoll: poll, \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u624B\\u52A8\\u89E6\\u53D1\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" OrderStatus\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchOrder\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/order/123'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"isPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"startPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"stopPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"manualPoll\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" usePolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(fetchOrder, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u8BA2\\u5355\\u72B6\\u6001: {data?.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '\\u52A0\\u8F7D\\u4E2D...'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{manualPoll}>\\u624B\\u52A8\\u5237\\u65B0</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{stopPolling} \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"disabled\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"isPolling}>\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        \\u6682\\u505C\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{startPolling} \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"disabled\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{isPolling}>\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        \\u6062\\u590D\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u5347\\u7EA7\\u4EAE\\u70B9\",children:(0,n.jsx)(l.a,{href:\"#\\u5347\\u7EA7\\u4EAE\\u70B9\",children:\"\\u5347\\u7EA7\\u4EAE\\u70B9\"})}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u63A7\\u5236\\u5F00\\u5173\"}),\"\\uFF1A\\u65B0\\u589E \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"isPolling\"})})})}),\" \\u72B6\\u6001\\uFF0C\\u52A8\\u6001\\u63A7\\u5236\\u8F6E\\u8BE2\\u7684\\u5F00\\u542F\\u548C\\u5173\\u95ED\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u624B\\u52A8\\u89E6\\u53D1\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"manualPoll\"})})})}),\" \\u51FD\\u6570\\uFF0C\\u968F\\u65F6\\u53EF\\u4EE5\\u624B\\u52A8\\u5237\\u65B0\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\"}),\"\\uFF1A\\u52A0\\u4E86 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"try-catch\"})})})}),\"\\uFF0C\\u907F\\u514D\\u63A5\\u53E3\\u5931\\u8D25\\u5BFC\\u81F4\\u6574\\u4E2A Hook \\u5D29\\u6389\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"useCallback\"}),\"\\uFF1A\\u5305\\u88C5 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"poll\"})})})}),\" \\u51FD\\u6570\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u91CD\\u65B0\\u521B\\u5EFA\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[\"\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useCallback\"})})})}),\" \\u5305\\u88F9\\u4F9D\\u8D56\\u9891\\u7E41\\u53D8\\u5316\\u7684\\u51FD\\u6570\\uFF0C\\u80FD\\u6709\\u6548\\u51CF\\u5C11 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useEffect\"})})})}),\" \\u7684\\u89E6\\u53D1\\u6B21\\u6570\\uFF0C\\u6027\\u80FD\\u63D0\\u5347\\u4E0D\\u662F\\u4E00\\u70B9\\u70B9\\uFF01\"]}),`\n`]}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u9AD8\\u7EA7\\u7248\\u5E26\\u91CD\\u8BD5\\u548C\\u52A8\\u6001\\u95F4\\u9694\\u7684\\u8F6E\\u8BE2-hook\",children:(0,n.jsx)(l.a,{href:\"#\\u9AD8\\u7EA7\\u7248\\u5E26\\u91CD\\u8BD5\\u548C\\u52A8\\u6001\\u95F4\\u9694\\u7684\\u8F6E\\u8BE2-hook\",children:\"\\u9AD8\\u7EA7\\u7248\\uFF1A\\u5E26\\u91CD\\u8BD5\\u548C\\u52A8\\u6001\\u95F4\\u9694\\u7684\\u8F6E\\u8BE2 Hook\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u57FA\\u7840\\u7248\\u548C\\u8FDB\\u9636\\u7248\\u5DF2\\u7ECF\\u591F\\u7528\\u4E86\\uFF0C\\u4F46\\u771F\\u6B63\\u7684\\u201C\\u5927\\u4F6C\\u201D Hook \\u8FD8\\u5F97\\u8003\\u8651\\u66F4\\u591A\\u3002\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u63A5\\u53E3\\u5931\\u8D25\\u540E\\u81EA\\u52A8\\u91CD\\u8BD5\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u6839\\u636E\\u6761\\u4EF6\\u52A8\\u6001\\u8C03\\u6574\\u8F6E\\u8BE2\\u95F4\\u9694\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u52A0\\u8F7D\\u72B6\\u6001\\u548C\\u9519\\u8BEF\\u72B6\\u6001\\u7684\\u53CD\\u9988\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6765\\u770B\\u7EC8\\u6781\\u7248\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect, useCallback, useRef } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" usePolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"fetchFn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {}) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"interval\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"retries\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 3\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"retryDelay\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 1000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" options;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"isPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setIsPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"isLoading\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setIsLoading\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setError\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" retryCountRef\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7528 ref \\u8BB0\\u5F55\\u91CD\\u8BD5\\u6B21\\u6570\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" poll\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useCallback\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    setIsLoading\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    setError\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchFn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      setData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(result);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      retryCountRef.current \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6210\\u529F\\u540E\\u91CD\\u7F6E\\u91CD\\u8BD5\\u8BA1\\u6570\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      setError\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (retryCountRef.current \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" retries) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        retryCountRef.current \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        setTimeout\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(poll, retryDelay); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u5EF6\\u8FDF\\u91CD\\u8BD5\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"finally\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      setIsLoading\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [fetchFn, retries, retryDelay]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"isPolling) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    poll\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u9996\\u6B21\\u8C03\\u7528\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" timer\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(poll, interval);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" clearInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(timer);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [poll, interval, isPolling]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u52A8\\u6001\\u8C03\\u6574\\u95F4\\u9694\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" updateInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"newInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    clearInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(timer);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    timer \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(poll, newInterval);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    data,\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    isPolling,\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    isLoading,\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    error,\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    startPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setIsPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    stopPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setIsPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    manualPoll: poll,\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    updateInterval,\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ServerTaskMonitor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchTaskStatus\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/task/456'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"isLoading\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"stopPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"updateInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" usePolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(fetchTaskStatus, {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    interval: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"5000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    retries: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    retryDelay: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (data?.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'completed'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      stopPolling\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4EFB\\u52A1\\u5B8C\\u6210\\uFF0C\\u505C\\u6B62\\u8F6E\\u8BE2\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (data?.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'processing'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      updateInterval\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u5904\\u7406\\u4E2D\\uFF0C\\u52A0\\u5FEB\\u8F6E\\u8BE2\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [data, stopPolling, updateInterval]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u4EFB\\u52A1\\u72B6\\u6001: {isLoading \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '\\u52A0\\u8F7D\\u4E2D...'\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" data?.status \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '\\u672A\\u77E5'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      {error \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" style\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{{ color: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'red'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }}>\\u9519\\u8BEF: {error.message}</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u9AD8\\u7EA7\\u529F\\u80FD\\u89E3\\u6790\",children:(0,n.jsx)(l.a,{href:\"#\\u9AD8\\u7EA7\\u529F\\u80FD\\u89E3\\u6790\",children:\"\\u9AD8\\u7EA7\\u529F\\u80FD\\u89E3\\u6790\"})}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u91CD\\u8BD5\\u673A\\u5236\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"retryCountRef\"})})})}),\" \\u8FFD\\u8E2A\\u5931\\u8D25\\u6B21\\u6570\\uFF0C\\u5931\\u8D25\\u540E\\u5EF6\\u8FDF\\u91CD\\u8BD5\\uFF0C\\u8FBE\\u5230\\u4E0A\\u9650\\u540E\\u505C\\u6B62\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u52A8\\u6001\\u95F4\\u9694\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"updateInterval\"})})})}),\" \\u51FD\\u6570\\uFF0C\\u968F\\u65F6\\u8C03\\u6574\\u8F6E\\u8BE2\\u9891\\u7387\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u72B6\\u6001\\u53CD\\u9988\"}),\"\\uFF1A\\u65B0\\u589E \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"isLoading\"})})})}),\" \\u548C \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"error\"})})})}),\"\\uFF0C\\u8BA9\\u7EC4\\u4EF6\\u80FD\\u66F4\\u597D\\u5730\\u5C55\\u793A\\u52A0\\u8F7D\\u548C\\u9519\\u8BEF\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u667A\\u80FD\\u505C\\u6B62\"}),\"\\uFF1A\\u4EFB\\u52A1\\u5B8C\\u6210\\u65F6\\u81EA\\u52A8\\u505C\\u6B62\\u8F6E\\u8BE2\\uFF0C\\u51CF\\u5C11\\u65E0\\u7528\\u8BF7\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[\"\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useRef\"})})})}),\" \\u800C\\u4E0D\\u662F \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useState\"})})})}),\" \\u5B58\\u91CD\\u8BD5\\u6B21\\u6570\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u91CD\\u65B0\\u6E32\\u67D3\\uFF0C\\u6027\\u80FD\\u66F4\\u4F18\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u8F6E\\u8BE2\\u66F4\\u806A\\u660E\",children:(0,n.jsx)(l.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u8F6E\\u8BE2\\u66F4\\u806A\\u660E\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u8F6E\\u8BE2\\u66F4\\u201C\\u806A\\u660E\\u201D\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8F6E\\u8BE2\\u867D\\u7136\\u7B80\\u5355\\uFF0C\\u4F46\\u7528\\u4E0D\\u597D\\u5BB9\\u6613\\u201C\\u7FFB\\u8F66\\u201D\\u3002\\u8FD9\\u91CC\\u603B\\u7ED3\\u51E0\\u4E2A\\u5B9E\\u6218\\u7ECF\\u9A8C\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u6761\\u4EF6\\u8F6E\\u8BE2\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u522B\\u8BA9\\u8F6E\\u8BE2\\u4E00\\u76F4\\u8DD1\\u3002\\u6BD4\\u5982\\u8BA2\\u5355\\u72B6\\u6001\\u53D8\\u6210\\u201C\\u5DF2\\u5B8C\\u6210\\u201D\\uFF0C\\u5C31\\u8BE5\\u505C\\u4E0B\\u6765\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"Tips\"}),\"\\uFF1A\\u7ED3\\u5408\\u4E1A\\u52A1\\u903B\\u8F91\\u5728 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useEffect\"})})})}),\" \\u91CC\\u52A8\\u6001\\u63A7\\u5236 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"stopPolling\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u8282\\u6D41\\u8BF7\\u6C42\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u5982\\u679C\\u7528\\u6237\\u9891\\u7E41\\u64CD\\u4F5C\\uFF08\\u6BD4\\u5982\\u624B\\u52A8\\u5237\\u65B0\\uFF09\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"debounce\"})})})}),\" \\u6216 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"throttle\"})})})}),\" \\u9650\\u5236\\u8BF7\\u6C42\\u9891\\u7387\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"Tips\"}),\"\\uFF1A\\u53EF\\u4EE5\\u7528 lodash \\u7684 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"debounce\"})})})}),\" \\u5305\\u88C5 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"manualPoll\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u9519\\u8BEF\\u63D0\\u793A\\u53CB\\u597D\\u5316\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u522B\\u76F4\\u63A5 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"console.error\"})})})}),\"\\uFF0C\\u7ED9\\u7528\\u6237\\u4E00\\u4E2A\\u53EF\\u8BFB\\u7684\\u63D0\\u793A\\uFF0C\\u6BD4\\u5982\\u201C\\u670D\\u52A1\\u5668\\u5F00\\u5C0F\\u5DEE\\u4E86\\uFF0C\\u8BF7\\u7A0D\\u540E\\u91CD\\u8BD5\\u201D\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"Tips\"}),\"\\uFF1A\\u628A \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"error\"})})})}),\" \\u72B6\\u6001\\u66B4\\u9732\\u51FA\\u53BB\\uFF0C\\u7ED3\\u5408 UI \\u7EC4\\u4EF6\\u5C55\\u793A\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u907F\\u514D\\u91CD\\u590D\\u8BF7\\u6C42\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u5982\\u679C\\u4E0A\\u4E00\\u6B21\\u8BF7\\u6C42\\u8FD8\\u6CA1\\u56DE\\u6765\\uFF0C\\u8003\\u8651\\u8DF3\\u8FC7\\u4E0B\\u4E00\\u6B21\\u8F6E\\u8BE2\\u3002\\u53EF\\u4EE5\\u7528\\u4E00\\u4E2A \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"isFetching\"})})})}),\" \\u6807\\u5FD7\\u4F4D\\u63A7\\u5236\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"Tips\"}),\"\\uFF1A\\u5728 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"poll\"})})})}),\" \\u51FD\\u6570\\u91CC\\u52A0\\u4E2A \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"if (isFetching) return\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u8C03\\u8BD5\\u795E\\u5668\"}),(0,n.jsx)(l.br,{}),`\n`,\"\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u52A0\\u70B9\\u65E5\\u5FD7\\uFF0C\\u65B9\\u4FBF\\u6392\\u67E5\\u95EE\\u9898\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"console.log('\\u8F6E\\u8BE2\\u7B2C ${count} \\u6B21', data)\"})})})}),\"\\u3002\",(0,n.jsx)(l.br,{}),`\n`,(0,n.jsx)(l.strong,{children:\"Tips\"}),\"\\uFF1A\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\u63A7\\u5236\\u65E5\\u5FD7\\u5F00\\u5173\\uFF0C\\u907F\\u514D\\u7EBF\\u4E0A\\u73AF\\u5883\\u5237\\u5C4F\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u7C7B\\u6BD4\\u4E0E\\u5E7D\\u9ED8\\u8F6E\\u8BE2\\u5C31\\u50CF\\u8FFD\\u5267\",children:(0,n.jsx)(l.a,{href:\"#\\u7C7B\\u6BD4\\u4E0E\\u5E7D\\u9ED8\\u8F6E\\u8BE2\\u5C31\\u50CF\\u8FFD\\u5267\",children:\"\\u7C7B\\u6BD4\\u4E0E\\u5E7D\\u9ED8\\uFF1A\\u8F6E\\u8BE2\\u5C31\\u50CF\\u8FFD\\u5267\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u628A\\u8F6E\\u8BE2\\u60F3\\u8C61\\u6210\\u8FFD\\u5267\\uFF1A\\u4F60\\u6BCF\\u9694\\u51E0\\u5206\\u949F\\u5237\\u65B0\\u4E00\\u4E0B B \\u7AD9\\uFF0C\\u770B\\u770B UP \\u4E3B\\u6709\\u6CA1\\u6709\\u66F4\\u65B0\\u89C6\\u9891\\u3002\\u57FA\\u7840\\u7248\\u662F\\u201C\\u6B7B\\u7B49\\u201D\\uFF0C\\u8FDB\\u9636\\u7248\\u80FD\\u201C\\u6682\\u505C\\u8FFD\\u5267\\u201D\\uFF0C\\u9AD8\\u7EA7\\u7248\\u8FD8\\u80FD\\u201C\\u5237\\u5230 404 \\u81EA\\u52A8\\u91CD\\u8BD5\\u201D\\u3002\\u800C\\u6700\\u4F73\\u5B9E\\u8DF5\\u5462\\uFF1F\\u5C31\\u50CF\\u4F60\\u5B66\\u4F1A\\u4E86\\u201C\\u53EA\\u8FFD\\u5B8C\\u7ED3\\u5267\\u201D\\uFF0C\\u7701\\u65F6\\u53C8\\u7701\\u529B \\u{1F602}\\u3002\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u603B\\u7ED3\",children:(0,n.jsx)(l.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u901A\\u8FC7\\u8FD9\\u7BC7\\u535A\\u5BA2\\uFF0C\\u6211\\u4EEC\\u4ECE\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u8F6E\\u8BE2 Hook\\uFF0C\\u8FDB\\u5316\\u5230\\u4E86\\u4E00\\u4E2A\\u529F\\u80FD\\u5F3A\\u5927\\u3001\\u53EF\\u63A7\\u6027\\u5F3A\\u3001\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u9AD8\\u7EA7\\u7248\\u672C\\u3002\\u65E0\\u8BBA\\u662F\\u5B9E\\u65F6\\u6570\\u636E\\u5C55\\u793A\\uFF0C\\u8FD8\\u662F\\u4EFB\\u52A1\\u72B6\\u6001\\u76D1\\u63A7\\uFF0C\\u81EA\\u5B9A\\u4E49 Hooks \\u90FD\\u80FD\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u66F4\\u4F18\\u96C5\\u3001\\u66F4\\u53EF\\u7EF4\\u62A4\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4E0B\\u6B21\\u8001\\u677F\\u518D\\u63D0\\u201C\\u52A0\\u4E2A\\u5B9E\\u65F6\\u66F4\\u65B0\\u201D\\u65F6\\uFF0C\\u4F60\\u53EF\\u4EE5\\u81EA\\u4FE1\\u5730\\u8BF4\\uFF1A\\u201C\\u5C0F\\u83DC\\u4E00\\u789F\\uFF0C\\u6211\\u6709\\u8F6E\\u8BE2 Hook\\uFF01\\u201D\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u5E2E\\u4F60\\u5728\\u524D\\u7AEF\\u8DEF\\u4E0A\\u66F4\\u8FDB\\u4E00\\u6B65\\u3002\\u5982\\u679C\\u4F60\\u6709\\u66F4\\u597D\\u7684\\u5B9E\\u73B0\\u65B9\\u5F0F\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u5206\\u4EAB\\u54E6\\uFF5E\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u628A\\u8F6E\\u8BE2\\u73A9\\u51FA\\u82B1\\u6765\\uFF01\\u{1F31F}\"}),`\n`,(0,n.jsx)(l.hr,{})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}return k(b);})();\n;return Component;"
  },
  "_id": "React/å¦‚ä½•è‡ªå®šä¹‰hookså®ç°æ¥å£è½®è¯¢.mdx",
  "_raw": {
    "sourceFilePath": "React/å¦‚ä½•è‡ªå®šä¹‰hookså®ç°æ¥å£è½®è¯¢.mdx",
    "sourceFileName": "å¦‚ä½•è‡ªå®šä¹‰hookså®ç°æ¥å£è½®è¯¢.mdx",
    "sourceFileDir": "React",
    "contentType": "mdx",
    "flattenedPath": "React/å¦‚ä½•è‡ªå®šä¹‰hookså®ç°æ¥å£è½®è¯¢"
  },
  "type": "Post",
  "url": "/blog/React/å¦‚ä½•è‡ªå®šä¹‰hookså®ç°æ¥å£è½®è¯¢"
}
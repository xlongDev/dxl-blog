{
  "title": "æ·±å…¥ç†è§£ JavaScript åžƒåœ¾å›žæ”¶æœºåˆ¶",
  "date": "2022-07-02T00:00:00.000Z",
  "description": "å…¨é¢è§£æž JavaScript çš„åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼ŒæŽ¢ç´¢å…¶å·¥ä½œåŽŸç†ã€å¸¸è§åžƒåœ¾å›žæ”¶ç®—æ³•ä»¥åŠå¦‚ä½•ä¼˜åŒ–æ€§èƒ½ã€‚",
  "keywords": "JavaScript, åžƒåœ¾å›žæ”¶, GC, å†…å­˜ç®¡ç†, V8, å¼•æ“Žä¼˜åŒ–",
  "author": "æ™“é¾™",
  "image": "/images/hero/js-gc.jpg",
  "tags": [
    "JavaScript",
    "å†…å­˜ç®¡ç†",
    "å‰ç«¯å¼€å‘",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "JavaScript",
  "body": {
    "raw": "\nJavaScript æ˜¯ä¸€ç§åŸºäºŽäº‹ä»¶é©±åŠ¨ã€éžé˜»å¡žçš„ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒçš„å†…å­˜ç®¡ç†æ–¹å¼ä¸Žä¼ ç»Ÿè¯­è¨€æœ‰å¾ˆå¤§çš„ä¸åŒã€‚åœ¨ JavaScript ä¸­ï¼Œåžƒåœ¾å›žæ”¶ï¼ˆGarbage Collectionï¼Œç®€ç§° GCï¼‰æœºåˆ¶è‡ªåŠ¨åœ°å¸®åŠ©å¼€å‘è€…ç®¡ç†å†…å­˜ï¼Œå‡å°‘äº†æ‰‹åŠ¨å†…å­˜ç®¡ç†çš„å¤æ‚æ€§ã€‚ç„¶è€Œï¼Œç†è§£åžƒåœ¾å›žæ”¶çš„å·¥ä½œåŽŸç†å’Œä¼˜åŒ–ç­–ç•¥ï¼Œèƒ½è®©ä½ å†™å‡ºæ›´é«˜æ•ˆã€æ›´ç¨³å®šçš„ JavaScript ä»£ç ã€‚\n\n## åžƒåœ¾å›žæ”¶æœºåˆ¶ç®€ä»‹\n\nJavaScript çš„åžƒåœ¾å›žæ”¶æœºåˆ¶ä¸»è¦é€šè¿‡è‡ªåŠ¨æ£€æµ‹å’Œé‡Šæ”¾ä¸å†ä½¿ç”¨çš„å†…å­˜æ¥ç®¡ç†ç¨‹åºè¿è¡Œä¸­çš„å†…å­˜èµ„æºã€‚åžƒåœ¾å›žæ”¶å™¨ä¼šå®šæœŸæŸ¥æ‰¾æ— ç”¨çš„å¯¹è±¡ï¼Œå¹¶å°†å®ƒä»¬ä»Žå†…å­˜ä¸­ç§»é™¤ï¼Œä»Žè€Œé¿å…å†…å­˜æ³„æ¼ã€‚\n\n### å†…å­˜ç®¡ç†åŸºç¡€\n\nåœ¨ JavaScript ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ç­‰éƒ½å ç”¨å†…å­˜ã€‚åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“è¿™äº›å¯¹è±¡ä¸å†è¢«å¼•ç”¨æ—¶ï¼Œå®ƒä»¬å°±å˜æˆäº†â€œåžƒåœ¾â€ï¼Œè¿™æ—¶åžƒåœ¾å›žæ”¶å™¨ä¼šå°†å®ƒä»¬é”€æ¯ï¼Œé‡Šæ”¾å†…å­˜ã€‚\n\nå½“ç¨‹åºåˆ›å»ºä¸€ä¸ªå¯¹è±¡æˆ–å˜é‡æ—¶ï¼ŒJavaScript å¼•æ“Žä¼šä¸ºè¯¥å¯¹è±¡åˆ†é…ä¸€å—å†…å­˜ã€‚å½“è¯¥å¯¹è±¡ä¸å†ä½¿ç”¨æ—¶ï¼Œåžƒåœ¾å›žæ”¶æœºåˆ¶ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ¸…ç†å®ƒã€‚ä¸ºäº†è®©åžƒåœ¾å›žæ”¶å™¨å‡†ç¡®åˆ¤æ–­å“ªäº›å¯¹è±¡ä¸å†è¢«å¼•ç”¨ï¼ŒJavaScript ä½¿ç”¨äº†å¼•ç”¨è®¡æ•°å’Œå¯è¾¾æ€§åˆ†æžç­‰ç®—æ³•ã€‚\n\n## åžƒåœ¾å›žæ”¶çš„ç®—æ³•\n\nJavaScript ä¸­å¸¸è§çš„åžƒåœ¾å›žæ”¶ç®—æ³•ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š\n\n### 1. å¼•ç”¨è®¡æ•°ç®—æ³•\n\nå¼•ç”¨è®¡æ•°ç®—æ³•é€šè¿‡è·Ÿè¸ªæ¯ä¸ªå¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°æ¥åˆ¤æ–­è¯¥å¯¹è±¡æ˜¯å¦å¯ä»¥è¢«å›žæ”¶ã€‚å½“ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°ä¸ºé›¶æ—¶ï¼Œåžƒåœ¾å›žæ”¶å™¨ä¼šç«‹å³é”€æ¯è¯¥å¯¹è±¡å¹¶é‡Šæ”¾å…¶å ç”¨çš„å†…å­˜ã€‚\n\n#### å¼•ç”¨è®¡æ•°ç®—æ³•çš„ç¼ºç‚¹\n\nè™½ç„¶å¼•ç”¨è®¡æ•°ç®—æ³•å¾ˆç®€å•ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹â€”â€”**å¾ªçŽ¯å¼•ç”¨**ã€‚å½“ä¸¤ä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨æ—¶ï¼Œå°½ç®¡å®ƒä»¬ä¹‹é—´æ²¡æœ‰ä»»ä½•å¤–éƒ¨å¼•ç”¨ï¼Œä½†å®ƒä»¬çš„å¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šä¸ºé›¶ï¼Œå› æ­¤æ— æ³•è¢«åžƒåœ¾å›žæ”¶å™¨æ¸…ç†ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼š\n\n```javascript\nlet a = {};\nlet b = {};\na.b = b;\nb.a = a;\n```\n\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ`a` å’Œ `b` äº’ç›¸å¼•ç”¨ï¼Œä½†æ²¡æœ‰å…¶ä»–å¤–éƒ¨å¼•ç”¨ã€‚å¼•ç”¨è®¡æ•°å™¨æ— æ³•å¤„ç†è¿™ç§æƒ…å†µï¼Œå› æ­¤å†…å­˜ä¸ä¼šè¢«åŠæ—¶é‡Šæ”¾ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚\n\n### 2. æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆMark-and-Sweepï¼‰\n\næ ‡è®°æ¸…é™¤ç®—æ³•æ˜¯çŽ°ä»£ JavaScript å¼•æ“Žå¸¸ç”¨çš„åžƒåœ¾å›žæ”¶ç®—æ³•ã€‚å…¶æ ¸å¿ƒæ€è·¯æ˜¯é€šè¿‡â€œæ ‡è®°â€æ´»è·ƒå¯¹è±¡ï¼Œå¹¶â€œæ¸…é™¤â€ä¸å¯è¾¾å¯¹è±¡æ¥å›žæ”¶å†…å­˜ã€‚\n\n#### æ ‡è®°é˜¶æ®µ\n\nåœ¨æ ‡è®°é˜¶æ®µï¼Œåžƒåœ¾å›žæ”¶å™¨ä»Žæ ¹å¯¹è±¡ï¼ˆå¦‚å…¨å±€å¯¹è±¡ã€å‡½æ•°çš„å±€éƒ¨å˜é‡ç­‰ï¼‰å‡ºå‘ï¼ŒéåŽ†æ‰€æœ‰å¯è¾¾å¯¹è±¡å¹¶æ ‡è®°å®ƒä»¬ä¸ºâ€œæ´»è·ƒâ€ã€‚æ‰€æœ‰æ— æ³•é€šè¿‡æ ¹å¯¹è±¡è®¿é—®åˆ°çš„å¯¹è±¡éƒ½è¢«è®¤ä¸ºæ˜¯ä¸å¯è¾¾çš„ã€‚\n\n#### æ¸…é™¤é˜¶æ®µ\n\nåœ¨æ¸…é™¤é˜¶æ®µï¼Œåžƒåœ¾å›žæ”¶å™¨ä¼šæ‰«æå†…å­˜ä¸­æ‰€æœ‰å¯¹è±¡ï¼Œåˆ é™¤æ‰€æœ‰æ ‡è®°ä¸ºä¸å¯è¾¾çš„å¯¹è±¡ï¼Œå¹¶å›žæ”¶å®ƒä»¬å ç”¨çš„å†…å­˜ã€‚\n\n### 3. å¼•ç”¨è·Ÿè¸ªç®—æ³•ï¼ˆTracingï¼‰\n\nå¼•ç”¨è·Ÿè¸ªç®—æ³•æ˜¯é€šè¿‡è¿½è¸ªæ‰€æœ‰å¯è¾¾å¯¹è±¡çš„å¼•ç”¨é“¾æ¥è¿›è¡Œåžƒåœ¾å›žæ”¶ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œåžƒåœ¾å›žæ”¶å™¨ä¼šä¸æ–­æ‰«æå†…å­˜ä¸­çš„å¯¹è±¡å¹¶è®°å½•å¯¹è±¡ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼Œæœ€ç»ˆåˆ é™¤é‚£äº›æ²¡æœ‰å¼•ç”¨çš„å¯¹è±¡ã€‚\n\nè¿™ç§æ–¹æ³•æ›´åŠ é«˜æ•ˆï¼Œå°¤å…¶é€‚ç”¨äºŽå¤æ‚çš„å¯¹è±¡å›¾ç»“æž„ï¼Œèƒ½å¤Ÿå¤„ç†å¾ªçŽ¯å¼•ç”¨é—®é¢˜ã€‚\n\n## âš¡ JavaScript ä¸­çš„åžƒåœ¾å›žæ”¶è§¦å‘æœºåˆ¶\n\nåœ¨ JavaScript çš„ä¸–ç•Œé‡Œï¼Œåžƒåœ¾å›žæ”¶å™¨å°±åƒä¸€æ”¯æ™ºèƒ½çŽ¯å«é˜Ÿï¼Œå®ƒä»¬å¹¶ä¸æ˜¯ 24 å°æ—¶ä¸é—´æ–­å·¥ä½œçš„ï¼Œè€Œæ˜¯æ ¹æ®ç‰¹å®šçš„\"åŸŽå¸‚æ¸…æ´æŒ‡æ ‡\"æ¥å†³å®šä½•æ—¶å¼€å±•æ¸…ç†è¡ŒåŠ¨ã€‚è¿™äº›æ¸…æ´å·¥ä½œé€šå¸¸æ˜¯ç”±å¼•æ“Žçš„**åŽå°çº¿ç¨‹**ï¼ˆå°±åƒå¤œé—´ä½œä¸šçš„æ¸…æ´å·¥äººï¼‰åœ¨åŸŽå¸‚è¾ƒä¸ºå®‰é™çš„æ—¶å€™è¿›è¡Œï¼Œæˆ–è€…åœ¨\"åžƒåœ¾å †ç§¯\"ï¼ˆå†…å­˜å ç”¨ï¼‰è¾¾åˆ°è­¦æˆ’çº¿æ—¶ç«‹å³è¡ŒåŠ¨ã€‚\n\n### 1. ðŸ•’ åžƒåœ¾å›žæ”¶çš„è§¦å‘æ—¶æœº\n\nå°±åƒåŸŽå¸‚çŽ¯å«å·¥ä½œä¸€æ ·ï¼Œåžƒåœ¾å›žæ”¶å™¨çš„\"å‡ºå‹¤æ—¶é—´\"å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œé€šå¸¸ä¼šåœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µå¯åŠ¨æ¸…ç†è¡ŒåŠ¨ï¼š\n\n- **å†…å­˜å ç”¨è¾¾åˆ°è­¦æˆ’çº¿** ðŸš¨ï¼šå½“ JavaScript å¼•æ“Žå‘çŽ°\"åŸŽå¸‚åžƒåœ¾åœº\"ï¼ˆå¯ç”¨å†…å­˜ï¼‰å³å°†è£…æ»¡æ—¶ï¼Œä¼šç´§æ€¥å¯åŠ¨æ¸…ç†è¡ŒåŠ¨ã€‚\n- **åŸŽå¸‚ç©ºé—²æ—¶æ®µ** ðŸŒ™ï¼šçŽ°ä»£ JavaScript å¼•æ“Žä¼šé€‰æ‹©åœ¨\"åŸŽå¸‚è¾ƒä¸ºå®‰é™\"çš„æ—¶å€™ï¼ˆç©ºé—²æ—¶é—´ï¼‰è‡ªåŠ¨å¼€å±•æ¸…ç†å·¥ä½œï¼Œå°±åƒçŽ¯å«å·¥äººé€‰æ‹©åœ¨æ·±å¤œæ¸…æ‰«è¡—é“ä¸€æ ·ï¼Œé¿å…å½±å“å¸‚æ°‘çš„æ—¥å¸¸ç”Ÿæ´»ï¼ˆä¸»çº¿ç¨‹çš„æ­£å¸¸è¿è¡Œï¼‰ã€‚\n- **ç‰¹æ®Šæ¸…ç†æŒ‡ä»¤** ðŸŽ¯ï¼šåœ¨æŸäº›ç‰¹æ®ŠçŽ¯å¢ƒä¸‹ï¼ˆä¾‹å¦‚ Node.jsï¼‰ï¼ŒåŸŽå¸‚ç®¡ç†è€…å¯ä»¥é€šè¿‡ç‰¹æ®ŠæŒ‡ä»¤ï¼ˆ`global.gc()`ï¼‰å¼ºåˆ¶å¯åŠ¨ä¸€æ¬¡å…¨åŸŽå¤§æ‰«é™¤ï¼Œä½†è¿™ç§åšæ³•å¹¶ä¸æŽ¨èåœ¨æ—¥å¸¸è¿è¥ï¼ˆç”Ÿäº§çŽ¯å¢ƒï¼‰ä¸­ä½¿ç”¨ã€‚\n\n### 2. ðŸš° å†…å­˜æ³„æ¼\n\nå°±åƒåŸŽå¸‚çš„ä¾›æ°´ç³»ç»Ÿä¸€æ ·ï¼Œå°½ç®¡æœ‰å…ˆè¿›çš„ç®¡é“ç½‘ç»œï¼ˆåžƒåœ¾å›žæ”¶æœºåˆ¶ï¼‰ï¼Œä½†æ°´èµ„æºçš„æµªè´¹ï¼ˆå†…å­˜æ³„æ¼ï¼‰ä»ç„¶æ˜¯ä¸€ä¸ªå¸¸è§é—®é¢˜ã€‚å†…å­˜æ³„æ¼å°±åƒæ°´ç®¡ä¸­çš„æ¼æ´žï¼Œè™½ç„¶æ°´é¾™å¤´å·²ç»å…³é—­ï¼ˆå¯¹è±¡ä¸å†ä½¿ç”¨ï¼‰ï¼Œä½†æ°´ä¾ç„¶åœ¨ä¸çŸ¥ä¸è§‰ä¸­æµå¤±ï¼ˆè¢«æ„å¤–å¼•ç”¨ï¼‰ï¼Œå¯¼è‡´æ°´åŠ¡å·¥äººï¼ˆåžƒåœ¾å›žæ”¶å™¨ï¼‰æ— æ³•åŠæ—¶å…³é—­è¿™äº›æ¼ç‚¹ã€‚\n\nè®©æˆ‘ä»¬çœ‹çœ‹å‡ ç§å¸¸è§çš„\"æ¼æ°´ç‚¹\"ï¼ˆå†…å­˜æ³„æ¼åŽŸå› ï¼‰ï¼š\n\n- **é—­åŒ…** ðŸ”’ï¼šå°±åƒä¸€ä¸ªä¸Šäº†é”çš„å‚¨ç‰©æŸœï¼Œå¦‚æžœå¿˜è®°åŠæ—¶æ¸…ç©ºï¼ˆæœªæ­£ç¡®é‡Šæ”¾ï¼‰ï¼Œé‡Œé¢çš„ç‰©å“å°±ä¼šä¸€ç›´å ç”¨ç©ºé—´ã€‚\n- **DOM å¼•ç”¨** ðŸŒ²ï¼šæƒ³è±¡ä¸€æ£µè¢«ç å€’çš„æ ‘ï¼ˆè¢«åˆ é™¤çš„ DOM å…ƒç´ ï¼‰ï¼Œå¦‚æžœå®ƒçš„æ ¹ç³»è¿˜è¿žç€å…¶ä»–æ¤ç‰©ï¼ˆå­˜åœ¨å¼•ç”¨ï¼‰ï¼Œå›­ä¸ï¼ˆåžƒåœ¾å›žæ”¶å™¨ï¼‰å°±æ— æ³•å®Œå…¨æ¸…ç†è¿™å—åœ°æ–¹ã€‚\n- **å…¨å±€å˜é‡** ðŸŒï¼šå°±åƒåœ¨å…¬å…±åœºæ‰€éšæ„å †æ”¾çš„ç‰©å“ï¼Œå¦‚æžœæ²¡æœ‰äººä¸»åŠ¨æ¸…ç†ï¼Œå®ƒä»¬å¯èƒ½ä¼šé•¿æœŸå ç”¨å…¬å…±ç©ºé—´ã€‚\n\n## ðŸš€ V8 å¼•æ“Žçš„åžƒåœ¾å›žæ”¶ä¼˜åŒ–ç­–ç•¥\n\næƒ³è±¡ä¸€ä¸‹ï¼ŒçŽ°ä»£ JavaScript å¼•æ“Žï¼ˆå¦‚ V8ï¼‰å°±åƒä¸€åº§æ™ºèƒ½åŒ–çš„åžƒåœ¾å¤„ç†åŽ‚ï¼Œå®ƒé‡‡ç”¨äº†åˆ†ä»£å¼åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼Œå°±åƒå°†åžƒåœ¾åˆ†ç±»å¤„ç†ä¸€æ ·ï¼ŒæŠŠå†…å­˜ç©ºé—´åˆ†ä¸ºæ–°ç”Ÿä»£ï¼ˆYoung Generationï¼Œç±»ä¼¼äºŽæ˜“è…åžƒåœ¾ï¼‰å’Œè€ç”Ÿä»£ï¼ˆOld Generationï¼Œç±»ä¼¼äºŽå¯å›žæ”¶ç‰©ï¼‰ï¼Œå¹¶é’ˆå¯¹ä¸åŒç±»åž‹é‡‡ç”¨ä¸åŒçš„å¤„ç†ç­–ç•¥ï¼š\n\n1. **æ–°ç”Ÿä»£å›žæ”¶ï¼ˆScavenge ç®—æ³•ï¼‰** ðŸŒ±ï¼š\n\n   - å°±åƒåŒç­’åžƒåœ¾æ¡¶ç³»ç»Ÿï¼Œé‡‡ç”¨ Cheney ç®—æ³•å°†å†…å­˜åˆ†ä¸º From ç©ºé—´ï¼ˆå½“å‰ä½¿ç”¨çš„åžƒåœ¾æ¡¶ï¼‰å’Œ To ç©ºé—´ï¼ˆå¤‡ç”¨åžƒåœ¾æ¡¶ï¼‰\n   - æ¯æ¬¡æ¸…ç†æ—¶ï¼Œå°†è¿˜åœ¨ä½¿ç”¨çš„ç‰©å“ï¼ˆå­˜æ´»å¯¹è±¡ï¼‰è½¬ç§»åˆ°å¤‡ç”¨åžƒåœ¾æ¡¶ï¼ˆTo ç©ºé—´ï¼‰\n   - å¦‚æžœæŸäº›ç‰©å“ï¼ˆå¯¹è±¡ï¼‰ç»è¿‡å¤šæ¬¡æ¸…ç†ä¾ç„¶ä¿ç•™ï¼Œå°±ä¼šè¢«è½¬ç§»åˆ°å¯å›žæ”¶ç‰©ä»“åº“ï¼ˆæ™‹å‡åˆ°è€ç”Ÿä»£ï¼‰\n\n   ```javascript\n   // å¯¹è±¡æ™‹å‡ç¤ºä¾‹\n   function createLargeObject() {\n     const obj = new Array(1000000);\n     return () => obj; // é—­åŒ…ä¿æŒå¼•ç”¨\n   }\n   const keepAlive = createLargeObject();\n   ```\n\n2. **è€ç”Ÿä»£å›žæ”¶ï¼ˆMark-Sweep-Compactï¼‰** ðŸ“¦ï¼š\n   - åƒåˆ†ç±»è´´æ ‡ç­¾ä¸€æ ·ï¼Œä½¿ç”¨ä¸‰è‰²æ ‡è®°æ³•ï¼ˆç™½è‰²ä»£è¡¨å¯å›žæ”¶ã€ç°è‰²ä»£è¡¨æ­£åœ¨å¤„ç†ã€é»‘è‰²ä»£è¡¨éœ€è¦ä¿ç•™ï¼‰\n   - é‡‡ç”¨å¢žé‡æ ‡è®°ï¼ˆIncremental Markingï¼‰æŠ€æœ¯ï¼Œå°±åƒåˆ†æ‰¹æ¬¡å¤„ç†åžƒåœ¾ï¼Œé¿å…å¤„ç†æ—¶é—´è¿‡é•¿å½±å“æ—¥å¸¸ç”Ÿæ´»ï¼ˆä¸»çº¿ç¨‹ï¼‰\n   - åƒå¤šæ¡åžƒåœ¾å¤„ç†æµæ°´çº¿å¹¶è¡Œå·¥ä½œä¸€æ ·ï¼Œåˆ©ç”¨å¤šæ ¸ CPU ä¼˜åŠ¿æé«˜å¤„ç†æ•ˆçŽ‡\n\n### ä¸åŒæµè§ˆå™¨çš„ GC è¡Œä¸ºå·®å¼‚\n\n| æµè§ˆå™¨  | æ–°ç”Ÿä»£ç­–ç•¥      | è€ç”Ÿä»£å›žæ”¶é˜ˆå€¼ | å¢žé‡æ ‡è®°æ”¯æŒ |\n| ------- | --------------- | -------------- | ------------ |\n| Chrome  | å¹¶è¡Œ Scavenge   | å†…å­˜å ç”¨ 70%   | âœ“            |\n| Firefox | å•çº¿ç¨‹ Scavenge | å†…å­˜å ç”¨ 85%   | âœ“            |\n| Safari  | åˆ†å—å¼å›žæ”¶      | åŠ¨æ€è°ƒæ•´       | â–³            |\n\n## å®žé™…å¼€å‘ä¸­çš„å†…å­˜æ³„æ¼æ¡ˆä¾‹\n\n### SPA è·¯ç”±æ³„æ¼é—®é¢˜\n\n```javascript\n// é”™è¯¯ç¤ºä¾‹ï¼šæœªæ¸…ç†çš„è·¯ç”±ç›‘å¬\nconst history = createBrowserHistory();\n\nclass UserPage extends React.Component {\n  componentDidMount() {\n    this.unlisten = history.listen(() => {\n      // è·¯ç”±å˜åŒ–å¤„ç†\n    });\n  }\n\n  // ç¼ºå°‘componentWillUnmount\n}\n\n// æ­£ç¡®åšæ³•ï¼š\ncomponentWillUnmount() {\n  this.unlisten();\n}\n```\n\n### å®šæ—¶å™¨æ³„æ¼\n\n```javascript\n// é”™è¯¯ç¤ºä¾‹ï¼šæœªæ¸…é™¤çš„å®šæ—¶å™¨\nfunction startAnalytics() {\n  setInterval(() => {\n    trackUserBehavior();\n  }, 5000);\n}\n\n// æ­£ç¡®åšæ³•ï¼š\nconst timerId = setInterval(...);\nwindow.addEventListener('beforeunload', () => {\n  clearInterval(timerId);\n});\n```\n\n## æ€§èƒ½åˆ†æžå·¥å…·å®žæˆ˜\n\n### Chrome Memory é¢æ¿ä½¿ç”¨ç¤ºä¾‹\n\n1. æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Memory é¢æ¿\n2. æ‰§è¡Œã€ŒTake heap snapshotã€åˆ›å»ºåŸºå‡†å¿«ç…§\n3. æ‰§è¡Œå¯ç–‘æ“ä½œåŽåˆ›å»ºå¯¹æ¯”å¿«ç…§\n4. ä½¿ç”¨ã€ŒComparisonã€è§†å›¾åˆ†æžå¯¹è±¡åˆ†é…å·®å¼‚\n\n![Chromeå †å¿«ç…§å¯¹æ¯”ç¤ºæ„å›¾](/images/chrome-heap-snapshot.png)\n\n### å†…å­˜æ—¶é—´çº¿åˆ†æž\n\n```javascript\n// å†…å­˜æ³„æ¼æ£€æµ‹ç¤ºä¾‹\nfunction createLeak() {\n  const hugeArray = new Array(1000000);\n  window.leak = hugeArray; // äººä¸ºåˆ¶é€ æ³„æ¼\n}\n\n// åœ¨Chrome Performanceé¢æ¿å½•åˆ¶æ—¶åå¤è°ƒç”¨\nsetInterval(createLeak, 1000);\n```\n\n## WeakMap åº”ç”¨åœºæ™¯\n\n### DOM èŠ‚ç‚¹å…ƒæ•°æ®ç®¡ç†\n\n```javascript\nconst domMetadata = new WeakMap();\n\nfunction attachMetadata(element, data) {\n  domMetadata.set(element, {\n    ...data,\n    lastAccessed: Date.now(),\n  });\n}\n\n// å½“DOMèŠ‚ç‚¹è¢«ç§»é™¤æ—¶ï¼Œmetadataè‡ªåŠ¨å›žæ”¶\n```\n\n### ç§æœ‰å±žæ€§æ¨¡æ‹Ÿ\n\n```javascript\nconst privateData = new WeakMap();\n\nclass User {\n  constructor(name) {\n    privateData.set(this, { name });\n  }\n\n  getName() {\n    return privateData.get(this).name;\n  }\n}\n```\n\n## Node.js å†…å­˜ç›‘æŽ§æ–¹æ³•\n\n### å†…ç½®å†…å­˜ç»Ÿè®¡\n\n```javascript\n// å®žæ—¶å†…å­˜ç›‘æŽ§\nsetInterval(() => {\n  const { rss, heapTotal, heapUsed } = process.memoryUsage();\n  console.table({\n    \"Resident Set\": `${(rss / 1024 / 1024).toFixed(2)}MB`,\n    \"Heap Total\": `${(heapTotal / 1024 / 1024).toFixed(2)}MB`,\n    \"Heap Used\": `${(heapUsed / 1024 / 1024).toFixed(2)}MB`,\n  });\n}, 5000);\n```\n\n### Clinic.js è¯Šæ–­å·¥å…·\n\n```bash\n# å®‰è£…è¯Šæ–­å·¥å…·\nnpm install -g clinic\n\n# å†…å­˜æ³„æ¼æ£€æµ‹\nclinic heapprofiler -- node server.js\n```\n\n## å¦‚ä½•ä¼˜åŒ–åžƒåœ¾å›žæ”¶æ€§èƒ½\n\nå°½ç®¡åžƒåœ¾å›žæ”¶åœ¨çŽ°ä»£ JavaScript å¼•æ“Žä¸­å·²ç»å˜å¾—éžå¸¸é«˜æ•ˆï¼Œä½†ç¨‹åºå‘˜ä¾ç„¶å¯ä»¥é‡‡å–ä»¥ä¸‹æŽªæ–½ä¼˜åŒ–æ€§èƒ½ï¼š\n\n### 1. å‡å°‘ä¸å¿…è¦çš„å…¨å±€å˜é‡\n\nå…¨å±€å˜é‡ä¼šé•¿æœŸå ç”¨å†…å­˜ï¼Œå¹¶ä¸”å®ƒä»¬ä¸å®¹æ˜“è¢«åžƒåœ¾å›žæ”¶å™¨æ¸…é™¤ã€‚å°½é‡é¿å…ä½¿ç”¨å…¨å±€å˜é‡ï¼Œç‰¹åˆ«æ˜¯å½“å®ƒä»¬ä¸å†éœ€è¦æ—¶ã€‚\n\n### 2. åŠæ—¶é‡Šæ”¾ DOM å¼•ç”¨\n\nåœ¨å¤„ç† DOM å…ƒç´ æ—¶ï¼Œå¦‚æžœå…ƒç´ ä¸å†éœ€è¦ï¼ŒåŠ¡å¿…åŠæ—¶åˆ é™¤å¯¹å®ƒçš„å¼•ç”¨ã€‚é€šè¿‡ä½¿ç”¨ `null` æˆ– `undefined` æ¥æ¸…é™¤å¼•ç”¨ï¼Œå¸®åŠ©åžƒåœ¾å›žæ”¶å™¨å›žæ”¶è¿™äº›å¯¹è±¡ã€‚\n\n### 3. ä½¿ç”¨ `WeakMap` å’Œ `WeakSet`\n\n`WeakMap` å’Œ `WeakSet` æ˜¯ JavaScript ä¸­çš„å¼±å¼•ç”¨æ•°æ®ç»“æž„ï¼Œä½¿ç”¨è¿™äº›ç»“æž„å¯ä»¥é¿å…å¼ºå¼•ç”¨å¯¹å¯¹è±¡çš„æŒæœ‰ï¼Œé˜²æ­¢å®ƒä»¬æ— æ³•è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶ã€‚\n\n### 4. ç›‘æŽ§å’Œè°ƒè¯•å†…å­˜\n\nçŽ°ä»£æµè§ˆå™¨å’Œ Node.js æä¾›äº†å†…å­˜åˆ†æžå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ£€æµ‹å†…å­˜æ³„æ¼å’Œä¼˜åŒ–å†…å­˜ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼ŒChrome DevTools ä¸­çš„ Memory é¢æ¿å¯ä»¥å¸®åŠ©ä½ æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µå¹¶è¯†åˆ«å¯èƒ½çš„æ³„æ¼ã€‚\n\n## æ€»ç»“\n\nJavaScript çš„åžƒåœ¾å›žæ”¶æœºåˆ¶ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºŽä»£ç çš„é€»è¾‘è€Œä¸å¿…è¿‡å¤šæ‹…å¿ƒå†…å­˜ç®¡ç†ã€‚ç†è§£åžƒåœ¾å›žæ”¶çš„åŽŸç†å’Œä¼˜åŒ–ç­–ç•¥ï¼Œå¯ä»¥å¸®åŠ©ä½ å†™å‡ºæ›´é«˜æ•ˆã€å¥å£®çš„ä»£ç ã€‚é€šè¿‡åˆç†ä½¿ç”¨ JavaScript æä¾›çš„å·¥å…·å’Œæ•°æ®ç»“æž„ï¼ŒåŠæ—¶é‡Šæ”¾ä¸å¿…è¦çš„èµ„æºï¼Œä½ å¯ä»¥æœ‰æ•ˆæé«˜ç¨‹åºçš„æ€§èƒ½ï¼Œé¿å…å¸¸è§çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚\n\nå¯¹äºŽå¼€å‘è€…è€Œè¨€ï¼ŒæŽŒæ¡åžƒåœ¾å›žæ”¶æœºåˆ¶çš„å·¥ä½œåŽŸç†ä»¥åŠå¦‚ä½•ä¼˜åŒ–æ€§èƒ½ï¼Œå°†æ˜¯æå‡ç¼–ç æ°´å¹³çš„é‡è¦ä¸€æ­¥ã€‚å¸Œæœ›æœ¬æ–‡çš„è®²è§£èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ JavaScript çš„å†…å­˜ç®¡ç†ï¼Œå¹¶åœ¨å®žé™…å¼€å‘ä¸­åº”ç”¨è¿™äº›çŸ¥è¯†ã€‚\n",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),B=(l,e)=>{for(var r in e)c(l,r,{get:e[r],enumerable:!0})},i=(l,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of E(e))!g.call(l,a)&&a!==r&&c(l,a,{get:()=>e[a],enumerable:!(d=y(e,a))||d.enumerable});return l};var m=(l,e,r)=>(r=l!=null?p(F(l)):{},i(e||!l||!l.__esModule?c(r,\"default\",{value:l,enumerable:!0}):r,l)),f=l=>i(c({},\"__esModule\",{value:!0}),l);var s=u((C,t)=>{t.exports=_jsx_runtime});var b={};B(b,{default:()=>o,frontmatter:()=>v});var n=m(s()),v={type:\"Post\",title:\"\\u6DF1\\u5165\\u7406\\u89E3 JavaScript \\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\",date:\"2022-07-02\",description:\"\\u5168\\u9762\\u89E3\\u6790 JavaScript \\u7684\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\uFF0C\\u63A2\\u7D22\\u5176\\u5DE5\\u4F5C\\u539F\\u7406\\u3001\\u5E38\\u89C1\\u5783\\u573E\\u56DE\\u6536\\u7B97\\u6CD5\\u4EE5\\u53CA\\u5982\\u4F55\\u4F18\\u5316\\u6027\\u80FD\\u3002\",keywords:\"JavaScript, \\u5783\\u573E\\u56DE\\u6536, GC, \\u5185\\u5B58\\u7BA1\\u7406, V8, \\u5F15\\u64CE\\u4F18\\u5316\",author:\"\\u6653\\u9F99\",image:\"/images/hero/js-gc.jpg\",tags:[\"JavaScript\",\"\\u5185\\u5B58\\u7BA1\\u7406\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"JavaScript\"};function h(l){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"JavaScript \\u662F\\u4E00\\u79CD\\u57FA\\u4E8E\\u4E8B\\u4EF6\\u9A71\\u52A8\\u3001\\u975E\\u963B\\u585E\\u7684\\u7F16\\u7A0B\\u8BED\\u8A00\\uFF0C\\u5B83\\u7684\\u5185\\u5B58\\u7BA1\\u7406\\u65B9\\u5F0F\\u4E0E\\u4F20\\u7EDF\\u8BED\\u8A00\\u6709\\u5F88\\u5927\\u7684\\u4E0D\\u540C\\u3002\\u5728 JavaScript \\u4E2D\\uFF0C\\u5783\\u573E\\u56DE\\u6536\\uFF08Garbage Collection\\uFF0C\\u7B80\\u79F0 GC\\uFF09\\u673A\\u5236\\u81EA\\u52A8\\u5730\\u5E2E\\u52A9\\u5F00\\u53D1\\u8005\\u7BA1\\u7406\\u5185\\u5B58\\uFF0C\\u51CF\\u5C11\\u4E86\\u624B\\u52A8\\u5185\\u5B58\\u7BA1\\u7406\\u7684\\u590D\\u6742\\u6027\\u3002\\u7136\\u800C\\uFF0C\\u7406\\u89E3\\u5783\\u573E\\u56DE\\u6536\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u548C\\u4F18\\u5316\\u7B56\\u7565\\uFF0C\\u80FD\\u8BA9\\u4F60\\u5199\\u51FA\\u66F4\\u9AD8\\u6548\\u3001\\u66F4\\u7A33\\u5B9A\\u7684 JavaScript \\u4EE3\\u7801\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u7B80\\u4ECB\",children:(0,n.jsx)(e.a,{href:\"#\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u7B80\\u4ECB\",children:\"\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u7B80\\u4ECB\"})}),`\n`,(0,n.jsx)(e.p,{children:\"JavaScript \\u7684\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u4E3B\\u8981\\u901A\\u8FC7\\u81EA\\u52A8\\u68C0\\u6D4B\\u548C\\u91CA\\u653E\\u4E0D\\u518D\\u4F7F\\u7528\\u7684\\u5185\\u5B58\\u6765\\u7BA1\\u7406\\u7A0B\\u5E8F\\u8FD0\\u884C\\u4E2D\\u7684\\u5185\\u5B58\\u8D44\\u6E90\\u3002\\u5783\\u573E\\u56DE\\u6536\\u5668\\u4F1A\\u5B9A\\u671F\\u67E5\\u627E\\u65E0\\u7528\\u7684\\u5BF9\\u8C61\\uFF0C\\u5E76\\u5C06\\u5B83\\u4EEC\\u4ECE\\u5185\\u5B58\\u4E2D\\u79FB\\u9664\\uFF0C\\u4ECE\\u800C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5185\\u5B58\\u7BA1\\u7406\\u57FA\\u7840\",children:(0,n.jsx)(e.a,{href:\"#\\u5185\\u5B58\\u7BA1\\u7406\\u57FA\\u7840\",children:\"\\u5185\\u5B58\\u7BA1\\u7406\\u57FA\\u7840\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728 JavaScript \\u4E2D\\uFF0C\\u6BCF\\u4E2A\\u5BF9\\u8C61\\u3001\\u6570\\u7EC4\\u3001\\u51FD\\u6570\\u7B49\\u90FD\\u5360\\u7528\\u5185\\u5B58\\u3002\\u5728\\u4EE3\\u7801\\u6267\\u884C\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u5F53\\u8FD9\\u4E9B\\u5BF9\\u8C61\\u4E0D\\u518D\\u88AB\\u5F15\\u7528\\u65F6\\uFF0C\\u5B83\\u4EEC\\u5C31\\u53D8\\u6210\\u4E86\\u201C\\u5783\\u573E\\u201D\\uFF0C\\u8FD9\\u65F6\\u5783\\u573E\\u56DE\\u6536\\u5668\\u4F1A\\u5C06\\u5B83\\u4EEC\\u9500\\u6BC1\\uFF0C\\u91CA\\u653E\\u5185\\u5B58\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F53\\u7A0B\\u5E8F\\u521B\\u5EFA\\u4E00\\u4E2A\\u5BF9\\u8C61\\u6216\\u53D8\\u91CF\\u65F6\\uFF0CJavaScript \\u5F15\\u64CE\\u4F1A\\u4E3A\\u8BE5\\u5BF9\\u8C61\\u5206\\u914D\\u4E00\\u5757\\u5185\\u5B58\\u3002\\u5F53\\u8BE5\\u5BF9\\u8C61\\u4E0D\\u518D\\u4F7F\\u7528\\u65F6\\uFF0C\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u4F1A\\u81EA\\u52A8\\u8BC6\\u522B\\u5E76\\u6E05\\u7406\\u5B83\\u3002\\u4E3A\\u4E86\\u8BA9\\u5783\\u573E\\u56DE\\u6536\\u5668\\u51C6\\u786E\\u5224\\u65AD\\u54EA\\u4E9B\\u5BF9\\u8C61\\u4E0D\\u518D\\u88AB\\u5F15\\u7528\\uFF0CJavaScript \\u4F7F\\u7528\\u4E86\\u5F15\\u7528\\u8BA1\\u6570\\u548C\\u53EF\\u8FBE\\u6027\\u5206\\u6790\\u7B49\\u7B97\\u6CD5\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5783\\u573E\\u56DE\\u6536\\u7684\\u7B97\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#\\u5783\\u573E\\u56DE\\u6536\\u7684\\u7B97\\u6CD5\",children:\"\\u5783\\u573E\\u56DE\\u6536\\u7684\\u7B97\\u6CD5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"JavaScript \\u4E2D\\u5E38\\u89C1\\u7684\\u5783\\u573E\\u56DE\\u6536\\u7B97\\u6CD5\\u4E3B\\u8981\\u6709\\u4EE5\\u4E0B\\u4E24\\u79CD\\uFF1A\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u5F15\\u7528\\u8BA1\\u6570\\u7B97\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#1-\\u5F15\\u7528\\u8BA1\\u6570\\u7B97\\u6CD5\",children:\"1. \\u5F15\\u7528\\u8BA1\\u6570\\u7B97\\u6CD5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F15\\u7528\\u8BA1\\u6570\\u7B97\\u6CD5\\u901A\\u8FC7\\u8DDF\\u8E2A\\u6BCF\\u4E2A\\u5BF9\\u8C61\\u88AB\\u5F15\\u7528\\u7684\\u6B21\\u6570\\u6765\\u5224\\u65AD\\u8BE5\\u5BF9\\u8C61\\u662F\\u5426\\u53EF\\u4EE5\\u88AB\\u56DE\\u6536\\u3002\\u5F53\\u4E00\\u4E2A\\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\u6B21\\u6570\\u4E3A\\u96F6\\u65F6\\uFF0C\\u5783\\u573E\\u56DE\\u6536\\u5668\\u4F1A\\u7ACB\\u5373\\u9500\\u6BC1\\u8BE5\\u5BF9\\u8C61\\u5E76\\u91CA\\u653E\\u5176\\u5360\\u7528\\u7684\\u5185\\u5B58\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5F15\\u7528\\u8BA1\\u6570\\u7B97\\u6CD5\\u7684\\u7F3A\\u70B9\",children:(0,n.jsx)(e.a,{href:\"#\\u5F15\\u7528\\u8BA1\\u6570\\u7B97\\u6CD5\\u7684\\u7F3A\\u70B9\",children:\"\\u5F15\\u7528\\u8BA1\\u6570\\u7B97\\u6CD5\\u7684\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u867D\\u7136\\u5F15\\u7528\\u8BA1\\u6570\\u7B97\\u6CD5\\u5F88\\u7B80\\u5355\\uFF0C\\u4F46\\u5B83\\u6709\\u4E00\\u4E2A\\u5F88\\u5927\\u7684\\u7F3A\\u70B9\\u2014\\u2014\",(0,n.jsx)(e.strong,{children:\"\\u5FAA\\u73AF\\u5F15\\u7528\"}),\"\\u3002\\u5F53\\u4E24\\u4E2A\\u5BF9\\u8C61\\u4E92\\u76F8\\u5F15\\u7528\\u65F6\\uFF0C\\u5C3D\\u7BA1\\u5B83\\u4EEC\\u4E4B\\u95F4\\u6CA1\\u6709\\u4EFB\\u4F55\\u5916\\u90E8\\u5F15\\u7528\\uFF0C\\u4F46\\u5B83\\u4EEC\\u7684\\u5F15\\u7528\\u8BA1\\u6570\\u6C38\\u8FDC\\u4E0D\\u4F1A\\u4E3A\\u96F6\\uFF0C\\u56E0\\u6B64\\u65E0\\u6CD5\\u88AB\\u5783\\u573E\\u56DE\\u6536\\u5668\\u6E05\\u7406\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" a \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" b \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"a.b \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" b;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"b.a \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" a;\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u4E0A\\u9762\\u7684\\u4EE3\\u7801\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"a\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"b\"})})})}),\" \\u4E92\\u76F8\\u5F15\\u7528\\uFF0C\\u4F46\\u6CA1\\u6709\\u5176\\u4ED6\\u5916\\u90E8\\u5F15\\u7528\\u3002\\u5F15\\u7528\\u8BA1\\u6570\\u5668\\u65E0\\u6CD5\\u5904\\u7406\\u8FD9\\u79CD\\u60C5\\u51B5\\uFF0C\\u56E0\\u6B64\\u5185\\u5B58\\u4E0D\\u4F1A\\u88AB\\u53CA\\u65F6\\u91CA\\u653E\\uFF0C\\u9020\\u6210\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u6807\\u8BB0\\u6E05\\u9664\\u7B97\\u6CD5mark-and-sweep\",children:(0,n.jsx)(e.a,{href:\"#2-\\u6807\\u8BB0\\u6E05\\u9664\\u7B97\\u6CD5mark-and-sweep\",children:\"2. \\u6807\\u8BB0\\u6E05\\u9664\\u7B97\\u6CD5\\uFF08Mark-and-Sweep\\uFF09\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6807\\u8BB0\\u6E05\\u9664\\u7B97\\u6CD5\\u662F\\u73B0\\u4EE3 JavaScript \\u5F15\\u64CE\\u5E38\\u7528\\u7684\\u5783\\u573E\\u56DE\\u6536\\u7B97\\u6CD5\\u3002\\u5176\\u6838\\u5FC3\\u601D\\u8DEF\\u662F\\u901A\\u8FC7\\u201C\\u6807\\u8BB0\\u201D\\u6D3B\\u8DC3\\u5BF9\\u8C61\\uFF0C\\u5E76\\u201C\\u6E05\\u9664\\u201D\\u4E0D\\u53EF\\u8FBE\\u5BF9\\u8C61\\u6765\\u56DE\\u6536\\u5185\\u5B58\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u6807\\u8BB0\\u9636\\u6BB5\",children:(0,n.jsx)(e.a,{href:\"#\\u6807\\u8BB0\\u9636\\u6BB5\",children:\"\\u6807\\u8BB0\\u9636\\u6BB5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u6807\\u8BB0\\u9636\\u6BB5\\uFF0C\\u5783\\u573E\\u56DE\\u6536\\u5668\\u4ECE\\u6839\\u5BF9\\u8C61\\uFF08\\u5982\\u5168\\u5C40\\u5BF9\\u8C61\\u3001\\u51FD\\u6570\\u7684\\u5C40\\u90E8\\u53D8\\u91CF\\u7B49\\uFF09\\u51FA\\u53D1\\uFF0C\\u904D\\u5386\\u6240\\u6709\\u53EF\\u8FBE\\u5BF9\\u8C61\\u5E76\\u6807\\u8BB0\\u5B83\\u4EEC\\u4E3A\\u201C\\u6D3B\\u8DC3\\u201D\\u3002\\u6240\\u6709\\u65E0\\u6CD5\\u901A\\u8FC7\\u6839\\u5BF9\\u8C61\\u8BBF\\u95EE\\u5230\\u7684\\u5BF9\\u8C61\\u90FD\\u88AB\\u8BA4\\u4E3A\\u662F\\u4E0D\\u53EF\\u8FBE\\u7684\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u6E05\\u9664\\u9636\\u6BB5\",children:(0,n.jsx)(e.a,{href:\"#\\u6E05\\u9664\\u9636\\u6BB5\",children:\"\\u6E05\\u9664\\u9636\\u6BB5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u6E05\\u9664\\u9636\\u6BB5\\uFF0C\\u5783\\u573E\\u56DE\\u6536\\u5668\\u4F1A\\u626B\\u63CF\\u5185\\u5B58\\u4E2D\\u6240\\u6709\\u5BF9\\u8C61\\uFF0C\\u5220\\u9664\\u6240\\u6709\\u6807\\u8BB0\\u4E3A\\u4E0D\\u53EF\\u8FBE\\u7684\\u5BF9\\u8C61\\uFF0C\\u5E76\\u56DE\\u6536\\u5B83\\u4EEC\\u5360\\u7528\\u7684\\u5185\\u5B58\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5F15\\u7528\\u8DDF\\u8E2A\\u7B97\\u6CD5tracing\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5F15\\u7528\\u8DDF\\u8E2A\\u7B97\\u6CD5tracing\",children:\"3. \\u5F15\\u7528\\u8DDF\\u8E2A\\u7B97\\u6CD5\\uFF08Tracing\\uFF09\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F15\\u7528\\u8DDF\\u8E2A\\u7B97\\u6CD5\\u662F\\u901A\\u8FC7\\u8FFD\\u8E2A\\u6240\\u6709\\u53EF\\u8FBE\\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\u94FE\\u6765\\u8FDB\\u884C\\u5783\\u573E\\u56DE\\u6536\\u3002\\u5728\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u5783\\u573E\\u56DE\\u6536\\u5668\\u4F1A\\u4E0D\\u65AD\\u626B\\u63CF\\u5185\\u5B58\\u4E2D\\u7684\\u5BF9\\u8C61\\u5E76\\u8BB0\\u5F55\\u5BF9\\u8C61\\u4E4B\\u95F4\\u7684\\u5F15\\u7528\\u5173\\u7CFB\\uFF0C\\u6700\\u7EC8\\u5220\\u9664\\u90A3\\u4E9B\\u6CA1\\u6709\\u5F15\\u7528\\u7684\\u5BF9\\u8C61\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u65B9\\u6CD5\\u66F4\\u52A0\\u9AD8\\u6548\\uFF0C\\u5C24\\u5176\\u9002\\u7528\\u4E8E\\u590D\\u6742\\u7684\\u5BF9\\u8C61\\u56FE\\u7ED3\\u6784\\uFF0C\\u80FD\\u591F\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\u95EE\\u9898\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"-javascript-\\u4E2D\\u7684\\u5783\\u573E\\u56DE\\u6536\\u89E6\\u53D1\\u673A\\u5236\",children:(0,n.jsx)(e.a,{href:\"#-javascript-\\u4E2D\\u7684\\u5783\\u573E\\u56DE\\u6536\\u89E6\\u53D1\\u673A\\u5236\",children:\"\\u26A1 JavaScript \\u4E2D\\u7684\\u5783\\u573E\\u56DE\\u6536\\u89E6\\u53D1\\u673A\\u5236\"})}),`\n`,(0,n.jsxs)(e.p,{children:['\\u5728 JavaScript \\u7684\\u4E16\\u754C\\u91CC\\uFF0C\\u5783\\u573E\\u56DE\\u6536\\u5668\\u5C31\\u50CF\\u4E00\\u652F\\u667A\\u80FD\\u73AF\\u536B\\u961F\\uFF0C\\u5B83\\u4EEC\\u5E76\\u4E0D\\u662F 24 \\u5C0F\\u65F6\\u4E0D\\u95F4\\u65AD\\u5DE5\\u4F5C\\u7684\\uFF0C\\u800C\\u662F\\u6839\\u636E\\u7279\\u5B9A\\u7684\"\\u57CE\\u5E02\\u6E05\\u6D01\\u6307\\u6807\"\\u6765\\u51B3\\u5B9A\\u4F55\\u65F6\\u5F00\\u5C55\\u6E05\\u7406\\u884C\\u52A8\\u3002\\u8FD9\\u4E9B\\u6E05\\u6D01\\u5DE5\\u4F5C\\u901A\\u5E38\\u662F\\u7531\\u5F15\\u64CE\\u7684',(0,n.jsx)(e.strong,{children:\"\\u540E\\u53F0\\u7EBF\\u7A0B\"}),'\\uFF08\\u5C31\\u50CF\\u591C\\u95F4\\u4F5C\\u4E1A\\u7684\\u6E05\\u6D01\\u5DE5\\u4EBA\\uFF09\\u5728\\u57CE\\u5E02\\u8F83\\u4E3A\\u5B89\\u9759\\u7684\\u65F6\\u5019\\u8FDB\\u884C\\uFF0C\\u6216\\u8005\\u5728\"\\u5783\\u573E\\u5806\\u79EF\"\\uFF08\\u5185\\u5B58\\u5360\\u7528\\uFF09\\u8FBE\\u5230\\u8B66\\u6212\\u7EBF\\u65F6\\u7ACB\\u5373\\u884C\\u52A8\\u3002']}),`\n`,(0,n.jsx)(e.h3,{id:\"1--\\u5783\\u573E\\u56DE\\u6536\\u7684\\u89E6\\u53D1\\u65F6\\u673A\",children:(0,n.jsx)(e.a,{href:\"#1--\\u5783\\u573E\\u56DE\\u6536\\u7684\\u89E6\\u53D1\\u65F6\\u673A\",children:\"1. \\u{1F552} \\u5783\\u573E\\u56DE\\u6536\\u7684\\u89E6\\u53D1\\u65F6\\u673A\"})}),`\n`,(0,n.jsx)(e.p,{children:'\\u5C31\\u50CF\\u57CE\\u5E02\\u73AF\\u536B\\u5DE5\\u4F5C\\u4E00\\u6837\\uFF0C\\u5783\\u573E\\u56DE\\u6536\\u5668\\u7684\"\\u51FA\\u52E4\\u65F6\\u95F4\"\\u5E76\\u4E0D\\u662F\\u56FA\\u5B9A\\u7684\\uFF0C\\u901A\\u5E38\\u4F1A\\u5728\\u4EE5\\u4E0B\\u51E0\\u79CD\\u60C5\\u51B5\\u542F\\u52A8\\u6E05\\u7406\\u884C\\u52A8\\uFF1A'}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5185\\u5B58\\u5360\\u7528\\u8FBE\\u5230\\u8B66\\u6212\\u7EBF\"}),' \\u{1F6A8}\\uFF1A\\u5F53 JavaScript \\u5F15\\u64CE\\u53D1\\u73B0\"\\u57CE\\u5E02\\u5783\\u573E\\u573A\"\\uFF08\\u53EF\\u7528\\u5185\\u5B58\\uFF09\\u5373\\u5C06\\u88C5\\u6EE1\\u65F6\\uFF0C\\u4F1A\\u7D27\\u6025\\u542F\\u52A8\\u6E05\\u7406\\u884C\\u52A8\\u3002']}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u57CE\\u5E02\\u7A7A\\u95F2\\u65F6\\u6BB5\"}),' \\u{1F319}\\uFF1A\\u73B0\\u4EE3 JavaScript \\u5F15\\u64CE\\u4F1A\\u9009\\u62E9\\u5728\"\\u57CE\\u5E02\\u8F83\\u4E3A\\u5B89\\u9759\"\\u7684\\u65F6\\u5019\\uFF08\\u7A7A\\u95F2\\u65F6\\u95F4\\uFF09\\u81EA\\u52A8\\u5F00\\u5C55\\u6E05\\u7406\\u5DE5\\u4F5C\\uFF0C\\u5C31\\u50CF\\u73AF\\u536B\\u5DE5\\u4EBA\\u9009\\u62E9\\u5728\\u6DF1\\u591C\\u6E05\\u626B\\u8857\\u9053\\u4E00\\u6837\\uFF0C\\u907F\\u514D\\u5F71\\u54CD\\u5E02\\u6C11\\u7684\\u65E5\\u5E38\\u751F\\u6D3B\\uFF08\\u4E3B\\u7EBF\\u7A0B\\u7684\\u6B63\\u5E38\\u8FD0\\u884C\\uFF09\\u3002']}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7279\\u6B8A\\u6E05\\u7406\\u6307\\u4EE4\"}),\" \\u{1F3AF}\\uFF1A\\u5728\\u67D0\\u4E9B\\u7279\\u6B8A\\u73AF\\u5883\\u4E0B\\uFF08\\u4F8B\\u5982 Node.js\\uFF09\\uFF0C\\u57CE\\u5E02\\u7BA1\\u7406\\u8005\\u53EF\\u4EE5\\u901A\\u8FC7\\u7279\\u6B8A\\u6307\\u4EE4\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"global.gc()\"})})})}),\"\\uFF09\\u5F3A\\u5236\\u542F\\u52A8\\u4E00\\u6B21\\u5168\\u57CE\\u5927\\u626B\\u9664\\uFF0C\\u4F46\\u8FD9\\u79CD\\u505A\\u6CD5\\u5E76\\u4E0D\\u63A8\\u8350\\u5728\\u65E5\\u5E38\\u8FD0\\u8425\\uFF08\\u751F\\u4EA7\\u73AF\\u5883\\uFF09\\u4E2D\\u4F7F\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"2--\\u5185\\u5B58\\u6CC4\\u6F0F\",children:(0,n.jsx)(e.a,{href:\"#2--\\u5185\\u5B58\\u6CC4\\u6F0F\",children:\"2. \\u{1F6B0} \\u5185\\u5B58\\u6CC4\\u6F0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C31\\u50CF\\u57CE\\u5E02\\u7684\\u4F9B\\u6C34\\u7CFB\\u7EDF\\u4E00\\u6837\\uFF0C\\u5C3D\\u7BA1\\u6709\\u5148\\u8FDB\\u7684\\u7BA1\\u9053\\u7F51\\u7EDC\\uFF08\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\uFF09\\uFF0C\\u4F46\\u6C34\\u8D44\\u6E90\\u7684\\u6D6A\\u8D39\\uFF08\\u5185\\u5B58\\u6CC4\\u6F0F\\uFF09\\u4ECD\\u7136\\u662F\\u4E00\\u4E2A\\u5E38\\u89C1\\u95EE\\u9898\\u3002\\u5185\\u5B58\\u6CC4\\u6F0F\\u5C31\\u50CF\\u6C34\\u7BA1\\u4E2D\\u7684\\u6F0F\\u6D1E\\uFF0C\\u867D\\u7136\\u6C34\\u9F99\\u5934\\u5DF2\\u7ECF\\u5173\\u95ED\\uFF08\\u5BF9\\u8C61\\u4E0D\\u518D\\u4F7F\\u7528\\uFF09\\uFF0C\\u4F46\\u6C34\\u4F9D\\u7136\\u5728\\u4E0D\\u77E5\\u4E0D\\u89C9\\u4E2D\\u6D41\\u5931\\uFF08\\u88AB\\u610F\\u5916\\u5F15\\u7528\\uFF09\\uFF0C\\u5BFC\\u81F4\\u6C34\\u52A1\\u5DE5\\u4EBA\\uFF08\\u5783\\u573E\\u56DE\\u6536\\u5668\\uFF09\\u65E0\\u6CD5\\u53CA\\u65F6\\u5173\\u95ED\\u8FD9\\u4E9B\\u6F0F\\u70B9\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:'\\u8BA9\\u6211\\u4EEC\\u770B\\u770B\\u51E0\\u79CD\\u5E38\\u89C1\\u7684\"\\u6F0F\\u6C34\\u70B9\"\\uFF08\\u5185\\u5B58\\u6CC4\\u6F0F\\u539F\\u56E0\\uFF09\\uFF1A'}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u95ED\\u5305\"}),\" \\u{1F512}\\uFF1A\\u5C31\\u50CF\\u4E00\\u4E2A\\u4E0A\\u4E86\\u9501\\u7684\\u50A8\\u7269\\u67DC\\uFF0C\\u5982\\u679C\\u5FD8\\u8BB0\\u53CA\\u65F6\\u6E05\\u7A7A\\uFF08\\u672A\\u6B63\\u786E\\u91CA\\u653E\\uFF09\\uFF0C\\u91CC\\u9762\\u7684\\u7269\\u54C1\\u5C31\\u4F1A\\u4E00\\u76F4\\u5360\\u7528\\u7A7A\\u95F4\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"DOM \\u5F15\\u7528\"}),\" \\u{1F332}\\uFF1A\\u60F3\\u8C61\\u4E00\\u68F5\\u88AB\\u780D\\u5012\\u7684\\u6811\\uFF08\\u88AB\\u5220\\u9664\\u7684 DOM \\u5143\\u7D20\\uFF09\\uFF0C\\u5982\\u679C\\u5B83\\u7684\\u6839\\u7CFB\\u8FD8\\u8FDE\\u7740\\u5176\\u4ED6\\u690D\\u7269\\uFF08\\u5B58\\u5728\\u5F15\\u7528\\uFF09\\uFF0C\\u56ED\\u4E01\\uFF08\\u5783\\u573E\\u56DE\\u6536\\u5668\\uFF09\\u5C31\\u65E0\\u6CD5\\u5B8C\\u5168\\u6E05\\u7406\\u8FD9\\u5757\\u5730\\u65B9\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5168\\u5C40\\u53D8\\u91CF\"}),\" \\u{1F30D}\\uFF1A\\u5C31\\u50CF\\u5728\\u516C\\u5171\\u573A\\u6240\\u968F\\u610F\\u5806\\u653E\\u7684\\u7269\\u54C1\\uFF0C\\u5982\\u679C\\u6CA1\\u6709\\u4EBA\\u4E3B\\u52A8\\u6E05\\u7406\\uFF0C\\u5B83\\u4EEC\\u53EF\\u80FD\\u4F1A\\u957F\\u671F\\u5360\\u7528\\u516C\\u5171\\u7A7A\\u95F4\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"-v8-\\u5F15\\u64CE\\u7684\\u5783\\u573E\\u56DE\\u6536\\u4F18\\u5316\\u7B56\\u7565\",children:(0,n.jsx)(e.a,{href:\"#-v8-\\u5F15\\u64CE\\u7684\\u5783\\u573E\\u56DE\\u6536\\u4F18\\u5316\\u7B56\\u7565\",children:\"\\u{1F680} V8 \\u5F15\\u64CE\\u7684\\u5783\\u573E\\u56DE\\u6536\\u4F18\\u5316\\u7B56\\u7565\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u73B0\\u4EE3 JavaScript \\u5F15\\u64CE\\uFF08\\u5982 V8\\uFF09\\u5C31\\u50CF\\u4E00\\u5EA7\\u667A\\u80FD\\u5316\\u7684\\u5783\\u573E\\u5904\\u7406\\u5382\\uFF0C\\u5B83\\u91C7\\u7528\\u4E86\\u5206\\u4EE3\\u5F0F\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\uFF0C\\u5C31\\u50CF\\u5C06\\u5783\\u573E\\u5206\\u7C7B\\u5904\\u7406\\u4E00\\u6837\\uFF0C\\u628A\\u5185\\u5B58\\u7A7A\\u95F4\\u5206\\u4E3A\\u65B0\\u751F\\u4EE3\\uFF08Young Generation\\uFF0C\\u7C7B\\u4F3C\\u4E8E\\u6613\\u8150\\u5783\\u573E\\uFF09\\u548C\\u8001\\u751F\\u4EE3\\uFF08Old Generation\\uFF0C\\u7C7B\\u4F3C\\u4E8E\\u53EF\\u56DE\\u6536\\u7269\\uFF09\\uFF0C\\u5E76\\u9488\\u5BF9\\u4E0D\\u540C\\u7C7B\\u578B\\u91C7\\u7528\\u4E0D\\u540C\\u7684\\u5904\\u7406\\u7B56\\u7565\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u65B0\\u751F\\u4EE3\\u56DE\\u6536\\uFF08Scavenge \\u7B97\\u6CD5\\uFF09\"}),\" \\u{1F331}\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5C31\\u50CF\\u53CC\\u7B52\\u5783\\u573E\\u6876\\u7CFB\\u7EDF\\uFF0C\\u91C7\\u7528 Cheney \\u7B97\\u6CD5\\u5C06\\u5185\\u5B58\\u5206\\u4E3A From \\u7A7A\\u95F4\\uFF08\\u5F53\\u524D\\u4F7F\\u7528\\u7684\\u5783\\u573E\\u6876\\uFF09\\u548C To \\u7A7A\\u95F4\\uFF08\\u5907\\u7528\\u5783\\u573E\\u6876\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6BCF\\u6B21\\u6E05\\u7406\\u65F6\\uFF0C\\u5C06\\u8FD8\\u5728\\u4F7F\\u7528\\u7684\\u7269\\u54C1\\uFF08\\u5B58\\u6D3B\\u5BF9\\u8C61\\uFF09\\u8F6C\\u79FB\\u5230\\u5907\\u7528\\u5783\\u573E\\u6876\\uFF08To \\u7A7A\\u95F4\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5982\\u679C\\u67D0\\u4E9B\\u7269\\u54C1\\uFF08\\u5BF9\\u8C61\\uFF09\\u7ECF\\u8FC7\\u591A\\u6B21\\u6E05\\u7406\\u4F9D\\u7136\\u4FDD\\u7559\\uFF0C\\u5C31\\u4F1A\\u88AB\\u8F6C\\u79FB\\u5230\\u53EF\\u56DE\\u6536\\u7269\\u4ED3\\u5E93\\uFF08\\u664B\\u5347\\u5230\\u8001\\u751F\\u4EE3\\uFF09\"}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5BF9\\u8C61\\u664B\\u5347\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createLargeObject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" obj\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" obj; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u95ED\\u5305\\u4FDD\\u6301\\u5F15\\u7528\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" keepAlive\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createLargeObject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8001\\u751F\\u4EE3\\u56DE\\u6536\\uFF08Mark-Sweep-Compact\\uFF09\"}),\" \\u{1F4E6}\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u50CF\\u5206\\u7C7B\\u8D34\\u6807\\u7B7E\\u4E00\\u6837\\uFF0C\\u4F7F\\u7528\\u4E09\\u8272\\u6807\\u8BB0\\u6CD5\\uFF08\\u767D\\u8272\\u4EE3\\u8868\\u53EF\\u56DE\\u6536\\u3001\\u7070\\u8272\\u4EE3\\u8868\\u6B63\\u5728\\u5904\\u7406\\u3001\\u9ED1\\u8272\\u4EE3\\u8868\\u9700\\u8981\\u4FDD\\u7559\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u91C7\\u7528\\u589E\\u91CF\\u6807\\u8BB0\\uFF08Incremental Marking\\uFF09\\u6280\\u672F\\uFF0C\\u5C31\\u50CF\\u5206\\u6279\\u6B21\\u5904\\u7406\\u5783\\u573E\\uFF0C\\u907F\\u514D\\u5904\\u7406\\u65F6\\u95F4\\u8FC7\\u957F\\u5F71\\u54CD\\u65E5\\u5E38\\u751F\\u6D3B\\uFF08\\u4E3B\\u7EBF\\u7A0B\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u50CF\\u591A\\u6761\\u5783\\u573E\\u5904\\u7406\\u6D41\\u6C34\\u7EBF\\u5E76\\u884C\\u5DE5\\u4F5C\\u4E00\\u6837\\uFF0C\\u5229\\u7528\\u591A\\u6838 CPU \\u4F18\\u52BF\\u63D0\\u9AD8\\u5904\\u7406\\u6548\\u7387\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4E0D\\u540C\\u6D4F\\u89C8\\u5668\\u7684-gc-\\u884C\\u4E3A\\u5DEE\\u5F02\",children:(0,n.jsx)(e.a,{href:\"#\\u4E0D\\u540C\\u6D4F\\u89C8\\u5668\\u7684-gc-\\u884C\\u4E3A\\u5DEE\\u5F02\",children:\"\\u4E0D\\u540C\\u6D4F\\u89C8\\u5668\\u7684 GC \\u884C\\u4E3A\\u5DEE\\u5F02\"})}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"\\u6D4F\\u89C8\\u5668\"}),(0,n.jsx)(e.th,{children:\"\\u65B0\\u751F\\u4EE3\\u7B56\\u7565\"}),(0,n.jsx)(e.th,{children:\"\\u8001\\u751F\\u4EE3\\u56DE\\u6536\\u9608\\u503C\"}),(0,n.jsx)(e.th,{children:\"\\u589E\\u91CF\\u6807\\u8BB0\\u652F\\u6301\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"Chrome\"}),(0,n.jsx)(e.td,{children:\"\\u5E76\\u884C Scavenge\"}),(0,n.jsx)(e.td,{children:\"\\u5185\\u5B58\\u5360\\u7528 70%\"}),(0,n.jsx)(e.td,{children:\"\\u2713\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"Firefox\"}),(0,n.jsx)(e.td,{children:\"\\u5355\\u7EBF\\u7A0B Scavenge\"}),(0,n.jsx)(e.td,{children:\"\\u5185\\u5B58\\u5360\\u7528 85%\"}),(0,n.jsx)(e.td,{children:\"\\u2713\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"Safari\"}),(0,n.jsx)(e.td,{children:\"\\u5206\\u5757\\u5F0F\\u56DE\\u6536\"}),(0,n.jsx)(e.td,{children:\"\\u52A8\\u6001\\u8C03\\u6574\"}),(0,n.jsx)(e.td,{children:\"\\u25B3\"})]})]})]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u7684\\u5185\\u5B58\\u6CC4\\u6F0F\\u6848\\u4F8B\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u7684\\u5185\\u5B58\\u6CC4\\u6F0F\\u6848\\u4F8B\",children:\"\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u7684\\u5185\\u5B58\\u6CC4\\u6F0F\\u6848\\u4F8B\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"spa-\\u8DEF\\u7531\\u6CC4\\u6F0F\\u95EE\\u9898\",children:(0,n.jsx)(e.a,{href:\"#spa-\\u8DEF\\u7531\\u6CC4\\u6F0F\\u95EE\\u9898\",children:\"SPA \\u8DEF\\u7531\\u6CC4\\u6F0F\\u95EE\\u9898\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9519\\u8BEF\\u793A\\u4F8B\\uFF1A\\u672A\\u6E05\\u7406\\u7684\\u8DEF\\u7531\\u76D1\\u542C\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" history\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createBrowserHistory\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" UserPage\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  componentDidMount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".unlisten \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" history.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u8DEF\\u7531\\u53D8\\u5316\\u5904\\u7406\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u7F3A\\u5C11componentWillUnmount\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6B63\\u786E\\u505A\\u6CD5\\uFF1A\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"componentWillUnmount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"  this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"unlisten\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5B9A\\u65F6\\u5668\\u6CC4\\u6F0F\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9A\\u65F6\\u5668\\u6CC4\\u6F0F\",children:\"\\u5B9A\\u65F6\\u5668\\u6CC4\\u6F0F\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9519\\u8BEF\\u793A\\u4F8B\\uFF1A\\u672A\\u6E05\\u9664\\u7684\\u5B9A\\u65F6\\u5668\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" startAnalytics\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    trackUserBehavior\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"5000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6B63\\u786E\\u505A\\u6CD5\\uFF1A\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" timerId\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'beforeunload'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(timerId);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\\u5B9E\\u6218\",children:(0,n.jsx)(e.a,{href:\"#\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\\u5B9E\\u6218\",children:\"\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\\u5B9E\\u6218\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"chrome-memory-\\u9762\\u677F\\u4F7F\\u7528\\u793A\\u4F8B\",children:(0,n.jsx)(e.a,{href:\"#chrome-memory-\\u9762\\u677F\\u4F7F\\u7528\\u793A\\u4F8B\",children:\"Chrome Memory \\u9762\\u677F\\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u6253\\u5F00\\u5F00\\u53D1\\u8005\\u5DE5\\u5177 \\u2192 Memory \\u9762\\u677F\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6267\\u884C\\u300CTake heap snapshot\\u300D\\u521B\\u5EFA\\u57FA\\u51C6\\u5FEB\\u7167\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6267\\u884C\\u53EF\\u7591\\u64CD\\u4F5C\\u540E\\u521B\\u5EFA\\u5BF9\\u6BD4\\u5FEB\\u7167\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528\\u300CComparison\\u300D\\u89C6\\u56FE\\u5206\\u6790\\u5BF9\\u8C61\\u5206\\u914D\\u5DEE\\u5F02\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/images/chrome-heap-snapshot.png\",alt:\"Chrome\\u5806\\u5FEB\\u7167\\u5BF9\\u6BD4\\u793A\\u610F\\u56FE\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5185\\u5B58\\u65F6\\u95F4\\u7EBF\\u5206\\u6790\",children:(0,n.jsx)(e.a,{href:\"#\\u5185\\u5B58\\u65F6\\u95F4\\u7EBF\\u5206\\u6790\",children:\"\\u5185\\u5B58\\u65F6\\u95F4\\u7EBF\\u5206\\u6790\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5185\\u5B58\\u6CC4\\u6F0F\\u68C0\\u6D4B\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createLeak\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" hugeArray\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  window.leak \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hugeArray; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4EBA\\u4E3A\\u5236\\u9020\\u6CC4\\u6F0F\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5728Chrome Performance\\u9762\\u677F\\u5F55\\u5236\\u65F6\\u53CD\\u590D\\u8C03\\u7528\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(createLeak, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"weakmap-\\u5E94\\u7528\\u573A\\u666F\",children:(0,n.jsx)(e.a,{href:\"#weakmap-\\u5E94\\u7528\\u573A\\u666F\",children:\"WeakMap \\u5E94\\u7528\\u573A\\u666F\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"dom-\\u8282\\u70B9\\u5143\\u6570\\u636E\\u7BA1\\u7406\",children:(0,n.jsx)(e.a,{href:\"#dom-\\u8282\\u70B9\\u5143\\u6570\\u636E\\u7BA1\\u7406\",children:\"DOM \\u8282\\u70B9\\u5143\\u6570\\u636E\\u7BA1\\u7406\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" domMetadata\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WeakMap\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" attachMetadata\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"element\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  domMetadata.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(element, {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    ...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data,\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    lastAccessed: Date.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5F53DOM\\u8282\\u70B9\\u88AB\\u79FB\\u9664\\u65F6\\uFF0Cmetadata\\u81EA\\u52A8\\u56DE\\u6536\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u79C1\\u6709\\u5C5E\\u6027\\u6A21\\u62DF\",children:(0,n.jsx)(e.a,{href:\"#\\u79C1\\u6709\\u5C5E\\u6027\\u6A21\\u62DF\",children:\"\\u79C1\\u6709\\u5C5E\\u6027\\u6A21\\u62DF\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" privateData\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WeakMap\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" User\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"name\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    privateData.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { name });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  getName\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" privateData.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").name;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"nodejs-\\u5185\\u5B58\\u76D1\\u63A7\\u65B9\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#nodejs-\\u5185\\u5B58\\u76D1\\u63A7\\u65B9\\u6CD5\",children:\"Node.js \\u5185\\u5B58\\u76D1\\u63A7\\u65B9\\u6CD5\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5185\\u7F6E\\u5185\\u5B58\\u7EDF\\u8BA1\",children:(0,n.jsx)(e.a,{href:\"#\\u5185\\u7F6E\\u5185\\u5B58\\u7EDF\\u8BA1\",children:\"\\u5185\\u7F6E\\u5185\\u5B58\\u7EDF\\u8BA1\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B9E\\u65F6\\u5185\\u5B58\\u76D1\\u63A7\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"rss\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"heapTotal\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"heapUsed\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" process.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"memoryUsage\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"table\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'    \"Resident Set\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"rss\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toFixed\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}MB`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'    \"Heap Total\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"heapTotal\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toFixed\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}MB`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'    \"Heap Used\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"heapUsed\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toFixed\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}MB`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"5000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"clinicjs-\\u8BCA\\u65AD\\u5DE5\\u5177\",children:(0,n.jsx)(e.a,{href:\"#clinicjs-\\u8BCA\\u65AD\\u5DE5\\u5177\",children:\"Clinic.js \\u8BCA\\u65AD\\u5DE5\\u5177\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u5B89\\u88C5\\u8BCA\\u65AD\\u5DE5\\u5177\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -g\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" clinic\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u5185\\u5B58\\u6CC4\\u6F0F\\u68C0\\u6D4B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"clinic\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" heapprofiler\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" node\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" server.js\"})]})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5982\\u4F55\\u4F18\\u5316\\u5783\\u573E\\u56DE\\u6536\\u6027\\u80FD\",children:(0,n.jsx)(e.a,{href:\"#\\u5982\\u4F55\\u4F18\\u5316\\u5783\\u573E\\u56DE\\u6536\\u6027\\u80FD\",children:\"\\u5982\\u4F55\\u4F18\\u5316\\u5783\\u573E\\u56DE\\u6536\\u6027\\u80FD\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C3D\\u7BA1\\u5783\\u573E\\u56DE\\u6536\\u5728\\u73B0\\u4EE3 JavaScript \\u5F15\\u64CE\\u4E2D\\u5DF2\\u7ECF\\u53D8\\u5F97\\u975E\\u5E38\\u9AD8\\u6548\\uFF0C\\u4F46\\u7A0B\\u5E8F\\u5458\\u4F9D\\u7136\\u53EF\\u4EE5\\u91C7\\u53D6\\u4EE5\\u4E0B\\u63AA\\u65BD\\u4F18\\u5316\\u6027\\u80FD\\uFF1A\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u5168\\u5C40\\u53D8\\u91CF\",children:(0,n.jsx)(e.a,{href:\"#1-\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u5168\\u5C40\\u53D8\\u91CF\",children:\"1. \\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u5168\\u5C40\\u53D8\\u91CF\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5168\\u5C40\\u53D8\\u91CF\\u4F1A\\u957F\\u671F\\u5360\\u7528\\u5185\\u5B58\\uFF0C\\u5E76\\u4E14\\u5B83\\u4EEC\\u4E0D\\u5BB9\\u6613\\u88AB\\u5783\\u573E\\u56DE\\u6536\\u5668\\u6E05\\u9664\\u3002\\u5C3D\\u91CF\\u907F\\u514D\\u4F7F\\u7528\\u5168\\u5C40\\u53D8\\u91CF\\uFF0C\\u7279\\u522B\\u662F\\u5F53\\u5B83\\u4EEC\\u4E0D\\u518D\\u9700\\u8981\\u65F6\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u53CA\\u65F6\\u91CA\\u653E-dom-\\u5F15\\u7528\",children:(0,n.jsx)(e.a,{href:\"#2-\\u53CA\\u65F6\\u91CA\\u653E-dom-\\u5F15\\u7528\",children:\"2. \\u53CA\\u65F6\\u91CA\\u653E DOM \\u5F15\\u7528\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5904\\u7406 DOM \\u5143\\u7D20\\u65F6\\uFF0C\\u5982\\u679C\\u5143\\u7D20\\u4E0D\\u518D\\u9700\\u8981\\uFF0C\\u52A1\\u5FC5\\u53CA\\u65F6\\u5220\\u9664\\u5BF9\\u5B83\\u7684\\u5F15\\u7528\\u3002\\u901A\\u8FC7\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"null\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"undefined\"})})})}),\" \\u6765\\u6E05\\u9664\\u5F15\\u7528\\uFF0C\\u5E2E\\u52A9\\u5783\\u573E\\u56DE\\u6536\\u5668\\u56DE\\u6536\\u8FD9\\u4E9B\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u4F7F\\u7528-weakmap-\\u548C-weakset\",children:(0,n.jsxs)(e.a,{href:\"#3-\\u4F7F\\u7528-weakmap-\\u548C-weakset\",children:[\"3. \\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WeakMap\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WeakSet\"})})})})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WeakMap\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WeakSet\"})})})}),\" \\u662F JavaScript \\u4E2D\\u7684\\u5F31\\u5F15\\u7528\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u4F7F\\u7528\\u8FD9\\u4E9B\\u7ED3\\u6784\\u53EF\\u4EE5\\u907F\\u514D\\u5F3A\\u5F15\\u7528\\u5BF9\\u5BF9\\u8C61\\u7684\\u6301\\u6709\\uFF0C\\u9632\\u6B62\\u5B83\\u4EEC\\u65E0\\u6CD5\\u88AB\\u5783\\u573E\\u56DE\\u6536\\u5668\\u56DE\\u6536\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u76D1\\u63A7\\u548C\\u8C03\\u8BD5\\u5185\\u5B58\",children:(0,n.jsx)(e.a,{href:\"#4-\\u76D1\\u63A7\\u548C\\u8C03\\u8BD5\\u5185\\u5B58\",children:\"4. \\u76D1\\u63A7\\u548C\\u8C03\\u8BD5\\u5185\\u5B58\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u548C Node.js \\u63D0\\u4F9B\\u4E86\\u5185\\u5B58\\u5206\\u6790\\u5DE5\\u5177\\uFF0C\\u53EF\\u4EE5\\u7528\\u6765\\u68C0\\u6D4B\\u5185\\u5B58\\u6CC4\\u6F0F\\u548C\\u4F18\\u5316\\u5185\\u5B58\\u4F7F\\u7528\\u3002\\u4F8B\\u5982\\uFF0CChrome DevTools \\u4E2D\\u7684 Memory \\u9762\\u677F\\u53EF\\u4EE5\\u5E2E\\u52A9\\u4F60\\u67E5\\u770B\\u5185\\u5B58\\u4F7F\\u7528\\u60C5\\u51B5\\u5E76\\u8BC6\\u522B\\u53EF\\u80FD\\u7684\\u6CC4\\u6F0F\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,n.jsx)(e.p,{children:\"JavaScript \\u7684\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u4F7F\\u5F97\\u5F00\\u53D1\\u8005\\u80FD\\u591F\\u4E13\\u6CE8\\u4E8E\\u4EE3\\u7801\\u7684\\u903B\\u8F91\\u800C\\u4E0D\\u5FC5\\u8FC7\\u591A\\u62C5\\u5FC3\\u5185\\u5B58\\u7BA1\\u7406\\u3002\\u7406\\u89E3\\u5783\\u573E\\u56DE\\u6536\\u7684\\u539F\\u7406\\u548C\\u4F18\\u5316\\u7B56\\u7565\\uFF0C\\u53EF\\u4EE5\\u5E2E\\u52A9\\u4F60\\u5199\\u51FA\\u66F4\\u9AD8\\u6548\\u3001\\u5065\\u58EE\\u7684\\u4EE3\\u7801\\u3002\\u901A\\u8FC7\\u5408\\u7406\\u4F7F\\u7528 JavaScript \\u63D0\\u4F9B\\u7684\\u5DE5\\u5177\\u548C\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u53CA\\u65F6\\u91CA\\u653E\\u4E0D\\u5FC5\\u8981\\u7684\\u8D44\\u6E90\\uFF0C\\u4F60\\u53EF\\u4EE5\\u6709\\u6548\\u63D0\\u9AD8\\u7A0B\\u5E8F\\u7684\\u6027\\u80FD\\uFF0C\\u907F\\u514D\\u5E38\\u89C1\\u7684\\u5185\\u5B58\\u6CC4\\u6F0F\\u95EE\\u9898\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5BF9\\u4E8E\\u5F00\\u53D1\\u8005\\u800C\\u8A00\\uFF0C\\u638C\\u63E1\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u4EE5\\u53CA\\u5982\\u4F55\\u4F18\\u5316\\u6027\\u80FD\\uFF0C\\u5C06\\u662F\\u63D0\\u5347\\u7F16\\u7801\\u6C34\\u5E73\\u7684\\u91CD\\u8981\\u4E00\\u6B65\\u3002\\u5E0C\\u671B\\u672C\\u6587\\u7684\\u8BB2\\u89E3\\u80FD\\u5E2E\\u52A9\\u4F60\\u66F4\\u597D\\u5730\\u7406\\u89E3 JavaScript \\u7684\\u5185\\u5B58\\u7BA1\\u7406\\uFF0C\\u5E76\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u5E94\\u7528\\u8FD9\\u4E9B\\u77E5\\u8BC6\\u3002\"})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(h,{...l})}):h(l)}return f(b);})();\n;return Component;"
  },
  "_id": "JavaScript/Garbage-Collection.mdx",
  "_raw": {
    "sourceFilePath": "JavaScript/Garbage-Collection.mdx",
    "sourceFileName": "Garbage-Collection.mdx",
    "sourceFileDir": "JavaScript",
    "contentType": "mdx",
    "flattenedPath": "JavaScript/Garbage-Collection"
  },
  "type": "Post",
  "url": "/blog/JavaScript/Garbage-Collection"
}
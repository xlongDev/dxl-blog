{
  "title": "前端路由秘史：Hash与History的攻防战",
  "date": "2023-10-02T00:00:00.000Z",
  "description": "深入解析前端路由的发展历程，探讨 Hash 与 History 路由的优缺点及其在权限路由拦截中的应用，比较版本 15 与 18 的差异。",
  "keywords": "前端路由, Hash, History, 权限路由拦截, 版本比较, 前端开发",
  "author": "晓龙",
  "image": "/images/hero/front-end-routing.jpg",
  "tags": [
    "前端路由",
    "Hash",
    "History",
    "权限路由拦截",
    "版本对比"
  ],
  "views": 0,
  "likes": 0,
  "category": "前端技术",
  "body": {
    "raw": "\n## 前言\n\n还记得我第一次接触前端路由时的情景：那是 2021 年，当时我正在开发一个企业级后台管理系统。面对着传统多页面应用带来的频繁刷新和糟糕的用户体验，我开始探索 SPA（单页应用）解决方案。没想到这一探索，让我深深迷上了前端路由的优雅设计。\n\n前端路由就像城市的导航系统，它不仅指引用户到达目的地，更重要的是提供了一种流畅的出行体验。从最初的 Hash 路由（就像城市里的老式路标），到如今的 History 路由（犹如现代化的智能导航），前端路由的演进史正是 Web 应用追求极致用户体验的缩影。\n\n## 1. 前端路由的演进史\n\n在 Web1.0 时代，页面跳转就像是在城市间搭乘长途汽车：每次跳转都要重新装载，等待时间长，体验糟糕。为了解决这个问题，前端路由应运而生，它就像是城市地铁系统，让页面切换变得顺畅自如。\n\n### 两种主流方案\n\n- **Hash 路由**：就像城市里的老式路标，通过 URL 中的`#`（井号）来标识位置。它朴实无华但可靠，就像那些历经岁月考验的老街坊。\n\n- **History 路由**：如同现代化的智能导航，基于 HTML5 History API，提供了更优雅的 URL 展示和更强大的状态管理能力。\n\n## 2. Hash 路由：朴实的老街坊\n\n### 2.1 工作原理\n\n想象一下，Hash 路由就像是一个老式的门牌号系统。当你在城市里看到\"#\"号后面的数字变化时，就知道到了不同的门牌号，而浏览器则是通过监听这个门牌号（hash）的变化来实现页面切换。\n\n```javascript\n// 一个接地气的Hash路由实现\nclass SimpleHashRouter {\n  constructor() {\n    // 路由表，就像一本门牌号指南\n    this.routes = {};\n    // 监听门牌号变化\n    window.addEventListener(\"hashchange\", this.handleRoute.bind(this));\n  }\n\n  // 注册路由，就像登记新的门牌号\n  register(hash, callback) {\n    this.routes[hash] = callback;\n  }\n\n  // 处理路由变化\n  handleRoute() {\n    const hash = window.location.hash.slice(1) || \"/\";\n    const handler = this.routes[hash];\n    if (handler) {\n      handler();\n    } else {\n      console.log(\"404了兄弟，走错门了～\");\n    }\n  }\n}\n\n// 使用示例\nconst router = new SimpleHashRouter();\nrouter.register(\"/\", () => console.log(\"欢迎来到首页\"));\nrouter.register(\"/about\", () => console.log(\"这里是关于页面\"));\n```\n\n### 2.2 实战经验分享\n\n在我早期开发的项目中，就遇到过一个有趣的 Hash 路由问题：当用户手动刷新页面时，有时候会出现路由状态丢失的情况。后来发现这是因为浏览器刷新时会触发`hashchange`事件，但此时组件可能还没有完全初始化。解决方案是在路由初始化时增加了一个状态检查：\n\n```javascript\nclass HashRouter {\n  constructor() {\n    this.isInitialized = false;\n    this.init();\n  }\n\n  async init() {\n    // 等待必要的资源加载完成\n    await this.loadInitialResources();\n    this.isInitialized = true;\n    // 手动触发一次路由检查\n    this.handleRoute();\n  }\n\n  handleRoute() {\n    if (!this.isInitialized) {\n      console.log(\"别急，正在加载必要资源...\");\n      return;\n    }\n    // 正常的路由处理逻辑\n  }\n}\n```\n\n### 2.3 优势与局限\n\n**优势：**\n\n- 像老房子一样结实耐用，兼容性极好\n- 配置简单，无需服务端支持\n- 调试方便，URL 的变化一目了然\n\n**局限性：**\n\n- URL 中的#符号就像老式门牌，不够美观\n- 锚点功能会受影响（因为#被路由占用了）\n- 无法通过 URL 直接分享特定状态（因为#后面的内容不会发送到服务器）\n\n## 3. History 路由：优雅的新贵\n\n### 3.1 实战案例\n\n在一个大型电商项目中，我们需要实现一个复杂的商品筛选功能，要求筛选条件能够体现在 URL 中，并支持前进后退操作。History 路由完美地解决了这个需求：\n\n```javascript\nclass FilterableProductList {\n  constructor() {\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    // 监听筛选条件变化\n    document.querySelectorAll(\".filter-item\").forEach((item) => {\n      item.addEventListener(\"change\", (e) => {\n        const newState = this.getFilterState();\n        // 更新URL，并保存筛选状态\n        history.pushState(newState, \"\", this.generateFilterUrl(newState));\n        this.updateProductList(newState);\n      });\n    });\n\n    // 处理浏览器前进后退\n    window.addEventListener(\"popstate\", (e) => {\n      const state = e.state || this.getDefaultState();\n      this.updateProductList(state);\n      this.updateFilterUI(state);\n    });\n  }\n\n  generateFilterUrl(state) {\n    const params = new URLSearchParams();\n    Object.entries(state).forEach(([key, value]) => {\n      if (value) params.append(key, value);\n    });\n    return `${window.location.pathname}?${params.toString()}`;\n  }\n}\n```\n\n### 3.2 踩坑记录\n\n在使用 History 路由时，我曾经遇到过一个典型的问题：用户通过浏览器直接访问子路由时返回 404。这是因为服务器没有正确配置。以 Nginx 为例，解决方案是：\n\n```nginx\nserver {\n    listen 80;\n    server_name example.com;\n\n    location / {\n        root /usr/share/nginx/html;\n        # 关键配置：所有路由都重定向到index.html\n        try_files $uri $uri/ /index.html;\n    }\n}\n```\n\n## 4. 路由动画：锦上添花\n\n说到用户体验，不得不提路由切换动画。一个平滑的过渡动画能让用户感知到页面的变化过程，提供更好的体验。这里分享一个实用的路由动画实现：\n\n```javascript\nclass AnimatedRouter {\n  constructor() {\n    this.container = document.querySelector(\".page-container\");\n    this.currentPage = null;\n  }\n\n  async navigate(path) {\n    // 准备新页面\n    const newPage = await this.loadPage(path);\n\n    // 执行过渡动画\n    this.container.classList.add(\"fade-out\");\n\n    // 等待动画完成\n    await new Promise((resolve) => {\n      this.container.addEventListener(\"transitionend\", resolve, { once: true });\n    });\n\n    // 更换页面内容\n    if (this.currentPage) {\n      this.currentPage.remove();\n    }\n    this.container.appendChild(newPage);\n    this.currentPage = newPage;\n\n    // 执行进入动画\n    this.container.classList.remove(\"fade-out\");\n    this.container.classList.add(\"fade-in\");\n\n    // 更新历史记录\n    history.pushState(null, \"\", path);\n  }\n}\n\n// 配套的CSS\n/*\n.page-container {\n  transition: opacity 0.3s ease;\n}\n\n.fade-out {\n  opacity: 0;\n}\n\n.fade-in {\n  opacity: 1;\n}\n*/\n```\n\n## 5. 权限路由：安全卫士\n\n在实际项目中，权限控制是一个不可或缺的环节。这就像一个智能门禁系统，需要验证访客的身份才能放行。以下是一个基于 React 的权限路由实现：\n\n```jsx\n// PrivateRoute组件\nconst PrivateRoute = ({ children }) => {\n  const { user, loading } = useAuth(); // 自定义hook获取用户信息\n  const location = useLocation();\n\n  // 处理加载状态\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  // 未登录用户重定向到登录页\n  if (!user) {\n    return <Navigate to=\"/login\" state={{ from: location.pathname }} replace />;\n  }\n\n  // 验证用户权限\n  if (!hasPermission(user, location.pathname)) {\n    return <NoPermissionPage />;\n  }\n\n  return children;\n};\n```\n\n## 6. 路由懒加载：性能优化实践\n\n随着应用规模的增长，一次性加载所有路由组件会导致首屏加载时间过长。这时候就需要用到路由懒加载了。在 React 中，我们可以这样实现：\n\n```jsx\nimport { lazy, Suspense } from \"react\";\n\n// 懒加载路由组件\nconst Home = lazy(() => import(\"./pages/Home\"));\nconst About = lazy(() => import(\"./pages/About\"));\nconst Dashboard = lazy(() => import(\"./pages/Dashboard\"));\n\nfunction App() {\n  return (\n    <Router>\n      <Suspense fallback={<LoadingSpinner />}>\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/about\" element={<About />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <PrivateRoute>\n                <Dashboard />\n              </PrivateRoute>\n            }\n          />\n        </Routes>\n      </Suspense>\n    </Router>\n  );\n}\n```\n\n## 7. 总结与展望\n\n前端路由的发展历程，就像是一部城市现代化的缩影。从最初的 Hash 路由到现代的 History 路由，每一次进步都是为了提供更好的用户体验。\n\n在实际开发中，选择合适的路由方案不仅要考虑技术因素，还要权衡业务需求、用户体验和维护成本。就像选择交通工具一样，没有最好的，只有最合适的。\n\n展望未来，随着 Web 技术的发展，相信会出现更多创新的路由解决方案。比如，结合 WebAssembly 的高性能路由、基于 AI 的智能路由预测等等。作为开发者，我们要保持开放和学习的心态，在实践中不断提升技术水平。\n\n---\n\n如果这篇文章对你有帮助，欢迎在评论区分享你的想法和经验。如果你在实际项目中遇到了路由相关的问题，也可以留言交流，让我们一起进步！\n",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var u=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),g=(e,l)=>{for(var r in l)c(e,r,{get:l[r],enumerable:!0})},o=(e,l,r,a)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let s of y(l))!B.call(e,s)&&s!==r&&c(e,s,{get:()=>l[s],enumerable:!(a=E(l,s))||a.enumerable});return e};var m=(e,l,r)=>(r=e!=null?p(F(e)):{},o(l||!e||!e.__esModule?c(r,\"default\",{value:e,enumerable:!0}):r,e)),f=e=>o(c({},\"__esModule\",{value:!0}),e);var d=u((C,i)=>{i.exports=_jsx_runtime});var b={};g(b,{default:()=>h,frontmatter:()=>A});var n=m(d()),A={type:\"Post\",title:\"\\u524D\\u7AEF\\u8DEF\\u7531\\u79D8\\u53F2\\uFF1AHash\\u4E0EHistory\\u7684\\u653B\\u9632\\u6218\",date:\"2023-10-02\",description:\"\\u6DF1\\u5165\\u89E3\\u6790\\u524D\\u7AEF\\u8DEF\\u7531\\u7684\\u53D1\\u5C55\\u5386\\u7A0B\\uFF0C\\u63A2\\u8BA8 Hash \\u4E0E History \\u8DEF\\u7531\\u7684\\u4F18\\u7F3A\\u70B9\\u53CA\\u5176\\u5728\\u6743\\u9650\\u8DEF\\u7531\\u62E6\\u622A\\u4E2D\\u7684\\u5E94\\u7528\\uFF0C\\u6BD4\\u8F83\\u7248\\u672C 15 \\u4E0E 18 \\u7684\\u5DEE\\u5F02\\u3002\",keywords:\"\\u524D\\u7AEF\\u8DEF\\u7531, Hash, History, \\u6743\\u9650\\u8DEF\\u7531\\u62E6\\u622A, \\u7248\\u672C\\u6BD4\\u8F83, \\u524D\\u7AEF\\u5F00\\u53D1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/front-end-routing.jpg\",tags:[\"\\u524D\\u7AEF\\u8DEF\\u7531\",\"Hash\",\"History\",\"\\u6743\\u9650\\u8DEF\\u7531\\u62E6\\u622A\",\"\\u7248\\u672C\\u5BF9\\u6BD4\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function t(e){let l={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.h2,{id:\"\\u524D\\u8A00\",children:(0,n.jsx)(l.a,{href:\"#\\u524D\\u8A00\",children:\"\\u524D\\u8A00\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8FD8\\u8BB0\\u5F97\\u6211\\u7B2C\\u4E00\\u6B21\\u63A5\\u89E6\\u524D\\u7AEF\\u8DEF\\u7531\\u65F6\\u7684\\u60C5\\u666F\\uFF1A\\u90A3\\u662F 2021 \\u5E74\\uFF0C\\u5F53\\u65F6\\u6211\\u6B63\\u5728\\u5F00\\u53D1\\u4E00\\u4E2A\\u4F01\\u4E1A\\u7EA7\\u540E\\u53F0\\u7BA1\\u7406\\u7CFB\\u7EDF\\u3002\\u9762\\u5BF9\\u7740\\u4F20\\u7EDF\\u591A\\u9875\\u9762\\u5E94\\u7528\\u5E26\\u6765\\u7684\\u9891\\u7E41\\u5237\\u65B0\\u548C\\u7CDF\\u7CD5\\u7684\\u7528\\u6237\\u4F53\\u9A8C\\uFF0C\\u6211\\u5F00\\u59CB\\u63A2\\u7D22 SPA\\uFF08\\u5355\\u9875\\u5E94\\u7528\\uFF09\\u89E3\\u51B3\\u65B9\\u6848\\u3002\\u6CA1\\u60F3\\u5230\\u8FD9\\u4E00\\u63A2\\u7D22\\uFF0C\\u8BA9\\u6211\\u6DF1\\u6DF1\\u8FF7\\u4E0A\\u4E86\\u524D\\u7AEF\\u8DEF\\u7531\\u7684\\u4F18\\u96C5\\u8BBE\\u8BA1\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u524D\\u7AEF\\u8DEF\\u7531\\u5C31\\u50CF\\u57CE\\u5E02\\u7684\\u5BFC\\u822A\\u7CFB\\u7EDF\\uFF0C\\u5B83\\u4E0D\\u4EC5\\u6307\\u5F15\\u7528\\u6237\\u5230\\u8FBE\\u76EE\\u7684\\u5730\\uFF0C\\u66F4\\u91CD\\u8981\\u7684\\u662F\\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u6D41\\u7545\\u7684\\u51FA\\u884C\\u4F53\\u9A8C\\u3002\\u4ECE\\u6700\\u521D\\u7684 Hash \\u8DEF\\u7531\\uFF08\\u5C31\\u50CF\\u57CE\\u5E02\\u91CC\\u7684\\u8001\\u5F0F\\u8DEF\\u6807\\uFF09\\uFF0C\\u5230\\u5982\\u4ECA\\u7684 History \\u8DEF\\u7531\\uFF08\\u72B9\\u5982\\u73B0\\u4EE3\\u5316\\u7684\\u667A\\u80FD\\u5BFC\\u822A\\uFF09\\uFF0C\\u524D\\u7AEF\\u8DEF\\u7531\\u7684\\u6F14\\u8FDB\\u53F2\\u6B63\\u662F Web \\u5E94\\u7528\\u8FFD\\u6C42\\u6781\\u81F4\\u7528\\u6237\\u4F53\\u9A8C\\u7684\\u7F29\\u5F71\\u3002\"}),`\n`,(0,n.jsx)(l.h2,{id:\"1-\\u524D\\u7AEF\\u8DEF\\u7531\\u7684\\u6F14\\u8FDB\\u53F2\",children:(0,n.jsx)(l.a,{href:\"#1-\\u524D\\u7AEF\\u8DEF\\u7531\\u7684\\u6F14\\u8FDB\\u53F2\",children:\"1. \\u524D\\u7AEF\\u8DEF\\u7531\\u7684\\u6F14\\u8FDB\\u53F2\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728 Web1.0 \\u65F6\\u4EE3\\uFF0C\\u9875\\u9762\\u8DF3\\u8F6C\\u5C31\\u50CF\\u662F\\u5728\\u57CE\\u5E02\\u95F4\\u642D\\u4E58\\u957F\\u9014\\u6C7D\\u8F66\\uFF1A\\u6BCF\\u6B21\\u8DF3\\u8F6C\\u90FD\\u8981\\u91CD\\u65B0\\u88C5\\u8F7D\\uFF0C\\u7B49\\u5F85\\u65F6\\u95F4\\u957F\\uFF0C\\u4F53\\u9A8C\\u7CDF\\u7CD5\\u3002\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u524D\\u7AEF\\u8DEF\\u7531\\u5E94\\u8FD0\\u800C\\u751F\\uFF0C\\u5B83\\u5C31\\u50CF\\u662F\\u57CE\\u5E02\\u5730\\u94C1\\u7CFB\\u7EDF\\uFF0C\\u8BA9\\u9875\\u9762\\u5207\\u6362\\u53D8\\u5F97\\u987A\\u7545\\u81EA\\u5982\\u3002\"}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u4E24\\u79CD\\u4E3B\\u6D41\\u65B9\\u6848\",children:(0,n.jsx)(l.a,{href:\"#\\u4E24\\u79CD\\u4E3B\\u6D41\\u65B9\\u6848\",children:\"\\u4E24\\u79CD\\u4E3B\\u6D41\\u65B9\\u6848\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"Hash \\u8DEF\\u7531\"}),\"\\uFF1A\\u5C31\\u50CF\\u57CE\\u5E02\\u91CC\\u7684\\u8001\\u5F0F\\u8DEF\\u6807\\uFF0C\\u901A\\u8FC7 URL \\u4E2D\\u7684\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"#\"})})})}),\"\\uFF08\\u4E95\\u53F7\\uFF09\\u6765\\u6807\\u8BC6\\u4F4D\\u7F6E\\u3002\\u5B83\\u6734\\u5B9E\\u65E0\\u534E\\u4F46\\u53EF\\u9760\\uFF0C\\u5C31\\u50CF\\u90A3\\u4E9B\\u5386\\u7ECF\\u5C81\\u6708\\u8003\\u9A8C\\u7684\\u8001\\u8857\\u574A\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.li,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"History \\u8DEF\\u7531\"}),\"\\uFF1A\\u5982\\u540C\\u73B0\\u4EE3\\u5316\\u7684\\u667A\\u80FD\\u5BFC\\u822A\\uFF0C\\u57FA\\u4E8E HTML5 History API\\uFF0C\\u63D0\\u4F9B\\u4E86\\u66F4\\u4F18\\u96C5\\u7684 URL \\u5C55\\u793A\\u548C\\u66F4\\u5F3A\\u5927\\u7684\\u72B6\\u6001\\u7BA1\\u7406\\u80FD\\u529B\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"2-hash-\\u8DEF\\u7531\\u6734\\u5B9E\\u7684\\u8001\\u8857\\u574A\",children:(0,n.jsx)(l.a,{href:\"#2-hash-\\u8DEF\\u7531\\u6734\\u5B9E\\u7684\\u8001\\u8857\\u574A\",children:\"2. Hash \\u8DEF\\u7531\\uFF1A\\u6734\\u5B9E\\u7684\\u8001\\u8857\\u574A\"})}),`\n`,(0,n.jsx)(l.h3,{id:\"21-\\u5DE5\\u4F5C\\u539F\\u7406\",children:(0,n.jsx)(l.a,{href:\"#21-\\u5DE5\\u4F5C\\u539F\\u7406\",children:\"2.1 \\u5DE5\\u4F5C\\u539F\\u7406\"})}),`\n`,(0,n.jsx)(l.p,{children:'\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0CHash \\u8DEF\\u7531\\u5C31\\u50CF\\u662F\\u4E00\\u4E2A\\u8001\\u5F0F\\u7684\\u95E8\\u724C\\u53F7\\u7CFB\\u7EDF\\u3002\\u5F53\\u4F60\\u5728\\u57CE\\u5E02\\u91CC\\u770B\\u5230\"#\"\\u53F7\\u540E\\u9762\\u7684\\u6570\\u5B57\\u53D8\\u5316\\u65F6\\uFF0C\\u5C31\\u77E5\\u9053\\u5230\\u4E86\\u4E0D\\u540C\\u7684\\u95E8\\u724C\\u53F7\\uFF0C\\u800C\\u6D4F\\u89C8\\u5668\\u5219\\u662F\\u901A\\u8FC7\\u76D1\\u542C\\u8FD9\\u4E2A\\u95E8\\u724C\\u53F7\\uFF08hash\\uFF09\\u7684\\u53D8\\u5316\\u6765\\u5B9E\\u73B0\\u9875\\u9762\\u5207\\u6362\\u3002'}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4E00\\u4E2A\\u63A5\\u5730\\u6C14\\u7684Hash\\u8DEF\\u7531\\u5B9E\\u73B0\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" SimpleHashRouter\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u8DEF\\u7531\\u8868\\uFF0C\\u5C31\\u50CF\\u4E00\\u672C\\u95E8\\u724C\\u53F7\\u6307\\u5357\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".routes \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u76D1\\u542C\\u95E8\\u724C\\u53F7\\u53D8\\u5316\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    window.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"hashchange\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".handleRoute.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"bind\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u6CE8\\u518C\\u8DEF\\u7531\\uFF0C\\u5C31\\u50CF\\u767B\\u8BB0\\u65B0\\u7684\\u95E8\\u724C\\u53F7\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  register\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".routes[hash] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" callback;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u5904\\u7406\\u8DEF\\u7531\\u53D8\\u5316\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  handleRoute\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" window.location.hash.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"slice\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"/\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" handler\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".routes[hash];\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (handler) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      handler\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"404\\u4E86\\u5144\\u5F1F\\uFF0C\\u8D70\\u9519\\u95E8\\u4E86\\uFF5E\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" router\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" SimpleHashRouter\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"register\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6B22\\u8FCE\\u6765\\u5230\\u9996\\u9875\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"register\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/about\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8FD9\\u91CC\\u662F\\u5173\\u4E8E\\u9875\\u9762\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"22-\\u5B9E\\u6218\\u7ECF\\u9A8C\\u5206\\u4EAB\",children:(0,n.jsx)(l.a,{href:\"#22-\\u5B9E\\u6218\\u7ECF\\u9A8C\\u5206\\u4EAB\",children:\"2.2 \\u5B9E\\u6218\\u7ECF\\u9A8C\\u5206\\u4EAB\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5728\\u6211\\u65E9\\u671F\\u5F00\\u53D1\\u7684\\u9879\\u76EE\\u4E2D\\uFF0C\\u5C31\\u9047\\u5230\\u8FC7\\u4E00\\u4E2A\\u6709\\u8DA3\\u7684 Hash \\u8DEF\\u7531\\u95EE\\u9898\\uFF1A\\u5F53\\u7528\\u6237\\u624B\\u52A8\\u5237\\u65B0\\u9875\\u9762\\u65F6\\uFF0C\\u6709\\u65F6\\u5019\\u4F1A\\u51FA\\u73B0\\u8DEF\\u7531\\u72B6\\u6001\\u4E22\\u5931\\u7684\\u60C5\\u51B5\\u3002\\u540E\\u6765\\u53D1\\u73B0\\u8FD9\\u662F\\u56E0\\u4E3A\\u6D4F\\u89C8\\u5668\\u5237\\u65B0\\u65F6\\u4F1A\\u89E6\\u53D1\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"hashchange\"})})})}),\"\\u4E8B\\u4EF6\\uFF0C\\u4F46\\u6B64\\u65F6\\u7EC4\\u4EF6\\u53EF\\u80FD\\u8FD8\\u6CA1\\u6709\\u5B8C\\u5168\\u521D\\u59CB\\u5316\\u3002\\u89E3\\u51B3\\u65B9\\u6848\\u662F\\u5728\\u8DEF\\u7531\\u521D\\u59CB\\u5316\\u65F6\\u589E\\u52A0\\u4E86\\u4E00\\u4E2A\\u72B6\\u6001\\u68C0\\u67E5\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" HashRouter\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".isInitialized \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"init\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" init\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u7B49\\u5F85\\u5FC5\\u8981\\u7684\\u8D44\\u6E90\\u52A0\\u8F7D\\u5B8C\\u6210\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"loadInitialResources\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".isInitialized \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u624B\\u52A8\\u89E6\\u53D1\\u4E00\\u6B21\\u8DEF\\u7531\\u68C0\\u67E5\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"handleRoute\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  handleRoute\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".isInitialized) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u522B\\u6025\\uFF0C\\u6B63\\u5728\\u52A0\\u8F7D\\u5FC5\\u8981\\u8D44\\u6E90...\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6B63\\u5E38\\u7684\\u8DEF\\u7531\\u5904\\u7406\\u903B\\u8F91\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"23-\\u4F18\\u52BF\\u4E0E\\u5C40\\u9650\",children:(0,n.jsx)(l.a,{href:\"#23-\\u4F18\\u52BF\\u4E0E\\u5C40\\u9650\",children:\"2.3 \\u4F18\\u52BF\\u4E0E\\u5C40\\u9650\"})}),`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.strong,{children:\"\\u4F18\\u52BF\\uFF1A\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u50CF\\u8001\\u623F\\u5B50\\u4E00\\u6837\\u7ED3\\u5B9E\\u8010\\u7528\\uFF0C\\u517C\\u5BB9\\u6027\\u6781\\u597D\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u914D\\u7F6E\\u7B80\\u5355\\uFF0C\\u65E0\\u9700\\u670D\\u52A1\\u7AEF\\u652F\\u6301\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u8C03\\u8BD5\\u65B9\\u4FBF\\uFF0CURL \\u7684\\u53D8\\u5316\\u4E00\\u76EE\\u4E86\\u7136\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.strong,{children:\"\\u5C40\\u9650\\u6027\\uFF1A\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"URL \\u4E2D\\u7684#\\u7B26\\u53F7\\u5C31\\u50CF\\u8001\\u5F0F\\u95E8\\u724C\\uFF0C\\u4E0D\\u591F\\u7F8E\\u89C2\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u951A\\u70B9\\u529F\\u80FD\\u4F1A\\u53D7\\u5F71\\u54CD\\uFF08\\u56E0\\u4E3A#\\u88AB\\u8DEF\\u7531\\u5360\\u7528\\u4E86\\uFF09\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u65E0\\u6CD5\\u901A\\u8FC7 URL \\u76F4\\u63A5\\u5206\\u4EAB\\u7279\\u5B9A\\u72B6\\u6001\\uFF08\\u56E0\\u4E3A#\\u540E\\u9762\\u7684\\u5185\\u5BB9\\u4E0D\\u4F1A\\u53D1\\u9001\\u5230\\u670D\\u52A1\\u5668\\uFF09\"}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"3-history-\\u8DEF\\u7531\\u4F18\\u96C5\\u7684\\u65B0\\u8D35\",children:(0,n.jsx)(l.a,{href:\"#3-history-\\u8DEF\\u7531\\u4F18\\u96C5\\u7684\\u65B0\\u8D35\",children:\"3. History \\u8DEF\\u7531\\uFF1A\\u4F18\\u96C5\\u7684\\u65B0\\u8D35\"})}),`\n`,(0,n.jsx)(l.h3,{id:\"31-\\u5B9E\\u6218\\u6848\\u4F8B\",children:(0,n.jsx)(l.a,{href:\"#31-\\u5B9E\\u6218\\u6848\\u4F8B\",children:\"3.1 \\u5B9E\\u6218\\u6848\\u4F8B\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u4E00\\u4E2A\\u5927\\u578B\\u7535\\u5546\\u9879\\u76EE\\u4E2D\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5B9E\\u73B0\\u4E00\\u4E2A\\u590D\\u6742\\u7684\\u5546\\u54C1\\u7B5B\\u9009\\u529F\\u80FD\\uFF0C\\u8981\\u6C42\\u7B5B\\u9009\\u6761\\u4EF6\\u80FD\\u591F\\u4F53\\u73B0\\u5728 URL \\u4E2D\\uFF0C\\u5E76\\u652F\\u6301\\u524D\\u8FDB\\u540E\\u9000\\u64CD\\u4F5C\\u3002History \\u8DEF\\u7531\\u5B8C\\u7F8E\\u5730\\u89E3\\u51B3\\u4E86\\u8FD9\\u4E2A\\u9700\\u6C42\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" FilterableProductList\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"bindEvents\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  bindEvents\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u76D1\\u542C\\u7B5B\\u9009\\u6761\\u4EF6\\u53D8\\u5316\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    document.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"querySelectorAll\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\".filter-item\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      item.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"change\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" newState\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getFilterState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"        // \\u66F4\\u65B0URL\\uFF0C\\u5E76\\u4FDD\\u5B58\\u7B5B\\u9009\\u72B6\\u6001\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        history.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"pushState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(newState, \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"generateFilterUrl\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(newState));\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"updateProductList\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(newState);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u5904\\u7406\\u6D4F\\u89C8\\u5668\\u524D\\u8FDB\\u540E\\u9000\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    window.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"popstate\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" state\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" e.state \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getDefaultState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"updateProductList\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(state);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"updateFilterUI\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(state);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  generateFilterUrl\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" params\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" URLSearchParams\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    Object.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"entries\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(state).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(([\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (value) params.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"append\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(key, value);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" `${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"window\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"location\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"pathname\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}?${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"params\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toString\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"32-\\u8E29\\u5751\\u8BB0\\u5F55\",children:(0,n.jsx)(l.a,{href:\"#32-\\u8E29\\u5751\\u8BB0\\u5F55\",children:\"3.2 \\u8E29\\u5751\\u8BB0\\u5F55\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u4F7F\\u7528 History \\u8DEF\\u7531\\u65F6\\uFF0C\\u6211\\u66FE\\u7ECF\\u9047\\u5230\\u8FC7\\u4E00\\u4E2A\\u5178\\u578B\\u7684\\u95EE\\u9898\\uFF1A\\u7528\\u6237\\u901A\\u8FC7\\u6D4F\\u89C8\\u5668\\u76F4\\u63A5\\u8BBF\\u95EE\\u5B50\\u8DEF\\u7531\\u65F6\\u8FD4\\u56DE 404\\u3002\\u8FD9\\u662F\\u56E0\\u4E3A\\u670D\\u52A1\\u5668\\u6CA1\\u6709\\u6B63\\u786E\\u914D\\u7F6E\\u3002\\u4EE5 Nginx \\u4E3A\\u4F8B\\uFF0C\\u89E3\\u51B3\\u65B9\\u6848\\u662F\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"server\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    listen \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"80\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    server_name \"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"example.com;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    location\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" / \"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        root \"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"/usr/share/nginx/html;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"        # \\u5173\\u952E\\u914D\\u7F6E\\uFF1A\\u6240\\u6709\\u8DEF\\u7531\\u90FD\\u91CD\\u5B9A\\u5411\\u5230index.html\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        try_files \"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"$uri $uri/ /index.html;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h2,{id:\"4-\\u8DEF\\u7531\\u52A8\\u753B\\u9526\\u4E0A\\u6DFB\\u82B1\",children:(0,n.jsx)(l.a,{href:\"#4-\\u8DEF\\u7531\\u52A8\\u753B\\u9526\\u4E0A\\u6DFB\\u82B1\",children:\"4. \\u8DEF\\u7531\\u52A8\\u753B\\uFF1A\\u9526\\u4E0A\\u6DFB\\u82B1\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8BF4\\u5230\\u7528\\u6237\\u4F53\\u9A8C\\uFF0C\\u4E0D\\u5F97\\u4E0D\\u63D0\\u8DEF\\u7531\\u5207\\u6362\\u52A8\\u753B\\u3002\\u4E00\\u4E2A\\u5E73\\u6ED1\\u7684\\u8FC7\\u6E21\\u52A8\\u753B\\u80FD\\u8BA9\\u7528\\u6237\\u611F\\u77E5\\u5230\\u9875\\u9762\\u7684\\u53D8\\u5316\\u8FC7\\u7A0B\\uFF0C\\u63D0\\u4F9B\\u66F4\\u597D\\u7684\\u4F53\\u9A8C\\u3002\\u8FD9\\u91CC\\u5206\\u4EAB\\u4E00\\u4E2A\\u5B9E\\u7528\\u7684\\u8DEF\\u7531\\u52A8\\u753B\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" AnimatedRouter\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".container \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\".page-container\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".currentPage \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" navigate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"path\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u51C6\\u5907\\u65B0\\u9875\\u9762\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" newPage\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"loadPage\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(path);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6267\\u884C\\u8FC7\\u6E21\\u52A8\\u753B\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".container.classList.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"fade-out\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u7B49\\u5F85\\u52A8\\u753B\\u5B8C\\u6210\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".container.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"transitionend\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", resolve, { once: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u66F4\\u6362\\u9875\\u9762\\u5185\\u5BB9\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".currentPage) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".currentPage.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"remove\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".container.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(newPage);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".currentPage \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" newPage;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6267\\u884C\\u8FDB\\u5165\\u52A8\\u753B\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".container.classList.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"remove\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"fade-out\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".container.classList.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"fade-in\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u66F4\\u65B0\\u5386\\u53F2\\u8BB0\\u5F55\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    history.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"pushState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", path);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u914D\\u5957\\u7684CSS\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"/*\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\".page-container {\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  transition: opacity 0.3s ease;\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\".fade-out {\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  opacity: 0;\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\".fade-in {\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  opacity: 1;\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"*/\"})})]})})}),`\n`,(0,n.jsx)(l.h2,{id:\"5-\\u6743\\u9650\\u8DEF\\u7531\\u5B89\\u5168\\u536B\\u58EB\",children:(0,n.jsx)(l.a,{href:\"#5-\\u6743\\u9650\\u8DEF\\u7531\\u5B89\\u5168\\u536B\\u58EB\",children:\"5. \\u6743\\u9650\\u8DEF\\u7531\\uFF1A\\u5B89\\u5168\\u536B\\u58EB\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u5B9E\\u9645\\u9879\\u76EE\\u4E2D\\uFF0C\\u6743\\u9650\\u63A7\\u5236\\u662F\\u4E00\\u4E2A\\u4E0D\\u53EF\\u6216\\u7F3A\\u7684\\u73AF\\u8282\\u3002\\u8FD9\\u5C31\\u50CF\\u4E00\\u4E2A\\u667A\\u80FD\\u95E8\\u7981\\u7CFB\\u7EDF\\uFF0C\\u9700\\u8981\\u9A8C\\u8BC1\\u8BBF\\u5BA2\\u7684\\u8EAB\\u4EFD\\u624D\\u80FD\\u653E\\u884C\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u57FA\\u4E8E React \\u7684\\u6743\\u9650\\u8DEF\\u7531\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// PrivateRoute\\u7EC4\\u4EF6\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" PrivateRoute\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"children\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"user\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"loading\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useAuth\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u81EA\\u5B9A\\u4E49hook\\u83B7\\u53D6\\u7528\\u6237\\u4FE1\\u606F\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" location\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useLocation\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u5904\\u7406\\u52A0\\u8F7D\\u72B6\\u6001\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (loading) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"LoadingSpinner\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u672A\\u767B\\u5F55\\u7528\\u6237\\u91CD\\u5B9A\\u5411\\u5230\\u767B\\u5F55\\u9875\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"user) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Navigate\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" to\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/login\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" state\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{{ from: location.pathname }} \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"replace\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u9A8C\\u8BC1\\u7528\\u6237\\u6743\\u9650\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"hasPermission\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(user, location.pathname)) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"NoPermissionPage\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" children;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsx)(l.h2,{id:\"6-\\u8DEF\\u7531\\u61D2\\u52A0\\u8F7D\\u6027\\u80FD\\u4F18\\u5316\\u5B9E\\u8DF5\",children:(0,n.jsx)(l.a,{href:\"#6-\\u8DEF\\u7531\\u61D2\\u52A0\\u8F7D\\u6027\\u80FD\\u4F18\\u5316\\u5B9E\\u8DF5\",children:\"6. \\u8DEF\\u7531\\u61D2\\u52A0\\u8F7D\\uFF1A\\u6027\\u80FD\\u4F18\\u5316\\u5B9E\\u8DF5\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u968F\\u7740\\u5E94\\u7528\\u89C4\\u6A21\\u7684\\u589E\\u957F\\uFF0C\\u4E00\\u6B21\\u6027\\u52A0\\u8F7D\\u6240\\u6709\\u8DEF\\u7531\\u7EC4\\u4EF6\\u4F1A\\u5BFC\\u81F4\\u9996\\u5C4F\\u52A0\\u8F7D\\u65F6\\u95F4\\u8FC7\\u957F\\u3002\\u8FD9\\u65F6\\u5019\\u5C31\\u9700\\u8981\\u7528\\u5230\\u8DEF\\u7531\\u61D2\\u52A0\\u8F7D\\u4E86\\u3002\\u5728 React \\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u8FD9\\u6837\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { lazy, Suspense } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u61D2\\u52A0\\u8F7D\\u8DEF\\u7531\\u7EC4\\u4EF6\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Home\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" lazy\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"./pages/Home\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" About\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" lazy\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"./pages/About\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Dashboard\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" lazy\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"./pages/Dashboard\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Router\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fallback\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"LoadingSpinner\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />}>\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Routes\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Route\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" path\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" element\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Home\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />} />\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Route\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" path\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/about\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" element\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"About\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />} />\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Route\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            path\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"/dashboard\"'})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            element\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PrivateRoute\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"                <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Dashboard\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PrivateRoute\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          />\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Routes\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Router\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h2,{id:\"7-\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\",children:(0,n.jsx)(l.a,{href:\"#7-\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\",children:\"7. \\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u524D\\u7AEF\\u8DEF\\u7531\\u7684\\u53D1\\u5C55\\u5386\\u7A0B\\uFF0C\\u5C31\\u50CF\\u662F\\u4E00\\u90E8\\u57CE\\u5E02\\u73B0\\u4EE3\\u5316\\u7684\\u7F29\\u5F71\\u3002\\u4ECE\\u6700\\u521D\\u7684 Hash \\u8DEF\\u7531\\u5230\\u73B0\\u4EE3\\u7684 History \\u8DEF\\u7531\\uFF0C\\u6BCF\\u4E00\\u6B21\\u8FDB\\u6B65\\u90FD\\u662F\\u4E3A\\u4E86\\u63D0\\u4F9B\\u66F4\\u597D\\u7684\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\uFF0C\\u9009\\u62E9\\u5408\\u9002\\u7684\\u8DEF\\u7531\\u65B9\\u6848\\u4E0D\\u4EC5\\u8981\\u8003\\u8651\\u6280\\u672F\\u56E0\\u7D20\\uFF0C\\u8FD8\\u8981\\u6743\\u8861\\u4E1A\\u52A1\\u9700\\u6C42\\u3001\\u7528\\u6237\\u4F53\\u9A8C\\u548C\\u7EF4\\u62A4\\u6210\\u672C\\u3002\\u5C31\\u50CF\\u9009\\u62E9\\u4EA4\\u901A\\u5DE5\\u5177\\u4E00\\u6837\\uFF0C\\u6CA1\\u6709\\u6700\\u597D\\u7684\\uFF0C\\u53EA\\u6709\\u6700\\u5408\\u9002\\u7684\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5C55\\u671B\\u672A\\u6765\\uFF0C\\u968F\\u7740 Web \\u6280\\u672F\\u7684\\u53D1\\u5C55\\uFF0C\\u76F8\\u4FE1\\u4F1A\\u51FA\\u73B0\\u66F4\\u591A\\u521B\\u65B0\\u7684\\u8DEF\\u7531\\u89E3\\u51B3\\u65B9\\u6848\\u3002\\u6BD4\\u5982\\uFF0C\\u7ED3\\u5408 WebAssembly \\u7684\\u9AD8\\u6027\\u80FD\\u8DEF\\u7531\\u3001\\u57FA\\u4E8E AI \\u7684\\u667A\\u80FD\\u8DEF\\u7531\\u9884\\u6D4B\\u7B49\\u7B49\\u3002\\u4F5C\\u4E3A\\u5F00\\u53D1\\u8005\\uFF0C\\u6211\\u4EEC\\u8981\\u4FDD\\u6301\\u5F00\\u653E\\u548C\\u5B66\\u4E60\\u7684\\u5FC3\\u6001\\uFF0C\\u5728\\u5B9E\\u8DF5\\u4E2D\\u4E0D\\u65AD\\u63D0\\u5347\\u6280\\u672F\\u6C34\\u5E73\\u3002\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5982\\u679C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5BF9\\u4F60\\u6709\\u5E2E\\u52A9\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u5206\\u4EAB\\u4F60\\u7684\\u60F3\\u6CD5\\u548C\\u7ECF\\u9A8C\\u3002\\u5982\\u679C\\u4F60\\u5728\\u5B9E\\u9645\\u9879\\u76EE\\u4E2D\\u9047\\u5230\\u4E86\\u8DEF\\u7531\\u76F8\\u5173\\u7684\\u95EE\\u9898\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u7559\\u8A00\\u4EA4\\u6D41\\uFF0C\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u8FDB\\u6B65\\uFF01\"})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}return f(b);})();\n;return Component;"
  },
  "_id": "前端技术/前端路由秘史.mdx",
  "_raw": {
    "sourceFilePath": "前端技术/前端路由秘史.mdx",
    "sourceFileName": "前端路由秘史.mdx",
    "sourceFileDir": "前端技术",
    "contentType": "mdx",
    "flattenedPath": "前端技术/前端路由秘史"
  },
  "type": "Post",
  "url": "/blog/前端技术/前端路由秘史"
}
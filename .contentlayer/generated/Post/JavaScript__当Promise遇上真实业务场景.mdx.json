{
  "title": "å½“Promiseé‡ä¸ŠçœŸå®ä¸šåŠ¡åœºæ™¯",
  "date": "2022-02-15T00:00:00.000Z",
  "description": "æ·±å…¥æ¢è®¨ Promise åœ¨å‰ç«¯å¼€å‘ä¸­çš„å®é™…åº”ç”¨ï¼Œç»“åˆä¸šåŠ¡åœºæ™¯ã€åŸç†å‰–æã€æœ€ä½³å®è·µä¸å¹½é»˜é£è¶£çš„ç±»æ¯”ï¼Œå¸¦ä½ ç©è½¬å¼‚æ­¥ç¼–ç¨‹ï¼",
  "keywords": "Promise, JavaScript, å¼‚æ­¥ç¼–ç¨‹, å‰ç«¯å¼€å‘, å¾®ä»»åŠ¡, äº‹ä»¶å¾ªç¯, é”™è¯¯å¤„ç†, å¹¶å‘æ§åˆ¶",
  "author": "æ™“é¾™",
  "image": "/images/hero/promise-in-action.jpg",
  "tags": [
    "JavaScript",
    "å¼‚æ­¥ç¼–ç¨‹",
    "å‰ç«¯å¼€å‘"
  ],
  "views": 0,
  "likes": 0,
  "category": "JavaScript",
  "body": {
    "raw": "\nåœ¨å‰ç«¯å¼€å‘çš„æµ©ç€šå®‡å®™ä¸­ï¼Œ`Promise` å°±åƒä¸€è‰˜å¯é çš„é£èˆ¹ï¼Œè½½ç€æˆ‘ä»¬ç©¿è¶Šå¼‚æ­¥æ“ä½œçš„æ˜Ÿé™…è¿·é›¾ã€‚å®ƒæ—¢ä¼˜é›…åˆå¼ºå¤§ï¼Œè§£å†³äº†å›è°ƒåœ°ç‹±çš„å™©æ¢¦ï¼Œå´ä¹Ÿå¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜å’Œæ€è€ƒã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ `Promise` åœ¨çœŸå®ä¸šåŠ¡åœºæ™¯ä¸­çš„åº”ç”¨ï¼Œä»åŸç†åˆ°å®è·µï¼Œä»é™·é˜±åˆ°æœ€ä½³æ–¹æ¡ˆï¼Œå¸¦ä½ é¢†ç•¥å®ƒçš„é­…åŠ›ä¸â€œå‘â€ã€‚ğŸš€\n\nè¿™ç¯‡æ–‡ç« ä¸ä»…æ˜¯ä¸ºå‰ç«¯å¼€å‘è€…é‡èº«å®šåˆ¶çš„ç¡¬æ ¸æŒ‡å—ï¼Œè¿˜ä¼šç”¨å¹½é»˜çš„ç±»æ¯”ã€ç”ŸåŠ¨çš„ä¾‹å­å’Œæ¸…æ™°çš„è¡¨æ ¼ï¼Œè®©ä½ è¯»èµ·æ¥æ—¢æœ‰è¶£åˆæœ‰æ”¶è·ã€‚æ— è®ºä½ æ˜¯åˆšå…¥é—¨çš„èŒæ–°ï¼Œè¿˜æ˜¯èº«ç»ç™¾æˆ˜çš„è€å°†ï¼Œè¿™é‡Œæ€»æœ‰å€¼å¾—ä½ ç‚¹èµçš„å†…å®¹ï¼ğŸ’¡\n\n## æ–‡ç« ç»“æ„ï¼šæ€ç»´é“¾å¯¼èˆª\n\nä¸ºäº†è®©è¿™ç¯‡é•¿æ–‡ï¼ˆç›®æ ‡ 16,000 å­—+ï¼‰é€»è¾‘æ¸…æ™°ï¼Œæˆ‘ä»¬å…ˆæ¥ä¸€å¼ â€œæ˜Ÿé™…å¯¼èˆªå›¾â€ï¼š\n\n1. **Promise åŸºç¡€ä¸åŸç†**ï¼šä»å¾®ä»»åŠ¡åˆ°äº‹ä»¶å¾ªç¯ï¼Œæ­å¼€ `Promise` çš„ç¥ç§˜é¢çº±ã€‚\n2. **ä¸šåŠ¡åœºæ™¯ä¸­çš„ Promise**ï¼šç»“åˆå®é™…æ¡ˆä¾‹ï¼Œå±•ç¤º `Promise` çš„å¤šé¢æ€§ã€‚\n3. **è¿›é˜¶ç”¨æ³•ä¸å¹¶å‘æ§åˆ¶**ï¼šæ¢ç´¢ `Promise.all`ã€`Promise.race` ç­‰é«˜çº§æŠ€å·§ã€‚\n4. **é”™è¯¯å¤„ç†ä¸è°ƒè¯•**ï¼šå¦‚ä½•ä¼˜é›…åœ°åº”å¯¹ `Promise` çš„â€œå›å˜â€ã€‚\n5. **æœ€ä½³å®è·µä¸æ€§èƒ½ä¼˜åŒ–**ï¼šä»ä»£ç åˆ°å¿ƒæ³•ï¼Œæ‰“é€ å¥å£®çš„å¼‚æ­¥é€»è¾‘ã€‚\n6. **æœªæ¥å±•æœ›ï¼šPromise ä¸ç°ä»£æ¡†æ¶**ï¼š`async/await` å’Œæ¡†æ¶ç”Ÿæ€çš„ç»“åˆã€‚\n7. **æ€»ç»“ä¸å½©è›‹**ï¼šå¹½é»˜æ€»ç»“ï¼Œé™„èµ å®ç”¨ä»£ç ç‰‡æ®µã€‚\n\nå‡†å¤‡å¥½äº†å—ï¼Ÿç³»å¥½å®‰å…¨å¸¦ï¼Œæˆ‘ä»¬å¼€å§‹è¿™åœºå¼‚æ­¥å†’é™©ï¼ğŸ›¸\n\n---\n\n## 1. Promise åŸºç¡€ä¸åŸç†ï¼šä»å¾®ä»»åŠ¡åˆ°äº‹ä»¶å¾ªç¯\n\nåœ¨æ·±å…¥ä¸šåŠ¡åœºæ™¯ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥â€œè§£å‰–â€ä¸€ä¸‹ `Promise`ï¼Œææ¸…æ¥šå®ƒçš„å·¥ä½œåŸç†ã€‚`Promise` å°±åƒä¸€ä¸ªå¤–å–å°å“¥ï¼šä½ ä¸‹äº†å•ï¼ˆå‘èµ·å¼‚æ­¥æ“ä½œï¼‰ï¼Œä»–å»é€é¤ï¼ˆæ‰§è¡Œä»»åŠ¡ï¼‰ï¼Œæœ€åç»™ä½ é€æ¥ç»“æœï¼ˆ`resolve`ï¼‰æˆ–å‘Šè¯‰ä½ é¤é¦†å…³é—¨äº†ï¼ˆ`reject`ï¼‰ã€‚ä½†è¿™èƒŒåï¼ŒJavaScript çš„äº‹ä»¶å¾ªç¯å’Œå¾®ä»»åŠ¡æœºåˆ¶æ‰æ˜¯çœŸæ­£çš„â€œé…é€ä¸­å¿ƒâ€ã€‚\n\n### 1.1 Promise çš„æ ¸å¿ƒæ¦‚å¿µ\n\n`Promise` æ˜¯ä¸€ä¸ªè¡¨ç¤ºå¼‚æ­¥æ“ä½œæœ€ç»ˆå®Œæˆæˆ–å¤±è´¥çš„å¯¹è±¡ã€‚å®ƒæœ‰ä¸‰ç§çŠ¶æ€ï¼š\n\n- **Pending**ï¼šåˆå§‹çŠ¶æ€ï¼Œä»»åŠ¡æ­£åœ¨è¿›è¡Œã€‚\n- **Fulfilled**ï¼šä»»åŠ¡æˆåŠŸå®Œæˆï¼Œè¿”å›ç»“æœã€‚\n- **Rejected**ï¼šä»»åŠ¡å¤±è´¥ï¼Œè¿”å›é”™è¯¯åŸå› ã€‚\n\nä¸€ä¸ªç®€å•çš„ `Promise` ç¤ºä¾‹ï¼š\n\n```javascript\nconst orderPizza = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    const success = Math.random() > 0.2; // 80% æˆåŠŸç‡\n    if (success) {\n      resolve(\"ğŸ• æŠ«è¨é€è¾¾ï¼\");\n    } else {\n      reject(\"ğŸ˜¢ é¤é¦†å…³é—¨äº†ï¼\");\n    }\n  }, 1000);\n});\n\norderPizza\n  .then(result => console.log(result))\n  .catch(error => console.log(error));\n```\n\n### 1.2 å¾®ä»»åŠ¡ä¸äº‹ä»¶å¾ªç¯\n\n`Promise` çš„æ‰§è¡Œç¦»ä¸å¼€ JavaScript çš„äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œäº‹ä»¶å¾ªç¯å°±åƒä¸€ä¸ªå¿™ç¢Œçš„é¤å…ç»ç†ï¼Œä¸æ–­æ£€æŸ¥â€œå®ä»»åŠ¡â€ï¼ˆå¦‚ `setTimeout`ï¼‰å’Œâ€œå¾®ä»»åŠ¡â€ï¼ˆå¦‚ `Promise`ï¼‰é˜Ÿåˆ—ã€‚\n\n- **å®ä»»åŠ¡**ï¼šåŒ…æ‹¬ `setTimeout`ã€`setInterval`ã€DOM äº‹ä»¶ç­‰ã€‚\n- **å¾®ä»»åŠ¡**ï¼šåŒ…æ‹¬ `Promise` çš„ `.then`ã€`.catch`ã€`.finally` å›è°ƒï¼Œä»¥åŠ `MutationObserver`ã€‚\n\nå¾®ä»»åŠ¡çš„ä¼˜å…ˆçº§é«˜äºå®ä»»åŠ¡ï¼Œè¿™æ„å‘³ç€ `Promise` çš„å›è°ƒä¼šåœ¨å½“å‰å®ä»»åŠ¡ç»“æŸåç«‹å³æ‰§è¡Œã€‚æ¥çœ‹ä¸€ä¸ªç»å…¸ä¾‹å­ï¼š\n\n```javascript\nconsole.log(\"1. å¼€å§‹ç‚¹é¤\");\nsetTimeout(() => console.log(\"2. å®ä»»åŠ¡ï¼šå¤–å–åˆ°äº†\"), 0);\nPromise.resolve().then(() => console.log(\"3. å¾®ä»»åŠ¡ï¼šè®¢å•ç¡®è®¤\"));\nconsole.log(\"4. ç‚¹é¤ç»“æŸ\");\n\n```\n\n**è¾“å‡ºé¡ºåº**ï¼š1 â†’ 4 â†’ 3 â†’ 2\n\n**ä¸ºä»€ä¹ˆï¼Ÿ** å› ä¸ºäº‹ä»¶å¾ªç¯ä¼šå…ˆæ‰§è¡ŒåŒæ­¥ä»£ç ï¼ˆ1 å’Œ 4ï¼‰ï¼Œç„¶åæ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆ3ï¼‰ï¼Œæœ€åæ‰§è¡Œå®ä»»åŠ¡ï¼ˆ2ï¼‰ã€‚\n\n*_å°Tipsï¼šç†è§£å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡çš„åŒºåˆ«æ˜¯å†™å‡ºé«˜æ•ˆå¼‚æ­¥ä»£ç çš„åŸºç¡€ï¼Œå°¤å…¶åœ¨æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯ä¸­ï¼Œé¿å…å¾®ä»»åŠ¡é˜Ÿåˆ—å †ç§¯ï¼_*\n\n### 1.3 Promise çš„é“¾å¼è°ƒç”¨\n\n`Promise` çš„é“¾å¼è°ƒç”¨æ˜¯å®ƒçš„æ€æ‰‹é”ä¹‹ä¸€ã€‚æ¯ä¸ª `.then` éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ `Promise`ï¼Œè®©ä½ å¯ä»¥åƒæ­ç§¯æœ¨ä¸€æ ·ä¸²è”æ“ä½œï¼š\n\n```javascript\nconst fetchUser = () =>\n  new Promise(resolve => setTimeout(() => resolve({ id: 1, name: \"æ™“é¾™\" }), 1000));\n\nfetchUser()\n  .then(user => {\n    console.log(`ç”¨æˆ·ï¼š${user.name}`);\n    return fetchUserOrders(user.id); // è¿”å›å¦ä¸€ä¸ª Promise\n  })\n  .then(orders => console.log(`è®¢å•ï¼š${orders}`))\n  .catch(error => console.log(`å‡ºé”™ï¼š${error}`));\n```\n\n**ç±»æ¯”**ï¼šé“¾å¼è°ƒç”¨å°±åƒç‚¹é¤åè‡ªåŠ¨è¿›å…¥â€œé€‰æ‹©é¥®æ–™â†’ç¡®è®¤åœ°å€â†’æ”¯ä»˜â€çš„æµæ°´çº¿ï¼Œçœå»äº†æ‰‹åŠ¨åè°ƒçš„éº»çƒ¦ã€‚\n\n*_å°Tipsï¼šé“¾å¼è°ƒç”¨ä¸­ï¼Œå§‹ç»ˆè¿”å›ä¸€ä¸ªå€¼æˆ–æ–°çš„ Promiseï¼Œç¡®ä¿é“¾æ¡ä¸ä¸­æ–­ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´åç»­ `.then` æ¥æ”¶åˆ° `undefined`ï¼_*\n\n---\n\n## 2. ä¸šåŠ¡åœºæ™¯ä¸­çš„ Promiseï¼šä»ç†è®ºåˆ°å®æˆ˜\n\n`Promise` åœ¨å‰ç«¯å¼€å‘ä¸­æ— å¤„ä¸åœ¨ï¼Œä» API è¯·æ±‚åˆ°æ–‡ä»¶ä¸Šä¼ ï¼Œå†åˆ°å¤æ‚çš„æ•°æ®å¤„ç†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡å‡ ä¸ªçœŸå®çš„ä¸šåŠ¡åœºæ™¯ï¼Œå±•ç¤º `Promise` çš„çµæ´»æ€§ä¸æŒ‘æˆ˜ã€‚\n\n### 2.1 åœºæ™¯ä¸€ï¼šAPI è¯·æ±‚çš„å¹¶å‘ä¸é¡ºåºæ‰§è¡Œ\n\nå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªç”µå•†å¹³å°ï¼Œç”¨æˆ·è¿›å…¥å•†å“è¯¦æƒ…é¡µæ—¶ï¼Œéœ€è¦åŒæ—¶è¯·æ±‚å•†å“ä¿¡æ¯ã€åº“å­˜çŠ¶æ€å’Œç”¨æˆ·è¯„è®ºã€‚è¿™ä¸‰ä¸ª API ç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œä½†ä½ å¸Œæœ›åœ¨æ‰€æœ‰æ•°æ®éƒ½è¿”å›åå†æ¸²æŸ“é¡µé¢ã€‚\n\n**æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `Promise.all` å®ç°å¹¶å‘è¯·æ±‚ã€‚\n\n```javascript\nconst fetchProduct = () => new Promise(resolve => setTimeout(() => resolve({ id: 1, name: \"iPhone 15\" }), 1000));\nconst fetchStock = () => new Promise(resolve => setTimeout(() => resolve({ stock: 50 }), 800));\nconst fetchComments = () => new Promise(resolve => setTimeout(() => resolve([\"å¥½è¯„ï¼\", \"å¾ˆä¸é”™ï¼\"]), 1200));\n\nPromise.all([fetchProduct(), fetchStock(), fetchComments()])\n  .then(([product, stock, comments]) => {\n    console.log(\"å•†å“ä¿¡æ¯ï¼š\", product);\n    console.log(\"åº“å­˜ï¼š\", stock);\n    console.log(\"è¯„è®ºï¼š\", comments);\n    // æ¸²æŸ“é¡µé¢\n  })\n  .catch(error => console.error(\"è¯·æ±‚å¤±è´¥ï¼š\", error));\n```\n\n**ä¼˜ç‚¹**ï¼š`Promise.all` å¹¶å‘æ‰§è¡Œæ‰€æœ‰è¯·æ±‚ï¼Œå‡å°‘æ€»ç­‰å¾…æ—¶é—´ï¼ˆä»¥æœ€æ…¢çš„è¯·æ±‚ä¸ºå‡†ï¼‰ã€‚\n\n**æ³¨æ„**ï¼šå¦‚æœä»»ä¸€è¯·æ±‚å¤±è´¥ï¼Œ`Promise.all` ä¼šç«‹å³ `reject`ï¼Œåç»­è¯·æ±‚çš„ç»“æœä¼šè¢«å¿½ç•¥ã€‚\n\n*_å°Tipsï¼šä¸ºæ¯ä¸ªè¯·æ±‚å•ç‹¬æ·»åŠ  `catch`ï¼Œé¿å… `Promise.all` å› ä¸ºå•ä¸ªå¤±è´¥è€Œå…¨ç›˜å´©æºƒï¼_*\n\n```javascript\nconst safeFetch = promise => promise.catch(err => ({ error: err, data: null }));\n\nPromise.all([safeFetch(fetchProduct()), safeFetch(fetchStock()), safeFetch(fetchComments())])\n  .then(results => {\n    console.log(\"ç»“æœï¼š\", results);\n  });\n```\n\n### 2.2 åœºæ™¯äºŒï¼šæ–‡ä»¶ä¸Šä¼ çš„è¿›åº¦ç®¡ç†\n\nåœ¨æ–‡ä»¶ä¸Šä¼ åœºæ™¯ä¸­ï¼Œç”¨æˆ·å¯èƒ½åŒæ—¶ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œä½ éœ€è¦å±•ç¤ºæ¯ä¸ªæ–‡ä»¶çš„ä¸Šä¼ è¿›åº¦ï¼Œå¹¶åœ¨æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ å®Œæˆåæç¤ºæˆåŠŸã€‚\n\n**æ–¹æ¡ˆ**ï¼šç»“åˆ `Promise.all` å’Œäº‹ä»¶ç›‘å¬ã€‚\n\n```javascript\nfunction uploadFile(file) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", \"/upload\");\n    xhr.upload.onprogress = event => {\n      if (event.lengthComputable) {\n        const percent = (event.loaded / event.total) * 100;\n        console.log(`${file.name} ä¸Šä¼ è¿›åº¦ï¼š${percent}%`);\n      }\n    };\n    xhr.onload = () => resolve(`ä¸Šä¼ æˆåŠŸï¼š${file.name}`);\n    xhr.onerror = () => reject(`ä¸Šä¼ å¤±è´¥ï¼š${file.name}`);\n    xhr.send(file);\n  });\n}\n\nconst files = [file1, file2, file3];\nPromise.all(files.map(file => uploadFile(file)))\n  .then(results => console.log(\"æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ å®Œæˆï¼š\", results))\n  .catch(error => console.error(\"ä¸Šä¼ å‡ºé”™ï¼š\", error));\n```\n\n**ç±»æ¯”**ï¼šæ–‡ä»¶ä¸Šä¼ å°±åƒåŒæ—¶å¯„å‡ºå¤šä¸ªå¿«é€’åŒ…è£¹ï¼Œæ¯ä¸ªåŒ…è£¹æœ‰è‡ªå·±çš„è¿½è¸ªè¿›åº¦ï¼Œä½†ä½ åªå…³å¿ƒæ‰€æœ‰åŒ…è£¹éƒ½é€è¾¾çš„é‚£ä¸€åˆ»ã€‚\n\n*_å°Tipsï¼šä¸ºæ¯ä¸ªæ–‡ä»¶ä¸Šä¼ ä»»åŠ¡æ·»åŠ è¶…æ—¶æœºåˆ¶ï¼Œé¿å…æŸä¸ªæ–‡ä»¶å¡æ­»å¯¼è‡´æ•´ä¸ªæµç¨‹é˜»å¡ï¼_*\n\n### 2.3 åœºæ™¯ä¸‰ï¼šä¾èµ–å…³ç³»çš„å¼‚æ­¥æ“ä½œ\n\nåœ¨æŸäº›åœºæ™¯ä¸­ï¼Œå¼‚æ­¥æ“ä½œæœ‰ä¸¥æ ¼çš„ä¾èµ–å…³ç³»ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·ç™»å½•åéœ€è¦è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œå†æ ¹æ®ç”¨æˆ·ä¿¡æ¯æ‹‰å–è®¢å•åˆ—è¡¨ã€‚\n\n**æ–¹æ¡ˆ**ï¼šåˆ©ç”¨ `Promise` é“¾å¼è°ƒç”¨ã€‚\n\n```javascript\nfunction login() {\n  return new Promise(resolve => setTimeout(() => resolve({ token: \"abc123\" }), 1000));\n}\n\nfunction fetchUser(token) {\n  return new Promise(resolve => setTimeout(() => resolve({ id: 1, name: \"æ™“é¾™\" }), 800));\n}\n\nfunction fetchOrders(userId) {\n  return new Promise(resolve => setTimeout(() => resolve([\"è®¢å•1\", \"è®¢å•2\"]), 1200));\n}\n\nlogin()\n  .then(({ token }) => fetchUser(token))\n  .then(user => fetchOrders(user.id))\n  .then(orders => console.log(\"è®¢å•åˆ—è¡¨ï¼š\", orders))\n  .catch(error => console.error(\"å‡ºé”™ï¼š\", error));\n```\n\n**ç±»æ¯”**ï¼šè¿™å°±åƒåšæŠ«è¨ï¼šå…ˆå‡†å¤‡é¢å›¢ï¼ˆç™»å½•ï¼‰ï¼Œç„¶ååŠ é…±æ–™ï¼ˆè·å–ç”¨æˆ·ä¿¡æ¯ï¼‰ï¼Œæœ€åæ”¾é…æ–™å¹¶çƒ˜çƒ¤ï¼ˆè·å–è®¢å•ï¼‰ã€‚\n\n*_å°Tipsï¼šé¿å…è¿‡æ·±çš„ `Promise` é“¾ï¼Œé€‚å½“ä½¿ç”¨ `async/await` æé«˜ä»£ç å¯è¯»æ€§ï¼_*\n\n---\n\n## 3. è¿›é˜¶ç”¨æ³•ä¸å¹¶å‘æ§åˆ¶ï¼šé‡Šæ”¾ Promise çš„å…¨éƒ¨æ½œåŠ›\n\n`Promise` çš„åŸºç¡€ç”¨æ³•å·²ç»å¾ˆå¼ºå¤§ï¼Œä½†çœŸå®ä¸šåŠ¡åœºæ™¯å¾€å¾€éœ€è¦æ›´å¤æ‚çš„æ§åˆ¶é€»è¾‘ã€‚ä»¥ä¸‹æ˜¯å‡ ç§è¿›é˜¶æŠ€å·§ï¼ŒåŠ©ä½ æ¸¸åˆƒæœ‰ä½™ã€‚\n\n### 3.1 Promise.allSettledï¼šå®½å®¹çš„å¹¶å‘\n\nä¸ `Promise.all` ä¸åŒï¼Œ`Promise.allSettled` ä¼šç­‰å¾…æ‰€æœ‰ `Promise` å®Œæˆï¼ˆæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«çŠ¶æ€å’Œç»“æœçš„æ•°ç»„ã€‚\n\n**åœºæ™¯**ï¼šæ‰¹é‡å‘é€é€šçŸ¥ï¼Œéƒ¨åˆ†å¤±è´¥ä¸å½±å“æ•´ä½“æµç¨‹ã€‚\n\n```javascript\nconst sendNotification = id =>\n  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (Math.random() > 0.3) {\n        resolve(`é€šçŸ¥ ${id} å‘é€æˆåŠŸ`);\n      } else {\n        reject(`é€šçŸ¥ ${id} å‘é€å¤±è´¥`);\n      }\n    }, 1000);\n  });\n\nPromise.allSettled([sendNotification(1), sendNotification(2), sendNotification(3)]).then(results => {\n  results.forEach((result, index) => {\n    console.log(`é€šçŸ¥ ${index + 1}ï¼š`, result.status, result.value || result.reason);\n  });\n});\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n```\né€šçŸ¥ 1ï¼šfulfilled é€šçŸ¥ 1 å‘é€æˆåŠŸ\né€šçŸ¥ 2ï¼šrejected é€šçŸ¥ 2 å‘é€å¤±è´¥\né€šçŸ¥ 3ï¼šfulfilled é€šçŸ¥ 3 å‘é€æˆåŠŸ\n```\n\n*_å°Tipsï¼šä½¿ç”¨ `Promise.allSettled` æ—¶ï¼Œè®°å¾—æ£€æŸ¥æ¯ä¸ªç»“æœçš„ `status`ï¼Œä»¥ä¾¿é’ˆå¯¹å¤±è´¥çš„æƒ…å†µåšé¢å¤–å¤„ç†ï¼_*\n\n### 3.2 Promise.raceï¼šç«é€Ÿæ¨¡å¼\n\n`Promise.race` è¿”å›æœ€å…ˆå®Œæˆçš„ `Promise`ï¼ˆæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰ã€‚è¿™åœ¨è¶…æ—¶æ§åˆ¶åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚\n\n**åœºæ™¯**ï¼šè®¾ç½® API è¯·æ±‚è¶…æ—¶ã€‚\n\n```javascript\nconst fetchData = () =>\n  new Promise(resolve => setTimeout(() => resolve(\"æ•°æ®è·å–æˆåŠŸ\"), 2000));\n\nconst timeout = () =>\n  new Promise((_, reject) => setTimeout(() => reject(\"è¯·æ±‚è¶…æ—¶\"), 1000));\n\nPromise.race([fetchData(), timeout()])\n  .then(result => console.log(result))\n  .catch(error => console.error(error));\n```\n\n**è¾“å‡º**ï¼š`è¯·æ±‚è¶…æ—¶`ï¼ˆå› ä¸ºè¶…æ—¶æ—¶é—´ 1s å°äºè¯·æ±‚æ—¶é—´ 2sï¼‰\n\n**ç±»æ¯”**ï¼š`Promise.race` å°±åƒä¸€åœºèµ›è·‘ï¼Œè°å…ˆåˆ°ç»ˆç‚¹ï¼ˆå®Œæˆæˆ–å¤±è´¥ï¼‰ï¼Œå°±å®£å¸ƒæ¯”èµ›ç»“æŸã€‚\n\n*_å°Tipsï¼šä½¿ç”¨ `Promise.race` æ—¶ï¼Œç¡®ä¿è¶…æ—¶æ—¶é—´åˆç†ï¼Œé¿å…è¿‡æ—©ä¸­æ–­æ­£å¸¸è¯·æ±‚ï¼_*\n\n### 3.3 è‡ªå®šä¹‰å¹¶å‘æ§åˆ¶\n\n`Promise.all` é€‚åˆå…¨é‡å¹¶å‘ï¼Œä½†å¦‚æœè¯·æ±‚é‡å¾ˆå¤§ï¼ˆæ¯”å¦‚æ‰¹é‡å¤„ç† 100 ä¸ªæ–‡ä»¶ï¼‰ï¼Œå¯èƒ½ä¼šå‹å®æœåŠ¡å™¨ã€‚è¿™æ—¶éœ€è¦é™åˆ¶å¹¶å‘æ•°ã€‚\n\n**æ–¹æ¡ˆ**ï¼šå®ç°ä¸€ä¸ªå¹¶å‘é™åˆ¶çš„å·¥å…·å‡½æ•°ã€‚\n\n```javascript\nasync function promisePool(tasks, limit) {\n  const results = [];\n  const executing = [];\n\n  for (const task of tasks) {\n    const p = Promise.resolve().then(() => task());\n    results.push(p);\n\n    if (limit <= tasks.length) {\n      const e = p.then(() => executing.splice(executing.indexOf(e), 1));\n      executing.push(e);\n      if (executing.length >= limit) {\n        await Promise.race(executing);\n      }\n    }\n  }\n\n  return Promise.all(results);\n}\n\n// ç¤ºä¾‹ï¼šé™åˆ¶æœ€å¤š 2 ä¸ªå¹¶å‘\nconst tasks = [\n  () => new Promise(resolve => setTimeout(() => resolve(\"ä»»åŠ¡1\"), 1000)),\n  () => new Promise(resolve => setTimeout(() => resolve(\"ä»»åŠ¡2\"), 2000)),\n  () => new Promise(resolve => setTimeout(() => resolve(\"ä»»åŠ¡3\"), 500)),\n];\npromisePool(tasks, 2).then(results => console.log(\"ç»“æœï¼š\", results));\n```\n\n**ç±»æ¯”**ï¼šè¿™å°±åƒé¤å…åªå¼€æ”¾ä¸¤ä¸ªçƒ¹é¥ªç‚‰ç¶ï¼Œå¨å¸ˆå¿…é¡»è½®æµä½¿ç”¨ï¼Œç¡®ä¿å¨æˆ¿ä¸çˆ†ç‚¸ã€‚\n\n*_å°Tipsï¼šå¹¶å‘é™åˆ¶ä¸ä»…ä¿æŠ¤æœåŠ¡å™¨ï¼Œè¿˜èƒ½æé«˜ä»£ç å¥å£®æ€§ï¼Œè®°å¾—è®°å½•æ¯ä¸ªä»»åŠ¡çš„çŠ¶æ€ï¼_*\n\n---\n\n## 4. é”™è¯¯å¤„ç†ä¸è°ƒè¯•ï¼šè®© Promise ä¸å†â€œå›å˜â€\n\n`Promise` çš„é”™è¯¯å¤„ç†çœ‹ä¼¼ç®€å•ï¼Œä½†ç¨ä¸ç•™ç¥å°±ä¼šæ‰è¿›å‘é‡Œã€‚ä»¥ä¸‹æ˜¯å¸¸è§é—®é¢˜å’Œåº”å¯¹æ–¹æ¡ˆã€‚\n\n### 4.1 ç»Ÿä¸€é”™è¯¯å¤„ç†\n\nåœ¨é“¾å¼è°ƒç”¨ä¸­ï¼Œ`.catch` ä¼šæ•è·é“¾æ¡ä¸­ä»»æ„ä¸€ç¯çš„é”™è¯¯ï¼Œä½†å¦‚æœå¤„ç†ä¸å½“ï¼Œå¯èƒ½å¯¼è‡´åç»­é€»è¾‘ä¸­æ–­ã€‚\n\n**é”™è¯¯ç¤ºä¾‹**ï¼š\n\n```javascript\nfetchUser()\n  .then(user => fetchOrders(user.id))\n  .catch(error => console.error(\"å‡ºé”™ï¼š\", error));\n// å¦‚æœ fetchUser å¤±è´¥ï¼ŒfetchOrders ä¸ä¼šæ‰§è¡Œ\n```\n\n**æ”¹è¿›æ–¹æ¡ˆ**ï¼šä¸ºæ¯ä¸ª `Promise` æ·»åŠ ç‹¬ç«‹é”™è¯¯å¤„ç†ã€‚\n\n```javascript\nfetchUser()\n  .catch(error => {\n    console.error(\"è·å–ç”¨æˆ·å¤±è´¥ï¼š\", error);\n    return null; // è¿”å›é»˜è®¤å€¼ï¼Œç»§ç»­é“¾æ¡\n  })\n  .then(user => (user ? fetchOrders(user.id) : Promise.resolve([])))\n  .then(orders => console.log(\"è®¢å•ï¼š\", orders))\n  .catch(error => console.error(\"è·å–è®¢å•å¤±è´¥ï¼š\", error));\n```\n\n*_å°Tipsï¼šä¸ºæ¯ä¸ªå¼‚æ­¥æ“ä½œæ·»åŠ ç‹¬ç«‹çš„ `.catch`ï¼Œå¹¶è¿”å›é»˜è®¤å€¼ï¼Œé¿å…é“¾æ¡ä¸­æ–­ï¼_*\n\n### 4.2 è°ƒè¯• Promise çš„â€œæ²‰é»˜å¤±è´¥â€\n\næœ‰æ—¶ï¼Œ`Promise` çš„é”™è¯¯è¢«åå™¬ï¼Œå¯¼è‡´é—®é¢˜éš¾ä»¥æ’æŸ¥ã€‚å¸¸è§åŸå› æ˜¯æ²¡æœ‰ `.catch` æˆ–é”™è¯¯è¢«æ„å¤–å¿½ç•¥ã€‚\n\n**è§£å†³æ–¹æ¡ˆ**ï¼šå¯ç”¨æœªå¤„ç†æ‹’ç»çš„ç›‘å¬ã€‚\n\n```javascript\nwindow.addEventListener(\"unhandledrejection\", event => {\n  console.warn(\"æœªå¤„ç†çš„ Promise æ‹’ç»ï¼š\", event.reason);\n});\n\n// ç¤ºä¾‹ï¼šæœªå¤„ç†çš„æ‹’ç»\nnew Promise((_, reject) => reject(\"å‡ºé”™å•¦ï¼\"));\n```\n\n**ç±»æ¯”**ï¼šè¿™å°±åƒç»™é£èˆ¹è£…ä¸Šè­¦æŠ¥å™¨ï¼Œä¸€æ—¦å¼•æ“æ•…éšœï¼ˆæœªå¤„ç†é”™è¯¯ï¼‰ï¼Œç«‹å³é€šçŸ¥ä½ ã€‚\n\n*_å°Tipsï¼šåœ¨å¼€å‘ç¯å¢ƒä¸­å¯ç”¨ `unhandledrejection` ç›‘å¬ï¼Œç”Ÿäº§ç¯å¢ƒä¸­ç»“åˆé”™è¯¯ç›‘æ§å·¥å…·ï¼ˆå¦‚ Sentryï¼‰ï¼_*\n\n### 4.3 é”™è¯¯é‡è¯•æœºåˆ¶\n\nåœ¨ç½‘ç»œä¸ç¨³å®šçš„åœºæ™¯ä¸‹ï¼Œè‡ªåŠ¨é‡è¯•å¯ä»¥æé«˜ç”¨æˆ·ä½“éªŒã€‚\n\n**æ–¹æ¡ˆ**ï¼šå®ç°ä¸€ä¸ªé‡è¯•å‡½æ•°ã€‚\n\n```javascript\nfunction retry(promiseFn, maxRetries = 3, delay = 1000) {\n  return new Promise((resolve, reject) => {\n    function attempt(attemptsLeft) {\n      promiseFn()\n        .then(resolve)\n        .catch(error => {\n          if (attemptsLeft <= 1) return reject(error);\n          setTimeout(() => attempt(attemptsLeft - 1), delay);\n        });\n    }\n    attempt(maxRetries);\n  });\n}\n\n// ç¤ºä¾‹\nconst flakyAPI = () =>\n  new Promise((resolve, reject) => {\n    if (Math.random() > 0.7) resolve(\"æˆåŠŸï¼\");\n    else reject(\"å¤±è´¥ï¼\");\n  });\n\nretry(flakyAPI, 3, 1000)\n  .then(result => console.log(result))\n  .catch(error => console.error(\"æœ€ç»ˆå¤±è´¥ï¼š\", error));\n```\n\n*_å°Tipsï¼šä¸ºé‡è¯•æœºåˆ¶è®¾ç½®ä¸Šé™å’Œå»¶è¿Ÿï¼Œé¿å…æ— é™å¾ªç¯æˆ–è¿‡å¿«é‡è¯•ï¼_*\n\n---\n\n## 5. æœ€ä½³å®è·µä¸æ€§èƒ½ä¼˜åŒ–ï¼šä»ä»£ç åˆ°å¿ƒæ³•\n\nå†™å‡ºå¥å£®çš„ `Promise` ä»£ç ï¼Œä¸ä»…éœ€è¦æŠ€æœ¯ï¼Œè¿˜éœ€è¦ä¸€äº›â€œå¿ƒæ³•â€ã€‚ä»¥ä¸‹æ˜¯ç»è¿‡å®æˆ˜éªŒè¯çš„æœ€ä½³å®è·µã€‚\n\n### 5.1 æœ€ä½³å®è·µä¸€ï¼šå§‹ç»ˆæ˜¾å¼å¤„ç†é”™è¯¯\n\næ— è®ºå¤šä¹ˆç®€å•çš„ `Promise`ï¼Œéƒ½åº”è¯¥æœ‰ `.catch` æˆ– `try/catch`ï¼ˆåœ¨ `async/await` ä¸­ï¼‰ã€‚\n\n```javascript\nasync function fetchData() {\n  try {\n    const data = await fetch(\"/api/data\");\n    return data.json();\n  } catch (error) {\n    console.error(\"è¯·æ±‚å¤±è´¥ï¼š\", error);\n    return null;\n  }\n}\n```\n\n*_å°Tipsï¼šæ˜¾å¼é”™è¯¯å¤„ç†ä¸ä»…æé«˜ä»£ç å¥å£®æ€§ï¼Œè¿˜ä¾¿äºè°ƒè¯•å’Œç»´æŠ¤ï¼_*\n\n### 5.2 æœ€ä½³å®è·µäºŒï¼šé¿å… Promise åµŒå¥—\n\nåµŒå¥—çš„ `Promise` ä¼šè®©ä»£ç å˜å¾—éš¾ä»¥ç»´æŠ¤ï¼Œä¼˜å…ˆä½¿ç”¨é“¾å¼è°ƒç”¨æˆ– `async/await`ã€‚\n\n**é”™è¯¯ç¤ºä¾‹**ï¼š\n\n```javascript\nfetchUser().then(user => {\n  fetchOrders(user.id).then(orders => {\n    console.log(orders);\n  });\n});\n```\n\n**æ”¹è¿›**ï¼š\n\n```javascript\nasync function getUserOrders() {\n  const user = await fetchUser();\n  const orders = await fetchOrders(user.id);\n  console.log(orders);\n}\n```\n\n*_å°Tipsï¼š`async/await` æ˜¯ `Promise` çš„è¯­æ³•ç³–ï¼Œå–„ç”¨å®ƒè®©ä»£ç æ›´æ¸…æ™°ï¼_*\n\n### 5.3 æœ€ä½³å®è·µä¸‰ï¼šæ€§èƒ½ä¼˜åŒ–\n\n- **å‡å°‘å¾®ä»»åŠ¡å †ç§¯**ï¼šè¿‡å¤šçš„ `.then` é“¾ä¼šå¯¼è‡´å¾®ä»»åŠ¡é˜Ÿåˆ—è¿‡é•¿ï¼Œå½±å“æ€§èƒ½ã€‚å°½é‡åˆå¹¶é€»è¾‘ã€‚\n- **ç¼“å­˜ Promise ç»“æœ**ï¼šå¯¹äºé‡å¤çš„å¼‚æ­¥æ“ä½œï¼Œä½¿ç”¨ç¼“å­˜é¿å…é‡å¤è¯·æ±‚ã€‚\n\n```javascript\nconst cache = new Map();\n\nfunction fetchWithCache(key, fetchFn) {\n  if (cache.has(key)) return cache.get(key);\n  const promise = fetchFn();\n  cache.set(key, promise);\n  return promise;\n}\n```\n\n*_å°Tipsï¼šç¼“å­˜ä¸ä»…æå‡æ€§èƒ½ï¼Œè¿˜èƒ½å‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œä½†è¦æ³¨æ„æ¸…ç†è¿‡æœŸç¼“å­˜ï¼_*\n\n### 5.4 æœ€ä½³å®è·µå››ï¼šç¼–å†™å¯æµ‹è¯•çš„ Promise ä»£ç \n\nå°† `Promise` é€»è¾‘å°è£…æˆç‹¬ç«‹å‡½æ•°ï¼Œä¾¿äºå•å…ƒæµ‹è¯•ã€‚\n\n```javascript\nfunction fetchUserOrders(userId) {\n  return fetchUser(userId)\n    .then(user => fetchOrders(user.id))\n    .catch(error => {\n      console.error(error);\n      return [];\n    });\n}\n\n// æµ‹è¯•\ndescribe(\"fetchUserOrders\", () => {\n  it(\"should return orders for valid user\", async () => {\n    const orders = await fetchUserOrders(1);\n    expect(orders).toEqual([\"è®¢å•1\", \"è®¢å•2\"]);\n  });\n});\n```\n\n*_å°Tipsï¼šå¯æµ‹è¯•çš„ä»£ç æ˜¯é«˜è´¨é‡ä»£ç çš„æ ‡å¿—ï¼Œç¡®ä¿æ¯ä¸ªå¼‚æ­¥å‡½æ•°æœ‰æ˜ç¡®çš„è¾“å…¥å’Œè¾“å‡ºï¼_*\n\n---\n\n## 6. æœªæ¥å±•æœ›ï¼šPromise ä¸ç°ä»£æ¡†æ¶\n\n`Promise` æ˜¯ç°ä»£ JavaScript çš„åŸºçŸ³ï¼Œè€Œ `async/await` è®©å®ƒæ›´åŠ ä¼˜é›…ã€‚åœ¨ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Reactã€Vueã€Next.jsï¼‰ä¸­ï¼Œ`Promise` æ‰®æ¼”ç€é‡è¦è§’è‰²ã€‚\n\n### 6.1 React ä¸­çš„ Promise\n\nåœ¨ React 18 ä¸­ï¼ŒSuspense å’Œæ•°æ®è·å–ç»“åˆå¾—æ›´åŠ ç´§å¯†ã€‚`Promise` å¸¸ç”¨äºå¼‚æ­¥ç»„ä»¶æˆ–æ•°æ®åŠ è½½ã€‚\n\n```javascript\nfunction ProductPage({ productId }) {\n  const productPromise = fetchProduct(productId);\n  const product = use(productPromise); // React å®éªŒæ€§ API\n  return <div>{product.name}</div>;\n}\n```\n\n### 6.2 Next.js ä¸­çš„ Promise\n\nNext.js çš„ `getServerSideProps` å’Œ `getStaticProps` éƒ½ä¾èµ– `Promise` å®ç°æœåŠ¡ç«¯æ¸²æŸ“å’Œé™æ€ç”Ÿæˆã€‚\n\n```javascript\nexport async function getServerSideProps() {\n  const product = await fetchProduct(1);\n  return { props: { product } };\n}\n```\n\n**å±•æœ›**ï¼šéšç€ Web å¹³å°çš„æ¼”è¿›ï¼Œ`Promise` å¯èƒ½ä¼šä¸æ–°çš„ APIï¼ˆå¦‚ `Web Streams`ï¼‰ç»“åˆï¼Œæä¾›æ›´ç»†ç²’åº¦çš„å¼‚æ­¥æ§åˆ¶ã€‚\n\n*_å°Tipsï¼šå…³æ³¨æ¡†æ¶çš„å¼‚æ­¥ API æ–‡æ¡£ï¼Œå–„ç”¨ `Promise` æå‡ç”¨æˆ·ä½“éªŒï¼_*\n\n---\n\n## 7. æ€»ç»“ä¸å½©è›‹ï¼šPromise çš„å“²å­¦ä¸ä»£ç ç¤¼ç‰©\n\n`Promise` ä¸ä»…æ˜¯æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§ç¼–ç¨‹å“²å­¦ï¼š**å»¶è¿Ÿæ»¡è¶³ï¼Œä¼˜é›…ç­‰å¾…**ã€‚å®ƒè®©æˆ‘ä»¬å­¦ä¼šåœ¨ä¸ç¡®å®šçš„ä¸–ç•Œä¸­ï¼Œä¾ç„¶ä¿æŒä»£ç çš„ä»å®¹ä¸ç§©åºã€‚ğŸ˜\n\n**æ€»ç»“**ï¼š\n- `Promise` æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„åŸºçŸ³ï¼Œç†è§£å¾®ä»»åŠ¡å’Œäº‹ä»¶å¾ªç¯æ˜¯å…³é”®ã€‚\n- ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œ`Promise.all`ã€`Promise.race` ç­‰æ–¹æ³•å„æœ‰åƒç§‹ã€‚\n- é”™è¯¯å¤„ç†å’Œå¹¶å‘æ§åˆ¶æ˜¯å†™å‡ºå¥å£®ä»£ç çš„å¿…ä¿®è¯¾ã€‚\n- æœ€ä½³å®è·µè®©ä½ ä»â€œä¼šç”¨â€åˆ°â€œç”¨å¥½â€ã€‚\n\n**å½©è›‹**ï¼šä¸€ä¸ªé€šç”¨çš„ `Promise` å·¥å…·åº“ï¼Œæ‹¿å»ç”¨å§ï¼ğŸ\n\n```javascript\nconst PromiseUtils = {\n  // é‡è¯•\n  retry: (fn, maxRetries, delay) => {\n    return new Promise((resolve, reject) => {\n      function attempt(attemptsLeft) {\n        fn()\n          .then(resolve)\n          .catch(error => {\n            if (attemptsLeft <= 1) return reject(error);\n            setTimeout(() => attempt(attemptsLeft - 1), delay);\n          });\n      }\n      attempt(maxRetries);\n    });\n  },\n\n  // å¹¶å‘é™åˆ¶\n  pool: async (tasks, limit) => {\n    const results = [];\n    const executing = [];\n    for (const task of tasks) {\n      const p = Promise.resolve().then(() => task());\n      results.push(p);\n      if (limit <= tasks.length) {\n        const e = p.then(() => executing.splice(executing.indexOf(e), 1));\n        executing.push(e);\n        if (executing.length >= limit) {\n          await Promise.race(executing);\n        }\n      }\n    }\n    return Promise.all(results);\n  },\n\n  // è¶…æ—¶\n  timeout: (promise, ms) => {\n    return Promise.race([\n      promise,\n      new Promise((_, reject) => setTimeout(() => reject(\"è¶…æ—¶\"), ms)),\n    ]);\n  },\n};\n\n// ä½¿ç”¨ç¤ºä¾‹\nPromiseUtils.retry(() => fetch(\"/api/data\"), 3, 1000).then(console.log);\n```\n\nå¸Œæœ›è¿™ç¯‡æ–‡ç« è®©ä½ å¯¹ `Promise` æœ‰äº†æ›´æ·±çš„ç†è§£ï¼Œä¹Ÿä¸ºä½ çš„å‰ç«¯å¼€å‘ä¹‹è·¯å¢æ·»äº†å‡ åˆ†ä¹è¶£ï¼å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼âœ¨\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)a(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of y(e))!g.call(n,c)&&c!==r&&a(n,c,{get:()=>e[c],enumerable:!(s=E(e,c))||s.enumerable});return n};var m=(n,e,r)=>(r=n!=null?p(F(n)):{},d(e||!n||!n.__esModule?a(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>d(a({},\"__esModule\",{value:!0}),n);var t=u((P,o)=>{o.exports=_jsx_runtime});var k={};B(k,{default:()=>h,frontmatter:()=>b});var l=m(t()),b={type:\"Post\",title:\"\\u5F53Promise\\u9047\\u4E0A\\u771F\\u5B9E\\u4E1A\\u52A1\\u573A\\u666F\",date:\"2022-02-15\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8 Promise \\u5728\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u7684\\u5B9E\\u9645\\u5E94\\u7528\\uFF0C\\u7ED3\\u5408\\u4E1A\\u52A1\\u573A\\u666F\\u3001\\u539F\\u7406\\u5256\\u6790\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u5E7D\\u9ED8\\u98CE\\u8DA3\\u7684\\u7C7B\\u6BD4\\uFF0C\\u5E26\\u4F60\\u73A9\\u8F6C\\u5F02\\u6B65\\u7F16\\u7A0B\\uFF01\",keywords:\"Promise, JavaScript, \\u5F02\\u6B65\\u7F16\\u7A0B, \\u524D\\u7AEF\\u5F00\\u53D1, \\u5FAE\\u4EFB\\u52A1, \\u4E8B\\u4EF6\\u5FAA\\u73AF, \\u9519\\u8BEF\\u5904\\u7406, \\u5E76\\u53D1\\u63A7\\u5236\",author:\"\\u6653\\u9F99\",image:\"/images/hero/promise-in-action.jpg\",tags:[\"JavaScript\",\"\\u5F02\\u6B65\\u7F16\\u7A0B\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"JavaScript\"};function i(n){let e={a:\"a\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:[\"\\u5728\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u6D69\\u701A\\u5B87\\u5B99\\u4E2D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5C31\\u50CF\\u4E00\\u8258\\u53EF\\u9760\\u7684\\u98DE\\u8239\\uFF0C\\u8F7D\\u7740\\u6211\\u4EEC\\u7A7F\\u8D8A\\u5F02\\u6B65\\u64CD\\u4F5C\\u7684\\u661F\\u9645\\u8FF7\\u96FE\\u3002\\u5B83\\u65E2\\u4F18\\u96C5\\u53C8\\u5F3A\\u5927\\uFF0C\\u89E3\\u51B3\\u4E86\\u56DE\\u8C03\\u5730\\u72F1\\u7684\\u5669\\u68A6\\uFF0C\\u5374\\u4E5F\\u5E26\\u6765\\u4E86\\u65B0\\u7684\\u6311\\u6218\\u548C\\u601D\\u8003\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C06\\u6DF1\\u5165\\u63A2\\u8BA8 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5728\\u771F\\u5B9E\\u4E1A\\u52A1\\u573A\\u666F\\u4E2D\\u7684\\u5E94\\u7528\\uFF0C\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u4ECE\\u9677\\u9631\\u5230\\u6700\\u4F73\\u65B9\\u6848\\uFF0C\\u5E26\\u4F60\\u9886\\u7565\\u5B83\\u7684\\u9B45\\u529B\\u4E0E\\u201C\\u5751\\u201D\\u3002\\u{1F680}\"]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4E0D\\u4EC5\\u662F\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u91CF\\u8EAB\\u5B9A\\u5236\\u7684\\u786C\\u6838\\u6307\\u5357\\uFF0C\\u8FD8\\u4F1A\\u7528\\u5E7D\\u9ED8\\u7684\\u7C7B\\u6BD4\\u3001\\u751F\\u52A8\\u7684\\u4F8B\\u5B50\\u548C\\u6E05\\u6670\\u7684\\u8868\\u683C\\uFF0C\\u8BA9\\u4F60\\u8BFB\\u8D77\\u6765\\u65E2\\u6709\\u8DA3\\u53C8\\u6709\\u6536\\u83B7\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521A\\u5165\\u95E8\\u7684\\u840C\\u65B0\\uFF0C\\u8FD8\\u662F\\u8EAB\\u7ECF\\u767E\\u6218\\u7684\\u8001\\u5C06\\uFF0C\\u8FD9\\u91CC\\u603B\\u6709\\u503C\\u5F97\\u4F60\\u70B9\\u8D5E\\u7684\\u5185\\u5BB9\\uFF01\\u{1F4A1}\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6587\\u7AE0\\u7ED3\\u6784\\u601D\\u7EF4\\u94FE\\u5BFC\\u822A\",children:(0,l.jsx)(e.a,{href:\"#\\u6587\\u7AE0\\u7ED3\\u6784\\u601D\\u7EF4\\u94FE\\u5BFC\\u822A\",children:\"\\u6587\\u7AE0\\u7ED3\\u6784\\uFF1A\\u601D\\u7EF4\\u94FE\\u5BFC\\u822A\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u8BA9\\u8FD9\\u7BC7\\u957F\\u6587\\uFF08\\u76EE\\u6807 16,000 \\u5B57+\\uFF09\\u903B\\u8F91\\u6E05\\u6670\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u4E00\\u5F20\\u201C\\u661F\\u9645\\u5BFC\\u822A\\u56FE\\u201D\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Promise \\u57FA\\u7840\\u4E0E\\u539F\\u7406\"}),\"\\uFF1A\\u4ECE\\u5FAE\\u4EFB\\u52A1\\u5230\\u4E8B\\u4EF6\\u5FAA\\u73AF\\uFF0C\\u63ED\\u5F00 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u795E\\u79D8\\u9762\\u7EB1\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4E1A\\u52A1\\u573A\\u666F\\u4E2D\\u7684 Promise\"}),\"\\uFF1A\\u7ED3\\u5408\\u5B9E\\u9645\\u6848\\u4F8B\\uFF0C\\u5C55\\u793A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u591A\\u9762\\u6027\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8FDB\\u9636\\u7528\\u6CD5\\u4E0E\\u5E76\\u53D1\\u63A7\\u5236\"}),\"\\uFF1A\\u63A2\\u7D22 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.race\"})})})}),\" \\u7B49\\u9AD8\\u7EA7\\u6280\\u5DE7\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u4E0E\\u8C03\\u8BD5\"}),\"\\uFF1A\\u5982\\u4F55\\u4F18\\u96C5\\u5730\\u5E94\\u5BF9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u201C\\u53DB\\u53D8\\u201D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u4ECE\\u4EE3\\u7801\\u5230\\u5FC3\\u6CD5\\uFF0C\\u6253\\u9020\\u5065\\u58EE\\u7684\\u5F02\\u6B65\\u903B\\u8F91\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u672A\\u6765\\u5C55\\u671B\\uFF1APromise \\u4E0E\\u73B0\\u4EE3\\u6846\\u67B6\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u548C\\u6846\\u67B6\\u751F\\u6001\\u7684\\u7ED3\\u5408\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u603B\\u7ED3\\u4E0E\\u5F69\\u86CB\"}),\"\\uFF1A\\u5E7D\\u9ED8\\u603B\\u7ED3\\uFF0C\\u9644\\u8D60\\u5B9E\\u7528\\u4EE3\\u7801\\u7247\\u6BB5\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u7CFB\\u597D\\u5B89\\u5168\\u5E26\\uFF0C\\u6211\\u4EEC\\u5F00\\u59CB\\u8FD9\\u573A\\u5F02\\u6B65\\u5192\\u9669\\uFF01\\u{1F6F8}\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"1-promise-\\u57FA\\u7840\\u4E0E\\u539F\\u7406\\u4ECE\\u5FAE\\u4EFB\\u52A1\\u5230\\u4E8B\\u4EF6\\u5FAA\\u73AF\",children:(0,l.jsx)(e.a,{href:\"#1-promise-\\u57FA\\u7840\\u4E0E\\u539F\\u7406\\u4ECE\\u5FAE\\u4EFB\\u52A1\\u5230\\u4E8B\\u4EF6\\u5FAA\\u73AF\",children:\"1. Promise \\u57FA\\u7840\\u4E0E\\u539F\\u7406\\uFF1A\\u4ECE\\u5FAE\\u4EFB\\u52A1\\u5230\\u4E8B\\u4EF6\\u5FAA\\u73AF\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u6DF1\\u5165\\u4E1A\\u52A1\\u573A\\u666F\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u201C\\u89E3\\u5256\\u201D\\u4E00\\u4E0B \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\uFF0C\\u641E\\u6E05\\u695A\\u5B83\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u3002\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5C31\\u50CF\\u4E00\\u4E2A\\u5916\\u5356\\u5C0F\\u54E5\\uFF1A\\u4F60\\u4E0B\\u4E86\\u5355\\uFF08\\u53D1\\u8D77\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF09\\uFF0C\\u4ED6\\u53BB\\u9001\\u9910\\uFF08\\u6267\\u884C\\u4EFB\\u52A1\\uFF09\\uFF0C\\u6700\\u540E\\u7ED9\\u4F60\\u9001\\u6765\\u7ED3\\u679C\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"resolve\"})})})}),\"\\uFF09\\u6216\\u544A\\u8BC9\\u4F60\\u9910\\u9986\\u5173\\u95E8\\u4E86\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"reject\"})})})}),\"\\uFF09\\u3002\\u4F46\\u8FD9\\u80CC\\u540E\\uFF0CJavaScript \\u7684\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u548C\\u5FAE\\u4EFB\\u52A1\\u673A\\u5236\\u624D\\u662F\\u771F\\u6B63\\u7684\\u201C\\u914D\\u9001\\u4E2D\\u5FC3\\u201D\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"11-promise-\\u7684\\u6838\\u5FC3\\u6982\\u5FF5\",children:(0,l.jsx)(e.a,{href:\"#11-promise-\\u7684\\u6838\\u5FC3\\u6982\\u5FF5\",children:\"1.1 Promise \\u7684\\u6838\\u5FC3\\u6982\\u5FF5\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u8868\\u793A\\u5F02\\u6B65\\u64CD\\u4F5C\\u6700\\u7EC8\\u5B8C\\u6210\\u6216\\u5931\\u8D25\\u7684\\u5BF9\\u8C61\\u3002\\u5B83\\u6709\\u4E09\\u79CD\\u72B6\\u6001\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Pending\"}),\"\\uFF1A\\u521D\\u59CB\\u72B6\\u6001\\uFF0C\\u4EFB\\u52A1\\u6B63\\u5728\\u8FDB\\u884C\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Fulfilled\"}),\"\\uFF1A\\u4EFB\\u52A1\\u6210\\u529F\\u5B8C\\u6210\\uFF0C\\u8FD4\\u56DE\\u7ED3\\u679C\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Rejected\"}),\"\\uFF1A\\u4EFB\\u52A1\\u5931\\u8D25\\uFF0C\\u8FD4\\u56DE\\u9519\\u8BEF\\u539F\\u56E0\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u793A\\u4F8B\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" orderPizza\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" success\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"random\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0.2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// 80% \\u6210\\u529F\\u7387\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (success) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u{1F355} \\u62AB\\u8428\\u9001\\u8FBE\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u{1F622} \\u9910\\u9986\\u5173\\u95E8\\u4E86\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"orderPizza\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"result\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error));\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"12-\\u5FAE\\u4EFB\\u52A1\\u4E0E\\u4E8B\\u4EF6\\u5FAA\\u73AF\",children:(0,l.jsx)(e.a,{href:\"#12-\\u5FAE\\u4EFB\\u52A1\\u4E0E\\u4E8B\\u4EF6\\u5FAA\\u73AF\",children:\"1.2 \\u5FAE\\u4EFB\\u52A1\\u4E0E\\u4E8B\\u4EF6\\u5FAA\\u73AF\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u6267\\u884C\\u79BB\\u4E0D\\u5F00 JavaScript \\u7684\\u4E8B\\u4EF6\\u5FAA\\u73AF\\uFF08Event Loop\\uFF09\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u5C31\\u50CF\\u4E00\\u4E2A\\u5FD9\\u788C\\u7684\\u9910\\u5385\\u7ECF\\u7406\\uFF0C\\u4E0D\\u65AD\\u68C0\\u67E5\\u201C\\u5B8F\\u4EFB\\u52A1\\u201D\\uFF08\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"setTimeout\"})})})}),\"\\uFF09\\u548C\\u201C\\u5FAE\\u4EFB\\u52A1\\u201D\\uFF08\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\uFF09\\u961F\\u5217\\u3002\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5B8F\\u4EFB\\u52A1\"}),\"\\uFF1A\\u5305\\u62EC \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"setTimeout\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"setInterval\"})})})}),\"\\u3001DOM \\u4E8B\\u4EF6\\u7B49\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5FAE\\u4EFB\\u52A1\"}),\"\\uFF1A\\u5305\\u62EC \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".then\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".catch\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".finally\"})})})}),\" \\u56DE\\u8C03\\uFF0C\\u4EE5\\u53CA \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MutationObserver\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5FAE\\u4EFB\\u52A1\\u7684\\u4F18\\u5148\\u7EA7\\u9AD8\\u4E8E\\u5B8F\\u4EFB\\u52A1\\uFF0C\\u8FD9\\u610F\\u5473\\u7740 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u56DE\\u8C03\\u4F1A\\u5728\\u5F53\\u524D\\u5B8F\\u4EFB\\u52A1\\u7ED3\\u675F\\u540E\\u7ACB\\u5373\\u6267\\u884C\\u3002\\u6765\\u770B\\u4E00\\u4E2A\\u7ECF\\u5178\\u4F8B\\u5B50\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1. \\u5F00\\u59CB\\u70B9\\u9910\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"2. \\u5B8F\\u4EFB\\u52A1\\uFF1A\\u5916\\u5356\\u5230\\u4E86\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"3. \\u5FAE\\u4EFB\\u52A1\\uFF1A\\u8BA2\\u5355\\u786E\\u8BA4\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"4. \\u70B9\\u9910\\u7ED3\\u675F\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u8F93\\u51FA\\u987A\\u5E8F\"}),\"\\uFF1A1 \\u2192 4 \\u2192 3 \\u2192 2\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\uFF1F\"}),\" \\u56E0\\u4E3A\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4F1A\\u5148\\u6267\\u884C\\u540C\\u6B65\\u4EE3\\u7801\\uFF081 \\u548C 4\\uFF09\\uFF0C\\u7136\\u540E\\u6E05\\u7A7A\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\uFF083\\uFF09\\uFF0C\\u6700\\u540E\\u6267\\u884C\\u5B8F\\u4EFB\\u52A1\\uFF082\\uFF09\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u7406\\u89E3\\u5FAE\\u4EFB\\u52A1\\u548C\\u5B8F\\u4EFB\\u52A1\\u7684\\u533A\\u522B\\u662F\\u5199\\u51FA\\u9AD8\\u6548\\u5F02\\u6B65\\u4EE3\\u7801\\u7684\\u57FA\\u7840\\uFF0C\\u5C24\\u5176\\u5728\\u6027\\u80FD\\u654F\\u611F\\u7684\\u573A\\u666F\\u4E2D\\uFF0C\\u907F\\u514D\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u5806\\u79EF\\uFF01\"})})}),`\n`,(0,l.jsx)(e.h3,{id:\"13-promise-\\u7684\\u94FE\\u5F0F\\u8C03\\u7528\",children:(0,l.jsx)(e.a,{href:\"#13-promise-\\u7684\\u94FE\\u5F0F\\u8C03\\u7528\",children:\"1.3 Promise \\u7684\\u94FE\\u5F0F\\u8C03\\u7528\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u94FE\\u5F0F\\u8C03\\u7528\\u662F\\u5B83\\u7684\\u6740\\u624B\\u950F\\u4E4B\\u4E00\\u3002\\u6BCF\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".then\"})})})}),\" \\u90FD\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\uFF0C\\u8BA9\\u4F60\\u53EF\\u4EE5\\u50CF\\u642D\\u79EF\\u6728\\u4E00\\u6837\\u4E32\\u8054\\u64CD\\u4F5C\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6653\\u9F99\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u7528\\u6237\\uFF1A${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUserOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8FD4\\u56DE\\u53E6\\u4E00\\u4E2A Promise\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"orders\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u8BA2\\u5355\\uFF1A${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"orders\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u51FA\\u9519\\uFF1A${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u94FE\\u5F0F\\u8C03\\u7528\\u5C31\\u50CF\\u70B9\\u9910\\u540E\\u81EA\\u52A8\\u8FDB\\u5165\\u201C\\u9009\\u62E9\\u996E\\u6599\\u2192\\u786E\\u8BA4\\u5730\\u5740\\u2192\\u652F\\u4ED8\\u201D\\u7684\\u6D41\\u6C34\\u7EBF\\uFF0C\\u7701\\u53BB\\u4E86\\u624B\\u52A8\\u534F\\u8C03\\u7684\\u9EBB\\u70E6\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u94FE\\u5F0F\\u8C03\\u7528\\u4E2D\\uFF0C\\u59CB\\u7EC8\\u8FD4\\u56DE\\u4E00\\u4E2A\\u503C\\u6216\\u65B0\\u7684 Promise\\uFF0C\\u786E\\u4FDD\\u94FE\\u6761\\u4E0D\\u4E2D\\u65AD\\uFF0C\\u5426\\u5219\\u53EF\\u80FD\\u5BFC\\u81F4\\u540E\\u7EED \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".then\"})})})}),\" \\u63A5\\u6536\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"undefined\"})})})}),\"\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"2-\\u4E1A\\u52A1\\u573A\\u666F\\u4E2D\\u7684-promise\\u4ECE\\u7406\\u8BBA\\u5230\\u5B9E\\u6218\",children:(0,l.jsx)(e.a,{href:\"#2-\\u4E1A\\u52A1\\u573A\\u666F\\u4E2D\\u7684-promise\\u4ECE\\u7406\\u8BBA\\u5230\\u5B9E\\u6218\",children:\"2. \\u4E1A\\u52A1\\u573A\\u666F\\u4E2D\\u7684 Promise\\uFF1A\\u4ECE\\u7406\\u8BBA\\u5230\\u5B9E\\u6218\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5728\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u65E0\\u5904\\u4E0D\\u5728\\uFF0C\\u4ECE API \\u8BF7\\u6C42\\u5230\\u6587\\u4EF6\\u4E0A\\u4F20\\uFF0C\\u518D\\u5230\\u590D\\u6742\\u7684\\u6570\\u636E\\u5904\\u7406\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u901A\\u8FC7\\u51E0\\u4E2A\\u771F\\u5B9E\\u7684\\u4E1A\\u52A1\\u573A\\u666F\\uFF0C\\u5C55\\u793A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u7075\\u6D3B\\u6027\\u4E0E\\u6311\\u6218\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"21-\\u573A\\u666F\\u4E00api-\\u8BF7\\u6C42\\u7684\\u5E76\\u53D1\\u4E0E\\u987A\\u5E8F\\u6267\\u884C\",children:(0,l.jsx)(e.a,{href:\"#21-\\u573A\\u666F\\u4E00api-\\u8BF7\\u6C42\\u7684\\u5E76\\u53D1\\u4E0E\\u987A\\u5E8F\\u6267\\u884C\",children:\"2.1 \\u573A\\u666F\\u4E00\\uFF1AAPI \\u8BF7\\u6C42\\u7684\\u5E76\\u53D1\\u4E0E\\u987A\\u5E8F\\u6267\\u884C\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5047\\u8BBE\\u4F60\\u6B63\\u5728\\u5F00\\u53D1\\u4E00\\u4E2A\\u7535\\u5546\\u5E73\\u53F0\\uFF0C\\u7528\\u6237\\u8FDB\\u5165\\u5546\\u54C1\\u8BE6\\u60C5\\u9875\\u65F6\\uFF0C\\u9700\\u8981\\u540C\\u65F6\\u8BF7\\u6C42\\u5546\\u54C1\\u4FE1\\u606F\\u3001\\u5E93\\u5B58\\u72B6\\u6001\\u548C\\u7528\\u6237\\u8BC4\\u8BBA\\u3002\\u8FD9\\u4E09\\u4E2A API \\u76F8\\u4E92\\u72EC\\u7ACB\\uFF0C\\u53EF\\u4EE5\\u5E76\\u53D1\\u6267\\u884C\\uFF0C\\u4F46\\u4F60\\u5E0C\\u671B\\u5728\\u6240\\u6709\\u6570\\u636E\\u90FD\\u8FD4\\u56DE\\u540E\\u518D\\u6E32\\u67D3\\u9875\\u9762\\u3002\"}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u5B9E\\u73B0\\u5E76\\u53D1\\u8BF7\\u6C42\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchProduct\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"iPhone 15\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchStock\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ stock: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"50\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"800\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchComments\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u597D\\u8BC4\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5F88\\u4E0D\\u9519\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchProduct\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchStock\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchComments\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()])\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(([\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"product\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"stock\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"comments\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5546\\u54C1\\u4FE1\\u606F\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", product);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5E93\\u5B58\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", stock);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BC4\\u8BBA\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", comments);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6E32\\u67D3\\u9875\\u9762\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BF7\\u6C42\\u5931\\u8D25\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u5E76\\u53D1\\u6267\\u884C\\u6240\\u6709\\u8BF7\\u6C42\\uFF0C\\u51CF\\u5C11\\u603B\\u7B49\\u5F85\\u65F6\\u95F4\\uFF08\\u4EE5\\u6700\\u6162\\u7684\\u8BF7\\u6C42\\u4E3A\\u51C6\\uFF09\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6CE8\\u610F\"}),\"\\uFF1A\\u5982\\u679C\\u4EFB\\u4E00\\u8BF7\\u6C42\\u5931\\u8D25\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u4F1A\\u7ACB\\u5373 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"reject\"})})})}),\"\\uFF0C\\u540E\\u7EED\\u8BF7\\u6C42\\u7684\\u7ED3\\u679C\\u4F1A\\u88AB\\u5FFD\\u7565\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u4E3A\\u6BCF\\u4E2A\\u8BF7\\u6C42\\u5355\\u72EC\\u6DFB\\u52A0 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"catch\"})})})}),\"\\uFF0C\\u907F\\u514D \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u56E0\\u4E3A\\u5355\\u4E2A\\u5931\\u8D25\\u800C\\u5168\\u76D8\\u5D29\\u6E83\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" safeFetch\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" promise\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" promise.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ error: err, data: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"safeFetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchProduct\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"safeFetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchStock\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"safeFetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchComments\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())])\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"results\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7ED3\\u679C\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", results);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"22-\\u573A\\u666F\\u4E8C\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u8FDB\\u5EA6\\u7BA1\\u7406\",children:(0,l.jsx)(e.a,{href:\"#22-\\u573A\\u666F\\u4E8C\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u8FDB\\u5EA6\\u7BA1\\u7406\",children:\"2.2 \\u573A\\u666F\\u4E8C\\uFF1A\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u8FDB\\u5EA6\\u7BA1\\u7406\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u6587\\u4EF6\\u4E0A\\u4F20\\u573A\\u666F\\u4E2D\\uFF0C\\u7528\\u6237\\u53EF\\u80FD\\u540C\\u65F6\\u4E0A\\u4F20\\u591A\\u4E2A\\u6587\\u4EF6\\uFF0C\\u4F60\\u9700\\u8981\\u5C55\\u793A\\u6BCF\\u4E2A\\u6587\\u4EF6\\u7684\\u4E0A\\u4F20\\u8FDB\\u5EA6\\uFF0C\\u5E76\\u5728\\u6240\\u6709\\u6587\\u4EF6\\u4E0A\\u4F20\\u5B8C\\u6210\\u540E\\u63D0\\u793A\\u6210\\u529F\\u3002\"}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u65B9\\u6848\"}),\"\\uFF1A\\u7ED3\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u548C\\u4E8B\\u4EF6\\u76D1\\u542C\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" uploadFile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"POST\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/upload\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.upload.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onprogress\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" event\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (event.lengthComputable) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" percent\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (event.loaded \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" event.total) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"file\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u4E0A\\u4F20\\u8FDB\\u5EA6\\uFF1A${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"percent\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}%`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u4E0A\\u4F20\\u6210\\u529F\\uFF1A${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"file\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u4E0A\\u4F20\\u5931\\u8D25\\uFF1A${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"file\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(file);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" files\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [file1, file2, file3];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(files.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" uploadFile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(file)))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"results\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6240\\u6709\\u6587\\u4EF6\\u4E0A\\u4F20\\u5B8C\\u6210\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", results))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4E0A\\u4F20\\u51FA\\u9519\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u6587\\u4EF6\\u4E0A\\u4F20\\u5C31\\u50CF\\u540C\\u65F6\\u5BC4\\u51FA\\u591A\\u4E2A\\u5FEB\\u9012\\u5305\\u88F9\\uFF0C\\u6BCF\\u4E2A\\u5305\\u88F9\\u6709\\u81EA\\u5DF1\\u7684\\u8FFD\\u8E2A\\u8FDB\\u5EA6\\uFF0C\\u4F46\\u4F60\\u53EA\\u5173\\u5FC3\\u6240\\u6709\\u5305\\u88F9\\u90FD\\u9001\\u8FBE\\u7684\\u90A3\\u4E00\\u523B\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u4E3A\\u6BCF\\u4E2A\\u6587\\u4EF6\\u4E0A\\u4F20\\u4EFB\\u52A1\\u6DFB\\u52A0\\u8D85\\u65F6\\u673A\\u5236\\uFF0C\\u907F\\u514D\\u67D0\\u4E2A\\u6587\\u4EF6\\u5361\\u6B7B\\u5BFC\\u81F4\\u6574\\u4E2A\\u6D41\\u7A0B\\u963B\\u585E\\uFF01\"})})}),`\n`,(0,l.jsx)(e.h3,{id:\"23-\\u573A\\u666F\\u4E09\\u4F9D\\u8D56\\u5173\\u7CFB\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\",children:(0,l.jsx)(e.a,{href:\"#23-\\u573A\\u666F\\u4E09\\u4F9D\\u8D56\\u5173\\u7CFB\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\",children:\"2.3 \\u573A\\u666F\\u4E09\\uFF1A\\u4F9D\\u8D56\\u5173\\u7CFB\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u67D0\\u4E9B\\u573A\\u666F\\u4E2D\\uFF0C\\u5F02\\u6B65\\u64CD\\u4F5C\\u6709\\u4E25\\u683C\\u7684\\u4F9D\\u8D56\\u5173\\u7CFB\\u3002\\u4F8B\\u5982\\uFF0C\\u7528\\u6237\\u767B\\u5F55\\u540E\\u9700\\u8981\\u83B7\\u53D6\\u7528\\u6237\\u4FE1\\u606F\\uFF0C\\u518D\\u6839\\u636E\\u7528\\u6237\\u4FE1\\u606F\\u62C9\\u53D6\\u8BA2\\u5355\\u5217\\u8868\\u3002\"}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u65B9\\u6848\"}),\"\\uFF1A\\u5229\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u94FE\\u5F0F\\u8C03\\u7528\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" login\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ token: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"abc123\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"token\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6653\\u9F99\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"800\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"userId\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BA2\\u53551\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BA2\\u53552\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"login\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"token\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(token))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"orders\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BA2\\u5355\\u5217\\u8868\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", orders))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u9519\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u8FD9\\u5C31\\u50CF\\u505A\\u62AB\\u8428\\uFF1A\\u5148\\u51C6\\u5907\\u9762\\u56E2\\uFF08\\u767B\\u5F55\\uFF09\\uFF0C\\u7136\\u540E\\u52A0\\u9171\\u6599\\uFF08\\u83B7\\u53D6\\u7528\\u6237\\u4FE1\\u606F\\uFF09\\uFF0C\\u6700\\u540E\\u653E\\u914D\\u6599\\u5E76\\u70D8\\u70E4\\uFF08\\u83B7\\u53D6\\u8BA2\\u5355\\uFF09\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u907F\\u514D\\u8FC7\\u6DF1\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u94FE\\uFF0C\\u9002\\u5F53\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u63D0\\u9AD8\\u4EE3\\u7801\\u53EF\\u8BFB\\u6027\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"3-\\u8FDB\\u9636\\u7528\\u6CD5\\u4E0E\\u5E76\\u53D1\\u63A7\\u5236\\u91CA\\u653E-promise-\\u7684\\u5168\\u90E8\\u6F5C\\u529B\",children:(0,l.jsx)(e.a,{href:\"#3-\\u8FDB\\u9636\\u7528\\u6CD5\\u4E0E\\u5E76\\u53D1\\u63A7\\u5236\\u91CA\\u653E-promise-\\u7684\\u5168\\u90E8\\u6F5C\\u529B\",children:\"3. \\u8FDB\\u9636\\u7528\\u6CD5\\u4E0E\\u5E76\\u53D1\\u63A7\\u5236\\uFF1A\\u91CA\\u653E Promise \\u7684\\u5168\\u90E8\\u6F5C\\u529B\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u57FA\\u7840\\u7528\\u6CD5\\u5DF2\\u7ECF\\u5F88\\u5F3A\\u5927\\uFF0C\\u4F46\\u771F\\u5B9E\\u4E1A\\u52A1\\u573A\\u666F\\u5F80\\u5F80\\u9700\\u8981\\u66F4\\u590D\\u6742\\u7684\\u63A7\\u5236\\u903B\\u8F91\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u79CD\\u8FDB\\u9636\\u6280\\u5DE7\\uFF0C\\u52A9\\u4F60\\u6E38\\u5203\\u6709\\u4F59\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"31-promiseallsettled\\u5BBD\\u5BB9\\u7684\\u5E76\\u53D1\",children:(0,l.jsx)(e.a,{href:\"#31-promiseallsettled\\u5BBD\\u5BB9\\u7684\\u5E76\\u53D1\",children:\"3.1 Promise.allSettled\\uFF1A\\u5BBD\\u5BB9\\u7684\\u5E76\\u53D1\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4E0E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u4E0D\\u540C\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.allSettled\"})})})}),\" \\u4F1A\\u7B49\\u5F85\\u6240\\u6709 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5B8C\\u6210\\uFF08\\u65E0\\u8BBA\\u6210\\u529F\\u8FD8\\u662F\\u5931\\u8D25\\uFF09\\uFF0C\\u5E76\\u8FD4\\u56DE\\u4E00\\u4E2A\\u5305\\u542B\\u72B6\\u6001\\u548C\\u7ED3\\u679C\\u7684\\u6570\\u7EC4\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u573A\\u666F\"}),\"\\uFF1A\\u6279\\u91CF\\u53D1\\u9001\\u901A\\u77E5\\uFF0C\\u90E8\\u5206\\u5931\\u8D25\\u4E0D\\u5F71\\u54CD\\u6574\\u4F53\\u6D41\\u7A0B\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" sendNotification\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" id\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"random\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0.3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u901A\\u77E5 ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u53D1\\u9001\\u6210\\u529F`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u901A\\u77E5 ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u53D1\\u9001\\u5931\\u8D25`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"allSettled\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sendNotification\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sendNotification\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sendNotification\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")]).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"results\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  results.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"result\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u901A\\u77E5 ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}\\uFF1A`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", result.status, result.value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result.reason);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u8F93\\u51FA\\u793A\\u4F8B\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u901A\\u77E5 1\\uFF1Afulfilled \\u901A\\u77E5 1 \\u53D1\\u9001\\u6210\\u529F\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u901A\\u77E5 2\\uFF1Arejected \\u901A\\u77E5 2 \\u53D1\\u9001\\u5931\\u8D25\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u901A\\u77E5 3\\uFF1Afulfilled \\u901A\\u77E5 3 \\u53D1\\u9001\\u6210\\u529F\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.allSettled\"})})})}),\" \\u65F6\\uFF0C\\u8BB0\\u5F97\\u68C0\\u67E5\\u6BCF\\u4E2A\\u7ED3\\u679C\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"status\"})})})}),\"\\uFF0C\\u4EE5\\u4FBF\\u9488\\u5BF9\\u5931\\u8D25\\u7684\\u60C5\\u51B5\\u505A\\u989D\\u5916\\u5904\\u7406\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"32-promiserace\\u7ADE\\u901F\\u6A21\\u5F0F\",children:(0,l.jsx)(e.a,{href:\"#32-promiserace\\u7ADE\\u901F\\u6A21\\u5F0F\",children:\"3.2 Promise.race\\uFF1A\\u7ADE\\u901F\\u6A21\\u5F0F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.race\"})})})}),\" \\u8FD4\\u56DE\\u6700\\u5148\\u5B8C\\u6210\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\uFF08\\u65E0\\u8BBA\\u6210\\u529F\\u8FD8\\u662F\\u5931\\u8D25\\uFF09\\u3002\\u8FD9\\u5728\\u8D85\\u65F6\\u63A7\\u5236\\u573A\\u666F\\u4E2D\\u975E\\u5E38\\u6709\\u7528\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u573A\\u666F\"}),\"\\uFF1A\\u8BBE\\u7F6E API \\u8BF7\\u6C42\\u8D85\\u65F6\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6570\\u636E\\u83B7\\u53D6\\u6210\\u529F\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" timeout\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BF7\\u6C42\\u8D85\\u65F6\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"race\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"timeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()])\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"result\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u8F93\\u51FA\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u8BF7\\u6C42\\u8D85\\u65F6\"})})})}),\"\\uFF08\\u56E0\\u4E3A\\u8D85\\u65F6\\u65F6\\u95F4 1s \\u5C0F\\u4E8E\\u8BF7\\u6C42\\u65F6\\u95F4 2s\\uFF09\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.race\"})})})}),\" \\u5C31\\u50CF\\u4E00\\u573A\\u8D5B\\u8DD1\\uFF0C\\u8C01\\u5148\\u5230\\u7EC8\\u70B9\\uFF08\\u5B8C\\u6210\\u6216\\u5931\\u8D25\\uFF09\\uFF0C\\u5C31\\u5BA3\\u5E03\\u6BD4\\u8D5B\\u7ED3\\u675F\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.race\"})})})}),\" \\u65F6\\uFF0C\\u786E\\u4FDD\\u8D85\\u65F6\\u65F6\\u95F4\\u5408\\u7406\\uFF0C\\u907F\\u514D\\u8FC7\\u65E9\\u4E2D\\u65AD\\u6B63\\u5E38\\u8BF7\\u6C42\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"33-\\u81EA\\u5B9A\\u4E49\\u5E76\\u53D1\\u63A7\\u5236\",children:(0,l.jsx)(e.a,{href:\"#33-\\u81EA\\u5B9A\\u4E49\\u5E76\\u53D1\\u63A7\\u5236\",children:\"3.3 \\u81EA\\u5B9A\\u4E49\\u5E76\\u53D1\\u63A7\\u5236\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u9002\\u5408\\u5168\\u91CF\\u5E76\\u53D1\\uFF0C\\u4F46\\u5982\\u679C\\u8BF7\\u6C42\\u91CF\\u5F88\\u5927\\uFF08\\u6BD4\\u5982\\u6279\\u91CF\\u5904\\u7406 100 \\u4E2A\\u6587\\u4EF6\\uFF09\\uFF0C\\u53EF\\u80FD\\u4F1A\\u538B\\u57AE\\u670D\\u52A1\\u5668\\u3002\\u8FD9\\u65F6\\u9700\\u8981\\u9650\\u5236\\u5E76\\u53D1\\u6570\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u65B9\\u6848\"}),\"\\uFF1A\\u5B9E\\u73B0\\u4E00\\u4E2A\\u5E76\\u53D1\\u9650\\u5236\\u7684\\u5DE5\\u5177\\u51FD\\u6570\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" promisePool\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"tasks\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"limit\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" results\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" executing\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" task\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" of\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tasks) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" p\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" task\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    results.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(p);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (limit \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tasks.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" e\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" p.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" executing.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"splice\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(executing.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"indexOf\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      executing.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (executing.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" >=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" limit) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        await\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"race\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(executing);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(results);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u793A\\u4F8B\\uFF1A\\u9650\\u5236\\u6700\\u591A 2 \\u4E2A\\u5E76\\u53D1\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tasks\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4EFB\\u52A11\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")),\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4EFB\\u52A12\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")),\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4EFB\\u52A13\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")),\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"promisePool\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(tasks, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"results\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7ED3\\u679C\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", results));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u8FD9\\u5C31\\u50CF\\u9910\\u5385\\u53EA\\u5F00\\u653E\\u4E24\\u4E2A\\u70F9\\u996A\\u7089\\u7076\\uFF0C\\u53A8\\u5E08\\u5FC5\\u987B\\u8F6E\\u6D41\\u4F7F\\u7528\\uFF0C\\u786E\\u4FDD\\u53A8\\u623F\\u4E0D\\u7206\\u70B8\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u5E76\\u53D1\\u9650\\u5236\\u4E0D\\u4EC5\\u4FDD\\u62A4\\u670D\\u52A1\\u5668\\uFF0C\\u8FD8\\u80FD\\u63D0\\u9AD8\\u4EE3\\u7801\\u5065\\u58EE\\u6027\\uFF0C\\u8BB0\\u5F97\\u8BB0\\u5F55\\u6BCF\\u4E2A\\u4EFB\\u52A1\\u7684\\u72B6\\u6001\\uFF01\"})})}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"4-\\u9519\\u8BEF\\u5904\\u7406\\u4E0E\\u8C03\\u8BD5\\u8BA9-promise-\\u4E0D\\u518D\\u53DB\\u53D8\",children:(0,l.jsx)(e.a,{href:\"#4-\\u9519\\u8BEF\\u5904\\u7406\\u4E0E\\u8C03\\u8BD5\\u8BA9-promise-\\u4E0D\\u518D\\u53DB\\u53D8\",children:\"4. \\u9519\\u8BEF\\u5904\\u7406\\u4E0E\\u8C03\\u8BD5\\uFF1A\\u8BA9 Promise \\u4E0D\\u518D\\u201C\\u53DB\\u53D8\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u9519\\u8BEF\\u5904\\u7406\\u770B\\u4F3C\\u7B80\\u5355\\uFF0C\\u4F46\\u7A0D\\u4E0D\\u7559\\u795E\\u5C31\\u4F1A\\u6389\\u8FDB\\u5751\\u91CC\\u3002\\u4EE5\\u4E0B\\u662F\\u5E38\\u89C1\\u95EE\\u9898\\u548C\\u5E94\\u5BF9\\u65B9\\u6848\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"41-\\u7EDF\\u4E00\\u9519\\u8BEF\\u5904\\u7406\",children:(0,l.jsx)(e.a,{href:\"#41-\\u7EDF\\u4E00\\u9519\\u8BEF\\u5904\\u7406\",children:\"4.1 \\u7EDF\\u4E00\\u9519\\u8BEF\\u5904\\u7406\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u94FE\\u5F0F\\u8C03\\u7528\\u4E2D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".catch\"})})})}),\" \\u4F1A\\u6355\\u83B7\\u94FE\\u6761\\u4E2D\\u4EFB\\u610F\\u4E00\\u73AF\\u7684\\u9519\\u8BEF\\uFF0C\\u4F46\\u5982\\u679C\\u5904\\u7406\\u4E0D\\u5F53\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u540E\\u7EED\\u903B\\u8F91\\u4E2D\\u65AD\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u793A\\u4F8B\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u9519\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5982\\u679C fetchUser \\u5931\\u8D25\\uFF0CfetchOrders \\u4E0D\\u4F1A\\u6267\\u884C\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6539\\u8FDB\\u65B9\\u6848\"}),\"\\uFF1A\\u4E3A\\u6BCF\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u6DFB\\u52A0\\u72EC\\u7ACB\\u9519\\u8BEF\\u5904\\u7406\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u83B7\\u53D6\\u7528\\u6237\\u5931\\u8D25\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8FD4\\u56DE\\u9ED8\\u8BA4\\u503C\\uFF0C\\u7EE7\\u7EED\\u94FE\\u6761\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (user \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([])))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"orders\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BA2\\u5355\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", orders))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u83B7\\u53D6\\u8BA2\\u5355\\u5931\\u8D25\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error));\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u4E3A\\u6BCF\\u4E2A\\u5F02\\u6B65\\u64CD\\u4F5C\\u6DFB\\u52A0\\u72EC\\u7ACB\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".catch\"})})})}),\"\\uFF0C\\u5E76\\u8FD4\\u56DE\\u9ED8\\u8BA4\\u503C\\uFF0C\\u907F\\u514D\\u94FE\\u6761\\u4E2D\\u65AD\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"42-\\u8C03\\u8BD5-promise-\\u7684\\u6C89\\u9ED8\\u5931\\u8D25\",children:(0,l.jsx)(e.a,{href:\"#42-\\u8C03\\u8BD5-promise-\\u7684\\u6C89\\u9ED8\\u5931\\u8D25\",children:\"4.2 \\u8C03\\u8BD5 Promise \\u7684\\u201C\\u6C89\\u9ED8\\u5931\\u8D25\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6709\\u65F6\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u9519\\u8BEF\\u88AB\\u541E\\u566C\\uFF0C\\u5BFC\\u81F4\\u95EE\\u9898\\u96BE\\u4EE5\\u6392\\u67E5\\u3002\\u5E38\\u89C1\\u539F\\u56E0\\u662F\\u6CA1\\u6709 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".catch\"})})})}),\" \\u6216\\u9519\\u8BEF\\u88AB\\u610F\\u5916\\u5FFD\\u7565\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u542F\\u7528\\u672A\\u5904\\u7406\\u62D2\\u7EDD\\u7684\\u76D1\\u542C\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"unhandledrejection\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"warn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u672A\\u5904\\u7406\\u7684 Promise \\u62D2\\u7EDD\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", event.reason);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u793A\\u4F8B\\uFF1A\\u672A\\u5904\\u7406\\u7684\\u62D2\\u7EDD\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u9519\\u5566\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u8FD9\\u5C31\\u50CF\\u7ED9\\u98DE\\u8239\\u88C5\\u4E0A\\u8B66\\u62A5\\u5668\\uFF0C\\u4E00\\u65E6\\u5F15\\u64CE\\u6545\\u969C\\uFF08\\u672A\\u5904\\u7406\\u9519\\u8BEF\\uFF09\\uFF0C\\u7ACB\\u5373\\u901A\\u77E5\\u4F60\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\u542F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"unhandledrejection\"})})})}),\" \\u76D1\\u542C\\uFF0C\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\u7ED3\\u5408\\u9519\\u8BEF\\u76D1\\u63A7\\u5DE5\\u5177\\uFF08\\u5982 Sentry\\uFF09\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"43-\\u9519\\u8BEF\\u91CD\\u8BD5\\u673A\\u5236\",children:(0,l.jsx)(e.a,{href:\"#43-\\u9519\\u8BEF\\u91CD\\u8BD5\\u673A\\u5236\",children:\"4.3 \\u9519\\u8BEF\\u91CD\\u8BD5\\u673A\\u5236\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\\u7684\\u573A\\u666F\\u4E0B\\uFF0C\\u81EA\\u52A8\\u91CD\\u8BD5\\u53EF\\u4EE5\\u63D0\\u9AD8\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u65B9\\u6848\"}),\"\\uFF1A\\u5B9E\\u73B0\\u4E00\\u4E2A\\u91CD\\u8BD5\\u51FD\\u6570\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" retry\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"promiseFn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"maxRetries\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" attempt\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"attemptsLeft\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      promiseFn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(resolve)\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (attemptsLeft \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" attempt\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(attemptsLeft \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), delay);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    attempt\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(maxRetries);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u793A\\u4F8B\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" flakyAPI\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"random\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0.7\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6210\\u529F\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    else\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5931\\u8D25\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"retry\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(flakyAPI, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"result\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6700\\u7EC8\\u5931\\u8D25\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error));\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u4E3A\\u91CD\\u8BD5\\u673A\\u5236\\u8BBE\\u7F6E\\u4E0A\\u9650\\u548C\\u5EF6\\u8FDF\\uFF0C\\u907F\\u514D\\u65E0\\u9650\\u5FAA\\u73AF\\u6216\\u8FC7\\u5FEB\\u91CD\\u8BD5\\uFF01\"})})}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\\u4ECE\\u4EE3\\u7801\\u5230\\u5FC3\\u6CD5\",children:(0,l.jsx)(e.a,{href:\"#5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\\u4ECE\\u4EE3\\u7801\\u5230\\u5FC3\\u6CD5\",children:\"5. \\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\\uFF1A\\u4ECE\\u4EE3\\u7801\\u5230\\u5FC3\\u6CD5\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5199\\u51FA\\u5065\\u58EE\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u4EE3\\u7801\\uFF0C\\u4E0D\\u4EC5\\u9700\\u8981\\u6280\\u672F\\uFF0C\\u8FD8\\u9700\\u8981\\u4E00\\u4E9B\\u201C\\u5FC3\\u6CD5\\u201D\\u3002\\u4EE5\\u4E0B\\u662F\\u7ECF\\u8FC7\\u5B9E\\u6218\\u9A8C\\u8BC1\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"51-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E00\\u59CB\\u7EC8\\u663E\\u5F0F\\u5904\\u7406\\u9519\\u8BEF\",children:(0,l.jsx)(e.a,{href:\"#51-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E00\\u59CB\\u7EC8\\u663E\\u5F0F\\u5904\\u7406\\u9519\\u8BEF\",children:\"5.1 \\u6700\\u4F73\\u5B9E\\u8DF5\\u4E00\\uFF1A\\u59CB\\u7EC8\\u663E\\u5F0F\\u5904\\u7406\\u9519\\u8BEF\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u65E0\\u8BBA\\u591A\\u4E48\\u7B80\\u5355\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\uFF0C\\u90FD\\u5E94\\u8BE5\\u6709 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".catch\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try/catch\"})})})}),\"\\uFF08\\u5728 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u4E2D\\uFF09\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/api/data\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BF7\\u6C42\\u5931\\u8D25\\uFF1A\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u663E\\u5F0F\\u9519\\u8BEF\\u5904\\u7406\\u4E0D\\u4EC5\\u63D0\\u9AD8\\u4EE3\\u7801\\u5065\\u58EE\\u6027\\uFF0C\\u8FD8\\u4FBF\\u4E8E\\u8C03\\u8BD5\\u548C\\u7EF4\\u62A4\\uFF01\"})})}),`\n`,(0,l.jsx)(e.h3,{id:\"52-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E8C\\u907F\\u514D-promise-\\u5D4C\\u5957\",children:(0,l.jsx)(e.a,{href:\"#52-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E8C\\u907F\\u514D-promise-\\u5D4C\\u5957\",children:\"5.2 \\u6700\\u4F73\\u5B9E\\u8DF5\\u4E8C\\uFF1A\\u907F\\u514D Promise \\u5D4C\\u5957\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5D4C\\u5957\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u4F1A\\u8BA9\\u4EE3\\u7801\\u53D8\\u5F97\\u96BE\\u4EE5\\u7EF4\\u62A4\\uFF0C\\u4F18\\u5148\\u4F7F\\u7528\\u94FE\\u5F0F\\u8C03\\u7528\\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u793A\\u4F8B\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  fetchOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"orders\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(orders);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6539\\u8FDB\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getUserOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" orders\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(orders);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u8BED\\u6CD5\\u7CD6\\uFF0C\\u5584\\u7528\\u5B83\\u8BA9\\u4EE3\\u7801\\u66F4\\u6E05\\u6670\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"53-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E09\\u6027\\u80FD\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#53-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E09\\u6027\\u80FD\\u4F18\\u5316\",children:\"5.3 \\u6700\\u4F73\\u5B9E\\u8DF5\\u4E09\\uFF1A\\u6027\\u80FD\\u4F18\\u5316\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u51CF\\u5C11\\u5FAE\\u4EFB\\u52A1\\u5806\\u79EF\"}),\"\\uFF1A\\u8FC7\\u591A\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".then\"})})})}),\" \\u94FE\\u4F1A\\u5BFC\\u81F4\\u5FAE\\u4EFB\\u52A1\\u961F\\u5217\\u8FC7\\u957F\\uFF0C\\u5F71\\u54CD\\u6027\\u80FD\\u3002\\u5C3D\\u91CF\\u5408\\u5E76\\u903B\\u8F91\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F13\\u5B58 Promise \\u7ED3\\u679C\"}),\"\\uFF1A\\u5BF9\\u4E8E\\u91CD\\u590D\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF0C\\u4F7F\\u7528\\u7F13\\u5B58\\u907F\\u514D\\u91CD\\u590D\\u8BF7\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchWithCache\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"fetchFn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"has\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(key)) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(key);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" promise\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchFn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(key, promise);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" promise;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u7F13\\u5B58\\u4E0D\\u4EC5\\u63D0\\u5347\\u6027\\u80FD\\uFF0C\\u8FD8\\u80FD\\u51CF\\u5C11\\u670D\\u52A1\\u5668\\u538B\\u529B\\uFF0C\\u4F46\\u8981\\u6CE8\\u610F\\u6E05\\u7406\\u8FC7\\u671F\\u7F13\\u5B58\\uFF01\"})})}),`\n`,(0,l.jsx)(e.h3,{id:\"54-\\u6700\\u4F73\\u5B9E\\u8DF5\\u56DB\\u7F16\\u5199\\u53EF\\u6D4B\\u8BD5\\u7684-promise-\\u4EE3\\u7801\",children:(0,l.jsx)(e.a,{href:\"#54-\\u6700\\u4F73\\u5B9E\\u8DF5\\u56DB\\u7F16\\u5199\\u53EF\\u6D4B\\u8BD5\\u7684-promise-\\u4EE3\\u7801\",children:\"5.4 \\u6700\\u4F73\\u5B9E\\u8DF5\\u56DB\\uFF1A\\u7F16\\u5199\\u53EF\\u6D4B\\u8BD5\\u7684 Promise \\u4EE3\\u7801\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5C06 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u903B\\u8F91\\u5C01\\u88C5\\u6210\\u72EC\\u7ACB\\u51FD\\u6570\\uFF0C\\u4FBF\\u4E8E\\u5355\\u5143\\u6D4B\\u8BD5\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUserOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"userId\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(userId)\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6D4B\\u8BD5\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"describe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"fetchUserOrders\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  it\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"should return orders for valid user\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" orders\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUserOrders\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    expect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(orders).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toEqual\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BA2\\u53551\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8BA2\\u53552\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u53EF\\u6D4B\\u8BD5\\u7684\\u4EE3\\u7801\\u662F\\u9AD8\\u8D28\\u91CF\\u4EE3\\u7801\\u7684\\u6807\\u5FD7\\uFF0C\\u786E\\u4FDD\\u6BCF\\u4E2A\\u5F02\\u6B65\\u51FD\\u6570\\u6709\\u660E\\u786E\\u7684\\u8F93\\u5165\\u548C\\u8F93\\u51FA\\uFF01\"})})}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"6-\\u672A\\u6765\\u5C55\\u671Bpromise-\\u4E0E\\u73B0\\u4EE3\\u6846\\u67B6\",children:(0,l.jsx)(e.a,{href:\"#6-\\u672A\\u6765\\u5C55\\u671Bpromise-\\u4E0E\\u73B0\\u4EE3\\u6846\\u67B6\",children:\"6. \\u672A\\u6765\\u5C55\\u671B\\uFF1APromise \\u4E0E\\u73B0\\u4EE3\\u6846\\u67B6\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u662F\\u73B0\\u4EE3 JavaScript \\u7684\\u57FA\\u77F3\\uFF0C\\u800C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u8BA9\\u5B83\\u66F4\\u52A0\\u4F18\\u96C5\\u3002\\u5728\\u73B0\\u4EE3\\u524D\\u7AEF\\u6846\\u67B6\\uFF08\\u5982 React\\u3001Vue\\u3001Next.js\\uFF09\\u4E2D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u626E\\u6F14\\u7740\\u91CD\\u8981\\u89D2\\u8272\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"61-react-\\u4E2D\\u7684-promise\",children:(0,l.jsx)(e.a,{href:\"#61-react-\\u4E2D\\u7684-promise\",children:\"6.1 React \\u4E2D\\u7684 Promise\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728 React 18 \\u4E2D\\uFF0CSuspense \\u548C\\u6570\\u636E\\u83B7\\u53D6\\u7ED3\\u5408\\u5F97\\u66F4\\u52A0\\u7D27\\u5BC6\\u3002\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5E38\\u7528\\u4E8E\\u5F02\\u6B65\\u7EC4\\u4EF6\\u6216\\u6570\\u636E\\u52A0\\u8F7D\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ProductPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"productId\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" productPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchProduct\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(productId);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" product\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(productPromise); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// React \\u5B9E\\u9A8C\\u6027 API\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{product.name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"62-nextjs-\\u4E2D\\u7684-promise\",children:(0,l.jsx)(e.a,{href:\"#62-nextjs-\\u4E2D\\u7684-promise\",children:\"6.2 Next.js \\u4E2D\\u7684 Promise\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Next.js \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"getServerSideProps\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"getStaticProps\"})})})}),\" \\u90FD\\u4F9D\\u8D56 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5B9E\\u73B0\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u548C\\u9759\\u6001\\u751F\\u6210\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getServerSideProps\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" product\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchProduct\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { props: { product } };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C55\\u671B\"}),\"\\uFF1A\\u968F\\u7740 Web \\u5E73\\u53F0\\u7684\\u6F14\\u8FDB\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u53EF\\u80FD\\u4F1A\\u4E0E\\u65B0\\u7684 API\\uFF08\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Web Streams\"})})})}),\"\\uFF09\\u7ED3\\u5408\\uFF0C\\u63D0\\u4F9B\\u66F4\\u7EC6\\u7C92\\u5EA6\\u7684\\u5F02\\u6B65\\u63A7\\u5236\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:(0,l.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u5173\\u6CE8\\u6846\\u67B6\\u7684\\u5F02\\u6B65 API \\u6587\\u6863\\uFF0C\\u5584\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u63D0\\u5347\\u7528\\u6237\\u4F53\\u9A8C\\uFF01\"]})})}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"7-\\u603B\\u7ED3\\u4E0E\\u5F69\\u86CBpromise-\\u7684\\u54F2\\u5B66\\u4E0E\\u4EE3\\u7801\\u793C\\u7269\",children:(0,l.jsx)(e.a,{href:\"#7-\\u603B\\u7ED3\\u4E0E\\u5F69\\u86CBpromise-\\u7684\\u54F2\\u5B66\\u4E0E\\u4EE3\\u7801\\u793C\\u7269\",children:\"7. \\u603B\\u7ED3\\u4E0E\\u5F69\\u86CB\\uFF1APromise \\u7684\\u54F2\\u5B66\\u4E0E\\u4EE3\\u7801\\u793C\\u7269\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u5DE5\\u5177\\uFF0C\\u66F4\\u662F\\u4E00\\u79CD\\u7F16\\u7A0B\\u54F2\\u5B66\\uFF1A\",(0,l.jsx)(e.strong,{children:\"\\u5EF6\\u8FDF\\u6EE1\\u8DB3\\uFF0C\\u4F18\\u96C5\\u7B49\\u5F85\"}),\"\\u3002\\u5B83\\u8BA9\\u6211\\u4EEC\\u5B66\\u4F1A\\u5728\\u4E0D\\u786E\\u5B9A\\u7684\\u4E16\\u754C\\u4E2D\\uFF0C\\u4F9D\\u7136\\u4FDD\\u6301\\u4EE3\\u7801\\u7684\\u4ECE\\u5BB9\\u4E0E\\u79E9\\u5E8F\\u3002\\u{1F60E}\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u603B\\u7ED3\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u662F\\u5F02\\u6B65\\u7F16\\u7A0B\\u7684\\u57FA\\u77F3\\uFF0C\\u7406\\u89E3\\u5FAE\\u4EFB\\u52A1\\u548C\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u662F\\u5173\\u952E\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u4E1A\\u52A1\\u573A\\u666F\\u4E2D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.race\"})})})}),\" \\u7B49\\u65B9\\u6CD5\\u5404\\u6709\\u5343\\u79CB\\u3002\"]}),`\n`,(0,l.jsx)(e.li,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u548C\\u5E76\\u53D1\\u63A7\\u5236\\u662F\\u5199\\u51FA\\u5065\\u58EE\\u4EE3\\u7801\\u7684\\u5FC5\\u4FEE\\u8BFE\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u4F60\\u4ECE\\u201C\\u4F1A\\u7528\\u201D\\u5230\\u201C\\u7528\\u597D\\u201D\\u3002\"}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5F69\\u86CB\"}),\"\\uFF1A\\u4E00\\u4E2A\\u901A\\u7528\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5DE5\\u5177\\u5E93\\uFF0C\\u62FF\\u53BB\\u7528\\u5427\\uFF01\\u{1F381}\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" PromiseUtils\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u91CD\\u8BD5\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  retry\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"maxRetries\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" attempt\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"attemptsLeft\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        fn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(resolve)\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (attemptsLeft \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"            setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" attempt\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(attemptsLeft \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), delay);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      attempt\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(maxRetries);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5E76\\u53D1\\u9650\\u5236\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  pool\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"tasks\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"limit\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" results\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" executing\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" task\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" of\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tasks) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" p\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" task\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      results.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(p);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (limit \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tasks.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" e\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" p.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" executing.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"splice\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(executing.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"indexOf\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        executing.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (executing.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" >=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" limit) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          await\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"race\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(executing);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(results);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u8D85\\u65F6\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  timeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ms\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"race\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      promise,\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8D85\\u65F6\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), ms)),\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ]);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"PromiseUtils.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"retry\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/api/data\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(console.log);\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u8BA9\\u4F60\\u5BF9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u6709\\u4E86\\u66F4\\u6DF1\\u7684\\u7406\\u89E3\\uFF0C\\u4E5F\\u4E3A\\u4F60\\u7684\\u524D\\u7AEF\\u5F00\\u53D1\\u4E4B\\u8DEF\\u589E\\u6DFB\\u4E86\\u51E0\\u5206\\u4E50\\u8DA3\\uFF01\\u5982\\u679C\\u6709\\u4EFB\\u4F55\\u95EE\\u9898\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u4EA4\\u6D41\\uFF01\\u2728\"]}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(i,{...n})}):i(n)}return f(k);})();\n;return Component;"
  },
  "_id": "JavaScript/å½“Promiseé‡ä¸ŠçœŸå®ä¸šåŠ¡åœºæ™¯.mdx",
  "_raw": {
    "sourceFilePath": "JavaScript/å½“Promiseé‡ä¸ŠçœŸå®ä¸šåŠ¡åœºæ™¯.mdx",
    "sourceFileName": "å½“Promiseé‡ä¸ŠçœŸå®ä¸šåŠ¡åœºæ™¯.mdx",
    "sourceFileDir": "JavaScript",
    "contentType": "mdx",
    "flattenedPath": "JavaScript/å½“Promiseé‡ä¸ŠçœŸå®ä¸šåŠ¡åœºæ™¯"
  },
  "type": "Post",
  "url": "/blog/JavaScript/å½“Promiseé‡ä¸ŠçœŸå®ä¸šåŠ¡åœºæ™¯"
}
{
  "title": "ä¸€æ–‡ææ‡‚ Service Workerï¼šä»â€œå¹•åè‹±é›„â€åˆ°â€œå‰ç«¯é­”æ³•å¸ˆâ€",
  "date": "2023-11-25T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æ Service Worker çš„åŸç†ã€ä¼˜ç¼ºç‚¹ã€åº”ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µï¼Œå¸¦ä½ ä»å…¥é—¨åˆ°ç²¾é€šã€‚",
  "keywords": "Service Worker, PWA, å‰ç«¯æ€§èƒ½ä¼˜åŒ–, ç¦»çº¿ç¼“å­˜, ç½‘ç»œæ‹¦æˆª, Web å¼€å‘",
  "author": "æ™“é¾™",
  "image": "/images/hero/service-worker-guide.jpg",
  "tags": [
    "Service Worker",
    "PWA",
    "å‰ç«¯å¼€å‘",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå¦‚æœä½ æ˜¯ä¸ªå‰ç«¯å¼€å‘è€…ï¼Œæåˆ° **Service Worker**ï¼Œä½ å¯èƒ½ä¼šæƒ³åˆ°ç¦»çº¿ç¼“å­˜ã€æ¨é€é€šçŸ¥ï¼Œæˆ–è€… Progressive Web Appï¼ˆPWAï¼‰çš„â€œçµé­‚â€ã€‚ä½†å®ƒåˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿä¸ºå•¥æœ‰äººçˆ±å®ƒçˆ±å¾—è¦æ­»ï¼Œæœ‰äººå´é¿ä¹‹ä¸åŠï¼Ÿè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°†å¸¦ä½ ä»é›¶åˆ°ä¸€ï¼Œæ·±å…¥ Service Worker çš„ä¸–ç•Œâ€”â€”æ—¢æœ‰ç¡¬æ ¸åŸç†ï¼Œä¹Ÿæœ‰æ¥åœ°æ°”çš„å®è·µï¼Œè¿˜æœ‰ä¸€äº›â€œæ™“é¾™å¼â€çš„åæ§½å’Œç±»æ¯”ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·æ­å¼€è¿™ä¸ªâ€œå¹•åè‹±é›„â€çš„ç¥ç§˜é¢çº±ï¼ğŸš€\n\n---\n\n## Service Worker æ˜¯ä¸ªå•¥ï¼Ÿä»â€œé‚®å·®â€åˆ°â€œç½‘ç»œä»£ç†â€\n\nç®€å•æ¥è¯´ï¼ŒService Worker æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æµè§ˆå™¨åå°çš„ JavaScript è„šæœ¬ã€‚å®ƒç‹¬ç«‹äºä¸»çº¿ç¨‹ï¼Œåƒä¸ªâ€œç½‘ç»œä»£ç†â€ä¸€æ ·ï¼Œæ‹¦æˆªå’Œå¤„ç†é¡µé¢çš„ç½‘ç»œè¯·æ±‚ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå®ƒå°±åƒä½ å®¶é—¨å£çš„æ™ºèƒ½é‚®å·®ï¼šä¸ä»…èƒ½å¸®ä½ æ”¶å¿«é€’ï¼ˆç¼“å­˜èµ„æºï¼‰ï¼Œè¿˜èƒ½åœ¨ä½ ä¸åœ¨å®¶æ—¶æ›¿ä½ ç­¾æ”¶ï¼ˆç¦»çº¿æ”¯æŒï¼‰ï¼Œç”šè‡³è¿˜èƒ½ä¸»åŠ¨æ•²é—¨æé†’ä½ æœ‰æ–°æ¶ˆæ¯ï¼ˆæ¨é€é€šçŸ¥ï¼‰ã€‚\n\n### æ ¸å¿ƒç‰¹ç‚¹é€Ÿè§ˆ\n- **ç‹¬ç«‹çº¿ç¨‹**ï¼šä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œé»˜é»˜å¹²æ´»ã€‚\n- **ç½‘ç»œæ‹¦æˆª**ï¼šå¯ä»¥æ¥ç®¡ `fetch` è¯·æ±‚ï¼Œéšå¿ƒæ‰€æ¬²åœ°æ”¹å†™å“åº”ã€‚\n- **ç”Ÿå‘½å‘¨æœŸ**ï¼šå®‰è£…ï¼ˆinstallï¼‰ã€æ¿€æ´»ï¼ˆactivateï¼‰ã€è¿è¡Œï¼Œåƒä¸ªæœ‰â€œä»ªå¼æ„Ÿâ€çš„å·¥äººã€‚\n- **HTTPS é™å®š**ï¼šå®‰å…¨æ€§ç¬¬ä¸€ï¼Œé™¤éæœ¬åœ°å¼€å‘ï¼ˆlocalhostï¼‰ï¼Œå¦åˆ™å¿…é¡»èµ° HTTPSã€‚\n- **äº‹ä»¶é©±åŠ¨**ï¼šé€šè¿‡ç›‘å¬äº‹ä»¶ï¼ˆ`fetch`ã€`push` ç­‰ï¼‰æ¥å“åº”éœ€æ±‚ã€‚\n\nå¬èµ·æ¥å¾ˆé…·å¯¹å§ï¼Ÿä½†åˆ«æ€¥ï¼Œå®ƒä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„â€œé­”æ³•æ£’â€ï¼Œåé¢æˆ‘ä»¬ä¼šèŠèŠå®ƒçš„â€œè„¾æ°”â€å’Œâ€œçŸ­æ¿â€ã€‚\n\n---\n\n## Service Worker çš„â€œè¶…èƒ½åŠ›â€ä¸â€œè½¯è‚‹â€\n\nè¦ææ‡‚ Service Workerï¼Œå…ˆå¾—çŸ¥é“å®ƒèƒ½å¹²å•¥ï¼Œä¸èƒ½å¹²å•¥ã€‚ä»¥ä¸‹æ˜¯å®ƒçš„ä¼˜ç¼ºç‚¹å¯¹æ¯”ï¼Œæ—¢æœ‰â€œé«˜å…‰æ—¶åˆ»â€ï¼Œä¹Ÿæœ‰â€œç¿»è½¦é£é™©â€ã€‚\n\n### ä¼˜ç‚¹ï¼šä¸ºä»€ä¹ˆå®ƒæ˜¯ PWA çš„â€œçµé­‚â€ï¼Ÿ\n1. **ç¦»çº¿ä½“éªŒ**  \n   é€šè¿‡ç¼“å­˜èµ„æºï¼ˆCache APIï¼‰ï¼Œå³ä½¿ç½‘ç»œæŒ‚äº†ï¼Œç”¨æˆ·ä¹Ÿèƒ½æ­£å¸¸è®¿é—®é¡µé¢ã€‚  \n   *ä¸¾ä¸ªæ —å­*ï¼šä½ å¼€å‘çš„æ–°é—» Appï¼Œç”¨æˆ·åœ¨åœ°é“é‡Œæ²¡ç½‘ç…§æ ·èƒ½åˆ·æ˜¨å¤©çš„å¤´æ¡ã€‚  \n   **å° Tips**ï¼šç”¨ `caches.open()` å’Œ `cache.addAll()` é¢„ç¼“å­˜å…³é”®èµ„æºï¼Œåˆ«å¿˜äº†å®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜ï¼Œä¸ç„¶å°±åƒå®¶é‡Œå †æ»¡è¿‡æœŸçš„å¿«é€’ç›’ã€‚\n\n2. **æ€§èƒ½ä¼˜åŒ–**  \n   ç¼“å­˜é™æ€èµ„æºï¼Œå‡å°‘æœåŠ¡å™¨è¯·æ±‚ï¼Œé¡µé¢åŠ è½½å¿«åˆ°é£èµ·ã€‚  \n   *ç±»æ¯”*ï¼šå°±åƒä½ ç‚¹äº†å¤–å–ï¼ŒService Worker æå‰æŠŠé¥­å¤‡å¥½ï¼Œç­‰ä½ é¥¿äº†ç›´æ¥ç«¯ä¸Šæ¥ã€‚  \n   **å° Tips**ï¼šç»“åˆ `stale-while-revalidate` ç­–ç•¥ï¼Œæ—¢ç”¨ç¼“å­˜åŠ é€Ÿï¼Œåˆåå°æ›´æ–°èµ„æºï¼Œä½“éªŒå’Œæ–°é²œåº¦ä¸¤ä¸è¯¯ã€‚\n\n3. **æ¨é€é€šçŸ¥**  \n   å³ä½¿é¡µé¢å…³é—­ï¼Œå®ƒä¹Ÿèƒ½æ¥æ”¶æœåŠ¡å™¨æ¨é€çš„æ¶ˆæ¯ï¼Œå”¤é†’ç”¨æˆ·ã€‚  \n   *åœºæ™¯*ï¼šç”µå•† App æé†’ä½ â€œåŒ11 ä¼˜æƒ å¼€å§‹äº†â€ï¼Œç®€ç›´æ˜¯â€œè¥é”€ç¥å™¨â€ã€‚  \n   **å° Tips**ï¼šåˆ«æ»¥ç”¨æ¨é€ï¼Œç”¨æˆ·è®¨åŒâ€œå®å®å®â€çš„å™ªéŸ³ï¼Œç²¾å‡†æ¨é€æ‰æ˜¯ç‹é“ã€‚\n\n4. **çµæ´»æ§åˆ¶**  \n   ä½ å¯ä»¥è‡ªå®šä¹‰ç½‘ç»œè¯·æ±‚é€»è¾‘ï¼Œæ¯”å¦‚åŠ¨æ€åˆ‡æ¢ CDNï¼Œæˆ–è€…åœ¨å¼±ç½‘æ—¶è¿”å›è½»é‡ç‰ˆå†…å®¹ã€‚  \n   *å¹½é»˜ç‚¹*ï¼šå®ƒå°±åƒä¸ªâ€œç½‘ç»œå¨å¸ˆâ€ï¼Œç»™ä½ ç‚’ä¸ªâ€œä½é…ç‰ˆç½‘é¡µâ€ä¹Ÿèƒ½åƒå¾—ä¸‹å»ã€‚\n\n### ç¼ºç‚¹ï¼šåˆ«æŒ‡æœ›å®ƒâ€œåŒ…æ²»ç™¾ç—…â€\n1. **æµè§ˆå™¨å…¼å®¹æ€§**  \n   è€æ—§æµè§ˆå™¨ï¼ˆæ¯”å¦‚ IEï¼‰å‹æ ¹ä¸æ”¯æŒï¼Œç§»åŠ¨ç«¯æŸäº›æµè§ˆå™¨ä¹Ÿå¯èƒ½â€œç¿»è½¦â€ã€‚  \n   *åæ§½*ï¼š2025 å¹´äº†ï¼Œè¿˜æœ‰äººç”¨ IEï¼Ÿæˆ‘åŠä½ å–„è‰¯ã€‚  \n   **å° Tips**ï¼šç”¨ `if ('serviceWorker' in navigator)` åˆ¤æ–­æ”¯æŒæƒ…å†µï¼Œç»™ä¸æ”¯æŒçš„ç”¨æˆ·ä¼˜é›…é™çº§ã€‚\n\n2. **è°ƒè¯•éº»çƒ¦**  \n   ç”Ÿå‘½å‘¨æœŸå¤æ‚ï¼Œç¼“å­˜æ›´æ–°ä¸åŠæ—¶ï¼Œå¯èƒ½å¯¼è‡´â€œæ—§ç‰ˆæœ¬å¹½çµâ€é—®é¢˜ã€‚  \n   *ç±»æ¯”*ï¼šå°±åƒä½ å®¶è·¯ç”±å™¨ç¼“å­˜äº†æ—§é…ç½®ï¼Œé‡å¯æ‰ç”Ÿæ•ˆã€‚  \n   **å° Tips**ï¼šå¼€å‘æ—¶ç”¨ Chrome DevTools çš„ â€œApplicationâ€ é¢æ¿ï¼Œå‹¾é€‰ â€œUpdate on Reloadâ€ å¼ºåˆ¶æ›´æ–°ã€‚\n\n3. **èµ„æºå ç”¨**  \n   æ»¥ç”¨ç¼“å­˜å¯èƒ½è®©æµè§ˆå™¨â€œå†…å­˜çˆ†ç‚¸â€ï¼Œå°¤å…¶åœ¨ä½ç«¯è®¾å¤‡ä¸Šã€‚  \n   *åœºæ™¯*ï¼šç”¨æˆ·æ‰‹æœºé‡Œå­˜äº†ä½  1GB çš„ç¼“å­˜ï¼Œé»˜é»˜å¸è½½äº† Appã€‚  \n   **å° Tips**ï¼šè®¾ç½®ç¼“å­˜ä¸Šé™ï¼Œæ¯”å¦‚ç”¨ `cache.match()` æ£€æŸ¥å®¹é‡ï¼Œè¶…é™å°±æ¸…ç†ã€‚\n\n4. **å®‰å…¨æ€§é™åˆ¶**  \n   HTTPS æ˜¯ç¡¬æ€§è¦æ±‚ï¼Œæœ¬åœ°å¼€å‘è¿˜å¥½ï¼Œçº¿ä¸Šç¿»è½¦å¯å°±å°´å°¬äº†ã€‚  \n   *å¹½é»˜ç‚¹*ï¼šæ²¡ HTTPSï¼Œå®ƒè¿é—¨éƒ½ä¸å‡ºï¼Œæ¯”æˆ‘è¿˜å®…ã€‚\n\n---\n\n## æ·±å…¥åŸç†ï¼šService Worker æ˜¯æ€ä¹ˆâ€œå¹²æ´»â€çš„ï¼Ÿ\n\næƒ³çœŸæ­£æŒæ¡ Service Workerï¼Œå…‰çŸ¥é“â€œèƒ½å¹²å•¥â€ä¸å¤Ÿï¼Œå’±ä»¬å¾—æ‰’å¼€å®ƒçš„â€œå‘åŠ¨æœºâ€çœ‹çœ‹ã€‚\n\n### ç”Ÿå‘½å‘¨æœŸï¼šä»â€œå…¥èŒâ€åˆ°â€œä¸Šå²—â€\n1. **æ³¨å†Œï¼ˆRegisterï¼‰**  \n   ç”¨ `navigator.serviceWorker.register('/sw.js')` æ³¨å†Œï¼ŒæŒ‡å®šè„šæœ¬è·¯å¾„ã€‚  \n   **å° Tips**ï¼šæ–‡ä»¶è·¯å¾„è¦å†™å¯¹ï¼Œä¸ç„¶å°±åƒå¯„å¿«é€’å¯„é”™äº†åœ°å€ã€‚\n\n2. **å®‰è£…ï¼ˆInstallï¼‰**  \n   è§¦å‘ `install` äº‹ä»¶ï¼Œé€šå¸¸ç”¨æ¥é¢„ç¼“å­˜èµ„æºã€‚  \n   ```javascript\n   self.addEventListener('install', (event) => {\n     event.waitUntil(\n       caches.open('v1').then((cache) => {\n         return cache.addAll(['/index.html', '/styles.css', '/app.js']);\n       })\n     );\n   });\n   ```\n   *ç±»æ¯”*ï¼šæ–°å‘˜å·¥æŠ¥é“ï¼Œå…ˆæŠŠå·¥ä½æ”¶æ‹¾å¥½ã€‚\n\n3. **æ¿€æ´»ï¼ˆActivateï¼‰**  \n   è§¦å‘ `activate` äº‹ä»¶ï¼Œæ¸…ç†æ—§ç¼“å­˜ï¼Œæ­£å¼æ¥ç®¡é¡µé¢ã€‚  \n   ```javascript\n   self.addEventListener('activate', (event) => {\n     event.waitUntil(\n       caches.keys().then((keys) => {\n         return Promise.all(\n           keys.filter((key) => key !== 'v1').map((key) => caches.delete(key))\n         );\n       })\n     );\n   });\n   ```\n   *å¹½é»˜ç‚¹*ï¼šè€ç‰ˆæœ¬è¢«â€œç‚’é±¿é±¼â€ï¼Œæ–°ç‰ˆæœ¬ä¸Šä½ã€‚\n\n4. **è¿è¡Œï¼ˆFetchï¼‰**  \n   æ‹¦æˆªè¯·æ±‚ï¼Œå†³å®šæ˜¯èµ°ç¼“å­˜è¿˜æ˜¯ç½‘ç»œã€‚  \n   ```javascript\n   self.addEventListener('fetch', (event) => {\n     event.respondWith(\n       caches.match(event.request).then((response) => {\n         return response || fetch(event.request);\n       })\n     );\n   });\n   ```\n   *ç±»æ¯”*ï¼šåƒä¸ªâ€œç½‘ç»œè£åˆ¤â€ï¼Œå¹å“¨å†³å®šè°ä¸Šåœºã€‚\n\n### çº¿ç¨‹æ¨¡å‹ï¼šä¸ºä»€ä¹ˆå®ƒè¿™ä¹ˆâ€œç‹¬â€ï¼Ÿ\nService Worker è¿è¡Œåœ¨ç‹¬ç«‹çš„ Worker çº¿ç¨‹ï¼Œä¸ä¸»çº¿ç¨‹éš”ç¦»ã€‚å®ƒæ²¡æœ‰ DOM è®¿é—®æƒé™ï¼Œåªèƒ½é€šè¿‡ `postMessage` ä¸é¡µé¢é€šä¿¡ã€‚  \n*åœºæ™¯*ï¼šä½ æƒ³ç”¨å®ƒæ“ä½œ DOMï¼ŸæŠ±æ­‰ï¼Œå®ƒåªä¼šå†·å†·åœ°è¯´ï¼šâ€œå…„å¼Ÿï¼Œé‚£æ˜¯ä½ çš„æ´»å„¿ã€‚â€\n\n---\n\n## å®æˆ˜æ¡ˆä¾‹ï¼šä»â€œç©å…·â€åˆ°â€œç”Ÿäº§çº§â€\n\nå…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œä¸‹é¢æ˜¯å‡ ä¸ªç»å…¸åº”ç”¨åœºæ™¯ï¼Œå¸¦ä½ ä»â€œç©å…·ä»£ç â€è¿›åŒ–åˆ°â€œç”Ÿäº§çº§å®è·µâ€ã€‚\n\n### 1. ç¦»çº¿é¡µé¢\n```javascript\n// sw.js\nself.addEventListener('install', (event) => {\n  event.waitUntil(\n    caches.open('offline-v1').then((cache) => {\n      return cache.addAll(['/offline.html']);\n    })\n  );\n});\n\nself.addEventListener('fetch', (event) => {\n  event.respondWith(\n    fetch(event.request).catch(() => {\n      return caches.match('/offline.html');\n    })\n  );\n});\n```\n**æ•ˆæœ**ï¼šç½‘ç»œæŒ‚äº†ï¼Œæ˜¾ç¤ºè‡ªå®šä¹‰ç¦»çº¿é¡µé¢ã€‚  \n**å° Tips**ï¼šåˆ«å¿˜äº†è®¾è®¡ä¸ªå¥½çœ‹çš„ offline.htmlï¼Œç”¨æˆ·ä½“éªŒä¸èƒ½å¤ªç³™ã€‚\n\n### 2. ç¼“å­˜ä¼˜å…ˆç­–ç•¥\n```javascript\nself.addEventListener('fetch', (event) => {\n  event.respondWith(\n    caches.match(event.request).then((response) => {\n      return (\n        response ||\n        fetch(event.request).then((netResponse) => {\n          const clonedResponse = netResponse.clone();\n          caches.open('dynamic-v1').then((cache) => {\n            cache.put(event.request, clonedResponse);\n          });\n          return netResponse;\n        })\n      );\n    })\n  );\n});\n```\n**æ•ˆæœ**ï¼šä¼˜å…ˆç”¨ç¼“å­˜ï¼Œæ²¡ç¼“å­˜å†è¯·æ±‚å¹¶å­˜èµ·æ¥ã€‚  \n**å° Tips**ï¼šåŠ¨æ€ç¼“å­˜è¦æ§åˆ¶å¤§å°ï¼Œåˆ«è®©ç”¨æˆ·ç¡¬ç›˜â€œå“­æ³£â€ã€‚\n\n### 3. æ¨é€é€šçŸ¥\n```javascript\nself.addEventListener('push', (event) => {\n  const data = event.data.json();\n  const options = {\n    body: data.body,\n    icon: '/icon.png',\n    badge: '/badge.png',\n  };\n  event.waitUntil(self.registration.showNotification(data.title, options));\n});\n```\n**æ•ˆæœ**ï¼šæœåŠ¡å™¨æ¨é€æ¶ˆæ¯ï¼Œç”¨æˆ·æ”¶åˆ°é€šçŸ¥ã€‚  \n**å° Tips**ï¼šæµ‹è¯•æ¨é€æ—¶ç”¨ DevTools çš„ â€œPushâ€ åŠŸèƒ½ï¼Œåˆ«çœŸå»çƒ¦æœåŠ¡å™¨ã€‚\n\n---\n\n## æœ€ä½³å®è·µï¼šè®© Service Worker â€œå¬è¯â€\n\nç”¨äº†è¿™ä¹ˆå¤šå¹´ Service Workerï¼Œæˆ‘æ€»ç»“äº†ä¸€äº›â€œè¡€æ³ªç»éªŒâ€ï¼Œåˆ†äº«ç»™ä½ ï¼š\n\n1. **ç‰ˆæœ¬ç®¡ç†**  \n   æ¯æ¬¡æ›´æ–° SW æ–‡ä»¶åï¼ˆ`sw-v2.js`ï¼‰ï¼Œé¿å…æ—§ç‰ˆæœ¬ç¼“å­˜å¹²æ‰°ã€‚  \n   **å° Tips**ï¼šç”¨æ„å»ºå·¥å…·è‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬å·ï¼Œæ‰‹åŠ¨æ”¹åå¤ªç´¯ã€‚\n\n2. **ç¼“å­˜æ¸…ç†**  \n   åœ¨ `activate` é˜¶æ®µæ¸…ç†æ—§ç¼“å­˜ï¼Œåˆ«è®©ç”¨æˆ·å­˜ä¸€å †â€œåƒåœ¾â€ã€‚  \n   **å° Tips**ï¼šå¯ä»¥ç”¨æ—¶é—´æˆ³åˆ¤æ–­ç¼“å­˜æ–°é²œåº¦ã€‚\n\n3. **é”™è¯¯å¤„ç†**  \n   è¯·æ±‚å¤±è´¥æ—¶ï¼Œè¿”å›é™çº§å†…å®¹ï¼Œè€Œä¸æ˜¯ç›´æ¥â€œç™½å±â€ã€‚  \n   **å° Tips**ï¼šå¼±ç½‘æµ‹è¯•æ˜¯ç‹é“ï¼Œåˆ«ä¿¡è‡ªå·±å®¶ 5G çš„â€œå‡è±¡â€ã€‚\n\n4. **ç›‘æ§æ—¥å¿—**  \n   ç”¨ `console.log` æˆ–è¿œç¨‹æ—¥å¿—è®°å½• SW çŠ¶æ€ï¼Œè°ƒè¯•æ•‘å‘½ã€‚  \n   **å° Tips**ï¼šçº¿ä¸Šç¯å¢ƒå…³æ‰ logï¼Œåˆ«è®©ç”¨æˆ·çœ‹åˆ°ä½ çš„â€œå†…å¿ƒæˆâ€ã€‚\n\n---\n\n## æ€»ç»“ï¼šService Worker æ˜¯â€œåŒåˆƒå‰‘â€\n\nService Worker æ˜¯ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œèƒ½è®©ä½ çš„ Web åº”ç”¨å¦‚è™æ·»ç¿¼ï¼Œä½†ä¹Ÿå¯èƒ½å› ä¸ºç”¨ä¸å¥½è€Œâ€œç¿»è½¦â€ã€‚å®ƒé€‚åˆéœ€è¦ç¦»çº¿æ”¯æŒã€æ€§èƒ½ä¼˜åŒ–çš„åœºæ™¯ï¼Œæ¯”å¦‚ PWAã€æ–°é—»ç±»ç½‘ç«™ï¼Œä½†å¦‚æœä½ çš„é¡¹ç›®åªæ˜¯ä¸ªç®€å•åšå®¢ï¼Œå¯èƒ½ç”¨ä¸ä¸Šè¿™æŠŠâ€œå¤§åˆ€â€ã€‚\n\nç”¨å¾—å¥½ï¼Œå®ƒæ˜¯ä½ çš„â€œå¹•åè‹±é›„â€ï¼›ç”¨å¾—ä¸å¥½ï¼Œå®ƒå¯èƒ½æ˜¯â€œè°ƒè¯•å™©æ¢¦â€ã€‚æ‰€ä»¥ï¼ŒåŠ¨æ‰‹å‰å¤šæƒ³æƒ³ï¼šä½ çš„ç”¨æˆ·çœŸçš„éœ€è¦å®ƒå—ï¼Ÿä½ æœ‰ç²¾åŠ›ç»´æŠ¤å®ƒå—ï¼Ÿå¦‚æœç­”æ¡ˆæ˜¯â€œYesâ€ï¼Œé‚£å°±å¤§èƒ†ä¸Šå§ï¼æ¯•ç«Ÿï¼Œå‰ç«¯å¼€å‘ä¸å°±æ˜¯æŠ˜è…¾ä¸­æˆé•¿çš„å—ï¼ŸğŸ˜\n\næœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæ‰¾æˆ‘â€œbattleâ€ï¼ä¸‹æœŸè§ï½\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var u=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),v=(l,e)=>{for(var r in e)a(l,r,{get:e[r],enumerable:!0})},d=(l,e,r,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of y(e))!F.call(l,c)&&c!==r&&a(l,c,{get:()=>e[c],enumerable:!(i=E(e,c))||i.enumerable});return l};var b=(l,e,r)=>(r=l!=null?p(g(l)):{},d(e||!l||!l.__esModule?a(r,\"default\",{value:l,enumerable:!0}):r,l)),B=l=>d(a({},\"__esModule\",{value:!0}),l);var t=u((W,s)=>{s.exports=_jsx_runtime});var k={};v(k,{default:()=>h,frontmatter:()=>f});var n=b(t()),f={type:\"Post\",title:\"\\u4E00\\u6587\\u641E\\u61C2 Service Worker\\uFF1A\\u4ECE\\u201C\\u5E55\\u540E\\u82F1\\u96C4\\u201D\\u5230\\u201C\\u524D\\u7AEF\\u9B54\\u6CD5\\u5E08\\u201D\",date:\"2023-11-25\",description:\"\\u6DF1\\u5165\\u5256\\u6790 Service Worker \\u7684\\u539F\\u7406\\u3001\\u4F18\\u7F3A\\u70B9\\u3001\\u5E94\\u7528\\u573A\\u666F\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u4ECE\\u5165\\u95E8\\u5230\\u7CBE\\u901A\\u3002\",keywords:\"Service Worker, PWA, \\u524D\\u7AEF\\u6027\\u80FD\\u4F18\\u5316, \\u79BB\\u7EBF\\u7F13\\u5B58, \\u7F51\\u7EDC\\u62E6\\u622A, Web \\u5F00\\u53D1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/service-worker-guide.jpg\",tags:[\"Service Worker\",\"PWA\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function o(l){let e={a:\"a\",br:\"br\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u662F\\u4E2A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u63D0\\u5230 \",(0,n.jsx)(e.strong,{children:\"Service Worker\"}),\"\\uFF0C\\u4F60\\u53EF\\u80FD\\u4F1A\\u60F3\\u5230\\u79BB\\u7EBF\\u7F13\\u5B58\\u3001\\u63A8\\u9001\\u901A\\u77E5\\uFF0C\\u6216\\u8005 Progressive Web App\\uFF08PWA\\uFF09\\u7684\\u201C\\u7075\\u9B42\\u201D\\u3002\\u4F46\\u5B83\\u5230\\u5E95\\u662F\\u4E2A\\u5565\\uFF1F\\u4E3A\\u5565\\u6709\\u4EBA\\u7231\\u5B83\\u7231\\u5F97\\u8981\\u6B7B\\uFF0C\\u6709\\u4EBA\\u5374\\u907F\\u4E4B\\u4E0D\\u53CA\\uFF1F\\u8FD9\\u7BC7\\u6587\\u7AE0\\uFF0C\\u6211\\u5C06\\u5E26\\u4F60\\u4ECE\\u96F6\\u5230\\u4E00\\uFF0C\\u6DF1\\u5165 Service Worker \\u7684\\u4E16\\u754C\\u2014\\u2014\\u65E2\\u6709\\u786C\\u6838\\u539F\\u7406\\uFF0C\\u4E5F\\u6709\\u63A5\\u5730\\u6C14\\u7684\\u5B9E\\u8DF5\\uFF0C\\u8FD8\\u6709\\u4E00\\u4E9B\\u201C\\u6653\\u9F99\\u5F0F\\u201D\\u7684\\u5410\\u69FD\\u548C\\u7C7B\\u6BD4\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u63ED\\u5F00\\u8FD9\\u4E2A\\u201C\\u5E55\\u540E\\u82F1\\u96C4\\u201D\\u7684\\u795E\\u79D8\\u9762\\u7EB1\\uFF01\\u{1F680}\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"service-worker-\\u662F\\u4E2A\\u5565\\u4ECE\\u90AE\\u5DEE\\u5230\\u7F51\\u7EDC\\u4EE3\\u7406\",children:(0,n.jsx)(e.a,{href:\"#service-worker-\\u662F\\u4E2A\\u5565\\u4ECE\\u90AE\\u5DEE\\u5230\\u7F51\\u7EDC\\u4EE3\\u7406\",children:\"Service Worker \\u662F\\u4E2A\\u5565\\uFF1F\\u4ECE\\u201C\\u90AE\\u5DEE\\u201D\\u5230\\u201C\\u7F51\\u7EDC\\u4EE3\\u7406\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7B80\\u5355\\u6765\\u8BF4\\uFF0CService Worker \\u662F\\u4E00\\u4E2A\\u8FD0\\u884C\\u5728\\u6D4F\\u89C8\\u5668\\u540E\\u53F0\\u7684 JavaScript \\u811A\\u672C\\u3002\\u5B83\\u72EC\\u7ACB\\u4E8E\\u4E3B\\u7EBF\\u7A0B\\uFF0C\\u50CF\\u4E2A\\u201C\\u7F51\\u7EDC\\u4EE3\\u7406\\u201D\\u4E00\\u6837\\uFF0C\\u62E6\\u622A\\u548C\\u5904\\u7406\\u9875\\u9762\\u7684\\u7F51\\u7EDC\\u8BF7\\u6C42\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u5B83\\u5C31\\u50CF\\u4F60\\u5BB6\\u95E8\\u53E3\\u7684\\u667A\\u80FD\\u90AE\\u5DEE\\uFF1A\\u4E0D\\u4EC5\\u80FD\\u5E2E\\u4F60\\u6536\\u5FEB\\u9012\\uFF08\\u7F13\\u5B58\\u8D44\\u6E90\\uFF09\\uFF0C\\u8FD8\\u80FD\\u5728\\u4F60\\u4E0D\\u5728\\u5BB6\\u65F6\\u66FF\\u4F60\\u7B7E\\u6536\\uFF08\\u79BB\\u7EBF\\u652F\\u6301\\uFF09\\uFF0C\\u751A\\u81F3\\u8FD8\\u80FD\\u4E3B\\u52A8\\u6572\\u95E8\\u63D0\\u9192\\u4F60\\u6709\\u65B0\\u6D88\\u606F\\uFF08\\u63A8\\u9001\\u901A\\u77E5\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u6838\\u5FC3\\u7279\\u70B9\\u901F\\u89C8\",children:(0,n.jsx)(e.a,{href:\"#\\u6838\\u5FC3\\u7279\\u70B9\\u901F\\u89C8\",children:\"\\u6838\\u5FC3\\u7279\\u70B9\\u901F\\u89C8\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u72EC\\u7ACB\\u7EBF\\u7A0B\"}),\"\\uFF1A\\u4E0D\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\uFF0C\\u9ED8\\u9ED8\\u5E72\\u6D3B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F51\\u7EDC\\u62E6\\u622A\"}),\"\\uFF1A\\u53EF\\u4EE5\\u63A5\\u7BA1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"fetch\"})})})}),\" \\u8BF7\\u6C42\\uFF0C\\u968F\\u5FC3\\u6240\\u6B32\\u5730\\u6539\\u5199\\u54CD\\u5E94\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u751F\\u547D\\u5468\\u671F\"}),\"\\uFF1A\\u5B89\\u88C5\\uFF08install\\uFF09\\u3001\\u6FC0\\u6D3B\\uFF08activate\\uFF09\\u3001\\u8FD0\\u884C\\uFF0C\\u50CF\\u4E2A\\u6709\\u201C\\u4EEA\\u5F0F\\u611F\\u201D\\u7684\\u5DE5\\u4EBA\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"HTTPS \\u9650\\u5B9A\"}),\"\\uFF1A\\u5B89\\u5168\\u6027\\u7B2C\\u4E00\\uFF0C\\u9664\\u975E\\u672C\\u5730\\u5F00\\u53D1\\uFF08localhost\\uFF09\\uFF0C\\u5426\\u5219\\u5FC5\\u987B\\u8D70 HTTPS\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E8B\\u4EF6\\u9A71\\u52A8\"}),\"\\uFF1A\\u901A\\u8FC7\\u76D1\\u542C\\u4E8B\\u4EF6\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"fetch\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"push\"})})})}),\" \\u7B49\\uFF09\\u6765\\u54CD\\u5E94\\u9700\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u542C\\u8D77\\u6765\\u5F88\\u9177\\u5BF9\\u5427\\uFF1F\\u4F46\\u522B\\u6025\\uFF0C\\u5B83\\u4E5F\\u4E0D\\u662F\\u4E07\\u80FD\\u7684\\u201C\\u9B54\\u6CD5\\u68D2\\u201D\\uFF0C\\u540E\\u9762\\u6211\\u4EEC\\u4F1A\\u804A\\u804A\\u5B83\\u7684\\u201C\\u813E\\u6C14\\u201D\\u548C\\u201C\\u77ED\\u677F\\u201D\\u3002\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"service-worker-\\u7684\\u8D85\\u80FD\\u529B\\u4E0E\\u8F6F\\u808B\",children:(0,n.jsx)(e.a,{href:\"#service-worker-\\u7684\\u8D85\\u80FD\\u529B\\u4E0E\\u8F6F\\u808B\",children:\"Service Worker \\u7684\\u201C\\u8D85\\u80FD\\u529B\\u201D\\u4E0E\\u201C\\u8F6F\\u808B\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8981\\u641E\\u61C2 Service Worker\\uFF0C\\u5148\\u5F97\\u77E5\\u9053\\u5B83\\u80FD\\u5E72\\u5565\\uFF0C\\u4E0D\\u80FD\\u5E72\\u5565\\u3002\\u4EE5\\u4E0B\\u662F\\u5B83\\u7684\\u4F18\\u7F3A\\u70B9\\u5BF9\\u6BD4\\uFF0C\\u65E2\\u6709\\u201C\\u9AD8\\u5149\\u65F6\\u523B\\u201D\\uFF0C\\u4E5F\\u6709\\u201C\\u7FFB\\u8F66\\u98CE\\u9669\\u201D\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4F18\\u70B9\\u4E3A\\u4EC0\\u4E48\\u5B83\\u662F-pwa-\\u7684\\u7075\\u9B42\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u70B9\\u4E3A\\u4EC0\\u4E48\\u5B83\\u662F-pwa-\\u7684\\u7075\\u9B42\",children:\"\\u4F18\\u70B9\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u5B83\\u662F PWA \\u7684\\u201C\\u7075\\u9B42\\u201D\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u79BB\\u7EBF\\u4F53\\u9A8C\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u901A\\u8FC7\\u7F13\\u5B58\\u8D44\\u6E90\\uFF08Cache API\\uFF09\\uFF0C\\u5373\\u4F7F\\u7F51\\u7EDC\\u6302\\u4E86\\uFF0C\\u7528\\u6237\\u4E5F\\u80FD\\u6B63\\u5E38\\u8BBF\\u95EE\\u9875\\u9762\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u4E3E\\u4E2A\\u6817\\u5B50\"}),\"\\uFF1A\\u4F60\\u5F00\\u53D1\\u7684\\u65B0\\u95FB App\\uFF0C\\u7528\\u6237\\u5728\\u5730\\u94C1\\u91CC\\u6CA1\\u7F51\\u7167\\u6837\\u80FD\\u5237\\u6628\\u5929\\u7684\\u5934\\u6761\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"caches.open()\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cache.addAll()\"})})})}),\" \\u9884\\u7F13\\u5B58\\u5173\\u952E\\u8D44\\u6E90\\uFF0C\\u522B\\u5FD8\\u4E86\\u5B9A\\u671F\\u6E05\\u7406\\u8FC7\\u671F\\u7F13\\u5B58\\uFF0C\\u4E0D\\u7136\\u5C31\\u50CF\\u5BB6\\u91CC\\u5806\\u6EE1\\u8FC7\\u671F\\u7684\\u5FEB\\u9012\\u76D2\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u7F13\\u5B58\\u9759\\u6001\\u8D44\\u6E90\\uFF0C\\u51CF\\u5C11\\u670D\\u52A1\\u5668\\u8BF7\\u6C42\\uFF0C\\u9875\\u9762\\u52A0\\u8F7D\\u5FEB\\u5230\\u98DE\\u8D77\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u5C31\\u50CF\\u4F60\\u70B9\\u4E86\\u5916\\u5356\\uFF0CService Worker \\u63D0\\u524D\\u628A\\u996D\\u5907\\u597D\\uFF0C\\u7B49\\u4F60\\u997F\\u4E86\\u76F4\\u63A5\\u7AEF\\u4E0A\\u6765\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u7ED3\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"stale-while-revalidate\"})})})}),\" \\u7B56\\u7565\\uFF0C\\u65E2\\u7528\\u7F13\\u5B58\\u52A0\\u901F\\uFF0C\\u53C8\\u540E\\u53F0\\u66F4\\u65B0\\u8D44\\u6E90\\uFF0C\\u4F53\\u9A8C\\u548C\\u65B0\\u9C9C\\u5EA6\\u4E24\\u4E0D\\u8BEF\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u63A8\\u9001\\u901A\\u77E5\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5373\\u4F7F\\u9875\\u9762\\u5173\\u95ED\\uFF0C\\u5B83\\u4E5F\\u80FD\\u63A5\\u6536\\u670D\\u52A1\\u5668\\u63A8\\u9001\\u7684\\u6D88\\u606F\\uFF0C\\u5524\\u9192\\u7528\\u6237\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u573A\\u666F\"}),\"\\uFF1A\\u7535\\u5546 App \\u63D0\\u9192\\u4F60\\u201C\\u53CC11 \\u4F18\\u60E0\\u5F00\\u59CB\\u4E86\\u201D\\uFF0C\\u7B80\\u76F4\\u662F\\u201C\\u8425\\u9500\\u795E\\u5668\\u201D\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u522B\\u6EE5\\u7528\\u63A8\\u9001\\uFF0C\\u7528\\u6237\\u8BA8\\u538C\\u201C\\u53EE\\u53EE\\u53EE\\u201D\\u7684\\u566A\\u97F3\\uFF0C\\u7CBE\\u51C6\\u63A8\\u9001\\u624D\\u662F\\u738B\\u9053\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7075\\u6D3B\\u63A7\\u5236\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u4F60\\u53EF\\u4EE5\\u81EA\\u5B9A\\u4E49\\u7F51\\u7EDC\\u8BF7\\u6C42\\u903B\\u8F91\\uFF0C\\u6BD4\\u5982\\u52A8\\u6001\\u5207\\u6362 CDN\\uFF0C\\u6216\\u8005\\u5728\\u5F31\\u7F51\\u65F6\\u8FD4\\u56DE\\u8F7B\\u91CF\\u7248\\u5185\\u5BB9\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u5E7D\\u9ED8\\u70B9\"}),\"\\uFF1A\\u5B83\\u5C31\\u50CF\\u4E2A\\u201C\\u7F51\\u7EDC\\u53A8\\u5E08\\u201D\\uFF0C\\u7ED9\\u4F60\\u7092\\u4E2A\\u201C\\u4F4E\\u914D\\u7248\\u7F51\\u9875\\u201D\\u4E5F\\u80FD\\u5403\\u5F97\\u4E0B\\u53BB\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7F3A\\u70B9\\u522B\\u6307\\u671B\\u5B83\\u5305\\u6CBB\\u767E\\u75C5\",children:(0,n.jsx)(e.a,{href:\"#\\u7F3A\\u70B9\\u522B\\u6307\\u671B\\u5B83\\u5305\\u6CBB\\u767E\\u75C5\",children:\"\\u7F3A\\u70B9\\uFF1A\\u522B\\u6307\\u671B\\u5B83\\u201C\\u5305\\u6CBB\\u767E\\u75C5\\u201D\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u517C\\u5BB9\\u6027\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u8001\\u65E7\\u6D4F\\u89C8\\u5668\\uFF08\\u6BD4\\u5982 IE\\uFF09\\u538B\\u6839\\u4E0D\\u652F\\u6301\\uFF0C\\u79FB\\u52A8\\u7AEF\\u67D0\\u4E9B\\u6D4F\\u89C8\\u5668\\u4E5F\\u53EF\\u80FD\\u201C\\u7FFB\\u8F66\\u201D\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u5410\\u69FD\"}),\"\\uFF1A2025 \\u5E74\\u4E86\\uFF0C\\u8FD8\\u6709\\u4EBA\\u7528 IE\\uFF1F\\u6211\\u529D\\u4F60\\u5584\\u826F\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"if ('serviceWorker' in navigator)\"})})})}),\" \\u5224\\u65AD\\u652F\\u6301\\u60C5\\u51B5\\uFF0C\\u7ED9\\u4E0D\\u652F\\u6301\\u7684\\u7528\\u6237\\u4F18\\u96C5\\u964D\\u7EA7\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u9EBB\\u70E6\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u751F\\u547D\\u5468\\u671F\\u590D\\u6742\\uFF0C\\u7F13\\u5B58\\u66F4\\u65B0\\u4E0D\\u53CA\\u65F6\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u201C\\u65E7\\u7248\\u672C\\u5E7D\\u7075\\u201D\\u95EE\\u9898\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u5C31\\u50CF\\u4F60\\u5BB6\\u8DEF\\u7531\\u5668\\u7F13\\u5B58\\u4E86\\u65E7\\u914D\\u7F6E\\uFF0C\\u91CD\\u542F\\u624D\\u751F\\u6548\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u5F00\\u53D1\\u65F6\\u7528 Chrome DevTools \\u7684 \\u201CApplication\\u201D \\u9762\\u677F\\uFF0C\\u52FE\\u9009 \\u201CUpdate on Reload\\u201D \\u5F3A\\u5236\\u66F4\\u65B0\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8D44\\u6E90\\u5360\\u7528\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u6EE5\\u7528\\u7F13\\u5B58\\u53EF\\u80FD\\u8BA9\\u6D4F\\u89C8\\u5668\\u201C\\u5185\\u5B58\\u7206\\u70B8\\u201D\\uFF0C\\u5C24\\u5176\\u5728\\u4F4E\\u7AEF\\u8BBE\\u5907\\u4E0A\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u573A\\u666F\"}),\"\\uFF1A\\u7528\\u6237\\u624B\\u673A\\u91CC\\u5B58\\u4E86\\u4F60 1GB \\u7684\\u7F13\\u5B58\\uFF0C\\u9ED8\\u9ED8\\u5378\\u8F7D\\u4E86 App\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u8BBE\\u7F6E\\u7F13\\u5B58\\u4E0A\\u9650\\uFF0C\\u6BD4\\u5982\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cache.match()\"})})})}),\" \\u68C0\\u67E5\\u5BB9\\u91CF\\uFF0C\\u8D85\\u9650\\u5C31\\u6E05\\u7406\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B89\\u5168\\u6027\\u9650\\u5236\"}),(0,n.jsx)(e.br,{}),`\n`,\"HTTPS \\u662F\\u786C\\u6027\\u8981\\u6C42\\uFF0C\\u672C\\u5730\\u5F00\\u53D1\\u8FD8\\u597D\\uFF0C\\u7EBF\\u4E0A\\u7FFB\\u8F66\\u53EF\\u5C31\\u5C34\\u5C2C\\u4E86\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u5E7D\\u9ED8\\u70B9\"}),\"\\uFF1A\\u6CA1 HTTPS\\uFF0C\\u5B83\\u8FDE\\u95E8\\u90FD\\u4E0D\\u51FA\\uFF0C\\u6BD4\\u6211\\u8FD8\\u5B85\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6DF1\\u5165\\u539F\\u7406service-worker-\\u662F\\u600E\\u4E48\\u5E72\\u6D3B\\u7684\",children:(0,n.jsx)(e.a,{href:\"#\\u6DF1\\u5165\\u539F\\u7406service-worker-\\u662F\\u600E\\u4E48\\u5E72\\u6D3B\\u7684\",children:\"\\u6DF1\\u5165\\u539F\\u7406\\uFF1AService Worker \\u662F\\u600E\\u4E48\\u201C\\u5E72\\u6D3B\\u201D\\u7684\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u60F3\\u771F\\u6B63\\u638C\\u63E1 Service Worker\\uFF0C\\u5149\\u77E5\\u9053\\u201C\\u80FD\\u5E72\\u5565\\u201D\\u4E0D\\u591F\\uFF0C\\u54B1\\u4EEC\\u5F97\\u6252\\u5F00\\u5B83\\u7684\\u201C\\u53D1\\u52A8\\u673A\\u201D\\u770B\\u770B\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u751F\\u547D\\u5468\\u671F\\u4ECE\\u5165\\u804C\\u5230\\u4E0A\\u5C97\",children:(0,n.jsx)(e.a,{href:\"#\\u751F\\u547D\\u5468\\u671F\\u4ECE\\u5165\\u804C\\u5230\\u4E0A\\u5C97\",children:\"\\u751F\\u547D\\u5468\\u671F\\uFF1A\\u4ECE\\u201C\\u5165\\u804C\\u201D\\u5230\\u201C\\u4E0A\\u5C97\\u201D\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6CE8\\u518C\\uFF08Register\\uFF09\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"navigator.serviceWorker.register('/sw.js')\"})})})}),\" \\u6CE8\\u518C\\uFF0C\\u6307\\u5B9A\\u811A\\u672C\\u8DEF\\u5F84\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u6587\\u4EF6\\u8DEF\\u5F84\\u8981\\u5199\\u5BF9\\uFF0C\\u4E0D\\u7136\\u5C31\\u50CF\\u5BC4\\u5FEB\\u9012\\u5BC4\\u9519\\u4E86\\u5730\\u5740\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B89\\u88C5\\uFF08Install\\uFF09\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u89E6\\u53D1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"install\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u901A\\u5E38\\u7528\\u6765\\u9884\\u7F13\\u5B58\\u8D44\\u6E90\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'install'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'v1'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cache\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addAll\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/index.html'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/styles.css'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/app.js'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u65B0\\u5458\\u5DE5\\u62A5\\u9053\\uFF0C\\u5148\\u628A\\u5DE5\\u4F4D\\u6536\\u62FE\\u597D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6FC0\\u6D3B\\uFF08Activate\\uFF09\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u89E6\\u53D1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"activate\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u6E05\\u7406\\u65E7\\u7F13\\u5B58\\uFF0C\\u6B63\\u5F0F\\u63A5\\u7BA1\\u9875\\u9762\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'activate'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"keys\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"keys\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        keys.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" key \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'v1'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"delete\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(key))\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:\"\\u5E7D\\u9ED8\\u70B9\"}),\"\\uFF1A\\u8001\\u7248\\u672C\\u88AB\\u201C\\u7092\\u9C7F\\u9C7C\\u201D\\uFF0C\\u65B0\\u7248\\u672C\\u4E0A\\u4F4D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FD0\\u884C\\uFF08Fetch\\uFF09\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u62E6\\u622A\\u8BF7\\u6C42\\uFF0C\\u51B3\\u5B9A\\u662F\\u8D70\\u7F13\\u5B58\\u8FD8\\u662F\\u7F51\\u7EDC\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'fetch'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"respondWith\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"match\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.request).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.request);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u50CF\\u4E2A\\u201C\\u7F51\\u7EDC\\u88C1\\u5224\\u201D\\uFF0C\\u5439\\u54E8\\u51B3\\u5B9A\\u8C01\\u4E0A\\u573A\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7EBF\\u7A0B\\u6A21\\u578B\\u4E3A\\u4EC0\\u4E48\\u5B83\\u8FD9\\u4E48\\u72EC\",children:(0,n.jsx)(e.a,{href:\"#\\u7EBF\\u7A0B\\u6A21\\u578B\\u4E3A\\u4EC0\\u4E48\\u5B83\\u8FD9\\u4E48\\u72EC\",children:\"\\u7EBF\\u7A0B\\u6A21\\u578B\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u5B83\\u8FD9\\u4E48\\u201C\\u72EC\\u201D\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Service Worker \\u8FD0\\u884C\\u5728\\u72EC\\u7ACB\\u7684 Worker \\u7EBF\\u7A0B\\uFF0C\\u4E0E\\u4E3B\\u7EBF\\u7A0B\\u9694\\u79BB\\u3002\\u5B83\\u6CA1\\u6709 DOM \\u8BBF\\u95EE\\u6743\\u9650\\uFF0C\\u53EA\\u80FD\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"postMessage\"})})})}),\" \\u4E0E\\u9875\\u9762\\u901A\\u4FE1\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.em,{children:\"\\u573A\\u666F\"}),\"\\uFF1A\\u4F60\\u60F3\\u7528\\u5B83\\u64CD\\u4F5C DOM\\uFF1F\\u62B1\\u6B49\\uFF0C\\u5B83\\u53EA\\u4F1A\\u51B7\\u51B7\\u5730\\u8BF4\\uFF1A\\u201C\\u5144\\u5F1F\\uFF0C\\u90A3\\u662F\\u4F60\\u7684\\u6D3B\\u513F\\u3002\\u201D\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5B9E\\u6218\\u6848\\u4F8B\\u4ECE\\u73A9\\u5177\\u5230\\u751F\\u4EA7\\u7EA7\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u6218\\u6848\\u4F8B\\u4ECE\\u73A9\\u5177\\u5230\\u751F\\u4EA7\\u7EA7\",children:\"\\u5B9E\\u6218\\u6848\\u4F8B\\uFF1A\\u4ECE\\u201C\\u73A9\\u5177\\u201D\\u5230\\u201C\\u751F\\u4EA7\\u7EA7\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5149\\u8BF4\\u4E0D\\u7EC3\\u5047\\u628A\\u5F0F\\uFF0C\\u4E0B\\u9762\\u662F\\u51E0\\u4E2A\\u7ECF\\u5178\\u5E94\\u7528\\u573A\\u666F\\uFF0C\\u5E26\\u4F60\\u4ECE\\u201C\\u73A9\\u5177\\u4EE3\\u7801\\u201D\\u8FDB\\u5316\\u5230\\u201C\\u751F\\u4EA7\\u7EA7\\u5B9E\\u8DF5\\u201D\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u79BB\\u7EBF\\u9875\\u9762\",children:(0,n.jsx)(e.a,{href:\"#1-\\u79BB\\u7EBF\\u9875\\u9762\",children:\"1. \\u79BB\\u7EBF\\u9875\\u9762\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// sw.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'install'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'offline-v1'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cache\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addAll\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/offline.html'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'fetch'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"respondWith\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.request).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"match\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/offline.html'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6548\\u679C\"}),\"\\uFF1A\\u7F51\\u7EDC\\u6302\\u4E86\\uFF0C\\u663E\\u793A\\u81EA\\u5B9A\\u4E49\\u79BB\\u7EBF\\u9875\\u9762\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u522B\\u5FD8\\u4E86\\u8BBE\\u8BA1\\u4E2A\\u597D\\u770B\\u7684 offline.html\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u4E0D\\u80FD\\u592A\\u7CD9\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u7F13\\u5B58\\u4F18\\u5148\\u7B56\\u7565\",children:(0,n.jsx)(e.a,{href:\"#2-\\u7F13\\u5B58\\u4F18\\u5148\\u7B56\\u7565\",children:\"2. \\u7F13\\u5B58\\u4F18\\u5148\\u7B56\\u7565\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'fetch'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"respondWith\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"match\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.request).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        response \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.request).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"netResponse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" clonedResponse\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" netResponse.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"clone\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'dynamic-v1'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cache\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            cache.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"put\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.request, clonedResponse);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" netResponse;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6548\\u679C\"}),\"\\uFF1A\\u4F18\\u5148\\u7528\\u7F13\\u5B58\\uFF0C\\u6CA1\\u7F13\\u5B58\\u518D\\u8BF7\\u6C42\\u5E76\\u5B58\\u8D77\\u6765\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u52A8\\u6001\\u7F13\\u5B58\\u8981\\u63A7\\u5236\\u5927\\u5C0F\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u786C\\u76D8\\u201C\\u54ED\\u6CE3\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u63A8\\u9001\\u901A\\u77E5\",children:(0,n.jsx)(e.a,{href:\"#3-\\u63A8\\u9001\\u901A\\u77E5\",children:\"3. \\u63A8\\u9001\\u901A\\u77E5\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'push'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" event.data.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" options\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    body: data.body,\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    icon: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/icon.png'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    badge: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/badge.png'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(self.registration.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"showNotification\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data.title, options));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6548\\u679C\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u63A8\\u9001\\u6D88\\u606F\\uFF0C\\u7528\\u6237\\u6536\\u5230\\u901A\\u77E5\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u6D4B\\u8BD5\\u63A8\\u9001\\u65F6\\u7528 DevTools \\u7684 \\u201CPush\\u201D \\u529F\\u80FD\\uFF0C\\u522B\\u771F\\u53BB\\u70E6\\u670D\\u52A1\\u5668\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-service-worker-\\u542C\\u8BDD\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-service-worker-\\u542C\\u8BDD\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9 Service Worker \\u201C\\u542C\\u8BDD\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7528\\u4E86\\u8FD9\\u4E48\\u591A\\u5E74 Service Worker\\uFF0C\\u6211\\u603B\\u7ED3\\u4E86\\u4E00\\u4E9B\\u201C\\u8840\\u6CEA\\u7ECF\\u9A8C\\u201D\\uFF0C\\u5206\\u4EAB\\u7ED9\\u4F60\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7248\\u672C\\u7BA1\\u7406\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u6BCF\\u6B21\\u66F4\\u65B0 SW \\u6587\\u4EF6\\u540D\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"sw-v2.js\"})})})}),\"\\uFF09\\uFF0C\\u907F\\u514D\\u65E7\\u7248\\u672C\\u7F13\\u5B58\\u5E72\\u6270\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u7528\\u6784\\u5EFA\\u5DE5\\u5177\\u81EA\\u52A8\\u751F\\u6210\\u7248\\u672C\\u53F7\\uFF0C\\u624B\\u52A8\\u6539\\u540D\\u592A\\u7D2F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F13\\u5B58\\u6E05\\u7406\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"activate\"})})})}),\" \\u9636\\u6BB5\\u6E05\\u7406\\u65E7\\u7F13\\u5B58\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u5B58\\u4E00\\u5806\\u201C\\u5783\\u573E\\u201D\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u53EF\\u4EE5\\u7528\\u65F6\\u95F4\\u6233\\u5224\\u65AD\\u7F13\\u5B58\\u65B0\\u9C9C\\u5EA6\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u8BF7\\u6C42\\u5931\\u8D25\\u65F6\\uFF0C\\u8FD4\\u56DE\\u964D\\u7EA7\\u5185\\u5BB9\\uFF0C\\u800C\\u4E0D\\u662F\\u76F4\\u63A5\\u201C\\u767D\\u5C4F\\u201D\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u5F31\\u7F51\\u6D4B\\u8BD5\\u662F\\u738B\\u9053\\uFF0C\\u522B\\u4FE1\\u81EA\\u5DF1\\u5BB6 5G \\u7684\\u201C\\u5047\\u8C61\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u76D1\\u63A7\\u65E5\\u5FD7\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"console.log\"})})})}),\" \\u6216\\u8FDC\\u7A0B\\u65E5\\u5FD7\\u8BB0\\u5F55 SW \\u72B6\\u6001\\uFF0C\\u8C03\\u8BD5\\u6551\\u547D\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\\u7EBF\\u4E0A\\u73AF\\u5883\\u5173\\u6389 log\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u770B\\u5230\\u4F60\\u7684\\u201C\\u5185\\u5FC3\\u620F\\u201D\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3service-worker-\\u662F\\u53CC\\u5203\\u5251\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3service-worker-\\u662F\\u53CC\\u5203\\u5251\",children:\"\\u603B\\u7ED3\\uFF1AService Worker \\u662F\\u201C\\u53CC\\u5203\\u5251\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Service Worker \\u662F\\u4E2A\\u5F3A\\u5927\\u7684\\u5DE5\\u5177\\uFF0C\\u80FD\\u8BA9\\u4F60\\u7684 Web \\u5E94\\u7528\\u5982\\u864E\\u6DFB\\u7FFC\\uFF0C\\u4F46\\u4E5F\\u53EF\\u80FD\\u56E0\\u4E3A\\u7528\\u4E0D\\u597D\\u800C\\u201C\\u7FFB\\u8F66\\u201D\\u3002\\u5B83\\u9002\\u5408\\u9700\\u8981\\u79BB\\u7EBF\\u652F\\u6301\\u3001\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u573A\\u666F\\uFF0C\\u6BD4\\u5982 PWA\\u3001\\u65B0\\u95FB\\u7C7B\\u7F51\\u7AD9\\uFF0C\\u4F46\\u5982\\u679C\\u4F60\\u7684\\u9879\\u76EE\\u53EA\\u662F\\u4E2A\\u7B80\\u5355\\u535A\\u5BA2\\uFF0C\\u53EF\\u80FD\\u7528\\u4E0D\\u4E0A\\u8FD9\\u628A\\u201C\\u5927\\u5200\\u201D\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7528\\u5F97\\u597D\\uFF0C\\u5B83\\u662F\\u4F60\\u7684\\u201C\\u5E55\\u540E\\u82F1\\u96C4\\u201D\\uFF1B\\u7528\\u5F97\\u4E0D\\u597D\\uFF0C\\u5B83\\u53EF\\u80FD\\u662F\\u201C\\u8C03\\u8BD5\\u5669\\u68A6\\u201D\\u3002\\u6240\\u4EE5\\uFF0C\\u52A8\\u624B\\u524D\\u591A\\u60F3\\u60F3\\uFF1A\\u4F60\\u7684\\u7528\\u6237\\u771F\\u7684\\u9700\\u8981\\u5B83\\u5417\\uFF1F\\u4F60\\u6709\\u7CBE\\u529B\\u7EF4\\u62A4\\u5B83\\u5417\\uFF1F\\u5982\\u679C\\u7B54\\u6848\\u662F\\u201CYes\\u201D\\uFF0C\\u90A3\\u5C31\\u5927\\u80C6\\u4E0A\\u5427\\uFF01\\u6BD5\\u7ADF\\uFF0C\\u524D\\u7AEF\\u5F00\\u53D1\\u4E0D\\u5C31\\u662F\\u6298\\u817E\\u4E2D\\u6210\\u957F\\u7684\\u5417\\uFF1F\\u{1F60E}\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6709\\u4EC0\\u4E48\\u95EE\\u9898\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u627E\\u6211\\u201Cbattle\\u201D\\uFF01\\u4E0B\\u671F\\u89C1\\uFF5E\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return B(k);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/Service-Worker.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/Service-Worker.mdx",
    "sourceFileName": "Service-Worker.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/Service-Worker"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/Service-Worker"
}
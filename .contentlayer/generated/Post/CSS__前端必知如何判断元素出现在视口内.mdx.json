{
  "title": "å‰ç«¯å¿…çŸ¥ï¼šå¦‚ä½•åˆ¤æ–­å…ƒç´ å‡ºçŽ°åœ¨è§†å£å†…",
  "date": "2022-09-07T00:00:00.000Z",
  "description": "æ·±å…¥æŽ¢è®¨å¦‚ä½•åˆ¤æ–­å…ƒç´ æ˜¯å¦å‡ºçŽ°åœ¨è§†å£ä¸­ï¼Œæ¶µç›–åŽŸç†ã€å®žçŽ°æ–¹å¼ã€æœ€ä½³å®žè·µï¼Œå¸¦ä½ ä»Žé›¶åˆ°ä¸€æŽŒæ¡è¿™é¡¹å‰ç«¯å¿…å¤‡æŠ€èƒ½ã€‚",
  "keywords": "è§†å£åˆ¤æ–­, Intersection Observer, getBoundingClientRect, å‰ç«¯æ€§èƒ½ä¼˜åŒ–, æ‡’åŠ è½½, JavaScript",
  "author": "æ™“é¾™",
  "image": "/images/hero/viewport-detection.jpg",
  "tags": [
    "JavaScript",
    "å‰ç«¯å¼€å‘",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "CSS",
  "body": {
    "raw": "\nå—¨ï¼Œå‰ç«¯å°ä¼™ä¼´ä»¬ï¼ðŸ‘‹ ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šé¡µé¢ä¸Šæœ‰ä¸ªå¾ˆé…·çš„åŠ¨ç”»ï¼Œä½†ä½ å¸Œæœ›å®ƒåªæœ‰åœ¨ç”¨æˆ·æ»šåŠ¨åˆ°æŸä¸ªå…ƒç´ æ—¶æ‰è§¦å‘ï¼Ÿæˆ–è€…ä½ æƒ³å®žçŽ°å›¾ç‰‡æ‡’åŠ è½½ï¼Œåªæœ‰å½“å›¾ç‰‡å³å°†è¿›å…¥è§†çº¿æ—¶æ‰åŠ è½½ï¼Ÿè¿™äº›éœ€æ±‚çš„æ ¸å¿ƒé—®é¢˜åªæœ‰ä¸€ä¸ªâ€”â€”**å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºçŽ°åœ¨è§†å£ä¸­**ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥å½»åº•æžæ‡‚è¿™ä»¶äº‹ï¼Œä»ŽåŽŸç†åˆ°å®žè·µï¼Œå†åˆ°ä¸€äº›â€œæ­ªé—¨é‚ªé“â€ï¼ˆå¼€çŽ©ç¬‘å•¦ï¼Œéƒ½æ˜¯æ­£ç»æ‹›æ•°ï¼‰ï¼Œå¸¦ä½ çŽ©è½¬è§†å£æ£€æµ‹ã€‚\n\nè¿™ç¯‡æ–‡ç« ä¼šå¾ˆé•¿ï¼ˆæ¯•ç«Ÿæˆ‘è¦æ¦¨å¹²æˆ‘çš„ tokenï¼‰ï¼Œä½†æˆ‘ä¼šå°½é‡è®©å®ƒæœ‰è¶£ã€æœ‰æ–™ã€æœ‰æ·±åº¦ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼ðŸš€\n\n## ä¸ºä»€ä¹ˆéœ€è¦åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨è§†å£ï¼Ÿ\n\nåœ¨æ·±å…¥æŠ€æœ¯ä¹‹å‰ï¼Œå…ˆèŠèŠâ€œä¸ºä»€ä¹ˆâ€ã€‚å‰ç«¯å¼€å‘ä¸­ï¼Œè§†å£æ£€æµ‹æ˜¯ä¸ªä¸‡é‡‘æ²¹æŠ€èƒ½ï¼Œç”¨å¤„å¤šå¾—åƒç‘žå£«å†›åˆ€ã€‚æ¯”å¦‚ï¼š\n\n- **æ‡’åŠ è½½**ï¼šå›¾ç‰‡ã€è§†é¢‘åªæœ‰è¿›å…¥è§†å£æ‰åŠ è½½ï¼ŒèŠ‚çœå¸¦å®½ï¼Œæå‡é¦–å±é€Ÿåº¦ã€‚\n- **åŠ¨ç”»è§¦å‘**ï¼šæ»šåŠ¨åˆ°æŸä¸ªåŒºåŸŸæ—¶æ’­æ”¾åŠ¨ç”»ï¼Œå¢žåŠ é¡µé¢äº’åŠ¨æ€§ã€‚\n- **æ•°æ®åŸ‹ç‚¹**ï¼šç»Ÿè®¡æŸä¸ªå¹¿å‘Šæˆ–æ¨¡å—æ˜¯å¦è¢«ç”¨æˆ·çœ‹åˆ°ã€‚\n- **æ— é™æ»šåŠ¨**ï¼šåˆ¤æ–­ç”¨æˆ·å¿«åˆ°é¡µé¢åº•éƒ¨æ—¶åŠ è½½æ›´å¤šå†…å®¹ã€‚\n\nç®€å•æ¥è¯´ï¼Œè¿™é¡¹æŠ€èƒ½èƒ½è®©ä½ çš„é¡µé¢æ›´èªæ˜Žã€æ›´é«˜æ•ˆã€‚æ‰€ä»¥ï¼Œæžæ‡‚å®ƒï¼Œä¸ä»…æ˜¯æŠ€æœ¯æå‡ï¼Œè¿˜èƒ½è®©è€æ¿è§‰å¾—ä½ å¾ˆâ€œå“‡å¡žâ€ï¼ðŸ˜Ž\n\n## æ ¸å¿ƒåŽŸç†ï¼šä»€ä¹ˆæ˜¯â€œè§†å£â€ï¼Ÿ\n\nåœ¨è®²å®žçŽ°ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å¼„æ¸…æ¥šâ€œè§†å£â€æ˜¯ä»€ä¹ˆã€‚è§†å£ï¼ˆViewportï¼‰å…¶å®žå°±æ˜¯æµè§ˆå™¨çª—å£ä¸­ç”¨æˆ·å½“å‰èƒ½çœ‹åˆ°çš„é‚£å—åŒºåŸŸã€‚å®ƒçš„å®½é«˜ç”± `window.innerWidth` å’Œ `window.innerHeight` å†³å®šï¼Œè€Œé¡µé¢ä¸Šæ¯ä¸ªå…ƒç´ çš„åæ ‡å’Œå°ºå¯¸å¯ä»¥é€šè¿‡ DOM API èŽ·å–ã€‚\n\nåˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨è§†å£ä¸­ï¼Œæœ¬è´¨ä¸Šæ˜¯**æ•°å­¦é—®é¢˜**ï¼šè®¡ç®—å…ƒç´ çš„ä½ç½®å’Œè§†å£çš„ä½ç½®ï¼Œçœ‹çœ‹å®ƒä»¬æœ‰æ²¡æœ‰â€œäº¤é›†â€ã€‚å¬èµ·æ¥æœ‰ç‚¹åƒå°å­¦å‡ ä½•å¯¹å§ï¼Ÿä½†åˆ«æ€¥ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆå¯ä¸æ˜¯åªä¼šæ‹¿å°ºå­é‡å±å¹•ï¼Œæˆ‘ä»¬æœ‰æ›´ä¼˜é›…çš„åŠžæ³•ã€‚\n\n## æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è®¡ç®—ï¼Œç”¨ `getBoundingClientRect`\n\næœ€åŽŸå§‹ã€æœ€ç›´è§‚çš„åŠžæ³•æ˜¯å€ŸåŠ© DOM çš„ `getBoundingClientRect` æ–¹æ³•ã€‚è¿™ä¸ª API èƒ½è¿”å›žä¸€ä¸ªå…ƒç´ ç›¸å¯¹äºŽè§†å£å·¦ä¸Šè§’çš„åæ ‡å’Œå°ºå¯¸ä¿¡æ¯ï¼Œè¶…çº§å¥½ç”¨ã€‚\n\n### å®žçŽ°ä»£ç \n\n```javascript\nfunction isInViewport(element) {\n  const rect = element.getBoundingClientRect();\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= window.innerHeight &&\n    rect.right <= window.innerWidth\n  );\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nconst el = document.querySelector('#myElement');\nconsole.log(isInViewport(el)); // true æˆ– false\n```\n\n### åŽŸç†æ‹†è§£\n\n- `rect.top`ï¼šå…ƒç´ é¡¶éƒ¨åˆ°è§†å£é¡¶éƒ¨çš„è·ç¦»ï¼ˆå¯èƒ½æ˜¯è´Ÿå€¼ï¼‰ã€‚\n- `rect.bottom`ï¼šå…ƒç´ åº•éƒ¨åˆ°è§†å£é¡¶éƒ¨çš„è·ç¦»ã€‚\n- `rect.left` å’Œ `rect.right`ï¼šç±»ä¼¼ï¼Œåˆ†åˆ«æ˜¯å·¦å³è¾¹åˆ°è§†å£å·¦è¾¹çš„è·ç¦»ã€‚\n- æ¡ä»¶ï¼šåªæœ‰å½“å…ƒç´ å®Œå…¨åœ¨è§†å£èŒƒå›´å†…ï¼ˆtop â‰¥ 0 ä¸” bottom â‰¤ è§†å£é«˜åº¦ï¼‰ï¼Œæ‰è¿”å›ž `true`ã€‚\n\n### å° Tips\n\n- **æ€§èƒ½æ³¨æ„**ï¼šé¢‘ç¹è°ƒç”¨ `getBoundingClientRect` ä¼šè§¦å‘é‡æŽ’ï¼ˆreflowï¼‰ï¼Œæ»šåŠ¨äº‹ä»¶ä¸­æœ€å¥½ç”¨é˜²æŠ–ï¼ˆdebounceï¼‰åŒ…è£¹ã€‚\n- **çµæ´»è°ƒæ•´**ï¼šå¦‚æžœä½ åªæƒ³è¦å…ƒç´ â€œéƒ¨åˆ†å¯è§â€ï¼Œå¯ä»¥æ”¹æ¡ä»¶ï¼Œæ¯”å¦‚ `rect.top < window.innerHeight && rect.bottom > 0`ã€‚\n\n### åœºæ™¯ä¸¾ä¾‹\n\nå‡è®¾ä½ åœ¨åšä¸€ä¸ªå›¾ç‰‡æ‡’åŠ è½½åŠŸèƒ½ï¼š\n\n```javascript\nconst images = document.querySelectorAll('img[data-src]');\nwindow.addEventListener('scroll', debounce(() => {\n  images.forEach(img => {\n    if (isInViewport(img)) {\n      img.src = img.dataset.src;\n      img.removeAttribute('data-src');\n    }\n  });\n}, 100));\n```\n\nè¿™ä»£ç æ˜¯ä¸æ˜¯æœ‰ç‚¹â€œåŽŸå§‹ä½†æœ‰æ•ˆâ€çš„æ„Ÿè§‰ï¼Ÿå°±åƒç”¨æŸ´ç«åšé¥­ï¼Œè™½ç„¶é¦™ï¼Œä½†æ•ˆçŽ‡ä¸é«˜ã€‚åˆ«æ€¥ï¼ŒåŽé¢æœ‰æ›´çŽ°ä»£çš„æ–¹æ¡ˆã€‚\n\n## æ–¹æ³•äºŒï¼šIntersection Observerï¼ŒçŽ°ä»£æ ‡é…\n\næ‰‹åŠ¨è®¡ç®—è™½ç„¶èƒ½ç”¨ï¼Œä½†æœ‰ä¸¤å¤§é—®é¢˜ï¼š1ï¼‰æ€§èƒ½å·®ï¼Œæ»šåŠ¨ç›‘å¬å¤ªè€—èµ„æºï¼›2ï¼‰ä»£ç ç¹çï¼Œä¸å¤Ÿä¼˜é›…ã€‚2016 å¹´ï¼Œæµè§ˆå™¨ç»™äº†æˆ‘ä»¬ä¸€ä¸ªç¥žå™¨â€”â€”`IntersectionObserver`ã€‚è¿™çŽ©æ„å„¿å°±åƒè¯·äº†ä¸ªç§äººä¾¦æŽ¢ï¼Œä¸“é—¨ç›¯ç€å…ƒç´ å’Œè§†å£çš„å…³ç³»ï¼Œæ•ˆçŽ‡é«˜åˆ°é£žèµ·ã€‚\n\n### å®žçŽ°ä»£ç \n\n```javascript\nconst observer = new IntersectionObserver((entries, observer) => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      console.log(`${entry.target.id} è¿›å…¥è§†å£å•¦ï¼`);\n      // æ¯”å¦‚åŠ è½½å›¾ç‰‡\n      entry.target.src = entry.target.dataset.src;\n      observer.unobserve(entry.target); // åŠ è½½å®Œå°±å–æ¶ˆè§‚å¯Ÿ\n    }\n  });\n}, {\n  root: null, // é»˜è®¤æ˜¯è§†å£\n  rootMargin: '0px', // è¾¹ç•Œåç§»\n  threshold: 0.1 // 10% å¯è§æ—¶è§¦å‘\n});\n\nconst el = document.querySelector('#myElement');\nobserver.observe(el);\n```\n\n### åŽŸç†æ‹†è§£\n\n- **æ ¸å¿ƒæ¦‚å¿µ**ï¼š`IntersectionObserver` å¼‚æ­¥ç›‘å¬ç›®æ ‡å…ƒç´ ä¸Žæ ¹å…ƒç´ ï¼ˆé»˜è®¤æ˜¯è§†å£ï¼‰çš„äº¤å‰çŠ¶æ€ã€‚\n- **å›žè°ƒå‚æ•°**ï¼š\n  - `entries`ï¼šè¢«è§‚å¯Ÿçš„å…ƒç´ åˆ—è¡¨ã€‚\n  - `entry.isIntersecting`ï¼šæ˜¯å¦è¿›å…¥è§†å£ã€‚\n  - `entry.intersectionRatio`ï¼šäº¤å‰æ¯”ä¾‹ï¼ˆ0 åˆ° 1ï¼‰ã€‚\n- **é…ç½®é¡¹**ï¼š\n  - `root`ï¼šå‚ç…§çš„æ ¹å…ƒç´ ï¼Œä¸å¡«å°±æ˜¯è§†å£ã€‚\n  - `rootMargin`ï¼šç»™è§†å£åŠ ä¸ªâ€œå¤–è¾¹è·â€ï¼Œæ¯”å¦‚ `'100px'` è¡¨ç¤ºæå‰ 100px è§¦å‘ã€‚\n  - `threshold`ï¼šäº¤å‰æ¯”ä¾‹é˜ˆå€¼ï¼Œå¯ä»¥æ˜¯æ•°ç»„ `[0, 0.5, 1]`ã€‚\n\n### å° Tips\n\n- **æ€§èƒ½ç¥žå™¨**ï¼šå®ƒæ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šé˜»å¡žä¸»çº¿ç¨‹ï¼Œæ»šåŠ¨å†å¿«ä¹Ÿä¸å¡ã€‚\n- **æå‰åŠ è½½**ï¼šè®¾ç½® `rootMargin: '200px'`ï¼Œè®©å…ƒç´ åœ¨è¿›å…¥è§†å£å‰ 200px å°±è§¦å‘ï¼Œé€‚åˆå›¾ç‰‡é¢„åŠ è½½ã€‚\n- **ä¸€æ¬¡æ€§ä»»åŠ¡**ï¼šç”¨ `unobserve` å–æ¶ˆè§‚å¯Ÿï¼Œé¿å…é‡å¤è§¦å‘ã€‚\n\n### åœºæ™¯ä¸¾ä¾‹\n\nåšä¸€ä¸ªæ»šåŠ¨åŠ¨ç”»ï¼š\n\n```javascript\nconst animatedElements = document.querySelectorAll('.animate-me');\nconst observer = new IntersectionObserver(entries => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      entry.target.classList.add('fade-in');\n      observer.unobserve(entry.target);\n    }\n  });\n}, { threshold: 0.5 });\n\nanimatedElements.forEach(el => observer.observe(el));\n```\n\nè¿™æ¯”ç›‘å¬ `scroll` äº‹ä»¶ä¼˜é›…å¤šäº†å§ï¼Ÿå°±åƒä»Žæ‰‹åŠ¨æŒ¡æ¢æˆäº†è‡ªåŠ¨æŒ¡ï¼Œå¼€èµ·æ¥å°±æ˜¯çˆ½ï¼\n\n## æ–¹æ³•ä¸‰ï¼šåç§»é‡æ³•ï¼ˆOffset å®¶æ—ï¼‰\n\nå¦‚æžœä½ è§‰å¾— `getBoundingClientRect` ä¸å¤Ÿç¡¬æ ¸ï¼Œè¿˜å¯ä»¥ç”¨å…ƒç´ çš„ `offsetTop`ã€`offsetLeft` é…åˆ `window.scrollY` æ¥ç®—ã€‚å¬èµ·æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹â€œè€æ´¾ç¡¬æ±‰â€çš„å‘³é“ï¼Ÿ\n\n### å®žçŽ°ä»£ç \n\n```javascript\nfunction isInViewport(element) {\n  const offsetTop = element.offsetTop;\n  const offsetHeight = element.offsetHeight;\n  const scrollTop = window.scrollY || document.documentElement.scrollTop;\n  const windowHeight = window.innerHeight;\n\n  return (\n    offsetTop + offsetHeight > scrollTop &&\n    offsetTop < scrollTop + windowHeight\n  );\n}\n```\n\n### åŽŸç†æ‹†è§£\n\n- `offsetTop`ï¼šå…ƒç´ é¡¶éƒ¨åˆ°æ–‡æ¡£é¡¶éƒ¨çš„è·ç¦»ã€‚\n- `scrollY`ï¼šå½“å‰æ»šåŠ¨è·ç¦»ã€‚\n- æ¡ä»¶ï¼šå…ƒç´ é¡¶éƒ¨åœ¨è§†å£ä¸‹æ–¹ï¼ˆ`offsetTop < scrollTop + windowHeight`ï¼‰ï¼Œä¸”åº•éƒ¨åœ¨è§†å£ä¸Šæ–¹ï¼ˆ`offsetTop + offsetHeight > scrollTop`ï¼‰ã€‚\n\n### å° Tips\n\n- **å…¼å®¹æ€§å¼º**ï¼šè€æµè§ˆå™¨ä¹Ÿèƒ½ç”¨ï¼Œä½†æ€§èƒ½ä¸å¦‚ `IntersectionObserver`ã€‚\n- **åŠ¨æ€è°ƒæ•´**ï¼šå¦‚æžœé¡µé¢æœ‰å›ºå®šå®šä½çš„å¤´éƒ¨ï¼Œå¯ä»¥å‡åŽ»å¤´éƒ¨é«˜åº¦ï¼Œæ¯”å¦‚ `scrollTop + windowHeight - headerHeight`ã€‚\n\n### åœºæ™¯ä¸¾ä¾‹\n\né€‚åˆç®€å•åœºæ™¯ï¼Œæ¯”å¦‚åˆ¤æ–­é¡µé¢åº•éƒ¨ï¼š\n\n```javascript\nconst footer = document.querySelector('footer');\nwindow.addEventListener('scroll', () => {\n  if (isInViewport(footer)) {\n    console.log('åˆ°åº•éƒ¨å•¦ï¼ŒåŠ è½½æ›´å¤šå§ï¼');\n  }\n});\n```\n\n## å¯¹æ¯”ä¸Žé€‰æ‹©ï¼šå“ªç§æ–¹æ³•é€‚åˆä½ ï¼Ÿ\n\n| æ–¹æ³•                  | ä¼˜ç‚¹                     | ç¼ºç‚¹                  | é€‚ç”¨åœºæ™¯           |\n|-----------------------|--------------------------|-----------------------|-------------------|\n| `getBoundingClientRect` | ç›´è§‚ï¼Œç²¾ç¡®             | æ€§èƒ½å·®ï¼Œéœ€æ‰‹åŠ¨ç›‘å¬   | ç®€å•ä¸€æ¬¡æ€§æ£€æµ‹     |\n| `IntersectionObserver`  | é«˜æ•ˆï¼Œå¼‚æ­¥ï¼Œé…ç½®çµæ´»   | æµè§ˆå™¨æ”¯æŒç¨æ–°       | æ‡’åŠ è½½ã€åŠ¨ç”»è§¦å‘   |\n| Offset å®¶æ—           | å…¼å®¹æ€§å¥½ï¼Œæ— éœ€é¢å¤– API | è®¡ç®—å¤æ‚ï¼Œæ€§èƒ½ä¸€èˆ¬   | è€é¡¹ç›®å…¼å®¹æ€§éœ€æ±‚   |\n\næˆ‘çš„å»ºè®®ï¼Ÿ**ä¼˜å…ˆç”¨ `IntersectionObserver`**ï¼Œå®ƒå°±æ˜¯ä¸ºè¿™ä¸ªéœ€æ±‚é‡èº«æ‰“é€ çš„ã€‚å¦‚æžœæµè§ˆå™¨å…¼å®¹æ€§æ˜¯å¤§é—®é¢˜ï¼ˆæ¯”å¦‚è¦æ”¯æŒ IEï¼‰ï¼Œå†è€ƒè™‘åç§»é‡æ³•ã€‚\n\n## æœ€ä½³å®žè·µï¼šè®©ä½ çš„ä»£ç æ›´é¦™\n\n1. **æ‡’åŠ è½½å›¾ç‰‡**  \n   ç”¨ `IntersectionObserver` + `rootMargin` æå‰åŠ è½½ï¼Œé¿å…ç”¨æˆ·çœ‹åˆ°ç©ºç™½ã€‚\n   ```javascript\n   const imgs = document.querySelectorAll('img[data-src]');\n   const observer = new IntersectionObserver((entries) => {\n     entries.forEach(entry => {\n       if (entry.isIntersecting) {\n         entry.target.src = entry.target.dataset.src;\n         observer.unobserve(entry.target);\n       }\n     });\n   }, { rootMargin: '200px' });\n   imgs.forEach(img => observer.observe(img));\n   ```\n\n2. **åŠ¨æ€ threshold**  \n   æ ¹æ®å…ƒç´ å¤§å°è°ƒæ•´ `threshold`ï¼Œæ¯”å¦‚å¤§å›¾ç”¨ `0.1`ï¼Œå°æŒ‰é’®ç”¨ `0.5`ã€‚\n\n3. **é”™è¯¯å¤„ç†**  \n   æ£€æŸ¥æµè§ˆå™¨æ”¯æŒï¼š\n   ```javascript\n   if ('IntersectionObserver' in window) {\n     // ç”¨ IntersectionObserver\n   } else {\n     // å›žé€€åˆ° getBoundingClientRect\n   }\n   ```\n\n4. **è°ƒè¯•ç¥žå™¨**  \n   åœ¨å›žè°ƒé‡Œç”¨ `console.log(entry)`ï¼Œçœ‹çœ‹å…·ä½“äº¤å‰æ•°æ®ï¼Œè°ƒå‚æ›´è½»æ¾ã€‚\n\n## ä¸€äº›â€œæ­ªé—¨é‚ªé“â€ï¼ˆå…¶å®žå¾ˆå®žç”¨ï¼‰\n\n- **ä¼ªè§†å£æ£€æµ‹**ï¼šç»™å…ƒç´ åŠ ä¸ªé€æ˜Žçš„ `::before` ä¼ªå…ƒç´ ï¼Œç”¨å®ƒçš„ä½ç½®æ¥è§¦å‘åŠ¨ç”»ï¼Œé€‚åˆå¤æ‚å¸ƒå±€ã€‚\n- **èŠ‚æµ + ç¼“å­˜**ï¼šæ»šåŠ¨æ—¶ç¼“å­˜ä¸Šä¸€æ¬¡çš„ç»“æžœï¼Œé¿å…é‡å¤è®¡ç®—ã€‚\n- **CSS æ›¿ä»£**ï¼šç”¨ `position: sticky` é…åˆåŠ¨ç”»ï¼Œæœ‰æ—¶èƒ½çœæŽ‰ JS åˆ¤æ–­ã€‚\n\n## æœ€åŽçš„å°å½©è›‹\n\nè¯•è¯•è¿™ä¸ªï¼šç”¨ `IntersectionObserver` åšä¸€ä¸ªâ€œå›žåˆ°é¡¶éƒ¨â€æŒ‰é’®ï¼Œåªæœ‰å½“ç”¨æˆ·æ»šåˆ°ä¸€å®šè·ç¦»æ—¶æ‰æ˜¾ç¤ºã€‚ä»£ç ç•™ç»™ä½ ç»ƒæ‰‹ï¼Œè´´åˆ°è¯„è®ºåŒºè®©æˆ‘çž§çž§å§ï¼ðŸ˜\n\n---\n\nå¥½äº†ï¼Œè¿™ç¯‡åšå®¢åˆ°æ­¤ä¸ºæ­¢ï¼ä»ŽåŽŸç†åˆ°å®žè·µï¼Œå†åˆ°æœ€ä½³å®žè·µï¼Œå¸Œæœ›ä½ ä¸ä»…å­¦ä¼šäº†åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨è§†å£ï¼Œè¿˜èƒ½ä¸¾ä¸€åä¸‰ç”¨åˆ°é¡¹ç›®é‡Œã€‚å¦‚æžœæœ‰ç–‘é—®ï¼Œæ¬¢è¿Žéšæ—¶æ‰¾æˆ‘èŠèŠï¼Œå’±ä»¬ä¸€èµ·æŠŠå‰ç«¯çŽ©å‡ºèŠ±å„¿æ¥ï¼âœ¨\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var r in e)d(l,r,{get:e[r],enumerable:!0})},c=(l,e,r,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!u.call(l,a)&&a!==r&&d(l,a,{get:()=>e[a],enumerable:!(t=E(e,a))||t.enumerable});return l};var b=(l,e,r)=>(r=l!=null?p(g(l)):{},c(e||!l||!l.__esModule?d(r,\"default\",{value:l,enumerable:!0}):r,l)),m=l=>c(d({},\"__esModule\",{value:!0}),l);var s=F((v,i)=>{i.exports=_jsx_runtime});var x={};f(x,{default:()=>o,frontmatter:()=>B});var n=b(s()),B={type:\"Post\",title:\"\\u524D\\u7AEF\\u5FC5\\u77E5\\uFF1A\\u5982\\u4F55\\u5224\\u65AD\\u5143\\u7D20\\u51FA\\u73B0\\u5728\\u89C6\\u53E3\\u5185\",date:\"2022-09-07\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u5982\\u4F55\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u51FA\\u73B0\\u5728\\u89C6\\u53E3\\u4E2D\\uFF0C\\u6DB5\\u76D6\\u539F\\u7406\\u3001\\u5B9E\\u73B0\\u65B9\\u5F0F\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u4ECE\\u96F6\\u5230\\u4E00\\u638C\\u63E1\\u8FD9\\u9879\\u524D\\u7AEF\\u5FC5\\u5907\\u6280\\u80FD\\u3002\",keywords:\"\\u89C6\\u53E3\\u5224\\u65AD, Intersection Observer, getBoundingClientRect, \\u524D\\u7AEF\\u6027\\u80FD\\u4F18\\u5316, \\u61D2\\u52A0\\u8F7D, JavaScript\",author:\"\\u6653\\u9F99\",image:\"/images/hero/viewport-detection.jpg\",tags:[\"JavaScript\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"CSS\"};function h(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u55E8\\uFF0C\\u524D\\u7AEF\\u5C0F\\u4F19\\u4F34\\u4EEC\\uFF01\\u{1F44B} \\u4F60\\u6709\\u6CA1\\u6709\\u9047\\u5230\\u8FC7\\u8FD9\\u6837\\u7684\\u573A\\u666F\\uFF1A\\u9875\\u9762\\u4E0A\\u6709\\u4E2A\\u5F88\\u9177\\u7684\\u52A8\\u753B\\uFF0C\\u4F46\\u4F60\\u5E0C\\u671B\\u5B83\\u53EA\\u6709\\u5728\\u7528\\u6237\\u6EDA\\u52A8\\u5230\\u67D0\\u4E2A\\u5143\\u7D20\\u65F6\\u624D\\u89E6\\u53D1\\uFF1F\\u6216\\u8005\\u4F60\\u60F3\\u5B9E\\u73B0\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\\uFF0C\\u53EA\\u6709\\u5F53\\u56FE\\u7247\\u5373\\u5C06\\u8FDB\\u5165\\u89C6\\u7EBF\\u65F6\\u624D\\u52A0\\u8F7D\\uFF1F\\u8FD9\\u4E9B\\u9700\\u6C42\\u7684\\u6838\\u5FC3\\u95EE\\u9898\\u53EA\\u6709\\u4E00\\u4E2A\\u2014\\u2014\",(0,n.jsx)(e.strong,{children:\"\\u5982\\u4F55\\u5224\\u65AD\\u4E00\\u4E2A\\u5143\\u7D20\\u662F\\u5426\\u51FA\\u73B0\\u5728\\u89C6\\u53E3\\u4E2D\"}),\"\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C31\\u6765\\u5F7B\\u5E95\\u641E\\u61C2\\u8FD9\\u4EF6\\u4E8B\\uFF0C\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u518D\\u5230\\u4E00\\u4E9B\\u201C\\u6B6A\\u95E8\\u90AA\\u9053\\u201D\\uFF08\\u5F00\\u73A9\\u7B11\\u5566\\uFF0C\\u90FD\\u662F\\u6B63\\u7ECF\\u62DB\\u6570\\uFF09\\uFF0C\\u5E26\\u4F60\\u73A9\\u8F6C\\u89C6\\u53E3\\u68C0\\u6D4B\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4F1A\\u5F88\\u957F\\uFF08\\u6BD5\\u7ADF\\u6211\\u8981\\u69A8\\u5E72\\u6211\\u7684 token\\uFF09\\uFF0C\\u4F46\\u6211\\u4F1A\\u5C3D\\u91CF\\u8BA9\\u5B83\\u6709\\u8DA3\\u3001\\u6709\\u6599\\u3001\\u6709\\u6DF1\\u5EA6\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u5427\\uFF01\\u{1F680}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u5728\\u89C6\\u53E3\",children:(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u5728\\u89C6\\u53E3\",children:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u5728\\u89C6\\u53E3\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u6DF1\\u5165\\u6280\\u672F\\u4E4B\\u524D\\uFF0C\\u5148\\u804A\\u804A\\u201C\\u4E3A\\u4EC0\\u4E48\\u201D\\u3002\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\uFF0C\\u89C6\\u53E3\\u68C0\\u6D4B\\u662F\\u4E2A\\u4E07\\u91D1\\u6CB9\\u6280\\u80FD\\uFF0C\\u7528\\u5904\\u591A\\u5F97\\u50CF\\u745E\\u58EB\\u519B\\u5200\\u3002\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u61D2\\u52A0\\u8F7D\"}),\"\\uFF1A\\u56FE\\u7247\\u3001\\u89C6\\u9891\\u53EA\\u6709\\u8FDB\\u5165\\u89C6\\u53E3\\u624D\\u52A0\\u8F7D\\uFF0C\\u8282\\u7701\\u5E26\\u5BBD\\uFF0C\\u63D0\\u5347\\u9996\\u5C4F\\u901F\\u5EA6\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u52A8\\u753B\\u89E6\\u53D1\"}),\"\\uFF1A\\u6EDA\\u52A8\\u5230\\u67D0\\u4E2A\\u533A\\u57DF\\u65F6\\u64AD\\u653E\\u52A8\\u753B\\uFF0C\\u589E\\u52A0\\u9875\\u9762\\u4E92\\u52A8\\u6027\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6570\\u636E\\u57CB\\u70B9\"}),\"\\uFF1A\\u7EDF\\u8BA1\\u67D0\\u4E2A\\u5E7F\\u544A\\u6216\\u6A21\\u5757\\u662F\\u5426\\u88AB\\u7528\\u6237\\u770B\\u5230\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u65E0\\u9650\\u6EDA\\u52A8\"}),\"\\uFF1A\\u5224\\u65AD\\u7528\\u6237\\u5FEB\\u5230\\u9875\\u9762\\u5E95\\u90E8\\u65F6\\u52A0\\u8F7D\\u66F4\\u591A\\u5185\\u5BB9\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u8FD9\\u9879\\u6280\\u80FD\\u80FD\\u8BA9\\u4F60\\u7684\\u9875\\u9762\\u66F4\\u806A\\u660E\\u3001\\u66F4\\u9AD8\\u6548\\u3002\\u6240\\u4EE5\\uFF0C\\u641E\\u61C2\\u5B83\\uFF0C\\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u63D0\\u5347\\uFF0C\\u8FD8\\u80FD\\u8BA9\\u8001\\u677F\\u89C9\\u5F97\\u4F60\\u5F88\\u201C\\u54C7\\u585E\\u201D\\uFF01\\u{1F60E}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6838\\u5FC3\\u539F\\u7406\\u4EC0\\u4E48\\u662F\\u89C6\\u53E3\",children:(0,n.jsx)(e.a,{href:\"#\\u6838\\u5FC3\\u539F\\u7406\\u4EC0\\u4E48\\u662F\\u89C6\\u53E3\",children:\"\\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u4EC0\\u4E48\\u662F\\u201C\\u89C6\\u53E3\\u201D\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8BB2\\u5B9E\\u73B0\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5F97\\u5F04\\u6E05\\u695A\\u201C\\u89C6\\u53E3\\u201D\\u662F\\u4EC0\\u4E48\\u3002\\u89C6\\u53E3\\uFF08Viewport\\uFF09\\u5176\\u5B9E\\u5C31\\u662F\\u6D4F\\u89C8\\u5668\\u7A97\\u53E3\\u4E2D\\u7528\\u6237\\u5F53\\u524D\\u80FD\\u770B\\u5230\\u7684\\u90A3\\u5757\\u533A\\u57DF\\u3002\\u5B83\\u7684\\u5BBD\\u9AD8\\u7531 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window.innerWidth\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window.innerHeight\"})})})}),\" \\u51B3\\u5B9A\\uFF0C\\u800C\\u9875\\u9762\\u4E0A\\u6BCF\\u4E2A\\u5143\\u7D20\\u7684\\u5750\\u6807\\u548C\\u5C3A\\u5BF8\\u53EF\\u4EE5\\u901A\\u8FC7 DOM API \\u83B7\\u53D6\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u5728\\u89C6\\u53E3\\u4E2D\\uFF0C\\u672C\\u8D28\\u4E0A\\u662F\",(0,n.jsx)(e.strong,{children:\"\\u6570\\u5B66\\u95EE\\u9898\"}),\"\\uFF1A\\u8BA1\\u7B97\\u5143\\u7D20\\u7684\\u4F4D\\u7F6E\\u548C\\u89C6\\u53E3\\u7684\\u4F4D\\u7F6E\\uFF0C\\u770B\\u770B\\u5B83\\u4EEC\\u6709\\u6CA1\\u6709\\u201C\\u4EA4\\u96C6\\u201D\\u3002\\u542C\\u8D77\\u6765\\u6709\\u70B9\\u50CF\\u5C0F\\u5B66\\u51E0\\u4F55\\u5BF9\\u5427\\uFF1F\\u4F46\\u522B\\u6025\\uFF0C\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5E08\\u53EF\\u4E0D\\u662F\\u53EA\\u4F1A\\u62FF\\u5C3A\\u5B50\\u91CF\\u5C4F\\u5E55\\uFF0C\\u6211\\u4EEC\\u6709\\u66F4\\u4F18\\u96C5\\u7684\\u529E\\u6CD5\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u65B9\\u6CD5\\u4E00\\u624B\\u52A8\\u8BA1\\u7B97\\u7528-getboundingclientrect\",children:(0,n.jsxs)(e.a,{href:\"#\\u65B9\\u6CD5\\u4E00\\u624B\\u52A8\\u8BA1\\u7B97\\u7528-getboundingclientrect\",children:[\"\\u65B9\\u6CD5\\u4E00\\uFF1A\\u624B\\u52A8\\u8BA1\\u7B97\\uFF0C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getBoundingClientRect\"})})})})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6700\\u539F\\u59CB\\u3001\\u6700\\u76F4\\u89C2\\u7684\\u529E\\u6CD5\\u662F\\u501F\\u52A9 DOM \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getBoundingClientRect\"})})})}),\" \\u65B9\\u6CD5\\u3002\\u8FD9\\u4E2A API \\u80FD\\u8FD4\\u56DE\\u4E00\\u4E2A\\u5143\\u7D20\\u76F8\\u5BF9\\u4E8E\\u89C6\\u53E3\\u5DE6\\u4E0A\\u89D2\\u7684\\u5750\\u6807\\u548C\\u5C3A\\u5BF8\\u4FE1\\u606F\\uFF0C\\u8D85\\u7EA7\\u597D\\u7528\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5B9E\\u73B0\\u4EE3\\u7801\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u73B0\\u4EE3\\u7801\",children:\"\\u5B9E\\u73B0\\u4EE3\\u7801\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" isInViewport\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"element\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" rect\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" element.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getBoundingClientRect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    rect.top \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    rect.left \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    rect.bottom \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window.innerHeight \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    rect.right \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window.innerWidth\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" el\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#myElement'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isInViewport\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(el)); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// true \\u6216 false\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u539F\\u7406\\u62C6\\u89E3\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406\\u62C6\\u89E3\",children:\"\\u539F\\u7406\\u62C6\\u89E3\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rect.top\"})})})}),\"\\uFF1A\\u5143\\u7D20\\u9876\\u90E8\\u5230\\u89C6\\u53E3\\u9876\\u90E8\\u7684\\u8DDD\\u79BB\\uFF08\\u53EF\\u80FD\\u662F\\u8D1F\\u503C\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rect.bottom\"})})})}),\"\\uFF1A\\u5143\\u7D20\\u5E95\\u90E8\\u5230\\u89C6\\u53E3\\u9876\\u90E8\\u7684\\u8DDD\\u79BB\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rect.left\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rect.right\"})})})}),\"\\uFF1A\\u7C7B\\u4F3C\\uFF0C\\u5206\\u522B\\u662F\\u5DE6\\u53F3\\u8FB9\\u5230\\u89C6\\u53E3\\u5DE6\\u8FB9\\u7684\\u8DDD\\u79BB\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6761\\u4EF6\\uFF1A\\u53EA\\u6709\\u5F53\\u5143\\u7D20\\u5B8C\\u5168\\u5728\\u89C6\\u53E3\\u8303\\u56F4\\u5185\\uFF08top \\u2265 0 \\u4E14 bottom \\u2264 \\u89C6\\u53E3\\u9AD8\\u5EA6\\uFF09\\uFF0C\\u624D\\u8FD4\\u56DE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"true\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5C0F-tips\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u6CE8\\u610F\"}),\"\\uFF1A\\u9891\\u7E41\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getBoundingClientRect\"})})})}),\" \\u4F1A\\u89E6\\u53D1\\u91CD\\u6392\\uFF08reflow\\uFF09\\uFF0C\\u6EDA\\u52A8\\u4E8B\\u4EF6\\u4E2D\\u6700\\u597D\\u7528\\u9632\\u6296\\uFF08debounce\\uFF09\\u5305\\u88F9\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7075\\u6D3B\\u8C03\\u6574\"}),\"\\uFF1A\\u5982\\u679C\\u4F60\\u53EA\\u60F3\\u8981\\u5143\\u7D20\\u201C\\u90E8\\u5206\\u53EF\\u89C1\\u201D\\uFF0C\\u53EF\\u4EE5\\u6539\\u6761\\u4EF6\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rect.top < window.innerHeight && rect.bottom > 0\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u573A\\u666F\\u4E3E\\u4F8B\",children:(0,n.jsx)(e.a,{href:\"#\\u573A\\u666F\\u4E3E\\u4F8B\",children:\"\\u573A\\u666F\\u4E3E\\u4F8B\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5047\\u8BBE\\u4F60\\u5728\\u505A\\u4E00\\u4E2A\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\\u529F\\u80FD\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" images\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelectorAll\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'img[data-src]'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'scroll'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"debounce\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  images.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"img\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isInViewport\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      img.src \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" img.dataset.src;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      img.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeAttribute\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'data-src'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4EE3\\u7801\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u201C\\u539F\\u59CB\\u4F46\\u6709\\u6548\\u201D\\u7684\\u611F\\u89C9\\uFF1F\\u5C31\\u50CF\\u7528\\u67F4\\u706B\\u505A\\u996D\\uFF0C\\u867D\\u7136\\u9999\\uFF0C\\u4F46\\u6548\\u7387\\u4E0D\\u9AD8\\u3002\\u522B\\u6025\\uFF0C\\u540E\\u9762\\u6709\\u66F4\\u73B0\\u4EE3\\u7684\\u65B9\\u6848\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u65B9\\u6CD5\\u4E8Cintersection-observer\\u73B0\\u4EE3\\u6807\\u914D\",children:(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5\\u4E8Cintersection-observer\\u73B0\\u4EE3\\u6807\\u914D\",children:\"\\u65B9\\u6CD5\\u4E8C\\uFF1AIntersection Observer\\uFF0C\\u73B0\\u4EE3\\u6807\\u914D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u624B\\u52A8\\u8BA1\\u7B97\\u867D\\u7136\\u80FD\\u7528\\uFF0C\\u4F46\\u6709\\u4E24\\u5927\\u95EE\\u9898\\uFF1A1\\uFF09\\u6027\\u80FD\\u5DEE\\uFF0C\\u6EDA\\u52A8\\u76D1\\u542C\\u592A\\u8017\\u8D44\\u6E90\\uFF1B2\\uFF09\\u4EE3\\u7801\\u7E41\\u7410\\uFF0C\\u4E0D\\u591F\\u4F18\\u96C5\\u30022016 \\u5E74\\uFF0C\\u6D4F\\u89C8\\u5668\\u7ED9\\u4E86\\u6211\\u4EEC\\u4E00\\u4E2A\\u795E\\u5668\\u2014\\u2014\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IntersectionObserver\"})})})}),\"\\u3002\\u8FD9\\u73A9\\u610F\\u513F\\u5C31\\u50CF\\u8BF7\\u4E86\\u4E2A\\u79C1\\u4EBA\\u4FA6\\u63A2\\uFF0C\\u4E13\\u95E8\\u76EF\\u7740\\u5143\\u7D20\\u548C\\u89C6\\u53E3\\u7684\\u5173\\u7CFB\\uFF0C\\u6548\\u7387\\u9AD8\\u5230\\u98DE\\u8D77\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5B9E\\u73B0\\u4EE3\\u7801-1\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u73B0\\u4EE3\\u7801-1\",children:\"\\u5B9E\\u73B0\\u4EE3\\u7801\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" observer\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" IntersectionObserver\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"entries\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"observer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  entries.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"entry\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (entry.isIntersecting) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"entry\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"target\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u8FDB\\u5165\\u89C6\\u53E3\\u5566\\uFF01`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u6BD4\\u5982\\u52A0\\u8F7D\\u56FE\\u7247\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      entry.target.src \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" entry.target.dataset.src;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      observer.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"unobserve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(entry.target); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u52A0\\u8F7D\\u5B8C\\u5C31\\u53D6\\u6D88\\u89C2\\u5BDF\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  root: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9ED8\\u8BA4\\u662F\\u89C6\\u53E3\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  rootMargin: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'0px'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8FB9\\u754C\\u504F\\u79FB\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  threshold: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0.1\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" // 10% \\u53EF\\u89C1\\u65F6\\u89E6\\u53D1\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" el\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#myElement'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"observer.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"observe\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(el);\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u539F\\u7406\\u62C6\\u89E3-1\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406\\u62C6\\u89E3-1\",children:\"\\u539F\\u7406\\u62C6\\u89E3\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6838\\u5FC3\\u6982\\u5FF5\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IntersectionObserver\"})})})}),\" \\u5F02\\u6B65\\u76D1\\u542C\\u76EE\\u6807\\u5143\\u7D20\\u4E0E\\u6839\\u5143\\u7D20\\uFF08\\u9ED8\\u8BA4\\u662F\\u89C6\\u53E3\\uFF09\\u7684\\u4EA4\\u53C9\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u56DE\\u8C03\\u53C2\\u6570\"}),\"\\uFF1A\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"entries\"})})})}),\"\\uFF1A\\u88AB\\u89C2\\u5BDF\\u7684\\u5143\\u7D20\\u5217\\u8868\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"entry.isIntersecting\"})})})}),\"\\uFF1A\\u662F\\u5426\\u8FDB\\u5165\\u89C6\\u53E3\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"entry.intersectionRatio\"})})})}),\"\\uFF1A\\u4EA4\\u53C9\\u6BD4\\u4F8B\\uFF080 \\u5230 1\\uFF09\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u914D\\u7F6E\\u9879\"}),\"\\uFF1A\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"root\"})})})}),\"\\uFF1A\\u53C2\\u7167\\u7684\\u6839\\u5143\\u7D20\\uFF0C\\u4E0D\\u586B\\u5C31\\u662F\\u89C6\\u53E3\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rootMargin\"})})})}),\"\\uFF1A\\u7ED9\\u89C6\\u53E3\\u52A0\\u4E2A\\u201C\\u5916\\u8FB9\\u8DDD\\u201D\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"'100px'\"})})})}),\" \\u8868\\u793A\\u63D0\\u524D 100px \\u89E6\\u53D1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"threshold\"})})})}),\"\\uFF1A\\u4EA4\\u53C9\\u6BD4\\u4F8B\\u9608\\u503C\\uFF0C\\u53EF\\u4EE5\\u662F\\u6570\\u7EC4 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"[0, 0.5, 1]\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5C0F-tips-1\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-1\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u795E\\u5668\"}),\"\\uFF1A\\u5B83\\u662F\\u5F02\\u6B65\\u7684\\uFF0C\\u4E0D\\u4F1A\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\uFF0C\\u6EDA\\u52A8\\u518D\\u5FEB\\u4E5F\\u4E0D\\u5361\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u63D0\\u524D\\u52A0\\u8F7D\"}),\"\\uFF1A\\u8BBE\\u7F6E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rootMargin: '200px'\"})})})}),\"\\uFF0C\\u8BA9\\u5143\\u7D20\\u5728\\u8FDB\\u5165\\u89C6\\u53E3\\u524D 200px \\u5C31\\u89E6\\u53D1\\uFF0C\\u9002\\u5408\\u56FE\\u7247\\u9884\\u52A0\\u8F7D\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E00\\u6B21\\u6027\\u4EFB\\u52A1\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"unobserve\"})})})}),\" \\u53D6\\u6D88\\u89C2\\u5BDF\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u89E6\\u53D1\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u573A\\u666F\\u4E3E\\u4F8B-1\",children:(0,n.jsx)(e.a,{href:\"#\\u573A\\u666F\\u4E3E\\u4F8B-1\",children:\"\\u573A\\u666F\\u4E3E\\u4F8B\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u505A\\u4E00\\u4E2A\\u6EDA\\u52A8\\u52A8\\u753B\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" animatedElements\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelectorAll\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'.animate-me'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" observer\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" IntersectionObserver\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"entries\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  entries.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"entry\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (entry.isIntersecting) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      entry.target.classList.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'fade-in'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      observer.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"unobserve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(entry.target);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, { threshold: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0.5\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"animatedElements.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"el\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" observer.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"observe\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(el));\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6BD4\\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\u4F18\\u96C5\\u591A\\u4E86\\u5427\\uFF1F\\u5C31\\u50CF\\u4ECE\\u624B\\u52A8\\u6321\\u6362\\u6210\\u4E86\\u81EA\\u52A8\\u6321\\uFF0C\\u5F00\\u8D77\\u6765\\u5C31\\u662F\\u723D\\uFF01\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u65B9\\u6CD5\\u4E09\\u504F\\u79FB\\u91CF\\u6CD5offset-\\u5BB6\\u65CF\",children:(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5\\u4E09\\u504F\\u79FB\\u91CF\\u6CD5offset-\\u5BB6\\u65CF\",children:\"\\u65B9\\u6CD5\\u4E09\\uFF1A\\u504F\\u79FB\\u91CF\\u6CD5\\uFF08Offset \\u5BB6\\u65CF\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u89C9\\u5F97 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getBoundingClientRect\"})})})}),\" \\u4E0D\\u591F\\u786C\\u6838\\uFF0C\\u8FD8\\u53EF\\u4EE5\\u7528\\u5143\\u7D20\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"offsetTop\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"offsetLeft\"})})})}),\" \\u914D\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window.scrollY\"})})})}),\" \\u6765\\u7B97\\u3002\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u201C\\u8001\\u6D3E\\u786C\\u6C49\\u201D\\u7684\\u5473\\u9053\\uFF1F\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5B9E\\u73B0\\u4EE3\\u7801-2\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u73B0\\u4EE3\\u7801-2\",children:\"\\u5B9E\\u73B0\\u4EE3\\u7801\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" isInViewport\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"element\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" offsetTop\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" element.offsetTop;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" offsetHeight\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" element.offsetHeight;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" scrollTop\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window.scrollY \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.documentElement.scrollTop;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" windowHeight\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window.innerHeight;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    offsetTop \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" offsetHeight \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" scrollTop \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    offsetTop \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" scrollTop \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" windowHeight\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u539F\\u7406\\u62C6\\u89E3-2\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406\\u62C6\\u89E3-2\",children:\"\\u539F\\u7406\\u62C6\\u89E3\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"offsetTop\"})})})}),\"\\uFF1A\\u5143\\u7D20\\u9876\\u90E8\\u5230\\u6587\\u6863\\u9876\\u90E8\\u7684\\u8DDD\\u79BB\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scrollY\"})})})}),\"\\uFF1A\\u5F53\\u524D\\u6EDA\\u52A8\\u8DDD\\u79BB\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6761\\u4EF6\\uFF1A\\u5143\\u7D20\\u9876\\u90E8\\u5728\\u89C6\\u53E3\\u4E0B\\u65B9\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"offsetTop < scrollTop + windowHeight\"})})})}),\"\\uFF09\\uFF0C\\u4E14\\u5E95\\u90E8\\u5728\\u89C6\\u53E3\\u4E0A\\u65B9\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"offsetTop + offsetHeight > scrollTop\"})})})}),\"\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5C0F-tips-2\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-2\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u517C\\u5BB9\\u6027\\u5F3A\"}),\"\\uFF1A\\u8001\\u6D4F\\u89C8\\u5668\\u4E5F\\u80FD\\u7528\\uFF0C\\u4F46\\u6027\\u80FD\\u4E0D\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IntersectionObserver\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u52A8\\u6001\\u8C03\\u6574\"}),\"\\uFF1A\\u5982\\u679C\\u9875\\u9762\\u6709\\u56FA\\u5B9A\\u5B9A\\u4F4D\\u7684\\u5934\\u90E8\\uFF0C\\u53EF\\u4EE5\\u51CF\\u53BB\\u5934\\u90E8\\u9AD8\\u5EA6\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scrollTop + windowHeight - headerHeight\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u573A\\u666F\\u4E3E\\u4F8B-2\",children:(0,n.jsx)(e.a,{href:\"#\\u573A\\u666F\\u4E3E\\u4F8B-2\",children:\"\\u573A\\u666F\\u4E3E\\u4F8B\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9002\\u5408\\u7B80\\u5355\\u573A\\u666F\\uFF0C\\u6BD4\\u5982\\u5224\\u65AD\\u9875\\u9762\\u5E95\\u90E8\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" footer\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'footer'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'scroll'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isInViewport\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(footer)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5230\\u5E95\\u90E8\\u5566\\uFF0C\\u52A0\\u8F7D\\u66F4\\u591A\\u5427\\uFF01'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5BF9\\u6BD4\\u4E0E\\u9009\\u62E9\\u54EA\\u79CD\\u65B9\\u6CD5\\u9002\\u5408\\u4F60\",children:(0,n.jsx)(e.a,{href:\"#\\u5BF9\\u6BD4\\u4E0E\\u9009\\u62E9\\u54EA\\u79CD\\u65B9\\u6CD5\\u9002\\u5408\\u4F60\",children:\"\\u5BF9\\u6BD4\\u4E0E\\u9009\\u62E9\\uFF1A\\u54EA\\u79CD\\u65B9\\u6CD5\\u9002\\u5408\\u4F60\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"\\u65B9\\u6CD5\"}),(0,n.jsx)(e.th,{children:\"\\u4F18\\u70B9\"}),(0,n.jsx)(e.th,{children:\"\\u7F3A\\u70B9\"}),(0,n.jsx)(e.th,{children:\"\\u9002\\u7528\\u573A\\u666F\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getBoundingClientRect\"})})})})}),(0,n.jsx)(e.td,{children:\"\\u76F4\\u89C2\\uFF0C\\u7CBE\\u786E\"}),(0,n.jsx)(e.td,{children:\"\\u6027\\u80FD\\u5DEE\\uFF0C\\u9700\\u624B\\u52A8\\u76D1\\u542C\"}),(0,n.jsx)(e.td,{children:\"\\u7B80\\u5355\\u4E00\\u6B21\\u6027\\u68C0\\u6D4B\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IntersectionObserver\"})})})})}),(0,n.jsx)(e.td,{children:\"\\u9AD8\\u6548\\uFF0C\\u5F02\\u6B65\\uFF0C\\u914D\\u7F6E\\u7075\\u6D3B\"}),(0,n.jsx)(e.td,{children:\"\\u6D4F\\u89C8\\u5668\\u652F\\u6301\\u7A0D\\u65B0\"}),(0,n.jsx)(e.td,{children:\"\\u61D2\\u52A0\\u8F7D\\u3001\\u52A8\\u753B\\u89E6\\u53D1\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"Offset \\u5BB6\\u65CF\"}),(0,n.jsx)(e.td,{children:\"\\u517C\\u5BB9\\u6027\\u597D\\uFF0C\\u65E0\\u9700\\u989D\\u5916 API\"}),(0,n.jsx)(e.td,{children:\"\\u8BA1\\u7B97\\u590D\\u6742\\uFF0C\\u6027\\u80FD\\u4E00\\u822C\"}),(0,n.jsx)(e.td,{children:\"\\u8001\\u9879\\u76EE\\u517C\\u5BB9\\u6027\\u9700\\u6C42\"})]})]})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6211\\u7684\\u5EFA\\u8BAE\\uFF1F\",(0,n.jsxs)(e.strong,{children:[\"\\u4F18\\u5148\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IntersectionObserver\"})})})})]}),\"\\uFF0C\\u5B83\\u5C31\\u662F\\u4E3A\\u8FD9\\u4E2A\\u9700\\u6C42\\u91CF\\u8EAB\\u6253\\u9020\\u7684\\u3002\\u5982\\u679C\\u6D4F\\u89C8\\u5668\\u517C\\u5BB9\\u6027\\u662F\\u5927\\u95EE\\u9898\\uFF08\\u6BD4\\u5982\\u8981\\u652F\\u6301 IE\\uFF09\\uFF0C\\u518D\\u8003\\u8651\\u504F\\u79FB\\u91CF\\u6CD5\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u66F4\\u9999\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u66F4\\u9999\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u66F4\\u9999\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u61D2\\u52A0\\u8F7D\\u56FE\\u7247\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IntersectionObserver\"})})})}),\" + \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rootMargin\"})})})}),\" \\u63D0\\u524D\\u52A0\\u8F7D\\uFF0C\\u907F\\u514D\\u7528\\u6237\\u770B\\u5230\\u7A7A\\u767D\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" imgs\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelectorAll\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'img[data-src]'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" observer\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" IntersectionObserver\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"entries\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  entries.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"entry\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (entry.isIntersecting) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      entry.target.src \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" entry.target.dataset.src;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      observer.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"unobserve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(entry.target);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, { rootMargin: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'200px'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"imgs.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"img\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" observer.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"observe\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img));\"})]})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u52A8\\u6001 threshold\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u6839\\u636E\\u5143\\u7D20\\u5927\\u5C0F\\u8C03\\u6574 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"threshold\"})})})}),\"\\uFF0C\\u6BD4\\u5982\\u5927\\u56FE\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"0.1\"})})})}),\"\\uFF0C\\u5C0F\\u6309\\u94AE\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"0.5\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u68C0\\u67E5\\u6D4F\\u89C8\\u5668\\u652F\\u6301\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'IntersectionObserver'\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" in\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window) {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u7528 IntersectionObserver\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u56DE\\u9000\\u5230 getBoundingClientRect\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u795E\\u5668\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5728\\u56DE\\u8C03\\u91CC\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"console.log(entry)\"})})})}),\"\\uFF0C\\u770B\\u770B\\u5177\\u4F53\\u4EA4\\u53C9\\u6570\\u636E\\uFF0C\\u8C03\\u53C2\\u66F4\\u8F7B\\u677E\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E00\\u4E9B\\u6B6A\\u95E8\\u90AA\\u9053\\u5176\\u5B9E\\u5F88\\u5B9E\\u7528\",children:(0,n.jsx)(e.a,{href:\"#\\u4E00\\u4E9B\\u6B6A\\u95E8\\u90AA\\u9053\\u5176\\u5B9E\\u5F88\\u5B9E\\u7528\",children:\"\\u4E00\\u4E9B\\u201C\\u6B6A\\u95E8\\u90AA\\u9053\\u201D\\uFF08\\u5176\\u5B9E\\u5F88\\u5B9E\\u7528\\uFF09\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F2A\\u89C6\\u53E3\\u68C0\\u6D4B\"}),\"\\uFF1A\\u7ED9\\u5143\\u7D20\\u52A0\\u4E2A\\u900F\\u660E\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"::before\"})})})}),\" \\u4F2A\\u5143\\u7D20\\uFF0C\\u7528\\u5B83\\u7684\\u4F4D\\u7F6E\\u6765\\u89E6\\u53D1\\u52A8\\u753B\\uFF0C\\u9002\\u5408\\u590D\\u6742\\u5E03\\u5C40\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8282\\u6D41 + \\u7F13\\u5B58\"}),\"\\uFF1A\\u6EDA\\u52A8\\u65F6\\u7F13\\u5B58\\u4E0A\\u4E00\\u6B21\\u7684\\u7ED3\\u679C\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"CSS \\u66FF\\u4EE3\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"position: sticky\"})})})}),\" \\u914D\\u5408\\u52A8\\u753B\\uFF0C\\u6709\\u65F6\\u80FD\\u7701\\u6389 JS \\u5224\\u65AD\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u540E\\u7684\\u5C0F\\u5F69\\u86CB\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u540E\\u7684\\u5C0F\\u5F69\\u86CB\",children:\"\\u6700\\u540E\\u7684\\u5C0F\\u5F69\\u86CB\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BD5\\u8BD5\\u8FD9\\u4E2A\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IntersectionObserver\"})})})}),\" \\u505A\\u4E00\\u4E2A\\u201C\\u56DE\\u5230\\u9876\\u90E8\\u201D\\u6309\\u94AE\\uFF0C\\u53EA\\u6709\\u5F53\\u7528\\u6237\\u6EDA\\u5230\\u4E00\\u5B9A\\u8DDD\\u79BB\\u65F6\\u624D\\u663E\\u793A\\u3002\\u4EE3\\u7801\\u7559\\u7ED9\\u4F60\\u7EC3\\u624B\\uFF0C\\u8D34\\u5230\\u8BC4\\u8BBA\\u533A\\u8BA9\\u6211\\u77A7\\u77A7\\u5427\\uFF01\\u{1F60F}\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"\\u597D\\u4E86\\uFF0C\\u8FD9\\u7BC7\\u535A\\u5BA2\\u5230\\u6B64\\u4E3A\\u6B62\\uFF01\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u518D\\u5230\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E0C\\u671B\\u4F60\\u4E0D\\u4EC5\\u5B66\\u4F1A\\u4E86\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u5728\\u89C6\\u53E3\\uFF0C\\u8FD8\\u80FD\\u4E3E\\u4E00\\u53CD\\u4E09\\u7528\\u5230\\u9879\\u76EE\\u91CC\\u3002\\u5982\\u679C\\u6709\\u7591\\u95EE\\uFF0C\\u6B22\\u8FCE\\u968F\\u65F6\\u627E\\u6211\\u804A\\u804A\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u628A\\u524D\\u7AEF\\u73A9\\u51FA\\u82B1\\u513F\\u6765\\uFF01\\u2728\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(h,{...l})}):h(l)}return m(x);})();\n;return Component;"
  },
  "_id": "CSS/å‰ç«¯å¿…çŸ¥å¦‚ä½•åˆ¤æ–­å…ƒç´ å‡ºçŽ°åœ¨è§†å£å†….mdx",
  "_raw": {
    "sourceFilePath": "CSS/å‰ç«¯å¿…çŸ¥å¦‚ä½•åˆ¤æ–­å…ƒç´ å‡ºçŽ°åœ¨è§†å£å†….mdx",
    "sourceFileName": "å‰ç«¯å¿…çŸ¥å¦‚ä½•åˆ¤æ–­å…ƒç´ å‡ºçŽ°åœ¨è§†å£å†….mdx",
    "sourceFileDir": "CSS",
    "contentType": "mdx",
    "flattenedPath": "CSS/å‰ç«¯å¿…çŸ¥å¦‚ä½•åˆ¤æ–­å…ƒç´ å‡ºçŽ°åœ¨è§†å£å†…"
  },
  "type": "Post",
  "url": "/blog/CSS/å‰ç«¯å¿…çŸ¥å¦‚ä½•åˆ¤æ–­å…ƒç´ å‡ºçŽ°åœ¨è§†å£å†…"
}
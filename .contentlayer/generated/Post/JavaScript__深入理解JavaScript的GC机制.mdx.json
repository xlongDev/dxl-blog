{
  "title": "æ·±å…¥æŽ¢ç´¢ JavaScript åžƒåœ¾å›žæ”¶æœºåˆ¶çš„å¥¥ç§˜ ðŸ§¹",
  "date": "2023-06-20T00:00:00.000Z",
  "description": "å…¨é¢å‰–æž JavaScript åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼Œæ·±å…¥åŽŸç†ã€ç®—æ³•ã€ä¼˜åŒ–å®žè·µä¸Žè®¾è®¡å“²å­¦ï¼ŒåŠ©åŠ›å‰ç«¯å¼€å‘è€…ç¼–å†™é«˜æ€§èƒ½ä»£ç ã€‚",
  "keywords": "JavaScript, åžƒåœ¾å›žæ”¶, GC, å†…å­˜ç®¡ç†, V8 å¼•æ“Ž, å‰ç«¯æ€§èƒ½ä¼˜åŒ–, å¼•ç”¨è®¡æ•°, æ ‡è®°æ¸…é™¤",
  "author": "æ™“é¾™",
  "image": "/images/hero/js-gc.jpg",
  "tags": [
    "JavaScript",
    "å†…å­˜ç®¡ç†",
    "å‰ç«¯å¼€å‘",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "JavaScript",
  "body": {
    "raw": "\n> â€œç¨‹åºå‘˜çš„ä»£ç å°±åƒè¯—äººçš„è¯—ï¼Œä¼˜é›…ä¸Žå¦ï¼Œå–å†³äºŽå¦‚ä½•ç®¡ç†å†…å­˜çš„æµåŠ¨ã€‚â€ â€”â€” åŒ¿åå‰ç«¯å¼€å‘è€…\n\nåœ¨å‰ç«¯å¼€å‘çš„æ—…é€”ä¸­ï¼ŒJavaScript æ˜¯æˆ‘ä»¬æœ€äº²å¯†çš„ä¼™ä¼´ã€‚å®ƒé©±åŠ¨ç€åŠ¨æ€ç½‘é¡µã€äº¤äº’å¼åº”ç”¨ï¼Œç”šè‡³æ˜¯æœåŠ¡å™¨ç«¯é€»è¾‘ã€‚ç„¶è€Œï¼ŒJavaScript çš„é­”æ³•èƒŒåŽï¼Œæœ‰ä¸€ä¸ªé»˜é»˜æ— é—»çš„è‹±é›„â€”â€”**åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼Œç®€ç§° GCï¼‰**ã€‚å®ƒåƒä¸€ä½éšå½¢çš„æ¸…æ´å·¥ï¼Œæ‚„æ— å£°æ¯åœ°æ¸…ç†å†…å­˜ä¸­çš„åžƒåœ¾ï¼Œç¡®ä¿æˆ‘ä»¬çš„ä»£ç è¿è¡Œé¡ºç•…ã€‚ðŸ§¹\n\nä½†ä½ æ˜¯å¦æ›¾å¥½å¥‡ï¼šGC åˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿå®ƒä¸ºä½•æœ‰æ—¶ä¼šè®©é¡µé¢å¡é¡¿ï¼Ÿå¦‚ä½•ä¼˜åŒ–ä»£ç ä»¥ä¸Ž GC å’Œç¦ç›¸å¤„ï¼Ÿåœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘å°†å¸¦ä½ æ·±å…¥ JavaScript åžƒåœ¾å›žæ”¶çš„è¿·äººä¸–ç•Œï¼Œæ­å¼€å®ƒçš„ç¥žç§˜é¢çº±ã€‚ä»Žæ ¸å¿ƒåŽŸç†åˆ°å®žç”¨æŠ€å·§ï¼Œä»Žç®—æ³•ç»†èŠ‚åˆ°è®¾è®¡å“²å­¦ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æŽ¢ç´¢è¿™ç‰‡é²œä¸ºäººçŸ¥çš„é¢†åŸŸã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœºå†…å­˜ç®¡ç†çš„å†’é™©å§ï¼ðŸš€\n\n## ä¸ºä»€ä¹ˆéœ€è¦åžƒåœ¾å›žæ”¶ï¼ŸðŸ¤”\n\nåœ¨æŽ¢è®¨ GC çš„ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥èŠèŠå®ƒçš„å­˜åœ¨æ„ä¹‰ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æžœæ²¡æœ‰åžƒåœ¾å›žæ”¶ï¼Œæˆ‘ä»¬çš„ JavaScript ä»£ç ä¼šåƒä¸€åº§å †æ»¡åºŸå¼ƒç‰©çš„åŸŽå¸‚ï¼Œå†…å­˜å¾ˆå¿«å°±ä¼šè¢«è€—å°½ã€‚ç¨‹åºå‘˜éœ€è¦æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾å†…å­˜ï¼Œå°±åƒåœ¨ C++ ä¸­ä½¿ç”¨ `malloc` å’Œ `free`ã€‚å¬èµ·æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹åƒåœ¨åŽŸå§‹ç¤¾ä¼šæ¬çŸ³å¤´ï¼ŸðŸ˜…\n\nJavaScript ä½œä¸ºä¸€é—¨é«˜çº§è¯­è¨€ï¼Œé€‰æ‹©äº†è‡ªåŠ¨å†…å­˜ç®¡ç†ã€‚è¿™æ„å‘³ç€å¼€å‘è€…æ— éœ€æ˜¾å¼åœ°é‡Šæ”¾å†…å­˜ï¼ŒGC ä¼šè‡ªåŠ¨å›žæ”¶ä¸å†ä½¿ç”¨çš„å¯¹è±¡ã€‚è¿™ç§è®¾è®¡è§£æ”¾äº†æˆ‘ä»¬çš„åŒæ‰‹ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä¸“æ³¨äºŽä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸æ˜¯å†…å­˜çš„çç¢Žç»†èŠ‚ã€‚ç„¶è€Œï¼ŒGC å¹¶éžä¸‡èƒ½ï¼Œå®ƒä¹Ÿæœ‰è‡ªå·±çš„è„¾æ°”å’Œå±€é™ã€‚ç†è§£å®ƒçš„è¿ä½œåŽŸç†ï¼Œæ‰èƒ½è®©æˆ‘ä»¬å†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç ã€‚\n\n> â€œè§£æ”¾åŒæ‰‹çš„ä»£ä»·ï¼Œæ˜¯ç†è§£å¹•åŽçš„é­”æ³•ã€‚â€ â€”â€” æŸä½ JavaScript å¼€å‘è€…\n\n### å†…å­˜ç®¡ç†çš„æ ¸å¿ƒé—®é¢˜\n\nJavaScript çš„å†…å­˜ç®¡ç†ä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š\n1. **åˆ†é…å†…å­˜**ï¼šå½“æˆ‘ä»¬åˆ›å»ºå¯¹è±¡ã€æ•°ç»„æˆ–å­—ç¬¦ä¸²æ—¶ï¼ŒJavaScript å¼•æ“Žä¼šä¸ºå®ƒä»¬åˆ†é…å†…å­˜ã€‚\n2. **å›žæ”¶å†…å­˜**ï¼šå½“å¯¹è±¡ä¸å†éœ€è¦æ—¶ï¼ŒGC ä¼šé‡Šæ”¾å®ƒä»¬å ç”¨çš„å†…å­˜ï¼Œä¾›åŽç»­ä½¿ç”¨ã€‚\n\nå¬èµ·æ¥ç®€å•ï¼Œä½†é­”é¬¼è—åœ¨ç»†èŠ‚ä¸­ã€‚å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡â€œä¸å†éœ€è¦â€ï¼ŸGC æ˜¯å¦‚ä½•æ‰¾åˆ°è¿™äº›â€œåžƒåœ¾â€çš„ï¼Ÿä¸åŒçš„å¼•æ“Žï¼ˆæ¯”å¦‚ V8ã€SpiderMonkeyï¼‰åˆæ˜¯å¦‚ä½•å®žçŽ°çš„ï¼ŸæŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€ä¸€è§£ç­”è¿™äº›é—®é¢˜ã€‚\n\n## JavaScript çš„å†…å­˜æ¨¡åž‹ ðŸ“š\n\nåœ¨æ·±å…¥ GC ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ JavaScript çš„å†…å­˜æ¨¡åž‹ã€‚JavaScript çš„å†…å­˜ä¸»è¦åˆ†ä¸º**æ ˆå†…å­˜**å’Œ**å †å†…å­˜**ï¼š\n\n- **æ ˆå†…å­˜**ï¼šç”¨äºŽå­˜å‚¨åŸºæœ¬æ•°æ®ç±»åž‹ï¼ˆ`number`ã€`string`ã€`boolean`ã€`null`ã€`undefined`ï¼‰å’Œå¼•ç”¨ç±»åž‹çš„æŒ‡é’ˆã€‚æ ˆå†…å­˜æ˜¯é™æ€åˆ†é…çš„ï¼Œéµå¾ªåŽè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„åŽŸåˆ™ã€‚\n- **å †å†…å­˜**ï¼šç”¨äºŽå­˜å‚¨å¼•ç”¨ç±»åž‹ï¼ˆå¦‚å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ï¼‰çš„å®žé™…æ•°æ®ã€‚å †å†…å­˜æ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œç»“æž„æ›´å¤æ‚ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼š\n\n```javascript\nlet num = 42; // æ ˆå†…å­˜å­˜å‚¨ 42\nlet obj = { name: \"Grok\" }; // æ ˆå†…å­˜å­˜å‚¨ obj çš„å¼•ç”¨ï¼Œå †å†…å­˜å­˜å‚¨ { name: \"Grok\" }\n```\n\nå½“æˆ‘ä»¬å£°æ˜Žå˜é‡æ—¶ï¼Œæ ˆå†…å­˜ä¼šè®°å½•å˜é‡çš„å€¼æˆ–å¼•ç”¨ï¼Œè€Œå †å†…å­˜åˆ™å­˜å‚¨å¤æ‚å¯¹è±¡çš„å®žé™…å†…å®¹ã€‚GC çš„ä¸»è¦å·¥ä½œåœºæ‰€å°±æ˜¯**å †å†…å­˜**ï¼Œå› ä¸ºåŸºæœ¬æ•°æ®ç±»åž‹çš„ç”Ÿå‘½å‘¨æœŸç”±ä½œç”¨åŸŸç®¡ç†ï¼Œç›¸å¯¹ç®€å•ï¼Œè€Œå¼•ç”¨ç±»åž‹çš„ç”Ÿå‘½å‘¨æœŸæ›´å¤æ‚ï¼Œéœ€è¦ GC ä»‹å…¥ã€‚\n\n### ç±»æ¯”ï¼šåŽ¨æˆ¿ä¸Žå†°ç®± ðŸ³\n\nä¸ºäº†æ›´å¥½åœ°ç†è§£æ ˆå’Œå †çš„å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªåŽ¨æˆ¿çš„ç±»æ¯”ï¼š\n- **æ ˆå†…å­˜**å°±åƒä½ çš„æ“ä½œå°ï¼Œç©ºé—´æœ‰é™ï¼Œåªèƒ½æ”¾ä¸€äº›ç®€å•çš„é£Ÿæï¼ˆåŸºæœ¬æ•°æ®ç±»åž‹ï¼‰ã€‚\n- **å †å†…å­˜**å°±åƒå†°ç®±ï¼Œå¯ä»¥å­˜å‚¨å¤§é‡çš„å¤æ‚é£Ÿæï¼ˆå¯¹è±¡ã€æ•°ç»„ï¼‰ã€‚æ“ä½œå°ä¸Šæ”¾çš„åªæ˜¯å†°ç®±é‡Œé£Ÿæçš„â€œæ ‡ç­¾â€ï¼ˆå¼•ç”¨ï¼‰ã€‚\n\nå½“ä½ ç”¨å®Œæ“ä½œå°ä¸Šçš„é£Ÿæï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨æ¸…ç†ï¼ˆä½œç”¨åŸŸé”€æ¯ï¼‰ã€‚ä½†å†°ç®±é‡Œçš„é£Ÿæå¦‚æžœæ²¡äººæ¸…ç†ï¼Œå°±ä¼šå †ç§¯å¦‚å±±â€”â€”è¿™å°±æ˜¯ GC çš„ç”¨æ­¦ä¹‹åœ°ï¼ðŸ§Š\n\n## åžƒåœ¾å›žæ”¶çš„æ ¸å¿ƒç®—æ³• ðŸ› ï¸\n\nJavaScript çš„åžƒåœ¾å›žæ”¶ä¸»è¦ä¾èµ–ä¸¤ç§ç»å…¸ç®—æ³•ï¼š**å¼•ç”¨è®¡æ•°**å’Œ**æ ‡è®°-æ¸…é™¤**ã€‚çŽ°ä»£å¼•æ“Žï¼ˆå¦‚ V8ï¼‰è¿˜å¼•å…¥äº†ä¼˜åŒ–ç®—æ³•ï¼Œå¦‚**åˆ†ä»£å›žæ”¶**å’Œ**å¢žé‡æ ‡è®°**ã€‚è®©æˆ‘ä»¬é€ä¸€æ‹†è§£è¿™äº›ç®—æ³•ï¼Œå¸¦ä½ èµ°è¿› GC çš„å†…æ ¸ã€‚\n\n### 1. å¼•ç”¨è®¡æ•°ï¼ˆReference Countingï¼‰\n\nå¼•ç”¨è®¡æ•°æ˜¯æœ€æ—©çš„åžƒåœ¾å›žæ”¶ç®—æ³•ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯è·Ÿè¸ªæ¯ä¸ªå¯¹è±¡çš„å¼•ç”¨æ•°ã€‚å½“å¼•ç”¨æ•°ä¸º 0 æ—¶ï¼Œå¯¹è±¡è¢«è®¤ä¸ºæ˜¯â€œåžƒåœ¾â€ï¼Œå¯ä»¥å›žæ”¶ã€‚\n\n#### å·¥ä½œåŽŸç†\n- æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ã€‚\n- å½“å¯¹è±¡è¢«å¼•ç”¨ï¼ˆæ¯”å¦‚èµ‹å€¼ç»™å˜é‡æˆ–ä½œä¸ºå±žæ€§å­˜å‚¨ï¼‰ï¼Œè®¡æ•°å™¨åŠ  1ã€‚\n- å½“å¼•ç”¨è¢«ç§»é™¤ï¼ˆå˜é‡é‡æ–°èµ‹å€¼æˆ–ä½œç”¨åŸŸé”€æ¯ï¼‰ï¼Œè®¡æ•°å™¨å‡ 1ã€‚\n- å½“è®¡æ•°å™¨ä¸º 0 æ—¶ï¼Œå¯¹è±¡è¢«å›žæ”¶ã€‚\n\n#### ç¤ºä¾‹ä»£ç \n\n```javascript\nlet obj = { name: \"Grok\" }; // obj å¼•ç”¨è®¡æ•°ä¸º 1\nlet anotherObj = obj; // å¼•ç”¨è®¡æ•°å¢žè‡³ 2\nobj = null; // å¼•ç”¨è®¡æ•°å‡è‡³ 1\nanotherObj = null; // å¼•ç”¨è®¡æ•°ä¸º 0ï¼Œå¯¹è±¡è¢«å›žæ”¶\n```\n\n#### ä¼˜ç‚¹\n- **å®žæ—¶æ€§**ï¼šåžƒåœ¾å¯ä»¥ç«‹å³å›žæ”¶ï¼Œå†…å­˜é‡Šæ”¾åŠæ—¶ã€‚\n- **ç®€å•æ€§**ï¼šç®—æ³•é€»è¾‘ç›´è§‚ï¼Œæ˜“äºŽå®žçŽ°ã€‚\n\n#### ç¼ºç‚¹\n- **å¾ªçŽ¯å¼•ç”¨é—®é¢˜**ï¼šå¦‚æžœä¸¤ä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œå³ä½¿å®ƒä»¬ä¸å†è¢«å¤–éƒ¨å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°ä¹Ÿä¸ä¼šå½’é›¶ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚\n\n#### å¾ªçŽ¯å¼•ç”¨ç¤ºä¾‹\n\n```javascript\nfunction createCycle() {\n  let obj1 = {};\n  let obj2 = {};\n  obj1.ref = obj2; // obj1 å¼•ç”¨ obj2\n  obj2.ref = obj1; // obj2 å¼•ç”¨ obj1\n}\ncreateCycle(); // å³ä½¿å‡½æ•°ç»“æŸï¼Œobj1 å’Œ obj2 ä»ç›¸äº’å¼•ç”¨ï¼Œæ— æ³•å›žæ”¶\n```\n\n> *å° Tipsï¼šé¿å…åˆ›å»ºä¸å¿…è¦çš„å¾ªçŽ¯å¼•ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨äº‹ä»¶ç›‘å¬å™¨æˆ–é—­åŒ…ä¸­ã€‚*\n\n#### ç±»æ¯”ï¼šæœ‹å‹åœˆ ðŸ‘¥\nå¼•ç”¨è®¡æ•°å°±åƒæœ‹å‹åœˆçš„ç‚¹èµžã€‚å¦‚æžœä½ æ²¡äººç‚¹èµžï¼ˆå¼•ç”¨è®¡æ•°ä¸º 0ï¼‰ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—è‡ªå·±â€œæ²¡ç”¨äº†â€ï¼ˆè¢«å›žæ”¶ï¼‰ã€‚ä½†å¦‚æžœä¸¤ä¸ªæœ‹å‹äº’ç›¸ç‚¹èµžï¼Œå³ä½¿ä»–ä»¬ä¸Žå¤–ç•Œå¤±è”ï¼ŒGC ä¹Ÿæ— æ³•æ¸…ç†ä»–ä»¬ã€‚è¿™å°±æ˜¯å¾ªçŽ¯å¼•ç”¨çš„å°´å°¬å±€é¢ï¼ðŸ˜…\n\n### 2. æ ‡è®°-æ¸…é™¤ï¼ˆMark-and-Sweepï¼‰\n\nç”±äºŽå¼•ç”¨è®¡æ•°çš„å¾ªçŽ¯å¼•ç”¨é—®é¢˜ï¼ŒçŽ°ä»£ JavaScript å¼•æ“Žï¼ˆå¦‚ V8ï¼‰ä¸»è¦ä½¿ç”¨**æ ‡è®°-æ¸…é™¤**ç®—æ³•ã€‚å®ƒé€šè¿‡è¿½è¸ªå¯¹è±¡æ˜¯å¦å¯è¾¾æ¥åˆ¤æ–­æ˜¯å¦ä¸ºåžƒåœ¾ã€‚\n\n#### å·¥ä½œåŽŸç†\n1. **æ ‡è®°é˜¶æ®µ**ï¼šä»Žæ ¹å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å…¨å±€å¯¹è±¡ã€æ´»åŠ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ç­‰ï¼‰å¼€å§‹ï¼Œé€’å½’éåŽ†æ‰€æœ‰å¯è¾¾å¯¹è±¡ï¼Œæ ‡è®°ä¸ºâ€œæ´»è·ƒâ€ã€‚\n2. **æ¸…é™¤é˜¶æ®µ**ï¼šæ‰«æå †å†…å­˜ï¼Œå›žæ”¶æœªè¢«æ ‡è®°çš„å¯¹è±¡ã€‚\n\n#### ç¤ºä¾‹ä»£ç \n\n```javascript\nlet root = {};\nlet obj = { name: \"Grok\" };\nroot.ref = obj; // obj å¯é€šè¿‡ root è®¿é—®\nroot.ref = null; // obj ä¸å†å¯è¾¾\n// GC è¿è¡ŒåŽï¼Œobj ä¼šè¢«æ ‡è®°ä¸ºä¸å¯è¾¾å¹¶å›žæ”¶\n```\n\n#### ä¼˜ç‚¹\n- **è§£å†³å¾ªçŽ¯å¼•ç”¨**ï¼šåªè¦å¯¹è±¡ä¸å¯è¾¾ï¼Œå³ä½¿å­˜åœ¨å¾ªçŽ¯å¼•ç”¨ï¼Œä¹Ÿä¼šè¢«å›žæ”¶ã€‚\n- **çµæ´»æ€§**ï¼šé€‚ç”¨äºŽå¤æ‚çš„å¯¹è±¡å›¾ã€‚\n\n#### ç¼ºç‚¹\n- **æš‚åœæ€§**ï¼šGC è¿è¡Œæ—¶ä¼šæš‚åœ JavaScript æ‰§è¡Œï¼ˆç§°ä¸ºâ€œStop-the-Worldâ€ï¼‰ï¼Œå¯èƒ½å¯¼è‡´é¡µé¢å¡é¡¿ã€‚\n- **ç¢Žç‰‡åŒ–**ï¼šå›žæ”¶åŽçš„å†…å­˜å¯èƒ½ä¸è¿žç»­ï¼Œå¯¼è‡´åˆ†é…å¤§å¯¹è±¡æ—¶æ•ˆçŽ‡é™ä½Žã€‚\n\n#### ç±»æ¯”ï¼šå¯»å®æ¸¸æˆ ðŸ—ºï¸\næ ‡è®°-æ¸…é™¤å°±åƒä¸€åœºå¯»å®æ¸¸æˆã€‚GC ä»Žèµ·ç‚¹ï¼ˆæ ¹å¯¹è±¡ï¼‰å‡ºå‘ï¼Œæ²¿ç€å¼•ç”¨è·¯å¾„æ ‡è®°æ‰€æœ‰èƒ½æ‰¾åˆ°çš„â€œå®è—â€ï¼ˆå¯è¾¾å¯¹è±¡ï¼‰ã€‚æœ€åŽï¼Œé‚£äº›æ²¡è¢«æ ‡è®°çš„â€œå­¤å²›â€å°±è¢«æ¸…ç†æŽ‰ã€‚ðŸï¸\n\n> *å° Tipsï¼šå°½é‡å‡å°‘å…¨å±€å¯¹è±¡çš„å¼•ç”¨ï¼Œä¿æŒå¯¹è±¡å›¾çš„ç®€æ´ï¼Œä»¥é™ä½Žæ ‡è®°-æ¸…é™¤çš„å¼€é”€ã€‚*\n\n### 3. åˆ†ä»£å›žæ”¶ï¼ˆGenerational Collectionï¼‰\n\nV8 å¼•æ“Žå¼•å…¥äº†**åˆ†ä»£å›žæ”¶**ï¼Œå°†å †å†…å­˜åˆ†ä¸º**æ–°ç”Ÿä»£**å’Œ**è€ç”Ÿä»£**ï¼Œæ ¹æ®å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸé‡‡å–ä¸åŒçš„å›žæ”¶ç­–ç•¥ã€‚è¿™ç§æ–¹æ³•åŸºäºŽä¸€ä¸ªè§‚å¯Ÿï¼š**å¤§å¤šæ•°å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­ï¼Œå°‘æ•°å¯¹è±¡å­˜æ´»æ—¶é—´é•¿**ã€‚\n\n#### å·¥ä½œåŽŸç†\n- **æ–°ç”Ÿä»£**ï¼šå­˜å‚¨æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œä½¿ç”¨å¿«é€Ÿçš„ **Scavenge ç®—æ³•**ï¼ˆåŸºäºŽ Cheney ç®—æ³•ï¼‰è¿›è¡Œå›žæ”¶ã€‚\n- **è€ç”Ÿä»£**ï¼šå­˜å‚¨å­˜æ´»æ—¶é—´è¾ƒé•¿çš„å¯¹è±¡ï¼Œä½¿ç”¨æ ‡è®°-æ¸…é™¤å’Œ**æ ‡è®°-åŽ‹ç¼©**ï¼ˆMark-Compactï¼‰ç®—æ³•ã€‚\n- **æ™‹å‡**ï¼šæ–°ç”Ÿä»£å¯¹è±¡åœ¨å¤šæ¬¡å›žæ”¶åŽä»å­˜æ´»ï¼Œä¼šè¢«æ™‹å‡åˆ°è€ç”Ÿä»£ã€‚\n\n#### æ–°ç”Ÿä»£ä¸Žè€ç”Ÿä»£çš„å¯¹æ¯”\n\n| ç‰¹æ€§           | æ–°ç”Ÿä»£                          | è€ç”Ÿä»£                          |\n|----------------|--------------------------------|--------------------------------|\n| **å¯¹è±¡ç±»åž‹**   | çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ï¼ˆå¦‚ä¸´æ—¶å˜é‡ï¼‰     | é•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ï¼ˆå¦‚å…¨å±€å¯¹è±¡ï¼‰     |\n| **å›žæ”¶ç®—æ³•**   | Scavengeï¼ˆå¤åˆ¶ç®—æ³•ï¼‰            | æ ‡è®°-æ¸…é™¤ã€æ ‡è®°-åŽ‹ç¼©            |\n| **å†…å­˜å¤§å°**   | è¾ƒå°ï¼ˆé€šå¸¸ 1-8MBï¼‰              | è¾ƒå¤§ï¼ˆé€šå¸¸å‡ å MB åˆ° GBï¼‰       |\n| **å›žæ”¶é¢‘çŽ‡**   | é«˜ï¼ˆå‡ æ¯«ç§’åˆ°å‡ åæ¯«ç§’ï¼‰          | ä½Žï¼ˆå‡ ç™¾æ¯«ç§’åˆ°ç§’çº§ï¼‰            |\n| **æ€§èƒ½ç‰¹ç‚¹**   | é€Ÿåº¦å¿«ï¼Œæš‚åœæ—¶é—´çŸ­              | æš‚åœæ—¶é—´è¾ƒé•¿ï¼Œé€‚åˆå¤§å¯¹è±¡        |\n\n#### ç¤ºä¾‹ï¼šæ–°ç”Ÿä»£å›žæ”¶\n\n```javascript\nfunction createTempObjects() {\n  let temp = { data: \"Temporary\" }; // åˆ†é…åˆ°æ–°ç”Ÿä»£\n  temp = null; // ä¸‹æ¬¡æ–°ç”Ÿä»£ GC æ—¶å›žæ”¶\n}\ncreateTempObjects();\n```\n\n#### ä¼˜ç‚¹\n- **é«˜æ•ˆæ€§**ï¼šæ–°ç”Ÿä»£å›žæ”¶é€Ÿåº¦å¿«ï¼Œé€‚åˆçŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ã€‚\n- **ä½Žæš‚åœ**ï¼šå°† GC åˆ†æˆå°å—ï¼Œå‡å°‘å•æ¬¡æš‚åœæ—¶é—´ã€‚\n\n#### ç¼ºç‚¹\n- **å¤æ‚æ€§**ï¼šåˆ†ä»£ç®¡ç†å’Œæ™‹å‡æœºåˆ¶å¢žåŠ äº†å®žçŽ°éš¾åº¦ã€‚\n- **å†…å­˜ç¢Žç‰‡**ï¼šè€ç”Ÿä»£ä»å¯èƒ½å‡ºçŽ°ç¢Žç‰‡åŒ–é—®é¢˜ã€‚\n\n#### ç±»æ¯”ï¼šå­¦æ ¡ç®¡ç† ðŸ«\næ–°ç”Ÿä»£å°±åƒå°å­¦ï¼Œæ–°ç”Ÿå…¥å­¦ï¼ˆåˆ†é…å†…å­˜ï¼‰å¾ˆå¿«ï¼Œæ¯•ä¸šï¼ˆå›žæ”¶ï¼‰ä¹Ÿå¿«ã€‚è€Œè€ç”Ÿä»£å°±åƒå¤§å­¦ï¼Œå­¦ç”Ÿï¼ˆå¯¹è±¡ï¼‰å¾…å¾—ä¹…ï¼Œç®¡ç†æ›´å¤æ‚ã€‚å¶å°”æœ‰â€œå­¦éœ¸â€ä»Žå°å­¦æ™‹å‡åˆ°å¤§å­¦ï¼ˆå¯¹è±¡æ™‹å‡ï¼‰ï¼Œéœ€è¦ç‰¹åˆ«å…³æ³¨ã€‚ðŸŽ“\n\n> *å° Tipsï¼šé¿å…é¢‘ç¹åˆ›å»ºå¤§é‡çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡æ± å¤ç”¨å¯¹è±¡æ¥å‡å°‘æ–°ç”Ÿä»£ GC åŽ‹åŠ›ã€‚*\n\n### 4. å¢žé‡æ ‡è®°ä¸Žæƒ°æ€§æ¸…é™¤\n\nä¸ºäº†å‡å°‘â€œStop-the-Worldâ€çš„æš‚åœæ—¶é—´ï¼ŒV8 å¼•å…¥äº†**å¢žé‡æ ‡è®°**å’Œ**æƒ°æ€§æ¸…é™¤**ã€‚\n\n#### å¢žé‡æ ‡è®°\n- å°†æ ‡è®°é˜¶æ®µæ‹†åˆ†ä¸ºå¤šä¸ªå°æ­¥éª¤ï¼Œä¸Ž JavaScript ä¸»çº¿ç¨‹äº¤æ›¿æ‰§è¡Œã€‚\n- æ¯æ¬¡åªæ ‡è®°ä¸€éƒ¨åˆ†å¯¹è±¡ï¼Œå‡å°‘å•æ¬¡æš‚åœæ—¶é—´ã€‚\n\n#### æƒ°æ€§æ¸…é™¤\n- æ¸…é™¤é˜¶æ®µä¸ä¸€æ¬¡æ€§å®Œæˆï¼Œè€Œæ˜¯æŒ‰éœ€å»¶è¿Ÿæ‰§è¡Œã€‚\n- å½“å†…å­˜åˆ†é…éœ€æ±‚å¢žåŠ æ—¶ï¼Œé€æ­¥é‡Šæ”¾å†…å­˜ã€‚\n\n#### ä¼˜ç‚¹\n- **ä½Žå»¶è¿Ÿ**ï¼šå‡å°‘é¡µé¢å¡é¡¿ï¼Œé€‚åˆå®žæ—¶æ€§è¦æ±‚é«˜çš„åº”ç”¨ï¼ˆå¦‚æ¸¸æˆï¼‰ã€‚\n- **å¹³æ»‘æ€§**ï¼šGC ä¸Žä¸»çº¿ç¨‹åä½œæ›´é¡ºç•…ã€‚\n\n#### ç±»æ¯”ï¼šæ‰“æ‰«æˆ¿é—´ ðŸ§¹\nå¢žé‡æ ‡è®°å°±åƒä½ ä¸€è¾¹çœ‹å‰§ä¸€è¾¹æ‰“æ‰«æˆ¿é—´ï¼Œæ¯æ¬¡åªæ”¶æ‹¾ä¸€å°å—ã€‚æƒ°æ€§æ¸…é™¤åˆ™æ˜¯ç­‰æœ‹å‹æ¥å®¶é‡Œæ—¶ï¼Œå†æŠŠåžƒåœ¾ä¸€ç‚¹ç‚¹æ‰”æŽ‰ã€‚æ—¢ä¸ç´¯ï¼Œåˆä¸å½±å“å¿ƒæƒ…ï¼ðŸ˜Ž\n\n> *å° Tipsï¼šåœ¨é«˜æ€§èƒ½åœºæ™¯ä¸‹ï¼Œå°½é‡é¿å…åœ¨å…³é”®å¸§ï¼ˆå¦‚åŠ¨ç”»å¾ªçŽ¯ï¼‰ä¸­åˆ›å»ºå¤§é‡å¯¹è±¡ï¼Œä»¥å‡å°‘å¢žé‡æ ‡è®°çš„å¹²æ‰°ã€‚*\n\n## V8 å¼•æ“Žçš„åžƒåœ¾å›žæ”¶ä¼˜åŒ– ðŸš€\n\nä½œä¸º Chrome å’Œ Node.js çš„æ ¸å¿ƒï¼ŒV8 å¼•æ“Žåœ¨åžƒåœ¾å›žæ”¶æ–¹é¢è¿›è¡Œäº†å¤§é‡ä¼˜åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®æŠ€æœ¯ï¼š\n\n### 1. Orinoco é¡¹ç›®\nOrinoco æ˜¯ V8 çš„åžƒåœ¾å›žæ”¶å™¨ä»£å·ï¼Œä¸“æ³¨äºŽä½Žå»¶è¿Ÿå’Œé«˜åžåé‡ã€‚å®ƒå¼•å…¥äº†**å¹¶è¡Œ GC**ã€**å¹¶å‘ GC**å’Œ**åŽ‹ç¼© GC**ï¼š\n- **å¹¶è¡Œ GC**ï¼šåˆ©ç”¨å¤šçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œæ ‡è®°å’Œæ¸…é™¤ã€‚\n- **å¹¶å‘ GC**ï¼šGC åœ¨åŽå°çº¿ç¨‹è¿è¡Œï¼Œä¸Žä¸»çº¿ç¨‹åŒæ—¶è¿›è¡Œã€‚\n- **åŽ‹ç¼© GC**ï¼šæ•´ç†å†…å­˜ç¢Žç‰‡ï¼Œä¼˜åŒ–å¤§å¯¹è±¡åˆ†é…ã€‚\n\n### 2. å†™å±éšœï¼ˆWrite Barrierï¼‰\nä¸ºäº†è·Ÿè¸ªæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ä¹‹é—´çš„å¼•ç”¨ï¼ŒV8 ä½¿ç”¨å†™å±éšœã€‚å½“è€ç”Ÿä»£å¯¹è±¡å¼•ç”¨æ–°ç”Ÿä»£å¯¹è±¡æ—¶ï¼Œå†™å±éšœä¼šè®°å½•è¿™ç§è·¨ä»£å¼•ç”¨ï¼Œç¡®ä¿ GC ä¸ä¼šé”™è¯¯å›žæ”¶ã€‚\n\n### 3. é€ƒé€¸åˆ†æž\nV8 ä¼šåˆ†æžå¯¹è±¡æ˜¯å¦â€œé€ƒé€¸â€å‡ºå‡½æ•°ä½œç”¨åŸŸã€‚å¦‚æžœå¯¹è±¡ä»…åœ¨å‡½æ•°å†…ä½¿ç”¨ï¼Œå¯èƒ½ä¼šç›´æŽ¥åˆ†é…åˆ°æ ˆä¸Šï¼Œå‡å°‘å †çš„åŽ‹åŠ›ã€‚\n\n#### ç¤ºä¾‹ï¼šé€ƒé€¸åˆ†æž\n\n```javascript\nfunction noEscape() {\n  let obj = { data: \"Local\" }; // ä¸ä¼šé€ƒé€¸ï¼Œå¯èƒ½åˆ†é…åˆ°æ ˆ\n  return obj.data;\n}\n\nfunction escape() {\n  let obj = { data: \"Global\" }; // é€ƒé€¸åˆ°å…¨å±€ï¼Œåˆ†é…åˆ°å †\n  return obj;\n}\n```\n\n> *å° Tipsï¼šå°½é‡è®©å¯¹è±¡ä¿æŒå±€éƒ¨ä½œç”¨åŸŸï¼Œé¿å…ä¸å¿…è¦çš„å…¨å±€å¼•ç”¨ï¼Œæå‡é€ƒé€¸åˆ†æžçš„ä¼˜åŒ–æ•ˆæžœã€‚*\n\n## åžƒåœ¾å›žæ”¶çš„æ€§èƒ½å½±å“ âš¡ï¸\n\nå°½ç®¡ GC æ˜¯è‡ªåŠ¨çš„ï¼Œä½†å®ƒçš„è¿è¡Œä¼šå¯¹æ€§èƒ½äº§ç”Ÿæ˜¾è‘—å½±å“ï¼Œå°¤å…¶æ˜¯åœ¨ä»¥ä¸‹åœºæ™¯ï¼š\n- **é«˜é¢‘å¯¹è±¡åˆ†é…**ï¼šé¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ä¼šè§¦å‘æ–°ç”Ÿä»£ GCã€‚\n- **å¤æ‚å¯¹è±¡å›¾**ï¼šå¤§é‡å¼•ç”¨å…³ç³»å¢žåŠ æ ‡è®°-æ¸…é™¤çš„å¼€é”€ã€‚\n- **å†…å­˜æ³„æ¼**ï¼šæœªé‡Šæ”¾çš„å¼•ç”¨å¯¼è‡´å†…å­˜å ç”¨æŒç»­å¢žé•¿ã€‚\n\n### æ€§èƒ½ç“¶é¢ˆç¤ºä¾‹\n\n```javascript\nfunction leakyFunction() {\n  let cache = [];\n  return function() {\n    cache.push(new Array(1000)); // æŒç»­å¢žåŠ å†…å­˜å ç”¨\n  };\n}\nlet leak = leakyFunction();\nsetInterval(leak, 100); // å†…å­˜æ³„æ¼ï¼\n```\n\n### å¦‚ä½•ç›‘æŽ§ GC æ€§èƒ½ï¼Ÿ\n- **Chrome DevTools**ï¼šä½¿ç”¨ Performance é¢æ¿æŸ¥çœ‹ GC äº‹ä»¶ã€‚\n- **Node.js**ï¼šä½¿ç”¨ `process.memoryUsage()` ç›‘æŽ§å†…å­˜å ç”¨ã€‚\n- **V8 æ ‡å¿—**ï¼šé€šè¿‡ `--trace-gc` æŸ¥çœ‹è¯¦ç»† GC æ—¥å¿—ã€‚\n\n## æœ€ä½³å®žè·µï¼šä¸Ž GC å’Œç¦ç›¸å¤„ ðŸŒŸ\n\nä¸ºäº†è®© GC æˆä¸ºä½ çš„ç›Ÿå‹ï¼Œè€Œä¸æ˜¯æ•Œäººï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å®žç”¨çš„ä¼˜åŒ–æŠ€å·§ã€‚æ¯æ¡éƒ½é™„å¸¦ä¸€ä¸ª *å° Tips*ï¼ŒåŠ©ä½ äº‹åŠåŠŸå€ï¼\n\n### 1. å‡å°‘å¯¹è±¡åˆ†é…\nå°½é‡å¤ç”¨å¯¹è±¡ï¼Œå‡å°‘æ–°ç”Ÿä»£ GC åŽ‹åŠ›ã€‚\n\n```javascript\n// ååšæ³•\nfunction createPoint() {\n  return { x: 0, y: 0 }; // æ¯æ¬¡åˆ›å»ºæ–°å¯¹è±¡\n}\n\n// å¥½åšæ³•\nconst point = { x: 0, y: 0 };\nfunction reusePoint() {\n  point.x = 0;\n  point.y = 0;\n  return point;\n}\n```\n\n> *å° Tipsï¼šä½¿ç”¨å¯¹è±¡æ± æˆ–ç¼“å­˜æœºåˆ¶ï¼Œå¤ç”¨é«˜é¢‘åˆ›å»ºçš„å¯¹è±¡ã€‚*\n\n### 2. é¿å…å†…å­˜æ³„æ¼\nåŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨ã€å®šæ—¶å™¨å’Œå…¨å±€å˜é‡ã€‚\n\n```javascript\nfunction addListener() {\n  const button = document.querySelector(\"#btn\");\n  button.addEventListener(\"click\", () => console.log(\"Clicked\"));\n}\n\n// æ¸…ç†\nfunction removeListener() {\n  button.removeEventListener(\"click\");\n}\n```\n\n> *å° Tipsï¼šåœ¨ç»„ä»¶é”€æ¯æ—¶ï¼Œå§‹ç»ˆæ¸…ç†äº‹ä»¶ç›‘å¬å™¨å’Œå®šæ—¶å™¨ã€‚*\n\n### 3. ä¼˜åŒ–é—­åŒ…\né—­åŒ…å¯èƒ½å¯¼è‡´æ„å¤–çš„å¼•ç”¨ä¿ç•™ï¼Œå¢žåŠ  GC è´Ÿæ‹…ã€‚\n\n```javascript\nfunction createCounter() {\n  let count = 0;\n  return () => count++; // count è¢«é—­åŒ…ä¿ç•™\n}\n```\n\n> *å° Tipsï¼šå¿…è¦æ—¶æ‰‹åŠ¨å°†é—­åŒ…å˜é‡ç½®ä¸º nullï¼Œé‡Šæ”¾å†…å­˜ã€‚*\n\n### 4. ä½¿ç”¨ WeakMap å’Œ WeakSet\n`WeakMap` å’Œ `WeakSet` çš„é”®æ˜¯å¼±å¼•ç”¨ï¼Œå…è®¸ GC å›žæ”¶ä¸å†éœ€è¦çš„å¯¹è±¡ã€‚\n\n```javascript\nconst weakCache = new WeakMap();\nfunction cacheObject(obj) {\n  if (!weakCache.has(obj)) {\n    weakCache.set(obj, computeExpensiveValue());\n  }\n  return weakCache.get(obj);\n}\n```\n\n> *å° Tipsï¼šåœ¨ç¼“å­˜åœºæ™¯ä¸­ï¼Œä¼˜å…ˆä½¿ç”¨ WeakMap é¿å…å†…å­˜æ³„æ¼ã€‚*\n\n### 5. å‡å°‘å…¨å±€å¯¹è±¡\nå…¨å±€å¯¹è±¡æ˜¯ GC çš„â€œå¸¸é©»å±…æ°‘â€ï¼Œå°½é‡å‡å°‘å…¶ä½¿ç”¨ã€‚\n\n```javascript\n// ååšæ³•\nwindow.myData = { large: new Array(1000000) };\n\n// å¥½åšæ³•\nfunction processData() {\n  let data = { large: new Array(1000000) };\n  // ä½¿ç”¨åŽ data ä¼šè¢«å›žæ”¶\n}\n```\n\n> *å° Tipsï¼šå°†æ•°æ®å°è£…åœ¨å‡½æ•°æˆ–æ¨¡å—ä¸­ï¼Œé¿å…æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸã€‚*\n\n## è®¾è®¡å“²å­¦ä¸Žæ„Ÿæ‚Ÿ ðŸŒŒ\n\nåžƒåœ¾å›žæ”¶ä¸ä»…æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œä¹Ÿæ˜¯è®¾è®¡å“²å­¦çš„ä½“çŽ°ã€‚GC çš„å­˜åœ¨ï¼Œè®©æˆ‘ä»¬ä»Žç¹ççš„å†…å­˜ç®¡ç†ä¸­è§£æ”¾å‡ºæ¥ï¼Œä½†å®ƒä¹Ÿæé†’æˆ‘ä»¬ï¼š**è‡ªç”±çš„èƒŒåŽéœ€è¦è‡ªå¾‹**ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬éœ€è¦ä¸Ž GC å»ºç«‹ä¸€ç§â€œé»˜å¥‘â€ï¼Œé€šè¿‡ä¼˜é›…çš„ä»£ç è®¾è®¡ï¼Œå‡å°‘å®ƒçš„è´Ÿæ‹…ã€‚\n\n> â€œå¥½çš„ä»£ç å°±åƒä¸€é¦–è¯—ï¼Œç®€æ´ã€ä¼˜é›…ï¼Œä¸”ä¸æµªè´¹ä¸€å­—èŠ‚å†…å­˜ã€‚â€ â€”â€” æ”¹ç¼–è‡ª Robert C. Martin\n\nåœ¨å­¦ä¹  GC çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ°**æƒè¡¡**çš„é‡è¦æ€§ã€‚GC çš„æ¯ä¸€ç§ç®—æ³•ï¼ˆå¼•ç”¨è®¡æ•°ã€æ ‡è®°-æ¸…é™¤ã€åˆ†ä»£å›žæ”¶ï¼‰éƒ½ä¸æ˜¯å®Œç¾Žçš„ï¼Œå®ƒä»¬åœ¨æ€§èƒ½ã€å»¶è¿Ÿå’Œå¤æ‚æ€§ä¹‹é—´å¯»æ‰¾å¹³è¡¡ã€‚è¿™è®©æˆ‘æƒ³åˆ°ç”Ÿæ´»ä¸­çš„è®¸å¤šåœºæ™¯ï¼šæˆ‘ä»¬è¿½æ±‚é«˜æ•ˆï¼Œä½†ä¹Ÿéœ€è¦ç•™ç™½ï¼›æˆ‘ä»¬è¿½æ±‚è‡ªç”±ï¼Œä½†ä¹Ÿéœ€è¦è§„åˆ™ã€‚\n\nGC è¿˜è®©æˆ‘å­¦ä¼šäº†**å°Šé‡åº•å±‚**ã€‚å‰ç«¯å¼€å‘è€…å¾€å¾€ä¸“æ³¨äºŽ UI å’Œä¸šåŠ¡é€»è¾‘ï¼Œä½†äº†è§£å¼•æ“Žçš„è¿ä½œï¼Œèƒ½è®©æˆ‘ä»¬æ›´å…¨é¢åœ°æ€è€ƒé—®é¢˜ã€‚æ­£å¦‚ã€Šé»‘å®¢ä¸Žç”»å®¶ã€‹ä¸­æ‰€è¯´ï¼šâ€œç¼–ç¨‹æ˜¯ä¸€ç§è‰ºæœ¯ï¼Œä½†è‰ºæœ¯çš„èƒŒåŽæ˜¯ç§‘å­¦ã€‚â€ é€šè¿‡ç†è§£ GCï¼Œæˆ‘ä»¬ä¸ä»…èƒ½å†™å‡ºæ›´å¥½çš„ä»£ç ï¼Œè¿˜èƒ½åŸ¹å…»ä¸€ç§å¯¹æŠ€æœ¯çš„æ•¬ç•ä¸Žå¥½å¥‡ã€‚\n\n## ç»“è¯­ï¼šæˆä¸ºå†…å­˜çš„ä¸»äºº ðŸ†\n\nåžƒåœ¾å›žæ”¶æ˜¯ JavaScript çš„å¹•åŽè‹±é›„ï¼Œå®ƒè®©æˆ‘ä»¬çš„ä»£ç æ›´ä¼˜é›…ï¼Œè®©åº”ç”¨æ›´å¥å£®ã€‚é€šè¿‡æ·±å…¥ç†è§£ GC çš„åŽŸç†ã€ç®—æ³•å’Œä¼˜åŒ–æŠ€å·§ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°é©¾é©­å†…å­˜ï¼Œç¼–å†™é«˜æ€§èƒ½çš„ä»£ç ã€‚æ— è®ºæ˜¯å‡å°‘å¯¹è±¡åˆ†é…ã€é¿å…å†…å­˜æ³„æ¼ï¼Œè¿˜æ˜¯åˆ©ç”¨ WeakMap å’Œåˆ†ä»£å›žæ”¶çš„ç‰¹æ€§ï¼Œæ¯ä¸€ä¸ªå°å°çš„ä¼˜åŒ–ï¼Œéƒ½æ˜¯å¯¹æŠ€æœ¯çš„ä¸€ä»½å°Šé‡ã€‚\n\nå¸Œæœ›è¿™ç¯‡åšå®¢èƒ½ä¸ºä½ æ‰“å¼€ JavaScript åžƒåœ¾å›žæ”¶çš„å¤§é—¨ã€‚æ„¿ä½ åœ¨å‰ç«¯å¼€å‘çš„æ—…é€”ä¸­ï¼Œä¸Ž GC å’Œç¦ç›¸å¤„ï¼Œå†™å‡ºæ›´ä¼˜é›…çš„ä»£ç ï¼ðŸ’»\n\n> â€œå†…å­˜æœ‰é™ï¼Œæ™ºæ…§æ— é™ã€‚è®©æˆ‘ä»¬ç”¨ä»£ç ï¼Œä¹¦å†™å±žäºŽè‡ªå·±çš„ä¼ å¥‡ã€‚â€ â€”â€” æ™“é¾™\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,n)=>()=>(n||l((n={exports:{}}).exports,n),n.exports),b=(l,n)=>{for(var r in n)a(l,r,{get:n[r],enumerable:!0})},i=(l,n,r,d)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of y(n))!u.call(l,c)&&c!==r&&a(l,c,{get:()=>n[c],enumerable:!(d=E(n,c))||d.enumerable});return l};var f=(l,n,r)=>(r=l!=null?p(g(l)):{},i(n||!l||!l.__esModule?a(r,\"default\",{value:l,enumerable:!0}):r,l)),m=l=>i(a({},\"__esModule\",{value:!0}),l);var t=F((B,h)=>{h.exports=_jsx_runtime});var C={};b(C,{default:()=>s,frontmatter:()=>k});var e=f(t()),k={type:\"Post\",title:\"\\u6DF1\\u5165\\u63A2\\u7D22 JavaScript \\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u7684\\u5965\\u79D8 \\u{1F9F9}\",date:\"2023-06-20\",description:\"\\u5168\\u9762\\u5256\\u6790 JavaScript \\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\uFF0C\\u6DF1\\u5165\\u539F\\u7406\\u3001\\u7B97\\u6CD5\\u3001\\u4F18\\u5316\\u5B9E\\u8DF5\\u4E0E\\u8BBE\\u8BA1\\u54F2\\u5B66\\uFF0C\\u52A9\\u529B\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7F16\\u5199\\u9AD8\\u6027\\u80FD\\u4EE3\\u7801\\u3002\",keywords:\"JavaScript, \\u5783\\u573E\\u56DE\\u6536, GC, \\u5185\\u5B58\\u7BA1\\u7406, V8 \\u5F15\\u64CE, \\u524D\\u7AEF\\u6027\\u80FD\\u4F18\\u5316, \\u5F15\\u7528\\u8BA1\\u6570, \\u6807\\u8BB0\\u6E05\\u9664\",author:\"\\u6653\\u9F99\",image:\"/images/hero/js-gc.jpg\",tags:[\"JavaScript\",\"\\u5185\\u5B58\\u7BA1\\u7406\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"JavaScript\"};function o(l){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...l.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u201C\\u7A0B\\u5E8F\\u5458\\u7684\\u4EE3\\u7801\\u5C31\\u50CF\\u8BD7\\u4EBA\\u7684\\u8BD7\\uFF0C\\u4F18\\u96C5\\u4E0E\\u5426\\uFF0C\\u53D6\\u51B3\\u4E8E\\u5982\\u4F55\\u7BA1\\u7406\\u5185\\u5B58\\u7684\\u6D41\\u52A8\\u3002\\u201D \\u2014\\u2014 \\u533F\\u540D\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u65C5\\u9014\\u4E2D\\uFF0CJavaScript \\u662F\\u6211\\u4EEC\\u6700\\u4EB2\\u5BC6\\u7684\\u4F19\\u4F34\\u3002\\u5B83\\u9A71\\u52A8\\u7740\\u52A8\\u6001\\u7F51\\u9875\\u3001\\u4EA4\\u4E92\\u5F0F\\u5E94\\u7528\\uFF0C\\u751A\\u81F3\\u662F\\u670D\\u52A1\\u5668\\u7AEF\\u903B\\u8F91\\u3002\\u7136\\u800C\\uFF0CJavaScript \\u7684\\u9B54\\u6CD5\\u80CC\\u540E\\uFF0C\\u6709\\u4E00\\u4E2A\\u9ED8\\u9ED8\\u65E0\\u95FB\\u7684\\u82F1\\u96C4\\u2014\\u2014\",(0,e.jsx)(n.strong,{children:\"\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\uFF08Garbage Collection\\uFF0C\\u7B80\\u79F0 GC\\uFF09\"}),\"\\u3002\\u5B83\\u50CF\\u4E00\\u4F4D\\u9690\\u5F62\\u7684\\u6E05\\u6D01\\u5DE5\\uFF0C\\u6084\\u65E0\\u58F0\\u606F\\u5730\\u6E05\\u7406\\u5185\\u5B58\\u4E2D\\u7684\\u5783\\u573E\\uFF0C\\u786E\\u4FDD\\u6211\\u4EEC\\u7684\\u4EE3\\u7801\\u8FD0\\u884C\\u987A\\u7545\\u3002\\u{1F9F9}\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4F46\\u4F60\\u662F\\u5426\\u66FE\\u597D\\u5947\\uFF1AGC \\u5230\\u5E95\\u662F\\u5982\\u4F55\\u5DE5\\u4F5C\\u7684\\uFF1F\\u5B83\\u4E3A\\u4F55\\u6709\\u65F6\\u4F1A\\u8BA9\\u9875\\u9762\\u5361\\u987F\\uFF1F\\u5982\\u4F55\\u4F18\\u5316\\u4EE3\\u7801\\u4EE5\\u4E0E GC \\u548C\\u7766\\u76F8\\u5904\\uFF1F\\u5728\\u8FD9\\u7BC7\\u535A\\u5BA2\\u4E2D\\uFF0C\\u6211\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165 JavaScript \\u5783\\u573E\\u56DE\\u6536\\u7684\\u8FF7\\u4EBA\\u4E16\\u754C\\uFF0C\\u63ED\\u5F00\\u5B83\\u7684\\u795E\\u79D8\\u9762\\u7EB1\\u3002\\u4ECE\\u6838\\u5FC3\\u539F\\u7406\\u5230\\u5B9E\\u7528\\u6280\\u5DE7\\uFF0C\\u4ECE\\u7B97\\u6CD5\\u7EC6\\u8282\\u5230\\u8BBE\\u8BA1\\u54F2\\u5B66\\uFF0C\\u6211\\u4EEC\\u5C06\\u4E00\\u8D77\\u63A2\\u7D22\\u8FD9\\u7247\\u9C9C\\u4E3A\\u4EBA\\u77E5\\u7684\\u9886\\u57DF\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u8FD9\\u573A\\u5185\\u5B58\\u7BA1\\u7406\\u7684\\u5192\\u9669\\u5427\\uFF01\\u{1F680}\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5783\\u573E\\u56DE\\u6536\",children:(0,e.jsx)(n.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5783\\u573E\\u56DE\\u6536\",children:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5783\\u573E\\u56DE\\u6536\\uFF1F\\u{1F914}\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u63A2\\u8BA8 GC \\u7684\\u7EC6\\u8282\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u804A\\u804A\\u5B83\\u7684\\u5B58\\u5728\\u610F\\u4E49\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u5982\\u679C\\u6CA1\\u6709\\u5783\\u573E\\u56DE\\u6536\\uFF0C\\u6211\\u4EEC\\u7684 JavaScript \\u4EE3\\u7801\\u4F1A\\u50CF\\u4E00\\u5EA7\\u5806\\u6EE1\\u5E9F\\u5F03\\u7269\\u7684\\u57CE\\u5E02\\uFF0C\\u5185\\u5B58\\u5F88\\u5FEB\\u5C31\\u4F1A\\u88AB\\u8017\\u5C3D\\u3002\\u7A0B\\u5E8F\\u5458\\u9700\\u8981\\u624B\\u52A8\\u5206\\u914D\\u548C\\u91CA\\u653E\\u5185\\u5B58\\uFF0C\\u5C31\\u50CF\\u5728 C++ \\u4E2D\\u4F7F\\u7528 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"malloc\"})})})}),\" \\u548C \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"free\"})})})}),\"\\u3002\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u50CF\\u5728\\u539F\\u59CB\\u793E\\u4F1A\\u642C\\u77F3\\u5934\\uFF1F\\u{1F605}\"]}),`\n`,(0,e.jsx)(n.p,{children:\"JavaScript \\u4F5C\\u4E3A\\u4E00\\u95E8\\u9AD8\\u7EA7\\u8BED\\u8A00\\uFF0C\\u9009\\u62E9\\u4E86\\u81EA\\u52A8\\u5185\\u5B58\\u7BA1\\u7406\\u3002\\u8FD9\\u610F\\u5473\\u7740\\u5F00\\u53D1\\u8005\\u65E0\\u9700\\u663E\\u5F0F\\u5730\\u91CA\\u653E\\u5185\\u5B58\\uFF0CGC \\u4F1A\\u81EA\\u52A8\\u56DE\\u6536\\u4E0D\\u518D\\u4F7F\\u7528\\u7684\\u5BF9\\u8C61\\u3002\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u89E3\\u653E\\u4E86\\u6211\\u4EEC\\u7684\\u53CC\\u624B\\uFF0C\\u8BA9\\u6211\\u4EEC\\u53EF\\u4EE5\\u4E13\\u6CE8\\u4E8E\\u4E1A\\u52A1\\u903B\\u8F91\\uFF0C\\u800C\\u4E0D\\u662F\\u5185\\u5B58\\u7684\\u7410\\u788E\\u7EC6\\u8282\\u3002\\u7136\\u800C\\uFF0CGC \\u5E76\\u975E\\u4E07\\u80FD\\uFF0C\\u5B83\\u4E5F\\u6709\\u81EA\\u5DF1\\u7684\\u813E\\u6C14\\u548C\\u5C40\\u9650\\u3002\\u7406\\u89E3\\u5B83\\u7684\\u8FD0\\u4F5C\\u539F\\u7406\\uFF0C\\u624D\\u80FD\\u8BA9\\u6211\\u4EEC\\u5199\\u51FA\\u66F4\\u9AD8\\u6548\\u7684\\u4EE3\\u7801\\u3002\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u201C\\u89E3\\u653E\\u53CC\\u624B\\u7684\\u4EE3\\u4EF7\\uFF0C\\u662F\\u7406\\u89E3\\u5E55\\u540E\\u7684\\u9B54\\u6CD5\\u3002\\u201D \\u2014\\u2014 \\u67D0\\u4F4D JavaScript \\u5F00\\u53D1\\u8005\"}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u5185\\u5B58\\u7BA1\\u7406\\u7684\\u6838\\u5FC3\\u95EE\\u9898\",children:(0,e.jsx)(n.a,{href:\"#\\u5185\\u5B58\\u7BA1\\u7406\\u7684\\u6838\\u5FC3\\u95EE\\u9898\",children:\"\\u5185\\u5B58\\u7BA1\\u7406\\u7684\\u6838\\u5FC3\\u95EE\\u9898\"})}),`\n`,(0,e.jsx)(n.p,{children:\"JavaScript \\u7684\\u5185\\u5B58\\u7BA1\\u7406\\u4E3B\\u8981\\u89E3\\u51B3\\u4E24\\u4E2A\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5206\\u914D\\u5185\\u5B58\"}),\"\\uFF1A\\u5F53\\u6211\\u4EEC\\u521B\\u5EFA\\u5BF9\\u8C61\\u3001\\u6570\\u7EC4\\u6216\\u5B57\\u7B26\\u4E32\\u65F6\\uFF0CJavaScript \\u5F15\\u64CE\\u4F1A\\u4E3A\\u5B83\\u4EEC\\u5206\\u914D\\u5185\\u5B58\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u56DE\\u6536\\u5185\\u5B58\"}),\"\\uFF1A\\u5F53\\u5BF9\\u8C61\\u4E0D\\u518D\\u9700\\u8981\\u65F6\\uFF0CGC \\u4F1A\\u91CA\\u653E\\u5B83\\u4EEC\\u5360\\u7528\\u7684\\u5185\\u5B58\\uFF0C\\u4F9B\\u540E\\u7EED\\u4F7F\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u542C\\u8D77\\u6765\\u7B80\\u5355\\uFF0C\\u4F46\\u9B54\\u9B3C\\u85CF\\u5728\\u7EC6\\u8282\\u4E2D\\u3002\\u5982\\u4F55\\u5224\\u65AD\\u4E00\\u4E2A\\u5BF9\\u8C61\\u201C\\u4E0D\\u518D\\u9700\\u8981\\u201D\\uFF1FGC \\u662F\\u5982\\u4F55\\u627E\\u5230\\u8FD9\\u4E9B\\u201C\\u5783\\u573E\\u201D\\u7684\\uFF1F\\u4E0D\\u540C\\u7684\\u5F15\\u64CE\\uFF08\\u6BD4\\u5982 V8\\u3001SpiderMonkey\\uFF09\\u53C8\\u662F\\u5982\\u4F55\\u5B9E\\u73B0\\u7684\\uFF1F\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u9010\\u4E00\\u89E3\\u7B54\\u8FD9\\u4E9B\\u95EE\\u9898\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"javascript-\\u7684\\u5185\\u5B58\\u6A21\\u578B-\",children:(0,e.jsx)(n.a,{href:\"#javascript-\\u7684\\u5185\\u5B58\\u6A21\\u578B-\",children:\"JavaScript \\u7684\\u5185\\u5B58\\u6A21\\u578B \\u{1F4DA}\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u6DF1\\u5165 GC \\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u4E86\\u89E3 JavaScript \\u7684\\u5185\\u5B58\\u6A21\\u578B\\u3002JavaScript \\u7684\\u5185\\u5B58\\u4E3B\\u8981\\u5206\\u4E3A\",(0,e.jsx)(n.strong,{children:\"\\u6808\\u5185\\u5B58\"}),\"\\u548C\",(0,e.jsx)(n.strong,{children:\"\\u5806\\u5185\\u5B58\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6808\\u5185\\u5B58\"}),\"\\uFF1A\\u7528\\u4E8E\\u5B58\\u50A8\\u57FA\\u672C\\u6570\\u636E\\u7C7B\\u578B\\uFF08\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"number\"})})})}),\"\\u3001\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"string\"})})})}),\"\\u3001\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"boolean\"})})})}),\"\\u3001\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"null\"})})})}),\"\\u3001\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"undefined\"})})})}),\"\\uFF09\\u548C\\u5F15\\u7528\\u7C7B\\u578B\\u7684\\u6307\\u9488\\u3002\\u6808\\u5185\\u5B58\\u662F\\u9759\\u6001\\u5206\\u914D\\u7684\\uFF0C\\u9075\\u5FAA\\u540E\\u8FDB\\u5148\\u51FA\\uFF08LIFO\\uFF09\\u7684\\u539F\\u5219\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5806\\u5185\\u5B58\"}),\"\\uFF1A\\u7528\\u4E8E\\u5B58\\u50A8\\u5F15\\u7528\\u7C7B\\u578B\\uFF08\\u5982\\u5BF9\\u8C61\\u3001\\u6570\\u7EC4\\u3001\\u51FD\\u6570\\uFF09\\u7684\\u5B9E\\u9645\\u6570\\u636E\\u3002\\u5806\\u5185\\u5B58\\u662F\\u52A8\\u6001\\u5206\\u914D\\u7684\\uFF0C\\u7ED3\\u6784\\u66F4\\u590D\\u6742\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" num \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 42\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6808\\u5185\\u5B58\\u5B58\\u50A8 42\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Grok\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:'// \\u6808\\u5185\\u5B58\\u5B58\\u50A8 obj \\u7684\\u5F15\\u7528\\uFF0C\\u5806\\u5185\\u5B58\\u5B58\\u50A8 { name: \"Grok\" }'})]})]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5F53\\u6211\\u4EEC\\u58F0\\u660E\\u53D8\\u91CF\\u65F6\\uFF0C\\u6808\\u5185\\u5B58\\u4F1A\\u8BB0\\u5F55\\u53D8\\u91CF\\u7684\\u503C\\u6216\\u5F15\\u7528\\uFF0C\\u800C\\u5806\\u5185\\u5B58\\u5219\\u5B58\\u50A8\\u590D\\u6742\\u5BF9\\u8C61\\u7684\\u5B9E\\u9645\\u5185\\u5BB9\\u3002GC \\u7684\\u4E3B\\u8981\\u5DE5\\u4F5C\\u573A\\u6240\\u5C31\\u662F\",(0,e.jsx)(n.strong,{children:\"\\u5806\\u5185\\u5B58\"}),\"\\uFF0C\\u56E0\\u4E3A\\u57FA\\u672C\\u6570\\u636E\\u7C7B\\u578B\\u7684\\u751F\\u547D\\u5468\\u671F\\u7531\\u4F5C\\u7528\\u57DF\\u7BA1\\u7406\\uFF0C\\u76F8\\u5BF9\\u7B80\\u5355\\uFF0C\\u800C\\u5F15\\u7528\\u7C7B\\u578B\\u7684\\u751F\\u547D\\u5468\\u671F\\u66F4\\u590D\\u6742\\uFF0C\\u9700\\u8981 GC \\u4ECB\\u5165\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u7C7B\\u6BD4\\u53A8\\u623F\\u4E0E\\u51B0\\u7BB1-\",children:(0,e.jsx)(n.a,{href:\"#\\u7C7B\\u6BD4\\u53A8\\u623F\\u4E0E\\u51B0\\u7BB1-\",children:\"\\u7C7B\\u6BD4\\uFF1A\\u53A8\\u623F\\u4E0E\\u51B0\\u7BB1 \\u{1F373}\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u66F4\\u597D\\u5730\\u7406\\u89E3\\u6808\\u548C\\u5806\\u7684\\u5173\\u7CFB\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528\\u4E00\\u4E2A\\u53A8\\u623F\\u7684\\u7C7B\\u6BD4\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6808\\u5185\\u5B58\"}),\"\\u5C31\\u50CF\\u4F60\\u7684\\u64CD\\u4F5C\\u53F0\\uFF0C\\u7A7A\\u95F4\\u6709\\u9650\\uFF0C\\u53EA\\u80FD\\u653E\\u4E00\\u4E9B\\u7B80\\u5355\\u7684\\u98DF\\u6750\\uFF08\\u57FA\\u672C\\u6570\\u636E\\u7C7B\\u578B\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5806\\u5185\\u5B58\"}),\"\\u5C31\\u50CF\\u51B0\\u7BB1\\uFF0C\\u53EF\\u4EE5\\u5B58\\u50A8\\u5927\\u91CF\\u7684\\u590D\\u6742\\u98DF\\u6750\\uFF08\\u5BF9\\u8C61\\u3001\\u6570\\u7EC4\\uFF09\\u3002\\u64CD\\u4F5C\\u53F0\\u4E0A\\u653E\\u7684\\u53EA\\u662F\\u51B0\\u7BB1\\u91CC\\u98DF\\u6750\\u7684\\u201C\\u6807\\u7B7E\\u201D\\uFF08\\u5F15\\u7528\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5F53\\u4F60\\u7528\\u5B8C\\u64CD\\u4F5C\\u53F0\\u4E0A\\u7684\\u98DF\\u6750\\uFF0C\\u5B83\\u4EEC\\u4F1A\\u81EA\\u52A8\\u6E05\\u7406\\uFF08\\u4F5C\\u7528\\u57DF\\u9500\\u6BC1\\uFF09\\u3002\\u4F46\\u51B0\\u7BB1\\u91CC\\u7684\\u98DF\\u6750\\u5982\\u679C\\u6CA1\\u4EBA\\u6E05\\u7406\\uFF0C\\u5C31\\u4F1A\\u5806\\u79EF\\u5982\\u5C71\\u2014\\u2014\\u8FD9\\u5C31\\u662F GC \\u7684\\u7528\\u6B66\\u4E4B\\u5730\\uFF01\\u{1F9CA}\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u5783\\u573E\\u56DE\\u6536\\u7684\\u6838\\u5FC3\\u7B97\\u6CD5-\\uFE0F\",children:(0,e.jsx)(n.a,{href:\"#\\u5783\\u573E\\u56DE\\u6536\\u7684\\u6838\\u5FC3\\u7B97\\u6CD5-\\uFE0F\",children:\"\\u5783\\u573E\\u56DE\\u6536\\u7684\\u6838\\u5FC3\\u7B97\\u6CD5 \\u{1F6E0}\\uFE0F\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"JavaScript \\u7684\\u5783\\u573E\\u56DE\\u6536\\u4E3B\\u8981\\u4F9D\\u8D56\\u4E24\\u79CD\\u7ECF\\u5178\\u7B97\\u6CD5\\uFF1A\",(0,e.jsx)(n.strong,{children:\"\\u5F15\\u7528\\u8BA1\\u6570\"}),\"\\u548C\",(0,e.jsx)(n.strong,{children:\"\\u6807\\u8BB0-\\u6E05\\u9664\"}),\"\\u3002\\u73B0\\u4EE3\\u5F15\\u64CE\\uFF08\\u5982 V8\\uFF09\\u8FD8\\u5F15\\u5165\\u4E86\\u4F18\\u5316\\u7B97\\u6CD5\\uFF0C\\u5982\",(0,e.jsx)(n.strong,{children:\"\\u5206\\u4EE3\\u56DE\\u6536\"}),\"\\u548C\",(0,e.jsx)(n.strong,{children:\"\\u589E\\u91CF\\u6807\\u8BB0\"}),\"\\u3002\\u8BA9\\u6211\\u4EEC\\u9010\\u4E00\\u62C6\\u89E3\\u8FD9\\u4E9B\\u7B97\\u6CD5\\uFF0C\\u5E26\\u4F60\\u8D70\\u8FDB GC \\u7684\\u5185\\u6838\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{id:\"1-\\u5F15\\u7528\\u8BA1\\u6570reference-counting\",children:(0,e.jsx)(n.a,{href:\"#1-\\u5F15\\u7528\\u8BA1\\u6570reference-counting\",children:\"1. \\u5F15\\u7528\\u8BA1\\u6570\\uFF08Reference Counting\\uFF09\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5F15\\u7528\\u8BA1\\u6570\\u662F\\u6700\\u65E9\\u7684\\u5783\\u573E\\u56DE\\u6536\\u7B97\\u6CD5\\uFF0C\\u6838\\u5FC3\\u601D\\u60F3\\u662F\\u8DDF\\u8E2A\\u6BCF\\u4E2A\\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\u6570\\u3002\\u5F53\\u5F15\\u7528\\u6570\\u4E3A 0 \\u65F6\\uFF0C\\u5BF9\\u8C61\\u88AB\\u8BA4\\u4E3A\\u662F\\u201C\\u5783\\u573E\\u201D\\uFF0C\\u53EF\\u4EE5\\u56DE\\u6536\\u3002\"}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u5DE5\\u4F5C\\u539F\\u7406\",children:(0,e.jsx)(n.a,{href:\"#\\u5DE5\\u4F5C\\u539F\\u7406\",children:\"\\u5DE5\\u4F5C\\u539F\\u7406\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u6BCF\\u4E2A\\u5BF9\\u8C61\\u90FD\\u6709\\u4E00\\u4E2A\\u5F15\\u7528\\u8BA1\\u6570\\u5668\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5F53\\u5BF9\\u8C61\\u88AB\\u5F15\\u7528\\uFF08\\u6BD4\\u5982\\u8D4B\\u503C\\u7ED9\\u53D8\\u91CF\\u6216\\u4F5C\\u4E3A\\u5C5E\\u6027\\u5B58\\u50A8\\uFF09\\uFF0C\\u8BA1\\u6570\\u5668\\u52A0 1\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5F53\\u5F15\\u7528\\u88AB\\u79FB\\u9664\\uFF08\\u53D8\\u91CF\\u91CD\\u65B0\\u8D4B\\u503C\\u6216\\u4F5C\\u7528\\u57DF\\u9500\\u6BC1\\uFF09\\uFF0C\\u8BA1\\u6570\\u5668\\u51CF 1\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5F53\\u8BA1\\u6570\\u5668\\u4E3A 0 \\u65F6\\uFF0C\\u5BF9\\u8C61\\u88AB\\u56DE\\u6536\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u793A\\u4F8B\\u4EE3\\u7801\",children:(0,e.jsx)(n.a,{href:\"#\\u793A\\u4F8B\\u4EE3\\u7801\",children:\"\\u793A\\u4F8B\\u4EE3\\u7801\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Grok\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// obj \\u5F15\\u7528\\u8BA1\\u6570\\u4E3A 1\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" anotherObj \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5F15\\u7528\\u8BA1\\u6570\\u589E\\u81F3 2\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"obj \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5F15\\u7528\\u8BA1\\u6570\\u51CF\\u81F3 1\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"anotherObj \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5F15\\u7528\\u8BA1\\u6570\\u4E3A 0\\uFF0C\\u5BF9\\u8C61\\u88AB\\u56DE\\u6536\"})]})]})})}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u4F18\\u70B9\",children:(0,e.jsx)(n.a,{href:\"#\\u4F18\\u70B9\",children:\"\\u4F18\\u70B9\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5B9E\\u65F6\\u6027\"}),\"\\uFF1A\\u5783\\u573E\\u53EF\\u4EE5\\u7ACB\\u5373\\u56DE\\u6536\\uFF0C\\u5185\\u5B58\\u91CA\\u653E\\u53CA\\u65F6\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7B80\\u5355\\u6027\"}),\"\\uFF1A\\u7B97\\u6CD5\\u903B\\u8F91\\u76F4\\u89C2\\uFF0C\\u6613\\u4E8E\\u5B9E\\u73B0\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u7F3A\\u70B9\",children:(0,e.jsx)(n.a,{href:\"#\\u7F3A\\u70B9\",children:\"\\u7F3A\\u70B9\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5FAA\\u73AF\\u5F15\\u7528\\u95EE\\u9898\"}),\"\\uFF1A\\u5982\\u679C\\u4E24\\u4E2A\\u5BF9\\u8C61\\u76F8\\u4E92\\u5F15\\u7528\\uFF0C\\u5373\\u4F7F\\u5B83\\u4EEC\\u4E0D\\u518D\\u88AB\\u5916\\u90E8\\u5F15\\u7528\\uFF0C\\u5F15\\u7528\\u8BA1\\u6570\\u4E5F\\u4E0D\\u4F1A\\u5F52\\u96F6\\uFF0C\\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u5FAA\\u73AF\\u5F15\\u7528\\u793A\\u4F8B\",children:(0,e.jsx)(n.a,{href:\"#\\u5FAA\\u73AF\\u5F15\\u7528\\u793A\\u4F8B\",children:\"\\u5FAA\\u73AF\\u5F15\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" createCycle\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj1 \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj2 \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  obj1.ref \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj2; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// obj1 \\u5F15\\u7528 obj2\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  obj2.ref \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj1; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// obj2 \\u5F15\\u7528 obj1\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"createCycle\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5373\\u4F7F\\u51FD\\u6570\\u7ED3\\u675F\\uFF0Cobj1 \\u548C obj2 \\u4ECD\\u76F8\\u4E92\\u5F15\\u7528\\uFF0C\\u65E0\\u6CD5\\u56DE\\u6536\"})]})]})})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u907F\\u514D\\u521B\\u5EFA\\u4E0D\\u5FC5\\u8981\\u7684\\u5FAA\\u73AF\\u5F15\\u7528\\uFF0C\\u5C24\\u5176\\u662F\\u5728\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u6216\\u95ED\\u5305\\u4E2D\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u7C7B\\u6BD4\\u670B\\u53CB\\u5708-\",children:(0,e.jsx)(n.a,{href:\"#\\u7C7B\\u6BD4\\u670B\\u53CB\\u5708-\",children:\"\\u7C7B\\u6BD4\\uFF1A\\u670B\\u53CB\\u5708 \\u{1F465}\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5F15\\u7528\\u8BA1\\u6570\\u5C31\\u50CF\\u670B\\u53CB\\u5708\\u7684\\u70B9\\u8D5E\\u3002\\u5982\\u679C\\u4F60\\u6CA1\\u4EBA\\u70B9\\u8D5E\\uFF08\\u5F15\\u7528\\u8BA1\\u6570\\u4E3A 0\\uFF09\\uFF0C\\u4F60\\u53EF\\u80FD\\u4F1A\\u89C9\\u5F97\\u81EA\\u5DF1\\u201C\\u6CA1\\u7528\\u4E86\\u201D\\uFF08\\u88AB\\u56DE\\u6536\\uFF09\\u3002\\u4F46\\u5982\\u679C\\u4E24\\u4E2A\\u670B\\u53CB\\u4E92\\u76F8\\u70B9\\u8D5E\\uFF0C\\u5373\\u4F7F\\u4ED6\\u4EEC\\u4E0E\\u5916\\u754C\\u5931\\u8054\\uFF0CGC \\u4E5F\\u65E0\\u6CD5\\u6E05\\u7406\\u4ED6\\u4EEC\\u3002\\u8FD9\\u5C31\\u662F\\u5FAA\\u73AF\\u5F15\\u7528\\u7684\\u5C34\\u5C2C\\u5C40\\u9762\\uFF01\\u{1F605}\"}),`\n`,(0,e.jsx)(n.h3,{id:\"2-\\u6807\\u8BB0-\\u6E05\\u9664mark-and-sweep\",children:(0,e.jsx)(n.a,{href:\"#2-\\u6807\\u8BB0-\\u6E05\\u9664mark-and-sweep\",children:\"2. \\u6807\\u8BB0-\\u6E05\\u9664\\uFF08Mark-and-Sweep\\uFF09\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u7531\\u4E8E\\u5F15\\u7528\\u8BA1\\u6570\\u7684\\u5FAA\\u73AF\\u5F15\\u7528\\u95EE\\u9898\\uFF0C\\u73B0\\u4EE3 JavaScript \\u5F15\\u64CE\\uFF08\\u5982 V8\\uFF09\\u4E3B\\u8981\\u4F7F\\u7528\",(0,e.jsx)(n.strong,{children:\"\\u6807\\u8BB0-\\u6E05\\u9664\"}),\"\\u7B97\\u6CD5\\u3002\\u5B83\\u901A\\u8FC7\\u8FFD\\u8E2A\\u5BF9\\u8C61\\u662F\\u5426\\u53EF\\u8FBE\\u6765\\u5224\\u65AD\\u662F\\u5426\\u4E3A\\u5783\\u573E\\u3002\"]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u5DE5\\u4F5C\\u539F\\u7406-1\",children:(0,e.jsx)(n.a,{href:\"#\\u5DE5\\u4F5C\\u539F\\u7406-1\",children:\"\\u5DE5\\u4F5C\\u539F\\u7406\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6807\\u8BB0\\u9636\\u6BB5\"}),\"\\uFF1A\\u4ECE\\u6839\\u5BF9\\u8C61\\uFF08\\u901A\\u5E38\\u662F\\u5168\\u5C40\\u5BF9\\u8C61\\u3001\\u6D3B\\u52A8\\u51FD\\u6570\\u7684\\u5C40\\u90E8\\u53D8\\u91CF\\u7B49\\uFF09\\u5F00\\u59CB\\uFF0C\\u9012\\u5F52\\u904D\\u5386\\u6240\\u6709\\u53EF\\u8FBE\\u5BF9\\u8C61\\uFF0C\\u6807\\u8BB0\\u4E3A\\u201C\\u6D3B\\u8DC3\\u201D\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6E05\\u9664\\u9636\\u6BB5\"}),\"\\uFF1A\\u626B\\u63CF\\u5806\\u5185\\u5B58\\uFF0C\\u56DE\\u6536\\u672A\\u88AB\\u6807\\u8BB0\\u7684\\u5BF9\\u8C61\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u793A\\u4F8B\\u4EE3\\u7801-1\",children:(0,e.jsx)(n.a,{href:\"#\\u793A\\u4F8B\\u4EE3\\u7801-1\",children:\"\\u793A\\u4F8B\\u4EE3\\u7801\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" root \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Grok\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"root.ref \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// obj \\u53EF\\u901A\\u8FC7 root \\u8BBF\\u95EE\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"root.ref \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// obj \\u4E0D\\u518D\\u53EF\\u8FBE\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// GC \\u8FD0\\u884C\\u540E\\uFF0Cobj \\u4F1A\\u88AB\\u6807\\u8BB0\\u4E3A\\u4E0D\\u53EF\\u8FBE\\u5E76\\u56DE\\u6536\"})})]})})}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u4F18\\u70B9-1\",children:(0,e.jsx)(n.a,{href:\"#\\u4F18\\u70B9-1\",children:\"\\u4F18\\u70B9\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u89E3\\u51B3\\u5FAA\\u73AF\\u5F15\\u7528\"}),\"\\uFF1A\\u53EA\\u8981\\u5BF9\\u8C61\\u4E0D\\u53EF\\u8FBE\\uFF0C\\u5373\\u4F7F\\u5B58\\u5728\\u5FAA\\u73AF\\u5F15\\u7528\\uFF0C\\u4E5F\\u4F1A\\u88AB\\u56DE\\u6536\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7075\\u6D3B\\u6027\"}),\"\\uFF1A\\u9002\\u7528\\u4E8E\\u590D\\u6742\\u7684\\u5BF9\\u8C61\\u56FE\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u7F3A\\u70B9-1\",children:(0,e.jsx)(n.a,{href:\"#\\u7F3A\\u70B9-1\",children:\"\\u7F3A\\u70B9\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6682\\u505C\\u6027\"}),\"\\uFF1AGC \\u8FD0\\u884C\\u65F6\\u4F1A\\u6682\\u505C JavaScript \\u6267\\u884C\\uFF08\\u79F0\\u4E3A\\u201CStop-the-World\\u201D\\uFF09\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u9875\\u9762\\u5361\\u987F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u788E\\u7247\\u5316\"}),\"\\uFF1A\\u56DE\\u6536\\u540E\\u7684\\u5185\\u5B58\\u53EF\\u80FD\\u4E0D\\u8FDE\\u7EED\\uFF0C\\u5BFC\\u81F4\\u5206\\u914D\\u5927\\u5BF9\\u8C61\\u65F6\\u6548\\u7387\\u964D\\u4F4E\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u7C7B\\u6BD4\\u5BFB\\u5B9D\\u6E38\\u620F-\\uFE0F\",children:(0,e.jsx)(n.a,{href:\"#\\u7C7B\\u6BD4\\u5BFB\\u5B9D\\u6E38\\u620F-\\uFE0F\",children:\"\\u7C7B\\u6BD4\\uFF1A\\u5BFB\\u5B9D\\u6E38\\u620F \\u{1F5FA}\\uFE0F\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6807\\u8BB0-\\u6E05\\u9664\\u5C31\\u50CF\\u4E00\\u573A\\u5BFB\\u5B9D\\u6E38\\u620F\\u3002GC \\u4ECE\\u8D77\\u70B9\\uFF08\\u6839\\u5BF9\\u8C61\\uFF09\\u51FA\\u53D1\\uFF0C\\u6CBF\\u7740\\u5F15\\u7528\\u8DEF\\u5F84\\u6807\\u8BB0\\u6240\\u6709\\u80FD\\u627E\\u5230\\u7684\\u201C\\u5B9D\\u85CF\\u201D\\uFF08\\u53EF\\u8FBE\\u5BF9\\u8C61\\uFF09\\u3002\\u6700\\u540E\\uFF0C\\u90A3\\u4E9B\\u6CA1\\u88AB\\u6807\\u8BB0\\u7684\\u201C\\u5B64\\u5C9B\\u201D\\u5C31\\u88AB\\u6E05\\u7406\\u6389\\u3002\\u{1F3DD}\\uFE0F\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u5C3D\\u91CF\\u51CF\\u5C11\\u5168\\u5C40\\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\uFF0C\\u4FDD\\u6301\\u5BF9\\u8C61\\u56FE\\u7684\\u7B80\\u6D01\\uFF0C\\u4EE5\\u964D\\u4F4E\\u6807\\u8BB0-\\u6E05\\u9664\\u7684\\u5F00\\u9500\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"3-\\u5206\\u4EE3\\u56DE\\u6536generational-collection\",children:(0,e.jsx)(n.a,{href:\"#3-\\u5206\\u4EE3\\u56DE\\u6536generational-collection\",children:\"3. \\u5206\\u4EE3\\u56DE\\u6536\\uFF08Generational Collection\\uFF09\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"V8 \\u5F15\\u64CE\\u5F15\\u5165\\u4E86\",(0,e.jsx)(n.strong,{children:\"\\u5206\\u4EE3\\u56DE\\u6536\"}),\"\\uFF0C\\u5C06\\u5806\\u5185\\u5B58\\u5206\\u4E3A\",(0,e.jsx)(n.strong,{children:\"\\u65B0\\u751F\\u4EE3\"}),\"\\u548C\",(0,e.jsx)(n.strong,{children:\"\\u8001\\u751F\\u4EE3\"}),\"\\uFF0C\\u6839\\u636E\\u5BF9\\u8C61\\u7684\\u751F\\u547D\\u5468\\u671F\\u91C7\\u53D6\\u4E0D\\u540C\\u7684\\u56DE\\u6536\\u7B56\\u7565\\u3002\\u8FD9\\u79CD\\u65B9\\u6CD5\\u57FA\\u4E8E\\u4E00\\u4E2A\\u89C2\\u5BDF\\uFF1A\",(0,e.jsx)(n.strong,{children:\"\\u5927\\u591A\\u6570\\u5BF9\\u8C61\\u751F\\u547D\\u5468\\u671F\\u5F88\\u77ED\\uFF0C\\u5C11\\u6570\\u5BF9\\u8C61\\u5B58\\u6D3B\\u65F6\\u95F4\\u957F\"}),\"\\u3002\"]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u5DE5\\u4F5C\\u539F\\u7406-2\",children:(0,e.jsx)(n.a,{href:\"#\\u5DE5\\u4F5C\\u539F\\u7406-2\",children:\"\\u5DE5\\u4F5C\\u539F\\u7406\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u65B0\\u751F\\u4EE3\"}),\"\\uFF1A\\u5B58\\u50A8\\u65B0\\u521B\\u5EFA\\u7684\\u5BF9\\u8C61\\uFF0C\\u4F7F\\u7528\\u5FEB\\u901F\\u7684 \",(0,e.jsx)(n.strong,{children:\"Scavenge \\u7B97\\u6CD5\"}),\"\\uFF08\\u57FA\\u4E8E Cheney \\u7B97\\u6CD5\\uFF09\\u8FDB\\u884C\\u56DE\\u6536\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8001\\u751F\\u4EE3\"}),\"\\uFF1A\\u5B58\\u50A8\\u5B58\\u6D3B\\u65F6\\u95F4\\u8F83\\u957F\\u7684\\u5BF9\\u8C61\\uFF0C\\u4F7F\\u7528\\u6807\\u8BB0-\\u6E05\\u9664\\u548C\",(0,e.jsx)(n.strong,{children:\"\\u6807\\u8BB0-\\u538B\\u7F29\"}),\"\\uFF08Mark-Compact\\uFF09\\u7B97\\u6CD5\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u664B\\u5347\"}),\"\\uFF1A\\u65B0\\u751F\\u4EE3\\u5BF9\\u8C61\\u5728\\u591A\\u6B21\\u56DE\\u6536\\u540E\\u4ECD\\u5B58\\u6D3B\\uFF0C\\u4F1A\\u88AB\\u664B\\u5347\\u5230\\u8001\\u751F\\u4EE3\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u65B0\\u751F\\u4EE3\\u4E0E\\u8001\\u751F\\u4EE3\\u7684\\u5BF9\\u6BD4\",children:(0,e.jsx)(n.a,{href:\"#\\u65B0\\u751F\\u4EE3\\u4E0E\\u8001\\u751F\\u4EE3\\u7684\\u5BF9\\u6BD4\",children:\"\\u65B0\\u751F\\u4EE3\\u4E0E\\u8001\\u751F\\u4EE3\\u7684\\u5BF9\\u6BD4\"})}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u7279\\u6027\"}),(0,e.jsx)(n.th,{children:\"\\u65B0\\u751F\\u4EE3\"}),(0,e.jsx)(n.th,{children:\"\\u8001\\u751F\\u4EE3\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"\\u5BF9\\u8C61\\u7C7B\\u578B\"})}),(0,e.jsx)(n.td,{children:\"\\u77ED\\u751F\\u547D\\u5468\\u671F\\u5BF9\\u8C61\\uFF08\\u5982\\u4E34\\u65F6\\u53D8\\u91CF\\uFF09\"}),(0,e.jsx)(n.td,{children:\"\\u957F\\u751F\\u547D\\u5468\\u671F\\u5BF9\\u8C61\\uFF08\\u5982\\u5168\\u5C40\\u5BF9\\u8C61\\uFF09\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"\\u56DE\\u6536\\u7B97\\u6CD5\"})}),(0,e.jsx)(n.td,{children:\"Scavenge\\uFF08\\u590D\\u5236\\u7B97\\u6CD5\\uFF09\"}),(0,e.jsx)(n.td,{children:\"\\u6807\\u8BB0-\\u6E05\\u9664\\u3001\\u6807\\u8BB0-\\u538B\\u7F29\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"\\u5185\\u5B58\\u5927\\u5C0F\"})}),(0,e.jsx)(n.td,{children:\"\\u8F83\\u5C0F\\uFF08\\u901A\\u5E38 1-8MB\\uFF09\"}),(0,e.jsx)(n.td,{children:\"\\u8F83\\u5927\\uFF08\\u901A\\u5E38\\u51E0\\u5341 MB \\u5230 GB\\uFF09\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"\\u56DE\\u6536\\u9891\\u7387\"})}),(0,e.jsx)(n.td,{children:\"\\u9AD8\\uFF08\\u51E0\\u6BEB\\u79D2\\u5230\\u51E0\\u5341\\u6BEB\\u79D2\\uFF09\"}),(0,e.jsx)(n.td,{children:\"\\u4F4E\\uFF08\\u51E0\\u767E\\u6BEB\\u79D2\\u5230\\u79D2\\u7EA7\\uFF09\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"\\u6027\\u80FD\\u7279\\u70B9\"})}),(0,e.jsx)(n.td,{children:\"\\u901F\\u5EA6\\u5FEB\\uFF0C\\u6682\\u505C\\u65F6\\u95F4\\u77ED\"}),(0,e.jsx)(n.td,{children:\"\\u6682\\u505C\\u65F6\\u95F4\\u8F83\\u957F\\uFF0C\\u9002\\u5408\\u5927\\u5BF9\\u8C61\"})]})]})]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u793A\\u4F8B\\u65B0\\u751F\\u4EE3\\u56DE\\u6536\",children:(0,e.jsx)(n.a,{href:\"#\\u793A\\u4F8B\\u65B0\\u751F\\u4EE3\\u56DE\\u6536\",children:\"\\u793A\\u4F8B\\uFF1A\\u65B0\\u751F\\u4EE3\\u56DE\\u6536\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" createTempObjects\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" temp \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { data: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Temporary\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5206\\u914D\\u5230\\u65B0\\u751F\\u4EE3\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  temp \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4E0B\\u6B21\\u65B0\\u751F\\u4EE3 GC \\u65F6\\u56DE\\u6536\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"createTempObjects\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u4F18\\u70B9-2\",children:(0,e.jsx)(n.a,{href:\"#\\u4F18\\u70B9-2\",children:\"\\u4F18\\u70B9\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u9AD8\\u6548\\u6027\"}),\"\\uFF1A\\u65B0\\u751F\\u4EE3\\u56DE\\u6536\\u901F\\u5EA6\\u5FEB\\uFF0C\\u9002\\u5408\\u77ED\\u751F\\u547D\\u5468\\u671F\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F4E\\u6682\\u505C\"}),\"\\uFF1A\\u5C06 GC \\u5206\\u6210\\u5C0F\\u5757\\uFF0C\\u51CF\\u5C11\\u5355\\u6B21\\u6682\\u505C\\u65F6\\u95F4\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u7F3A\\u70B9-2\",children:(0,e.jsx)(n.a,{href:\"#\\u7F3A\\u70B9-2\",children:\"\\u7F3A\\u70B9\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u590D\\u6742\\u6027\"}),\"\\uFF1A\\u5206\\u4EE3\\u7BA1\\u7406\\u548C\\u664B\\u5347\\u673A\\u5236\\u589E\\u52A0\\u4E86\\u5B9E\\u73B0\\u96BE\\u5EA6\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5185\\u5B58\\u788E\\u7247\"}),\"\\uFF1A\\u8001\\u751F\\u4EE3\\u4ECD\\u53EF\\u80FD\\u51FA\\u73B0\\u788E\\u7247\\u5316\\u95EE\\u9898\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u7C7B\\u6BD4\\u5B66\\u6821\\u7BA1\\u7406-\",children:(0,e.jsx)(n.a,{href:\"#\\u7C7B\\u6BD4\\u5B66\\u6821\\u7BA1\\u7406-\",children:\"\\u7C7B\\u6BD4\\uFF1A\\u5B66\\u6821\\u7BA1\\u7406 \\u{1F3EB}\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u65B0\\u751F\\u4EE3\\u5C31\\u50CF\\u5C0F\\u5B66\\uFF0C\\u65B0\\u751F\\u5165\\u5B66\\uFF08\\u5206\\u914D\\u5185\\u5B58\\uFF09\\u5F88\\u5FEB\\uFF0C\\u6BD5\\u4E1A\\uFF08\\u56DE\\u6536\\uFF09\\u4E5F\\u5FEB\\u3002\\u800C\\u8001\\u751F\\u4EE3\\u5C31\\u50CF\\u5927\\u5B66\\uFF0C\\u5B66\\u751F\\uFF08\\u5BF9\\u8C61\\uFF09\\u5F85\\u5F97\\u4E45\\uFF0C\\u7BA1\\u7406\\u66F4\\u590D\\u6742\\u3002\\u5076\\u5C14\\u6709\\u201C\\u5B66\\u9738\\u201D\\u4ECE\\u5C0F\\u5B66\\u664B\\u5347\\u5230\\u5927\\u5B66\\uFF08\\u5BF9\\u8C61\\u664B\\u5347\\uFF09\\uFF0C\\u9700\\u8981\\u7279\\u522B\\u5173\\u6CE8\\u3002\\u{1F393}\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u907F\\u514D\\u9891\\u7E41\\u521B\\u5EFA\\u5927\\u91CF\\u77ED\\u751F\\u547D\\u5468\\u671F\\u5BF9\\u8C61\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u5BF9\\u8C61\\u6C60\\u590D\\u7528\\u5BF9\\u8C61\\u6765\\u51CF\\u5C11\\u65B0\\u751F\\u4EE3 GC \\u538B\\u529B\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"4-\\u589E\\u91CF\\u6807\\u8BB0\\u4E0E\\u60F0\\u6027\\u6E05\\u9664\",children:(0,e.jsx)(n.a,{href:\"#4-\\u589E\\u91CF\\u6807\\u8BB0\\u4E0E\\u60F0\\u6027\\u6E05\\u9664\",children:\"4. \\u589E\\u91CF\\u6807\\u8BB0\\u4E0E\\u60F0\\u6027\\u6E05\\u9664\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E3A\\u4E86\\u51CF\\u5C11\\u201CStop-the-World\\u201D\\u7684\\u6682\\u505C\\u65F6\\u95F4\\uFF0CV8 \\u5F15\\u5165\\u4E86\",(0,e.jsx)(n.strong,{children:\"\\u589E\\u91CF\\u6807\\u8BB0\"}),\"\\u548C\",(0,e.jsx)(n.strong,{children:\"\\u60F0\\u6027\\u6E05\\u9664\"}),\"\\u3002\"]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u589E\\u91CF\\u6807\\u8BB0\",children:(0,e.jsx)(n.a,{href:\"#\\u589E\\u91CF\\u6807\\u8BB0\",children:\"\\u589E\\u91CF\\u6807\\u8BB0\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u5C06\\u6807\\u8BB0\\u9636\\u6BB5\\u62C6\\u5206\\u4E3A\\u591A\\u4E2A\\u5C0F\\u6B65\\u9AA4\\uFF0C\\u4E0E JavaScript \\u4E3B\\u7EBF\\u7A0B\\u4EA4\\u66FF\\u6267\\u884C\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u6BCF\\u6B21\\u53EA\\u6807\\u8BB0\\u4E00\\u90E8\\u5206\\u5BF9\\u8C61\\uFF0C\\u51CF\\u5C11\\u5355\\u6B21\\u6682\\u505C\\u65F6\\u95F4\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u60F0\\u6027\\u6E05\\u9664\",children:(0,e.jsx)(n.a,{href:\"#\\u60F0\\u6027\\u6E05\\u9664\",children:\"\\u60F0\\u6027\\u6E05\\u9664\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u6E05\\u9664\\u9636\\u6BB5\\u4E0D\\u4E00\\u6B21\\u6027\\u5B8C\\u6210\\uFF0C\\u800C\\u662F\\u6309\\u9700\\u5EF6\\u8FDF\\u6267\\u884C\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5F53\\u5185\\u5B58\\u5206\\u914D\\u9700\\u6C42\\u589E\\u52A0\\u65F6\\uFF0C\\u9010\\u6B65\\u91CA\\u653E\\u5185\\u5B58\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u4F18\\u70B9-3\",children:(0,e.jsx)(n.a,{href:\"#\\u4F18\\u70B9-3\",children:\"\\u4F18\\u70B9\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F4E\\u5EF6\\u8FDF\"}),\"\\uFF1A\\u51CF\\u5C11\\u9875\\u9762\\u5361\\u987F\\uFF0C\\u9002\\u5408\\u5B9E\\u65F6\\u6027\\u8981\\u6C42\\u9AD8\\u7684\\u5E94\\u7528\\uFF08\\u5982\\u6E38\\u620F\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5E73\\u6ED1\\u6027\"}),\"\\uFF1AGC \\u4E0E\\u4E3B\\u7EBF\\u7A0B\\u534F\\u4F5C\\u66F4\\u987A\\u7545\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u7C7B\\u6BD4\\u6253\\u626B\\u623F\\u95F4-\",children:(0,e.jsx)(n.a,{href:\"#\\u7C7B\\u6BD4\\u6253\\u626B\\u623F\\u95F4-\",children:\"\\u7C7B\\u6BD4\\uFF1A\\u6253\\u626B\\u623F\\u95F4 \\u{1F9F9}\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u589E\\u91CF\\u6807\\u8BB0\\u5C31\\u50CF\\u4F60\\u4E00\\u8FB9\\u770B\\u5267\\u4E00\\u8FB9\\u6253\\u626B\\u623F\\u95F4\\uFF0C\\u6BCF\\u6B21\\u53EA\\u6536\\u62FE\\u4E00\\u5C0F\\u5757\\u3002\\u60F0\\u6027\\u6E05\\u9664\\u5219\\u662F\\u7B49\\u670B\\u53CB\\u6765\\u5BB6\\u91CC\\u65F6\\uFF0C\\u518D\\u628A\\u5783\\u573E\\u4E00\\u70B9\\u70B9\\u6254\\u6389\\u3002\\u65E2\\u4E0D\\u7D2F\\uFF0C\\u53C8\\u4E0D\\u5F71\\u54CD\\u5FC3\\u60C5\\uFF01\\u{1F60E}\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u5728\\u9AD8\\u6027\\u80FD\\u573A\\u666F\\u4E0B\\uFF0C\\u5C3D\\u91CF\\u907F\\u514D\\u5728\\u5173\\u952E\\u5E27\\uFF08\\u5982\\u52A8\\u753B\\u5FAA\\u73AF\\uFF09\\u4E2D\\u521B\\u5EFA\\u5927\\u91CF\\u5BF9\\u8C61\\uFF0C\\u4EE5\\u51CF\\u5C11\\u589E\\u91CF\\u6807\\u8BB0\\u7684\\u5E72\\u6270\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"v8-\\u5F15\\u64CE\\u7684\\u5783\\u573E\\u56DE\\u6536\\u4F18\\u5316-\",children:(0,e.jsx)(n.a,{href:\"#v8-\\u5F15\\u64CE\\u7684\\u5783\\u573E\\u56DE\\u6536\\u4F18\\u5316-\",children:\"V8 \\u5F15\\u64CE\\u7684\\u5783\\u573E\\u56DE\\u6536\\u4F18\\u5316 \\u{1F680}\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4F5C\\u4E3A Chrome \\u548C Node.js \\u7684\\u6838\\u5FC3\\uFF0CV8 \\u5F15\\u64CE\\u5728\\u5783\\u573E\\u56DE\\u6536\\u65B9\\u9762\\u8FDB\\u884C\\u4E86\\u5927\\u91CF\\u4F18\\u5316\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5173\\u952E\\u6280\\u672F\\uFF1A\"}),`\n`,(0,e.jsx)(n.h3,{id:\"1-orinoco-\\u9879\\u76EE\",children:(0,e.jsx)(n.a,{href:\"#1-orinoco-\\u9879\\u76EE\",children:\"1. Orinoco \\u9879\\u76EE\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Orinoco \\u662F V8 \\u7684\\u5783\\u573E\\u56DE\\u6536\\u5668\\u4EE3\\u53F7\\uFF0C\\u4E13\\u6CE8\\u4E8E\\u4F4E\\u5EF6\\u8FDF\\u548C\\u9AD8\\u541E\\u5410\\u91CF\\u3002\\u5B83\\u5F15\\u5165\\u4E86\",(0,e.jsx)(n.strong,{children:\"\\u5E76\\u884C GC\"}),\"\\u3001\",(0,e.jsx)(n.strong,{children:\"\\u5E76\\u53D1 GC\"}),\"\\u548C\",(0,e.jsx)(n.strong,{children:\"\\u538B\\u7F29 GC\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5E76\\u884C GC\"}),\"\\uFF1A\\u5229\\u7528\\u591A\\u7EBF\\u7A0B\\u5E76\\u884C\\u6267\\u884C\\u6807\\u8BB0\\u548C\\u6E05\\u9664\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5E76\\u53D1 GC\"}),\"\\uFF1AGC \\u5728\\u540E\\u53F0\\u7EBF\\u7A0B\\u8FD0\\u884C\\uFF0C\\u4E0E\\u4E3B\\u7EBF\\u7A0B\\u540C\\u65F6\\u8FDB\\u884C\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u538B\\u7F29 GC\"}),\"\\uFF1A\\u6574\\u7406\\u5185\\u5B58\\u788E\\u7247\\uFF0C\\u4F18\\u5316\\u5927\\u5BF9\\u8C61\\u5206\\u914D\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"2-\\u5199\\u5C4F\\u969Cwrite-barrier\",children:(0,e.jsx)(n.a,{href:\"#2-\\u5199\\u5C4F\\u969Cwrite-barrier\",children:\"2. \\u5199\\u5C4F\\u969C\\uFF08Write Barrier\\uFF09\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u8DDF\\u8E2A\\u65B0\\u751F\\u4EE3\\u548C\\u8001\\u751F\\u4EE3\\u4E4B\\u95F4\\u7684\\u5F15\\u7528\\uFF0CV8 \\u4F7F\\u7528\\u5199\\u5C4F\\u969C\\u3002\\u5F53\\u8001\\u751F\\u4EE3\\u5BF9\\u8C61\\u5F15\\u7528\\u65B0\\u751F\\u4EE3\\u5BF9\\u8C61\\u65F6\\uFF0C\\u5199\\u5C4F\\u969C\\u4F1A\\u8BB0\\u5F55\\u8FD9\\u79CD\\u8DE8\\u4EE3\\u5F15\\u7528\\uFF0C\\u786E\\u4FDD GC \\u4E0D\\u4F1A\\u9519\\u8BEF\\u56DE\\u6536\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"3-\\u9003\\u9038\\u5206\\u6790\",children:(0,e.jsx)(n.a,{href:\"#3-\\u9003\\u9038\\u5206\\u6790\",children:\"3. \\u9003\\u9038\\u5206\\u6790\"})}),`\n`,(0,e.jsx)(n.p,{children:\"V8 \\u4F1A\\u5206\\u6790\\u5BF9\\u8C61\\u662F\\u5426\\u201C\\u9003\\u9038\\u201D\\u51FA\\u51FD\\u6570\\u4F5C\\u7528\\u57DF\\u3002\\u5982\\u679C\\u5BF9\\u8C61\\u4EC5\\u5728\\u51FD\\u6570\\u5185\\u4F7F\\u7528\\uFF0C\\u53EF\\u80FD\\u4F1A\\u76F4\\u63A5\\u5206\\u914D\\u5230\\u6808\\u4E0A\\uFF0C\\u51CF\\u5C11\\u5806\\u7684\\u538B\\u529B\\u3002\"}),`\n`,(0,e.jsx)(n.h4,{id:\"\\u793A\\u4F8B\\u9003\\u9038\\u5206\\u6790\",children:(0,e.jsx)(n.a,{href:\"#\\u793A\\u4F8B\\u9003\\u9038\\u5206\\u6790\",children:\"\\u793A\\u4F8B\\uFF1A\\u9003\\u9038\\u5206\\u6790\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" noEscape\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { data: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Local\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4E0D\\u4F1A\\u9003\\u9038\\uFF0C\\u53EF\\u80FD\\u5206\\u914D\\u5230\\u6808\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj.data;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" escape\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { data: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Global\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u9003\\u9038\\u5230\\u5168\\u5C40\\uFF0C\\u5206\\u914D\\u5230\\u5806\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" obj;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u5C3D\\u91CF\\u8BA9\\u5BF9\\u8C61\\u4FDD\\u6301\\u5C40\\u90E8\\u4F5C\\u7528\\u57DF\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u5168\\u5C40\\u5F15\\u7528\\uFF0C\\u63D0\\u5347\\u9003\\u9038\\u5206\\u6790\\u7684\\u4F18\\u5316\\u6548\\u679C\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u5783\\u573E\\u56DE\\u6536\\u7684\\u6027\\u80FD\\u5F71\\u54CD-\\uFE0F\",children:(0,e.jsx)(n.a,{href:\"#\\u5783\\u573E\\u56DE\\u6536\\u7684\\u6027\\u80FD\\u5F71\\u54CD-\\uFE0F\",children:\"\\u5783\\u573E\\u56DE\\u6536\\u7684\\u6027\\u80FD\\u5F71\\u54CD \\u26A1\\uFE0F\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5C3D\\u7BA1 GC \\u662F\\u81EA\\u52A8\\u7684\\uFF0C\\u4F46\\u5B83\\u7684\\u8FD0\\u884C\\u4F1A\\u5BF9\\u6027\\u80FD\\u4EA7\\u751F\\u663E\\u8457\\u5F71\\u54CD\\uFF0C\\u5C24\\u5176\\u662F\\u5728\\u4EE5\\u4E0B\\u573A\\u666F\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u9AD8\\u9891\\u5BF9\\u8C61\\u5206\\u914D\"}),\"\\uFF1A\\u9891\\u7E41\\u521B\\u5EFA\\u548C\\u9500\\u6BC1\\u5BF9\\u8C61\\u4F1A\\u89E6\\u53D1\\u65B0\\u751F\\u4EE3 GC\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u590D\\u6742\\u5BF9\\u8C61\\u56FE\"}),\"\\uFF1A\\u5927\\u91CF\\u5F15\\u7528\\u5173\\u7CFB\\u589E\\u52A0\\u6807\\u8BB0-\\u6E05\\u9664\\u7684\\u5F00\\u9500\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\"}),\"\\uFF1A\\u672A\\u91CA\\u653E\\u7684\\u5F15\\u7528\\u5BFC\\u81F4\\u5185\\u5B58\\u5360\\u7528\\u6301\\u7EED\\u589E\\u957F\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u6027\\u80FD\\u74F6\\u9888\\u793A\\u4F8B\",children:(0,e.jsx)(n.a,{href:\"#\\u6027\\u80FD\\u74F6\\u9888\\u793A\\u4F8B\",children:\"\\u6027\\u80FD\\u74F6\\u9888\\u793A\\u4F8B\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" leakyFunction\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" cache \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    cache.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6301\\u7EED\\u589E\\u52A0\\u5185\\u5B58\\u5360\\u7528\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" leak \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" leakyFunction\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"setInterval\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(leak, \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5185\\u5B58\\u6CC4\\u6F0F\\uFF01\"})]})]})})}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u5982\\u4F55\\u76D1\\u63A7-gc-\\u6027\\u80FD\",children:(0,e.jsx)(n.a,{href:\"#\\u5982\\u4F55\\u76D1\\u63A7-gc-\\u6027\\u80FD\",children:\"\\u5982\\u4F55\\u76D1\\u63A7 GC \\u6027\\u80FD\\uFF1F\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Chrome DevTools\"}),\"\\uFF1A\\u4F7F\\u7528 Performance \\u9762\\u677F\\u67E5\\u770B GC \\u4E8B\\u4EF6\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Node.js\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"process.memoryUsage()\"})})})}),\" \\u76D1\\u63A7\\u5185\\u5B58\\u5360\\u7528\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"V8 \\u6807\\u5FD7\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"--trace-gc\"})})})}),\" \\u67E5\\u770B\\u8BE6\\u7EC6 GC \\u65E5\\u5FD7\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E-gc-\\u548C\\u7766\\u76F8\\u5904-\",children:(0,e.jsx)(n.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E-gc-\\u548C\\u7766\\u76F8\\u5904-\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u4E0E GC \\u548C\\u7766\\u76F8\\u5904 \\u{1F31F}\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E3A\\u4E86\\u8BA9 GC \\u6210\\u4E3A\\u4F60\\u7684\\u76DF\\u53CB\\uFF0C\\u800C\\u4E0D\\u662F\\u654C\\u4EBA\\uFF0C\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5B9E\\u7528\\u7684\\u4F18\\u5316\\u6280\\u5DE7\\u3002\\u6BCF\\u6761\\u90FD\\u9644\\u5E26\\u4E00\\u4E2A \",(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\"}),\"\\uFF0C\\u52A9\\u4F60\\u4E8B\\u534A\\u529F\\u500D\\uFF01\"]}),`\n`,(0,e.jsx)(n.h3,{id:\"1-\\u51CF\\u5C11\\u5BF9\\u8C61\\u5206\\u914D\",children:(0,e.jsx)(n.a,{href:\"#1-\\u51CF\\u5C11\\u5BF9\\u8C61\\u5206\\u914D\",children:\"1. \\u51CF\\u5C11\\u5BF9\\u8C61\\u5206\\u914D\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5C3D\\u91CF\\u590D\\u7528\\u5BF9\\u8C61\\uFF0C\\u51CF\\u5C11\\u65B0\\u751F\\u4EE3 GC \\u538B\\u529B\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u574F\\u505A\\u6CD5\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" createPoint\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { x: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", y: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF\\u6B21\\u521B\\u5EFA\\u65B0\\u5BF9\\u8C61\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u597D\\u505A\\u6CD5\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" point\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { x: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", y: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" reusePoint\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  point.x \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  point.y \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" point;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u4F7F\\u7528\\u5BF9\\u8C61\\u6C60\\u6216\\u7F13\\u5B58\\u673A\\u5236\\uFF0C\\u590D\\u7528\\u9AD8\\u9891\\u521B\\u5EFA\\u7684\\u5BF9\\u8C61\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"2-\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\",children:(0,e.jsx)(n.a,{href:\"#2-\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\",children:\"2. \\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u53CA\\u65F6\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u3001\\u5B9A\\u65F6\\u5668\\u548C\\u5168\\u5C40\\u53D8\\u91CF\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" addListener\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" button\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"#btn\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  button.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"click\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Clicked\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6E05\\u7406\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" removeListener\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  button.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"removeEventListener\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"click\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u5728\\u7EC4\\u4EF6\\u9500\\u6BC1\\u65F6\\uFF0C\\u59CB\\u7EC8\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u548C\\u5B9A\\u65F6\\u5668\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"3-\\u4F18\\u5316\\u95ED\\u5305\",children:(0,e.jsx)(n.a,{href:\"#3-\\u4F18\\u5316\\u95ED\\u5305\",children:\"3. \\u4F18\\u5316\\u95ED\\u5305\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u95ED\\u5305\\u53EF\\u80FD\\u5BFC\\u81F4\\u610F\\u5916\\u7684\\u5F15\\u7528\\u4FDD\\u7559\\uFF0C\\u589E\\u52A0 GC \\u8D1F\\u62C5\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" createCounter\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" count \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" count\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// count \\u88AB\\u95ED\\u5305\\u4FDD\\u7559\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u5FC5\\u8981\\u65F6\\u624B\\u52A8\\u5C06\\u95ED\\u5305\\u53D8\\u91CF\\u7F6E\\u4E3A null\\uFF0C\\u91CA\\u653E\\u5185\\u5B58\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"4-\\u4F7F\\u7528-weakmap-\\u548C-weakset\",children:(0,e.jsx)(n.a,{href:\"#4-\\u4F7F\\u7528-weakmap-\\u548C-weakset\",children:\"4. \\u4F7F\\u7528 WeakMap \\u548C WeakSet\"})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"WeakMap\"})})})}),\" \\u548C \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"WeakSet\"})})})}),\" \\u7684\\u952E\\u662F\\u5F31\\u5F15\\u7528\\uFF0C\\u5141\\u8BB8 GC \\u56DE\\u6536\\u4E0D\\u518D\\u9700\\u8981\\u7684\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" weakCache\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" WeakMap\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" cacheObject\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"obj\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"weakCache.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"has\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(obj)) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    weakCache.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(obj, \"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"computeExpensiveValue\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" weakCache.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(obj);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u5728\\u7F13\\u5B58\\u573A\\u666F\\u4E2D\\uFF0C\\u4F18\\u5148\\u4F7F\\u7528 WeakMap \\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"5-\\u51CF\\u5C11\\u5168\\u5C40\\u5BF9\\u8C61\",children:(0,e.jsx)(n.a,{href:\"#5-\\u51CF\\u5C11\\u5168\\u5C40\\u5BF9\\u8C61\",children:\"5. \\u51CF\\u5C11\\u5168\\u5C40\\u5BF9\\u8C61\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5168\\u5C40\\u5BF9\\u8C61\\u662F GC \\u7684\\u201C\\u5E38\\u9A7B\\u5C45\\u6C11\\u201D\\uFF0C\\u5C3D\\u91CF\\u51CF\\u5C11\\u5176\\u4F7F\\u7528\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u574F\\u505A\\u6CD5\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"window.myData \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { large: \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1000000\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") };\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u597D\\u505A\\u6CD5\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" processData\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" data \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { large: \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1000000\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") };\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u4F7F\\u7528\\u540E data \\u4F1A\\u88AB\\u56DE\\u6536\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"\\u5C0F Tips\\uFF1A\\u5C06\\u6570\\u636E\\u5C01\\u88C5\\u5728\\u51FD\\u6570\\u6216\\u6A21\\u5757\\u4E2D\\uFF0C\\u907F\\u514D\\u6C61\\u67D3\\u5168\\u5C40\\u4F5C\\u7528\\u57DF\\u3002\"})}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F-\",children:(0,e.jsx)(n.a,{href:\"#\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F-\",children:\"\\u8BBE\\u8BA1\\u54F2\\u5B66\\u4E0E\\u611F\\u609F \\u{1F30C}\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5783\\u573E\\u56DE\\u6536\\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u95EE\\u9898\\uFF0C\\u4E5F\\u662F\\u8BBE\\u8BA1\\u54F2\\u5B66\\u7684\\u4F53\\u73B0\\u3002GC \\u7684\\u5B58\\u5728\\uFF0C\\u8BA9\\u6211\\u4EEC\\u4ECE\\u7E41\\u7410\\u7684\\u5185\\u5B58\\u7BA1\\u7406\\u4E2D\\u89E3\\u653E\\u51FA\\u6765\\uFF0C\\u4F46\\u5B83\\u4E5F\\u63D0\\u9192\\u6211\\u4EEC\\uFF1A\",(0,e.jsx)(n.strong,{children:\"\\u81EA\\u7531\\u7684\\u80CC\\u540E\\u9700\\u8981\\u81EA\\u5F8B\"}),\"\\u3002\\u4F5C\\u4E3A\\u5F00\\u53D1\\u8005\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u4E0E GC \\u5EFA\\u7ACB\\u4E00\\u79CD\\u201C\\u9ED8\\u5951\\u201D\\uFF0C\\u901A\\u8FC7\\u4F18\\u96C5\\u7684\\u4EE3\\u7801\\u8BBE\\u8BA1\\uFF0C\\u51CF\\u5C11\\u5B83\\u7684\\u8D1F\\u62C5\\u3002\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u201C\\u597D\\u7684\\u4EE3\\u7801\\u5C31\\u50CF\\u4E00\\u9996\\u8BD7\\uFF0C\\u7B80\\u6D01\\u3001\\u4F18\\u96C5\\uFF0C\\u4E14\\u4E0D\\u6D6A\\u8D39\\u4E00\\u5B57\\u8282\\u5185\\u5B58\\u3002\\u201D \\u2014\\u2014 \\u6539\\u7F16\\u81EA Robert C. Martin\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u5B66\\u4E60 GC \\u7684\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u6211\\u6DF1\\u523B\\u4F53\\u4F1A\\u5230\",(0,e.jsx)(n.strong,{children:\"\\u6743\\u8861\"}),\"\\u7684\\u91CD\\u8981\\u6027\\u3002GC \\u7684\\u6BCF\\u4E00\\u79CD\\u7B97\\u6CD5\\uFF08\\u5F15\\u7528\\u8BA1\\u6570\\u3001\\u6807\\u8BB0-\\u6E05\\u9664\\u3001\\u5206\\u4EE3\\u56DE\\u6536\\uFF09\\u90FD\\u4E0D\\u662F\\u5B8C\\u7F8E\\u7684\\uFF0C\\u5B83\\u4EEC\\u5728\\u6027\\u80FD\\u3001\\u5EF6\\u8FDF\\u548C\\u590D\\u6742\\u6027\\u4E4B\\u95F4\\u5BFB\\u627E\\u5E73\\u8861\\u3002\\u8FD9\\u8BA9\\u6211\\u60F3\\u5230\\u751F\\u6D3B\\u4E2D\\u7684\\u8BB8\\u591A\\u573A\\u666F\\uFF1A\\u6211\\u4EEC\\u8FFD\\u6C42\\u9AD8\\u6548\\uFF0C\\u4F46\\u4E5F\\u9700\\u8981\\u7559\\u767D\\uFF1B\\u6211\\u4EEC\\u8FFD\\u6C42\\u81EA\\u7531\\uFF0C\\u4F46\\u4E5F\\u9700\\u8981\\u89C4\\u5219\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"GC \\u8FD8\\u8BA9\\u6211\\u5B66\\u4F1A\\u4E86\",(0,e.jsx)(n.strong,{children:\"\\u5C0A\\u91CD\\u5E95\\u5C42\"}),\"\\u3002\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u5F80\\u5F80\\u4E13\\u6CE8\\u4E8E UI \\u548C\\u4E1A\\u52A1\\u903B\\u8F91\\uFF0C\\u4F46\\u4E86\\u89E3\\u5F15\\u64CE\\u7684\\u8FD0\\u4F5C\\uFF0C\\u80FD\\u8BA9\\u6211\\u4EEC\\u66F4\\u5168\\u9762\\u5730\\u601D\\u8003\\u95EE\\u9898\\u3002\\u6B63\\u5982\\u300A\\u9ED1\\u5BA2\\u4E0E\\u753B\\u5BB6\\u300B\\u4E2D\\u6240\\u8BF4\\uFF1A\\u201C\\u7F16\\u7A0B\\u662F\\u4E00\\u79CD\\u827A\\u672F\\uFF0C\\u4F46\\u827A\\u672F\\u7684\\u80CC\\u540E\\u662F\\u79D1\\u5B66\\u3002\\u201D \\u901A\\u8FC7\\u7406\\u89E3 GC\\uFF0C\\u6211\\u4EEC\\u4E0D\\u4EC5\\u80FD\\u5199\\u51FA\\u66F4\\u597D\\u7684\\u4EE3\\u7801\\uFF0C\\u8FD8\\u80FD\\u57F9\\u517B\\u4E00\\u79CD\\u5BF9\\u6280\\u672F\\u7684\\u656C\\u754F\\u4E0E\\u597D\\u5947\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u7ED3\\u8BED\\u6210\\u4E3A\\u5185\\u5B58\\u7684\\u4E3B\\u4EBA-\",children:(0,e.jsx)(n.a,{href:\"#\\u7ED3\\u8BED\\u6210\\u4E3A\\u5185\\u5B58\\u7684\\u4E3B\\u4EBA-\",children:\"\\u7ED3\\u8BED\\uFF1A\\u6210\\u4E3A\\u5185\\u5B58\\u7684\\u4E3B\\u4EBA \\u{1F3C6}\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5783\\u573E\\u56DE\\u6536\\u662F JavaScript \\u7684\\u5E55\\u540E\\u82F1\\u96C4\\uFF0C\\u5B83\\u8BA9\\u6211\\u4EEC\\u7684\\u4EE3\\u7801\\u66F4\\u4F18\\u96C5\\uFF0C\\u8BA9\\u5E94\\u7528\\u66F4\\u5065\\u58EE\\u3002\\u901A\\u8FC7\\u6DF1\\u5165\\u7406\\u89E3 GC \\u7684\\u539F\\u7406\\u3001\\u7B97\\u6CD5\\u548C\\u4F18\\u5316\\u6280\\u5DE7\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u66F4\\u597D\\u5730\\u9A7E\\u9A6D\\u5185\\u5B58\\uFF0C\\u7F16\\u5199\\u9AD8\\u6027\\u80FD\\u7684\\u4EE3\\u7801\\u3002\\u65E0\\u8BBA\\u662F\\u51CF\\u5C11\\u5BF9\\u8C61\\u5206\\u914D\\u3001\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\uFF0C\\u8FD8\\u662F\\u5229\\u7528 WeakMap \\u548C\\u5206\\u4EE3\\u56DE\\u6536\\u7684\\u7279\\u6027\\uFF0C\\u6BCF\\u4E00\\u4E2A\\u5C0F\\u5C0F\\u7684\\u4F18\\u5316\\uFF0C\\u90FD\\u662F\\u5BF9\\u6280\\u672F\\u7684\\u4E00\\u4EFD\\u5C0A\\u91CD\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u535A\\u5BA2\\u80FD\\u4E3A\\u4F60\\u6253\\u5F00 JavaScript \\u5783\\u573E\\u56DE\\u6536\\u7684\\u5927\\u95E8\\u3002\\u613F\\u4F60\\u5728\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u65C5\\u9014\\u4E2D\\uFF0C\\u4E0E GC \\u548C\\u7766\\u76F8\\u5904\\uFF0C\\u5199\\u51FA\\u66F4\\u4F18\\u96C5\\u7684\\u4EE3\\u7801\\uFF01\\u{1F4BB}\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u201C\\u5185\\u5B58\\u6709\\u9650\\uFF0C\\u667A\\u6167\\u65E0\\u9650\\u3002\\u8BA9\\u6211\\u4EEC\\u7528\\u4EE3\\u7801\\uFF0C\\u4E66\\u5199\\u5C5E\\u4E8E\\u81EA\\u5DF1\\u7684\\u4F20\\u5947\\u3002\\u201D \\u2014\\u2014 \\u6653\\u9F99\"}),`\n`]}),`\n`,(0,e.jsx)(n.hr,{})]})}function s(l={}){let{wrapper:n}=l.components||{};return n?(0,e.jsx)(n,{...l,children:(0,e.jsx)(o,{...l})}):o(l)}return m(C);})();\n;return Component;"
  },
  "_id": "JavaScript/æ·±å…¥ç†è§£JavaScriptçš„GCæœºåˆ¶.mdx",
  "_raw": {
    "sourceFilePath": "JavaScript/æ·±å…¥ç†è§£JavaScriptçš„GCæœºåˆ¶.mdx",
    "sourceFileName": "æ·±å…¥ç†è§£JavaScriptçš„GCæœºåˆ¶.mdx",
    "sourceFileDir": "JavaScript",
    "contentType": "mdx",
    "flattenedPath": "JavaScript/æ·±å…¥ç†è§£JavaScriptçš„GCæœºåˆ¶"
  },
  "type": "Post",
  "url": "/blog/JavaScript/æ·±å…¥ç†è§£JavaScriptçš„GCæœºåˆ¶"
}
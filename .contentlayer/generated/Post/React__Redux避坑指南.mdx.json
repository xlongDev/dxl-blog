{
  "title": "Redux 避坑指南",
  "date": "2024-10-06T00:00:00.000Z",
  "description": "从源码角度深度解析 Redux 的使用误区与最佳实践，涵盖常见问题、性能优化及调试技巧，带你避开 Redux 开发的坑。",
  "keywords": "Redux, React, 状态管理, 前端开发, 源码解析, 性能优化, 中间件, Redux Toolkit",
  "author": "晓龙",
  "image": "/images/hero/redux-guide.jpg",
  "tags": [
    "Redux",
    "React",
    "状态管理",
    "前端开发"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\nRedux 作为 React 生态中最经典的状态管理库之一，以其单向数据流和可预测性赢得了无数开发者的青睐。然而，Redux 的灵活性也是一把双刃剑——用得好，它能让状态管理井井有条；用得不好，则可能导致代码臃肿、性能瓶颈，甚至让人怀疑人生。本文将从 Redux 的核心原理和源码出发，结合实际案例，带你全面剖析 Redux 使用中的“坑”，并给出切实可行的避坑方案。\n\n## Redux 核心原理回顾\n\n在进入避坑指南之前，我们先快速回顾一下 Redux 的核心原理，这对理解后续内容至关重要。Redux 的三大支柱是：\n\n1. **单一数据源（Single Source of Truth）**：整个应用的状态存储在一个全局的 `state` 对象中。\n2. **状态只读（State is Read-Only）**：只能通过派发 `action` 来修改状态。\n3. **纯函数更新（Changes are Made with Pure Reducers）**：`reducer` 是一个纯函数，接收旧状态和 `action`，返回新状态。\n\n源码层面，Redux 的核心逻辑非常精简。以 `createStore` 函数为例（简化版）：\n\n```javascript\nfunction createStore(reducer, preloadedState) {\n  let state = preloadedState;\n  let listeners = [];\n\n  function getState() {\n    return state;\n  }\n\n  function dispatch(action) {\n    state = reducer(state, action);\n    listeners.forEach(listener => listener());\n  }\n\n  function subscribe(listener) {\n    listeners.push(listener);\n    return () => {\n      listeners = listeners.filter(l => l !== listener);\n    };\n  }\n\n  dispatch({ type: '@@redux/INIT' });\n  return { getState, dispatch, subscribe };\n}\n```\n\n这个简化的实现已经包含了 Redux 的基本功能：状态存储、状态更新、订阅通知。理解这些原理后，我们再来看看实际开发中容易踩的坑。\n\n## 常见坑点与解决方案\n\n### 1. 状态设计过于扁平或过于嵌套\n\n#### 问题描述\nRedux 要求状态存储在单一对象中，但开发者在设计 `state` 结构时往往走极端：要么过于扁平，导致大量无关组件重新渲染；要么嵌套过深，导致操作复杂度和维护成本飙升。\n\n#### 示例\n假设我们要管理一个电商应用的购物车状态：\n\n过于扁平：\n```javascript\nconst initialState = {\n  cartItem1Id: 1,\n  cartItem1Name: '商品A',\n  cartItem1Price: 100,\n  cartItem2Id: 2,\n  cartItem2Name: '商品B',\n  cartItem2Price: 200,\n};\n```\n\n过于嵌套：\n```javascript\nconst initialState = {\n  cart: {\n    items: {\n      data: {\n        list: [\n          { id: 1, details: { name: '商品A', price: 100 } },\n          { id: 2, details: { name: '商品B', price: 200 } },\n        ],\n      },\n    },\n  },\n};\n```\n\n#### 源码分析\nRedux 的 `combineReducers` 函数会将状态按键分割管理，但它并不关心嵌套深度。例如：\n\n```javascript\nfunction combineReducers(reducers) {\n  return function combination(state = {}, action) {\n    return Object.keys(reducers).reduce((nextState, key) => {\n      nextState[key] = reducers[key](state[key], action);\n      return nextState;\n    }, {});\n  };\n}\n```\n\n这意味着状态的结构完全由开发者控制，Redux 不会自动优化。\n\n#### 解决方案\n推荐采用适度嵌套的规范化状态设计。例如：\n```javascript\nconst initialState = {\n  cart: {\n    items: [\n      { id: 1, name: '商品A', price: 100 },\n      { id: 2, name: '商品B', price: 200 },\n    ],\n  },\n};\n```\n\n结合 `normalizr` 或手动规范化，可以进一步优化为：\n```javascript\nconst initialState = {\n  cart: {\n    itemIds: [1, 2],\n    itemsById: {\n      1: { id: 1, name: '商品A', price: 100 },\n      2: { id: 2, name: '商品B', price: 200 },\n    },\n  },\n};\n```\n\n这种结构既清晰，又便于扩展，同时减少了组件的冗余渲染。\n\n### 2. 频繁触发无意义的渲染\n\n#### 问题描述\n在 React-Redux 中，`connect` 或 `useSelector` 会订阅 Redux 状态的变化，但如果选择器（selector）返回的对象引用频繁变化，即使数据内容没变，也会导致组件重新渲染。\n\n#### 示例\n```javascript\nconst MyComponent = () => {\n  const data = useSelector(state => state.user); // 每次都返回新对象\n  return <div>{data.name}</div>;\n};\n```\n\n假设 `user` reducer 是：\n```javascript\nconst userReducer = (state = { name: 'Alice' }, action) => {\n  switch (action.type) {\n    case 'UPDATE_NAME':\n      return { ...state, name: action.payload };\n    default:\n      return state; // 直接返回原对象\n  }\n};\n```\n\n即使 `state` 没变，`useSelector` 的浅比较可能因为引用不同而触发渲染。\n\n#### 源码分析\n`useSelector` 内部使用 `useReducer` 和 `useRef` 实现状态订阅，其核心逻辑是比较选择器返回值的引用：\n```javascript\nfunction useSelector(selector) {\n  const [, forceRender] = useReducer(s => s + 1, 0);\n  const store = useReduxContext().store;\n  const lastResult = useRef();\n\n  const result = selector(store.getState());\n  if (!Object.is(result, lastResult.current)) {\n    lastResult.current = result;\n    forceRender();\n  }\n  return result;\n}\n```\n\n#### 解决方案\n1. **使用 `reselect` 创建记忆化选择器**：\n```javascript\nimport { createSelector } from 'reselect';\n\nconst selectUser = state => state.user;\nconst selectUserName = createSelector(\n  [selectUser],\n  user => user.name\n);\n\nconst MyComponent = () => {\n  const name = useSelector(selectUserName); // 仅在 name 变化时更新\n  return <div>{name}</div>;\n};\n```\n\n2. **确保 reducer 返回引用不变的对象**：\n```javascript\nconst userReducer = (state = { name: 'Alice' }, action) => {\n  switch (action.type) {\n    case 'UPDATE_NAME':\n      if (state.name === action.payload) return state; // 避免不必要的新对象\n      return { ...state, name: action.payload };\n    default:\n      return state;\n  }\n};\n```\n\n### 3. 中间件使用不当\n\n#### 问题描述\nRedux 中间件（如 `redux-thunk` 或 `redux-saga`）是处理异步逻辑的利器，但滥用或配置不当会导致调试困难或性能问题。\n\n#### 示例\n使用 `redux-thunk` 时，开发者可能会写出嵌套过深的 thunk：\n```javascript\nconst fetchData = () => dispatch => {\n  dispatch({ type: 'FETCH_START' });\n  fetch('/api/data')\n    .then(res => res.json())\n    .then(data => {\n      dispatch({ type: 'FETCH_SUCCESS', payload: data });\n      fetch('/api/more')\n        .then(res => res.json())\n        .then(moreData => {\n          dispatch({ type: 'FETCH_MORE_SUCCESS', payload: moreData });\n        });\n    });\n};\n```\n\n这种代码难以维护，且错误处理复杂。\n\n#### 源码分析\n`redux-thunk` 的实现非常简单：\n```javascript\nfunction createThunkMiddleware() {\n  return ({ dispatch, getState }) => next => action => {\n    if (typeof action === 'function') {\n      return action(dispatch, getState);\n    }\n    return next(action);\n  };\n}\n```\n\n它只是判断 `action` 是否为函数，若是则执行，否则传递给下一个中间件。\n\n#### 解决方案\n1. **拆分 thunk**：\n```javascript\nconst fetchData = () => async dispatch => {\n  dispatch({ type: 'FETCH_START' });\n  const data = await fetch('/api/data').then(res => res.json());\n  dispatch({ type: 'FETCH_SUCCESS', payload: data });\n};\n\nconst fetchMoreData = () => async dispatch => {\n  const moreData = await fetch('/api/more').then(res => res.json());\n  dispatch({ type: 'FETCH_MORE_SUCCESS', payload: moreData });\n};\n```\n\n2. **使用 Redux Toolkit 的 `createAsyncThunk`**：\n```javascript\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nconst fetchData = createAsyncThunk('data/fetch', async () => {\n  const response = await fetch('/api/data');\n  return response.json();\n});\n```\n\n`createAsyncThunk` 内置了状态管理（pending、fulfilled、rejected），极大简化异步逻辑。\n\n### 4. 忽略 Redux Toolkit 的威力\n\n#### 问题描述\n许多开发者仍在使用原始的 Redux API（如手写 `switch-case` reducer），忽略了 Redux Toolkit（RTK）提供的便利，导致代码冗余。\n\n#### 示例\n传统写法：\n```javascript\nconst initialState = { count: 0 };\nconst counterReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'INCREMENT':\n      return { ...state, count: state.count + 1 };\n    case 'DECREMENT':\n      return { ...state, count: state.count - 1 };\n    default:\n      return state;\n  }\n};\n```\n\n#### 解决方案\n使用 RTK 的 `createSlice`：\n```javascript\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst counterSlice = createSlice({\n  name: 'counter',\n  initialState: { count: 0 },\n  reducers: {\n    increment: state => { state.count += 1; },\n    decrement: state => { state.count -= 1; },\n  },\n});\n\nexport const { increment, decrement } = counterSlice.actions;\nexport default counterSlice.reducer;\n```\n\nRTK 内置了 `immer`，允许直接修改状态（实际仍生成新对象），极大减少样板代码。\n\n## 性能优化技巧\n\n### 1. 避免不必要的深拷贝\n在 reducer 中，开发者常使用 `...` 进行深拷贝，但如果状态树很大且修改较小，会造成性能浪费。例如：\n```javascript\nconst initialState = { a: { b: { c: 1 } } };\nconst reducer = (state = initialState, action) => {\n  if (action.type === 'UPDATE_C') {\n    return { ...state, a: { ...state.a, b: { ...state.a.b, c: action.payload } } };\n  }\n  return state;\n};\n```\n\n更好的做法是借助 `immer` 或手动优化：\n```javascript\nimport produce from 'immer';\n\nconst reducer = produce((draft, action) => {\n  if (action.type === 'UPDATE_C') {\n    draft.a.b.c = action.payload;\n  }\n}, initialState);\n```\n\n### 2. 使用批处理更新\n频繁的 `dispatch` 会触发多次渲染，可以使用 `batch`（RTK 内置）：\n```javascript\nimport { batch } from 'react-redux';\n\nconst updateMultiple = () => dispatch => {\n  batch(() => {\n    dispatch({ type: 'UPDATE_A' });\n    dispatch({ type: 'UPDATE_B' });\n  });\n};\n```\n\n## 调试技巧\n\n1. **善用 Redux DevTools**：追踪 action 和 state 变化，定位问题。\n2. **自定义中间件日志**：\n```javascript\nconst logger = store => next => action => {\n  console.log('Dispatching:', action);\n  console.log('Current State:', store.getState());\n  const result = next(action);\n  console.log('Next State:', store.getState());\n  return result;\n};\n```\n\n## 总结\n\nRedux 看似简单，实则暗藏玄机。从状态设计到性能优化，再到中间件使用，每一步都可能成为“坑”。通过规范化状态、善用 RTK、优化选择器和异步逻辑，我们可以让 Redux 真正发挥其威力。希望这篇指南能帮你在 Redux 开发的路上少走弯路，写出更优雅、更高效的代码！\n\n如果还有其他疑问，欢迎随时交流！",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},t=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!u.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(s=E(e,a))||s.enumerable});return n};var f=(n,e,r)=>(r=n!=null?p(F(n)):{},t(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),m=n=>t(c({},\"__esModule\",{value:!0}),n);var i=g((A,d)=>{d.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>x});var l=f(i()),x={type:\"Post\",title:\"Redux \\u907F\\u5751\\u6307\\u5357\",date:\"2024-10-06\",description:\"\\u4ECE\\u6E90\\u7801\\u89D2\\u5EA6\\u6DF1\\u5EA6\\u89E3\\u6790 Redux \\u7684\\u4F7F\\u7528\\u8BEF\\u533A\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u6DB5\\u76D6\\u5E38\\u89C1\\u95EE\\u9898\\u3001\\u6027\\u80FD\\u4F18\\u5316\\u53CA\\u8C03\\u8BD5\\u6280\\u5DE7\\uFF0C\\u5E26\\u4F60\\u907F\\u5F00 Redux \\u5F00\\u53D1\\u7684\\u5751\\u3002\",keywords:\"Redux, React, \\u72B6\\u6001\\u7BA1\\u7406, \\u524D\\u7AEF\\u5F00\\u53D1, \\u6E90\\u7801\\u89E3\\u6790, \\u6027\\u80FD\\u4F18\\u5316, \\u4E2D\\u95F4\\u4EF6, Redux Toolkit\",author:\"\\u6653\\u9F99\",image:\"/images/hero/redux-guide.jpg\",tags:[\"Redux\",\"React\",\"\\u72B6\\u6001\\u7BA1\\u7406\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"React\"};function o(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"Redux \\u4F5C\\u4E3A React \\u751F\\u6001\\u4E2D\\u6700\\u7ECF\\u5178\\u7684\\u72B6\\u6001\\u7BA1\\u7406\\u5E93\\u4E4B\\u4E00\\uFF0C\\u4EE5\\u5176\\u5355\\u5411\\u6570\\u636E\\u6D41\\u548C\\u53EF\\u9884\\u6D4B\\u6027\\u8D62\\u5F97\\u4E86\\u65E0\\u6570\\u5F00\\u53D1\\u8005\\u7684\\u9752\\u7750\\u3002\\u7136\\u800C\\uFF0CRedux \\u7684\\u7075\\u6D3B\\u6027\\u4E5F\\u662F\\u4E00\\u628A\\u53CC\\u5203\\u5251\\u2014\\u2014\\u7528\\u5F97\\u597D\\uFF0C\\u5B83\\u80FD\\u8BA9\\u72B6\\u6001\\u7BA1\\u7406\\u4E95\\u4E95\\u6709\\u6761\\uFF1B\\u7528\\u5F97\\u4E0D\\u597D\\uFF0C\\u5219\\u53EF\\u80FD\\u5BFC\\u81F4\\u4EE3\\u7801\\u81C3\\u80BF\\u3001\\u6027\\u80FD\\u74F6\\u9888\\uFF0C\\u751A\\u81F3\\u8BA9\\u4EBA\\u6000\\u7591\\u4EBA\\u751F\\u3002\\u672C\\u6587\\u5C06\\u4ECE Redux \\u7684\\u6838\\u5FC3\\u539F\\u7406\\u548C\\u6E90\\u7801\\u51FA\\u53D1\\uFF0C\\u7ED3\\u5408\\u5B9E\\u9645\\u6848\\u4F8B\\uFF0C\\u5E26\\u4F60\\u5168\\u9762\\u5256\\u6790 Redux \\u4F7F\\u7528\\u4E2D\\u7684\\u201C\\u5751\\u201D\\uFF0C\\u5E76\\u7ED9\\u51FA\\u5207\\u5B9E\\u53EF\\u884C\\u7684\\u907F\\u5751\\u65B9\\u6848\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"redux-\\u6838\\u5FC3\\u539F\\u7406\\u56DE\\u987E\",children:(0,l.jsx)(e.a,{href:\"#redux-\\u6838\\u5FC3\\u539F\\u7406\\u56DE\\u987E\",children:\"Redux \\u6838\\u5FC3\\u539F\\u7406\\u56DE\\u987E\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u8FDB\\u5165\\u907F\\u5751\\u6307\\u5357\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u5FEB\\u901F\\u56DE\\u987E\\u4E00\\u4E0B Redux \\u7684\\u6838\\u5FC3\\u539F\\u7406\\uFF0C\\u8FD9\\u5BF9\\u7406\\u89E3\\u540E\\u7EED\\u5185\\u5BB9\\u81F3\\u5173\\u91CD\\u8981\\u3002Redux \\u7684\\u4E09\\u5927\\u652F\\u67F1\\u662F\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5355\\u4E00\\u6570\\u636E\\u6E90\\uFF08Single Source of Truth\\uFF09\"}),\"\\uFF1A\\u6574\\u4E2A\\u5E94\\u7528\\u7684\\u72B6\\u6001\\u5B58\\u50A8\\u5728\\u4E00\\u4E2A\\u5168\\u5C40\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"state\"})})})}),\" \\u5BF9\\u8C61\\u4E2D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u72B6\\u6001\\u53EA\\u8BFB\\uFF08State is Read-Only\\uFF09\"}),\"\\uFF1A\\u53EA\\u80FD\\u901A\\u8FC7\\u6D3E\\u53D1 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"action\"})})})}),\" \\u6765\\u4FEE\\u6539\\u72B6\\u6001\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7EAF\\u51FD\\u6570\\u66F4\\u65B0\\uFF08Changes are Made with Pure Reducers\\uFF09\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"reducer\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u7EAF\\u51FD\\u6570\\uFF0C\\u63A5\\u6536\\u65E7\\u72B6\\u6001\\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"action\"})})})}),\"\\uFF0C\\u8FD4\\u56DE\\u65B0\\u72B6\\u6001\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6E90\\u7801\\u5C42\\u9762\\uFF0CRedux \\u7684\\u6838\\u5FC3\\u903B\\u8F91\\u975E\\u5E38\\u7CBE\\u7B80\\u3002\\u4EE5 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"createStore\"})})})}),\" \\u51FD\\u6570\\u4E3A\\u4F8B\\uFF08\\u7B80\\u5316\\u7248\\uFF09\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createStore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reducer\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"preloadedState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" preloadedState;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" listeners \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reducer\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(state, action);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    listeners.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"listener\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" listener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" subscribe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"listener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    listeners.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(listener);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      listeners \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" listeners.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"l\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" l \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" listener);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'@@redux/INIT'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { getState, dispatch, subscribe };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u4E2A\\u7B80\\u5316\\u7684\\u5B9E\\u73B0\\u5DF2\\u7ECF\\u5305\\u542B\\u4E86 Redux \\u7684\\u57FA\\u672C\\u529F\\u80FD\\uFF1A\\u72B6\\u6001\\u5B58\\u50A8\\u3001\\u72B6\\u6001\\u66F4\\u65B0\\u3001\\u8BA2\\u9605\\u901A\\u77E5\\u3002\\u7406\\u89E3\\u8FD9\\u4E9B\\u539F\\u7406\\u540E\\uFF0C\\u6211\\u4EEC\\u518D\\u6765\\u770B\\u770B\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u5BB9\\u6613\\u8E29\\u7684\\u5751\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5E38\\u89C1\\u5751\\u70B9\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\",children:(0,l.jsx)(e.a,{href:\"#\\u5E38\\u89C1\\u5751\\u70B9\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\",children:\"\\u5E38\\u89C1\\u5751\\u70B9\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"1-\\u72B6\\u6001\\u8BBE\\u8BA1\\u8FC7\\u4E8E\\u6241\\u5E73\\u6216\\u8FC7\\u4E8E\\u5D4C\\u5957\",children:(0,l.jsx)(e.a,{href:\"#1-\\u72B6\\u6001\\u8BBE\\u8BA1\\u8FC7\\u4E8E\\u6241\\u5E73\\u6216\\u8FC7\\u4E8E\\u5D4C\\u5957\",children:\"1. \\u72B6\\u6001\\u8BBE\\u8BA1\\u8FC7\\u4E8E\\u6241\\u5E73\\u6216\\u8FC7\\u4E8E\\u5D4C\\u5957\"})}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u95EE\\u9898\\u63CF\\u8FF0\",children:(0,l.jsx)(e.a,{href:\"#\\u95EE\\u9898\\u63CF\\u8FF0\",children:\"\\u95EE\\u9898\\u63CF\\u8FF0\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Redux \\u8981\\u6C42\\u72B6\\u6001\\u5B58\\u50A8\\u5728\\u5355\\u4E00\\u5BF9\\u8C61\\u4E2D\\uFF0C\\u4F46\\u5F00\\u53D1\\u8005\\u5728\\u8BBE\\u8BA1 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"state\"})})})}),\" \\u7ED3\\u6784\\u65F6\\u5F80\\u5F80\\u8D70\\u6781\\u7AEF\\uFF1A\\u8981\\u4E48\\u8FC7\\u4E8E\\u6241\\u5E73\\uFF0C\\u5BFC\\u81F4\\u5927\\u91CF\\u65E0\\u5173\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\uFF1B\\u8981\\u4E48\\u5D4C\\u5957\\u8FC7\\u6DF1\\uFF0C\\u5BFC\\u81F4\\u64CD\\u4F5C\\u590D\\u6742\\u5EA6\\u548C\\u7EF4\\u62A4\\u6210\\u672C\\u98D9\\u5347\\u3002\"]}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u793A\\u4F8B\",children:(0,l.jsx)(e.a,{href:\"#\\u793A\\u4F8B\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u7BA1\\u7406\\u4E00\\u4E2A\\u7535\\u5546\\u5E94\\u7528\\u7684\\u8D2D\\u7269\\u8F66\\u72B6\\u6001\\uFF1A\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FC7\\u4E8E\\u6241\\u5E73\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" initialState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cartItem1Id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cartItem1Name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5546\\u54C1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cartItem1Price: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cartItem2Id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cartItem2Name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5546\\u54C1B'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cartItem2Price: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FC7\\u4E8E\\u5D4C\\u5957\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" initialState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cart: {\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    items: {\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      data: {\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        list: [\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", details: { name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5546\\u54C1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", price: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } },\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", details: { name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5546\\u54C1B'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", price: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } },\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        ],\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u6E90\\u7801\\u5206\\u6790\",children:(0,l.jsx)(e.a,{href:\"#\\u6E90\\u7801\\u5206\\u6790\",children:\"\\u6E90\\u7801\\u5206\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Redux \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"combineReducers\"})})})}),\" \\u51FD\\u6570\\u4F1A\\u5C06\\u72B6\\u6001\\u6309\\u952E\\u5206\\u5272\\u7BA1\\u7406\\uFF0C\\u4F46\\u5B83\\u5E76\\u4E0D\\u5173\\u5FC3\\u5D4C\\u5957\\u6DF1\\u5EA6\\u3002\\u4F8B\\u5982\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" combineReducers\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reducers\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" combination\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}, \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Object.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"keys\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(reducers).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reduce\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"nextState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      nextState[key] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" reducers[key](state[key], action);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" nextState;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, {});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u610F\\u5473\\u7740\\u72B6\\u6001\\u7684\\u7ED3\\u6784\\u5B8C\\u5168\\u7531\\u5F00\\u53D1\\u8005\\u63A7\\u5236\\uFF0CRedux \\u4E0D\\u4F1A\\u81EA\\u52A8\\u4F18\\u5316\\u3002\"}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u89E3\\u51B3\\u65B9\\u6848\",children:(0,l.jsx)(e.a,{href:\"#\\u89E3\\u51B3\\u65B9\\u6848\",children:\"\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u63A8\\u8350\\u91C7\\u7528\\u9002\\u5EA6\\u5D4C\\u5957\\u7684\\u89C4\\u8303\\u5316\\u72B6\\u6001\\u8BBE\\u8BA1\\u3002\\u4F8B\\u5982\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" initialState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cart: {\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    items: [\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5546\\u54C1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", price: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5546\\u54C1B'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", price: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ],\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7ED3\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"normalizr\"})})})}),\" \\u6216\\u624B\\u52A8\\u89C4\\u8303\\u5316\\uFF0C\\u53EF\\u4EE5\\u8FDB\\u4E00\\u6B65\\u4F18\\u5316\\u4E3A\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" initialState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cart: {\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    itemIds: [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    itemsById: {\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5546\\u54C1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", price: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5546\\u54C1B'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", price: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u7ED3\\u6784\\u65E2\\u6E05\\u6670\\uFF0C\\u53C8\\u4FBF\\u4E8E\\u6269\\u5C55\\uFF0C\\u540C\\u65F6\\u51CF\\u5C11\\u4E86\\u7EC4\\u4EF6\\u7684\\u5197\\u4F59\\u6E32\\u67D3\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"2-\\u9891\\u7E41\\u89E6\\u53D1\\u65E0\\u610F\\u4E49\\u7684\\u6E32\\u67D3\",children:(0,l.jsx)(e.a,{href:\"#2-\\u9891\\u7E41\\u89E6\\u53D1\\u65E0\\u610F\\u4E49\\u7684\\u6E32\\u67D3\",children:\"2. \\u9891\\u7E41\\u89E6\\u53D1\\u65E0\\u610F\\u4E49\\u7684\\u6E32\\u67D3\"})}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u95EE\\u9898\\u63CF\\u8FF0-1\",children:(0,l.jsx)(e.a,{href:\"#\\u95EE\\u9898\\u63CF\\u8FF0-1\",children:\"\\u95EE\\u9898\\u63CF\\u8FF0\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728 React-Redux \\u4E2D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"connect\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useSelector\"})})})}),\" \\u4F1A\\u8BA2\\u9605 Redux \\u72B6\\u6001\\u7684\\u53D8\\u5316\\uFF0C\\u4F46\\u5982\\u679C\\u9009\\u62E9\\u5668\\uFF08selector\\uFF09\\u8FD4\\u56DE\\u7684\\u5BF9\\u8C61\\u5F15\\u7528\\u9891\\u7E41\\u53D8\\u5316\\uFF0C\\u5373\\u4F7F\\u6570\\u636E\\u5185\\u5BB9\\u6CA1\\u53D8\\uFF0C\\u4E5F\\u4F1A\\u5BFC\\u81F4\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u793A\\u4F8B-1\",children:(0,l.jsx)(e.a,{href:\"#\\u793A\\u4F8B-1\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MyComponent\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useSelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state.user); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF\\u6B21\\u90FD\\u8FD4\\u56DE\\u65B0\\u5BF9\\u8C61\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{data.name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5047\\u8BBE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"user\"})})})}),\" reducer \\u662F\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" userReducer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Alice'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }, \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  switch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'UPDATE_NAME'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state, name: action.payload };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u76F4\\u63A5\\u8FD4\\u56DE\\u539F\\u5BF9\\u8C61\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5373\\u4F7F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"state\"})})})}),\" \\u6CA1\\u53D8\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useSelector\"})})})}),\" \\u7684\\u6D45\\u6BD4\\u8F83\\u53EF\\u80FD\\u56E0\\u4E3A\\u5F15\\u7528\\u4E0D\\u540C\\u800C\\u89E6\\u53D1\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u6E90\\u7801\\u5206\\u6790-1\",children:(0,l.jsx)(e.a,{href:\"#\\u6E90\\u7801\\u5206\\u6790-1\",children:\"\\u6E90\\u7801\\u5206\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useSelector\"})})})}),\" \\u5185\\u90E8\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useReducer\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5B9E\\u73B0\\u72B6\\u6001\\u8BA2\\u9605\\uFF0C\\u5176\\u6838\\u5FC3\\u903B\\u8F91\\u662F\\u6BD4\\u8F83\\u9009\\u62E9\\u5668\\u8FD4\\u56DE\\u503C\\u7684\\u5F15\\u7528\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useSelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"selector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"forceRender\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useReducer\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"s\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" s \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useReduxContext\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().store;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" lastResult\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" selector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(store.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"Object.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"is\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result, lastResult.current)) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    lastResult.current \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    forceRender\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u89E3\\u51B3\\u65B9\\u6848-1\",children:(0,l.jsx)(e.a,{href:\"#\\u89E3\\u51B3\\u65B9\\u6848-1\",children:\"\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsxs)(e.strong,{children:[\"\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"reselect\"})})})}),\" \\u521B\\u5EFA\\u8BB0\\u5FC6\\u5316\\u9009\\u62E9\\u5668\"]}),\"\\uFF1A\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createSelector } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'reselect'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" selectUser\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state.user;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" selectUserName\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createSelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  [selectUser],\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" user.name\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MyComponent\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" name\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useSelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(selectUserName); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4EC5\\u5728 name \\u53D8\\u5316\\u65F6\\u66F4\\u65B0\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.ol,{start:\"2\",children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u786E\\u4FDD reducer \\u8FD4\\u56DE\\u5F15\\u7528\\u4E0D\\u53D8\\u7684\\u5BF9\\u8C61\"}),\"\\uFF1A\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" userReducer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Alice'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }, \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  switch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'UPDATE_NAME'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (state.name \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" action.payload) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u65B0\\u5BF9\\u8C61\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state, name: action.payload };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"3-\\u4E2D\\u95F4\\u4EF6\\u4F7F\\u7528\\u4E0D\\u5F53\",children:(0,l.jsx)(e.a,{href:\"#3-\\u4E2D\\u95F4\\u4EF6\\u4F7F\\u7528\\u4E0D\\u5F53\",children:\"3. \\u4E2D\\u95F4\\u4EF6\\u4F7F\\u7528\\u4E0D\\u5F53\"})}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u95EE\\u9898\\u63CF\\u8FF0-2\",children:(0,l.jsx)(e.a,{href:\"#\\u95EE\\u9898\\u63CF\\u8FF0-2\",children:\"\\u95EE\\u9898\\u63CF\\u8FF0\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Redux \\u4E2D\\u95F4\\u4EF6\\uFF08\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-thunk\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-saga\"})})})}),\"\\uFF09\\u662F\\u5904\\u7406\\u5F02\\u6B65\\u903B\\u8F91\\u7684\\u5229\\u5668\\uFF0C\\u4F46\\u6EE5\\u7528\\u6216\\u914D\\u7F6E\\u4E0D\\u5F53\\u4F1A\\u5BFC\\u81F4\\u8C03\\u8BD5\\u56F0\\u96BE\\u6216\\u6027\\u80FD\\u95EE\\u9898\\u3002\"]}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u793A\\u4F8B-2\",children:(0,l.jsx)(e.a,{href:\"#\\u793A\\u4F8B-2\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-thunk\"})})})}),\" \\u65F6\\uFF0C\\u5F00\\u53D1\\u8005\\u53EF\\u80FD\\u4F1A\\u5199\\u51FA\\u5D4C\\u5957\\u8FC7\\u6DF1\\u7684 thunk\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'FETCH_START'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/api/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'FETCH_SUCCESS'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", payload: data });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/api/more'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"moreData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'FETCH_MORE_SUCCESS'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", payload: moreData });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u4EE3\\u7801\\u96BE\\u4EE5\\u7EF4\\u62A4\\uFF0C\\u4E14\\u9519\\u8BEF\\u5904\\u7406\\u590D\\u6742\\u3002\"}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u6E90\\u7801\\u5206\\u6790-2\",children:(0,l.jsx)(e.a,{href:\"#\\u6E90\\u7801\\u5206\\u6790-2\",children:\"\\u6E90\\u7801\\u5206\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-thunk\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u975E\\u5E38\\u7B80\\u5355\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createThunkMiddleware\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"getState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" next\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" action\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"typeof\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" action \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'function'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(dispatch, getState);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(action);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5B83\\u53EA\\u662F\\u5224\\u65AD \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"action\"})})})}),\" \\u662F\\u5426\\u4E3A\\u51FD\\u6570\\uFF0C\\u82E5\\u662F\\u5219\\u6267\\u884C\\uFF0C\\u5426\\u5219\\u4F20\\u9012\\u7ED9\\u4E0B\\u4E00\\u4E2A\\u4E2D\\u95F4\\u4EF6\\u3002\"]}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u89E3\\u51B3\\u65B9\\u6848-2\",children:(0,l.jsx)(e.a,{href:\"#\\u89E3\\u51B3\\u65B9\\u6848-2\",children:\"\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u62C6\\u5206 thunk\"}),\"\\uFF1A\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'FETCH_START'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/api/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'FETCH_SUCCESS'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", payload: data });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchMoreData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" moreData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/api/more'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'FETCH_MORE_SUCCESS'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", payload: moreData });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.ol,{start:\"2\",children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsxs)(e.strong,{children:[\"\\u4F7F\\u7528 Redux Toolkit \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"createAsyncThunk\"})})})})]}),\"\\uFF1A\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createAsyncThunk } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '@reduxjs/toolkit'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createAsyncThunk\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'data/fetch'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/api/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"createAsyncThunk\"})})})}),\" \\u5185\\u7F6E\\u4E86\\u72B6\\u6001\\u7BA1\\u7406\\uFF08pending\\u3001fulfilled\\u3001rejected\\uFF09\\uFF0C\\u6781\\u5927\\u7B80\\u5316\\u5F02\\u6B65\\u903B\\u8F91\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"4-\\u5FFD\\u7565-redux-toolkit-\\u7684\\u5A01\\u529B\",children:(0,l.jsx)(e.a,{href:\"#4-\\u5FFD\\u7565-redux-toolkit-\\u7684\\u5A01\\u529B\",children:\"4. \\u5FFD\\u7565 Redux Toolkit \\u7684\\u5A01\\u529B\"})}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u95EE\\u9898\\u63CF\\u8FF0-3\",children:(0,l.jsx)(e.a,{href:\"#\\u95EE\\u9898\\u63CF\\u8FF0-3\",children:\"\\u95EE\\u9898\\u63CF\\u8FF0\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8BB8\\u591A\\u5F00\\u53D1\\u8005\\u4ECD\\u5728\\u4F7F\\u7528\\u539F\\u59CB\\u7684 Redux API\\uFF08\\u5982\\u624B\\u5199 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"switch-case\"})})})}),\" reducer\\uFF09\\uFF0C\\u5FFD\\u7565\\u4E86 Redux Toolkit\\uFF08RTK\\uFF09\\u63D0\\u4F9B\\u7684\\u4FBF\\u5229\\uFF0C\\u5BFC\\u81F4\\u4EE3\\u7801\\u5197\\u4F59\\u3002\"]}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u793A\\u4F8B-3\",children:(0,l.jsx)(e.a,{href:\"#\\u793A\\u4F8B-3\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4F20\\u7EDF\\u5199\\u6CD5\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" initialState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { count: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" counterReducer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" initialState, \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  switch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'INCREMENT'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state, count: state.count \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'DECREMENT'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state, count: state.count \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u89E3\\u51B3\\u65B9\\u6848-3\",children:(0,l.jsx)(e.a,{href:\"#\\u89E3\\u51B3\\u65B9\\u6848-3\",children:\"\\u89E3\\u51B3\\u65B9\\u6848\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 RTK \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"createSlice\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createSlice } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '@reduxjs/toolkit'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" counterSlice\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createSlice\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'counter'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  initialState: { count: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  reducers: {\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    increment\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { state.count \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; },\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    decrement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { state.count \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; },\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"increment\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"decrement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" counterSlice.actions;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" counterSlice.reducer;\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"RTK \\u5185\\u7F6E\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"immer\"})})})}),\"\\uFF0C\\u5141\\u8BB8\\u76F4\\u63A5\\u4FEE\\u6539\\u72B6\\u6001\\uFF08\\u5B9E\\u9645\\u4ECD\\u751F\\u6210\\u65B0\\u5BF9\\u8C61\\uFF09\\uFF0C\\u6781\\u5927\\u51CF\\u5C11\\u6837\\u677F\\u4EE3\\u7801\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\",children:(0,l.jsx)(e.a,{href:\"#\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\",children:\"\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"1-\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u6DF1\\u62F7\\u8D1D\",children:(0,l.jsx)(e.a,{href:\"#1-\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u6DF1\\u62F7\\u8D1D\",children:\"1. \\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u6DF1\\u62F7\\u8D1D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728 reducer \\u4E2D\\uFF0C\\u5F00\\u53D1\\u8005\\u5E38\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"...\"})})})}),\" \\u8FDB\\u884C\\u6DF1\\u62F7\\u8D1D\\uFF0C\\u4F46\\u5982\\u679C\\u72B6\\u6001\\u6811\\u5F88\\u5927\\u4E14\\u4FEE\\u6539\\u8F83\\u5C0F\\uFF0C\\u4F1A\\u9020\\u6210\\u6027\\u80FD\\u6D6A\\u8D39\\u3002\\u4F8B\\u5982\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" initialState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { a: { b: { c: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } } };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reducer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" initialState, \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'UPDATE_C'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state, a: { \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state.a, b: { \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state.a.b, c: action.payload } } };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u66F4\\u597D\\u7684\\u505A\\u6CD5\\u662F\\u501F\\u52A9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"immer\"})})})}),\" \\u6216\\u624B\\u52A8\\u4F18\\u5316\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" produce \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'immer'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" reducer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" produce\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"draft\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'UPDATE_C'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    draft.a.b.c \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" action.payload;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, initialState);\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"2-\\u4F7F\\u7528\\u6279\\u5904\\u7406\\u66F4\\u65B0\",children:(0,l.jsx)(e.a,{href:\"#2-\\u4F7F\\u7528\\u6279\\u5904\\u7406\\u66F4\\u65B0\",children:\"2. \\u4F7F\\u7528\\u6279\\u5904\\u7406\\u66F4\\u65B0\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u9891\\u7E41\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"dispatch\"})})})}),\" \\u4F1A\\u89E6\\u53D1\\u591A\\u6B21\\u6E32\\u67D3\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"batch\"})})})}),\"\\uFF08RTK \\u5185\\u7F6E\\uFF09\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { batch } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react-redux'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" updateMultiple\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  batch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'UPDATE_A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'UPDATE_B'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u8C03\\u8BD5\\u6280\\u5DE7\",children:(0,l.jsx)(e.a,{href:\"#\\u8C03\\u8BD5\\u6280\\u5DE7\",children:\"\\u8C03\\u8BD5\\u6280\\u5DE7\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5584\\u7528 Redux DevTools\"}),\"\\uFF1A\\u8FFD\\u8E2A action \\u548C state \\u53D8\\u5316\\uFF0C\\u5B9A\\u4F4D\\u95EE\\u9898\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u81EA\\u5B9A\\u4E49\\u4E2D\\u95F4\\u4EF6\\u65E5\\u5FD7\"}),\"\\uFF1A\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" logger\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" store\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" next\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" action\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Dispatching:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", action);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Current State:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", store.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(action);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Next State:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", store.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u603B\\u7ED3\",children:(0,l.jsx)(e.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Redux \\u770B\\u4F3C\\u7B80\\u5355\\uFF0C\\u5B9E\\u5219\\u6697\\u85CF\\u7384\\u673A\\u3002\\u4ECE\\u72B6\\u6001\\u8BBE\\u8BA1\\u5230\\u6027\\u80FD\\u4F18\\u5316\\uFF0C\\u518D\\u5230\\u4E2D\\u95F4\\u4EF6\\u4F7F\\u7528\\uFF0C\\u6BCF\\u4E00\\u6B65\\u90FD\\u53EF\\u80FD\\u6210\\u4E3A\\u201C\\u5751\\u201D\\u3002\\u901A\\u8FC7\\u89C4\\u8303\\u5316\\u72B6\\u6001\\u3001\\u5584\\u7528 RTK\\u3001\\u4F18\\u5316\\u9009\\u62E9\\u5668\\u548C\\u5F02\\u6B65\\u903B\\u8F91\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u8BA9 Redux \\u771F\\u6B63\\u53D1\\u6325\\u5176\\u5A01\\u529B\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6307\\u5357\\u80FD\\u5E2E\\u4F60\\u5728 Redux \\u5F00\\u53D1\\u7684\\u8DEF\\u4E0A\\u5C11\\u8D70\\u5F2F\\u8DEF\\uFF0C\\u5199\\u51FA\\u66F4\\u4F18\\u96C5\\u3001\\u66F4\\u9AD8\\u6548\\u7684\\u4EE3\\u7801\\uFF01\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5982\\u679C\\u8FD8\\u6709\\u5176\\u4ED6\\u7591\\u95EE\\uFF0C\\u6B22\\u8FCE\\u968F\\u65F6\\u4EA4\\u6D41\\uFF01\"})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}return m(b);})();\n;return Component;"
  },
  "_id": "React/Redux避坑指南.mdx",
  "_raw": {
    "sourceFilePath": "React/Redux避坑指南.mdx",
    "sourceFileName": "Redux避坑指南.mdx",
    "sourceFileDir": "React",
    "contentType": "mdx",
    "flattenedPath": "React/Redux避坑指南"
  },
  "type": "Post",
  "url": "/blog/React/Redux避坑指南"
}
{
  "title": "前端跨域问题详解：原理、解决方案与实践案例",
  "date": "2023-06-01T00:00:00.000Z",
  "description": "深入探讨前端跨域问题的产生原因、常见场景及各种解决方案，包括 JSONP、CORS、服务器代理和 WebSocket 等技术，附大量实例分析。",
  "keywords": "前端跨域, CORS, JSONP, 服务器代理, 跨域资源共享, WebSocket, 前端安全",
  "author": "晓龙",
  "image": "/images/hero/cross-domain.jpg",
  "tags": [
    "前端开发",
    "跨域",
    "CORS",
    "安全"
  ],
  "views": 0,
  "likes": 0,
  "category": "前端技术",
  "body": {
    "raw": "\n在现代 Web 开发中，**跨域问题**是前端工程师必须面对的一个常见难题。跨域问题源自浏览器的同源策略（Same-Origin Policy），其目的是保护用户数据的安全，防止恶意网站窃取敏感信息。本篇博客将全面介绍前端跨域问题的原理、常见场景以及各种解决方案，帮助你在实际开发中更好地应对跨域挑战。\n\n## 目录\n\n- [跨域问题的背景](#跨域问题的背景)\n- [同源策略与跨域](#同源策略与跨域)\n- [常见跨域场景](#常见跨域场景)\n- [解决跨域问题的常用方法](#解决跨域问题的常用方法)\n  - [1. JSONP](#1-jsonp)\n  - [2. CORS](#2-cors)\n  - [3. 服务器代理](#3-服务器代理)\n  - [4. WebSocket](#4-websocket)\n  - [5. 其他方案](#5-其他方案)\n- [案例分析](#案例分析)\n- [总结](#总结)\n\n## 跨域问题的背景\n\n在 Web 应用中，不同域名、协议或端口的请求被视为跨域请求。举个例子：\n\n- **同源请求：** `http://example.com/page` 向 `http://example.com/api` 发起请求\n- **跨域请求：** `http://example.com/page` 向 `http://api.example.com/data` 或 `https://example.com/api` 发起请求\n\n浏览器为了防止恶意网站通过脚本窃取用户信息，严格限制了跨域请求，这就是**同源策略**。\n\n## 同源策略与跨域\n\n### 同源策略（Same-Origin Policy）简介\n\n同源策略要求以下三项必须完全相同，才能认为是“同源”：\n- **协议**：例如 `http` 和 `https` 被认为是不同的协议。\n- **域名**：`example.com` 和 `api.example.com` 属于不同的域。\n- **端口**：`http://example.com:80` 和 `http://example.com:8080` 也被认为是不同的源。\n\n这种严格的策略在保护用户安全的同时，也带来了很多开发上的限制。\n\n### 跨域请求限制\n\n当你试图从一个源访问另一个源的资源时，浏览器会阻止这种行为，并在控制台中抛出类似下面的错误信息：\n\n```plaintext\nAccess to XMLHttpRequest at 'http://api.example.com/data' from origin 'http://example.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n```\n\n这种错误提醒我们：服务器并没有允许当前的跨域请求。\n\n## 常见跨域场景\n\n1. **前端与 API 服务器分离：** 当前端页面与 API 服务部署在不同的域或端口时。\n2. **第三方数据接口：** 使用第三方服务接口时，往往会遇到跨域问题。\n3. **微前端架构：** 各子应用可能部署在不同域名或端口下，通信时需要处理跨域问题。\n\n## 解决跨域问题的常用方法\n\n在实际开发中，有多种方法可以解决跨域问题。下面我们详细介绍几种常见方案及其优缺点。\n\n### 1. JSONP\n\n**原理：** JSONP（JSON with Padding）利用 `<script>` 标签不受同源策略限制的特性，通过动态创建 `<script>` 标签来发送请求。服务器返回一段 JavaScript 代码，并调用事先约定好的回调函数。\n\n**示例代码：**\n\n```html\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>JSONP 示例</title>\n</head>\n<body>\n  <script>\n    function handleResponse(data) {\n      console.log('JSONP 返回的数据：', data);\n    }\n\n    // 动态创建 script 标签\n    const script = document.createElement('script');\n    script.src = 'http://api.example.com/jsonp?callback=handleResponse';\n    document.body.appendChild(script);\n  </script>\n</body>\n</html>\n```\n\n**优点：**\n\n- 简单易用，兼容性好。\n\n**缺点：**\n\n- 仅支持 GET 请求，不够安全。\n- 存在 XSS 风险，因为执行返回的 JavaScript 代码。\n\n### 2. CORS\n\n**原理：** 跨域资源共享（CORS）是 W3C 标准，通过在服务器端设置特定的 HTTP 响应头，告诉浏览器该请求是被允许的。\n\n**服务器端示例（Node.js Express）：**\n\n```javascript\nconst express = require('express');\nconst app = express();\n\napp.use((req, res, next) => {\n  res.header('Access-Control-Allow-Origin', 'http://example.com'); // 或者使用 * 表示允许所有域\n  res.header('Access-Control-Allow-Methods', 'GET,POST,PUT,DELETE,OPTIONS');\n  res.header('Access-Control-Allow-Headers', 'Content-Type');\n  // 处理预检请求\n  if (req.method === 'OPTIONS') {\n    return res.sendStatus(200);\n  }\n  next();\n});\n\napp.get('/data', (req, res) => {\n  res.json({ message: '这是 CORS 返回的数据' });\n});\n\napp.listen(3000, () => {\n  console.log('服务运行在 http://localhost:3000');\n});\n```\n\n**客户端示例（Fetch API）：**\n\n```javascript\nfetch('http://localhost:3000/data')\n  .then(response => response.json())\n  .then(data => console.log(data))\n  .catch(err => console.error('Error:', err));\n```\n\n**优点：**\n\n- 支持多种 HTTP 请求方法。\n- 安全性较高，并且由服务器进行控制。\n\n**缺点：**\n\n- 需要服务器配置支持，对于第三方 API 可能无法控制。\n\n### 3. 服务器代理\n\n**原理：** 在开发环境中，可以通过设置代理服务器，将前端请求转发到目标服务器，实现同源效果。生产环境中，也可以采用反向代理等方案。\n\n**示例：** 使用 Node.js + Express 设置代理\n\n```javascript\nconst express = require('express');\nconst request = require('request');\nconst app = express();\n\napp.use('/api', (req, res) => {\n  const url = 'http://api.example.com' + req.url;\n  req.pipe(request(url)).pipe(res);\n});\n\napp.listen(3000, () => {\n  console.log('代理服务器运行在 http://localhost:3000');\n});\n```\n\n**优点：**\n\n- 前后端完全解耦，无需在浏览器端处理跨域问题。\n- 灵活性高，可以对请求进行额外处理。\n\n**缺点：**\n\n- 增加了服务器负担，需要额外部署代理服务器。\n\n### 4. WebSocket\n\n**原理：** WebSocket 协议在建立连接时使用 HTTP/HTTPS 握手，但一旦连接建立便不受同源策略的限制。\n\n**示例：**\n\n```javascript\nconst socket = new WebSocket('ws://api.example.com/socket');\n\nsocket.onopen = function() {\n  console.log('WebSocket 连接已建立');\n  socket.send('Hello Server!');\n};\n\nsocket.onmessage = function(event) {\n  console.log('接收到消息：', event.data);\n};\n\nsocket.onerror = function(error) {\n  console.error('WebSocket 错误：', error);\n};\n\nsocket.onclose = function() {\n  console.log('WebSocket 连接已关闭');\n};\n```\n\n**优点：**\n\n- 建立持久连接，适合实时通信和数据推送。\n- 不受同源策略限制。\n\n**缺点：**\n\n- 仅适合需要持久连接的场景，不适合普通 HTTP 请求。\n\n### 5. 其他方案\n\n- **document.domain:** 适用于主域相同、子域不同的情况，通过设置 `document.domain` 来实现跨域通信，但存在安全隐患。\n- **window.name:** 利用 `window.name` 属性在不同页面间传递数据，较为古老且复杂。\n- **iframe + postMessage:** 通过嵌入 iframe 并利用 `postMessage` API 进行跨域通信，适用于复杂场景下的跨域数据传递。\n\n## 案例分析\n\n### 案例 1：使用 CORS 实现跨域 API 请求\n\n假设我们有一个前端应用部署在 `http://frontend.com`，需要从 `http://api.backend.com` 获取数据。服务器端代码使用 Express 配置 CORS：\n\n```javascript\n// backend/index.js\nconst express = require('express');\nconst app = express();\n\napp.use((req, res, next) => {\n  // 允许来自 frontend.com 的请求\n  res.header('Access-Control-Allow-Origin', 'http://frontend.com');\n  res.header('Access-Control-Allow-Methods', 'GET,POST');\n  res.header('Access-Control-Allow-Headers', 'Content-Type');\n  if (req.method === 'OPTIONS') {\n    return res.sendStatus(200);\n  }\n  next();\n});\n\napp.get('/info', (req, res) => {\n  res.json({ data: '这里是后台数据' });\n});\n\napp.listen(4000, () => {\n  console.log('API 服务运行在 http://api.backend.com:4000');\n});\n```\n\n前端代码则直接使用 Fetch 进行请求：\n\n```javascript\n// frontend/app.js\nfetch('http://api.backend.com:4000/info')\n  .then(response => response.json())\n  .then(data => {\n    console.log('从 API 获取的数据：', data);\n  })\n  .catch(err => console.error('请求失败：', err));\n```\n\n### 案例 2：使用服务器代理解决开发环境跨域问题\n\n在开发环境中，前端项目使用 webpack-dev-server，可以配置代理避免跨域问题：\n\n```javascript\n// webpack.config.js\nmodule.exports = {\n  // 其他配置...\n  devServer: {\n    proxy: {\n      '/api': {\n        target: 'http://api.backend.com:4000',\n        changeOrigin: true,\n        pathRewrite: { '^/api': '' }\n      }\n    }\n  }\n};\n```\n\n前端代码只需要请求 `/api/info` 即可，webpack-dev-server 会自动将请求转发到 `http://api.backend.com:4000/info`。\n\n## 总结\n\n跨域问题虽然在浏览器安全策略中扮演着重要角色，但在实际开发中却常常给前后端通信带来挑战。本文详细介绍了跨域问题的背景、产生原因以及几种常见的解决方案：\n- **JSONP**：适合简单的 GET 请求，但存在安全隐患；\n- **CORS**：现代浏览器推荐方案，灵活且安全；\n- **服务器代理**：适用于前后端分离的场景；\n- **WebSocket**：用于实时通信的跨域数据传输。\n\n选择哪种方案需要根据具体场景和需求进行权衡。希望本篇博客能帮助你深入理解前端跨域问题，并在实际开发中游刃有余地解决相关问题。\n\nHappy Coding!",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var B=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),u=(n,e)=>{for(var r in e)a(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of y(e))!g.call(n,c)&&c!==r&&a(n,c,{get:()=>e[c],enumerable:!(s=E(e,c))||s.enumerable});return n};var m=(n,e,r)=>(r=n!=null?p(F(n)):{},d(e||!n||!n.__esModule?a(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>d(a({},\"__esModule\",{value:!0}),n);var o=B((x,i)=>{i.exports=_jsx_runtime});var A={};u(A,{default:()=>h,frontmatter:()=>b});var l=m(o()),b={type:\"Post\",title:\"\\u524D\\u7AEF\\u8DE8\\u57DF\\u95EE\\u9898\\u8BE6\\u89E3\\uFF1A\\u539F\\u7406\\u3001\\u89E3\\u51B3\\u65B9\\u6848\\u4E0E\\u5B9E\\u8DF5\\u6848\\u4F8B\",date:\"2023-06-01\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u524D\\u7AEF\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u4EA7\\u751F\\u539F\\u56E0\\u3001\\u5E38\\u89C1\\u573A\\u666F\\u53CA\\u5404\\u79CD\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u5305\\u62EC JSONP\\u3001CORS\\u3001\\u670D\\u52A1\\u5668\\u4EE3\\u7406\\u548C WebSocket \\u7B49\\u6280\\u672F\\uFF0C\\u9644\\u5927\\u91CF\\u5B9E\\u4F8B\\u5206\\u6790\\u3002\",keywords:\"\\u524D\\u7AEF\\u8DE8\\u57DF, CORS, JSONP, \\u670D\\u52A1\\u5668\\u4EE3\\u7406, \\u8DE8\\u57DF\\u8D44\\u6E90\\u5171\\u4EAB, WebSocket, \\u524D\\u7AEF\\u5B89\\u5168\",author:\"\\u6653\\u9F99\",image:\"/images/hero/cross-domain.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u8DE8\\u57DF\",\"CORS\",\"\\u5B89\\u5168\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function t(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:[\"\\u5728\\u73B0\\u4EE3 Web \\u5F00\\u53D1\\u4E2D\\uFF0C\",(0,l.jsx)(e.strong,{children:\"\\u8DE8\\u57DF\\u95EE\\u9898\"}),\"\\u662F\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5E08\\u5FC5\\u987B\\u9762\\u5BF9\\u7684\\u4E00\\u4E2A\\u5E38\\u89C1\\u96BE\\u9898\\u3002\\u8DE8\\u57DF\\u95EE\\u9898\\u6E90\\u81EA\\u6D4F\\u89C8\\u5668\\u7684\\u540C\\u6E90\\u7B56\\u7565\\uFF08Same-Origin Policy\\uFF09\\uFF0C\\u5176\\u76EE\\u7684\\u662F\\u4FDD\\u62A4\\u7528\\u6237\\u6570\\u636E\\u7684\\u5B89\\u5168\\uFF0C\\u9632\\u6B62\\u6076\\u610F\\u7F51\\u7AD9\\u7A83\\u53D6\\u654F\\u611F\\u4FE1\\u606F\\u3002\\u672C\\u7BC7\\u535A\\u5BA2\\u5C06\\u5168\\u9762\\u4ECB\\u7ECD\\u524D\\u7AEF\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u539F\\u7406\\u3001\\u5E38\\u89C1\\u573A\\u666F\\u4EE5\\u53CA\\u5404\\u79CD\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u5E2E\\u52A9\\u4F60\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u66F4\\u597D\\u5730\\u5E94\\u5BF9\\u8DE8\\u57DF\\u6311\\u6218\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u76EE\\u5F55\",children:(0,l.jsx)(e.a,{href:\"#\\u76EE\\u5F55\",children:\"\\u76EE\\u5F55\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E7%9A%84%E8%83%8C%E6%99%AF\",children:\"\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u80CC\\u666F\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E4%B8%8E%E8%B7%A8%E5%9F%9F\",children:\"\\u540C\\u6E90\\u7B56\\u7565\\u4E0E\\u8DE8\\u57DF\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#%E5%B8%B8%E8%A7%81%E8%B7%A8%E5%9F%9F%E5%9C%BA%E6%99%AF\",children:\"\\u5E38\\u89C1\\u8DE8\\u57DF\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:\"#%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95\",children:\"\\u89E3\\u51B3\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u5E38\\u7528\\u65B9\\u6CD5\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#1-jsonp\",children:\"1. JSONP\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#2-cors\",children:\"2. CORS\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#3-%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%90%86\",children:\"3. \\u670D\\u52A1\\u5668\\u4EE3\\u7406\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#4-websocket\",children:\"4. WebSocket\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#5-%E5%85%B6%E4%BB%96%E6%96%B9%E6%A1%88\",children:\"5. \\u5176\\u4ED6\\u65B9\\u6848\"})}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90\",children:\"\\u6848\\u4F8B\\u5206\\u6790\"})}),`\n`,(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:\"#%E6%80%BB%E7%BB%93\",children:\"\\u603B\\u7ED3\"})}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u80CC\\u666F\",children:(0,l.jsx)(e.a,{href:\"#\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u80CC\\u666F\",children:\"\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u80CC\\u666F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728 Web \\u5E94\\u7528\\u4E2D\\uFF0C\\u4E0D\\u540C\\u57DF\\u540D\\u3001\\u534F\\u8BAE\\u6216\\u7AEF\\u53E3\\u7684\\u8BF7\\u6C42\\u88AB\\u89C6\\u4E3A\\u8DE8\\u57DF\\u8BF7\\u6C42\\u3002\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u540C\\u6E90\\u8BF7\\u6C42\\uFF1A\"}),\" \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://example.com/page\"})})})}),\" \\u5411 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://example.com/api\"})})})}),\" \\u53D1\\u8D77\\u8BF7\\u6C42\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8DE8\\u57DF\\u8BF7\\u6C42\\uFF1A\"}),\" \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://example.com/page\"})})})}),\" \\u5411 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://api.example.com/data\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"https://example.com/api\"})})})}),\" \\u53D1\\u8D77\\u8BF7\\u6C42\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6D4F\\u89C8\\u5668\\u4E3A\\u4E86\\u9632\\u6B62\\u6076\\u610F\\u7F51\\u7AD9\\u901A\\u8FC7\\u811A\\u672C\\u7A83\\u53D6\\u7528\\u6237\\u4FE1\\u606F\\uFF0C\\u4E25\\u683C\\u9650\\u5236\\u4E86\\u8DE8\\u57DF\\u8BF7\\u6C42\\uFF0C\\u8FD9\\u5C31\\u662F\",(0,l.jsx)(e.strong,{children:\"\\u540C\\u6E90\\u7B56\\u7565\"}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u540C\\u6E90\\u7B56\\u7565\\u4E0E\\u8DE8\\u57DF\",children:(0,l.jsx)(e.a,{href:\"#\\u540C\\u6E90\\u7B56\\u7565\\u4E0E\\u8DE8\\u57DF\",children:\"\\u540C\\u6E90\\u7B56\\u7565\\u4E0E\\u8DE8\\u57DF\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u540C\\u6E90\\u7B56\\u7565same-origin-policy\\u7B80\\u4ECB\",children:(0,l.jsx)(e.a,{href:\"#\\u540C\\u6E90\\u7B56\\u7565same-origin-policy\\u7B80\\u4ECB\",children:\"\\u540C\\u6E90\\u7B56\\u7565\\uFF08Same-Origin Policy\\uFF09\\u7B80\\u4ECB\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u540C\\u6E90\\u7B56\\u7565\\u8981\\u6C42\\u4EE5\\u4E0B\\u4E09\\u9879\\u5FC5\\u987B\\u5B8C\\u5168\\u76F8\\u540C\\uFF0C\\u624D\\u80FD\\u8BA4\\u4E3A\\u662F\\u201C\\u540C\\u6E90\\u201D\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u534F\\u8BAE\"}),\"\\uFF1A\\u4F8B\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"https\"})})})}),\" \\u88AB\\u8BA4\\u4E3A\\u662F\\u4E0D\\u540C\\u7684\\u534F\\u8BAE\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u57DF\\u540D\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"example.com\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"api.example.com\"})})})}),\" \\u5C5E\\u4E8E\\u4E0D\\u540C\\u7684\\u57DF\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7AEF\\u53E3\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://example.com:80\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://example.com:8080\"})})})}),\" \\u4E5F\\u88AB\\u8BA4\\u4E3A\\u662F\\u4E0D\\u540C\\u7684\\u6E90\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u4E25\\u683C\\u7684\\u7B56\\u7565\\u5728\\u4FDD\\u62A4\\u7528\\u6237\\u5B89\\u5168\\u7684\\u540C\\u65F6\\uFF0C\\u4E5F\\u5E26\\u6765\\u4E86\\u5F88\\u591A\\u5F00\\u53D1\\u4E0A\\u7684\\u9650\\u5236\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8DE8\\u57DF\\u8BF7\\u6C42\\u9650\\u5236\",children:(0,l.jsx)(e.a,{href:\"#\\u8DE8\\u57DF\\u8BF7\\u6C42\\u9650\\u5236\",children:\"\\u8DE8\\u57DF\\u8BF7\\u6C42\\u9650\\u5236\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5F53\\u4F60\\u8BD5\\u56FE\\u4ECE\\u4E00\\u4E2A\\u6E90\\u8BBF\\u95EE\\u53E6\\u4E00\\u4E2A\\u6E90\\u7684\\u8D44\\u6E90\\u65F6\\uFF0C\\u6D4F\\u89C8\\u5668\\u4F1A\\u963B\\u6B62\\u8FD9\\u79CD\\u884C\\u4E3A\\uFF0C\\u5E76\\u5728\\u63A7\\u5236\\u53F0\\u4E2D\\u629B\\u51FA\\u7C7B\\u4F3C\\u4E0B\\u9762\\u7684\\u9519\\u8BEF\\u4FE1\\u606F\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"plaintext\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Access to XMLHttpRequest at 'http://api.example.com/data' from origin 'http://example.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\"})})})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u9519\\u8BEF\\u63D0\\u9192\\u6211\\u4EEC\\uFF1A\\u670D\\u52A1\\u5668\\u5E76\\u6CA1\\u6709\\u5141\\u8BB8\\u5F53\\u524D\\u7684\\u8DE8\\u57DF\\u8BF7\\u6C42\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5E38\\u89C1\\u8DE8\\u57DF\\u573A\\u666F\",children:(0,l.jsx)(e.a,{href:\"#\\u5E38\\u89C1\\u8DE8\\u57DF\\u573A\\u666F\",children:\"\\u5E38\\u89C1\\u8DE8\\u57DF\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u524D\\u7AEF\\u4E0E API \\u670D\\u52A1\\u5668\\u5206\\u79BB\\uFF1A\"}),\" \\u5F53\\u524D\\u7AEF\\u9875\\u9762\\u4E0E API \\u670D\\u52A1\\u90E8\\u7F72\\u5728\\u4E0D\\u540C\\u7684\\u57DF\\u6216\\u7AEF\\u53E3\\u65F6\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7B2C\\u4E09\\u65B9\\u6570\\u636E\\u63A5\\u53E3\\uFF1A\"}),\" \\u4F7F\\u7528\\u7B2C\\u4E09\\u65B9\\u670D\\u52A1\\u63A5\\u53E3\\u65F6\\uFF0C\\u5F80\\u5F80\\u4F1A\\u9047\\u5230\\u8DE8\\u57DF\\u95EE\\u9898\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5FAE\\u524D\\u7AEF\\u67B6\\u6784\\uFF1A\"}),\" \\u5404\\u5B50\\u5E94\\u7528\\u53EF\\u80FD\\u90E8\\u7F72\\u5728\\u4E0D\\u540C\\u57DF\\u540D\\u6216\\u7AEF\\u53E3\\u4E0B\\uFF0C\\u901A\\u4FE1\\u65F6\\u9700\\u8981\\u5904\\u7406\\u8DE8\\u57DF\\u95EE\\u9898\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u89E3\\u51B3\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u5E38\\u7528\\u65B9\\u6CD5\",children:(0,l.jsx)(e.a,{href:\"#\\u89E3\\u51B3\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u5E38\\u7528\\u65B9\\u6CD5\",children:\"\\u89E3\\u51B3\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u5E38\\u7528\\u65B9\\u6CD5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\uFF0C\\u6709\\u591A\\u79CD\\u65B9\\u6CD5\\u53EF\\u4EE5\\u89E3\\u51B3\\u8DE8\\u57DF\\u95EE\\u9898\\u3002\\u4E0B\\u9762\\u6211\\u4EEC\\u8BE6\\u7EC6\\u4ECB\\u7ECD\\u51E0\\u79CD\\u5E38\\u89C1\\u65B9\\u6848\\u53CA\\u5176\\u4F18\\u7F3A\\u70B9\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"1-jsonp\",children:(0,l.jsx)(e.a,{href:\"#1-jsonp\",children:\"1. JSONP\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u539F\\u7406\\uFF1A\"}),\" JSONP\\uFF08JSON with Padding\\uFF09\\u5229\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<script>\"})})})}),\" \\u6807\\u7B7E\\u4E0D\\u53D7\\u540C\\u6E90\\u7B56\\u7565\\u9650\\u5236\\u7684\\u7279\\u6027\\uFF0C\\u901A\\u8FC7\\u52A8\\u6001\\u521B\\u5EFA \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<script>\"})})})}),\" \\u6807\\u7B7E\\u6765\\u53D1\\u9001\\u8BF7\\u6C42\\u3002\\u670D\\u52A1\\u5668\\u8FD4\\u56DE\\u4E00\\u6BB5 JavaScript \\u4EE3\\u7801\\uFF0C\\u5E76\\u8C03\\u7528\\u4E8B\\u5148\\u7EA6\\u5B9A\\u597D\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\u4EE3\\u7801\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<!\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"DOCTYPE\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" html\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"html\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" lang\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"zh-CN\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"head\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"meta\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" charset\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"UTF-8\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"title\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">JSONP \\u793A\\u4F8B</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"title\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"head\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"body\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleResponse\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'JSONP \\u8FD4\\u56DE\\u7684\\u6570\\u636E\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u52A8\\u6001\\u521B\\u5EFA script \\u6807\\u7B7E\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" script\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'script'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    script.src \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'http://api.example.com/jsonp?callback=handleResponse'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    document.body.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(script);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"body\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"html\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u4F18\\u70B9\\uFF1A\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u7B80\\u5355\\u6613\\u7528\\uFF0C\\u517C\\u5BB9\\u6027\\u597D\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\\uFF1A\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u4EC5\\u652F\\u6301 GET \\u8BF7\\u6C42\\uFF0C\\u4E0D\\u591F\\u5B89\\u5168\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u5B58\\u5728 XSS \\u98CE\\u9669\\uFF0C\\u56E0\\u4E3A\\u6267\\u884C\\u8FD4\\u56DE\\u7684 JavaScript \\u4EE3\\u7801\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"2-cors\",children:(0,l.jsx)(e.a,{href:\"#2-cors\",children:\"2. CORS\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u539F\\u7406\\uFF1A\"}),\" \\u8DE8\\u57DF\\u8D44\\u6E90\\u5171\\u4EAB\\uFF08CORS\\uFF09\\u662F W3C \\u6807\\u51C6\\uFF0C\\u901A\\u8FC7\\u5728\\u670D\\u52A1\\u5668\\u7AEF\\u8BBE\\u7F6E\\u7279\\u5B9A\\u7684 HTTP \\u54CD\\u5E94\\u5934\\uFF0C\\u544A\\u8BC9\\u6D4F\\u89C8\\u5668\\u8BE5\\u8BF7\\u6C42\\u662F\\u88AB\\u5141\\u8BB8\\u7684\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u670D\\u52A1\\u5668\\u7AEF\\u793A\\u4F8B\\uFF08Node.js Express\\uFF09\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Access-Control-Allow-Origin'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'http://example.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6216\\u8005\\u4F7F\\u7528 * \\u8868\\u793A\\u5141\\u8BB8\\u6240\\u6709\\u57DF\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Access-Control-Allow-Methods'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET,POST,PUT,DELETE,OPTIONS'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Access-Control-Allow-Headers'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Content-Type'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5904\\u7406\\u9884\\u68C0\\u8BF7\\u6C42\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (req.method \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'OPTIONS'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sendStatus\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ message: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8FD9\\u662F CORS \\u8FD4\\u56DE\\u7684\\u6570\\u636E'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u670D\\u52A1\\u8FD0\\u884C\\u5728 http://localhost:3000'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u5BA2\\u6237\\u7AEF\\u793A\\u4F8B\\uFF08Fetch API\\uFF09\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'http://localhost:3000/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Error:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u4F18\\u70B9\\uFF1A\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u652F\\u6301\\u591A\\u79CD HTTP \\u8BF7\\u6C42\\u65B9\\u6CD5\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u5B89\\u5168\\u6027\\u8F83\\u9AD8\\uFF0C\\u5E76\\u4E14\\u7531\\u670D\\u52A1\\u5668\\u8FDB\\u884C\\u63A7\\u5236\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\\uFF1A\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u9700\\u8981\\u670D\\u52A1\\u5668\\u914D\\u7F6E\\u652F\\u6301\\uFF0C\\u5BF9\\u4E8E\\u7B2C\\u4E09\\u65B9 API \\u53EF\\u80FD\\u65E0\\u6CD5\\u63A7\\u5236\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"3-\\u670D\\u52A1\\u5668\\u4EE3\\u7406\",children:(0,l.jsx)(e.a,{href:\"#3-\\u670D\\u52A1\\u5668\\u4EE3\\u7406\",children:\"3. \\u670D\\u52A1\\u5668\\u4EE3\\u7406\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u539F\\u7406\\uFF1A\"}),\" \\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u8BBE\\u7F6E\\u4EE3\\u7406\\u670D\\u52A1\\u5668\\uFF0C\\u5C06\\u524D\\u7AEF\\u8BF7\\u6C42\\u8F6C\\u53D1\\u5230\\u76EE\\u6807\\u670D\\u52A1\\u5668\\uFF0C\\u5B9E\\u73B0\\u540C\\u6E90\\u6548\\u679C\\u3002\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u91C7\\u7528\\u53CD\\u5411\\u4EE3\\u7406\\u7B49\\u65B9\\u6848\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"}),\" \\u4F7F\\u7528 Node.js + Express \\u8BBE\\u7F6E\\u4EE3\\u7406\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'request'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/api'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'http://api.example.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" req.url;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  req.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pipe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"request\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url)).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pipe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(res);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4EE3\\u7406\\u670D\\u52A1\\u5668\\u8FD0\\u884C\\u5728 http://localhost:3000'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u4F18\\u70B9\\uFF1A\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u524D\\u540E\\u7AEF\\u5B8C\\u5168\\u89E3\\u8026\\uFF0C\\u65E0\\u9700\\u5728\\u6D4F\\u89C8\\u5668\\u7AEF\\u5904\\u7406\\u8DE8\\u57DF\\u95EE\\u9898\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u7075\\u6D3B\\u6027\\u9AD8\\uFF0C\\u53EF\\u4EE5\\u5BF9\\u8BF7\\u6C42\\u8FDB\\u884C\\u989D\\u5916\\u5904\\u7406\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\\uFF1A\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u589E\\u52A0\\u4E86\\u670D\\u52A1\\u5668\\u8D1F\\u62C5\\uFF0C\\u9700\\u8981\\u989D\\u5916\\u90E8\\u7F72\\u4EE3\\u7406\\u670D\\u52A1\\u5668\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"4-websocket\",children:(0,l.jsx)(e.a,{href:\"#4-websocket\",children:\"4. WebSocket\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u539F\\u7406\\uFF1A\"}),\" WebSocket \\u534F\\u8BAE\\u5728\\u5EFA\\u7ACB\\u8FDE\\u63A5\\u65F6\\u4F7F\\u7528 HTTP/HTTPS \\u63E1\\u624B\\uFF0C\\u4F46\\u4E00\\u65E6\\u8FDE\\u63A5\\u5EFA\\u7ACB\\u4FBF\\u4E0D\\u53D7\\u540C\\u6E90\\u7B56\\u7565\\u7684\\u9650\\u5236\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" socket\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WebSocket\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'ws://api.example.com/socket'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"socket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onopen\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'WebSocket \\u8FDE\\u63A5\\u5DF2\\u5EFA\\u7ACB'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  socket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Hello Server!'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"socket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u63A5\\u6536\\u5230\\u6D88\\u606F\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", event.data);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"socket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'WebSocket \\u9519\\u8BEF\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"socket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onclose\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'WebSocket \\u8FDE\\u63A5\\u5DF2\\u5173\\u95ED'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u4F18\\u70B9\\uFF1A\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u5EFA\\u7ACB\\u6301\\u4E45\\u8FDE\\u63A5\\uFF0C\\u9002\\u5408\\u5B9E\\u65F6\\u901A\\u4FE1\\u548C\\u6570\\u636E\\u63A8\\u9001\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u4E0D\\u53D7\\u540C\\u6E90\\u7B56\\u7565\\u9650\\u5236\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\\uFF1A\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u4EC5\\u9002\\u5408\\u9700\\u8981\\u6301\\u4E45\\u8FDE\\u63A5\\u7684\\u573A\\u666F\\uFF0C\\u4E0D\\u9002\\u5408\\u666E\\u901A HTTP \\u8BF7\\u6C42\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"5-\\u5176\\u4ED6\\u65B9\\u6848\",children:(0,l.jsx)(e.a,{href:\"#5-\\u5176\\u4ED6\\u65B9\\u6848\",children:\"5. \\u5176\\u4ED6\\u65B9\\u6848\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"document.domain:\"}),\" \\u9002\\u7528\\u4E8E\\u4E3B\\u57DF\\u76F8\\u540C\\u3001\\u5B50\\u57DF\\u4E0D\\u540C\\u7684\\u60C5\\u51B5\\uFF0C\\u901A\\u8FC7\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"document.domain\"})})})}),\" \\u6765\\u5B9E\\u73B0\\u8DE8\\u57DF\\u901A\\u4FE1\\uFF0C\\u4F46\\u5B58\\u5728\\u5B89\\u5168\\u9690\\u60A3\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"window.name:\"}),\" \\u5229\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"window.name\"})})})}),\" \\u5C5E\\u6027\\u5728\\u4E0D\\u540C\\u9875\\u9762\\u95F4\\u4F20\\u9012\\u6570\\u636E\\uFF0C\\u8F83\\u4E3A\\u53E4\\u8001\\u4E14\\u590D\\u6742\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"iframe + postMessage:\"}),\" \\u901A\\u8FC7\\u5D4C\\u5165 iframe \\u5E76\\u5229\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"postMessage\"})})})}),\" API \\u8FDB\\u884C\\u8DE8\\u57DF\\u901A\\u4FE1\\uFF0C\\u9002\\u7528\\u4E8E\\u590D\\u6742\\u573A\\u666F\\u4E0B\\u7684\\u8DE8\\u57DF\\u6570\\u636E\\u4F20\\u9012\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6848\\u4F8B\\u5206\\u6790\",children:(0,l.jsx)(e.a,{href:\"#\\u6848\\u4F8B\\u5206\\u6790\",children:\"\\u6848\\u4F8B\\u5206\\u6790\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6848\\u4F8B-1\\u4F7F\\u7528-cors-\\u5B9E\\u73B0\\u8DE8\\u57DF-api-\\u8BF7\\u6C42\",children:(0,l.jsx)(e.a,{href:\"#\\u6848\\u4F8B-1\\u4F7F\\u7528-cors-\\u5B9E\\u73B0\\u8DE8\\u57DF-api-\\u8BF7\\u6C42\",children:\"\\u6848\\u4F8B 1\\uFF1A\\u4F7F\\u7528 CORS \\u5B9E\\u73B0\\u8DE8\\u57DF API \\u8BF7\\u6C42\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5047\\u8BBE\\u6211\\u4EEC\\u6709\\u4E00\\u4E2A\\u524D\\u7AEF\\u5E94\\u7528\\u90E8\\u7F72\\u5728 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://frontend.com\"})})})}),\"\\uFF0C\\u9700\\u8981\\u4ECE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://api.backend.com\"})})})}),\" \\u83B7\\u53D6\\u6570\\u636E\\u3002\\u670D\\u52A1\\u5668\\u7AEF\\u4EE3\\u7801\\u4F7F\\u7528 Express \\u914D\\u7F6E CORS\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// backend/index.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5141\\u8BB8\\u6765\\u81EA frontend.com \\u7684\\u8BF7\\u6C42\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Access-Control-Allow-Origin'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'http://frontend.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Access-Control-Allow-Methods'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET,POST'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Access-Control-Allow-Headers'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Content-Type'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (req.method \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'OPTIONS'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sendStatus\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/info'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ data: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8FD9\\u91CC\\u662F\\u540E\\u53F0\\u6570\\u636E'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"4000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'API \\u670D\\u52A1\\u8FD0\\u884C\\u5728 http://api.backend.com:4000'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u524D\\u7AEF\\u4EE3\\u7801\\u5219\\u76F4\\u63A5\\u4F7F\\u7528 Fetch \\u8FDB\\u884C\\u8BF7\\u6C42\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// frontend/app.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'http://api.backend.com:4000/info'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4ECE API \\u83B7\\u53D6\\u7684\\u6570\\u636E\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8BF7\\u6C42\\u5931\\u8D25\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6848\\u4F8B-2\\u4F7F\\u7528\\u670D\\u52A1\\u5668\\u4EE3\\u7406\\u89E3\\u51B3\\u5F00\\u53D1\\u73AF\\u5883\\u8DE8\\u57DF\\u95EE\\u9898\",children:(0,l.jsx)(e.a,{href:\"#\\u6848\\u4F8B-2\\u4F7F\\u7528\\u670D\\u52A1\\u5668\\u4EE3\\u7406\\u89E3\\u51B3\\u5F00\\u53D1\\u73AF\\u5883\\u8DE8\\u57DF\\u95EE\\u9898\",children:\"\\u6848\\u4F8B 2\\uFF1A\\u4F7F\\u7528\\u670D\\u52A1\\u5668\\u4EE3\\u7406\\u89E3\\u51B3\\u5F00\\u53D1\\u73AF\\u5883\\u8DE8\\u57DF\\u95EE\\u9898\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\uFF0C\\u524D\\u7AEF\\u9879\\u76EE\\u4F7F\\u7528 webpack-dev-server\\uFF0C\\u53EF\\u4EE5\\u914D\\u7F6E\\u4EE3\\u7406\\u907F\\u514D\\u8DE8\\u57DF\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// webpack.config.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5176\\u4ED6\\u914D\\u7F6E...\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  devServer: {\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    proxy: {\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"      '/api'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        target: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'http://api.backend.com:4000'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        changeOrigin: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        pathRewrite: { \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'^/api'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u524D\\u7AEF\\u4EE3\\u7801\\u53EA\\u9700\\u8981\\u8BF7\\u6C42 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/api/info\"})})})}),\" \\u5373\\u53EF\\uFF0Cwebpack-dev-server \\u4F1A\\u81EA\\u52A8\\u5C06\\u8BF7\\u6C42\\u8F6C\\u53D1\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"http://api.backend.com:4000/info\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u603B\\u7ED3\",children:(0,l.jsx)(e.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8DE8\\u57DF\\u95EE\\u9898\\u867D\\u7136\\u5728\\u6D4F\\u89C8\\u5668\\u5B89\\u5168\\u7B56\\u7565\\u4E2D\\u626E\\u6F14\\u7740\\u91CD\\u8981\\u89D2\\u8272\\uFF0C\\u4F46\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u5374\\u5E38\\u5E38\\u7ED9\\u524D\\u540E\\u7AEF\\u901A\\u4FE1\\u5E26\\u6765\\u6311\\u6218\\u3002\\u672C\\u6587\\u8BE6\\u7EC6\\u4ECB\\u7ECD\\u4E86\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u80CC\\u666F\\u3001\\u4EA7\\u751F\\u539F\\u56E0\\u4EE5\\u53CA\\u51E0\\u79CD\\u5E38\\u89C1\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"JSONP\"}),\"\\uFF1A\\u9002\\u5408\\u7B80\\u5355\\u7684 GET \\u8BF7\\u6C42\\uFF0C\\u4F46\\u5B58\\u5728\\u5B89\\u5168\\u9690\\u60A3\\uFF1B\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"CORS\"}),\"\\uFF1A\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u63A8\\u8350\\u65B9\\u6848\\uFF0C\\u7075\\u6D3B\\u4E14\\u5B89\\u5168\\uFF1B\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u670D\\u52A1\\u5668\\u4EE3\\u7406\"}),\"\\uFF1A\\u9002\\u7528\\u4E8E\\u524D\\u540E\\u7AEF\\u5206\\u79BB\\u7684\\u573A\\u666F\\uFF1B\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"WebSocket\"}),\"\\uFF1A\\u7528\\u4E8E\\u5B9E\\u65F6\\u901A\\u4FE1\\u7684\\u8DE8\\u57DF\\u6570\\u636E\\u4F20\\u8F93\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9009\\u62E9\\u54EA\\u79CD\\u65B9\\u6848\\u9700\\u8981\\u6839\\u636E\\u5177\\u4F53\\u573A\\u666F\\u548C\\u9700\\u6C42\\u8FDB\\u884C\\u6743\\u8861\\u3002\\u5E0C\\u671B\\u672C\\u7BC7\\u535A\\u5BA2\\u80FD\\u5E2E\\u52A9\\u4F60\\u6DF1\\u5165\\u7406\\u89E3\\u524D\\u7AEF\\u8DE8\\u57DF\\u95EE\\u9898\\uFF0C\\u5E76\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u6E38\\u5203\\u6709\\u4F59\\u5730\\u89E3\\u51B3\\u76F8\\u5173\\u95EE\\u9898\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"Happy Coding!\"})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(t,{...n})}):t(n)}return f(A);})();\n;return Component;"
  },
  "_id": "前端技术/Cross-origin.mdx",
  "_raw": {
    "sourceFilePath": "前端技术/Cross-origin.mdx",
    "sourceFileName": "Cross-origin.mdx",
    "sourceFileDir": "前端技术",
    "contentType": "mdx",
    "flattenedPath": "前端技术/Cross-origin"
  },
  "type": "Post",
  "url": "/blog/前端技术/Cross-origin"
}
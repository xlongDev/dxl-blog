{
  "title": "深入理解 Promise",
  "date": "2022-03-13T16:00:00.000Z",
  "description": "从基础概念到源码实现，全面解析 JavaScript 中的 Promise，带你深入理解异步编程的核心机制。",
  "keywords": "Promise, JavaScript, 异步编程, 源码解析, ES6, then, catch, async/await",
  "author": "晓龙",
  "image": "/images/hero/promise.jpg",
  "tags": [
    "JavaScript",
    "异步编程",
    "前端开发"
  ],
  "views": 0,
  "likes": 0,
  "category": "JavaScript",
  "body": {
    "raw": "\n在 JavaScript 的世界里，异步编程一直是绕不过去的话题。从最初的回调函数，到后来的 Promise，再到如今的 async/await，异步处理的方式在不断演进。而 Promise 作为现代 JavaScript 异步编程的基石，几乎无处不在。今天，我们将从基础概念入手，逐步深入到 Promise 的实现原理，甚至窥探其“源码”层面的设计思路，带你彻底搞懂 Promise。\n\n## 什么是 Promise？\n\n简单来说，Promise 是一个用于处理异步操作的对象。它代表一个尚未完成但最终会完成（或失败）的操作，并允许我们以更优雅的方式管理异步逻辑。Promise 有三种状态：\n\n- **Pending（待定）**：初始状态，既未完成也未失败。\n- **Fulfilled（已完成）**：操作成功完成。\n- **Rejected（已拒绝）**：操作失败。\n\n一个 Promise 一旦从 Pending 变为 Fulfilled 或 Rejected，状态就不可再变。这种“不可变性”是 Promise 的核心特性之一。\n\n### 一个简单的例子\n\n```javascript\nconst promise = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve(\"成功啦！\");\n  }, 1000);\n});\n\npromise.then((value) => {\n  console.log(value); // 1秒后输出 \"成功啦！\"\n});\n```\n\n这段代码展示了 Promise 的基本用法：通过 `new Promise` 创建一个实例，传入一个执行器函数（executor），里面通过 `resolve` 或 `reject` 来改变 Promise 的状态。\n\n## Promise 的核心方法\n\nPromise 的强大之处在于它的链式调用和错误处理能力。以下是几个核心方法：\n\n### 1. then(onFulfilled, onRejected)\n\n`then` 是 Promise 的核心方法，用于注册回调。它接收两个参数：\n- `onFulfilled`：当 Promise 成功时调用。\n- `onRejected`：当 Promise 失败时调用（可选）。\n\n```javascript\npromise\n  .then((value) => {\n    console.log(value); // \"成功啦！\"\n    return \"下一步\";\n  })\n  .then((value) => {\n    console.log(value); // \"下一步\"\n  });\n```\n\n值得注意的是，`then` 会返回一个新的 Promise，这使得链式调用成为可能。\n\n### 2. catch(onRejected)\n\n`catch` 是 `then(null, onRejected)` 的语法糖，专门用来捕获错误。\n\n```javascript\nconst promise = new Promise((resolve, reject) => {\n  reject(\"出错了！\");\n});\n\npromise\n  .then((value) => console.log(value))\n  .catch((error) => console.log(error)); // \"出错了！\"\n```\n\n### 3. finally(onFinally)\n\n`finally` 无论 Promise 是成功还是失败都会执行，且不接收任何参数。\n\n```javascript\npromise\n  .then((value) => console.log(value))\n  .catch((error) => console.log(error))\n  .finally(() => console.log(\"结束了！\"));\n```\n\n### 4. Promise.resolve 和 Promise.reject\n\n这两个静态方法可以快速创建已完成或已拒绝的 Promise：\n\n```javascript\nPromise.resolve(\"直接成功\").then((value) => console.log(value)); // \"直接成功\"\nPromise.reject(\"直接失败\").catch((error) => console.log(error)); // \"直接失败\"\n```\n\n### 5. Promise.all 和 Promise.race\n\n- `Promise.all`：等待所有 Promise 都成功，或任意一个失败。\n- `Promise.race`：返回最先完成的 Promise（无论成功或失败）。\n\n```javascript\nconst p1 = Promise.resolve(1);\nconst p2 = Promise.resolve(2);\nconst p3 = Promise.reject(\"错误\");\n\nPromise.all([p1, p2])\n  .then((values) => console.log(values)); // [1, 2]\n\nPromise.race([p1, p3])\n  .then((value) => console.log(value)) // 1\n  .catch((error) => console.log(error));\n```\n\n## 从源码角度理解 Promise\n\n要真正理解 Promise，我们需要看看它的内部实现。虽然浏览器和 Node.js 的原生 Promise 是用 C++ 实现的，但我们可以用 JavaScript 模拟一个符合 Promise/A+ 规范的实现。\n\n### 简版 Promise 实现\n\n以下是一个简化的 Promise 实现，包含状态管理、then 方法和异步处理：\n\n```javascript\nclass MyPromise {\n  constructor(executor) {\n    this.state = \"pending\"; // 初始状态\n    this.value = undefined; // 成功或失败的值\n    this.onFulfilledCallbacks = []; // 成功回调队列\n    this.onRejectedCallbacks = []; // 失败回调队列\n\n    const resolve = (value) => {\n      if (this.state !== \"pending\") return;\n      this.state = \"fulfilled\";\n      this.value = value;\n      // 异步执行所有成功回调\n      setTimeout(() => {\n        this.onFulfilledCallbacks.forEach((fn) => fn(value));\n      }, 0);\n    };\n\n    const reject = (reason) => {\n      if (this.state !== \"pending\") return;\n      this.state = \"rejected\";\n      this.value = reason;\n      // 异步执行所有失败回调\n      setTimeout(() => {\n        this.onRejectedCallbacks.forEach((fn) => fn(reason));\n      }, 0);\n    };\n\n    try {\n      executor(resolve, reject);\n    } catch (error) {\n      reject(error);\n    }\n  }\n\n  then(onFulfilled, onRejected) {\n    // 返回一个新的 Promise，支持链式调用\n    return new MyPromise((resolve, reject) => {\n      const fulfilledHandler = () => {\n        try {\n          if (typeof onFulfilled !== \"function\") {\n            resolve(this.value);\n          } else {\n            const result = onFulfilled(this.value);\n            resolve(result); // 简单处理，未考虑返回 Promise 的情况\n          }\n        } catch (error) {\n          reject(error);\n        }\n      };\n\n      const rejectedHandler = () => {\n        try {\n          if (typeof onRejected !== \"function\") {\n            reject(this.value);\n          } else {\n            const result = onRejected(this.value);\n            resolve(result);\n          }\n        } catch (error) {\n          reject(error);\n        }\n      };\n\n      if (this.state === \"fulfilled\") {\n        setTimeout(fulfilledHandler, 0);\n      } else if (this.state === \"rejected\") {\n        setTimeout(rejectedHandler, 0);\n      } else {\n        // Pending 状态时，将回调存入队列\n        this.onFulfilledCallbacks.push(fulfilledHandler);\n        this.onRejectedCallbacks.push(rejectedHandler);\n      }\n    });\n  }\n}\n\n// 测试\nconst p = new MyPromise((resolve) => {\n  setTimeout(() => resolve(\"成功\"), 1000);\n});\np.then((value) => console.log(value)); // 1秒后输出 \"成功\"\n```\n\n### 源码解析\n\n1. **状态管理**：\n   - 用 `state` 表示 Promise 的状态，初始为 `\"pending\"`。\n   - 一旦 `resolve` 或 `reject` 被调用，状态变为 `\"fulfilled\"` 或 `\"rejected\"`，不可再变。\n\n2. **异步性**：\n   - 使用 `setTimeout` 模拟微任务（实际中用的是 `queueMicrotask`），确保回调异步执行。这是 Promise/A+ 规范的要求。\n\n3. **then 的链式调用**：\n   - `then` 返回一个新的 Promise，允许链式操作。\n   - 如果 `onFulfilled` 或 `onRejected` 返回值是一个 Promise，会等待其解析（完整实现需要额外处理，这里简化了）。\n\n4. **错误处理**：\n   - 用 `try/catch` 捕获执行器中的异常，自动转为拒绝状态。\n\n### 更复杂的场景\n\n实际的 Promise 实现还要处理：\n- **Promise 嵌套**：如果 `then` 返回另一个 Promise，需要递归解析。\n- **值穿透**：如果 `onFulfilled` 不是函数，直接透传值。\n- **微任务调度**：浏览器中使用 MutationObserver 或 MessageChannel 实现微任务。\n\n## 实际应用中的经验\n\n### 1. 避免回调地狱\n\nPromise 的初衷是解决回调地狱。例如，依次请求三个接口：\n\n```javascript\nfetchUser()\n  .then((user) => fetchProfile(user.id))\n  .then((profile) => fetchPosts(profile.id))\n  .then((posts) => console.log(posts))\n  .catch((error) => console.error(error));\n```\n\n相比嵌套回调，代码清晰得多。\n\n### 2. 并行请求优化\n\n用 `Promise.all` 并行处理多个请求：\n\n```javascript\nPromise.all([fetchUser(), fetchPosts(), fetchComments()])\n  .then(([user, posts, comments]) => {\n    console.log({ user, posts, comments });\n  });\n```\n\n### 3. 错误处理注意事项\n\n总是记得加 `.catch`，否则未捕获的错误可能会被“吞掉”：\n\n```javascript\nnew Promise((resolve, reject) => {\n  throw new Error(\"出错啦！\");\n}).catch((error) => console.log(error.message)); // \"出错啦！\"\n```\n\n## Promise 与 async/await\n\nasync/await 是 Promise 的语法糖，让异步代码看起来像同步：\n\n```javascript\nasync function getData() {\n  try {\n    const user = await fetchUser();\n    const posts = await fetchPosts(user.id);\n    return posts;\n  } catch (error) {\n    console.error(error);\n  }\n}\n```\n\n本质上，`async` 函数返回一个 Promise，`await` 暂停执行直到 Promise 解析。\n\n## 总结\n\nPromise 是 JavaScript 异步编程的里程碑，它不仅解决了回调地狱，还为链式调用和错误处理提供了优雅的方案。通过源码层面的剖析，我们看到 Promise 的设计精巧之处：状态不可变、异步回调、链式支持，这些都让它成为现代前端开发的基石。\n\n无论是日常开发中的接口请求，还是复杂的异步流程控制，Promise 都值得我们深入掌握。希望这篇文章能让你对 Promise 有更深刻的理解，下次遇到异步问题时，能更从容地应对！\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)a(n,r,{get:e[r],enumerable:!0})},o=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of y(e))!g.call(n,c)&&c!==r&&a(n,c,{get:()=>e[c],enumerable:!(s=E(e,c))||s.enumerable});return n};var m=(n,e,r)=>(r=n!=null?p(F(n)):{},o(e||!n||!n.__esModule?a(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>o(a({},\"__esModule\",{value:!0}),n);var i=u((j,d)=>{d.exports=_jsx_runtime});var P={};B(P,{default:()=>h,frontmatter:()=>v});var l=m(i()),v={type:\"Post\",title:\"\\u6DF1\\u5165\\u7406\\u89E3 Promise\",date:\"2022-3-14\",description:\"\\u4ECE\\u57FA\\u7840\\u6982\\u5FF5\\u5230\\u6E90\\u7801\\u5B9E\\u73B0\\uFF0C\\u5168\\u9762\\u89E3\\u6790 JavaScript \\u4E2D\\u7684 Promise\\uFF0C\\u5E26\\u4F60\\u6DF1\\u5165\\u7406\\u89E3\\u5F02\\u6B65\\u7F16\\u7A0B\\u7684\\u6838\\u5FC3\\u673A\\u5236\\u3002\",keywords:\"Promise, JavaScript, \\u5F02\\u6B65\\u7F16\\u7A0B, \\u6E90\\u7801\\u89E3\\u6790, ES6, then, catch, async/await\",author:\"\\u6653\\u9F99\",image:\"/images/hero/promise.jpg\",tags:[\"JavaScript\",\"\\u5F02\\u6B65\\u7F16\\u7A0B\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"JavaScript\"};function t(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"\\u5728 JavaScript \\u7684\\u4E16\\u754C\\u91CC\\uFF0C\\u5F02\\u6B65\\u7F16\\u7A0B\\u4E00\\u76F4\\u662F\\u7ED5\\u4E0D\\u8FC7\\u53BB\\u7684\\u8BDD\\u9898\\u3002\\u4ECE\\u6700\\u521D\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u5230\\u540E\\u6765\\u7684 Promise\\uFF0C\\u518D\\u5230\\u5982\\u4ECA\\u7684 async/await\\uFF0C\\u5F02\\u6B65\\u5904\\u7406\\u7684\\u65B9\\u5F0F\\u5728\\u4E0D\\u65AD\\u6F14\\u8FDB\\u3002\\u800C Promise \\u4F5C\\u4E3A\\u73B0\\u4EE3 JavaScript \\u5F02\\u6B65\\u7F16\\u7A0B\\u7684\\u57FA\\u77F3\\uFF0C\\u51E0\\u4E4E\\u65E0\\u5904\\u4E0D\\u5728\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C06\\u4ECE\\u57FA\\u7840\\u6982\\u5FF5\\u5165\\u624B\\uFF0C\\u9010\\u6B65\\u6DF1\\u5165\\u5230 Promise \\u7684\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u751A\\u81F3\\u7AA5\\u63A2\\u5176\\u201C\\u6E90\\u7801\\u201D\\u5C42\\u9762\\u7684\\u8BBE\\u8BA1\\u601D\\u8DEF\\uFF0C\\u5E26\\u4F60\\u5F7B\\u5E95\\u641E\\u61C2 Promise\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4EC0\\u4E48\\u662F-promise\",children:(0,l.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u662F-promise\",children:\"\\u4EC0\\u4E48\\u662F Promise\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7B80\\u5355\\u6765\\u8BF4\\uFF0CPromise \\u662F\\u4E00\\u4E2A\\u7528\\u4E8E\\u5904\\u7406\\u5F02\\u6B65\\u64CD\\u4F5C\\u7684\\u5BF9\\u8C61\\u3002\\u5B83\\u4EE3\\u8868\\u4E00\\u4E2A\\u5C1A\\u672A\\u5B8C\\u6210\\u4F46\\u6700\\u7EC8\\u4F1A\\u5B8C\\u6210\\uFF08\\u6216\\u5931\\u8D25\\uFF09\\u7684\\u64CD\\u4F5C\\uFF0C\\u5E76\\u5141\\u8BB8\\u6211\\u4EEC\\u4EE5\\u66F4\\u4F18\\u96C5\\u7684\\u65B9\\u5F0F\\u7BA1\\u7406\\u5F02\\u6B65\\u903B\\u8F91\\u3002Promise \\u6709\\u4E09\\u79CD\\u72B6\\u6001\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Pending\\uFF08\\u5F85\\u5B9A\\uFF09\"}),\"\\uFF1A\\u521D\\u59CB\\u72B6\\u6001\\uFF0C\\u65E2\\u672A\\u5B8C\\u6210\\u4E5F\\u672A\\u5931\\u8D25\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Fulfilled\\uFF08\\u5DF2\\u5B8C\\u6210\\uFF09\"}),\"\\uFF1A\\u64CD\\u4F5C\\u6210\\u529F\\u5B8C\\u6210\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Rejected\\uFF08\\u5DF2\\u62D2\\u7EDD\\uFF09\"}),\"\\uFF1A\\u64CD\\u4F5C\\u5931\\u8D25\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E00\\u4E2A Promise \\u4E00\\u65E6\\u4ECE Pending \\u53D8\\u4E3A Fulfilled \\u6216 Rejected\\uFF0C\\u72B6\\u6001\\u5C31\\u4E0D\\u53EF\\u518D\\u53D8\\u3002\\u8FD9\\u79CD\\u201C\\u4E0D\\u53EF\\u53D8\\u6027\\u201D\\u662F Promise \\u7684\\u6838\\u5FC3\\u7279\\u6027\\u4E4B\\u4E00\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\",children:(0,l.jsx)(e.a,{href:\"#\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\",children:\"\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" promise\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6210\\u529F\\u5566\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"promise.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// 1\\u79D2\\u540E\\u8F93\\u51FA \"\\u6210\\u529F\\u5566\\uFF01\"'})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8FD9\\u6BB5\\u4EE3\\u7801\\u5C55\\u793A\\u4E86 Promise \\u7684\\u57FA\\u672C\\u7528\\u6CD5\\uFF1A\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"new Promise\"})})})}),\" \\u521B\\u5EFA\\u4E00\\u4E2A\\u5B9E\\u4F8B\\uFF0C\\u4F20\\u5165\\u4E00\\u4E2A\\u6267\\u884C\\u5668\\u51FD\\u6570\\uFF08executor\\uFF09\\uFF0C\\u91CC\\u9762\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"resolve\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"reject\"})})})}),\" \\u6765\\u6539\\u53D8 Promise \\u7684\\u72B6\\u6001\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"promise-\\u7684\\u6838\\u5FC3\\u65B9\\u6CD5\",children:(0,l.jsx)(e.a,{href:\"#promise-\\u7684\\u6838\\u5FC3\\u65B9\\u6CD5\",children:\"Promise \\u7684\\u6838\\u5FC3\\u65B9\\u6CD5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Promise \\u7684\\u5F3A\\u5927\\u4E4B\\u5904\\u5728\\u4E8E\\u5B83\\u7684\\u94FE\\u5F0F\\u8C03\\u7528\\u548C\\u9519\\u8BEF\\u5904\\u7406\\u80FD\\u529B\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u4E2A\\u6838\\u5FC3\\u65B9\\u6CD5\\uFF1A\"}),`\n`,(0,l.jsx)(e.h3,{id:\"1-thenonfulfilled-onrejected\",children:(0,l.jsx)(e.a,{href:\"#1-thenonfulfilled-onrejected\",children:\"1. then(onFulfilled, onRejected)\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"then\"})})})}),\" \\u662F Promise \\u7684\\u6838\\u5FC3\\u65B9\\u6CD5\\uFF0C\\u7528\\u4E8E\\u6CE8\\u518C\\u56DE\\u8C03\\u3002\\u5B83\\u63A5\\u6536\\u4E24\\u4E2A\\u53C2\\u6570\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onFulfilled\"})})})}),\"\\uFF1A\\u5F53 Promise \\u6210\\u529F\\u65F6\\u8C03\\u7528\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onRejected\"})})})}),\"\\uFF1A\\u5F53 Promise \\u5931\\u8D25\\u65F6\\u8C03\\u7528\\uFF08\\u53EF\\u9009\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"promise\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"\\u6210\\u529F\\u5566\\uFF01\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\\u4E0B\\u4E00\\u6B65\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"\\u4E0B\\u4E00\\u6B65\"'})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u503C\\u5F97\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"then\"})})})}),\" \\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684 Promise\\uFF0C\\u8FD9\\u4F7F\\u5F97\\u94FE\\u5F0F\\u8C03\\u7528\\u6210\\u4E3A\\u53EF\\u80FD\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"2-catchonrejected\",children:(0,l.jsx)(e.a,{href:\"#2-catchonrejected\",children:\"2. catch(onRejected)\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"catch\"})})})}),\" \\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"then(null, onRejected)\"})})})}),\" \\u7684\\u8BED\\u6CD5\\u7CD6\\uFF0C\\u4E13\\u95E8\\u7528\\u6765\\u6355\\u83B7\\u9519\\u8BEF\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" promise\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u9519\\u4E86\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"promise\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error)); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"\\u51FA\\u9519\\u4E86\\uFF01\"'})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"3-finallyonfinally\",children:(0,l.jsx)(e.a,{href:\"#3-finallyonfinally\",children:\"3. finally(onFinally)\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"finally\"})})})}),\" \\u65E0\\u8BBA Promise \\u662F\\u6210\\u529F\\u8FD8\\u662F\\u5931\\u8D25\\u90FD\\u4F1A\\u6267\\u884C\\uFF0C\\u4E14\\u4E0D\\u63A5\\u6536\\u4EFB\\u4F55\\u53C2\\u6570\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"promise\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"finally\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u7ED3\\u675F\\u4E86\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"4-promiseresolve-\\u548C-promisereject\",children:(0,l.jsx)(e.a,{href:\"#4-promiseresolve-\\u548C-promisereject\",children:\"4. Promise.resolve \\u548C Promise.reject\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u4E24\\u4E2A\\u9759\\u6001\\u65B9\\u6CD5\\u53EF\\u4EE5\\u5FEB\\u901F\\u521B\\u5EFA\\u5DF2\\u5B8C\\u6210\\u6216\\u5DF2\\u62D2\\u7EDD\\u7684 Promise\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u76F4\\u63A5\\u6210\\u529F\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value)); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"\\u76F4\\u63A5\\u6210\\u529F\"'})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u76F4\\u63A5\\u5931\\u8D25\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error)); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"\\u76F4\\u63A5\\u5931\\u8D25\"'})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"5-promiseall-\\u548C-promiserace\",children:(0,l.jsx)(e.a,{href:\"#5-promiseall-\\u548C-promiserace\",children:\"5. Promise.all \\u548C Promise.race\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\"\\uFF1A\\u7B49\\u5F85\\u6240\\u6709 Promise \\u90FD\\u6210\\u529F\\uFF0C\\u6216\\u4EFB\\u610F\\u4E00\\u4E2A\\u5931\\u8D25\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.race\"})})})}),\"\\uFF1A\\u8FD4\\u56DE\\u6700\\u5148\\u5B8C\\u6210\\u7684 Promise\\uFF08\\u65E0\\u8BBA\\u6210\\u529F\\u6216\\u5931\\u8D25\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" p1\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" p2\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" p3\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u9519\\u8BEF\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([p1, p2])\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"values\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(values)); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// [1, 2]\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"race\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([p1, p3])\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value)) \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// 1\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error));\"})]})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4ECE\\u6E90\\u7801\\u89D2\\u5EA6\\u7406\\u89E3-promise\",children:(0,l.jsx)(e.a,{href:\"#\\u4ECE\\u6E90\\u7801\\u89D2\\u5EA6\\u7406\\u89E3-promise\",children:\"\\u4ECE\\u6E90\\u7801\\u89D2\\u5EA6\\u7406\\u89E3 Promise\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8981\\u771F\\u6B63\\u7406\\u89E3 Promise\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u770B\\u770B\\u5B83\\u7684\\u5185\\u90E8\\u5B9E\\u73B0\\u3002\\u867D\\u7136\\u6D4F\\u89C8\\u5668\\u548C Node.js \\u7684\\u539F\\u751F Promise \\u662F\\u7528 C++ \\u5B9E\\u73B0\\u7684\\uFF0C\\u4F46\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528 JavaScript \\u6A21\\u62DF\\u4E00\\u4E2A\\u7B26\\u5408 Promise/A+ \\u89C4\\u8303\\u7684\\u5B9E\\u73B0\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u7B80\\u7248-promise-\\u5B9E\\u73B0\",children:(0,l.jsx)(e.a,{href:\"#\\u7B80\\u7248-promise-\\u5B9E\\u73B0\",children:\"\\u7B80\\u7248 Promise \\u5B9E\\u73B0\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u7B80\\u5316\\u7684 Promise \\u5B9E\\u73B0\\uFF0C\\u5305\\u542B\\u72B6\\u6001\\u7BA1\\u7406\\u3001then \\u65B9\\u6CD5\\u548C\\u5F02\\u6B65\\u5904\\u7406\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MyPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"executor\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"pending\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u521D\\u59CB\\u72B6\\u6001\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6210\\u529F\\u6216\\u5931\\u8D25\\u7684\\u503C\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".onFulfilledCallbacks \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" []; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6210\\u529F\\u56DE\\u8C03\\u961F\\u5217\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".onRejectedCallbacks \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" []; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5931\\u8D25\\u56DE\\u8C03\\u961F\\u5217\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"pending\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"fulfilled\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" value;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u5F02\\u6B65\\u6267\\u884C\\u6240\\u6709\\u6210\\u529F\\u56DE\\u8C03\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".onFulfilledCallbacks.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reason\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"pending\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"rejected\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" reason;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u5F02\\u6B65\\u6267\\u884C\\u6240\\u6709\\u5931\\u8D25\\u56DE\\u8C03\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".onRejectedCallbacks.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(reason));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      executor\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(resolve, reject);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"onFulfilled\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"onRejected\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684 Promise\\uFF0C\\u652F\\u6301\\u94FE\\u5F0F\\u8C03\\u7528\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MyPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fulfilledHandler\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"typeof\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" onFulfilled \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"function\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"            resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".value);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onFulfilled\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".value);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"            resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u7B80\\u5355\\u5904\\u7406\\uFF0C\\u672A\\u8003\\u8651\\u8FD4\\u56DE Promise \\u7684\\u60C5\\u51B5\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" rejectedHandler\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"typeof\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" onRejected \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"function\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"            reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".value);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onRejected\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".value);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"            resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"fulfilled\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(fulfilledHandler, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"rejected\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(rejectedHandler, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // Pending \\u72B6\\u6001\\u65F6\\uFF0C\\u5C06\\u56DE\\u8C03\\u5B58\\u5165\\u961F\\u5217\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".onFulfilledCallbacks.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(fulfilledHandler);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".onRejectedCallbacks.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(rejectedHandler);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6D4B\\u8BD5\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" p\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MyPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6210\\u529F\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"p.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value)); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// 1\\u79D2\\u540E\\u8F93\\u51FA \"\\u6210\\u529F\"'})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6E90\\u7801\\u89E3\\u6790\",children:(0,l.jsx)(e.a,{href:\"#\\u6E90\\u7801\\u89E3\\u6790\",children:\"\\u6E90\\u7801\\u89E3\\u6790\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u72B6\\u6001\\u7BA1\\u7406\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"state\"})})})}),\" \\u8868\\u793A Promise \\u7684\\u72B6\\u6001\\uFF0C\\u521D\\u59CB\\u4E3A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'\"pending\"'})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u4E00\\u65E6 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"resolve\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"reject\"})})})}),\" \\u88AB\\u8C03\\u7528\\uFF0C\\u72B6\\u6001\\u53D8\\u4E3A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'\"fulfilled\"'})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'\"rejected\"'})})})}),\"\\uFF0C\\u4E0D\\u53EF\\u518D\\u53D8\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5F02\\u6B65\\u6027\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u6A21\\u62DF\\u5FAE\\u4EFB\\u52A1\\uFF08\\u5B9E\\u9645\\u4E2D\\u7528\\u7684\\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"queueMicrotask\"})})})}),\"\\uFF09\\uFF0C\\u786E\\u4FDD\\u56DE\\u8C03\\u5F02\\u6B65\\u6267\\u884C\\u3002\\u8FD9\\u662F Promise/A+ \\u89C4\\u8303\\u7684\\u8981\\u6C42\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"then \\u7684\\u94FE\\u5F0F\\u8C03\\u7528\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"then\"})})})}),\" \\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684 Promise\\uFF0C\\u5141\\u8BB8\\u94FE\\u5F0F\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5982\\u679C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onFulfilled\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onRejected\"})})})}),\" \\u8FD4\\u56DE\\u503C\\u662F\\u4E00\\u4E2A Promise\\uFF0C\\u4F1A\\u7B49\\u5F85\\u5176\\u89E3\\u6790\\uFF08\\u5B8C\\u6574\\u5B9E\\u73B0\\u9700\\u8981\\u989D\\u5916\\u5904\\u7406\\uFF0C\\u8FD9\\u91CC\\u7B80\\u5316\\u4E86\\uFF09\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try/catch\"})})})}),\" \\u6355\\u83B7\\u6267\\u884C\\u5668\\u4E2D\\u7684\\u5F02\\u5E38\\uFF0C\\u81EA\\u52A8\\u8F6C\\u4E3A\\u62D2\\u7EDD\\u72B6\\u6001\\u3002\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u66F4\\u590D\\u6742\\u7684\\u573A\\u666F\",children:(0,l.jsx)(e.a,{href:\"#\\u66F4\\u590D\\u6742\\u7684\\u573A\\u666F\",children:\"\\u66F4\\u590D\\u6742\\u7684\\u573A\\u666F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5B9E\\u9645\\u7684 Promise \\u5B9E\\u73B0\\u8FD8\\u8981\\u5904\\u7406\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Promise \\u5D4C\\u5957\"}),\"\\uFF1A\\u5982\\u679C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"then\"})})})}),\" \\u8FD4\\u56DE\\u53E6\\u4E00\\u4E2A Promise\\uFF0C\\u9700\\u8981\\u9012\\u5F52\\u89E3\\u6790\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u503C\\u7A7F\\u900F\"}),\"\\uFF1A\\u5982\\u679C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onFulfilled\"})})})}),\" \\u4E0D\\u662F\\u51FD\\u6570\\uFF0C\\u76F4\\u63A5\\u900F\\u4F20\\u503C\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5FAE\\u4EFB\\u52A1\\u8C03\\u5EA6\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u4E2D\\u4F7F\\u7528 MutationObserver \\u6216 MessageChannel \\u5B9E\\u73B0\\u5FAE\\u4EFB\\u52A1\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5B9E\\u9645\\u5E94\\u7528\\u4E2D\\u7684\\u7ECF\\u9A8C\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u9645\\u5E94\\u7528\\u4E2D\\u7684\\u7ECF\\u9A8C\",children:\"\\u5B9E\\u9645\\u5E94\\u7528\\u4E2D\\u7684\\u7ECF\\u9A8C\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"1-\\u907F\\u514D\\u56DE\\u8C03\\u5730\\u72F1\",children:(0,l.jsx)(e.a,{href:\"#1-\\u907F\\u514D\\u56DE\\u8C03\\u5730\\u72F1\",children:\"1. \\u907F\\u514D\\u56DE\\u8C03\\u5730\\u72F1\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Promise \\u7684\\u521D\\u8877\\u662F\\u89E3\\u51B3\\u56DE\\u8C03\\u5730\\u72F1\\u3002\\u4F8B\\u5982\\uFF0C\\u4F9D\\u6B21\\u8BF7\\u6C42\\u4E09\\u4E2A\\u63A5\\u53E3\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchProfile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"profile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchPosts\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(profile.id))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"posts\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(posts))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error));\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u76F8\\u6BD4\\u5D4C\\u5957\\u56DE\\u8C03\\uFF0C\\u4EE3\\u7801\\u6E05\\u6670\\u5F97\\u591A\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"2-\\u5E76\\u884C\\u8BF7\\u6C42\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#2-\\u5E76\\u884C\\u8BF7\\u6C42\\u4F18\\u5316\",children:\"2. \\u5E76\\u884C\\u8BF7\\u6C42\\u4F18\\u5316\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u5E76\\u884C\\u5904\\u7406\\u591A\\u4E2A\\u8BF7\\u6C42\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchPosts\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchComments\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()])\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(([\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"posts\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"comments\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ user, posts, comments });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"3-\\u9519\\u8BEF\\u5904\\u7406\\u6CE8\\u610F\\u4E8B\\u9879\",children:(0,l.jsx)(e.a,{href:\"#3-\\u9519\\u8BEF\\u5904\\u7406\\u6CE8\\u610F\\u4E8B\\u9879\",children:\"3. \\u9519\\u8BEF\\u5904\\u7406\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u603B\\u662F\\u8BB0\\u5F97\\u52A0 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".catch\"})})})}),\"\\uFF0C\\u5426\\u5219\\u672A\\u6355\\u83B7\\u7684\\u9519\\u8BEF\\u53EF\\u80FD\\u4F1A\\u88AB\\u201C\\u541E\\u6389\\u201D\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  throw\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u9519\\u5566\\uFF01\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error.message)); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"\\u51FA\\u9519\\u5566\\uFF01\"'})]})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"promise-\\u4E0E-asyncawait\",children:(0,l.jsx)(e.a,{href:\"#promise-\\u4E0E-asyncawait\",children:\"Promise \\u4E0E async/await\"})}),`\n`,(0,l.jsx)(e.p,{children:\"async/await \\u662F Promise \\u7684\\u8BED\\u6CD5\\u7CD6\\uFF0C\\u8BA9\\u5F02\\u6B65\\u4EE3\\u7801\\u770B\\u8D77\\u6765\\u50CF\\u540C\\u6B65\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" posts\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchPosts\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user.id);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" posts;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u672C\\u8D28\\u4E0A\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\u8FD4\\u56DE\\u4E00\\u4E2A Promise\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u6682\\u505C\\u6267\\u884C\\u76F4\\u5230 Promise \\u89E3\\u6790\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u603B\\u7ED3\",children:(0,l.jsx)(e.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Promise \\u662F JavaScript \\u5F02\\u6B65\\u7F16\\u7A0B\\u7684\\u91CC\\u7A0B\\u7891\\uFF0C\\u5B83\\u4E0D\\u4EC5\\u89E3\\u51B3\\u4E86\\u56DE\\u8C03\\u5730\\u72F1\\uFF0C\\u8FD8\\u4E3A\\u94FE\\u5F0F\\u8C03\\u7528\\u548C\\u9519\\u8BEF\\u5904\\u7406\\u63D0\\u4F9B\\u4E86\\u4F18\\u96C5\\u7684\\u65B9\\u6848\\u3002\\u901A\\u8FC7\\u6E90\\u7801\\u5C42\\u9762\\u7684\\u5256\\u6790\\uFF0C\\u6211\\u4EEC\\u770B\\u5230 Promise \\u7684\\u8BBE\\u8BA1\\u7CBE\\u5DE7\\u4E4B\\u5904\\uFF1A\\u72B6\\u6001\\u4E0D\\u53EF\\u53D8\\u3001\\u5F02\\u6B65\\u56DE\\u8C03\\u3001\\u94FE\\u5F0F\\u652F\\u6301\\uFF0C\\u8FD9\\u4E9B\\u90FD\\u8BA9\\u5B83\\u6210\\u4E3A\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u57FA\\u77F3\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u65E0\\u8BBA\\u662F\\u65E5\\u5E38\\u5F00\\u53D1\\u4E2D\\u7684\\u63A5\\u53E3\\u8BF7\\u6C42\\uFF0C\\u8FD8\\u662F\\u590D\\u6742\\u7684\\u5F02\\u6B65\\u6D41\\u7A0B\\u63A7\\u5236\\uFF0CPromise \\u90FD\\u503C\\u5F97\\u6211\\u4EEC\\u6DF1\\u5165\\u638C\\u63E1\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u8BA9\\u4F60\\u5BF9 Promise \\u6709\\u66F4\\u6DF1\\u523B\\u7684\\u7406\\u89E3\\uFF0C\\u4E0B\\u6B21\\u9047\\u5230\\u5F02\\u6B65\\u95EE\\u9898\\u65F6\\uFF0C\\u80FD\\u66F4\\u4ECE\\u5BB9\\u5730\\u5E94\\u5BF9\\uFF01\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(t,{...n})}):t(n)}return f(P);})();\n;return Component;"
  },
  "_id": "JavaScript/深入理解Promise.mdx",
  "_raw": {
    "sourceFilePath": "JavaScript/深入理解Promise.mdx",
    "sourceFileName": "深入理解Promise.mdx",
    "sourceFileDir": "JavaScript",
    "contentType": "mdx",
    "flattenedPath": "JavaScript/深入理解Promise"
  },
  "type": "Post",
  "url": "/blog/JavaScript/深入理解Promise"
}
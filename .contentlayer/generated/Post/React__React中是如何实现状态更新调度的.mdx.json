{
  "title": "React ä¸­æ˜¯å¦‚ä½•å®ç°çŠ¶æ€æ›´æ–°è°ƒåº¦çš„ï¼ŸğŸ§™â€â™‚ï¸",
  "date": "2025-01-15T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æ React çŠ¶æ€æ›´æ–°è°ƒåº¦çš„åº•å±‚åŸç†ï¼Œæ­ç§˜ Fiber æ¶æ„ã€è°ƒåº¦ç®—æ³•ä¸ä¼˜å…ˆçº§ç®¡ç†ï¼Œç»“åˆå®ä¾‹ä¸æœ€ä½³å®è·µï¼ŒåŠ©ä½ æˆä¸ºçŠ¶æ€ç®¡ç†çš„â€˜è°ƒåº¦å¤§å¸ˆâ€™ã€‚",
  "keywords": "React, çŠ¶æ€æ›´æ–°, è°ƒåº¦ç®—æ³•, Fiber æ¶æ„, ä¼˜å…ˆçº§ç®¡ç†, React å¹¶å‘, å‰ç«¯å¼€å‘, æ€§èƒ½ä¼˜åŒ–",
  "author": "æ™“é¾™",
  "image": "/images/hero/react-scheduling.jpg",
  "tags": [
    "React",
    "JavaScript",
    "å‰ç«¯å¼€å‘",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\nReact æ˜¯å‰ç«¯å¼€å‘è€…çš„â€œé­”æ³•ä¹¦â€ï¼Œè€ŒçŠ¶æ€æ›´æ–°è°ƒåº¦å°±æ˜¯ä¹¦ä¸­æœ€ç¥ç§˜çš„ä¸€é¡µã€‚å®ƒå†³å®šäº† React å¦‚ä½•åœ¨ç”¨æˆ·äº¤äº’ã€å¼‚æ­¥ä»»åŠ¡å’Œæ¸²æŸ“ä¹‹é—´ä¼˜é›…èµ·èˆï¼Œç¡®ä¿ç•Œé¢æµç•…å¦‚ä¸ï¼ŒåŒæ—¶é¿å…æ€§èƒ½â€œç¿»è½¦â€ã€‚ğŸš—ğŸ’¥ æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ React çš„â€œè°ƒåº¦å¤§è„‘â€ï¼Œæ­å¼€ Fiber æ¶æ„ã€ä¼˜å…ˆçº§ç®¡ç†å’Œå¹¶å‘æ›´æ–°çš„é¢çº±ï¼Œé…ä»¥æ¸…æ™°çš„è¡¨æ ¼ã€å¹½é»˜çš„ç±»æ¯”å’Œå®ç”¨çš„ä»£ç ç¤ºä¾‹ï¼Œè®©ä½ ä¸ä»…çœ‹å¾—æ‡‚ï¼Œè¿˜èƒ½ç”¨å¾—æºœï¼ğŸ‰\n\n> **è°é€‚åˆè¯»è¿™ç¯‡æ–‡ç« ï¼Ÿ**  \n> - å¯¹ React åŸç†å¥½å¥‡ï¼Œæƒ³çŸ¥é“ `setState` èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆçš„å‰ç«¯å¼€å‘è€…  \n> - å¸Œæœ›ä¼˜åŒ– React åº”ç”¨æ€§èƒ½ï¼Œè§£å†³å¡é¡¿æˆ–æ›´æ–°å»¶è¿Ÿçš„å·¥ç¨‹å¸ˆ  \n> - æƒ³æ·±å…¥äº†è§£ Fiber æ¶æ„å’Œ React å¹¶å‘ç‰¹æ€§çš„æŠ€æœ¯ geek\n\n> **ä½ å°†æ”¶è·ä»€ä¹ˆï¼Ÿ**  \n> - ç†è§£ React çŠ¶æ€æ›´æ–°çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼Œä»è§¦å‘åˆ°æ¸²æŸ“  \n> - æŒæ¡ Fiber æ¶æ„çš„æ ¸å¿ƒç†å¿µå’Œä¼˜å…ˆçº§è°ƒåº¦æœºåˆ¶  \n> - å­¦ä¼šé€šè¿‡ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µä¼˜åŒ–çŠ¶æ€ç®¡ç†  \n> - ä¸€å †ç±»æ¯”å’Œå¹½é»˜ï¼Œè®©æ¯ç‡¥çš„æŠ€æœ¯çŸ¥è¯†å˜å¾—â€œæœ‰ç‚¹å¥½ç©â€ ğŸ˜\n\n---\n\n## æ€ç»´é“¾ï¼šä» setState åˆ°å±å¹•æ¸²æŸ“çš„æ—…ç¨‹ ğŸ—ºï¸\n\nåœ¨æ·±å…¥æŠ€æœ¯ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¢³ç†ä¸€ä¸‹ React çŠ¶æ€æ›´æ–°è°ƒåº¦çš„æ•´ä½“æµç¨‹ï¼Œå°±åƒè§„åˆ’ä¸€æ¬¡â€œä»é”®ç›˜åˆ°å±å¹•â€çš„å†’é™©ä¹‹æ—…ï¼š\n\n1. **è§¦å‘çŠ¶æ€æ›´æ–°**ï¼šè°ƒç”¨ `setState` æˆ– `useState` çš„ setter å‡½æ•°ï¼ŒReact æ•è·æ›´æ–°è¯·æ±‚ã€‚  \n2. **åˆ›å»ºæ›´æ–°å¯¹è±¡**ï¼šReact å°†æ›´æ–°å°è£…æˆä¸€ä¸ª `Update` å¯¹è±¡ï¼ŒåŒ…å«æ–°çŠ¶æ€å’Œä¼˜å…ˆçº§ã€‚  \n3. **è°ƒåº¦æ›´æ–°**ï¼šæ›´æ–°è¢«é€å…¥è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰ï¼Œæ ¹æ®ä¼˜å…ˆçº§å†³å®šä½•æ—¶å¤„ç†ã€‚  \n4. **Fiber åè°ƒ**ï¼šReact ä½¿ç”¨ Fiber æ¶æ„è¿›è¡Œå¢é‡å¼åè°ƒï¼Œå†³å®šå“ªäº›ç»„ä»¶éœ€è¦é‡æ–°æ¸²æŸ“ã€‚  \n5. **æäº¤æ¸²æŸ“**ï¼šåè°ƒå®Œæˆåï¼ŒReact æ›´æ–° DOMï¼Œå®Œæˆå±å¹•æ¸²æŸ“ã€‚  \n6. **å¤„ç†å‰¯ä½œç”¨**ï¼šæ‰§è¡Œ `useEffect` æˆ–å…¶ä»–å‰¯ä½œç”¨é€»è¾‘ï¼Œå®Œæˆæ›´æ–°å‘¨æœŸã€‚\n\nè¿™ä¸ªæµç¨‹çœ‹ä¼¼ç®€å•ï¼Œä½†æ¯ä¸ªæ­¥éª¤éƒ½è—ç€å¤æ‚çš„é€»è¾‘å’Œä¼˜åŒ–æŠ€å·§ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€ä¸€æ‹†è§£ï¼Œå¸¦ä½ èµ°è¿› React çš„â€œè°ƒåº¦é­”æ³•â€ä¸–ç•Œï¼âœ¨\n\n---\n\n## 1. çŠ¶æ€æ›´æ–°çš„èµ·ç‚¹ï¼šsetState å’Œ useState çš„ç§˜å¯† ğŸ¤”\n\nReact çš„çŠ¶æ€æ›´æ–°ä» `setState`ï¼ˆç±»ç»„ä»¶ï¼‰æˆ– `useState`ï¼ˆå‡½æ•°ç»„ä»¶ï¼‰å¼€å§‹ã€‚è¡¨é¢ä¸Šçœ‹ï¼Œè°ƒç”¨ `setState({ count: count + 1 })` å°±åƒå¾€ React çš„â€œé‚®ç®±â€é‡Œæ‰”äº†ä¸€å°ä¿¡ï¼Œä½†è¿™å°ä¿¡çš„æŠ•é€’è¿‡ç¨‹å¯ä¸ç®€å•ã€‚\n\n### 1.1 setState çš„å·¥ä½œåŸç†\n\nå½“ä½ è°ƒç”¨ `setState`ï¼ŒReact å¹¶ä¸ç«‹åˆ»æ›´æ–°çŠ¶æ€ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ª `Update` å¯¹è±¡ï¼Œæ”¾å…¥ç»„ä»¶çš„æ›´æ–°é˜Ÿåˆ—ã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«ï¼š\n- **æ–°çŠ¶æ€**ï¼ˆæˆ–æ›´æ–°å‡½æ•°ï¼‰\n- **ä¼˜å…ˆçº§**ï¼ˆå†³å®šäº†æ›´æ–°çš„ç´§æ€¥ç¨‹åº¦ï¼‰\n- **å›è°ƒå‡½æ•°**ï¼ˆå¯é€‰ï¼Œæ‰§è¡Œå®Œæˆåè°ƒç”¨ï¼‰\n\n```jsx\nclass Counter extends React.Component {\n  state = { count: 0 };\n\n  handleClick = () => {\n    this.setState({ count: this.state.count + 1 });\n    console.log(this.state.count); // ä¾ç„¶æ˜¯æ—§å€¼ï¼ğŸ˜…\n  };\n\n  render() {\n    return <button onClick={this.handleClick}>{this.state.count}</button>;\n  }\n}\n```\n\n**ä¸ºä»€ä¹ˆçŠ¶æ€æ²¡æœ‰ç«‹å³æ›´æ–°ï¼Ÿ**  \nReact çš„çŠ¶æ€æ›´æ–°æ˜¯**å¼‚æ­¥çš„**ï¼Œä¸ºäº†æ€§èƒ½ä¼˜åŒ–ï¼ŒReact ä¼šæ‰¹é‡å¤„ç†å¤šæ¬¡ `setState` è°ƒç”¨ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ã€‚è¿™å°±åƒé¤å…çš„æœåŠ¡å‘˜ä¸ä¼šæ¯æ¬¡ç‚¹èœéƒ½è·‘å»å¨æˆ¿ï¼Œè€Œæ˜¯æ”’å¤Ÿä¸€æ¡Œçš„è®¢å•å†ç»Ÿä¸€å¤„ç†ã€‚ğŸ½ï¸\n\n> *Tips: é¿å…åœ¨ `setState` åç«‹å³ä¾èµ–çŠ¶æ€å€¼ã€‚å¦‚æœéœ€è¦åŸºäºæœ€æ–°çŠ¶æ€æ‰§è¡Œé€»è¾‘ï¼Œä½¿ç”¨ `setState` çš„å‡½æ•°å¼æ›´æ–°ï¼š*\n> ```jsx\n> this.setState(prevState => ({ count: prevState.count + 1 }));\n> ```\n\n### 1.2 useState çš„é­”æ³•\n\nåœ¨å‡½æ•°ç»„ä»¶ä¸­ï¼Œ`useState` æ˜¯çŠ¶æ€æ›´æ–°çš„ä¸»è§’ã€‚å®ƒçš„ setter å‡½æ•°ï¼ˆæ¯”å¦‚ `setCount`ï¼‰ä¸ `setState` ç±»ä¼¼ï¼Œä½†æ›´ç®€æ´ï¼Œä¸”å®Œå…¨åŸºäº Hooks çš„æœºåˆ¶ã€‚\n\n```jsx\nimport React, { useState } from 'react';\n\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  const handleClick = () => {\n    setCount(count + 1);\n    console.log(count); // ä¾ç„¶æ˜¯æ—§å€¼ï¼ğŸ™ˆ\n  };\n\n  return <button onClick={handleClick}>{count}</button>;\n}\n```\n\n**useState çš„å¼‚æ­¥æœ¬è´¨**  \nä¸ `setState` ä¸€æ ·ï¼Œ`setCount` ä¸ä¼šç«‹å³æ›´æ–°çŠ¶æ€ã€‚React ä¼šå°†æ›´æ–°ä»»åŠ¡æ¨å…¥é˜Ÿåˆ—ï¼Œç­‰å¾…åˆé€‚çš„æ—¶æœºå¤„ç†ã€‚è¿™å°±åƒä½ åœ¨å’–å•¡åº—ç‚¹å•ï¼ŒæœåŠ¡å‘˜ä¸ä¼šç«‹åˆ»ç»™ä½ å’–å•¡ï¼Œè€Œæ˜¯æŠŠè®¢å•åŠ å…¥é˜Ÿåˆ—ï¼Œç»Ÿä¸€äº¤ç»™å’–å•¡å¸ˆã€‚â˜•\n\n> *Tips: å¦‚æœéœ€è¦åŸºäºæœ€æ–°çŠ¶æ€æ›´æ–°ï¼Œä½¿ç”¨å‡½æ•°å¼æ›´æ–°ï¼š*\n> ```jsx\n> setCount(prevCount => prevCount + 1);\n> ```\n\n### 1.3 æ‰¹é‡æ›´æ–°ï¼ˆBatchingï¼‰\n\nReact çš„æ‰¹é‡æ›´æ–°æ˜¯æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ã€‚å½“ä½ åœ¨åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­å¤šæ¬¡è°ƒç”¨ `setState` æˆ– `setCount`ï¼ŒReact ä¼šå°†è¿™äº›æ›´æ–°åˆå¹¶ï¼Œåªè§¦å‘ä¸€æ¬¡æ¸²æŸ“ã€‚\n\n```jsx\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  const handleClick = () => {\n    setCount(count + 1);\n    setCount(count + 1);\n    setCount(count + 1);\n    // æœ€ç»ˆ count åªå¢åŠ  1ï¼ğŸ˜±\n  };\n\n  return <button onClick={handleClick}>{count}</button>;\n}\n```\n\n**ä¸ºä»€ä¹ˆåªå¢åŠ  1ï¼Ÿ**  \nReact åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­å¯ç”¨äº†**è‡ªåŠ¨æ‰¹å¤„ç†**ï¼Œå°†å¤šæ¬¡ `setCount` åˆå¹¶ä¸ºä¸€æ¬¡æ›´æ–°ï¼ŒåŸºäºæœ€åçš„çŠ¶æ€å€¼è®¡ç®—ç»“æœã€‚å¦‚æœæƒ³è®©æ¯æ¬¡ `setCount` éƒ½ç”Ÿæ•ˆï¼Œéœ€ä½¿ç”¨å‡½æ•°å¼æ›´æ–°ï¼š\n\n```jsx\nconst handleClick = () => {\n  setCount(prev => prev + 1);\n  setCount(prev => prev + 1);\n  setCount(prev => prev + 1); // count å¢åŠ  3ï¼ğŸ‰\n};\n```\n\n> *Tips: åœ¨å¼‚æ­¥ä»£ç ï¼ˆå¦‚ setTimeout æˆ– Promiseï¼‰ä¸­ï¼ŒReact ä¸ä¼šè‡ªåŠ¨æ‰¹å¤„ç†æ›´æ–°ã€‚éœ€è¦æ‰‹åŠ¨ä½¿ç”¨ `unstable_batchedUpdates`ï¼š*\n> ```jsx\n> import { unstable_batchedUpdates } from 'react-dom';\n> setTimeout(() => {\n>   unstable_batchedUpdates(() => {\n>     setCount(prev => prev + 1);\n>     setCount(prev => prev + 1);\n>   });\n> }, 1000);\n> ```\n\n---\n\n## 2. Fiber æ¶æ„ï¼šReact çš„â€œæ—¶é—´ç®¡ç†å¤§å¸ˆâ€ â°\n\nReact 16 å¼•å…¥äº† Fiber æ¶æ„ï¼Œä»æ ¹æœ¬ä¸Šæ”¹å˜äº†çŠ¶æ€æ›´æ–°çš„è°ƒåº¦æ–¹å¼ã€‚Fiber å°±åƒ React çš„â€œæ—¶é—´ç®¡ç†å¤§å¸ˆâ€ï¼Œè®©æ›´æ–°ä»»åŠ¡å¯ä»¥è¢«æ‰“æ–­ã€æš‚åœå’Œæ¢å¤ï¼Œç¡®ä¿é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼ˆæ¯”å¦‚ç”¨æˆ·è¾“å…¥ï¼‰ä¼˜å…ˆå¤„ç†ã€‚\n\n### 2.1 ä»€ä¹ˆæ˜¯ Fiberï¼Ÿ\n\nFiber æ˜¯ React çš„æœ€å°å·¥ä½œå•å…ƒï¼Œä»£è¡¨ä¸€ä¸ªç»„ä»¶çš„è®¡ç®—ä»»åŠ¡ã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ª Fiber èŠ‚ç‚¹ï¼ŒåŒ…å«ï¼š\n- **çŠ¶æ€**ï¼šç»„ä»¶çš„çŠ¶æ€å’Œ props\n- **å·¥ä½œç±»å‹**ï¼šæ¯”å¦‚æ¸²æŸ“ã€æ›´æ–°æˆ–å‰¯ä½œç”¨\n- **ä¼˜å…ˆçº§**ï¼šå†³å®šä»»åŠ¡çš„ç´§æ€¥ç¨‹åº¦\n- **æŒ‡é’ˆ**ï¼šæŒ‡å‘çˆ¶èŠ‚ç‚¹ã€å­èŠ‚ç‚¹å’Œå…„å¼ŸèŠ‚ç‚¹ï¼Œå½¢æˆ Fiber æ ‘\n\nFiber æ¶æ„çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯**å¢é‡å¼æ¸²æŸ“**å’Œ**å¯ä¸­æ–­æ€§**ã€‚è¿™å°±åƒä½ åœ¨å†™ä»£ç æ—¶ï¼Œæ¥åˆ°è€æ¿çš„ç´§æ€¥ä»»åŠ¡ï¼ˆæ¯”å¦‚ä¿®å¤çº¿ä¸Š bugï¼‰ï¼Œå¯ä»¥å…ˆæš‚åœæ‰‹å¤´çš„å·¥ä½œï¼Œå¤„ç†å®Œåå†ç»§ç»­ã€‚ğŸ’»\n\n### 2.2 Fiber æ ‘çš„æ„å»ºä¸æ›´æ–°\n\nReact ç»´æŠ¤ä¸¤æ£µ Fiber æ ‘ï¼š\n- **Current Tree**ï¼šå½“å‰å±å¹•ä¸Šæ˜¾ç¤ºçš„ Fiber æ ‘\n- **WorkInProgress Tree**ï¼šæ­£åœ¨æ„å»ºçš„ Fiber æ ‘ï¼Œç”¨äºä¸‹ä¸€æ¬¡æ¸²æŸ“\n\nå½“çŠ¶æ€æ›´æ–°è§¦å‘æ—¶ï¼ŒReact ä¼šï¼š\n1. ä»è§¦å‘æ›´æ–°çš„ç»„ä»¶å¼€å§‹ï¼Œæ„å»º WorkInProgress æ ‘ã€‚\n2. éå† Fiber èŠ‚ç‚¹ï¼Œæ‰§è¡Œ**åè°ƒï¼ˆReconciliationï¼‰**ï¼Œæ‰¾å‡ºéœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ã€‚\n3. å°†æ›´æ–°åº”ç”¨åˆ° DOMï¼Œåˆ‡æ¢ Current æ ‘ä¸ºæ–°çš„ WorkInProgress æ ‘ã€‚\n\n**ç±»æ¯”**ï¼šè¿™å°±åƒä½ åœ¨è£…ä¿®æˆ¿å­ï¼Œå…ˆåœ¨ä¸€æ—æ­å»ºä¸€ä¸ªâ€œæ ·æ¿é—´â€ï¼ˆWorkInProgress æ ‘ï¼‰ï¼Œç¡®è®¤æ²¡é—®é¢˜åå†æŠŠæ—§æˆ¿å­ï¼ˆCurrent æ ‘ï¼‰æ›¿æ¢æ‰ã€‚ğŸ \n\n### 2.3 Fiber çš„ä¼˜å…ˆçº§ç®¡ç†\n\nFiber èŠ‚ç‚¹é€šè¿‡**ä¼˜å…ˆçº§**å†³å®šæ›´æ–°çš„é¡ºåºã€‚React ä½¿ç”¨ä»¥ä¸‹ä¼˜å…ˆçº§ï¼ˆç”±é«˜åˆ°ä½ï¼‰ï¼š\n- **Immediate**ï¼šåŒæ­¥ä»»åŠ¡ï¼Œå¿…é¡»ç«‹å³å®Œæˆï¼ˆæ¯”å¦‚ç”¨æˆ·è¾“å…¥ï¼‰\n- **UserBlocking**ï¼šé«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œæ¯”å¦‚ç‚¹å‡»æˆ–æ»šåŠ¨\n- **Normal**ï¼šæ™®é€šä»»åŠ¡ï¼Œæ¯”å¦‚æ•°æ®åŠ è½½åçš„æ¸²æŸ“\n- **Low**ï¼šä½ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œæ¯”å¦‚åå°æ•°æ®é¢„å–\n- **Idle**ï¼šç©ºé—²æ—¶æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚åˆ†ææ—¥å¿—\n\n**ä»£ç ç¤ºä¾‹**ï¼šæ„Ÿå—ä¼˜å…ˆçº§çš„æ•ˆæœ\n\n```jsx\nimport React, { useState } from 'react';\n\nfunction PriorityDemo() {\n  const [highPriorityCount, setHighPriorityCount] = useState(0);\n  const [lowPriorityCount, setLowPriorityCount] = useState(0);\n\n  const handleHighPriority = () => {\n    setHighPriorityCount(highPriorityCount + 1);\n  };\n\n  const handleLowPriority = () => {\n    // æ¨¡æ‹Ÿä½ä¼˜å…ˆçº§æ›´æ–°\n    requestIdleCallback(() => {\n      setLowPriorityCount(lowPriorityCount + 1);\n    });\n  };\n\n  return (\n    <div>\n      <button onClick={handleHighPriority}>é«˜ä¼˜å…ˆçº§: {highPriorityCount}</button>\n      <button onClick={handleLowPriority}>ä½ä¼˜å…ˆçº§: {lowPriorityCount}</button>\n    </div>\n  );\n}\n```\n\n**è¿è¡Œç»“æœ**ï¼šå¿«é€Ÿç‚¹å‡»ä¸¤ä¸ªæŒ‰é’®ï¼Œé«˜ä¼˜å…ˆçº§è®¡æ•°å™¨ä¼šæ›´å¿«æ›´æ–°ï¼Œå› ä¸º React ä¼˜å…ˆå¤„ç†ç”¨æˆ·äº¤äº’ã€‚\n\n> *Tips: é¿å…åœ¨é«˜é¢‘äº‹ä»¶ï¼ˆå¦‚ onScrollï¼‰ä¸­è§¦å‘å¤§é‡çŠ¶æ€æ›´æ–°ï¼Œè€ƒè™‘ä½¿ç”¨é˜²æŠ–æˆ–èŠ‚æµï¼š*\n> ```jsx\n> import { debounce } from 'lodash';\n> const handleScroll = debounce(() => setPosition(window.scrollY), 100);\n> ```\n\n---\n\n## 3. Schedulerï¼šReact çš„â€œä»»åŠ¡è°ƒåº¦ä¸­å¿ƒâ€ ğŸ“…\n\nReact çš„çŠ¶æ€æ›´æ–°è°ƒåº¦ç¦»ä¸å¼€ **Scheduler**ï¼Œå®ƒæ˜¯ React å¹¶å‘æ¸²æŸ“çš„æ ¸å¿ƒæ¨¡å—ï¼Œè´Ÿè´£åè°ƒä»»åŠ¡çš„æ‰§è¡Œæ—¶æœºã€‚Scheduler å°±åƒä¸€ä¸ªâ€œä»»åŠ¡è°ƒåº¦ä¸­å¿ƒâ€ï¼Œæ ¹æ®ä¼˜å…ˆçº§å’Œæµè§ˆå™¨ç©ºé—²æ—¶é—´åˆ†é…è®¡ç®—èµ„æºã€‚\n\n### 3.1 Scheduler çš„å·¥ä½œåŸç†\n\nScheduler åŸºäºä»¥ä¸‹åŸåˆ™ï¼š\n- **æ—¶é—´åˆ†ç‰‡ï¼ˆTime Slicingï¼‰**ï¼šå°†å¤§ä»»åŠ¡æ‹†æˆå°ä»»åŠ¡ï¼Œåˆ©ç”¨æµè§ˆå™¨ç©ºé—²æ—¶é—´æ‰§è¡Œã€‚\n- **ä¼˜å…ˆçº§è°ƒåº¦**ï¼šé«˜ä¼˜å…ˆçº§ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œï¼Œä½ä¼˜å…ˆçº§ä»»åŠ¡å¯èƒ½è¢«æš‚åœã€‚\n- **åä½œå¼è°ƒåº¦**ï¼šä¸æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯åä½œï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚\n\nScheduler ä½¿ç”¨æµè§ˆå™¨çš„ `requestIdleCallback` å’Œ `MessageChannel` å®ç°ä»»åŠ¡è°ƒåº¦ã€‚å®ƒçš„æ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š\n1. æ¥æ”¶çŠ¶æ€æ›´æ–°ä»»åŠ¡ï¼Œåˆ†é…ä¼˜å…ˆçº§ã€‚\n2. å°†ä»»åŠ¡æ”¾å…¥ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆHeap ç»“æ„ï¼‰ã€‚\n3. åœ¨æµè§ˆå™¨ç©ºé—²æ—¶ï¼Œæ‰§è¡Œæœ€é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ã€‚\n4. å¦‚æœæ—¶é—´ä¸è¶³ï¼Œæš‚åœä»»åŠ¡ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡ç©ºé—²ã€‚\n\n**ç±»æ¯”**ï¼šScheduler å°±åƒä¸€ä¸ªèªæ˜çš„å¿«é€’è°ƒåº¦å‘˜ï¼Œæ ¹æ®åŒ…è£¹çš„ç´§æ€¥ç¨‹åº¦ï¼ˆä¼˜å…ˆçº§ï¼‰å’Œé“è·¯æƒ…å†µï¼ˆæµè§ˆå™¨ç©ºé—²æ—¶é—´ï¼‰å†³å®šæ´¾é€é¡ºåºã€‚ğŸšš\n\n### 3.2 ä¼˜å…ˆçº§é˜Ÿåˆ—çš„å®ç°\n\nScheduler ä½¿ç”¨**æœ€å°å †**ï¼ˆMin-Heapï¼‰ç®¡ç†ä»»åŠ¡é˜Ÿåˆ—ï¼Œç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡å§‹ç»ˆæ’åœ¨å‰é¢ã€‚ä»¥ä¸‹æ˜¯ç®€åŒ–ç‰ˆçš„ä¼ªä»£ç ï¼š\n\n```javascript\nclass Scheduler {\n  constructor() {\n    this.taskQueue = new MinHeap();\n  }\n\n  scheduleTask(task, priority) {\n    this.taskQueue.push({ task, priority });\n  }\n\n  runTasks(deadline) {\n    while (this.taskQueue.size() > 0 && deadline.timeRemaining() > 0) {\n      const { task } = this.taskQueue.pop();\n      task();\n    }\n  }\n}\n```\n\n**å®é™…åº”ç”¨**ï¼šå½“ä½ å¿«é€Ÿè¾“å…¥æ–‡æœ¬ï¼ŒReact ä¼šä¼˜å…ˆå¤„ç†è¾“å…¥æ¡†çš„æ›´æ–°ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰ï¼Œè€Œåå°æ•°æ®çš„æ¸²æŸ“ï¼ˆä½ä¼˜å…ˆçº§ï¼‰å¯èƒ½è¢«å»¶è¿Ÿã€‚\n\n> *Tips: å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶ä»»åŠ¡ä¼˜å…ˆçº§ï¼Œå¯ä»¥ä½¿ç”¨ `scheduler` åŒ…æä¾›çš„ APIï¼š*\n> ```jsx\n> import { scheduleCallback, NormalPriority } from 'scheduler';\n> scheduleCallback(NormalPriority, () => {\n>   console.log('ä½ä¼˜å…ˆçº§ä»»åŠ¡');\n> });\n> ```\n\n---\n\n## 4. å¹¶å‘æ¸²æŸ“ï¼šReact çš„â€œå¤šçº¿ç¨‹â€é­”æ³• ğŸ§µ\n\nReact 18 å¼•å…¥äº†**å¹¶å‘æ¸²æŸ“**ï¼Œè®©çŠ¶æ€æ›´æ–°è°ƒåº¦æ›´æ™ºèƒ½ã€‚å¹¶å‘æ¸²æŸ“å…è®¸ React åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œå¹¶åœ¨å¿…è¦æ—¶ä¸­æ–­ä½ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œä¼˜å…ˆå®Œæˆé«˜ä¼˜å…ˆçº§ä»»åŠ¡ã€‚\n\n### 4.1 å¹¶å‘æ¸²æŸ“çš„æ ¸å¿ƒç‰¹æ€§\n\n- **å¯ä¸­æ–­æ¸²æŸ“**ï¼šReact å¯ä»¥åœ¨æ¸²æŸ“ä¸­é€”æš‚åœï¼Œå¤„ç†æ›´ç´§æ€¥çš„ä»»åŠ¡ã€‚\n- **ä¼˜å…ˆçº§è°ƒåº¦**ï¼šé€šè¿‡ Scheduler åŠ¨æ€è°ƒæ•´ä»»åŠ¡é¡ºåºã€‚\n- **è¿‡æ¸¡æ›´æ–°ï¼ˆTransitionï¼‰**ï¼šåŒºåˆ†ç´§æ€¥æ›´æ–°å’Œéç´§æ€¥æ›´æ–°ã€‚\n\n**ä»£ç ç¤ºä¾‹**ï¼šä½¿ç”¨ `startTransition` å®ç°å¹³æ»‘çš„è¿‡æ¸¡æ›´æ–°\n\n```jsx\nimport React, { useState, useTransition } from 'react';\n\nfunction SearchList() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const [isPending, startTransition] = useTransition();\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setQuery(value);\n    startTransition(() => {\n      // æ¨¡æ‹Ÿè€—æ—¶æœç´¢\n      const newResults = Array(10000)\n        .fill(value)\n        .map((item, i) => `${item}-${i}`);\n      setResults(newResults);\n    });\n  };\n\n  return (\n    <div>\n      <input value={query} onChange={handleChange} />\n      {isPending ? <div>Loading...</div> : <ul>{results.map((item) => <li key={item}>{item}</li>)}</ul>}\n    </div>\n  );\n}\n```\n\n**è¿è¡Œç»“æœ**ï¼šè¾“å…¥æ—¶ï¼Œè¾“å…¥æ¡†ä¿æŒæµç•…ï¼ˆç´§æ€¥æ›´æ–°ï¼‰ï¼Œè€Œæœç´¢ç»“æœçš„æ¸²æŸ“ï¼ˆè¿‡æ¸¡æ›´æ–°ï¼‰åœ¨åå°è¿›è¡Œï¼Œé¿å…å¡é¡¿ã€‚\n\n**ç±»æ¯”**ï¼š`startTransition` å°±åƒä½ åœ¨çƒ§æ°´æ—¶é¡ºä¾¿æ´—ç¢—ï¼Œæ°´å¼€äº†ï¼ˆç´§æ€¥ä»»åŠ¡ï¼‰å°±å…ˆå…³ç«ï¼Œæ´—ç¢—ï¼ˆéç´§æ€¥ä»»åŠ¡ï¼‰å¯ä»¥ç¨åå†ç»§ç»­ã€‚ğŸ«–\n\n> *Tips: ä½¿ç”¨ `startTransition` åŒ…è£¹éç´§æ€¥çš„çŠ¶æ€æ›´æ–°ï¼Œé¿å…é˜»å¡ç”¨æˆ·äº¤äº’ï¼š*\n> ```jsx\n> startTransition(() => {\n>   setData(heavyComputation());\n> });\n> ```\n\n### 4.2 å¹¶å‘æ¸²æŸ“çš„å†…éƒ¨æœºåˆ¶\n\nå¹¶å‘æ¸²æŸ“ä¾èµ–äº Fiber æ¶æ„å’Œ Scheduler çš„åä½œã€‚ä»¥ä¸‹æ˜¯ç®€åŒ–æµç¨‹ï¼š\n1. **è§¦å‘æ›´æ–°**ï¼šè°ƒç”¨ `setState` æˆ– `startTransition`ï¼Œåˆ›å»º Update å¯¹è±¡ã€‚\n2. **åˆ†é…ä¼˜å…ˆçº§**ï¼šæ™®é€šæ›´æ–°åˆ†é…é«˜ä¼˜å…ˆçº§ï¼Œè¿‡æ¸¡æ›´æ–°åˆ†é…ä½ä¼˜å…ˆçº§ã€‚\n3. **æ„å»º Fiber æ ‘**ï¼šReact åŸºäºä¼˜å…ˆçº§æ„å»º WorkInProgress æ ‘ã€‚\n4. **ä¸­æ–­ä¸æ¢å¤**ï¼šå¦‚æœé«˜ä¼˜å…ˆçº§ä»»åŠ¡æ’å…¥ï¼Œæš‚åœå½“å‰æ¸²æŸ“ï¼Œä¼˜å…ˆå¤„ç†ã€‚\n5. **æäº¤æ¸²æŸ“**ï¼šå®Œæˆ Fiber æ ‘æ„å»ºåï¼Œæ›´æ–° DOMã€‚\n\n**è¡¨æ ¼**ï¼šæ™®é€šæ›´æ–° vs è¿‡æ¸¡æ›´æ–°çš„å¯¹æ¯”\n\n| ç‰¹æ€§               | æ™®é€šæ›´æ–°                     | è¿‡æ¸¡æ›´æ–°ï¼ˆstartTransitionï¼‰       |\n|--------------------|------------------------------|-----------------------------------|\n| **ä¼˜å…ˆçº§**         | é«˜ï¼ˆUserBlocking æˆ– Normalï¼‰ | ä½ï¼ˆLow æˆ– Idleï¼‰                |\n| **å¯ä¸­æ–­æ€§**       | ä¸å¯ä¸­æ–­                     | å¯ä¸­æ–­                           |\n| **å…¸å‹åœºæ™¯**       | ç”¨æˆ·è¾“å…¥ã€ç‚¹å‡»               | æ•°æ®åŠ è½½ã€åˆ—è¡¨è¿‡æ»¤               |\n| **ç”¨æˆ·ä½“éªŒ**       | å³æ—¶å“åº”                     | å¯èƒ½æœ‰å»¶è¿Ÿï¼Œé…åˆ Loading çŠ¶æ€    |\n| **ä»£ç ç¤ºä¾‹**       | `setQuery(value)`            | `startTransition(() => setResults(newResults))` |\n\n> *Tips: åœ¨å¤æ‚åˆ—è¡¨æˆ–å¤§æ•°æ®æ¸²æŸ“æ—¶ï¼Œç»“åˆ `useDeferredValue` å»¶è¿Ÿä½ä¼˜å…ˆçº§çŠ¶æ€æ›´æ–°ï¼š*\n> ```jsx\n> const deferredQuery = useDeferredValue(query);\n> ```\n\n---\n\n## 5. æœ€ä½³å®è·µï¼šè®©çŠ¶æ€æ›´æ–°è°ƒåº¦æ›´é«˜æ•ˆ ğŸš€\n\næŒæ¡äº† React çŠ¶æ€æ›´æ–°è°ƒåº¦çš„åŸç†åï¼Œå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­ä¼˜åŒ–æ€§èƒ½ï¼Ÿä»¥ä¸‹æ˜¯ 10 æ¡å®ç”¨å»ºè®®ï¼Œæ¯æ¡éƒ½é…æœ‰ä»£ç ç¤ºä¾‹å’Œå¹½é»˜çš„ç±»æ¯”ã€‚\n\n### 5.1 åˆå¹¶çŠ¶æ€æ›´æ–°ï¼Œå‡å°‘æ¸²æŸ“æ¬¡æ•°\n\n**é—®é¢˜**ï¼šå¤šæ¬¡è°ƒç”¨ `setState` å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„æ¸²æŸ“ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨å•ä¸€çŠ¶æ€å¯¹è±¡æˆ–å‡½æ•°å¼æ›´æ–°åˆå¹¶æ›´æ–°ã€‚\n\n```jsx\nfunction Form() {\n  const [form, setForm] = useState({ name: '', email: '' });\n\n  const handleChange = (field, value) => {\n    setForm(prev => ({ ...prev, [field]: value }));\n  };\n\n  return (\n    <div>\n      <input value={form.name} onChange={(e) => handleChange('name', e.target.value)} />\n      <input value={form.email} onChange={(e) => handleChange('email', e.target.value)} />\n    </div>\n  );\n}\n```\n\n**ç±»æ¯”**ï¼šåˆ«æ¯æ¬¡ä¹°ä¸€æ ¹èƒ¡èåœå°±è·‘ä¸€è¶Ÿè¶…å¸‚ï¼Œæ”’å¤Ÿä¸€ç¯®å­å†ç»“è´¦ï¼ğŸ›’\n\n> *Tips: ä½¿ç”¨å¯¹è±¡ç®¡ç†å¤šä¸ªçŠ¶æ€ï¼Œé¿å…åˆ›å»ºå¤šä¸ª `useState` Hookï¼Œå‡å°‘ Fiber èŠ‚ç‚¹çš„ç»´æŠ¤æˆæœ¬ã€‚*\n\n### 5.2 ä½¿ç”¨ useReducer ç®¡ç†å¤æ‚çŠ¶æ€\n\n**é—®é¢˜**ï¼šå¤šä¸ªçŠ¶æ€ä¹‹é—´çš„ä¾èµ–å…³ç³»å¤æ‚ï¼Œå®¹æ˜“å¯¼è‡´é€»è¾‘æ··ä¹±ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `useReducer` é›†ä¸­ç®¡ç†çŠ¶æ€æ›´æ–°ã€‚\n\n```jsx\nimport React, { useReducer } from 'react';\n\nconst initialState = { count: 0, step: 1 };\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'increment':\n      return { ...state, count: state.count + state.step };\n    case 'setStep':\n      return { ...state, step: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction Counter() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <div>\n      <p>Count: {state.count}</p>\n      <input\n        type=\"number\"\n        value={state.step}\n        onChange={(e) => dispatch({ type: 'setStep', payload: Number(e.target.value) })}\n      />\n      <button onClick={() => dispatch({ type: 'increment' })}>Add</button>\n    </div>\n  );\n}\n```\n\n**ç±»æ¯”**ï¼šä¸å…¶è®©æ¯ä¸ªå¨å¸ˆï¼ˆçŠ¶æ€ï¼‰è‡ªå·±è°ƒæ–™ï¼Œä¸å¦‚äº¤ç»™ä¸€ä¸ªä¸»å¨ï¼ˆreducerï¼‰ç»Ÿä¸€æŒ‡æŒ¥ï¼ğŸ³\n\n> *Tips: å½“çŠ¶æ€æ›´æ–°æ¶‰åŠå¤šä¸ªæ¡ä»¶æˆ–å¤æ‚é€»è¾‘æ—¶ï¼Œä¼˜å…ˆé€‰æ‹© `useReducer` è€Œéå¤šä¸ª `useState`ã€‚*\n\n### 5.3 å»¶è¿Ÿä½ä¼˜å…ˆçº§æ›´æ–°\n\n**é—®é¢˜**ï¼šå¤§æ•°æ®æ¸²æŸ“å¯èƒ½å¯¼è‡´ç•Œé¢å¡é¡¿ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `startTransition` æˆ– `useDeferredValue`ã€‚\n\n```jsx\nimport React, { useState, useDeferredValue } from 'react';\n\nfunction BigList() {\n  const [query, setQuery] = useState('');\n  const deferredQuery = useDeferredValue(query);\n\n  const items = Array(10000)\n    .fill(deferredQuery)\n    .map((item, i) => `${item}-${i}`);\n\n  return (\n    <div>\n      <input value={query} onChange={(e) => setQuery(e.target.value)} />\n      <ul>{items.map((item) => <li key={item}>{item}</li>)}</ul>\n    </div>\n  );\n}\n```\n\n**ç±»æ¯”**ï¼šåˆ«è®©å¤§è´§è½¦ï¼ˆå¤§æ•°æ®æ¸²æŸ“ï¼‰å µä½é«˜é€Ÿè·¯ï¼ˆä¸»çº¿ç¨‹ï¼‰ï¼Œè®©å®ƒåœ¨å¤œé—´ï¼ˆä½ä¼˜å…ˆçº§ï¼‰æ‚„æ‚„è·‘ï¼ğŸš›\n\n> *Tips: ä½¿ç”¨ `useDeferredValue` å»¶è¿Ÿéå…³é”®çŠ¶æ€çš„æ¸²æŸ“ï¼Œä¿æŒè¾“å…¥æ¡†ç­‰äº¤äº’çš„æµç•…æ€§ã€‚*\n\n### 5.4 é¿å…ä¸å¿…è¦çš„å‰¯ä½œç”¨\n\n**é—®é¢˜**ï¼š`useEffect` ä¸­é¢‘ç¹è§¦å‘å‰¯ä½œç”¨å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šç²¾ç¡®æ§åˆ¶ä¾èµ–æ•°ç»„ï¼Œå‡å°‘å‰¯ä½œç”¨æ‰§è¡Œã€‚\n\n```jsx\nimport React, { useState, useEffect } from 'react';\n\nfunction DataFetcher({ id }) {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    fetch(`/api/data/${id}`)\n      .then((res) => res.json())\n      .then(setData);\n  }, [id]); // ä»…å½“ id å˜åŒ–æ—¶è§¦å‘\n\n  return <div>{data ? data.name : 'Loading...'}</div>;\n}\n```\n\n**ç±»æ¯”**ï¼šåˆ«æ¯æ¬¡æœ‰äººæ•²é—¨ï¼ˆçŠ¶æ€å˜åŒ–ï¼‰éƒ½è·‘å»å¼€é—¨ï¼ˆè§¦å‘å‰¯ä½œç”¨ï¼‰ï¼Œå…ˆçœ‹çœ‹æ˜¯ä¸æ˜¯å¿«é€’å‘˜ï¼ˆä¾èµ–é¡¹ï¼‰ï¼ğŸšª\n\n> *Tips: ä½¿ç”¨ ESLint çš„ `exhaustive-deps` è§„åˆ™ï¼Œç¡®ä¿ `useEffect` çš„ä¾èµ–æ•°ç»„å®Œæ•´ä¸”æ­£ç¡®ã€‚*\n\n### 5.5 ä½¿ç”¨ React.memo å‡å°‘å­ç»„ä»¶æ¸²æŸ“\n\n**é—®é¢˜**ï¼šçˆ¶ç»„ä»¶çŠ¶æ€æ›´æ–°å¯èƒ½å¯¼è‡´å­ç»„ä»¶ä¸å¿…è¦åœ°é‡æ–°æ¸²æŸ“ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `React.memo` åŒ…è£¹å­ç»„ä»¶ã€‚\n\n```jsx\nimport React, { memo } from 'react';\n\nconst Child = memo(({ value }) => {\n  console.log('Child rendered');\n  return <div>{value}</div>;\n});\n\nfunction Parent() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <button onClick={() => setCount(count + 1)}>Count: {count}</button>\n      <Child value=\"Static\" />\n    </div>\n  );\n}\n```\n\n**ç±»æ¯”**ï¼šåˆ«æ¯æ¬¡è£…ä¿®å®¢å…ï¼ˆçˆ¶ç»„ä»¶ï¼‰éƒ½æŠŠå§å®¤ï¼ˆå­ç»„ä»¶ï¼‰ä¹Ÿåˆ·ä¸€éæ¼†ï¼ğŸ¨\n\n> *Tips: ç»“åˆ `useMemo` æˆ– `useCallback` ç¡®ä¿ä¼ é€’ç»™ `React.memo` çš„ props ç¨³å®šã€‚*\n\n### 5.6 æ‰¹é‡å¤„ç†å¼‚æ­¥æ›´æ–°\n\n**é—®é¢˜**ï¼šå¼‚æ­¥ä»£ç ä¸­çš„å¤šæ¬¡ `setState` å¯èƒ½è§¦å‘å¤šæ¬¡æ¸²æŸ“ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `unstable_batchedUpdates`ã€‚\n\n```jsx\nimport { unstable_batchedUpdates } from 'react-dom';\n\nfunction AsyncUpdater() {\n  const [count, setCount] = useState(0);\n\n  const handleAsync = async () => {\n    const data = await fetchData();\n    unstable_batchedUpdates(() => {\n      setCount(data.count);\n      setCount((prev) => prev + 1);\n    });\n  };\n\n  return <button onClick={handleAsync}>Update</button>;\n}\n```\n\n**ç±»æ¯”**ï¼šåˆ«æ¯æ¬¡æ”¶åˆ°ä¸€å°é‚®ä»¶ï¼ˆå¼‚æ­¥æ•°æ®ï¼‰å°±è·‘å»æ‰“å°ï¼Œæ”’å¤Ÿä¸€å †å†ç»Ÿä¸€å¤„ç†ï¼ğŸ“¬\n\n> *Tips: åœ¨å¤æ‚å¼‚æ­¥é€»è¾‘ä¸­ï¼Œå§‹ç»ˆä½¿ç”¨ `unstable_batchedUpdates` ç¡®ä¿æ€§èƒ½ä¼˜åŒ–ã€‚*\n\n### 5.7 ä½¿ç”¨ useCallback ç¨³å®šå‡½æ•°å¼•ç”¨\n\n**é—®é¢˜**ï¼šå‡½æ•°ç»„ä»¶ä¸­çš„å‡½æ•°æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šåˆ›å»ºæ–°å¼•ç”¨ï¼Œå¯èƒ½å¯¼è‡´å­ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `useCallback` ç¼“å­˜å‡½æ•°ã€‚\n\n```jsx\nimport React, { useState, useCallback } from 'react';\n\nfunction Parent() {\n  const [count, setCount] = useState(0);\n\n  const handleClick = useCallback(() => {\n    setCount((prev) => prev + 1);\n  }, []); // ä¾èµ–æ•°ç»„ä¸ºç©ºï¼Œå‡½æ•°å¼•ç”¨ç¨³å®š\n\n  return <Child onClick={handleClick} />;\n}\n\nconst Child = React.memo(({ onClick }) => {\n  console.log('Child rendered');\n  return <button onClick={onClick}>Click</button>;\n});\n```\n\n**ç±»æ¯”**ï¼šåˆ«æ¯æ¬¡å¼€ä¼šï¼ˆæ¸²æŸ“ï¼‰éƒ½æ¢ä¸ªæ–°æ‰‹æœºå·ç ï¼ˆå‡½æ•°å¼•ç”¨ï¼‰ï¼Œç”¨åŒä¸€ä¸ªå·ç ï¼ˆuseCallbackï¼‰å°±å¤Ÿäº†ï¼ğŸ“±\n\n> *Tips: ç¡®ä¿ `useCallback` çš„ä¾èµ–æ•°ç»„æ­£ç¡®ï¼Œé¿å…æ„å¤–çš„é€»è¾‘é”™è¯¯ã€‚*\n\n### 5.8 å»¶è¿Ÿåˆå§‹åŒ–çŠ¶æ€\n\n**é—®é¢˜**ï¼šåˆå§‹çŠ¶æ€çš„è®¡ç®—å¯èƒ½è€—æ—¶ï¼Œå½±å“é¦–æ¬¡æ¸²æŸ“ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `useState` çš„æƒ°æ€§åˆå§‹åŒ–ã€‚\n\n```jsx\nfunction ExpensiveComponent() {\n  const [data, setData] = useState(() => {\n    // è€—æ—¶è®¡ç®—\n    return expensiveComputation();\n  });\n\n  return <div>{data}</div>;\n}\n```\n\n**ç±»æ¯”**ï¼šåˆ«åœ¨å®¢äººæ¥ä¹‹å‰ï¼ˆæ¸²æŸ“ï¼‰å°±æŠŠæ‰€æœ‰èœï¼ˆåˆå§‹çŠ¶æ€ï¼‰éƒ½ç‚’å¥½ï¼Œå…ˆå‡†å¤‡å¥½èœå•ï¼ˆæƒ°æ€§åˆå§‹åŒ–ï¼‰ï¼ğŸ²\n\n> *Tips: å¯¹äºå¤æ‚æˆ–è€—æ—¶çš„åˆå§‹çŠ¶æ€ï¼Œå§‹ç»ˆä½¿ç”¨å‡½æ•°å½¢å¼ä¼ é€’ç»™ `useState`ã€‚*\n\n### 5.9 ä½¿ç”¨ Concurrent ç‰¹æ€§ä¼˜åŒ–å¤§æ•°æ®æ¸²æŸ“\n\n**é—®é¢˜**ï¼šå¤§æ•°æ®æ¸²æŸ“å¯èƒ½å¯¼è‡´ä¸»çº¿ç¨‹é˜»å¡ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šç»“åˆ `startTransition` å’Œ `Suspense`ã€‚\n\n```jsx\nimport React, { Suspense, useState, useTransition } from 'react';\n\nfunction BigDataList() {\n  const [query, setQuery] = useState('');\n  const [isPending, startTransition] = useTransition();\n\n  const handleChange = (e) => {\n    startTransition(() => {\n      setQuery(e.target.value);\n    });\n  };\n\n  return (\n    <div>\n      <input onChange={handleChange} />\n      <Suspense fallback={<div>Loading...</div>}>\n        <DataList query={query} />\n      </Suspense>\n    </div>\n  );\n}\n\nfunction DataList({ query }) {\n  const data = fetchData(query); // æ¨¡æ‹Ÿæ•°æ®è·å–\n  return <ul>{data.map((item) => <li key={item}>{item}</li>)}</ul>;\n}\n```\n\n**ç±»æ¯”**ï¼šåˆ«è®©å¤§æ•°æ®åƒå µè½¦ä¸€æ ·å¡ä½é«˜é€Ÿè·¯ï¼Œç”¨ `Suspense` è®¾ç½®è·¯éšœï¼Œ`startTransition` å¼•å¯¼è½¦æµï¼ğŸš¦\n\n> *Tips: åœ¨å¤§æ•°æ®åœºæ™¯ä¸‹ï¼Œå§‹ç»ˆæ­é… `Suspense` å’Œ `startTransition`ï¼Œæä¾›å¹³æ»‘çš„ç”¨æˆ·ä½“éªŒã€‚*\n\n### 5.10 ç›‘æ§çŠ¶æ€æ›´æ–°æ€§èƒ½\n\n**é—®é¢˜**ï¼šçŠ¶æ€æ›´æ–°å¯èƒ½å¯¼è‡´æ€§èƒ½ç“¶é¢ˆï¼Œä½†éš¾ä»¥å®šä½ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ React DevTools å’Œæ€§èƒ½åˆ†æå·¥å…·ã€‚\n\n**æ­¥éª¤**ï¼š\n1. æ‰“å¼€ React DevToolsï¼Œå¯ç”¨â€œHighlight updatesâ€åŠŸèƒ½ï¼Œè§‚å¯Ÿå“ªäº›ç»„ä»¶é¢‘ç¹æ¸²æŸ“ã€‚\n2. ä½¿ç”¨ Chrome çš„ Performance é¢æ¿ï¼Œå½•åˆ¶çŠ¶æ€æ›´æ–°æ—¶çš„æ€§èƒ½è¡¨ç°ã€‚\n3. é’ˆå¯¹é«˜é¢‘æ¸²æŸ“çš„ç»„ä»¶ï¼Œæ£€æŸ¥æ˜¯å¦å¯ä»¥é€šè¿‡ `React.memo` æˆ–çŠ¶æ€ä¼˜åŒ–è§£å†³ã€‚\n\n**ç±»æ¯”**ï¼šåˆ«è®©çŠ¶æ€æ›´æ–°åƒä¸ªâ€œéšå½¢åƒè´§â€å·åƒæ€§èƒ½ï¼Œç”¨ DevTools æŠ“ä½å®ƒï¼ğŸ”\n\n> *Tips: å®šæœŸä½¿ç”¨ React DevTools åˆ†æç»„ä»¶æ¸²æŸ“ï¼Œæ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆå¹¶ä¼˜åŒ–ã€‚*\n\n---\n\n## 6. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ ğŸ”\n\nä»¥ä¸‹æ˜¯å¼€å‘è€…åœ¨çŠ¶æ€æ›´æ–°è°ƒåº¦ä¸­å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œé…ä»¥è§£å†³æ–¹æ¡ˆå’Œä»£ç ç¤ºä¾‹ã€‚\n\n### 6.1 çŠ¶æ€æ›´æ–°æœªè§¦å‘æ¸²æŸ“\n\n**é—®é¢˜**ï¼šè°ƒç”¨ `setState` åï¼Œç»„ä»¶æœªé‡æ–°æ¸²æŸ“ã€‚  \n**åŸå› **ï¼šReact æ£€æµ‹åˆ°çŠ¶æ€å¼•ç”¨æœªå˜åŒ–ï¼ˆæµ…æ¯”è¾ƒï¼‰ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿çŠ¶æ€æ˜¯æ–°å¯¹è±¡ã€‚\n\n```jsx\nfunction BuggyComponent() {\n  const [items, setItems] = useState([]);\n\n  const addItem = () => {\n    items.push('new item'); // é”™è¯¯ï¼šä¿®æ”¹åŸæ•°ç»„\n    setItems(items); // å¼•ç”¨æœªå˜ï¼Œæ¸²æŸ“ä¸è§¦å‘\n  };\n\n  const fixedAddItem = () => {\n    setItems([...items, 'new item']); // åˆ›å»ºæ–°æ•°ç»„\n  };\n\n  return <button onClick={fixedAddItem}>Add</button>;\n}\n```\n\n> *Tips: å§‹ç»ˆåˆ›å»ºæ–°å¯¹è±¡æˆ–æ•°ç»„ä½œä¸ºçŠ¶æ€å€¼ï¼Œé¿å…ç›´æ¥ä¿®æ”¹åŸçŠ¶æ€ã€‚*\n\n### 6.2 å‰¯ä½œç”¨æ‰§è¡Œé¡ºåºå¼‚å¸¸\n\n**é—®é¢˜**ï¼š`useEffect` çš„æ‰§è¡Œé¡ºåºä¸ç¬¦åˆé¢„æœŸã€‚  \n**åŸå› **ï¼šReact å¼‚æ­¥å¤„ç†å‰¯ä½œç”¨ï¼Œå¯èƒ½ä¸çŠ¶æ€æ›´æ–°ä¸åŒæ­¥ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `useLayoutEffect` æˆ–è°ƒæ•´é€»è¾‘ã€‚\n\n```jsx\nfunction EffectOrder() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    console.log('Effect:', count);\n  }, [count]);\n\n  useLayoutEffect(() => {\n    console.log('Layout Effect:', count);\n  }, [count]);\n\n  return <button onClick={() => setCount(count + 1)}>Count: {count}</button>;\n}\n```\n\n**è¿è¡Œç»“æœ**ï¼š\n- `useLayoutEffect` åœ¨ DOM æ›´æ–°åç«‹å³æ‰§è¡Œã€‚\n- `useEffect` åœ¨æµè§ˆå™¨ç»˜åˆ¶åå¼‚æ­¥æ‰§è¡Œã€‚\n\n> *Tips: å¦‚æœå‰¯ä½œç”¨éœ€è¦åŒæ­¥æ›´æ–° DOMï¼Œä½¿ç”¨ `useLayoutEffect`ï¼›å¦åˆ™ä¼˜å…ˆä½¿ç”¨ `useEffect`ã€‚*\n\n### 6.3 çŠ¶æ€æ›´æ–°å¯¼è‡´æ— é™å¾ªç¯\n\n**é—®é¢˜**ï¼šçŠ¶æ€æ›´æ–°è§¦å‘ `useEffect`ï¼Œåˆå¯¼è‡´æ–°çš„çŠ¶æ€æ›´æ–°ï¼Œå½¢æˆå¾ªç¯ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥ä¾èµ–æ•°ç»„ï¼Œæ·»åŠ æ¡ä»¶æ§åˆ¶ã€‚\n\n```jsx\nfunction InfiniteLoop() {\n  const [count, setCount] = useState(0);\n\n  // é”™è¯¯ï¼šæ— é™å¾ªç¯\n  useEffect(() => {\n    setCount(count + 1);\n  }, [count]);\n\n  // æ­£ç¡®ï¼šæ·»åŠ æ¡ä»¶\n  useEffect(() => {\n    if (count < 5) {\n      setCount(count + 1);\n    }\n  }, [count]);\n\n  return <div>{count}</div>;\n}\n```\n\n> *Tips: ä½¿ç”¨ `useEffect` æ—¶ï¼Œå§‹ç»ˆæ˜ç¡®ä¾èµ–æ•°ç»„ï¼Œå¹¶é¿å…åœ¨å‰¯ä½œç”¨ä¸­ç›´æ¥è§¦å‘çŠ¶æ€æ›´æ–°ã€‚*\n\n---\n\n## 7. æœªæ¥å±•æœ›ï¼šReact çŠ¶æ€è°ƒåº¦çš„æ¼”è¿› ğŸš€\n\nReact çš„çŠ¶æ€è°ƒåº¦æœºåˆ¶ä»åœ¨ä¸æ–­è¿›åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯èƒ½çš„æœªæ¥è¶‹åŠ¿ï¼š\n- **æ›´æ™ºèƒ½çš„ä¼˜å…ˆçº§ç®¡ç†**ï¼šReact å¯èƒ½å¼•å…¥æ›´ç»†ç²’åº¦çš„ä¼˜å…ˆçº§æ§åˆ¶ï¼Œå…è®¸å¼€å‘è€…è‡ªå®šä¹‰è°ƒåº¦ç­–ç•¥ã€‚\n- **æ›´å¼ºå¤§çš„å¹¶å‘ç‰¹æ€§**ï¼šéšç€æµè§ˆå™¨å¯¹å¹¶å‘ API çš„æ”¯æŒå¢å¼ºï¼ŒReact å¯èƒ½è¿›ä¸€æ­¥ä¼˜åŒ–æ—¶é—´åˆ†ç‰‡ã€‚\n- **AI é©±åŠ¨çš„æ€§èƒ½ä¼˜åŒ–**ï¼šç»“åˆæœºå™¨å­¦ä¹ ï¼ŒReact å¯èƒ½è‡ªåŠ¨åˆ†æç»„ä»¶æ ‘ï¼Œæ¨èæœ€ä½³çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€‚\n\n**ç±»æ¯”**ï¼šReact çš„è°ƒåº¦æœºåˆ¶å°±åƒä¸€è¾†æ™ºèƒ½æ±½è½¦ï¼Œæœªæ¥å¯èƒ½å‡çº§ä¸ºè‡ªåŠ¨é©¾é©¶é£èˆ¹ï¼Œå¸¦ä½ é£å‘æ€§èƒ½å·…å³°ï¼ğŸ›¸\n\n---\n\n## æ€»ç»“ï¼šæˆä¸ºçŠ¶æ€è°ƒåº¦çš„â€œé­”æ³•å¸ˆâ€ ğŸ§™â€â™‚ï¸\n\nReact çš„çŠ¶æ€æ›´æ–°è°ƒåº¦æ˜¯æ¡†æ¶æ€§èƒ½çš„åŸºçŸ³ï¼Œæ¶µç›–äº† Fiber æ¶æ„ã€Scheduler å’Œå¹¶å‘æ¸²æŸ“ç­‰æ ¸å¿ƒæŠ€æœ¯ã€‚é€šè¿‡æœ¬æ–‡ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†ï¼š\n- **çŠ¶æ€æ›´æ–°çš„å…¨æµç¨‹**ï¼šä» `setState` åˆ°å±å¹•æ¸²æŸ“çš„æ¯ä¸€æ­¥ã€‚\n- **Fiber æ¶æ„çš„å¥¥ç§˜**ï¼šå¦‚ä½•é€šè¿‡å¢é‡æ¸²æŸ“å’Œä¼˜å…ˆçº§ç®¡ç†æå‡æ€§èƒ½ã€‚\n- **Scheduler çš„å·¥ä½œåŸç†**ï¼šå¦‚ä½•åè°ƒä»»åŠ¡ï¼Œç¡®ä¿ä¸»çº¿ç¨‹æµç•…ã€‚\n- **å¹¶å‘æ¸²æŸ“çš„é­…åŠ›**ï¼šå¦‚ä½•åˆ©ç”¨ `startTransition` å’Œ `useDeferredValue` ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚\n- **æœ€ä½³å®è·µä¸è°ƒè¯•æŠ€å·§**ï¼š10 æ¡å®ç”¨å»ºè®®å’Œå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆã€‚\n\nå¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸ä»…è®©ä½ ç†è§£äº† React çŠ¶æ€è°ƒåº¦çš„åº•å±‚åŸç†ï¼Œè¿˜è®©ä½ æ„Ÿå—åˆ°æŠ€æœ¯çš„ä¹è¶£ï¼ğŸ‰ ä¸‹æ¬¡å†™ React ä»£ç æ—¶ï¼Œè¯•ç€æƒ³è±¡ä½ åœ¨æŒ‡æŒ¥ä¸€ä¸ªâ€œè°ƒåº¦äº¤å“ä¹å›¢â€ï¼Œè®©æ¯ä¸ªçŠ¶æ€æ›´æ–°éƒ½å¥å‡ºå®Œç¾çš„éŸ³ç¬¦ã€‚ğŸ»\n\n> **æƒ³æ›´è¿›ä¸€æ­¥ï¼Ÿ**  \n> - æ·±å…¥é˜…è¯» React æºç ï¼ˆ`react-reconciler` å’Œ `scheduler` åŒ…ï¼‰  \n> - å®éªŒ React 18 çš„å¹¶å‘ç‰¹æ€§ï¼Œå°è¯•åœ¨é¡¹ç›®ä¸­å¼•å…¥ `startTransition`  \n> - å…³æ³¨ React ç¤¾åŒºçš„æœ€æ–°åŠ¨æ€ï¼Œéšæ—¶æŒæ¡æ¡†æ¶çš„æ¼”è¿›æ–¹å‘\n\nå¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³åˆ†äº«ä½ çš„çŠ¶æ€è°ƒåº¦â€œé­”æ³•â€ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼ğŸ˜„\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),B=(l,e)=>{for(var r in e)c(l,r,{get:e[r],enumerable:!0})},d=(l,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!u.call(l,a)&&a!==r&&c(l,a,{get:()=>e[a],enumerable:!(s=E(e,a))||s.enumerable});return l};var b=(l,e,r)=>(r=l!=null?p(F(l)):{},d(e||!l||!l.__esModule?c(r,\"default\",{value:l,enumerable:!0}):r,l)),m=l=>d(c({},\"__esModule\",{value:!0}),l);var i=g((C,t)=>{t.exports=_jsx_runtime});var k={};B(k,{default:()=>h,frontmatter:()=>f});var n=b(i()),f={type:\"Post\",title:\"React \\u4E2D\\u662F\\u5982\\u4F55\\u5B9E\\u73B0\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u7684\\uFF1F\\u{1F9D9}\\u200D\\u2642\\uFE0F\",date:\"2025-01-15\",description:\"\\u6DF1\\u5165\\u5256\\u6790 React \\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u7684\\u5E95\\u5C42\\u539F\\u7406\\uFF0C\\u63ED\\u79D8 Fiber \\u67B6\\u6784\\u3001\\u8C03\\u5EA6\\u7B97\\u6CD5\\u4E0E\\u4F18\\u5148\\u7EA7\\u7BA1\\u7406\\uFF0C\\u7ED3\\u5408\\u5B9E\\u4F8B\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u52A9\\u4F60\\u6210\\u4E3A\\u72B6\\u6001\\u7BA1\\u7406\\u7684\\u2018\\u8C03\\u5EA6\\u5927\\u5E08\\u2019\\u3002\",keywords:\"React, \\u72B6\\u6001\\u66F4\\u65B0, \\u8C03\\u5EA6\\u7B97\\u6CD5, Fiber \\u67B6\\u6784, \\u4F18\\u5148\\u7EA7\\u7BA1\\u7406, React \\u5E76\\u53D1, \\u524D\\u7AEF\\u5F00\\u53D1, \\u6027\\u80FD\\u4F18\\u5316\",author:\"\\u6653\\u9F99\",image:\"/images/hero/react-scheduling.jpg\",tags:[\"React\",\"JavaScript\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"React\"};function o(l){let e={a:\"a\",blockquote:\"blockquote\",br:\"br\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"React \\u662F\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7684\\u201C\\u9B54\\u6CD5\\u4E66\\u201D\\uFF0C\\u800C\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u5C31\\u662F\\u4E66\\u4E2D\\u6700\\u795E\\u79D8\\u7684\\u4E00\\u9875\\u3002\\u5B83\\u51B3\\u5B9A\\u4E86 React \\u5982\\u4F55\\u5728\\u7528\\u6237\\u4EA4\\u4E92\\u3001\\u5F02\\u6B65\\u4EFB\\u52A1\\u548C\\u6E32\\u67D3\\u4E4B\\u95F4\\u4F18\\u96C5\\u8D77\\u821E\\uFF0C\\u786E\\u4FDD\\u754C\\u9762\\u6D41\\u7545\\u5982\\u4E1D\\uFF0C\\u540C\\u65F6\\u907F\\u514D\\u6027\\u80FD\\u201C\\u7FFB\\u8F66\\u201D\\u3002\\u{1F697}\\u{1F4A5} \\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165 React \\u7684\\u201C\\u8C03\\u5EA6\\u5927\\u8111\\u201D\\uFF0C\\u63ED\\u5F00 Fiber \\u67B6\\u6784\\u3001\\u4F18\\u5148\\u7EA7\\u7BA1\\u7406\\u548C\\u5E76\\u53D1\\u66F4\\u65B0\\u7684\\u9762\\u7EB1\\uFF0C\\u914D\\u4EE5\\u6E05\\u6670\\u7684\\u8868\\u683C\\u3001\\u5E7D\\u9ED8\\u7684\\u7C7B\\u6BD4\\u548C\\u5B9E\\u7528\\u7684\\u4EE3\\u7801\\u793A\\u4F8B\\uFF0C\\u8BA9\\u4F60\\u4E0D\\u4EC5\\u770B\\u5F97\\u61C2\\uFF0C\\u8FD8\\u80FD\\u7528\\u5F97\\u6E9C\\uFF01\\u{1F389}\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u8C01\\u9002\\u5408\\u8BFB\\u8FD9\\u7BC7\\u6587\\u7AE0\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5BF9 React \\u539F\\u7406\\u597D\\u5947\\uFF0C\\u60F3\\u77E5\\u9053 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u80CC\\u540E\\u53D1\\u751F\\u4E86\\u4EC0\\u4E48\\u7684\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5E0C\\u671B\\u4F18\\u5316 React \\u5E94\\u7528\\u6027\\u80FD\\uFF0C\\u89E3\\u51B3\\u5361\\u987F\\u6216\\u66F4\\u65B0\\u5EF6\\u8FDF\\u7684\\u5DE5\\u7A0B\\u5E08\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u60F3\\u6DF1\\u5165\\u4E86\\u89E3 Fiber \\u67B6\\u6784\\u548C React \\u5E76\\u53D1\\u7279\\u6027\\u7684\\u6280\\u672F geek\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4F60\\u5C06\\u6536\\u83B7\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u7406\\u89E3 React \\u72B6\\u6001\\u66F4\\u65B0\\u7684\\u5B8C\\u6574\\u751F\\u547D\\u5468\\u671F\\uFF0C\\u4ECE\\u89E6\\u53D1\\u5230\\u6E32\\u67D3\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u638C\\u63E1 Fiber \\u67B6\\u6784\\u7684\\u6838\\u5FC3\\u7406\\u5FF5\\u548C\\u4F18\\u5148\\u7EA7\\u8C03\\u5EA6\\u673A\\u5236\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5B66\\u4F1A\\u901A\\u8FC7\\u4EE3\\u7801\\u793A\\u4F8B\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u4F18\\u5316\\u72B6\\u6001\\u7BA1\\u7406\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4E00\\u5806\\u7C7B\\u6BD4\\u548C\\u5E7D\\u9ED8\\uFF0C\\u8BA9\\u67AF\\u71E5\\u7684\\u6280\\u672F\\u77E5\\u8BC6\\u53D8\\u5F97\\u201C\\u6709\\u70B9\\u597D\\u73A9\\u201D \\u{1F60E}\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u601D\\u7EF4\\u94FE\\u4ECE-setstate-\\u5230\\u5C4F\\u5E55\\u6E32\\u67D3\\u7684\\u65C5\\u7A0B-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#\\u601D\\u7EF4\\u94FE\\u4ECE-setstate-\\u5230\\u5C4F\\u5E55\\u6E32\\u67D3\\u7684\\u65C5\\u7A0B-\\uFE0F\",children:\"\\u601D\\u7EF4\\u94FE\\uFF1A\\u4ECE setState \\u5230\\u5C4F\\u5E55\\u6E32\\u67D3\\u7684\\u65C5\\u7A0B \\u{1F5FA}\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u6DF1\\u5165\\u6280\\u672F\\u7EC6\\u8282\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u68B3\\u7406\\u4E00\\u4E0B React \\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u7684\\u6574\\u4F53\\u6D41\\u7A0B\\uFF0C\\u5C31\\u50CF\\u89C4\\u5212\\u4E00\\u6B21\\u201C\\u4ECE\\u952E\\u76D8\\u5230\\u5C4F\\u5E55\\u201D\\u7684\\u5192\\u9669\\u4E4B\\u65C5\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E6\\u53D1\\u72B6\\u6001\\u66F4\\u65B0\"}),\"\\uFF1A\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u7684 setter \\u51FD\\u6570\\uFF0CReact \\u6355\\u83B7\\u66F4\\u65B0\\u8BF7\\u6C42\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u521B\\u5EFA\\u66F4\\u65B0\\u5BF9\\u8C61\"}),\"\\uFF1AReact \\u5C06\\u66F4\\u65B0\\u5C01\\u88C5\\u6210\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Update\"})})})}),\" \\u5BF9\\u8C61\\uFF0C\\u5305\\u542B\\u65B0\\u72B6\\u6001\\u548C\\u4F18\\u5148\\u7EA7\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8C03\\u5EA6\\u66F4\\u65B0\"}),\"\\uFF1A\\u66F4\\u65B0\\u88AB\\u9001\\u5165\\u8C03\\u5EA6\\u5668\\uFF08Scheduler\\uFF09\\uFF0C\\u6839\\u636E\\u4F18\\u5148\\u7EA7\\u51B3\\u5B9A\\u4F55\\u65F6\\u5904\\u7406\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Fiber \\u534F\\u8C03\"}),\"\\uFF1AReact \\u4F7F\\u7528 Fiber \\u67B6\\u6784\\u8FDB\\u884C\\u589E\\u91CF\\u5F0F\\u534F\\u8C03\\uFF0C\\u51B3\\u5B9A\\u54EA\\u4E9B\\u7EC4\\u4EF6\\u9700\\u8981\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u63D0\\u4EA4\\u6E32\\u67D3\"}),\"\\uFF1A\\u534F\\u8C03\\u5B8C\\u6210\\u540E\\uFF0CReact \\u66F4\\u65B0 DOM\\uFF0C\\u5B8C\\u6210\\u5C4F\\u5E55\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5904\\u7406\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\\u6267\\u884C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u6216\\u5176\\u4ED6\\u526F\\u4F5C\\u7528\\u903B\\u8F91\\uFF0C\\u5B8C\\u6210\\u66F4\\u65B0\\u5468\\u671F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4E2A\\u6D41\\u7A0B\\u770B\\u4F3C\\u7B80\\u5355\\uFF0C\\u4F46\\u6BCF\\u4E2A\\u6B65\\u9AA4\\u90FD\\u85CF\\u7740\\u590D\\u6742\\u7684\\u903B\\u8F91\\u548C\\u4F18\\u5316\\u6280\\u5DE7\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u9010\\u4E00\\u62C6\\u89E3\\uFF0C\\u5E26\\u4F60\\u8D70\\u8FDB React \\u7684\\u201C\\u8C03\\u5EA6\\u9B54\\u6CD5\\u201D\\u4E16\\u754C\\uFF01\\u2728\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"1-\\u72B6\\u6001\\u66F4\\u65B0\\u7684\\u8D77\\u70B9setstate-\\u548C-usestate-\\u7684\\u79D8\\u5BC6-\",children:(0,n.jsx)(e.a,{href:\"#1-\\u72B6\\u6001\\u66F4\\u65B0\\u7684\\u8D77\\u70B9setstate-\\u548C-usestate-\\u7684\\u79D8\\u5BC6-\",children:\"1. \\u72B6\\u6001\\u66F4\\u65B0\\u7684\\u8D77\\u70B9\\uFF1AsetState \\u548C useState \\u7684\\u79D8\\u5BC6 \\u{1F914}\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"React \\u7684\\u72B6\\u6001\\u66F4\\u65B0\\u4ECE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\"\\uFF08\\u7C7B\\u7EC4\\u4EF6\\uFF09\\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\"\\uFF08\\u51FD\\u6570\\u7EC4\\u4EF6\\uFF09\\u5F00\\u59CB\\u3002\\u8868\\u9762\\u4E0A\\u770B\\uFF0C\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState({ count: count + 1 })\"})})})}),\" \\u5C31\\u50CF\\u5F80 React \\u7684\\u201C\\u90AE\\u7BB1\\u201D\\u91CC\\u6254\\u4E86\\u4E00\\u5C01\\u4FE1\\uFF0C\\u4F46\\u8FD9\\u5C01\\u4FE1\\u7684\\u6295\\u9012\\u8FC7\\u7A0B\\u53EF\\u4E0D\\u7B80\\u5355\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"11-setstate-\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#11-setstate-\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\",children:\"1.1 setState \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u4F60\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\"\\uFF0CReact \\u5E76\\u4E0D\\u7ACB\\u523B\\u66F4\\u65B0\\u72B6\\u6001\\uFF0C\\u800C\\u662F\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Update\"})})})}),\" \\u5BF9\\u8C61\\uFF0C\\u653E\\u5165\\u7EC4\\u4EF6\\u7684\\u66F4\\u65B0\\u961F\\u5217\\u3002\\u8FD9\\u4E2A\\u5BF9\\u8C61\\u5305\\u542B\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u65B0\\u72B6\\u6001\"}),\"\\uFF08\\u6216\\u66F4\\u65B0\\u51FD\\u6570\\uFF09\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5148\\u7EA7\"}),\"\\uFF08\\u51B3\\u5B9A\\u4E86\\u66F4\\u65B0\\u7684\\u7D27\\u6025\\u7A0B\\u5EA6\\uFF09\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u56DE\\u8C03\\u51FD\\u6570\"}),\"\\uFF08\\u53EF\\u9009\\uFF0C\\u6267\\u884C\\u5B8C\\u6210\\u540E\\u8C03\\u7528\\uFF09\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Counter\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Component\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  state\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { count: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ count: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state.count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state.count); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F9D\\u7136\\u662F\\u65E7\\u503C\\uFF01\\u{1F605}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".handleClick}>{\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".state.count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u72B6\\u6001\\u6CA1\\u6709\\u7ACB\\u5373\\u66F4\\u65B0\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,\"React \\u7684\\u72B6\\u6001\\u66F4\\u65B0\\u662F\",(0,n.jsx)(e.strong,{children:\"\\u5F02\\u6B65\\u7684\"}),\"\\uFF0C\\u4E3A\\u4E86\\u6027\\u80FD\\u4F18\\u5316\\uFF0CReact \\u4F1A\\u6279\\u91CF\\u5904\\u7406\\u591A\\u6B21 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u8C03\\u7528\\uFF0C\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u6E32\\u67D3\\u3002\\u8FD9\\u5C31\\u50CF\\u9910\\u5385\\u7684\\u670D\\u52A1\\u5458\\u4E0D\\u4F1A\\u6BCF\\u6B21\\u70B9\\u83DC\\u90FD\\u8DD1\\u53BB\\u53A8\\u623F\\uFF0C\\u800C\\u662F\\u6512\\u591F\\u4E00\\u684C\\u7684\\u8BA2\\u5355\\u518D\\u7EDF\\u4E00\\u5904\\u7406\\u3002\\u{1F37D}\\uFE0F\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u907F\\u514D\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u540E\\u7ACB\\u5373\\u4F9D\\u8D56\\u72B6\\u6001\\u503C\\u3002\\u5982\\u679C\\u9700\\u8981\\u57FA\\u4E8E\\u6700\\u65B0\\u72B6\\u6001\\u6267\\u884C\\u903B\\u8F91\\uFF0C\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u7684\\u51FD\\u6570\\u5F0F\\u66F4\\u65B0\\uFF1A\"]})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prevState\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ count: prevState.count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }));\"})]})})})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"12-usestate-\\u7684\\u9B54\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#12-usestate-\\u7684\\u9B54\\u6CD5\",children:\"1.2 useState \\u7684\\u9B54\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u51FD\\u6570\\u7EC4\\u4EF6\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u662F\\u72B6\\u6001\\u66F4\\u65B0\\u7684\\u4E3B\\u89D2\\u3002\\u5B83\\u7684 setter \\u51FD\\u6570\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setCount\"})})})}),\"\\uFF09\\u4E0E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u7C7B\\u4F3C\\uFF0C\\u4F46\\u66F4\\u7B80\\u6D01\\uFF0C\\u4E14\\u5B8C\\u5168\\u57FA\\u4E8E Hooks \\u7684\\u673A\\u5236\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Counter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F9D\\u7136\\u662F\\u65E7\\u503C\\uFF01\\u{1F648}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleClick}>{count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"useState \\u7684\\u5F02\\u6B65\\u672C\\u8D28\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u4E0E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u4E00\\u6837\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setCount\"})})})}),\" \\u4E0D\\u4F1A\\u7ACB\\u5373\\u66F4\\u65B0\\u72B6\\u6001\\u3002React \\u4F1A\\u5C06\\u66F4\\u65B0\\u4EFB\\u52A1\\u63A8\\u5165\\u961F\\u5217\\uFF0C\\u7B49\\u5F85\\u5408\\u9002\\u7684\\u65F6\\u673A\\u5904\\u7406\\u3002\\u8FD9\\u5C31\\u50CF\\u4F60\\u5728\\u5496\\u5561\\u5E97\\u70B9\\u5355\\uFF0C\\u670D\\u52A1\\u5458\\u4E0D\\u4F1A\\u7ACB\\u523B\\u7ED9\\u4F60\\u5496\\u5561\\uFF0C\\u800C\\u662F\\u628A\\u8BA2\\u5355\\u52A0\\u5165\\u961F\\u5217\\uFF0C\\u7EDF\\u4E00\\u4EA4\\u7ED9\\u5496\\u5561\\u5E08\\u3002\\u2615\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"Tips: \\u5982\\u679C\\u9700\\u8981\\u57FA\\u4E8E\\u6700\\u65B0\\u72B6\\u6001\\u66F4\\u65B0\\uFF0C\\u4F7F\\u7528\\u51FD\\u6570\\u5F0F\\u66F4\\u65B0\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prevCount\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prevCount \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})})})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"13-\\u6279\\u91CF\\u66F4\\u65B0batching\",children:(0,n.jsx)(e.a,{href:\"#13-\\u6279\\u91CF\\u66F4\\u65B0batching\",children:\"1.3 \\u6279\\u91CF\\u66F4\\u65B0\\uFF08Batching\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"React \\u7684\\u6279\\u91CF\\u66F4\\u65B0\\u662F\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u5173\\u952E\\u3002\\u5F53\\u4F60\\u5728\\u540C\\u4E00\\u4E2A\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4E2D\\u591A\\u6B21\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setCount\"})})})}),\"\\uFF0CReact \\u4F1A\\u5C06\\u8FD9\\u4E9B\\u66F4\\u65B0\\u5408\\u5E76\\uFF0C\\u53EA\\u89E6\\u53D1\\u4E00\\u6B21\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Counter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6700\\u7EC8 count \\u53EA\\u589E\\u52A0 1\\uFF01\\u{1F631}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleClick}>{count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u53EA\\u589E\\u52A0 1\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,\"React \\u5728\\u4E8B\\u4EF6\\u5904\\u7406\\u51FD\\u6570\\u4E2D\\u542F\\u7528\\u4E86\",(0,n.jsx)(e.strong,{children:\"\\u81EA\\u52A8\\u6279\\u5904\\u7406\"}),\"\\uFF0C\\u5C06\\u591A\\u6B21 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setCount\"})})})}),\" \\u5408\\u5E76\\u4E3A\\u4E00\\u6B21\\u66F4\\u65B0\\uFF0C\\u57FA\\u4E8E\\u6700\\u540E\\u7684\\u72B6\\u6001\\u503C\\u8BA1\\u7B97\\u7ED3\\u679C\\u3002\\u5982\\u679C\\u60F3\\u8BA9\\u6BCF\\u6B21 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setCount\"})})})}),\" \\u90FD\\u751F\\u6548\\uFF0C\\u9700\\u4F7F\\u7528\\u51FD\\u6570\\u5F0F\\u66F4\\u65B0\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// count \\u589E\\u52A0 3\\uFF01\\u{1F389}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5728\\u5F02\\u6B65\\u4EE3\\u7801\\uFF08\\u5982 setTimeout \\u6216 Promise\\uFF09\\u4E2D\\uFF0CReact \\u4E0D\\u4F1A\\u81EA\\u52A8\\u6279\\u5904\\u7406\\u66F4\\u65B0\\u3002\\u9700\\u8981\\u624B\\u52A8\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"unstable_batchedUpdates\"})})})}),\"\\uFF1A\"]})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { unstable_batchedUpdates } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react-dom'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  unstable_batchedUpdates\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"2-fiber-\\u67B6\\u6784react-\\u7684\\u65F6\\u95F4\\u7BA1\\u7406\\u5927\\u5E08-\",children:(0,n.jsx)(e.a,{href:\"#2-fiber-\\u67B6\\u6784react-\\u7684\\u65F6\\u95F4\\u7BA1\\u7406\\u5927\\u5E08-\",children:\"2. Fiber \\u67B6\\u6784\\uFF1AReact \\u7684\\u201C\\u65F6\\u95F4\\u7BA1\\u7406\\u5927\\u5E08\\u201D \\u23F0\"})}),`\n`,(0,n.jsx)(e.p,{children:\"React 16 \\u5F15\\u5165\\u4E86 Fiber \\u67B6\\u6784\\uFF0C\\u4ECE\\u6839\\u672C\\u4E0A\\u6539\\u53D8\\u4E86\\u72B6\\u6001\\u66F4\\u65B0\\u7684\\u8C03\\u5EA6\\u65B9\\u5F0F\\u3002Fiber \\u5C31\\u50CF React \\u7684\\u201C\\u65F6\\u95F4\\u7BA1\\u7406\\u5927\\u5E08\\u201D\\uFF0C\\u8BA9\\u66F4\\u65B0\\u4EFB\\u52A1\\u53EF\\u4EE5\\u88AB\\u6253\\u65AD\\u3001\\u6682\\u505C\\u548C\\u6062\\u590D\\uFF0C\\u786E\\u4FDD\\u9AD8\\u4F18\\u5148\\u7EA7\\u7684\\u4EFB\\u52A1\\uFF08\\u6BD4\\u5982\\u7528\\u6237\\u8F93\\u5165\\uFF09\\u4F18\\u5148\\u5904\\u7406\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"21-\\u4EC0\\u4E48\\u662F-fiber\",children:(0,n.jsx)(e.a,{href:\"#21-\\u4EC0\\u4E48\\u662F-fiber\",children:\"2.1 \\u4EC0\\u4E48\\u662F Fiber\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Fiber \\u662F React \\u7684\\u6700\\u5C0F\\u5DE5\\u4F5C\\u5355\\u5143\\uFF0C\\u4EE3\\u8868\\u4E00\\u4E2A\\u7EC4\\u4EF6\\u7684\\u8BA1\\u7B97\\u4EFB\\u52A1\\u3002\\u6BCF\\u4E2A\\u7EC4\\u4EF6\\u90FD\\u6709\\u4E00\\u4E2A Fiber \\u8282\\u70B9\\uFF0C\\u5305\\u542B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u72B6\\u6001\"}),\"\\uFF1A\\u7EC4\\u4EF6\\u7684\\u72B6\\u6001\\u548C props\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5DE5\\u4F5C\\u7C7B\\u578B\"}),\"\\uFF1A\\u6BD4\\u5982\\u6E32\\u67D3\\u3001\\u66F4\\u65B0\\u6216\\u526F\\u4F5C\\u7528\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5148\\u7EA7\"}),\"\\uFF1A\\u51B3\\u5B9A\\u4EFB\\u52A1\\u7684\\u7D27\\u6025\\u7A0B\\u5EA6\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6307\\u9488\"}),\"\\uFF1A\\u6307\\u5411\\u7236\\u8282\\u70B9\\u3001\\u5B50\\u8282\\u70B9\\u548C\\u5144\\u5F1F\\u8282\\u70B9\\uFF0C\\u5F62\\u6210 Fiber \\u6811\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Fiber \\u67B6\\u6784\\u7684\\u6838\\u5FC3\\u4F18\\u52BF\\u662F\",(0,n.jsx)(e.strong,{children:\"\\u589E\\u91CF\\u5F0F\\u6E32\\u67D3\"}),\"\\u548C\",(0,n.jsx)(e.strong,{children:\"\\u53EF\\u4E2D\\u65AD\\u6027\"}),\"\\u3002\\u8FD9\\u5C31\\u50CF\\u4F60\\u5728\\u5199\\u4EE3\\u7801\\u65F6\\uFF0C\\u63A5\\u5230\\u8001\\u677F\\u7684\\u7D27\\u6025\\u4EFB\\u52A1\\uFF08\\u6BD4\\u5982\\u4FEE\\u590D\\u7EBF\\u4E0A bug\\uFF09\\uFF0C\\u53EF\\u4EE5\\u5148\\u6682\\u505C\\u624B\\u5934\\u7684\\u5DE5\\u4F5C\\uFF0C\\u5904\\u7406\\u5B8C\\u540E\\u518D\\u7EE7\\u7EED\\u3002\\u{1F4BB}\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"22-fiber-\\u6811\\u7684\\u6784\\u5EFA\\u4E0E\\u66F4\\u65B0\",children:(0,n.jsx)(e.a,{href:\"#22-fiber-\\u6811\\u7684\\u6784\\u5EFA\\u4E0E\\u66F4\\u65B0\",children:\"2.2 Fiber \\u6811\\u7684\\u6784\\u5EFA\\u4E0E\\u66F4\\u65B0\"})}),`\n`,(0,n.jsx)(e.p,{children:\"React \\u7EF4\\u62A4\\u4E24\\u68F5 Fiber \\u6811\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Current Tree\"}),\"\\uFF1A\\u5F53\\u524D\\u5C4F\\u5E55\\u4E0A\\u663E\\u793A\\u7684 Fiber \\u6811\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"WorkInProgress Tree\"}),\"\\uFF1A\\u6B63\\u5728\\u6784\\u5EFA\\u7684 Fiber \\u6811\\uFF0C\\u7528\\u4E8E\\u4E0B\\u4E00\\u6B21\\u6E32\\u67D3\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F53\\u72B6\\u6001\\u66F4\\u65B0\\u89E6\\u53D1\\u65F6\\uFF0CReact \\u4F1A\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u4ECE\\u89E6\\u53D1\\u66F4\\u65B0\\u7684\\u7EC4\\u4EF6\\u5F00\\u59CB\\uFF0C\\u6784\\u5EFA WorkInProgress \\u6811\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u904D\\u5386 Fiber \\u8282\\u70B9\\uFF0C\\u6267\\u884C\",(0,n.jsx)(e.strong,{children:\"\\u534F\\u8C03\\uFF08Reconciliation\\uFF09\"}),\"\\uFF0C\\u627E\\u51FA\\u9700\\u8981\\u66F4\\u65B0\\u7684\\u8282\\u70B9\\u3002\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5C06\\u66F4\\u65B0\\u5E94\\u7528\\u5230 DOM\\uFF0C\\u5207\\u6362 Current \\u6811\\u4E3A\\u65B0\\u7684 WorkInProgress \\u6811\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u8FD9\\u5C31\\u50CF\\u4F60\\u5728\\u88C5\\u4FEE\\u623F\\u5B50\\uFF0C\\u5148\\u5728\\u4E00\\u65C1\\u642D\\u5EFA\\u4E00\\u4E2A\\u201C\\u6837\\u677F\\u95F4\\u201D\\uFF08WorkInProgress \\u6811\\uFF09\\uFF0C\\u786E\\u8BA4\\u6CA1\\u95EE\\u9898\\u540E\\u518D\\u628A\\u65E7\\u623F\\u5B50\\uFF08Current \\u6811\\uFF09\\u66FF\\u6362\\u6389\\u3002\\u{1F3E0}\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"23-fiber-\\u7684\\u4F18\\u5148\\u7EA7\\u7BA1\\u7406\",children:(0,n.jsx)(e.a,{href:\"#23-fiber-\\u7684\\u4F18\\u5148\\u7EA7\\u7BA1\\u7406\",children:\"2.3 Fiber \\u7684\\u4F18\\u5148\\u7EA7\\u7BA1\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Fiber \\u8282\\u70B9\\u901A\\u8FC7\",(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5148\\u7EA7\"}),\"\\u51B3\\u5B9A\\u66F4\\u65B0\\u7684\\u987A\\u5E8F\\u3002React \\u4F7F\\u7528\\u4EE5\\u4E0B\\u4F18\\u5148\\u7EA7\\uFF08\\u7531\\u9AD8\\u5230\\u4F4E\\uFF09\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Immediate\"}),\"\\uFF1A\\u540C\\u6B65\\u4EFB\\u52A1\\uFF0C\\u5FC5\\u987B\\u7ACB\\u5373\\u5B8C\\u6210\\uFF08\\u6BD4\\u5982\\u7528\\u6237\\u8F93\\u5165\\uFF09\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"UserBlocking\"}),\"\\uFF1A\\u9AD8\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1\\uFF0C\\u6BD4\\u5982\\u70B9\\u51FB\\u6216\\u6EDA\\u52A8\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Normal\"}),\"\\uFF1A\\u666E\\u901A\\u4EFB\\u52A1\\uFF0C\\u6BD4\\u5982\\u6570\\u636E\\u52A0\\u8F7D\\u540E\\u7684\\u6E32\\u67D3\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Low\"}),\"\\uFF1A\\u4F4E\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1\\uFF0C\\u6BD4\\u5982\\u540E\\u53F0\\u6570\\u636E\\u9884\\u53D6\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Idle\"}),\"\\uFF1A\\u7A7A\\u95F2\\u65F6\\u6267\\u884C\\u7684\\u4EFB\\u52A1\\uFF0C\\u6BD4\\u5982\\u5206\\u6790\\u65E5\\u5FD7\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\"}),\"\\uFF1A\\u611F\\u53D7\\u4F18\\u5148\\u7EA7\\u7684\\u6548\\u679C\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" PriorityDemo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"highPriorityCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setHighPriorityCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"lowPriorityCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setLowPriorityCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleHighPriority\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setHighPriorityCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(highPriorityCount \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleLowPriority\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6A21\\u62DF\\u4F4E\\u4F18\\u5148\\u7EA7\\u66F4\\u65B0\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    requestIdleCallback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setLowPriorityCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(lowPriorityCount \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleHighPriority}>\\u9AD8\\u4F18\\u5148\\u7EA7: {highPriorityCount}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleLowPriority}>\\u4F4E\\u4F18\\u5148\\u7EA7: {lowPriorityCount}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FD0\\u884C\\u7ED3\\u679C\"}),\"\\uFF1A\\u5FEB\\u901F\\u70B9\\u51FB\\u4E24\\u4E2A\\u6309\\u94AE\\uFF0C\\u9AD8\\u4F18\\u5148\\u7EA7\\u8BA1\\u6570\\u5668\\u4F1A\\u66F4\\u5FEB\\u66F4\\u65B0\\uFF0C\\u56E0\\u4E3A React \\u4F18\\u5148\\u5904\\u7406\\u7528\\u6237\\u4EA4\\u4E92\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"Tips: \\u907F\\u514D\\u5728\\u9AD8\\u9891\\u4E8B\\u4EF6\\uFF08\\u5982 onScroll\\uFF09\\u4E2D\\u89E6\\u53D1\\u5927\\u91CF\\u72B6\\u6001\\u66F4\\u65B0\\uFF0C\\u8003\\u8651\\u4F7F\\u7528\\u9632\\u6296\\u6216\\u8282\\u6D41\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { debounce } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'lodash'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" handleScroll\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" debounce\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setPosition\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(window.scrollY), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"3-schedulerreact-\\u7684\\u4EFB\\u52A1\\u8C03\\u5EA6\\u4E2D\\u5FC3-\",children:(0,n.jsx)(e.a,{href:\"#3-schedulerreact-\\u7684\\u4EFB\\u52A1\\u8C03\\u5EA6\\u4E2D\\u5FC3-\",children:\"3. Scheduler\\uFF1AReact \\u7684\\u201C\\u4EFB\\u52A1\\u8C03\\u5EA6\\u4E2D\\u5FC3\\u201D \\u{1F4C5}\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"React \\u7684\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u79BB\\u4E0D\\u5F00 \",(0,n.jsx)(e.strong,{children:\"Scheduler\"}),\"\\uFF0C\\u5B83\\u662F React \\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u6838\\u5FC3\\u6A21\\u5757\\uFF0C\\u8D1F\\u8D23\\u534F\\u8C03\\u4EFB\\u52A1\\u7684\\u6267\\u884C\\u65F6\\u673A\\u3002Scheduler \\u5C31\\u50CF\\u4E00\\u4E2A\\u201C\\u4EFB\\u52A1\\u8C03\\u5EA6\\u4E2D\\u5FC3\\u201D\\uFF0C\\u6839\\u636E\\u4F18\\u5148\\u7EA7\\u548C\\u6D4F\\u89C8\\u5668\\u7A7A\\u95F2\\u65F6\\u95F4\\u5206\\u914D\\u8BA1\\u7B97\\u8D44\\u6E90\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"31-scheduler-\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#31-scheduler-\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\",children:\"3.1 Scheduler \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Scheduler \\u57FA\\u4E8E\\u4EE5\\u4E0B\\u539F\\u5219\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u65F6\\u95F4\\u5206\\u7247\\uFF08Time Slicing\\uFF09\"}),\"\\uFF1A\\u5C06\\u5927\\u4EFB\\u52A1\\u62C6\\u6210\\u5C0F\\u4EFB\\u52A1\\uFF0C\\u5229\\u7528\\u6D4F\\u89C8\\u5668\\u7A7A\\u95F2\\u65F6\\u95F4\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5148\\u7EA7\\u8C03\\u5EA6\"}),\"\\uFF1A\\u9AD8\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1\\u4F18\\u5148\\u6267\\u884C\\uFF0C\\u4F4E\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1\\u53EF\\u80FD\\u88AB\\u6682\\u505C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u534F\\u4F5C\\u5F0F\\u8C03\\u5EA6\"}),\"\\uFF1A\\u4E0E\\u6D4F\\u89C8\\u5668\\u7684\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u534F\\u4F5C\\uFF0C\\u907F\\u514D\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Scheduler \\u4F7F\\u7528\\u6D4F\\u89C8\\u5668\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"requestIdleCallback\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"MessageChannel\"})})})}),\" \\u5B9E\\u73B0\\u4EFB\\u52A1\\u8C03\\u5EA6\\u3002\\u5B83\\u7684\\u6838\\u5FC3\\u6D41\\u7A0B\\u5982\\u4E0B\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u63A5\\u6536\\u72B6\\u6001\\u66F4\\u65B0\\u4EFB\\u52A1\\uFF0C\\u5206\\u914D\\u4F18\\u5148\\u7EA7\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5C06\\u4EFB\\u52A1\\u653E\\u5165\\u4F18\\u5148\\u7EA7\\u961F\\u5217\\uFF08Heap \\u7ED3\\u6784\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5728\\u6D4F\\u89C8\\u5668\\u7A7A\\u95F2\\u65F6\\uFF0C\\u6267\\u884C\\u6700\\u9AD8\\u4F18\\u5148\\u7EA7\\u7684\\u4EFB\\u52A1\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5982\\u679C\\u65F6\\u95F4\\u4E0D\\u8DB3\\uFF0C\\u6682\\u505C\\u4EFB\\u52A1\\uFF0C\\u7B49\\u5F85\\u4E0B\\u4E00\\u6B21\\u7A7A\\u95F2\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1AScheduler \\u5C31\\u50CF\\u4E00\\u4E2A\\u806A\\u660E\\u7684\\u5FEB\\u9012\\u8C03\\u5EA6\\u5458\\uFF0C\\u6839\\u636E\\u5305\\u88F9\\u7684\\u7D27\\u6025\\u7A0B\\u5EA6\\uFF08\\u4F18\\u5148\\u7EA7\\uFF09\\u548C\\u9053\\u8DEF\\u60C5\\u51B5\\uFF08\\u6D4F\\u89C8\\u5668\\u7A7A\\u95F2\\u65F6\\u95F4\\uFF09\\u51B3\\u5B9A\\u6D3E\\u9001\\u987A\\u5E8F\\u3002\\u{1F69A}\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"32-\\u4F18\\u5148\\u7EA7\\u961F\\u5217\\u7684\\u5B9E\\u73B0\",children:(0,n.jsx)(e.a,{href:\"#32-\\u4F18\\u5148\\u7EA7\\u961F\\u5217\\u7684\\u5B9E\\u73B0\",children:\"3.2 \\u4F18\\u5148\\u7EA7\\u961F\\u5217\\u7684\\u5B9E\\u73B0\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Scheduler \\u4F7F\\u7528\",(0,n.jsx)(e.strong,{children:\"\\u6700\\u5C0F\\u5806\"}),\"\\uFF08Min-Heap\\uFF09\\u7BA1\\u7406\\u4EFB\\u52A1\\u961F\\u5217\\uFF0C\\u786E\\u4FDD\\u6700\\u9AD8\\u4F18\\u5148\\u7EA7\\u7684\\u4EFB\\u52A1\\u59CB\\u7EC8\\u6392\\u5728\\u524D\\u9762\\u3002\\u4EE5\\u4E0B\\u662F\\u7B80\\u5316\\u7248\\u7684\\u4F2A\\u4EE3\\u7801\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Scheduler\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".taskQueue \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MinHeap\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  scheduleTask\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"task\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"priority\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".taskQueue.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ task, priority });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  runTasks\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"deadline\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    while\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".taskQueue.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"size\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" deadline.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"timeRemaining\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"task\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".taskQueue.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      task\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u9645\\u5E94\\u7528\"}),\"\\uFF1A\\u5F53\\u4F60\\u5FEB\\u901F\\u8F93\\u5165\\u6587\\u672C\\uFF0CReact \\u4F1A\\u4F18\\u5148\\u5904\\u7406\\u8F93\\u5165\\u6846\\u7684\\u66F4\\u65B0\\uFF08\\u9AD8\\u4F18\\u5148\\u7EA7\\uFF09\\uFF0C\\u800C\\u540E\\u53F0\\u6570\\u636E\\u7684\\u6E32\\u67D3\\uFF08\\u4F4E\\u4F18\\u5148\\u7EA7\\uFF09\\u53EF\\u80FD\\u88AB\\u5EF6\\u8FDF\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5982\\u679C\\u9700\\u8981\\u624B\\u52A8\\u63A7\\u5236\\u4EFB\\u52A1\\u4F18\\u5148\\u7EA7\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scheduler\"})})})}),\" \\u5305\\u63D0\\u4F9B\\u7684 API\\uFF1A\"]})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { scheduleCallback, NormalPriority } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'scheduler'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"scheduleCallback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(NormalPriority, () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4F4E\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"4-\\u5E76\\u53D1\\u6E32\\u67D3react-\\u7684\\u591A\\u7EBF\\u7A0B\\u9B54\\u6CD5-\",children:(0,n.jsx)(e.a,{href:\"#4-\\u5E76\\u53D1\\u6E32\\u67D3react-\\u7684\\u591A\\u7EBF\\u7A0B\\u9B54\\u6CD5-\",children:\"4. \\u5E76\\u53D1\\u6E32\\u67D3\\uFF1AReact \\u7684\\u201C\\u591A\\u7EBF\\u7A0B\\u201D\\u9B54\\u6CD5 \\u{1F9F5}\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"React 18 \\u5F15\\u5165\\u4E86\",(0,n.jsx)(e.strong,{children:\"\\u5E76\\u53D1\\u6E32\\u67D3\"}),\"\\uFF0C\\u8BA9\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u66F4\\u667A\\u80FD\\u3002\\u5E76\\u53D1\\u6E32\\u67D3\\u5141\\u8BB8 React \\u540C\\u65F6\\u5904\\u7406\\u591A\\u4E2A\\u4EFB\\u52A1\\uFF0C\\u5E76\\u5728\\u5FC5\\u8981\\u65F6\\u4E2D\\u65AD\\u4F4E\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1\\uFF0C\\u4F18\\u5148\\u5B8C\\u6210\\u9AD8\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"41-\\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u6838\\u5FC3\\u7279\\u6027\",children:(0,n.jsx)(e.a,{href:\"#41-\\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u6838\\u5FC3\\u7279\\u6027\",children:\"4.1 \\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u6838\\u5FC3\\u7279\\u6027\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u53EF\\u4E2D\\u65AD\\u6E32\\u67D3\"}),\"\\uFF1AReact \\u53EF\\u4EE5\\u5728\\u6E32\\u67D3\\u4E2D\\u9014\\u6682\\u505C\\uFF0C\\u5904\\u7406\\u66F4\\u7D27\\u6025\\u7684\\u4EFB\\u52A1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5148\\u7EA7\\u8C03\\u5EA6\"}),\"\\uFF1A\\u901A\\u8FC7 Scheduler \\u52A8\\u6001\\u8C03\\u6574\\u4EFB\\u52A1\\u987A\\u5E8F\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FC7\\u6E21\\u66F4\\u65B0\\uFF08Transition\\uFF09\"}),\"\\uFF1A\\u533A\\u5206\\u7D27\\u6025\\u66F4\\u65B0\\u548C\\u975E\\u7D27\\u6025\\u66F4\\u65B0\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\" \\u5B9E\\u73B0\\u5E73\\u6ED1\\u7684\\u8FC7\\u6E21\\u66F4\\u65B0\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useTransition } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SearchList\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"query\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"results\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setResults\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"isPending\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"startTransition\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useTransition\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.target.value;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    startTransition\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u6A21\\u62DF\\u8017\\u65F6\\u641C\\u7D22\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" newResults\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value)\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}-${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setResults\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newResults);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{query} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleChange} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {isPending \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Loading...</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"> \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{results.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{item}>{item}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">)}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FD0\\u884C\\u7ED3\\u679C\"}),\"\\uFF1A\\u8F93\\u5165\\u65F6\\uFF0C\\u8F93\\u5165\\u6846\\u4FDD\\u6301\\u6D41\\u7545\\uFF08\\u7D27\\u6025\\u66F4\\u65B0\\uFF09\\uFF0C\\u800C\\u641C\\u7D22\\u7ED3\\u679C\\u7684\\u6E32\\u67D3\\uFF08\\u8FC7\\u6E21\\u66F4\\u65B0\\uFF09\\u5728\\u540E\\u53F0\\u8FDB\\u884C\\uFF0C\\u907F\\u514D\\u5361\\u987F\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\" \\u5C31\\u50CF\\u4F60\\u5728\\u70E7\\u6C34\\u65F6\\u987A\\u4FBF\\u6D17\\u7897\\uFF0C\\u6C34\\u5F00\\u4E86\\uFF08\\u7D27\\u6025\\u4EFB\\u52A1\\uFF09\\u5C31\\u5148\\u5173\\u706B\\uFF0C\\u6D17\\u7897\\uFF08\\u975E\\u7D27\\u6025\\u4EFB\\u52A1\\uFF09\\u53EF\\u4EE5\\u7A0D\\u540E\\u518D\\u7EE7\\u7EED\\u3002\\u{1FAD6}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\" \\u5305\\u88F9\\u975E\\u7D27\\u6025\\u7684\\u72B6\\u6001\\u66F4\\u65B0\\uFF0C\\u907F\\u514D\\u963B\\u585E\\u7528\\u6237\\u4EA4\\u4E92\\uFF1A\"]})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"startTransition\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"heavyComputation\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"42-\\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u5185\\u90E8\\u673A\\u5236\",children:(0,n.jsx)(e.a,{href:\"#42-\\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u5185\\u90E8\\u673A\\u5236\",children:\"4.2 \\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u5185\\u90E8\\u673A\\u5236\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5E76\\u53D1\\u6E32\\u67D3\\u4F9D\\u8D56\\u4E8E Fiber \\u67B6\\u6784\\u548C Scheduler \\u7684\\u534F\\u4F5C\\u3002\\u4EE5\\u4E0B\\u662F\\u7B80\\u5316\\u6D41\\u7A0B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E6\\u53D1\\u66F4\\u65B0\"}),\"\\uFF1A\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\"\\uFF0C\\u521B\\u5EFA Update \\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5206\\u914D\\u4F18\\u5148\\u7EA7\"}),\"\\uFF1A\\u666E\\u901A\\u66F4\\u65B0\\u5206\\u914D\\u9AD8\\u4F18\\u5148\\u7EA7\\uFF0C\\u8FC7\\u6E21\\u66F4\\u65B0\\u5206\\u914D\\u4F4E\\u4F18\\u5148\\u7EA7\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6784\\u5EFA Fiber \\u6811\"}),\"\\uFF1AReact \\u57FA\\u4E8E\\u4F18\\u5148\\u7EA7\\u6784\\u5EFA WorkInProgress \\u6811\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E2D\\u65AD\\u4E0E\\u6062\\u590D\"}),\"\\uFF1A\\u5982\\u679C\\u9AD8\\u4F18\\u5148\\u7EA7\\u4EFB\\u52A1\\u63D2\\u5165\\uFF0C\\u6682\\u505C\\u5F53\\u524D\\u6E32\\u67D3\\uFF0C\\u4F18\\u5148\\u5904\\u7406\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u63D0\\u4EA4\\u6E32\\u67D3\"}),\"\\uFF1A\\u5B8C\\u6210 Fiber \\u6811\\u6784\\u5EFA\\u540E\\uFF0C\\u66F4\\u65B0 DOM\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8868\\u683C\"}),\"\\uFF1A\\u666E\\u901A\\u66F4\\u65B0 vs \\u8FC7\\u6E21\\u66F4\\u65B0\\u7684\\u5BF9\\u6BD4\"]}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"\\u7279\\u6027\"}),(0,n.jsx)(e.th,{children:\"\\u666E\\u901A\\u66F4\\u65B0\"}),(0,n.jsx)(e.th,{children:\"\\u8FC7\\u6E21\\u66F4\\u65B0\\uFF08startTransition\\uFF09\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5148\\u7EA7\"})}),(0,n.jsx)(e.td,{children:\"\\u9AD8\\uFF08UserBlocking \\u6216 Normal\\uFF09\"}),(0,n.jsx)(e.td,{children:\"\\u4F4E\\uFF08Low \\u6216 Idle\\uFF09\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u53EF\\u4E2D\\u65AD\\u6027\"})}),(0,n.jsx)(e.td,{children:\"\\u4E0D\\u53EF\\u4E2D\\u65AD\"}),(0,n.jsx)(e.td,{children:\"\\u53EF\\u4E2D\\u65AD\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u5178\\u578B\\u573A\\u666F\"})}),(0,n.jsx)(e.td,{children:\"\\u7528\\u6237\\u8F93\\u5165\\u3001\\u70B9\\u51FB\"}),(0,n.jsx)(e.td,{children:\"\\u6570\\u636E\\u52A0\\u8F7D\\u3001\\u5217\\u8868\\u8FC7\\u6EE4\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u7528\\u6237\\u4F53\\u9A8C\"})}),(0,n.jsx)(e.td,{children:\"\\u5373\\u65F6\\u54CD\\u5E94\"}),(0,n.jsx)(e.td,{children:\"\\u53EF\\u80FD\\u6709\\u5EF6\\u8FDF\\uFF0C\\u914D\\u5408 Loading \\u72B6\\u6001\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.strong,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setQuery(value)\"})})})})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition(() => setResults(newResults))\"})})})})})]})]})]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5728\\u590D\\u6742\\u5217\\u8868\\u6216\\u5927\\u6570\\u636E\\u6E32\\u67D3\\u65F6\\uFF0C\\u7ED3\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useDeferredValue\"})})})}),\" \\u5EF6\\u8FDF\\u4F4E\\u4F18\\u5148\\u7EA7\\u72B6\\u6001\\u66F4\\u65B0\\uFF1A\"]})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" deferredQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useDeferredValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(query);\"})]})})})}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u66F4\\u9AD8\\u6548-\",children:(0,n.jsx)(e.a,{href:\"#5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u66F4\\u9AD8\\u6548-\",children:\"5. \\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u66F4\\u9AD8\\u6548 \\u{1F680}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u638C\\u63E1\\u4E86 React \\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u7684\\u539F\\u7406\\u540E\\uFF0C\\u5982\\u4F55\\u5728\\u5B9E\\u9645\\u9879\\u76EE\\u4E2D\\u4F18\\u5316\\u6027\\u80FD\\uFF1F\\u4EE5\\u4E0B\\u662F 10 \\u6761\\u5B9E\\u7528\\u5EFA\\u8BAE\\uFF0C\\u6BCF\\u6761\\u90FD\\u914D\\u6709\\u4EE3\\u7801\\u793A\\u4F8B\\u548C\\u5E7D\\u9ED8\\u7684\\u7C7B\\u6BD4\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"51-\\u5408\\u5E76\\u72B6\\u6001\\u66F4\\u65B0\\u51CF\\u5C11\\u6E32\\u67D3\\u6B21\\u6570\",children:(0,n.jsx)(e.a,{href:\"#51-\\u5408\\u5E76\\u72B6\\u6001\\u66F4\\u65B0\\u51CF\\u5C11\\u6E32\\u67D3\\u6B21\\u6570\",children:\"5.1 \\u5408\\u5E76\\u72B6\\u6001\\u66F4\\u65B0\\uFF0C\\u51CF\\u5C11\\u6E32\\u67D3\\u6B21\\u6570\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u591A\\u6B21\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u53EF\\u80FD\\u5BFC\\u81F4\\u4E0D\\u5FC5\\u8981\\u7684\\u6E32\\u67D3\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528\\u5355\\u4E00\\u72B6\\u6001\\u5BF9\\u8C61\\u6216\\u51FD\\u6570\\u5F0F\\u66F4\\u65B0\\u5408\\u5E76\\u66F4\\u65B0\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Form\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"form\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setForm\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"field\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setForm\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"prev, [field]: value }));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{form.name} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleChange\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'name'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", e.target.value)} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{form.email} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleChange\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'email'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", e.target.value)} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u6BCF\\u6B21\\u4E70\\u4E00\\u6839\\u80E1\\u841D\\u535C\\u5C31\\u8DD1\\u4E00\\u8D9F\\u8D85\\u5E02\\uFF0C\\u6512\\u591F\\u4E00\\u7BEE\\u5B50\\u518D\\u7ED3\\u8D26\\uFF01\\u{1F6D2}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528\\u5BF9\\u8C61\\u7BA1\\u7406\\u591A\\u4E2A\\u72B6\\u6001\\uFF0C\\u907F\\u514D\\u521B\\u5EFA\\u591A\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" Hook\\uFF0C\\u51CF\\u5C11 Fiber \\u8282\\u70B9\\u7684\\u7EF4\\u62A4\\u6210\\u672C\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"52-\\u4F7F\\u7528-usereducer-\\u7BA1\\u7406\\u590D\\u6742\\u72B6\\u6001\",children:(0,n.jsx)(e.a,{href:\"#52-\\u4F7F\\u7528-usereducer-\\u7BA1\\u7406\\u590D\\u6742\\u72B6\\u6001\",children:\"5.2 \\u4F7F\\u7528 useReducer \\u7BA1\\u7406\\u590D\\u6742\\u72B6\\u6001\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u591A\\u4E2A\\u72B6\\u6001\\u4E4B\\u95F4\\u7684\\u4F9D\\u8D56\\u5173\\u7CFB\\u590D\\u6742\\uFF0C\\u5BB9\\u6613\\u5BFC\\u81F4\\u903B\\u8F91\\u6DF7\\u4E71\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useReducer\"})})})}),\" \\u96C6\\u4E2D\\u7BA1\\u7406\\u72B6\\u6001\\u66F4\\u65B0\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useReducer } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" initialState\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { count: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", step: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reducer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  switch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'increment'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state, count: state.count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state.step };\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'setStep'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state, step: action.payload };\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Counter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useReducer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(reducer, initialState);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Count: {state.count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        type\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"number\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{state.step}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'setStep'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", payload: \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Number\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value) })}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      />\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ type: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'increment'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" })}>Add</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u4E0E\\u5176\\u8BA9\\u6BCF\\u4E2A\\u53A8\\u5E08\\uFF08\\u72B6\\u6001\\uFF09\\u81EA\\u5DF1\\u8C03\\u6599\\uFF0C\\u4E0D\\u5982\\u4EA4\\u7ED9\\u4E00\\u4E2A\\u4E3B\\u53A8\\uFF08reducer\\uFF09\\u7EDF\\u4E00\\u6307\\u6325\\uFF01\\u{1F373}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5F53\\u72B6\\u6001\\u66F4\\u65B0\\u6D89\\u53CA\\u591A\\u4E2A\\u6761\\u4EF6\\u6216\\u590D\\u6742\\u903B\\u8F91\\u65F6\\uFF0C\\u4F18\\u5148\\u9009\\u62E9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useReducer\"})})})}),\" \\u800C\\u975E\\u591A\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\"\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"53-\\u5EF6\\u8FDF\\u4F4E\\u4F18\\u5148\\u7EA7\\u66F4\\u65B0\",children:(0,n.jsx)(e.a,{href:\"#53-\\u5EF6\\u8FDF\\u4F4E\\u4F18\\u5148\\u7EA7\\u66F4\\u65B0\",children:\"5.3 \\u5EF6\\u8FDF\\u4F4E\\u4F18\\u5148\\u7EA7\\u66F4\\u65B0\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u5927\\u6570\\u636E\\u6E32\\u67D3\\u53EF\\u80FD\\u5BFC\\u81F4\\u754C\\u9762\\u5361\\u987F\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useDeferredValue\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useDeferredValue } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" BigList\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"query\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" deferredQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useDeferredValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(query);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" items\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(deferredQuery)\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}-${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{query} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value)} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{items.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{item}>{item}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">)}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u8BA9\\u5927\\u8D27\\u8F66\\uFF08\\u5927\\u6570\\u636E\\u6E32\\u67D3\\uFF09\\u5835\\u4F4F\\u9AD8\\u901F\\u8DEF\\uFF08\\u4E3B\\u7EBF\\u7A0B\\uFF09\\uFF0C\\u8BA9\\u5B83\\u5728\\u591C\\u95F4\\uFF08\\u4F4E\\u4F18\\u5148\\u7EA7\\uFF09\\u6084\\u6084\\u8DD1\\uFF01\\u{1F69B}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useDeferredValue\"})})})}),\" \\u5EF6\\u8FDF\\u975E\\u5173\\u952E\\u72B6\\u6001\\u7684\\u6E32\\u67D3\\uFF0C\\u4FDD\\u6301\\u8F93\\u5165\\u6846\\u7B49\\u4EA4\\u4E92\\u7684\\u6D41\\u7545\\u6027\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"54-\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\",children:(0,n.jsx)(e.a,{href:\"#54-\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\",children:\"5.4 \\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\u9891\\u7E41\\u89E6\\u53D1\\u526F\\u4F5C\\u7528\\u53EF\\u80FD\\u5BFC\\u81F4\\u6027\\u80FD\\u95EE\\u9898\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u7CBE\\u786E\\u63A7\\u5236\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u51CF\\u5C11\\u526F\\u4F5C\\u7528\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" DataFetcher\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`/api/data/${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(setData);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [id]); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4EC5\\u5F53 id \\u53D8\\u5316\\u65F6\\u89E6\\u53D1\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{data \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data.name \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'Loading...'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u6BCF\\u6B21\\u6709\\u4EBA\\u6572\\u95E8\\uFF08\\u72B6\\u6001\\u53D8\\u5316\\uFF09\\u90FD\\u8DD1\\u53BB\\u5F00\\u95E8\\uFF08\\u89E6\\u53D1\\u526F\\u4F5C\\u7528\\uFF09\\uFF0C\\u5148\\u770B\\u770B\\u662F\\u4E0D\\u662F\\u5FEB\\u9012\\u5458\\uFF08\\u4F9D\\u8D56\\u9879\\uFF09\\uFF01\\u{1F6AA}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528 ESLint \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"exhaustive-deps\"})})})}),\" \\u89C4\\u5219\\uFF0C\\u786E\\u4FDD \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\\u5B8C\\u6574\\u4E14\\u6B63\\u786E\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"55-\\u4F7F\\u7528-reactmemo-\\u51CF\\u5C11\\u5B50\\u7EC4\\u4EF6\\u6E32\\u67D3\",children:(0,n.jsx)(e.a,{href:\"#55-\\u4F7F\\u7528-reactmemo-\\u51CF\\u5C11\\u5B50\\u7EC4\\u4EF6\\u6E32\\u67D3\",children:\"5.5 \\u4F7F\\u7528 React.memo \\u51CF\\u5C11\\u5B50\\u7EC4\\u4EF6\\u6E32\\u67D3\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u7236\\u7EC4\\u4EF6\\u72B6\\u6001\\u66F4\\u65B0\\u53EF\\u80FD\\u5BFC\\u81F4\\u5B50\\u7EC4\\u4EF6\\u4E0D\\u5FC5\\u8981\\u5730\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"React.memo\"})})})}),\" \\u5305\\u88F9\\u5B50\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { memo } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Child\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" memo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Child rendered'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{value}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Parent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}>Count: {count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Child\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Static\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u6BCF\\u6B21\\u88C5\\u4FEE\\u5BA2\\u5385\\uFF08\\u7236\\u7EC4\\u4EF6\\uFF09\\u90FD\\u628A\\u5367\\u5BA4\\uFF08\\u5B50\\u7EC4\\u4EF6\\uFF09\\u4E5F\\u5237\\u4E00\\u904D\\u6F06\\uFF01\\u{1F3A8}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u7ED3\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u786E\\u4FDD\\u4F20\\u9012\\u7ED9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"React.memo\"})})})}),\" \\u7684 props \\u7A33\\u5B9A\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"56-\\u6279\\u91CF\\u5904\\u7406\\u5F02\\u6B65\\u66F4\\u65B0\",children:(0,n.jsx)(e.a,{href:\"#56-\\u6279\\u91CF\\u5904\\u7406\\u5F02\\u6B65\\u66F4\\u65B0\",children:\"5.6 \\u6279\\u91CF\\u5904\\u7406\\u5F02\\u6B65\\u66F4\\u65B0\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u5F02\\u6B65\\u4EE3\\u7801\\u4E2D\\u7684\\u591A\\u6B21 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u53EF\\u80FD\\u89E6\\u53D1\\u591A\\u6B21\\u6E32\\u67D3\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"unstable_batchedUpdates\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { unstable_batchedUpdates } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react-dom'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AsyncUpdater\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleAsync\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    unstable_batchedUpdates\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data.count);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleAsync}>Update</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u6BCF\\u6B21\\u6536\\u5230\\u4E00\\u5C01\\u90AE\\u4EF6\\uFF08\\u5F02\\u6B65\\u6570\\u636E\\uFF09\\u5C31\\u8DD1\\u53BB\\u6253\\u5370\\uFF0C\\u6512\\u591F\\u4E00\\u5806\\u518D\\u7EDF\\u4E00\\u5904\\u7406\\uFF01\\u{1F4EC}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5728\\u590D\\u6742\\u5F02\\u6B65\\u903B\\u8F91\\u4E2D\\uFF0C\\u59CB\\u7EC8\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"unstable_batchedUpdates\"})})})}),\" \\u786E\\u4FDD\\u6027\\u80FD\\u4F18\\u5316\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"57-\\u4F7F\\u7528-usecallback-\\u7A33\\u5B9A\\u51FD\\u6570\\u5F15\\u7528\",children:(0,n.jsx)(e.a,{href:\"#57-\\u4F7F\\u7528-usecallback-\\u7A33\\u5B9A\\u51FD\\u6570\\u5F15\\u7528\",children:\"5.7 \\u4F7F\\u7528 useCallback \\u7A33\\u5B9A\\u51FD\\u6570\\u5F15\\u7528\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u51FD\\u6570\\u7EC4\\u4EF6\\u4E2D\\u7684\\u51FD\\u6570\\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4F1A\\u521B\\u5EFA\\u65B0\\u5F15\\u7528\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u5B50\\u7EC4\\u4EF6\\u4E0D\\u5FC5\\u8981\\u6E32\\u67D3\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u7F13\\u5B58\\u51FD\\u6570\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useCallback } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Parent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useCallback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F9D\\u8D56\\u6570\\u7EC4\\u4E3A\\u7A7A\\uFF0C\\u51FD\\u6570\\u5F15\\u7528\\u7A33\\u5B9A\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Child\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleClick} />;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Child\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"memo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Child rendered'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{onClick}>Click</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u6BCF\\u6B21\\u5F00\\u4F1A\\uFF08\\u6E32\\u67D3\\uFF09\\u90FD\\u6362\\u4E2A\\u65B0\\u624B\\u673A\\u53F7\\u7801\\uFF08\\u51FD\\u6570\\u5F15\\u7528\\uFF09\\uFF0C\\u7528\\u540C\\u4E00\\u4E2A\\u53F7\\u7801\\uFF08useCallback\\uFF09\\u5C31\\u591F\\u4E86\\uFF01\\u{1F4F1}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u786E\\u4FDD \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\\u6B63\\u786E\\uFF0C\\u907F\\u514D\\u610F\\u5916\\u7684\\u903B\\u8F91\\u9519\\u8BEF\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"58-\\u5EF6\\u8FDF\\u521D\\u59CB\\u5316\\u72B6\\u6001\",children:(0,n.jsx)(e.a,{href:\"#58-\\u5EF6\\u8FDF\\u521D\\u59CB\\u5316\\u72B6\\u6001\",children:\"5.8 \\u5EF6\\u8FDF\\u521D\\u59CB\\u5316\\u72B6\\u6001\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u521D\\u59CB\\u72B6\\u6001\\u7684\\u8BA1\\u7B97\\u53EF\\u80FD\\u8017\\u65F6\\uFF0C\\u5F71\\u54CD\\u9996\\u6B21\\u6E32\\u67D3\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u7684\\u60F0\\u6027\\u521D\\u59CB\\u5316\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ExpensiveComponent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u8017\\u65F6\\u8BA1\\u7B97\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" expensiveComputation\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{data}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u5728\\u5BA2\\u4EBA\\u6765\\u4E4B\\u524D\\uFF08\\u6E32\\u67D3\\uFF09\\u5C31\\u628A\\u6240\\u6709\\u83DC\\uFF08\\u521D\\u59CB\\u72B6\\u6001\\uFF09\\u90FD\\u7092\\u597D\\uFF0C\\u5148\\u51C6\\u5907\\u597D\\u83DC\\u5355\\uFF08\\u60F0\\u6027\\u521D\\u59CB\\u5316\\uFF09\\uFF01\\u{1F372}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5BF9\\u4E8E\\u590D\\u6742\\u6216\\u8017\\u65F6\\u7684\\u521D\\u59CB\\u72B6\\u6001\\uFF0C\\u59CB\\u7EC8\\u4F7F\\u7528\\u51FD\\u6570\\u5F62\\u5F0F\\u4F20\\u9012\\u7ED9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\"\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"59-\\u4F7F\\u7528-concurrent-\\u7279\\u6027\\u4F18\\u5316\\u5927\\u6570\\u636E\\u6E32\\u67D3\",children:(0,n.jsx)(e.a,{href:\"#59-\\u4F7F\\u7528-concurrent-\\u7279\\u6027\\u4F18\\u5316\\u5927\\u6570\\u636E\\u6E32\\u67D3\",children:\"5.9 \\u4F7F\\u7528 Concurrent \\u7279\\u6027\\u4F18\\u5316\\u5927\\u6570\\u636E\\u6E32\\u67D3\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u5927\\u6570\\u636E\\u6E32\\u67D3\\u53EF\\u80FD\\u5BFC\\u81F4\\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u7ED3\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Suspense\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { Suspense, useState, useTransition } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" BigDataList\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"query\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"isPending\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"startTransition\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useTransition\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    startTransition\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleChange} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fallback\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Loading...</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}>\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"DataList\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" query\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{query} />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" DataList\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"query\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(query); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF\\u6570\\u636E\\u83B7\\u53D6\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{data.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{item}>{item}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">)}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u8BA9\\u5927\\u6570\\u636E\\u50CF\\u5835\\u8F66\\u4E00\\u6837\\u5361\\u4F4F\\u9AD8\\u901F\\u8DEF\\uFF0C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Suspense\"})})})}),\" \\u8BBE\\u7F6E\\u8DEF\\u969C\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\" \\u5F15\\u5BFC\\u8F66\\u6D41\\uFF01\\u{1F6A6}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5728\\u5927\\u6570\\u636E\\u573A\\u666F\\u4E0B\\uFF0C\\u59CB\\u7EC8\\u642D\\u914D \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Suspense\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\"\\uFF0C\\u63D0\\u4F9B\\u5E73\\u6ED1\\u7684\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"510-\\u76D1\\u63A7\\u72B6\\u6001\\u66F4\\u65B0\\u6027\\u80FD\",children:(0,n.jsx)(e.a,{href:\"#510-\\u76D1\\u63A7\\u72B6\\u6001\\u66F4\\u65B0\\u6027\\u80FD\",children:\"5.10 \\u76D1\\u63A7\\u72B6\\u6001\\u66F4\\u65B0\\u6027\\u80FD\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u72B6\\u6001\\u66F4\\u65B0\\u53EF\\u80FD\\u5BFC\\u81F4\\u6027\\u80FD\\u74F6\\u9888\\uFF0C\\u4F46\\u96BE\\u4EE5\\u5B9A\\u4F4D\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 React DevTools \\u548C\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6B65\\u9AA4\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u6253\\u5F00 React DevTools\\uFF0C\\u542F\\u7528\\u201CHighlight updates\\u201D\\u529F\\u80FD\\uFF0C\\u89C2\\u5BDF\\u54EA\\u4E9B\\u7EC4\\u4EF6\\u9891\\u7E41\\u6E32\\u67D3\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528 Chrome \\u7684 Performance \\u9762\\u677F\\uFF0C\\u5F55\\u5236\\u72B6\\u6001\\u66F4\\u65B0\\u65F6\\u7684\\u6027\\u80FD\\u8868\\u73B0\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9488\\u5BF9\\u9AD8\\u9891\\u6E32\\u67D3\\u7684\\u7EC4\\u4EF6\\uFF0C\\u68C0\\u67E5\\u662F\\u5426\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"React.memo\"})})})}),\" \\u6216\\u72B6\\u6001\\u4F18\\u5316\\u89E3\\u51B3\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u522B\\u8BA9\\u72B6\\u6001\\u66F4\\u65B0\\u50CF\\u4E2A\\u201C\\u9690\\u5F62\\u5403\\u8D27\\u201D\\u5077\\u5403\\u6027\\u80FD\\uFF0C\\u7528 DevTools \\u6293\\u4F4F\\u5B83\\uFF01\\u{1F354}\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"Tips: \\u5B9A\\u671F\\u4F7F\\u7528 React DevTools \\u5206\\u6790\\u7EC4\\u4EF6\\u6E32\\u67D3\\uFF0C\\u627E\\u51FA\\u6027\\u80FD\\u74F6\\u9888\\u5E76\\u4F18\\u5316\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"6-\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848-\",children:(0,n.jsx)(e.a,{href:\"#6-\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848-\",children:\"6. \\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848 \\u{1F50D}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u5F00\\u53D1\\u8005\\u5728\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u4E2D\\u5E38\\u9047\\u5230\\u7684\\u95EE\\u9898\\uFF0C\\u914D\\u4EE5\\u89E3\\u51B3\\u65B9\\u6848\\u548C\\u4EE3\\u7801\\u793A\\u4F8B\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"61-\\u72B6\\u6001\\u66F4\\u65B0\\u672A\\u89E6\\u53D1\\u6E32\\u67D3\",children:(0,n.jsx)(e.a,{href:\"#61-\\u72B6\\u6001\\u66F4\\u65B0\\u672A\\u89E6\\u53D1\\u6E32\\u67D3\",children:\"6.1 \\u72B6\\u6001\\u66F4\\u65B0\\u672A\\u89E6\\u53D1\\u6E32\\u67D3\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u540E\\uFF0C\\u7EC4\\u4EF6\\u672A\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),\"\\uFF1AReact \\u68C0\\u6D4B\\u5230\\u72B6\\u6001\\u5F15\\u7528\\u672A\\u53D8\\u5316\\uFF08\\u6D45\\u6BD4\\u8F83\\uFF09\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u786E\\u4FDD\\u72B6\\u6001\\u662F\\u65B0\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" BuggyComponent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"items\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setItems\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" addItem\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    items.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'new item'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9519\\u8BEF\\uFF1A\\u4FEE\\u6539\\u539F\\u6570\\u7EC4\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setItems\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(items); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5F15\\u7528\\u672A\\u53D8\\uFF0C\\u6E32\\u67D3\\u4E0D\\u89E6\\u53D1\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fixedAddItem\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setItems\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"items, \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'new item'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u521B\\u5EFA\\u65B0\\u6570\\u7EC4\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{fixedAddItem}>Add</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"Tips: \\u59CB\\u7EC8\\u521B\\u5EFA\\u65B0\\u5BF9\\u8C61\\u6216\\u6570\\u7EC4\\u4F5C\\u4E3A\\u72B6\\u6001\\u503C\\uFF0C\\u907F\\u514D\\u76F4\\u63A5\\u4FEE\\u6539\\u539F\\u72B6\\u6001\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"62-\\u526F\\u4F5C\\u7528\\u6267\\u884C\\u987A\\u5E8F\\u5F02\\u5E38\",children:(0,n.jsx)(e.a,{href:\"#62-\\u526F\\u4F5C\\u7528\\u6267\\u884C\\u987A\\u5E8F\\u5F02\\u5E38\",children:\"6.2 \\u526F\\u4F5C\\u7528\\u6267\\u884C\\u987A\\u5E8F\\u5F02\\u5E38\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u6267\\u884C\\u987A\\u5E8F\\u4E0D\\u7B26\\u5408\\u9884\\u671F\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),\"\\uFF1AReact \\u5F02\\u6B65\\u5904\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u53EF\\u80FD\\u4E0E\\u72B6\\u6001\\u66F4\\u65B0\\u4E0D\\u540C\\u6B65\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useLayoutEffect\"})})})}),\" \\u6216\\u8C03\\u6574\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" EffectOrder\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Effect:'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", count);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [count]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useLayoutEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Layout Effect:'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", count);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [count]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}>Count: {count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FD0\\u884C\\u7ED3\\u679C\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useLayoutEffect\"})})})}),\" \\u5728 DOM \\u66F4\\u65B0\\u540E\\u7ACB\\u5373\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u5728\\u6D4F\\u89C8\\u5668\\u7ED8\\u5236\\u540E\\u5F02\\u6B65\\u6267\\u884C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5982\\u679C\\u526F\\u4F5C\\u7528\\u9700\\u8981\\u540C\\u6B65\\u66F4\\u65B0 DOM\\uFF0C\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useLayoutEffect\"})})})}),\"\\uFF1B\\u5426\\u5219\\u4F18\\u5148\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\"\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"63-\\u72B6\\u6001\\u66F4\\u65B0\\u5BFC\\u81F4\\u65E0\\u9650\\u5FAA\\u73AF\",children:(0,n.jsx)(e.a,{href:\"#63-\\u72B6\\u6001\\u66F4\\u65B0\\u5BFC\\u81F4\\u65E0\\u9650\\u5FAA\\u73AF\",children:\"6.3 \\u72B6\\u6001\\u66F4\\u65B0\\u5BFC\\u81F4\\u65E0\\u9650\\u5FAA\\u73AF\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u72B6\\u6001\\u66F4\\u65B0\\u89E6\\u53D1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\"\\uFF0C\\u53C8\\u5BFC\\u81F4\\u65B0\\u7684\\u72B6\\u6001\\u66F4\\u65B0\\uFF0C\\u5F62\\u6210\\u5FAA\\u73AF\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\\u68C0\\u67E5\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u6DFB\\u52A0\\u6761\\u4EF6\\u63A7\\u5236\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" InfiniteLoop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u9519\\u8BEF\\uFF1A\\u65E0\\u9650\\u5FAA\\u73AF\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [count]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u6B63\\u786E\\uFF1A\\u6DFB\\u52A0\\u6761\\u4EF6\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [count]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u65F6\\uFF0C\\u59CB\\u7EC8\\u660E\\u786E\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u5E76\\u907F\\u514D\\u5728\\u526F\\u4F5C\\u7528\\u4E2D\\u76F4\\u63A5\\u89E6\\u53D1\\u72B6\\u6001\\u66F4\\u65B0\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"7-\\u672A\\u6765\\u5C55\\u671Breact-\\u72B6\\u6001\\u8C03\\u5EA6\\u7684\\u6F14\\u8FDB-\",children:(0,n.jsx)(e.a,{href:\"#7-\\u672A\\u6765\\u5C55\\u671Breact-\\u72B6\\u6001\\u8C03\\u5EA6\\u7684\\u6F14\\u8FDB-\",children:\"7. \\u672A\\u6765\\u5C55\\u671B\\uFF1AReact \\u72B6\\u6001\\u8C03\\u5EA6\\u7684\\u6F14\\u8FDB \\u{1F680}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"React \\u7684\\u72B6\\u6001\\u8C03\\u5EA6\\u673A\\u5236\\u4ECD\\u5728\\u4E0D\\u65AD\\u8FDB\\u5316\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u53EF\\u80FD\\u7684\\u672A\\u6765\\u8D8B\\u52BF\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u66F4\\u667A\\u80FD\\u7684\\u4F18\\u5148\\u7EA7\\u7BA1\\u7406\"}),\"\\uFF1AReact \\u53EF\\u80FD\\u5F15\\u5165\\u66F4\\u7EC6\\u7C92\\u5EA6\\u7684\\u4F18\\u5148\\u7EA7\\u63A7\\u5236\\uFF0C\\u5141\\u8BB8\\u5F00\\u53D1\\u8005\\u81EA\\u5B9A\\u4E49\\u8C03\\u5EA6\\u7B56\\u7565\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u66F4\\u5F3A\\u5927\\u7684\\u5E76\\u53D1\\u7279\\u6027\"}),\"\\uFF1A\\u968F\\u7740\\u6D4F\\u89C8\\u5668\\u5BF9\\u5E76\\u53D1 API \\u7684\\u652F\\u6301\\u589E\\u5F3A\\uFF0CReact \\u53EF\\u80FD\\u8FDB\\u4E00\\u6B65\\u4F18\\u5316\\u65F6\\u95F4\\u5206\\u7247\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"AI \\u9A71\\u52A8\\u7684\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u7ED3\\u5408\\u673A\\u5668\\u5B66\\u4E60\\uFF0CReact \\u53EF\\u80FD\\u81EA\\u52A8\\u5206\\u6790\\u7EC4\\u4EF6\\u6811\\uFF0C\\u63A8\\u8350\\u6700\\u4F73\\u72B6\\u6001\\u7BA1\\u7406\\u65B9\\u6848\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1AReact \\u7684\\u8C03\\u5EA6\\u673A\\u5236\\u5C31\\u50CF\\u4E00\\u8F86\\u667A\\u80FD\\u6C7D\\u8F66\\uFF0C\\u672A\\u6765\\u53EF\\u80FD\\u5347\\u7EA7\\u4E3A\\u81EA\\u52A8\\u9A7E\\u9A76\\u98DE\\u8239\\uFF0C\\u5E26\\u4F60\\u98DE\\u5411\\u6027\\u80FD\\u5DC5\\u5CF0\\uFF01\\u{1F6F8}\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u6210\\u4E3A\\u72B6\\u6001\\u8C03\\u5EA6\\u7684\\u9B54\\u6CD5\\u5E08-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u6210\\u4E3A\\u72B6\\u6001\\u8C03\\u5EA6\\u7684\\u9B54\\u6CD5\\u5E08-\\uFE0F\",children:\"\\u603B\\u7ED3\\uFF1A\\u6210\\u4E3A\\u72B6\\u6001\\u8C03\\u5EA6\\u7684\\u201C\\u9B54\\u6CD5\\u5E08\\u201D \\u{1F9D9}\\u200D\\u2642\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"React \\u7684\\u72B6\\u6001\\u66F4\\u65B0\\u8C03\\u5EA6\\u662F\\u6846\\u67B6\\u6027\\u80FD\\u7684\\u57FA\\u77F3\\uFF0C\\u6DB5\\u76D6\\u4E86 Fiber \\u67B6\\u6784\\u3001Scheduler \\u548C\\u5E76\\u53D1\\u6E32\\u67D3\\u7B49\\u6838\\u5FC3\\u6280\\u672F\\u3002\\u901A\\u8FC7\\u672C\\u6587\\uFF0C\\u4F60\\u5E94\\u8BE5\\u5DF2\\u7ECF\\u638C\\u63E1\\u4E86\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u72B6\\u6001\\u66F4\\u65B0\\u7684\\u5168\\u6D41\\u7A0B\"}),\"\\uFF1A\\u4ECE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u5230\\u5C4F\\u5E55\\u6E32\\u67D3\\u7684\\u6BCF\\u4E00\\u6B65\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Fiber \\u67B6\\u6784\\u7684\\u5965\\u79D8\"}),\"\\uFF1A\\u5982\\u4F55\\u901A\\u8FC7\\u589E\\u91CF\\u6E32\\u67D3\\u548C\\u4F18\\u5148\\u7EA7\\u7BA1\\u7406\\u63D0\\u5347\\u6027\\u80FD\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Scheduler \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\"}),\"\\uFF1A\\u5982\\u4F55\\u534F\\u8C03\\u4EFB\\u52A1\\uFF0C\\u786E\\u4FDD\\u4E3B\\u7EBF\\u7A0B\\u6D41\\u7545\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5E76\\u53D1\\u6E32\\u67D3\\u7684\\u9B45\\u529B\"}),\"\\uFF1A\\u5982\\u4F55\\u5229\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useDeferredValue\"})})})}),\" \\u4F18\\u5316\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u8C03\\u8BD5\\u6280\\u5DE7\"}),\"\\uFF1A10 \\u6761\\u5B9E\\u7528\\u5EFA\\u8BAE\\u548C\\u5E38\\u89C1\\u95EE\\u9898\\u89E3\\u51B3\\u65B9\\u6848\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4E0D\\u4EC5\\u8BA9\\u4F60\\u7406\\u89E3\\u4E86 React \\u72B6\\u6001\\u8C03\\u5EA6\\u7684\\u5E95\\u5C42\\u539F\\u7406\\uFF0C\\u8FD8\\u8BA9\\u4F60\\u611F\\u53D7\\u5230\\u6280\\u672F\\u7684\\u4E50\\u8DA3\\uFF01\\u{1F389} \\u4E0B\\u6B21\\u5199 React \\u4EE3\\u7801\\u65F6\\uFF0C\\u8BD5\\u7740\\u60F3\\u8C61\\u4F60\\u5728\\u6307\\u6325\\u4E00\\u4E2A\\u201C\\u8C03\\u5EA6\\u4EA4\\u54CD\\u4E50\\u56E2\\u201D\\uFF0C\\u8BA9\\u6BCF\\u4E2A\\u72B6\\u6001\\u66F4\\u65B0\\u90FD\\u594F\\u51FA\\u5B8C\\u7F8E\\u7684\\u97F3\\u7B26\\u3002\\u{1F3BB}\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u60F3\\u66F4\\u8FDB\\u4E00\\u6B65\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6DF1\\u5165\\u9605\\u8BFB React \\u6E90\\u7801\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"react-reconciler\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scheduler\"})})})}),\" \\u5305\\uFF09\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5B9E\\u9A8C React 18 \\u7684\\u5E76\\u53D1\\u7279\\u6027\\uFF0C\\u5C1D\\u8BD5\\u5728\\u9879\\u76EE\\u4E2D\\u5F15\\u5165 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"startTransition\"})})})})]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5173\\u6CE8 React \\u793E\\u533A\\u7684\\u6700\\u65B0\\u52A8\\u6001\\uFF0C\\u968F\\u65F6\\u638C\\u63E1\\u6846\\u67B6\\u7684\\u6F14\\u8FDB\\u65B9\\u5411\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u4F60\\u6709\\u4EFB\\u4F55\\u7591\\u95EE\\u6216\\u60F3\\u5206\\u4EAB\\u4F60\\u7684\\u72B6\\u6001\\u8C03\\u5EA6\\u201C\\u9B54\\u6CD5\\u201D\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u4EA4\\u6D41\\uFF01\\u{1F604}\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return m(k);})();\n;return Component;"
  },
  "_id": "React/Reactä¸­æ˜¯å¦‚ä½•å®ç°çŠ¶æ€æ›´æ–°è°ƒåº¦çš„.mdx",
  "_raw": {
    "sourceFilePath": "React/Reactä¸­æ˜¯å¦‚ä½•å®ç°çŠ¶æ€æ›´æ–°è°ƒåº¦çš„.mdx",
    "sourceFileName": "Reactä¸­æ˜¯å¦‚ä½•å®ç°çŠ¶æ€æ›´æ–°è°ƒåº¦çš„.mdx",
    "sourceFileDir": "React",
    "contentType": "mdx",
    "flattenedPath": "React/Reactä¸­æ˜¯å¦‚ä½•å®ç°çŠ¶æ€æ›´æ–°è°ƒåº¦çš„"
  },
  "type": "Post",
  "url": "/blog/React/Reactä¸­æ˜¯å¦‚ä½•å®ç°çŠ¶æ€æ›´æ–°è°ƒåº¦çš„"
}
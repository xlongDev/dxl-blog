{
  "title": "å‰ç«¯å†…å­˜æ³„æ¼ï¼šä½ çš„JSä»£ç åœ¨å·å·â€œåƒâ€å†…å­˜ï¼",
  "date": "2023-09-02T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æžå‰ç«¯å†…å­˜æ³„æ¼çš„æˆå› ã€è¡¨çŽ°å’Œè§£å†³æ–¹æ¡ˆï¼Œå¸¦ä½ æ‰¾å‡ºé‚£äº›å·å·æ‘¸æ‘¸â€œåƒâ€å†…å­˜çš„ JS ä»£ç ï¼Œé™„å¸¦å®žç”¨æŠ€å·§å’Œæœ€ä½³å®žè·µã€‚",
  "keywords": "å†…å­˜æ³„æ¼, JavaScript, å‰ç«¯æ€§èƒ½ä¼˜åŒ–, åžƒåœ¾å›žæ”¶, é—­åŒ…, äº‹ä»¶ç›‘å¬, å†…å­˜ç®¡ç†",
  "author": "æ™“é¾™",
  "image": "/images/hero/memory-leak-js.jpg",
  "tags": [
    "JavaScript",
    "å‰ç«¯å¼€å‘",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå˜¿ï¼Œå‰ç«¯å°ä¼™ä¼´ä»¬ï¼Œä½ ä»¬æœ‰æ²¡æœ‰è¿™æ ·çš„ç»åŽ†ï¼šé¡µé¢ç”¨ç€ç”¨ç€å°±å¡å¾—åƒè€ç‰›æ‹‰è½¦ï¼ŒF12 ä¸€çœ‹ï¼Œå†…å­˜å ç”¨è¹­è¹­ä¸Šæ¶¨ï¼Œåƒæ˜¯ä»£ç é‡Œè—äº†ä¸ªâ€œå†…å­˜è´ªåƒè›‡â€ï¼Ÿåˆ«æ€€ç–‘ï¼Œè¿™å°±æ˜¯ **å†…å­˜æ³„æ¼** åœ¨ä½œç¥Ÿï¼å®ƒå°±åƒä½ å®¶å†°ç®±é‡Œè¿‡æœŸä¸‰å¤©çš„å‰©é¥­ï¼Œå ç€åœ°æ–¹è¿˜ä¸è‡ªçŸ¥ã€‚ä»Šå¤©ï¼Œå’±ä»¬å°±æ¥èŠèŠè¿™ä¸ªè®© JS ä»£ç å·å·â€œåƒâ€å†…å­˜çš„å®¶ä¼™ï¼ŒæŒ–æŒ–å®ƒçš„è€åº•ï¼Œé¡ºä¾¿æ•™ä½ å‡ æ‹›â€œé™å¦–é™¤é­”â€çš„å®žç”¨æ‹›å¼ ðŸ’ªã€‚\n\nå†…å­˜æ³„æ¼ï¼Œå¬èµ·æ¥é«˜å¤§ä¸Šï¼Œå…¶å®žå°±æ˜¯ä»£ç é‡Œæœ‰äº›å˜é‡ã€å¯¹è±¡â€œæ­»â€ä¸æŽ‰ï¼Œåƒåƒµå°¸ä¸€æ ·èµ–åœ¨å†…å­˜é‡Œä¸èµ°ã€‚çŽ°ä»£æµè§ˆå™¨çš„åžƒåœ¾å›žæ”¶ï¼ˆGCï¼‰æœºåˆ¶å·²ç»å¾ˆèªæ˜Žäº†ï¼Œä½†å®ƒä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå°¤å…¶å½“ä½ çš„ä»£ç ä¸å°å¿ƒç»™å®ƒæŒ–å‘æ—¶ã€‚æœ¬æ–‡ä¼šå¸¦ä½ ä»ŽåŽŸç†åˆ°å®žè·µï¼Œæ·±å…¥å‰–æžå†…å­˜æ³„æ¼çš„æˆå› ã€è¡¨çŽ°å½¢å¼ï¼Œè¿˜ä¼šå¯¹æ¯”å¸¸è§åœºæ™¯çš„ä¼˜ç¼ºç‚¹ï¼Œæœ€åŽé™„ä¸Šæ»¡æ»¡çš„æœ€ä½³å®žè·µã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœºå†…å­˜â€œæ‰é¬¼â€ä¹‹æ—…å§ï¼\n\n---\n\n## å†…å­˜æ³„æ¼çš„â€œå…ƒå‡¶â€æ˜¯è°ï¼Ÿ\n\nåœ¨ JS ä¸­ï¼Œå†…å­˜æ³„æ¼æœ¬è´¨ä¸Šæ˜¯**ä¸å†éœ€è¦çš„å†…å­˜æ²¡æœ‰è¢«é‡Šæ”¾**ã€‚æµè§ˆå™¨çš„åžƒåœ¾å›žæ”¶å™¨ï¼ˆGarbage Collectorï¼Œç®€ç§° GCï¼‰ä¼šé€šè¿‡â€œå¼•ç”¨è®¡æ•°â€æˆ–â€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•æ¥åˆ¤æ–­å“ªäº›å¯¹è±¡å¯ä»¥å›žæ”¶ã€‚ä½†å¦‚æžœæŸä¸ªå¯¹è±¡æ˜Žæ˜Žæ²¡ç”¨äº†ï¼Œå´è¿˜æœ‰â€œéšç§˜çš„å¼•ç”¨â€æŒ‡å‘å®ƒï¼ŒGC å°±æŸæ‰‹æ— ç­–äº†ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§çš„â€œå¹•åŽé»‘æ‰‹â€ï¼š\n\n### 1. é—­åŒ…ï¼šç”œèœœçš„é™·é˜± ðŸ¬\n\né—­åŒ…æ˜¯ JS çš„ç¥žå™¨ï¼Œèƒ½è®©å‡½æ•°è®°ä½å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ã€‚ä½†ç”¨ä¸å¥½ï¼Œå®ƒå°±åƒä¸ªâ€œæ‹çˆ±è„‘â€ï¼Œæ­»æ­»æŠ±ç€ä¸å†éœ€è¦çš„ä¸œè¥¿ä¸æ”¾ã€‚\n\n#### ç¤ºä¾‹ï¼šæ— æ„ä¸­åˆ¶é€ çš„å†…å­˜ç‚¸å¼¹\n```javascript\nfunction createCounter() {\n  let count = 0;\n  return function() {\n    count++;\n    console.log(count);\n  };\n}\nconst counter = createCounter();\nsetInterval(counter, 1000);\n```\nä¹ä¸€çœ‹ï¼Œè¿™ä»£ç æŒºä¼˜é›…ï¼Œ`count` è¢«é—­åŒ…ä¿æŠ¤å¾—ä¸¥ä¸¥å®žå®žã€‚ä½†é—®é¢˜æ¥äº†ï¼š`setInterval` ä¸€ç›´åœ¨è·‘ï¼Œ`counter` å¼•ç”¨ç€ `createCounter` çš„ä½œç”¨åŸŸï¼Œ`count` æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ã€‚å¦‚æžœè¿™ä¸ªå®šæ—¶å™¨è·‘ä¸Šå‡ å¤©ï¼Œå†…å­˜å ç”¨å°±åƒæ»šé›ªçƒä¸€æ ·ï¼Œè¶Šæ»šè¶Šå¤§ã€‚\n\n#### ä¼˜ç‚¹ vs ç¼ºç‚¹\n- **ä¼˜ç‚¹**ï¼šé—­åŒ…è®©ä»£ç ç®€æ´ä¼˜é›…ï¼ŒçŠ¶æ€ç®¡ç†æ–¹ä¾¿ã€‚\n- **ç¼ºç‚¹**ï¼šå®¹æ˜“é€ æˆæ— æ„å¼•ç”¨ï¼Œå°¤å…¶åœ¨å¾ªçŽ¯æˆ–é•¿æœŸè¿è¡Œçš„åœºæ™¯ä¸‹ï¼Œå†…å­˜å ç”¨ç›´çº¿ä¸Šå‡ã€‚\n\n#### å° Tips\n> åœ¨ç”¨é—­åŒ…æ—¶ï¼Œè®°å¾—é—®è‡ªå·±ï¼šâ€œè¿™ä¸ªå˜é‡çš„ç”Ÿå‘½å‘¨æœŸçœŸçš„éœ€è¦è¿™ä¹ˆé•¿å—ï¼Ÿâ€ å¦‚æžœä¸éœ€è¦ï¼ŒåŠæ—¶æ¸…ç†å¼•ç”¨ï¼Œæ¯”å¦‚ç”¨ `clearInterval` åœæŽ‰å®šæ—¶å™¨ã€‚\n\n---\n\n### 2. äº‹ä»¶ç›‘å¬ï¼šå¿˜äº†æ‘˜çš„â€œè€³æœºâ€ ðŸŽ§\n\näº‹ä»¶ç›‘å¬å™¨æ˜¯å‰ç«¯çš„æ—¥å¸¸ï¼Œä½†å¦‚æžœç»‘å®šåŽä¸ç§»é™¤ï¼Œå®ƒå°±åƒä½ å¿˜äº†æ‘˜ä¸‹çš„è€³æœºçº¿ï¼Œç¼ ç€ DOM èŠ‚ç‚¹ä¸æ”¾æ‰‹ã€‚\n\n#### ç¤ºä¾‹ï¼šæ³„æ¼çš„ç‚¹å‡»ç›‘å¬\n```javascript\nconst button = document.querySelector('#myButton');\nbutton.addEventListener('click', () => {\n  console.log('Clicked!');\n});\n```\nå‡å¦‚è¿™ä¸ª `button` åŽæ¥è¢«åŠ¨æ€ç§»é™¤ï¼ˆæ¯”å¦‚ React ç»„ä»¶å¸è½½ï¼‰ï¼Œä½†äº‹ä»¶ç›‘å¬æ²¡æ¸…ç†ï¼Œå®ƒä¼šç»§ç»­å¼•ç”¨ DOM å’Œå›žè°ƒå‡½æ•°ï¼Œå¯¼è‡´å†…å­˜æ— æ³•é‡Šæ”¾ã€‚\n\n#### ä¼˜ç‚¹ vs ç¼ºç‚¹\n- **ä¼˜ç‚¹**ï¼šäº‹ä»¶ç›‘å¬è®©äº¤äº’ä¸æ»‘ï¼Œç”¨æˆ·ä½“éªŒæ‹‰æ»¡ã€‚\n- **ç¼ºç‚¹**ï¼šä¸æ‰‹åŠ¨ç§»é™¤ç›‘å¬ï¼Œå†…å­˜å°±åƒè¢«â€œç»‘æž¶â€äº†ä¸€æ ·ã€‚\n\n#### å° Tips\n> ç”¨ `removeEventListener` è§£ç»‘äº‹ä»¶ï¼Œå°¤å…¶åœ¨ç»„ä»¶å¸è½½æ—¶ã€‚React ç”¨æˆ·å¯ä»¥ç”¨ `useEffect` çš„æ¸…ç†å‡½æ•°ï¼š\n```javascript\nuseEffect(() => {\n  button.addEventListener('click', handleClick);\n  return () => button.removeEventListener('click', handleClick);\n}, []);\n```\n\n---\n\n### 3. DOM å¼•ç”¨ï¼šè¢«é—å¿˜çš„â€œå­¤é­‚é‡Žé¬¼â€ ðŸ‘»\n\næ“ä½œ DOM æ—¶ï¼Œæ‰‹åŠ¨ä¿å­˜çš„å¼•ç”¨å¦‚æžœæ²¡æ¸…ç†ï¼Œä¼šè®© DOM èŠ‚ç‚¹å˜æˆå†…å­˜é‡Œçš„â€œå­¤é­‚é‡Žé¬¼â€ã€‚\n\n#### ç¤ºä¾‹ï¼šæ— å¤„å®‰æ”¾çš„ DOM\n```javascript\nconst elements = [];\nfunction addElement() {\n  const div = document.createElement('div');\n  document.body.appendChild(div);\n  elements.push(div); // å­˜äº†ä¸ªå¼•ç”¨\n}\n```\næ¯æ¬¡è°ƒç”¨ `addElement`ï¼Œ`elements` æ•°ç»„éƒ½ä¼šå¤šä¸€ä¸ª DOM å¼•ç”¨ã€‚å³ä½¿ä½ ä»Žé¡µé¢ä¸Šç§»é™¤è¿™äº› `div`ï¼Œå®ƒä»¬ä¾ç„¶è¢« `elements` æŒæœ‰ï¼ŒGC æ— å¥ˆæ‘Šæ‰‹ã€‚\n\n#### ä¼˜ç‚¹ vs ç¼ºç‚¹\n- **ä¼˜ç‚¹**ï¼šä¿å­˜ DOM å¼•ç”¨æ–¹ä¾¿åŽç»­æ“ä½œã€‚\n- **ç¼ºç‚¹**ï¼šå¿˜äº†æ¸…ç†ï¼Œå†…å­˜å°±åƒå¼€äº†ä¸ªâ€œé¬¼å±‹æ´¾å¯¹â€ã€‚\n\n#### å° Tips\n> ç”¨å®Œ DOM åŽï¼Œä¸»åŠ¨æ¸…ç©ºå¼•ç”¨ï¼Œæ¯”å¦‚ `elements.length = 0` æˆ– `elements = null`ï¼Œè®© GC å®‰å¿ƒå·¥ä½œã€‚\n\n---\n\n### 4. å…¨å±€å˜é‡ï¼šå†…å­˜çš„â€œé’‰å­æˆ·â€ ðŸšï¸\n\nå…¨å±€å˜é‡æ˜¯ JS çš„â€œåŽŸç½ªâ€ï¼Œä¸€ä¸å°å¿ƒå°±æˆäº†å†…å­˜çš„å¸¸é©»å±…æ°‘ã€‚\n\n#### ç¤ºä¾‹ï¼šä¸å°å¿ƒå…¨å±€åŒ–çš„å˜é‡\n```javascript\nfunction doSomething() {\n  temp = 'I am a leak'; // å¿˜äº† var/let/constï¼Œå˜æˆå…¨å±€å˜é‡\n}\ndoSomething();\nconsole.log(window.temp); // 'I am a leak'\n```\n`temp` æ²¡å£°æ˜Žï¼Œç›´æŽ¥æŒ‚åˆ° `window` ä¸Šï¼Œé™¤éžæ‰‹åŠ¨æ¸…ç†ï¼Œå¦åˆ™å®ƒä¼šä¸€ç›´â€œèµ–â€åœ¨å†…å­˜é‡Œã€‚\n\n#### ä¼˜ç‚¹ vs ç¼ºç‚¹\n- **ä¼˜ç‚¹**ï¼šå…¨å±€å˜é‡ç”¨èµ·æ¥ç®€å•ç²—æš´ã€‚\n- **ç¼ºç‚¹**ï¼šç”Ÿå‘½å‘¨æœŸé•¿å¾—åƒâ€œåƒå¹´è€å¦–â€ï¼Œæžæ˜“å¼•å‘æ³„æ¼ã€‚\n\n#### å° Tips\n> å¼€å¯ `\"use strict\"` ä¸¥æ ¼æ¨¡å¼ï¼Œé¿å…æ„å¤–åˆ›å»ºå…¨å±€å˜é‡ã€‚æ£€æŸ¥ä»£ç æ—¶ï¼Œç”¨å·¥å…·ï¼ˆå¦‚ ESLintï¼‰æªå‡ºè¿™äº›â€œæ¼ç½‘ä¹‹é±¼â€ã€‚\n\n---\n\n## å†…å­˜æ³„æ¼çš„â€œç—‡çŠ¶â€ä¸Žâ€œè¯Šæ–­â€\n\nå†…å­˜æ³„æ¼ä¸åƒæŠ¥é”™é‚£æ ·ç«‹é©¬è·³å‡ºæ¥ï¼Œå®ƒæ›´åƒæ…¢æ€§ç—…ï¼Œæ…¢æ…¢æ‹–åž®ä½ çš„åº”ç”¨ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå…¸åž‹ç—‡çŠ¶ï¼š\n\n1. **é¡µé¢å¡é¡¿**ï¼šå†…å­˜å ç”¨é«˜ï¼ŒGC é¢‘ç¹è§¦å‘ï¼ŒCPU å¿™ä¸è¿‡æ¥ã€‚\n2. **å†…å­˜æ›²çº¿é£™å‡**ï¼šæ‰“å¼€ DevTools çš„ Memory é¢æ¿ï¼Œçœ‹çœ‹å †å¿«ç…§ï¼ˆHeap Snapshotï¼‰æ˜¯ä¸æ˜¯ä¸€ç›´åœ¨æ¶¨ã€‚\n3. **é•¿æ—¶é—´è¿è¡Œå´©æºƒ**ï¼šæ¯”å¦‚ SPA å•é¡µåº”ç”¨ç”¨ä¹…äº†ç›´æŽ¥ç™½å±ã€‚\n\n### è¯Šæ–­å·¥å…·ï¼šChrome DevTools\n- **Heap Snapshot**ï¼šæ‹ä¸‹å†…å­˜å¿«ç…§ï¼Œæ‰¾æ‰¾å“ªäº›å¯¹è±¡å äº†å¤§å¤´ã€‚\n- **Timeline**ï¼šè®°å½•ä¸€æ®µæ—¶é—´çš„å†…å­˜ä½¿ç”¨ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰â€œé”¯é½¿å½¢â€æ›²çº¿ï¼ˆæ­£å¸¸ï¼‰è¿˜æ˜¯â€œç›´çº¿ä¸Šå‡â€ï¼ˆæ³„æ¼ï¼‰ã€‚\n- **Performance**ï¼šåˆ†æž GC çš„é¢‘çŽ‡å’Œè€—æ—¶ã€‚\n\n#### ç¤ºä¾‹ï¼šæªå‡ºé—­åŒ…æ³„æ¼\nç”¨ DevTools æ‹ä¸ªå¿«ç…§ï¼Œå‘çŽ°æœ‰ä¸ª `count` å¯¹è±¡è¢« `setInterval` å¼•ç”¨ï¼Œç»“åˆä»£ç ä¸€çœ‹ï¼Œæžœç„¶æ˜¯ä¸Šé¢çš„é—­åŒ…é—®é¢˜ã€‚èµ¶ç´§åŠ ä¸ª `clearInterval`ï¼Œé—®é¢˜è§£å†³ï¼\n\n---\n\n## è§£å†³æ–¹æ¡ˆä¸Žæœ€ä½³å®žè·µ\n\nç†è®ºè®²å®Œäº†ï¼Œå’±ä»¬æ¥ç‚¹ç¡¬æ ¸çš„å®žæˆ˜æ‹›å¼ã€‚ä»¥ä¸‹æ˜¯â€œé˜²æ³„æ¼â€çš„æœ€ä½³å®žè·µï¼Œæ¯æ¡éƒ½å¸¦ä¸€ä¸ªå° Tipsï¼Œä¿è¯ä½ æ‹¿å›žåŽ»å°±èƒ½ç”¨ã€‚\n\n### 1. å–„ç”¨ WeakMap/WeakSet ðŸ§ \næ™®é€š `Map` å’Œ `Set` ä¼šå¼ºå¼•ç”¨å¯¹è±¡ï¼Œè€Œ `WeakMap` å’Œ `WeakSet` æ˜¯å¼±å¼•ç”¨ï¼ŒGC å¯ä»¥è½»æ¾å›žæ”¶ã€‚\n\n#### ç¤ºä¾‹\n```javascript\nconst cache = new WeakMap();\nfunction cacheResult(obj, result) {\n  cache.set(obj, result);\n}\n```\n`obj` æ²¡ç”¨äº†ï¼Œ`WeakMap` ä¸ä¼šé˜»æ­¢å®ƒè¢«å›žæ”¶ã€‚\n\n#### å° Tips\n> ç”¨ `WeakMap` å­˜ä¸´æ—¶æ•°æ®ï¼Œå°¤å…¶æ˜¯å¯¹è±¡é”®ï¼Œé¿å…ä¸å¿…è¦çš„å¼ºå¼•ç”¨ã€‚\n\n---\n\n### 2. äº‹ä»¶ç›‘å¬è¦â€œæœ‰å§‹æœ‰ç»ˆâ€ âœ‚ï¸\nç»‘å®šäº†äº‹ä»¶ï¼Œåˆ«å¿˜äº†è§£ç»‘ï¼Œå°¤å…¶åœ¨åŠ¨æ€ DOM æ“ä½œæ—¶ã€‚\n\n#### ç¤ºä¾‹\n```javascript\nclass MyComponent {\n  constructor() {\n    this.button = document.querySelector('#btn');\n    this.handleClick = () => console.log('Clicked');\n    this.button.addEventListener('click', this.handleClick);\n  }\n  destroy() {\n    this.button.removeEventListener('click', this.handleClick);\n  }\n}\n```\n\n#### å° Tips\n> åœ¨ç±»ç»„ä»¶é‡Œï¼Œå…»æˆ `destroy` æˆ– `cleanup` çš„ä¹ æƒ¯ï¼Œåˆ«è®©äº‹ä»¶ç›‘å¬å˜æˆâ€œå¹½çµâ€ã€‚\n\n---\n\n### 3. å®šæ—¶å™¨è¦åŠæ—¶æ¸…ç† â°\n`setInterval` å’Œ `setTimeout` ç”¨å®Œè®°å¾—æ¸…ã€‚\n\n#### ç¤ºä¾‹\n```javascript\nlet timer = setInterval(() => console.log('Tick'), 1000);\nclearInterval(timer); // ç”¨å®Œå°±æ¸…\n```\n\n#### å° Tips\n> ç»™å®šæ—¶å™¨å–ä¸ªåå­—ï¼ˆå˜é‡ï¼‰ï¼Œæ–¹ä¾¿åŽç»­æ¸…ç†ï¼Œåˆ«è®©å®ƒâ€œè£¸å¥”â€ã€‚\n\n---\n\n### 4. è°¨æ…Žä½¿ç”¨å¤§åž‹æ•°æ®ç»“æž„ ðŸŒ³\næ•°ç»„ã€å¯¹è±¡ç”¨å®ŒåŽï¼Œæ‰‹åŠ¨ç½®ç©ºã€‚\n\n#### ç¤ºä¾‹\n```javascript\nlet bigArray = new Array(1000000).fill('data');\nbigArray = null; // æ‰‹åŠ¨é‡Šæ”¾\n```\n\n#### å° Tips\n> å¤§å¯¹è±¡ç”¨å®ŒåŽï¼Œä¸»åŠ¨èµ‹å€¼ä¸º `null`ï¼Œåˆ«æŒ‡æœ› GC æ›¿ä½ æ“¦å±è‚¡ã€‚\n\n---\n\n### 5. å•å…ƒæµ‹è¯•åŠ æ€§èƒ½ç›‘æŽ§ ðŸ›¡ï¸\nå†™æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œé¡ºæ‰‹æµ‹æµ‹å†…å­˜å ç”¨ã€‚\n\n#### ç¤ºä¾‹\nç”¨ Jest åŠ  `performance` APIï¼š\n```javascript\ntest('should not leak memory', () => {\n  const start = performance.memory.usedJSHeapSize;\n  // æ‰§è¡Œä»£ç \n  const end = performance.memory.usedJSHeapSize;\n  expect(end - start).toBeLessThan(1000000); // å†…å­˜å¢žé•¿åˆ«è¶… 1MB\n});\n```\n\n#### å° Tips\n> åœ¨ CI é‡ŒåŠ ä¸ªå†…å­˜æ£€æŸ¥è„šæœ¬ï¼Œé˜²æ‚£äºŽæœªç„¶ã€‚\n\n---\n\n## æ€»ç»“ï¼šè®©å†…å­˜â€œè½»è£…ä¸Šé˜µâ€\n\nå†…å­˜æ³„æ¼ä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯ä½ ä¸çŸ¥é“å®ƒåœ¨å“ªã€‚é—­åŒ…ã€äº‹ä»¶ç›‘å¬ã€DOM å¼•ç”¨ã€å…¨å±€å˜é‡ï¼Œè¿™äº›â€œæƒ¯çŠ¯â€åªè¦ä½ å¤šç•™ä¸ªå¿ƒçœ¼ï¼Œå°±èƒ½è½»æ¾æžå®šã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ ä»Žâ€œå†…å­˜å°ç™½â€è¿›é˜¶åˆ°â€œæ‰æ¼å¤§å¸ˆâ€ï¼Œä¸‹æ¬¡å†çœ‹åˆ°å†…å­˜æ›²çº¿é£™å‡ï¼Œåˆ«æ…Œï¼Œæ‰“å¼€ DevToolsï¼Œæ‰¾æ‰¾â€œé¬¼é­‚â€ï¼Œä¸€æ‹›åˆ¶æ•Œï¼\n\næœ€åŽï¼Œé€ä½ ä¸€å¥è¯ï¼š**â€œä»£ç å¯ä»¥ä¹±å†™ï¼Œå†…å­˜ä¸èƒ½ä¹±ä¸¢â€**ã€‚è®©æˆ‘ä»¬ä¸€èµ·å†™å‡ºæ—¢ä¼˜é›…åˆâ€œè½»ç›ˆâ€çš„ JS ä»£ç å§ï¼æœ‰ä»€ä¹ˆå†…å­˜æ³„æ¼çš„â€œè¡€æ³ªå²â€å—ï¼Ÿæ¬¢è¿Žç•™è¨€åˆ†äº«ï¼Œå’±ä»¬ä¸€èµ·åæ§½ ðŸ˜‚ã€‚\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),m=(l,e)=>{for(var r in e)d(l,r,{get:e[r],enumerable:!0})},t=(l,e,r,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of E(e))!u.call(l,a)&&a!==r&&d(l,a,{get:()=>e[a],enumerable:!(c=y(e,a))||c.enumerable});return l};var f=(l,e,r)=>(r=l!=null?p(g(l)):{},t(e||!l||!l.__esModule?d(r,\"default\",{value:l,enumerable:!0}):r,l)),k=l=>t(d({},\"__esModule\",{value:!0}),l);var h=F((x,i)=>{i.exports=_jsx_runtime});var B={};m(B,{default:()=>o,frontmatter:()=>b});var n=f(h()),b={type:\"Post\",title:\"\\u524D\\u7AEF\\u5185\\u5B58\\u6CC4\\u6F0F\\uFF1A\\u4F60\\u7684JS\\u4EE3\\u7801\\u5728\\u5077\\u5077\\u201C\\u5403\\u201D\\u5185\\u5B58\\uFF01\",date:\"2023-09-02\",description:\"\\u6DF1\\u5165\\u5256\\u6790\\u524D\\u7AEF\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u6210\\u56E0\\u3001\\u8868\\u73B0\\u548C\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u5E26\\u4F60\\u627E\\u51FA\\u90A3\\u4E9B\\u5077\\u5077\\u6478\\u6478\\u201C\\u5403\\u201D\\u5185\\u5B58\\u7684 JS \\u4EE3\\u7801\\uFF0C\\u9644\\u5E26\\u5B9E\\u7528\\u6280\\u5DE7\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\",keywords:\"\\u5185\\u5B58\\u6CC4\\u6F0F, JavaScript, \\u524D\\u7AEF\\u6027\\u80FD\\u4F18\\u5316, \\u5783\\u573E\\u56DE\\u6536, \\u95ED\\u5305, \\u4E8B\\u4EF6\\u76D1\\u542C, \\u5185\\u5B58\\u7BA1\\u7406\",author:\"\\u6653\\u9F99\",image:\"/images/hero/memory-leak-js.jpg\",tags:[\"JavaScript\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function s(l){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u563F\\uFF0C\\u524D\\u7AEF\\u5C0F\\u4F19\\u4F34\\u4EEC\\uFF0C\\u4F60\\u4EEC\\u6709\\u6CA1\\u6709\\u8FD9\\u6837\\u7684\\u7ECF\\u5386\\uFF1A\\u9875\\u9762\\u7528\\u7740\\u7528\\u7740\\u5C31\\u5361\\u5F97\\u50CF\\u8001\\u725B\\u62C9\\u8F66\\uFF0CF12 \\u4E00\\u770B\\uFF0C\\u5185\\u5B58\\u5360\\u7528\\u8E6D\\u8E6D\\u4E0A\\u6DA8\\uFF0C\\u50CF\\u662F\\u4EE3\\u7801\\u91CC\\u85CF\\u4E86\\u4E2A\\u201C\\u5185\\u5B58\\u8D2A\\u5403\\u86C7\\u201D\\uFF1F\\u522B\\u6000\\u7591\\uFF0C\\u8FD9\\u5C31\\u662F \",(0,n.jsx)(e.strong,{children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\"}),\" \\u5728\\u4F5C\\u795F\\uFF01\\u5B83\\u5C31\\u50CF\\u4F60\\u5BB6\\u51B0\\u7BB1\\u91CC\\u8FC7\\u671F\\u4E09\\u5929\\u7684\\u5269\\u996D\\uFF0C\\u5360\\u7740\\u5730\\u65B9\\u8FD8\\u4E0D\\u81EA\\u77E5\\u3002\\u4ECA\\u5929\\uFF0C\\u54B1\\u4EEC\\u5C31\\u6765\\u804A\\u804A\\u8FD9\\u4E2A\\u8BA9 JS \\u4EE3\\u7801\\u5077\\u5077\\u201C\\u5403\\u201D\\u5185\\u5B58\\u7684\\u5BB6\\u4F19\\uFF0C\\u6316\\u6316\\u5B83\\u7684\\u8001\\u5E95\\uFF0C\\u987A\\u4FBF\\u6559\\u4F60\\u51E0\\u62DB\\u201C\\u964D\\u5996\\u9664\\u9B54\\u201D\\u7684\\u5B9E\\u7528\\u62DB\\u5F0F \\u{1F4AA}\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\\uFF0C\\u542C\\u8D77\\u6765\\u9AD8\\u5927\\u4E0A\\uFF0C\\u5176\\u5B9E\\u5C31\\u662F\\u4EE3\\u7801\\u91CC\\u6709\\u4E9B\\u53D8\\u91CF\\u3001\\u5BF9\\u8C61\\u201C\\u6B7B\\u201D\\u4E0D\\u6389\\uFF0C\\u50CF\\u50F5\\u5C38\\u4E00\\u6837\\u8D56\\u5728\\u5185\\u5B58\\u91CC\\u4E0D\\u8D70\\u3002\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u7684\\u5783\\u573E\\u56DE\\u6536\\uFF08GC\\uFF09\\u673A\\u5236\\u5DF2\\u7ECF\\u5F88\\u806A\\u660E\\u4E86\\uFF0C\\u4F46\\u5B83\\u4E0D\\u662F\\u4E07\\u80FD\\u7684\\uFF0C\\u5C24\\u5176\\u5F53\\u4F60\\u7684\\u4EE3\\u7801\\u4E0D\\u5C0F\\u5FC3\\u7ED9\\u5B83\\u6316\\u5751\\u65F6\\u3002\\u672C\\u6587\\u4F1A\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u6DF1\\u5165\\u5256\\u6790\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u6210\\u56E0\\u3001\\u8868\\u73B0\\u5F62\\u5F0F\\uFF0C\\u8FD8\\u4F1A\\u5BF9\\u6BD4\\u5E38\\u89C1\\u573A\\u666F\\u7684\\u4F18\\u7F3A\\u70B9\\uFF0C\\u6700\\u540E\\u9644\\u4E0A\\u6EE1\\u6EE1\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u8FD9\\u573A\\u5185\\u5B58\\u201C\\u6349\\u9B3C\\u201D\\u4E4B\\u65C5\\u5427\\uFF01\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u5143\\u51F6\\u662F\\u8C01\",children:(0,n.jsx)(e.a,{href:\"#\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u5143\\u51F6\\u662F\\u8C01\",children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u201C\\u5143\\u51F6\\u201D\\u662F\\u8C01\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 JS \\u4E2D\\uFF0C\\u5185\\u5B58\\u6CC4\\u6F0F\\u672C\\u8D28\\u4E0A\\u662F\",(0,n.jsx)(e.strong,{children:\"\\u4E0D\\u518D\\u9700\\u8981\\u7684\\u5185\\u5B58\\u6CA1\\u6709\\u88AB\\u91CA\\u653E\"}),\"\\u3002\\u6D4F\\u89C8\\u5668\\u7684\\u5783\\u573E\\u56DE\\u6536\\u5668\\uFF08Garbage Collector\\uFF0C\\u7B80\\u79F0 GC\\uFF09\\u4F1A\\u901A\\u8FC7\\u201C\\u5F15\\u7528\\u8BA1\\u6570\\u201D\\u6216\\u201C\\u6807\\u8BB0-\\u6E05\\u9664\\u201D\\u7B97\\u6CD5\\u6765\\u5224\\u65AD\\u54EA\\u4E9B\\u5BF9\\u8C61\\u53EF\\u4EE5\\u56DE\\u6536\\u3002\\u4F46\\u5982\\u679C\\u67D0\\u4E2A\\u5BF9\\u8C61\\u660E\\u660E\\u6CA1\\u7528\\u4E86\\uFF0C\\u5374\\u8FD8\\u6709\\u201C\\u9690\\u79D8\\u7684\\u5F15\\u7528\\u201D\\u6307\\u5411\\u5B83\\uFF0CGC \\u5C31\\u675F\\u624B\\u65E0\\u7B56\\u4E86\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u4E2A\\u5E38\\u89C1\\u7684\\u201C\\u5E55\\u540E\\u9ED1\\u624B\\u201D\\uFF1A\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u95ED\\u5305\\u751C\\u871C\\u7684\\u9677\\u9631-\",children:(0,n.jsx)(e.a,{href:\"#1-\\u95ED\\u5305\\u751C\\u871C\\u7684\\u9677\\u9631-\",children:\"1. \\u95ED\\u5305\\uFF1A\\u751C\\u871C\\u7684\\u9677\\u9631 \\u{1F36C}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u95ED\\u5305\\u662F JS \\u7684\\u795E\\u5668\\uFF0C\\u80FD\\u8BA9\\u51FD\\u6570\\u8BB0\\u4F4F\\u5916\\u90E8\\u4F5C\\u7528\\u57DF\\u7684\\u53D8\\u91CF\\u3002\\u4F46\\u7528\\u4E0D\\u597D\\uFF0C\\u5B83\\u5C31\\u50CF\\u4E2A\\u201C\\u604B\\u7231\\u8111\\u201D\\uFF0C\\u6B7B\\u6B7B\\u62B1\\u7740\\u4E0D\\u518D\\u9700\\u8981\\u7684\\u4E1C\\u897F\\u4E0D\\u653E\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\\u65E0\\u610F\\u4E2D\\u5236\\u9020\\u7684\\u5185\\u5B58\\u70B8\\u5F39\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u65E0\\u610F\\u4E2D\\u5236\\u9020\\u7684\\u5185\\u5B58\\u70B8\\u5F39\",children:\"\\u793A\\u4F8B\\uFF1A\\u65E0\\u610F\\u4E2D\\u5236\\u9020\\u7684\\u5185\\u5B58\\u70B8\\u5F39\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createCounter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    count\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" counter\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createCounter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(counter, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E4D\\u4E00\\u770B\\uFF0C\\u8FD9\\u4EE3\\u7801\\u633A\\u4F18\\u96C5\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\" \\u88AB\\u95ED\\u5305\\u4FDD\\u62A4\\u5F97\\u4E25\\u4E25\\u5B9E\\u5B9E\\u3002\\u4F46\\u95EE\\u9898\\u6765\\u4E86\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setInterval\"})})})}),\" \\u4E00\\u76F4\\u5728\\u8DD1\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"counter\"})})})}),\" \\u5F15\\u7528\\u7740 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"createCounter\"})})})}),\" \\u7684\\u4F5C\\u7528\\u57DF\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\" \\u6C38\\u8FDC\\u4E0D\\u4F1A\\u88AB\\u91CA\\u653E\\u3002\\u5982\\u679C\\u8FD9\\u4E2A\\u5B9A\\u65F6\\u5668\\u8DD1\\u4E0A\\u51E0\\u5929\\uFF0C\\u5185\\u5B58\\u5360\\u7528\\u5C31\\u50CF\\u6EDA\\u96EA\\u7403\\u4E00\\u6837\\uFF0C\\u8D8A\\u6EDA\\u8D8A\\u5927\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u70B9-vs-\\u7F3A\\u70B9\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u70B9-vs-\\u7F3A\\u70B9\",children:\"\\u4F18\\u70B9 vs \\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u95ED\\u5305\\u8BA9\\u4EE3\\u7801\\u7B80\\u6D01\\u4F18\\u96C5\\uFF0C\\u72B6\\u6001\\u7BA1\\u7406\\u65B9\\u4FBF\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u5BB9\\u6613\\u9020\\u6210\\u65E0\\u610F\\u5F15\\u7528\\uFF0C\\u5C24\\u5176\\u5728\\u5FAA\\u73AF\\u6216\\u957F\\u671F\\u8FD0\\u884C\\u7684\\u573A\\u666F\\u4E0B\\uFF0C\\u5185\\u5B58\\u5360\\u7528\\u76F4\\u7EBF\\u4E0A\\u5347\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u7528\\u95ED\\u5305\\u65F6\\uFF0C\\u8BB0\\u5F97\\u95EE\\u81EA\\u5DF1\\uFF1A\\u201C\\u8FD9\\u4E2A\\u53D8\\u91CF\\u7684\\u751F\\u547D\\u5468\\u671F\\u771F\\u7684\\u9700\\u8981\\u8FD9\\u4E48\\u957F\\u5417\\uFF1F\\u201D \\u5982\\u679C\\u4E0D\\u9700\\u8981\\uFF0C\\u53CA\\u65F6\\u6E05\\u7406\\u5F15\\u7528\\uFF0C\\u6BD4\\u5982\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"clearInterval\"})})})}),\" \\u505C\\u6389\\u5B9A\\u65F6\\u5668\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u4E8B\\u4EF6\\u76D1\\u542C\\u5FD8\\u4E86\\u6458\\u7684\\u8033\\u673A-\",children:(0,n.jsx)(e.a,{href:\"#2-\\u4E8B\\u4EF6\\u76D1\\u542C\\u5FD8\\u4E86\\u6458\\u7684\\u8033\\u673A-\",children:\"2. \\u4E8B\\u4EF6\\u76D1\\u542C\\uFF1A\\u5FD8\\u4E86\\u6458\\u7684\\u201C\\u8033\\u673A\\u201D \\u{1F3A7}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u662F\\u524D\\u7AEF\\u7684\\u65E5\\u5E38\\uFF0C\\u4F46\\u5982\\u679C\\u7ED1\\u5B9A\\u540E\\u4E0D\\u79FB\\u9664\\uFF0C\\u5B83\\u5C31\\u50CF\\u4F60\\u5FD8\\u4E86\\u6458\\u4E0B\\u7684\\u8033\\u673A\\u7EBF\\uFF0C\\u7F20\\u7740 DOM \\u8282\\u70B9\\u4E0D\\u653E\\u624B\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\\u6CC4\\u6F0F\\u7684\\u70B9\\u51FB\\u76D1\\u542C\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u6CC4\\u6F0F\\u7684\\u70B9\\u51FB\\u76D1\\u542C\",children:\"\\u793A\\u4F8B\\uFF1A\\u6CC4\\u6F0F\\u7684\\u70B9\\u51FB\\u76D1\\u542C\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" button\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#myButton'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"button.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Clicked!'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5047\\u5982\\u8FD9\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"button\"})})})}),\" \\u540E\\u6765\\u88AB\\u52A8\\u6001\\u79FB\\u9664\\uFF08\\u6BD4\\u5982 React \\u7EC4\\u4EF6\\u5378\\u8F7D\\uFF09\\uFF0C\\u4F46\\u4E8B\\u4EF6\\u76D1\\u542C\\u6CA1\\u6E05\\u7406\\uFF0C\\u5B83\\u4F1A\\u7EE7\\u7EED\\u5F15\\u7528 DOM \\u548C\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u5BFC\\u81F4\\u5185\\u5B58\\u65E0\\u6CD5\\u91CA\\u653E\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u70B9-vs-\\u7F3A\\u70B9-1\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u70B9-vs-\\u7F3A\\u70B9-1\",children:\"\\u4F18\\u70B9 vs \\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u4E8B\\u4EF6\\u76D1\\u542C\\u8BA9\\u4EA4\\u4E92\\u4E1D\\u6ED1\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u62C9\\u6EE1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u4E0D\\u624B\\u52A8\\u79FB\\u9664\\u76D1\\u542C\\uFF0C\\u5185\\u5B58\\u5C31\\u50CF\\u88AB\\u201C\\u7ED1\\u67B6\\u201D\\u4E86\\u4E00\\u6837\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips-1\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-1\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"removeEventListener\"})})})}),\" \\u89E3\\u7ED1\\u4E8B\\u4EF6\\uFF0C\\u5C24\\u5176\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u3002React \\u7528\\u6237\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u6E05\\u7406\\u51FD\\u6570\\uFF1A\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  button.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", handleClick);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" button.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", handleClick);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, []);\"})})]})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"3-dom-\\u5F15\\u7528\\u88AB\\u9057\\u5FD8\\u7684\\u5B64\\u9B42\\u91CE\\u9B3C-\",children:(0,n.jsx)(e.a,{href:\"#3-dom-\\u5F15\\u7528\\u88AB\\u9057\\u5FD8\\u7684\\u5B64\\u9B42\\u91CE\\u9B3C-\",children:\"3. DOM \\u5F15\\u7528\\uFF1A\\u88AB\\u9057\\u5FD8\\u7684\\u201C\\u5B64\\u9B42\\u91CE\\u9B3C\\u201D \\u{1F47B}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u64CD\\u4F5C DOM \\u65F6\\uFF0C\\u624B\\u52A8\\u4FDD\\u5B58\\u7684\\u5F15\\u7528\\u5982\\u679C\\u6CA1\\u6E05\\u7406\\uFF0C\\u4F1A\\u8BA9 DOM \\u8282\\u70B9\\u53D8\\u6210\\u5185\\u5B58\\u91CC\\u7684\\u201C\\u5B64\\u9B42\\u91CE\\u9B3C\\u201D\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\\u65E0\\u5904\\u5B89\\u653E\\u7684-dom\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u65E0\\u5904\\u5B89\\u653E\\u7684-dom\",children:\"\\u793A\\u4F8B\\uFF1A\\u65E0\\u5904\\u5B89\\u653E\\u7684 DOM\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" elements\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" addElement\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" div\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'div'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.body.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(div);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  elements.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(div); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B58\\u4E86\\u4E2A\\u5F15\\u7528\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6BCF\\u6B21\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"addElement\"})})})}),\"\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"elements\"})})})}),\" \\u6570\\u7EC4\\u90FD\\u4F1A\\u591A\\u4E00\\u4E2A DOM \\u5F15\\u7528\\u3002\\u5373\\u4F7F\\u4F60\\u4ECE\\u9875\\u9762\\u4E0A\\u79FB\\u9664\\u8FD9\\u4E9B \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"div\"})})})}),\"\\uFF0C\\u5B83\\u4EEC\\u4F9D\\u7136\\u88AB \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"elements\"})})})}),\" \\u6301\\u6709\\uFF0CGC \\u65E0\\u5948\\u644A\\u624B\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u70B9-vs-\\u7F3A\\u70B9-2\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u70B9-vs-\\u7F3A\\u70B9-2\",children:\"\\u4F18\\u70B9 vs \\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u4FDD\\u5B58 DOM \\u5F15\\u7528\\u65B9\\u4FBF\\u540E\\u7EED\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u5FD8\\u4E86\\u6E05\\u7406\\uFF0C\\u5185\\u5B58\\u5C31\\u50CF\\u5F00\\u4E86\\u4E2A\\u201C\\u9B3C\\u5C4B\\u6D3E\\u5BF9\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips-2\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-2\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528\\u5B8C DOM \\u540E\\uFF0C\\u4E3B\\u52A8\\u6E05\\u7A7A\\u5F15\\u7528\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"elements.length = 0\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"elements = null\"})})})}),\"\\uFF0C\\u8BA9 GC \\u5B89\\u5FC3\\u5DE5\\u4F5C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u5168\\u5C40\\u53D8\\u91CF\\u5185\\u5B58\\u7684\\u9489\\u5B50\\u6237-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#4-\\u5168\\u5C40\\u53D8\\u91CF\\u5185\\u5B58\\u7684\\u9489\\u5B50\\u6237-\\uFE0F\",children:\"4. \\u5168\\u5C40\\u53D8\\u91CF\\uFF1A\\u5185\\u5B58\\u7684\\u201C\\u9489\\u5B50\\u6237\\u201D \\u{1F3DA}\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5168\\u5C40\\u53D8\\u91CF\\u662F JS \\u7684\\u201C\\u539F\\u7F6A\\u201D\\uFF0C\\u4E00\\u4E0D\\u5C0F\\u5FC3\\u5C31\\u6210\\u4E86\\u5185\\u5B58\\u7684\\u5E38\\u9A7B\\u5C45\\u6C11\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\\u4E0D\\u5C0F\\u5FC3\\u5168\\u5C40\\u5316\\u7684\\u53D8\\u91CF\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u4E0D\\u5C0F\\u5FC3\\u5168\\u5C40\\u5316\\u7684\\u53D8\\u91CF\",children:\"\\u793A\\u4F8B\\uFF1A\\u4E0D\\u5C0F\\u5FC3\\u5168\\u5C40\\u5316\\u7684\\u53D8\\u91CF\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" doSomething\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  temp \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'I am a leak'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5FD8\\u4E86 var/let/const\\uFF0C\\u53D8\\u6210\\u5168\\u5C40\\u53D8\\u91CF\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"doSomething\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(window.temp); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// 'I am a leak'\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"temp\"})})})}),\" \\u6CA1\\u58F0\\u660E\\uFF0C\\u76F4\\u63A5\\u6302\\u5230 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\" \\u4E0A\\uFF0C\\u9664\\u975E\\u624B\\u52A8\\u6E05\\u7406\\uFF0C\\u5426\\u5219\\u5B83\\u4F1A\\u4E00\\u76F4\\u201C\\u8D56\\u201D\\u5728\\u5185\\u5B58\\u91CC\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u70B9-vs-\\u7F3A\\u70B9-3\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u70B9-vs-\\u7F3A\\u70B9-3\",children:\"\\u4F18\\u70B9 vs \\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u5168\\u5C40\\u53D8\\u91CF\\u7528\\u8D77\\u6765\\u7B80\\u5355\\u7C97\\u66B4\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u751F\\u547D\\u5468\\u671F\\u957F\\u5F97\\u50CF\\u201C\\u5343\\u5E74\\u8001\\u5996\\u201D\\uFF0C\\u6781\\u6613\\u5F15\\u53D1\\u6CC4\\u6F0F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips-3\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-3\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F00\\u542F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'\"use strict\"'})})})}),\" \\u4E25\\u683C\\u6A21\\u5F0F\\uFF0C\\u907F\\u514D\\u610F\\u5916\\u521B\\u5EFA\\u5168\\u5C40\\u53D8\\u91CF\\u3002\\u68C0\\u67E5\\u4EE3\\u7801\\u65F6\\uFF0C\\u7528\\u5DE5\\u5177\\uFF08\\u5982 ESLint\\uFF09\\u63EA\\u51FA\\u8FD9\\u4E9B\\u201C\\u6F0F\\u7F51\\u4E4B\\u9C7C\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u75C7\\u72B6\\u4E0E\\u8BCA\\u65AD\",children:(0,n.jsx)(e.a,{href:\"#\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u75C7\\u72B6\\u4E0E\\u8BCA\\u65AD\",children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u201C\\u75C7\\u72B6\\u201D\\u4E0E\\u201C\\u8BCA\\u65AD\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\\u4E0D\\u50CF\\u62A5\\u9519\\u90A3\\u6837\\u7ACB\\u9A6C\\u8DF3\\u51FA\\u6765\\uFF0C\\u5B83\\u66F4\\u50CF\\u6162\\u6027\\u75C5\\uFF0C\\u6162\\u6162\\u62D6\\u57AE\\u4F60\\u7684\\u5E94\\u7528\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u4E2A\\u5178\\u578B\\u75C7\\u72B6\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9875\\u9762\\u5361\\u987F\"}),\"\\uFF1A\\u5185\\u5B58\\u5360\\u7528\\u9AD8\\uFF0CGC \\u9891\\u7E41\\u89E6\\u53D1\\uFF0CCPU \\u5FD9\\u4E0D\\u8FC7\\u6765\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5185\\u5B58\\u66F2\\u7EBF\\u98D9\\u5347\"}),\"\\uFF1A\\u6253\\u5F00 DevTools \\u7684 Memory \\u9762\\u677F\\uFF0C\\u770B\\u770B\\u5806\\u5FEB\\u7167\\uFF08Heap Snapshot\\uFF09\\u662F\\u4E0D\\u662F\\u4E00\\u76F4\\u5728\\u6DA8\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u957F\\u65F6\\u95F4\\u8FD0\\u884C\\u5D29\\u6E83\"}),\"\\uFF1A\\u6BD4\\u5982 SPA \\u5355\\u9875\\u5E94\\u7528\\u7528\\u4E45\\u4E86\\u76F4\\u63A5\\u767D\\u5C4F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u8BCA\\u65AD\\u5DE5\\u5177chrome-devtools\",children:(0,n.jsx)(e.a,{href:\"#\\u8BCA\\u65AD\\u5DE5\\u5177chrome-devtools\",children:\"\\u8BCA\\u65AD\\u5DE5\\u5177\\uFF1AChrome DevTools\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Heap Snapshot\"}),\"\\uFF1A\\u62CD\\u4E0B\\u5185\\u5B58\\u5FEB\\u7167\\uFF0C\\u627E\\u627E\\u54EA\\u4E9B\\u5BF9\\u8C61\\u5360\\u4E86\\u5927\\u5934\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Timeline\"}),\"\\uFF1A\\u8BB0\\u5F55\\u4E00\\u6BB5\\u65F6\\u95F4\\u7684\\u5185\\u5B58\\u4F7F\\u7528\\uFF0C\\u770B\\u770B\\u6709\\u6CA1\\u6709\\u201C\\u952F\\u9F7F\\u5F62\\u201D\\u66F2\\u7EBF\\uFF08\\u6B63\\u5E38\\uFF09\\u8FD8\\u662F\\u201C\\u76F4\\u7EBF\\u4E0A\\u5347\\u201D\\uFF08\\u6CC4\\u6F0F\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Performance\"}),\"\\uFF1A\\u5206\\u6790 GC \\u7684\\u9891\\u7387\\u548C\\u8017\\u65F6\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\\u63EA\\u51FA\\u95ED\\u5305\\u6CC4\\u6F0F\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u63EA\\u51FA\\u95ED\\u5305\\u6CC4\\u6F0F\",children:\"\\u793A\\u4F8B\\uFF1A\\u63EA\\u51FA\\u95ED\\u5305\\u6CC4\\u6F0F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528 DevTools \\u62CD\\u4E2A\\u5FEB\\u7167\\uFF0C\\u53D1\\u73B0\\u6709\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\" \\u5BF9\\u8C61\\u88AB \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setInterval\"})})})}),\" \\u5F15\\u7528\\uFF0C\\u7ED3\\u5408\\u4EE3\\u7801\\u4E00\\u770B\\uFF0C\\u679C\\u7136\\u662F\\u4E0A\\u9762\\u7684\\u95ED\\u5305\\u95EE\\u9898\\u3002\\u8D76\\u7D27\\u52A0\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"clearInterval\"})})})}),\"\\uFF0C\\u95EE\\u9898\\u89E3\\u51B3\\uFF01\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u89E3\\u51B3\\u65B9\\u6848\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\",children:(0,n.jsx)(e.a,{href:\"#\\u89E3\\u51B3\\u65B9\\u6848\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\",children:\"\\u89E3\\u51B3\\u65B9\\u6848\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7406\\u8BBA\\u8BB2\\u5B8C\\u4E86\\uFF0C\\u54B1\\u4EEC\\u6765\\u70B9\\u786C\\u6838\\u7684\\u5B9E\\u6218\\u62DB\\u5F0F\\u3002\\u4EE5\\u4E0B\\u662F\\u201C\\u9632\\u6CC4\\u6F0F\\u201D\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u6BCF\\u6761\\u90FD\\u5E26\\u4E00\\u4E2A\\u5C0F Tips\\uFF0C\\u4FDD\\u8BC1\\u4F60\\u62FF\\u56DE\\u53BB\\u5C31\\u80FD\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u5584\\u7528-weakmapweakset-\",children:(0,n.jsx)(e.a,{href:\"#1-\\u5584\\u7528-weakmapweakset-\",children:\"1. \\u5584\\u7528 WeakMap/WeakSet \\u{1F9E0}\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u666E\\u901A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Map\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Set\"})})})}),\" \\u4F1A\\u5F3A\\u5F15\\u7528\\u5BF9\\u8C61\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WeakMap\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WeakSet\"})})})}),\" \\u662F\\u5F31\\u5F15\\u7528\\uFF0CGC \\u53EF\\u4EE5\\u8F7B\\u677E\\u56DE\\u6536\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cache\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WeakMap\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" cacheResult\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"obj\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"result\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cache.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(obj, result);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"obj\"})})})}),\" \\u6CA1\\u7528\\u4E86\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WeakMap\"})})})}),\" \\u4E0D\\u4F1A\\u963B\\u6B62\\u5B83\\u88AB\\u56DE\\u6536\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips-4\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-4\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WeakMap\"})})})}),\" \\u5B58\\u4E34\\u65F6\\u6570\\u636E\\uFF0C\\u5C24\\u5176\\u662F\\u5BF9\\u8C61\\u952E\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u5F3A\\u5F15\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u4E8B\\u4EF6\\u76D1\\u542C\\u8981\\u6709\\u59CB\\u6709\\u7EC8-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#2-\\u4E8B\\u4EF6\\u76D1\\u542C\\u8981\\u6709\\u59CB\\u6709\\u7EC8-\\uFE0F\",children:\"2. \\u4E8B\\u4EF6\\u76D1\\u542C\\u8981\\u201C\\u6709\\u59CB\\u6709\\u7EC8\\u201D \\u2702\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7ED1\\u5B9A\\u4E86\\u4E8B\\u4EF6\\uFF0C\\u522B\\u5FD8\\u4E86\\u89E3\\u7ED1\\uFF0C\\u5C24\\u5176\\u5728\\u52A8\\u6001 DOM \\u64CD\\u4F5C\\u65F6\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B-1\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-1\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MyComponent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".button \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#btn'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"handleClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Clicked'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".button.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".handleClick);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  destroy\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".button.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".handleClick);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips-5\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-5\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u7C7B\\u7EC4\\u4EF6\\u91CC\\uFF0C\\u517B\\u6210 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"destroy\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cleanup\"})})})}),\" \\u7684\\u4E60\\u60EF\\uFF0C\\u522B\\u8BA9\\u4E8B\\u4EF6\\u76D1\\u542C\\u53D8\\u6210\\u201C\\u5E7D\\u7075\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5B9A\\u65F6\\u5668\\u8981\\u53CA\\u65F6\\u6E05\\u7406-\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5B9A\\u65F6\\u5668\\u8981\\u53CA\\u65F6\\u6E05\\u7406-\",children:\"3. \\u5B9A\\u65F6\\u5668\\u8981\\u53CA\\u65F6\\u6E05\\u7406 \\u23F0\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setInterval\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7528\\u5B8C\\u8BB0\\u5F97\\u6E05\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B-2\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-2\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" timer \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Tick'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(timer); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u7528\\u5B8C\\u5C31\\u6E05\"})]})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips-6\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-6\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u7ED9\\u5B9A\\u65F6\\u5668\\u53D6\\u4E2A\\u540D\\u5B57\\uFF08\\u53D8\\u91CF\\uFF09\\uFF0C\\u65B9\\u4FBF\\u540E\\u7EED\\u6E05\\u7406\\uFF0C\\u522B\\u8BA9\\u5B83\\u201C\\u88F8\\u5954\\u201D\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u8C28\\u614E\\u4F7F\\u7528\\u5927\\u578B\\u6570\\u636E\\u7ED3\\u6784-\",children:(0,n.jsx)(e.a,{href:\"#4-\\u8C28\\u614E\\u4F7F\\u7528\\u5927\\u578B\\u6570\\u636E\\u7ED3\\u6784-\",children:\"4. \\u8C28\\u614E\\u4F7F\\u7528\\u5927\\u578B\\u6570\\u636E\\u7ED3\\u6784 \\u{1F333}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6570\\u7EC4\\u3001\\u5BF9\\u8C61\\u7528\\u5B8C\\u540E\\uFF0C\\u624B\\u52A8\\u7F6E\\u7A7A\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B-3\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-3\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" bigArray \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'data'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"bigArray \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u624B\\u52A8\\u91CA\\u653E\"})]})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips-7\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-7\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5927\\u5BF9\\u8C61\\u7528\\u5B8C\\u540E\\uFF0C\\u4E3B\\u52A8\\u8D4B\\u503C\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"null\"})})})}),\"\\uFF0C\\u522B\\u6307\\u671B GC \\u66FF\\u4F60\\u64E6\\u5C41\\u80A1\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"5-\\u5355\\u5143\\u6D4B\\u8BD5\\u52A0\\u6027\\u80FD\\u76D1\\u63A7-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#5-\\u5355\\u5143\\u6D4B\\u8BD5\\u52A0\\u6027\\u80FD\\u76D1\\u63A7-\\uFE0F\",children:\"5. \\u5355\\u5143\\u6D4B\\u8BD5\\u52A0\\u6027\\u80FD\\u76D1\\u63A7 \\u{1F6E1}\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5199\\u6D4B\\u8BD5\\u7528\\u4F8B\\u65F6\\uFF0C\\u987A\\u624B\\u6D4B\\u6D4B\\u5185\\u5B58\\u5360\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B-4\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-4\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528 Jest \\u52A0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"performance\"})})})}),\" API\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"test\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'should not leak memory'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" start\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" performance.memory.usedJSHeapSize;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u6267\\u884C\\u4EE3\\u7801\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" end\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" performance.memory.usedJSHeapSize;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  expect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(end \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" start).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toBeLessThan\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5185\\u5B58\\u589E\\u957F\\u522B\\u8D85 1MB\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u5C0F-tips-8\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-8\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u5728 CI \\u91CC\\u52A0\\u4E2A\\u5185\\u5B58\\u68C0\\u67E5\\u811A\\u672C\\uFF0C\\u9632\\u60A3\\u4E8E\\u672A\\u7136\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u8BA9\\u5185\\u5B58\\u8F7B\\u88C5\\u4E0A\\u9635\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u8BA9\\u5185\\u5B58\\u8F7B\\u88C5\\u4E0A\\u9635\",children:\"\\u603B\\u7ED3\\uFF1A\\u8BA9\\u5185\\u5B58\\u201C\\u8F7B\\u88C5\\u4E0A\\u9635\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\\u4E0D\\u53EF\\u6015\\uFF0C\\u53EF\\u6015\\u7684\\u662F\\u4F60\\u4E0D\\u77E5\\u9053\\u5B83\\u5728\\u54EA\\u3002\\u95ED\\u5305\\u3001\\u4E8B\\u4EF6\\u76D1\\u542C\\u3001DOM \\u5F15\\u7528\\u3001\\u5168\\u5C40\\u53D8\\u91CF\\uFF0C\\u8FD9\\u4E9B\\u201C\\u60EF\\u72AF\\u201D\\u53EA\\u8981\\u4F60\\u591A\\u7559\\u4E2A\\u5FC3\\u773C\\uFF0C\\u5C31\\u80FD\\u8F7B\\u677E\\u641E\\u5B9A\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u5E2E\\u4F60\\u4ECE\\u201C\\u5185\\u5B58\\u5C0F\\u767D\\u201D\\u8FDB\\u9636\\u5230\\u201C\\u6349\\u6F0F\\u5927\\u5E08\\u201D\\uFF0C\\u4E0B\\u6B21\\u518D\\u770B\\u5230\\u5185\\u5B58\\u66F2\\u7EBF\\u98D9\\u5347\\uFF0C\\u522B\\u614C\\uFF0C\\u6253\\u5F00 DevTools\\uFF0C\\u627E\\u627E\\u201C\\u9B3C\\u9B42\\u201D\\uFF0C\\u4E00\\u62DB\\u5236\\u654C\\uFF01\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6700\\u540E\\uFF0C\\u9001\\u4F60\\u4E00\\u53E5\\u8BDD\\uFF1A\",(0,n.jsx)(e.strong,{children:\"\\u201C\\u4EE3\\u7801\\u53EF\\u4EE5\\u4E71\\u5199\\uFF0C\\u5185\\u5B58\\u4E0D\\u80FD\\u4E71\\u4E22\\u201D\"}),\"\\u3002\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u5199\\u51FA\\u65E2\\u4F18\\u96C5\\u53C8\\u201C\\u8F7B\\u76C8\\u201D\\u7684 JS \\u4EE3\\u7801\\u5427\\uFF01\\u6709\\u4EC0\\u4E48\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u201C\\u8840\\u6CEA\\u53F2\\u201D\\u5417\\uFF1F\\u6B22\\u8FCE\\u7559\\u8A00\\u5206\\u4EAB\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u5410\\u69FD \\u{1F602}\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(s,{...l})}):s(l)}return k(B);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/æ€§èƒ½ä¼˜åŒ–/ä½ çš„JSä»£ç åœ¨å·å·åƒå†…å­˜.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/æ€§èƒ½ä¼˜åŒ–/ä½ çš„JSä»£ç åœ¨å·å·åƒå†…å­˜.mdx",
    "sourceFileName": "ä½ çš„JSä»£ç åœ¨å·å·åƒå†…å­˜.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯/æ€§èƒ½ä¼˜åŒ–",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/æ€§èƒ½ä¼˜åŒ–/ä½ çš„JSä»£ç åœ¨å·å·åƒå†…å­˜"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/æ€§èƒ½ä¼˜åŒ–/ä½ çš„JSä»£ç åœ¨å·å·åƒå†…å­˜"
}
{
  "title": "é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ useRef æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿæˆ‘ï¼šâ“ ğŸ˜­",
  "date": "2023-11-25T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æ React useRef Hook çš„å®ç°åŸç†ï¼Œç»“åˆä»£ç ã€ç±»æ¯”å’Œæœ€ä½³å®è·µï¼Œä¸ºå‰ç«¯å¼€å‘è€…æä¾›å…¨é¢çš„æŠ€æœ¯è§£è¯»ã€‚",
  "keywords": "React, useRef, Hooks, React Fiber,å‰ç«¯å¼€å‘, JavaScript, React åŸç†, é¢è¯•",
  "author": "æ™“é¾™",
  "image": "/images/hero/useRef.jpg",
  "tags": [
    "é¢è¯•",
    "React",
    "Hooks",
    "JavaScript"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\nä½ æœ‰æ²¡æœ‰ç»å†è¿‡è¿™æ ·çš„é¢è¯•åœºæ™¯ï¼Ÿé¢è¯•å®˜ç¬‘çœ¯çœ¯åœ°æŠ›å‡ºä¸€å¥ï¼šâ€œè¯´ä¸€ä¸‹ `useRef` æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿâ€ ä½ è„‘æµ·é‡Œç¬é—´æµ®ç°å‡ºä¸€å †é—®å· â“ï¼Œç´§æ¥ç€æ˜¯ä¸€é˜µå†·æ±— ğŸ˜“ï¼Œç”šè‡³æ¨ä¸å¾—å½“åœºè¡¨æ¼”ä¸€å‡ºâ€œç¨‹åºå‘˜çš„å´©æºƒâ€ ğŸ­ã€‚åˆ«æ…Œï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯ä½ çš„æ•‘å‘½ç¨»è‰ï¼æˆ‘ä»¬å°†æ·±å…¥å‰–æ `useRef` çš„å®ç°åŸç†ï¼Œå¸¦ä½ ä»â€œä¸€è„¸æ‡µâ€åˆ°â€œè‡ªä¿¡æ»¡æ»¡â€ ğŸ’ªã€‚ä¸ä»…ä¼šè®²æ¸…æ¥š `useRef` çš„åº•å±‚æœºåˆ¶ï¼Œè¿˜ä¼šç»“åˆç±»æ¯”ã€ä»£ç ç¤ºä¾‹ã€æœ€ä½³å®è·µï¼Œç”šè‡³ä¸€ç‚¹é«˜çº§å¹½é»˜ï¼Œè®©ä½ è¯»å®Œåæ—¢èƒ½åº”ä»˜é¢è¯•å®˜çš„â€œçµé­‚æ‹·é—®â€ï¼Œåˆèƒ½åœ¨é¡¹ç›®ä¸­ä¼˜é›…åœ°ä½¿ç”¨ `useRef`ã€‚\n\nè¿™ç¯‡æ–‡ç« çš„ç›®æ ‡å—ä¼—æ˜¯å‰ç«¯å¼€å‘è€…ï¼Œå°¤å…¶æ˜¯é‚£äº›å¯¹ React Hooks æ„Ÿå…´è¶£ã€æƒ³æ·±å…¥ç†è§£ React å†…éƒ¨åŸç†çš„åŒå­¦ã€‚æˆ‘ä»¬ä¼šä» `useRef` çš„åŸºæœ¬ç”¨æ³•è®²èµ·ï¼Œé€æ­¥æ·±å…¥åˆ° React Fiber çš„å®ç°ç»†èŠ‚ï¼Œç©¿æ’å¤§é‡ä»£ç ç¤ºä¾‹å’Œç±»æ¯”ï¼Œè¾…ä»¥æ¸…æ™°çš„è¡¨æ ¼å’Œå®ç”¨æŠ€å·§ã€‚æ–‡ç« ä¼šå°½é‡å¹½é»˜é£è¶£ï¼Œæ–‡ç¬”æµç•…ï¼Œé¿å…ç”Ÿç¡¬çš„æœ¯è¯­å †ç Œï¼ŒåŒæ—¶ä¿æŒä¸“ä¸šæ€§å’ŒæŠ€æœ¯æ·±åº¦ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·è·³è¿› `useRef` çš„å¥‡å¦™ä¸–ç•Œå§ï¼ğŸš€\n\n## ç›®å½•\n\n1. **ä»€ä¹ˆæ˜¯ `useRef`ï¼Ÿä»â€œè¡¨è±¡â€åˆ°â€œæœ¬è´¨â€**\n2. **ä¸ºä»€ä¹ˆéœ€è¦ `useRef`ï¼Ÿå®ƒçš„ç‹¬ç‰¹ä»·å€¼**\n3. **`useRef` çš„åŸºæœ¬ç”¨æ³•ï¼šä» DOM åˆ°çŠ¶æ€ç®¡ç†**\n4. **æ·±å…¥ React æºç ï¼š`useRef` çš„å®ç°åŸç†**\n5. **ç±»æ¯”ä¸ç›´è§‰ï¼šç”¨ç”Ÿæ´»ä¸­çš„ä¾‹å­ç†è§£ `useRef`**\n6. **é«˜çº§ç”¨æ³•ä¸æœ€ä½³å®è·µï¼šè®© `useRef` å‘æŒ¥æœ€å¤§ä»·å€¼**\n7. **å¸¸è§è¯¯åŒºä¸é¢è¯•é™·é˜±ï¼šå¦‚ä½•é¿å…ç¿»è½¦**\n8. **æ€»ç»“ä¸å±•æœ›ï¼š`useRef` çš„æœªæ¥ä¸ React çš„è¿›åŒ–**\n\n## 1. ä»€ä¹ˆæ˜¯ `useRef`ï¼Ÿä»â€œè¡¨è±¡â€åˆ°â€œæœ¬è´¨â€\n\nåœ¨ React çš„ Hooks ä½“ç³»ä¸­ï¼Œ`useRef` æ˜¯ä¸€ä¸ªçœ‹ä¼¼ç®€å•å´å¼‚å¸¸å¼ºå¤§çš„å·¥å…·ã€‚è¡¨é¢ä¸Šçœ‹ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªâ€œç”¨æ¥è·å– DOM å¼•ç”¨â€çš„ Hookï¼Œä½†å®é™…ä¸Šï¼Œå®ƒæ˜¯ä¸€ä¸ªâ€œè·¨æ¸²æŸ“å‘¨æœŸçš„æŒä¹…åŒ–å­˜å‚¨ç®±â€ ğŸ“¦ã€‚å®˜æ–¹æ–‡æ¡£å¯¹ `useRef` çš„å®šä¹‰æ˜¯ï¼š\n\n> `useRef` è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ `.current` å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•°ï¼ˆ`initialValue`ï¼‰ã€‚è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚\n\nå¬èµ·æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼Ÿåˆ«æ€¥ï¼Œæˆ‘ä»¬æ¥æ‹†è§£ä¸€ä¸‹ï¼š\n\n- **å¯å˜çš„ ref å¯¹è±¡**ï¼š`useRef` è¿”å›çš„å¯¹è±¡å¯ä»¥å­˜å‚¨ä»»æ„å€¼ï¼ˆDOM èŠ‚ç‚¹ã€æ™®é€šå€¼ã€ç”šè‡³ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œè€Œä¸”ä½ å¯ä»¥é€šè¿‡ `.current` å±æ€§éšæ„ä¿®æ”¹å®ƒã€‚\n- **ç”Ÿå‘½å‘¨æœŸå†…ä¸å˜**ï¼šæ— è®ºç»„ä»¶æ¸²æŸ“å¤šå°‘æ¬¡ï¼Œè¿™ä¸ª ref å¯¹è±¡çš„å¼•ç”¨ï¼ˆå†…å­˜åœ°å€ï¼‰æ°¸è¿œä¸ä¼šå˜ã€‚\n- **ä¸è§¦å‘é‡æ–°æ¸²æŸ“**ï¼šä¿®æ”¹ `.current` çš„å€¼ä¸ä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¿™å’Œ `useState` çš„åŒºåˆ«å°¤ä¸ºå…³é”®ã€‚\n\nç”¨ä¸€å¥é€šä¿—çš„è¯æ€»ç»“ï¼š`useRef` å°±åƒä¸€ä¸ªâ€œéšèº«æºå¸¦çš„å°ç¬”è®°æœ¬â€ ğŸ“ï¼Œä½ å¯ä»¥éšæ—¶åœ¨ä¸Šé¢è®°ä¸œè¥¿ã€æ”¹ä¸œè¥¿ï¼Œä½†å®ƒä¸ä¼šå› ä¸ºä½ è®°äº†æ–°å†…å®¹å°±å¼ºåˆ¶åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚\n\n*Tips: å¦‚æœä½ åªæŠŠ `useRef` å½“æˆè·å– DOM çš„å·¥å…·ï¼Œé‚£ä½ å¯èƒ½åªå‘æŒ¥äº†å®ƒ 10% çš„å¨åŠ›ã€‚è¯•ç€ç”¨å®ƒæ¥å­˜å‚¨è·¨æ¸²æŸ“çš„ä»»æ„æ•°æ®ï¼Œä½ ä¼šå‘ç°å®ƒçš„çœŸæ­£é­…åŠ›ï¼*\n\n## 2. ä¸ºä»€ä¹ˆéœ€è¦ `useRef`ï¼Ÿå®ƒçš„ç‹¬ç‰¹ä»·å€¼\n\nåœ¨ React çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬æœ‰ `useState` æ¥ç®¡ç†çŠ¶æ€ï¼Œæœ‰ `useEffect` æ¥å¤„ç†å‰¯ä½œç”¨ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ `useRef`ï¼Ÿç­”æ¡ˆåœ¨äºå®ƒçš„â€œä½è°ƒä½†å¼ºå¤§â€çš„ç‰¹æ€§ï¼š\n\n1. **æŒä¹…åŒ–å­˜å‚¨**ï¼šä¸åƒ `useState` é‚£æ ·æ¯æ¬¡æ›´æ–°éƒ½ä¼šè§¦å‘æ¸²æŸ“ï¼Œ`useRef` æä¾›äº†ä¸€ç§â€œé™é»˜å­˜å‚¨â€çš„æ–¹å¼ï¼Œé€‚åˆä¿å­˜é‚£äº›ä¸éœ€è¦è§¦å‘ UI æ›´æ–°çš„æ•°æ®ã€‚\n2. **å¼•ç”¨ DOM æˆ–ç»„ä»¶å®ä¾‹**ï¼šé€šè¿‡ `useRef`ï¼Œä½ å¯ä»¥ç›´æ¥æ“ä½œ DOM èŠ‚ç‚¹æˆ–ç±»ç»„ä»¶çš„å®ä¾‹ï¼Œç»•è¿‡ React çš„è™šæ‹Ÿ DOM æœºåˆ¶ã€‚\n3. **é¿å…é—­åŒ…é™·é˜±**ï¼šåœ¨å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬å™¨ç­‰åœºæ™¯ä¸­ï¼Œ`useRef` å¯ä»¥ä¿å­˜æœ€æ–°çš„å€¼ï¼Œé¿å…å› ä¸ºé—­åŒ…å¯¼è‡´çš„â€œè¿‡æœŸçŠ¶æ€â€é—®é¢˜ã€‚\n4. **æ€§èƒ½ä¼˜åŒ–**ï¼š`useRef` çš„ `.current` ä¿®æ”¹æ˜¯åŒæ­¥çš„ï¼Œä¸”ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼Œé€‚åˆé«˜é¢‘æ›´æ–°çš„åœºæ™¯ã€‚\n\næƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ²¡æœ‰ `useRef`ï¼Œä½ å¯èƒ½ä¼šè¢«è¿«ç”¨ `useState` æ¥å­˜ä¸€ä¸ª DOM å¼•ç”¨ï¼Œç„¶åæ¯æ¬¡æ›´æ–°éƒ½ä¼šè§¦å‘ä¸å¿…è¦çš„æ¸²æŸ“ï¼Œæ€§èƒ½ç›´æ¥â€œå´©ç›˜â€ ğŸ’¥ã€‚æˆ–è€…ï¼Œä½ å¯èƒ½å¾—ç”¨ä¸€å † hacky çš„æ–¹å¼æ¥ä¿å­˜è·¨æ¸²æŸ“çš„æ•°æ®ï¼Œä»£ç å†™å¾—åƒâ€œæ‹¼å›¾æ¸¸æˆâ€ ğŸ§©ã€‚\n\n*Tips: ä¸‹æ¬¡é‡åˆ°â€œéœ€è¦ä¿å­˜æ•°æ®ä½†ä¸æƒ³è§¦å‘æ¸²æŸ“â€çš„åœºæ™¯ï¼Œç¬¬ä¸€æ—¶é—´æƒ³æƒ³ `useRef`ã€‚å®ƒå¯èƒ½æ˜¯ä½ æ€§èƒ½ä¼˜åŒ–çš„ç§˜å¯†æ­¦å™¨ï¼*\n\n## 3. `useRef` çš„åŸºæœ¬ç”¨æ³•ï¼šä» DOM åˆ°çŠ¶æ€ç®¡ç†\n\nè®©æˆ‘ä»¬é€šè¿‡å‡ ä¸ªå®é™…çš„ä»£ç ç¤ºä¾‹æ¥ç›´è§‚æ„Ÿå— `useRef` çš„ç”¨æ³•ã€‚ä»¥ä¸‹æ˜¯ `useRef` çš„ä¸‰å¤§å…¸å‹åœºæ™¯ï¼šDOM æ“ä½œã€çŠ¶æ€ç®¡ç†ã€ä»¥åŠä¿å­˜å®ä¾‹ã€‚\n\n### 3.1 è·å– DOM å¼•ç”¨\n\næœ€å¸¸è§çš„ `useRef` ç”¨æ³•æ˜¯è·å– DOM å…ƒç´ ï¼Œæ¯”å¦‚è®©ä¸€ä¸ªè¾“å…¥æ¡†è‡ªåŠ¨èšç„¦ï¼š\n\n```jsx\nimport { useRef, useEffect } from 'react';\n\nfunction AutoFocusInput() {\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    inputRef.current.focus(); // ç›´æ¥æ“ä½œ DOM\n  }, []);\n\n  return <input ref={inputRef} type=\"text\" />;\n}\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`inputRef` æ˜¯ä¸€ä¸ª ref å¯¹è±¡ï¼Œåˆå§‹åŒ–æ—¶ `inputRef.current` æ˜¯ `null`ã€‚å½“ React æ¸²æŸ“ `<input>` æ—¶ï¼Œä¼šæŠŠçœŸå®çš„ DOM èŠ‚ç‚¹èµ‹å€¼ç»™ `inputRef.current`ã€‚ç„¶ååœ¨ `useEffect` ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ `inputRef.current.focus()` è®©è¾“å…¥æ¡†è‡ªåŠ¨èšç„¦ã€‚\n\n*Tips: ä½¿ç”¨ `useRef` æ“ä½œ DOM æ—¶ï¼Œè®°å¾—åœ¨ `useEffect` ä¸­æ£€æŸ¥ `ref.current` æ˜¯å¦å­˜åœ¨ï¼Œä»¥é˜²ç»„ä»¶å¸è½½åè®¿é—®ç©ºå¼•ç”¨å¯¼è‡´æŠ¥é”™ã€‚*\n\n### 3.2 ä¿å­˜è·¨æ¸²æŸ“çš„çŠ¶æ€\n\n`useRef` ä¸ä»…èƒ½å­˜ DOMï¼Œè¿˜èƒ½å­˜ä»»æ„æ•°æ®ï¼Œä¸”è¿™äº›æ•°æ®åœ¨å¤šæ¬¡æ¸²æŸ“é—´ä¿æŒä¸å˜ã€‚æ¥çœ‹ä¸€ä¸ªè®¡æ—¶å™¨çš„ä¾‹å­ï¼š\n\n```jsx\nimport { useRef, useState } from 'react';\n\nfunction Timer() {\n  const [count, setCount] = useState(0);\n  const intervalRef = useRef(null);\n\n  const startTimer = () => {\n    intervalRef.current = setInterval(() => {\n      setCount((prev) => prev + 1);\n    }, 1000);\n  };\n\n  const stopTimer = () => {\n    clearInterval(intervalRef.current);\n  };\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={startTimer}>Start</button>\n      <button onClick={stopTimer}>Stop</button>\n    </div>\n  );\n}\n```\n\nè¿™é‡Œï¼Œ`intervalRef` ä¿å­˜äº†å®šæ—¶å™¨çš„ IDã€‚æ¯æ¬¡æ¸²æŸ“ï¼Œ`intervalRef.current` å§‹ç»ˆæŒ‡å‘åŒä¸€ä¸ªå€¼ï¼Œç›´åˆ°æˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹å®ƒã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¦‚æœç”¨ `useState` æ¥å­˜å®šæ—¶å™¨ IDï¼Œæ¯æ¬¡ `setState` éƒ½ä¼šè§¦å‘æ¸²æŸ“ï¼Œæ•ˆç‡ä½ä¸‹ã€‚\n\n*Tips: åœ¨éœ€è¦ä¿å­˜â€œä¸ä¼šè§¦å‘ UI æ›´æ–°â€çš„æ•°æ®æ—¶ï¼Œæ¯”å¦‚å®šæ—¶å™¨ IDã€äº‹ä»¶ç›‘å¬å™¨å›è°ƒï¼Œä¼˜å…ˆè€ƒè™‘ `useRef` è€Œä¸æ˜¯ `useState`ã€‚*\n\n### 3.3 ä¿å­˜å®ä¾‹æˆ–å¤æ‚å¯¹è±¡\n\n`useRef` è¿˜èƒ½ç”¨æ¥ä¿å­˜ç±»å®ä¾‹æˆ–å¤æ‚å¯¹è±¡ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦â€œå•ä¾‹æ¨¡å¼â€çš„åœºæ™¯ã€‚å‡è®¾æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªç®€å•çš„åŠ¨ç”»æ§åˆ¶å™¨ï¼š\n\n```jsx\nimport { useRef } from 'react';\n\nclass AnimationController {\n  constructor() {\n    this.isRunning = false;\n  }\n\n  start() {\n    this.isRunning = true;\n    console.log('Animation started');\n  }\n\n  stop() {\n    this.isRunning = false;\n    console.log('Animation stopped');\n  }\n}\n\nfunction AnimationComponent() {\n  const controllerRef = useRef(new AnimationController());\n\n  return (\n    <div>\n      <button onClick={() => controllerRef.current.start()}>Start Animation</button>\n      <button onClick={() => controllerRef.current.stop()}>Stop Animation</button>\n    </div>\n  );\n}\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`controllerRef` ä¿å­˜äº†ä¸€ä¸ª `AnimationController` å®ä¾‹ã€‚è¿™ä¸ªå®ä¾‹åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…åªåˆ›å»ºä¸€æ¬¡ï¼Œå®Œç¾å®ç°äº†â€œå•ä¾‹â€æ•ˆæœã€‚\n\n*Tips: å¦‚æœä½ çš„ç»„ä»¶éœ€è¦ç®¡ç†å¤æ‚çš„å¯¹è±¡æˆ–çŠ¶æ€æœºï¼Œè€ƒè™‘ç”¨ `useRef` æ¥ä¿å­˜å®ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡å¸¦æ¥çš„æ€§èƒ½å¼€é”€ã€‚*\n\n## 4. æ·±å…¥ React æºç ï¼š`useRef` çš„å®ç°åŸç†\n\nå¥½äº†ï¼Œæ¥ä¸‹æ¥æ˜¯é‡å¤´æˆï¼é¢è¯•å®˜é—®â€œ`useRef` æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿâ€æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½åªåœç•™åœ¨â€œå®ƒè¿”å›ä¸€ä¸ª ref å¯¹è±¡â€è¿™ç§è¡¨é¢ç­”æ¡ˆä¸Šã€‚æˆ‘ä»¬éœ€è¦æ·±å…¥ React çš„æºç ï¼Œææ¸…æ¥š `useRef` åœ¨ React Fiber æ¶æ„ä¸‹çš„å·¥ä½œåŸç†ã€‚åˆ«ç´§å¼ ï¼Œæˆ‘ä¼šå°½é‡ç”¨é€šä¿—çš„è¯­è¨€å’Œç±»æ¯”æ¥è®²è§£ï¼ŒåŒæ—¶ç»“åˆä»£ç ç‰‡æ®µè®©ä½ ä¸€ç›®äº†ç„¶ã€‚\n\n### 4.1 React Fiber ç®€ä»‹\n\nåœ¨è®²è§£ `useRef` ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆç®€å•äº†è§£ React çš„ Fiber æ¶æ„ã€‚Fiber æ˜¯ React 16 å¼•å…¥çš„ä¸€ç§æ–°çš„åè°ƒï¼ˆreconciliationï¼‰æœºåˆ¶ï¼Œç”¨æ¥ç®¡ç†ç»„ä»¶çš„æ¸²æŸ“å’Œæ›´æ–°ã€‚æ¯ä¸ª React ç»„ä»¶åœ¨è¿è¡Œæ—¶éƒ½ä¼šè¢«è¡¨ç¤ºä¸ºä¸€ä¸ª Fiber èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹ç»„æˆäº†ä¸€æ£µ Fiber æ ‘ ğŸŒ³ã€‚\n\næ¯ä¸ª Fiber èŠ‚ç‚¹åŒ…å«ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š\n\n- **type**ï¼šç»„ä»¶çš„ç±»å‹ï¼ˆæ¯”å¦‚ `div` æˆ–è‡ªå®šä¹‰ç»„ä»¶ï¼‰ã€‚\n- **stateNode**ï¼šå¯¹åº”çš„ DOM èŠ‚ç‚¹æˆ–ç±»ç»„ä»¶å®ä¾‹ã€‚\n- **memoizedState**ï¼šç”¨æ¥å­˜å‚¨ Hooks çš„çŠ¶æ€ï¼ˆ`useState`ã€`useRef` ç­‰éƒ½ä¾èµ–å®ƒï¼‰ã€‚\n- **updateQueue**ï¼šæ›´æ–°é˜Ÿåˆ—ï¼Œç”¨äºå¤„ç†çŠ¶æ€å˜æ›´ã€‚\n\n`useRef` çš„å®ç°å°±éšè—åœ¨ Fiber èŠ‚ç‚¹çš„ `memoizedState` ä¸­ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥æ‹†è§£å®ƒçš„å®ç°ã€‚\n\n### 4.2 `useRef` çš„æºç åˆ†æ\n\nåœ¨ React çš„æºç ä¸­ï¼Œ`useRef` çš„å®šä¹‰ä½äº `react-reconciler` åŒ…ä¸­ã€‚æˆ‘ä»¬å¯ä»¥ç®€åŒ–å®ƒçš„å®ç°ä¸ºä»¥ä¸‹ä¼ªä»£ç ï¼š\n\n```javascript\nfunction useRef(initialValue) {\n  // è·å–å½“å‰ Fiber èŠ‚ç‚¹çš„ Hook é“¾è¡¨\n  const hook = mountOrUpdateHook();\n\n  // å¦‚æœæ˜¯é¦–æ¬¡æ¸²æŸ“ï¼ˆmountï¼‰ï¼Œåˆå§‹åŒ– ref å¯¹è±¡\n  if (isMounting()) {\n    hook.memoizedState = { current: initialValue };\n  }\n\n  // è¿”å› ref å¯¹è±¡ï¼ˆåœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ï¼‰\n  return hook.memoizedState;\n}\n```\n\nè¿™æ®µä¼ªä»£ç æ­ç¤ºäº† `useRef` çš„æ ¸å¿ƒé€»è¾‘ï¼š\n\n1. **Hook é“¾è¡¨**ï¼šReact ä¸ºæ¯ä¸ªå‡½æ•°ç»„ä»¶ç»´æŠ¤ä¸€ä¸ª Hook é“¾è¡¨ï¼Œå­˜å‚¨æ‰€æœ‰ Hook çš„çŠ¶æ€ã€‚`useRef` çš„çŠ¶æ€å°±ä¿å­˜åœ¨è¿™ä¸ªé“¾è¡¨çš„æŸä¸ªèŠ‚ç‚¹ä¸Šã€‚\n2. **åˆå§‹åŒ– ref å¯¹è±¡**ï¼šåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“ï¼ˆmountï¼‰æ—¶ï¼ŒReact åˆ›å»ºä¸€ä¸ª `{ current: initialValue }` å¯¹è±¡ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ Hook çš„ `memoizedState` ä¸­ã€‚\n3. **ä¿æŒå¼•ç”¨ä¸å˜**ï¼šåœ¨åç»­çš„æ¸²æŸ“ï¼ˆupdateï¼‰ä¸­ï¼ŒReact ç›´æ¥è¿”å›ä¹‹å‰åˆ›å»ºçš„ ref å¯¹è±¡ï¼Œç¡®ä¿å®ƒçš„å¼•ç”¨ï¼ˆå†…å­˜åœ°å€ï¼‰å§‹ç»ˆä¸å˜ã€‚\n\nä¸ºäº†æ›´ç›´è§‚ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ React å†…éƒ¨çš„ Hook æ•°æ®ç»“æ„ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š\n\n```javascript\n// Fiber èŠ‚ç‚¹çš„ç»“æ„ï¼ˆç®€åŒ–ï¼‰\nconst fiber = {\n  memoizedState: null, // æŒ‡å‘ Hook é“¾è¡¨\n  // å…¶ä»–å±æ€§...\n};\n\n// Hook èŠ‚ç‚¹çš„ç»“æ„\nconst hook = {\n  memoizedState: null, // å­˜å‚¨ Hook çš„çŠ¶æ€ï¼ˆå¯¹äº useRef æ¥è¯´æ˜¯ { current: initialValue }ï¼‰\n  next: null, // æŒ‡å‘ä¸‹ä¸€ä¸ª Hook\n};\n```\n\nå½“ä½ åœ¨ä¸€ä¸ªç»„ä»¶ä¸­è°ƒç”¨ `useRef(initialValue)` æ—¶ï¼ŒReact ä¼šåœ¨ Hook é“¾è¡¨ä¸­åˆ†é…ä¸€ä¸ªæ–°çš„ Hook èŠ‚ç‚¹ï¼Œå¹¶åˆå§‹åŒ– `memoizedState` ä¸º `{ current: initialValue }`ã€‚è¿™ä¸ªå¯¹è±¡ä¼šè¢«å¤ç”¨ï¼Œç›´åˆ°ç»„ä»¶å¸è½½ã€‚\n\n### 4.3 ä¸ºä»€ä¹ˆ `.current` ä¿®æ”¹ä¸è§¦å‘æ¸²æŸ“ï¼Ÿ\n\nä¸€ä¸ªå¸¸è§çš„é—®é¢˜æ˜¯ï¼šä¸ºä»€ä¹ˆä¿®æ”¹ `ref.current` ä¸ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Ÿç­”æ¡ˆåœ¨äº React çš„æ›´æ–°æœºåˆ¶ã€‚React çš„é‡æ–°æ¸²æŸ“æ˜¯ç”± `useState` æˆ– `useReducer` çš„çŠ¶æ€å˜æ›´è§¦å‘çš„ï¼Œè¿™äº› Hook ä¼šé€šè¿‡ `scheduleUpdate` é€šçŸ¥ Fiber æ ‘éœ€è¦æ›´æ–°ã€‚è€Œ `useRef` çš„ `ref.current` åªæ˜¯ä¸€ä¸ªæ™®é€šçš„ JavaScript å¯¹è±¡ï¼Œä¿®æ”¹å®ƒå¹¶ä¸ä¼šè§¦å‘ä»»ä½•æ›´æ–°é˜Ÿåˆ—çš„æ“ä½œã€‚\n\nç”¨ç±»æ¯”æ¥è¯´ï¼Œ`useState` åƒæ˜¯ä¸€ä¸ªâ€œä¼šè‡ªåŠ¨é€šçŸ¥è€æ¿çš„æ™ºèƒ½ç¬”è®°æœ¬â€ ğŸ“–ï¼Œæ¯æ¬¡å†™æ–°å†…å®¹éƒ½ä¼šè®©ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚è€Œ `useRef` æ›´åƒæ˜¯ä¸€ä¸ªâ€œæ™®é€šç¬”è®°æœ¬â€ ğŸ“ï¼Œä½ éšä¾¿å†™ä»€ä¹ˆï¼ŒReact éƒ½ä¸ä¼šâ€œå¤šç®¡é—²äº‹â€ã€‚\n\n### 4.4 æºç ä¸­çš„å…³é”®å‡½æ•°\n\nä¸ºäº†æ›´æ·±å…¥ï¼Œæˆ‘ä»¬æ¥çœ‹ React æºç ä¸­ä¸ `useRef` ç›¸å…³çš„å‡ ä¸ªå…³é”®å‡½æ•°ï¼ˆåŸºäº React 18ï¼‰ï¼š\n\n- **`mountRef`**ï¼šå¤„ç† `useRef` çš„é¦–æ¬¡æ¸²æŸ“é€»è¾‘ã€‚\n- **`updateRef`**ï¼šå¤„ç† `useRef` çš„æ›´æ–°é€»è¾‘ï¼ˆå®é™…ä¸Šåªæ˜¯è¿”å›å·²æœ‰çš„ ref å¯¹è±¡ï¼‰ã€‚\n\nä»¥ä¸‹æ˜¯ç®€åŒ–åçš„æºç ï¼ˆå»æ‰äº†éƒ¨åˆ†è¾¹ç•Œæ£€æŸ¥ï¼‰ï¼š\n\n```javascript\n// packages/react-reconciler/src/ReactFiberHooks.js\nfunction mountRef(initialValue) {\n  const hook = mountWorkInProgressHook();\n  const ref = { current: initialValue };\n  hook.memoizedState = ref;\n  return ref;\n}\n\nfunction updateRef(initialValue) {\n  const hook = updateWorkInProgressHook();\n  return hook.memoizedState;\n}\n```\n\nä»ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼š\n\n- åœ¨ `mount` é˜¶æ®µï¼ŒReact åˆ›å»ºä¸€ä¸ªæ–°çš„ ref å¯¹è±¡å¹¶å­˜å‚¨åœ¨ Hook çš„ `memoizedState` ä¸­ã€‚\n- åœ¨ `update` é˜¶æ®µï¼ŒReact ç›´æ¥è¿”å›ä¹‹å‰åˆ›å»ºçš„ ref å¯¹è±¡ï¼Œå®Œå…¨å¿½ç•¥ `initialValue`ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ `useRef` çš„åˆå§‹å€¼åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶ç”Ÿæ•ˆï¼‰ã€‚\n\n*Tips: é¢è¯•æ—¶å¦‚æœè¢«é—®åˆ° `useRef` çš„å®ç°ï¼Œæåˆ°â€œFiber èŠ‚ç‚¹çš„ Hook é“¾è¡¨â€å’Œâ€œmemoizedState çš„æŒä¹…åŒ–å­˜å‚¨â€ä¼šè®©ä½ çš„å›ç­”æ˜¾å¾—éå¸¸ä¸“ä¸šï¼*\n\n## 5. ç±»æ¯”ä¸ç›´è§‰ï¼šç”¨ç”Ÿæ´»ä¸­çš„ä¾‹å­ç†è§£ `useRef`\n\næŠ€æœ¯åŸç†è®²å®Œäº†ï¼Œæˆ‘ä»¬æ¥ç‚¹è½»æ¾çš„ç±»æ¯”ï¼Œè®© `useRef` çš„æ¦‚å¿µæ›´ç›´è§‚ã€‚å‡è®¾ä½ æ˜¯ä¸€ä¸ªå’–å•¡åº—çš„åº—å‘˜ â˜•ï¼Œä½ çš„å·¥ä½œæ˜¯æ¥å¾…é¡¾å®¢ã€ç®¡ç†è®¢å•å’Œæ“ä½œå’–å•¡æœºã€‚React ç»„ä»¶å°±åƒä½ çš„å·¥ä½œæµç¨‹ï¼Œè€Œ `useRef` å’Œå…¶ä»– Hooks æ˜¯ä½ çš„å·¥å…·ã€‚\n\n- **useState**ï¼šä½ çš„è®¢å•æ¿ ğŸ“‹ã€‚æ¯æ¬¡é¡¾å®¢ç‚¹å•ï¼ˆçŠ¶æ€å˜æ›´ï¼‰ï¼Œä½ éƒ½ä¼šæ›´æ–°è®¢å•æ¿ï¼Œç„¶åå¤§å£°å–Šâ€œæ–°è®¢å•æ¥äº†ï¼â€ï¼ˆè§¦å‘æ¸²æŸ“ï¼‰ï¼Œè®©æ•´ä¸ªå’–å•¡åº—é‡æ–°å¿™ç¢Œèµ·æ¥ã€‚\n- **useEffect**ï¼šä½ çš„æ¸…æ´æ¸…å• ğŸ§¹ã€‚æ¯æ¬¡åº—é‡ŒçŠ¶æ€å˜åŒ–ï¼ˆæ¯”å¦‚æ–°é¡¾å®¢æ¥äº†ï¼‰ï¼Œä½ ä¼šæŒ‰ç…§æ¸…å•åšä¸€äº›æ¸…ç†å·¥ä½œï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œæ¯”å¦‚æ“¦æ¡Œå­ã€æ´—æ¯å­ã€‚\n- **useRef**ï¼šä½ çš„ç§äººå°ç¬”è®°æœ¬ ğŸ“ã€‚ä½ å¯ä»¥åœ¨ä¸Šé¢è®°ä¸€äº›â€œç§å¯†ä¿¡æ¯â€ï¼ˆæ¯”å¦‚å’–å•¡æœºçš„å½“å‰æ¸©åº¦ã€æŸä¸ªé¡¾å®¢çš„ç‰¹æ®Šå–œå¥½ï¼‰ï¼Œè¿™äº›ä¿¡æ¯ä¸ä¼šå½±å“è®¢å•æ¿ï¼Œä¹Ÿä¸ä¼šè®©å’–å•¡åº—é‡æ–°å¿™ç¢Œã€‚ä½ å¯ä»¥éšæ—¶æŸ¥çœ‹æˆ–ä¿®æ”¹ç¬”è®°æœ¬çš„å†…å®¹ï¼Œè€Œä¸”å®ƒæ°¸è¿œåœ¨ä½ çš„å£è¢‹é‡Œï¼Œæ°¸è¿œæ˜¯åŒä¸€æœ¬ã€‚\n\né€šè¿‡è¿™ä¸ªç±»æ¯”ï¼Œ`useRef` çš„å‡ ä¸ªå…³é”®ç‰¹æ€§å°±å¾ˆå¥½ç†è§£äº†ï¼š\n\n- **æŒä¹…åŒ–**ï¼šä½ çš„å°ç¬”è®°æœ¬åœ¨æ•´ä¸ªå·¥ä½œæ—¥ï¼ˆç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼‰å†…éƒ½æ˜¯åŒä¸€æœ¬ï¼Œä¸ä¼šå› ä¸ºåº—é‡Œå¿™ç¢Œè€Œæ¢ä¸€æœ¬ã€‚\n- **ä¸è§¦å‘æ¸²æŸ“**ï¼šä½ åœ¨ç¬”è®°æœ¬ä¸Šè®°ä¸œè¥¿ï¼ˆä¿®æ”¹ `.current`ï¼‰ä¸ä¼šè®©å’–å•¡åº—é‡æ–°æ´—æ¯å­æˆ–æ“¦æ¡Œå­ï¼ˆé‡æ–°æ¸²æŸ“ï¼‰ã€‚\n- **ä»»æ„å­˜å‚¨**ï¼šç¬”è®°æœ¬å¯ä»¥è®°ä»»ä½•å†…å®¹ï¼ˆDOM å¼•ç”¨ã€çŠ¶æ€ã€å‡½æ•°ï¼‰ï¼Œå®Œå…¨ç”±ä½ å†³å®šã€‚\n\n*Tips: ä¸‹æ¬¡å†™ä»£ç æ—¶ï¼ŒæŠŠ `useRef` æƒ³è±¡æˆä½ çš„â€œç§äººç¬”è®°æœ¬â€ï¼Œé—®è‡ªå·±ï¼šâ€œè¿™ä¸ªæ•°æ®éœ€è¦é€šçŸ¥æ•´ä¸ªç»„ä»¶å—ï¼Ÿâ€ å¦‚æœä¸éœ€è¦ï¼Œé‚£å°±ç”¨ `useRef`ï¼*\n\n## 6. é«˜çº§ç”¨æ³•ä¸æœ€ä½³å®è·µï¼šè®© `useRef` å‘æŒ¥æœ€å¤§ä»·å€¼\n\næŒæ¡äº† `useRef` çš„åŸºæœ¬ç”¨æ³•å’ŒåŸç†åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€äº›é«˜çº§ç”¨æ³•å’Œæœ€ä½³å®è·µã€‚è¿™äº›æŠ€å·§å¯ä»¥è®©ä½ çš„ä»£ç æ›´ä¼˜é›…ã€æ›´é«˜æ•ˆï¼ŒåŒæ—¶åœ¨é¢è¯•ä¸­ä¹Ÿèƒ½å±•ç°ä½ çš„æŠ€æœ¯æ·±åº¦ã€‚\n\n### 6.1 é¿å…é—­åŒ…é™·é˜±\n\nåœ¨å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬å™¨ä¸­ï¼Œ`useState` çš„å€¼å¯èƒ½ä¼šå› ä¸ºé—­åŒ…è€Œâ€œè¿‡æœŸâ€ã€‚`useRef` å¯ä»¥å¸®ä½ ä¿å­˜æœ€æ–°çš„çŠ¶æ€ã€‚æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š\n\n```jsx\nimport { useState, useRef, useEffect } from 'react';\n\nfunction Counter() {\n  const [count, setCount] = useState(0);\n  const countRef = useRef(count);\n\n  // åŒæ­¥ count åˆ° countRef\n  useEffect(() => {\n    countRef.current = count;\n  }, [count]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      console.log(`Current count: ${countRef.current}`);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(count + 1)}>Increment</button>\n    </div>\n  );\n}\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`countRef` å§‹ç»ˆä¿å­˜æœ€æ–°çš„ `count` å€¼ã€‚å³ä½¿å®šæ—¶å™¨æ˜¯åœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶åˆ›å»ºçš„ï¼Œå®ƒä¹Ÿèƒ½é€šè¿‡ `countRef.current` è®¿é—®åˆ°æœ€æ–°çš„ `count`ï¼Œé¿å…äº†é—­åŒ…é™·é˜±ã€‚\n\n*Tips: åœ¨å¼‚æ­¥å›è°ƒä¸­éœ€è¦è®¿é—®æœ€æ–°çŠ¶æ€æ—¶ï¼Œç”¨ `useRef` å­˜ä¸€ä¸ªâ€œé•œåƒçŠ¶æ€â€ï¼Œç„¶åé€šè¿‡ `useEffect` åŒæ­¥æ›´æ–°ã€‚*\n\n### 6.2 å®ç°é˜²æŠ–å’ŒèŠ‚æµ\n\n`useRef` å¯ä»¥ç”¨æ¥ä¿å­˜é˜²æŠ–æˆ–èŠ‚æµçš„å®šæ—¶å™¨æˆ–çŠ¶æ€ï¼Œä¼˜åŒ–é«˜é¢‘äº‹ä»¶çš„æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªé˜²æŠ–è¾“å…¥æ¡†çš„ä¾‹å­ï¼š\n\n```jsx\nimport { useState, useRef } from 'react';\n\nfunction DebouncedInput() {\n  const [value, setValue] = useState('');\n  const timeoutRef = useRef(null);\n\n  const handleChange = (e) => {\n    const newValue = e.target.value;\n\n    // æ¸…é™¤ä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    // è®¾ç½®æ–°çš„å®šæ—¶å™¨\n    timeoutRef.current = setTimeout(() => {\n      setValue(newValue);\n      console.log('Debounced value:', newValue);\n    }, 500);\n  };\n\n  return <input type=\"text\" onChange={handleChange} placeholder=\"Type something...\" />;\n}\n```\n\nè¿™é‡Œï¼Œ`timeoutRef` ä¿å­˜äº†é˜²æŠ–çš„å®šæ—¶å™¨ IDï¼Œç¡®ä¿æ¯æ¬¡è¾“å…¥æ—¶åªè§¦å‘æœ€æ–°çš„å®šæ—¶å™¨ã€‚\n\n*Tips: ä½¿ç”¨ `useRef` å®ç°é˜²æŠ–æˆ–èŠ‚æµæ—¶ï¼Œè®°å¾—åœ¨ç»„ä»¶å¸è½½æ—¶æ¸…ç†å®šæ—¶å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚*\n\n### 6.3 ç¼“å­˜è®¡ç®—ç»“æœ\n\n`useRef` å¯ä»¥ç”¨æ¥ç¼“å­˜æ˜‚è´µçš„è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªéœ€è¦è®¡ç®—æ–æ³¢é‚£å¥‘æ•°çš„ç»„ä»¶ï¼š\n\n```jsx\nimport { useState, useRef } from 'react';\n\nfunction FibonacciCalculator() {\n  const [n, setN] = useState(0);\n  const cacheRef = useRef({});\n\n  const fib = (n) => {\n    if (n <= 1) return n;\n    if (cacheRef.current[n]) return cacheRef.current[n];\n    cacheRef.current[n] = fib(n - 1) + fib(n - 2);\n    return cacheRef.current[n];\n  };\n\n  const result = fib(n);\n\n  return (\n    <div>\n      <input\n        type=\"number\"\n        value={n}\n        onChange={(e) => setN(Number(e.target.value))}\n      />\n      <p>Fibonacci({n}) = {result}</p>\n    </div>\n  );\n}\n```\n\nè¿™é‡Œï¼Œ`cacheRef` ä¿å­˜äº†ä¸€ä¸ªç¼“å­˜å¯¹è±¡ï¼Œé¿å…é‡å¤è®¡ç®—æ–æ³¢é‚£å¥‘æ•°ï¼Œæå‡æ€§èƒ½ã€‚\n\n*Tips: å¯¹äºæ˜‚è´µçš„çº¯å‡½æ•°è®¡ç®—ï¼Œç”¨ `useRef` å­˜ä¸€ä¸ªç¼“å­˜å¯¹è±¡ï¼Œæ¯”æ¯æ¬¡é‡æ–°è®¡ç®—è¦é«˜æ•ˆå¾—å¤šã€‚*\n\n### 6.4 å®ç°å¯å–æ¶ˆçš„å¼‚æ­¥æ“ä½œ\n\nåœ¨å¤„ç†å¼‚æ­¥æ“ä½œï¼ˆæ¯”å¦‚ API è¯·æ±‚ï¼‰æ—¶ï¼Œ`useRef` å¯ä»¥ç”¨æ¥ä¿å­˜â€œå–æ¶ˆæ ‡è®°â€ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¯å–æ¶ˆçš„ fetch è¯·æ±‚çš„ä¾‹å­ï¼š\n\n```jsx\nimport { useState, useRef, useEffect } from 'react';\n\nfunction CancellableFetch() {\n  const [data, setData] = useState(null);\n  const cancelRef = useRef(false);\n\n  useEffect(() => {\n    cancelRef.current = false;\n\n    const fetchData = async () => {\n      try {\n        const response = await fetch('https://api.example.com/data');\n        const result = await response.json();\n        if (!cancelRef.current) {\n          setData(result);\n        }\n      } catch (error) {\n        if (!cancelRef.current) {\n          console.error('Fetch error:', error);\n        }\n      }\n    };\n\n    fetchData();\n\n    return () => {\n      cancelRef.current = true; // ç»„ä»¶å¸è½½æ—¶å–æ¶ˆè¯·æ±‚\n    };\n  }, []);\n\n  return <div>{data ? JSON.stringify(data) : 'Loading...'}</div>;\n}\n```\n\nè¿™é‡Œï¼Œ`cancelRef` ç”¨äºæ ‡è®°è¯·æ±‚æ˜¯å¦è¢«å–æ¶ˆï¼Œé¿å…åœ¨ç»„ä»¶å¸è½½åæ›´æ–°çŠ¶æ€å¯¼è‡´çš„é”™è¯¯ã€‚\n\n*Tips: åœ¨å¼‚æ­¥æ“ä½œä¸­ç”¨ `useRef` ä¿å­˜å–æ¶ˆæ ‡è®°ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢â€œå·²å¸è½½ç»„ä»¶çš„çŠ¶æ€æ›´æ–°â€é—®é¢˜ã€‚*\n\n## 7. å¸¸è§è¯¯åŒºä¸é¢è¯•é™·é˜±ï¼šå¦‚ä½•é¿å…ç¿»è½¦\n\nå³ä½¿ä½ å¯¹ `useRef` çš„åŸç†å’Œç”¨æ³•äº†å¦‚æŒ‡æŒï¼Œé¢è¯•ä¸­è¿˜æ˜¯å¯èƒ½é‡åˆ°ä¸€äº›â€œé™·é˜±é—®é¢˜â€ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§çš„è¯¯åŒºå’Œåº”å¯¹ç­–ç•¥ï¼š\n\n### 7.1 è¯¯åŒºï¼šä»¥ä¸º `useRef` èƒ½ä»£æ›¿ `useState`\n\n**é—®é¢˜**ï¼šæœ‰äº›å¼€å‘è€…è®¤ä¸º `useRef` å¯ä»¥å®Œå…¨æ›¿ä»£ `useState`ï¼Œå› ä¸ºå®ƒä¹Ÿèƒ½å­˜çŠ¶æ€ä¸”ä¸è§¦å‘æ¸²æŸ“ã€‚\n\n**çœŸç›¸**ï¼š`useRef` å’Œ `useState` çš„èŒè´£ä¸åŒã€‚`useState` ç”¨äºç®¡ç†éœ€è¦è§¦å‘ UI æ›´æ–°çš„çŠ¶æ€ï¼Œè€Œ `useRef` ç”¨äºå­˜å‚¨ä¸å½±å“æ¸²æŸ“çš„æ•°æ®ã€‚å¦‚æœç”¨ `useRef` å­˜æ‰€æœ‰çŠ¶æ€ï¼ŒUI å¯èƒ½ä¸ä¼šæ­£ç¡®æ›´æ–°ã€‚\n\n**åº”å¯¹**ï¼šåœ¨é¢è¯•ä¸­ï¼Œå¯ä»¥è¿™æ ·å›ç­”ï¼šâ€œ`useRef` é€‚åˆå­˜å‚¨ä¸éœ€è¦è§¦å‘æ¸²æŸ“çš„æ•°æ®ï¼Œæ¯”å¦‚ DOM å¼•ç”¨ã€å®šæ—¶å™¨ ID æˆ–ç¼“å­˜å€¼ã€‚è€Œ `useState` é€‚åˆç®¡ç† UI ä¾èµ–çš„çŠ¶æ€ï¼Œæ¯”å¦‚è®¡æ•°å™¨æˆ–è¡¨å•è¾“å…¥å€¼ã€‚â€\n\n*Tips: é¢è¯•æ—¶å¯ä»¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ç”¨ `useRef` å­˜å®šæ—¶å™¨ ID vs ç”¨ `useState` å­˜è®¡æ•°å™¨ï¼Œæ¸…æ™°å¯¹æ¯”ä¸¤è€…çš„é€‚ç”¨åœºæ™¯ã€‚*\n\n### 7.2 é™·é˜±ï¼šåˆå§‹å€¼åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶ç”Ÿæ•ˆ\n\n**é—®é¢˜**ï¼šé¢è¯•å®˜å¯èƒ½ä¼šé—®ï¼šâ€œå¦‚æœæˆ‘å¤šæ¬¡è°ƒç”¨ `useRef` å¹¶ä¼ å…¥ä¸åŒçš„åˆå§‹å€¼ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿâ€\n\n**çœŸç›¸**ï¼š`useRef` çš„åˆå§‹å€¼åªåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶ç”Ÿæ•ˆï¼Œåç»­æ¸²æŸ“ä¸­ä¼ å…¥çš„ `initialValue` ä¼šè¢«å¿½ç•¥ã€‚çœ‹ä¸‹é¢çš„ä»£ç ï¼š\n\n```jsx\nfunction ProblematicRef() {\n  const ref = useRef(Math.random()); // æ¯æ¬¡æ¸²æŸ“éƒ½ä¼ å…¥æ–°çš„éšæœºæ•°\n  console.log(ref.current); // å§‹ç»ˆæ˜¯é¦–æ¬¡æ¸²æŸ“æ—¶çš„å€¼\n  return <div>Check console</div>;\n}\n```\n\n**åº”å¯¹**ï¼šå¯ä»¥å›ç­”ï¼šâ€œ`useRef` çš„å®ç°ä¿è¯äº† ref å¯¹è±¡çš„å¼•ç”¨åœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå†…ä¸å˜ã€‚åˆå§‹å€¼åªåœ¨ `mount` é˜¶æ®µç”Ÿæ•ˆï¼Œåç»­çš„ `initialValue` ä¼šè¢«å¿½ç•¥ã€‚è¿™æ˜¯ React ä¸ºäº†æ€§èƒ½ä¼˜åŒ–å’Œä¸€è‡´æ€§åšçš„è®¾è®¡ã€‚â€\n\n*Tips: å¦‚æœéœ€è¦åŠ¨æ€æ›´æ–°åˆå§‹å€¼ï¼Œå¯ä»¥åœ¨ `useEffect` ä¸­æ‰‹åŠ¨ä¿®æ”¹ `ref.current`ï¼Œä½†è¦ç¡®ä¿é€»è¾‘æ¸…æ™°ã€‚*\n\n### 7.3 é™·é˜±ï¼šå¿½è§† `useRef` çš„å†…å­˜ç®¡ç†\n\n**é—®é¢˜**ï¼šå¦‚æœç”¨ `useRef` ä¿å­˜å¤§é‡æ•°æ®æˆ–å¤æ‚å¯¹è±¡ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼å—ï¼Ÿ\n\n**çœŸç›¸**ï¼š`useRef` çš„ `.current` å€¼åœ¨ç»„ä»¶å¸è½½æ—¶ä¼šè‡ªåŠ¨è¢«åƒåœ¾å›æ”¶ï¼Œä½†å¦‚æœä½ åœ¨ `useRef` ä¸­ä¿å­˜äº†äº‹ä»¶ç›‘å¬å™¨ã€å®šæ—¶å™¨æˆ–å¤–éƒ¨å¼•ç”¨ï¼Œéœ€è¦æ‰‹åŠ¨æ¸…ç†ã€‚\n\n**åº”å¯¹**ï¼šå¯ä»¥å›ç­”ï¼šâ€œ`useRef` æœ¬èº«ä¸ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå› ä¸ºå®ƒçš„å€¼åœ¨ç»„ä»¶å¸è½½æ—¶ä¼šè¢« GC å›æ”¶ã€‚ä½†å¦‚æœ `ref.current` ä¿å­˜äº†éœ€è¦æ‰‹åŠ¨æ¸…ç†çš„èµ„æºï¼Œæ¯”å¦‚å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬å™¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ `useEffect` çš„æ¸…ç†å‡½æ•°ä¸­é‡Šæ”¾å®ƒä»¬ã€‚â€\n\n*Tips: å…»æˆåœ¨ `useEffect` ä¸­æ¸…ç† `useRef` ç›¸å…³èµ„æºçš„å¥½ä¹ æƒ¯ï¼Œæ¯”å¦‚æ¸…é™¤å®šæ—¶å™¨ã€ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ã€‚*\n\n## 8. æ€»ç»“ä¸å±•æœ›ï¼š`useRef` çš„æœªæ¥ä¸ React çš„è¿›åŒ–\n\né€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ä» `useRef` çš„åŸºæœ¬ç”¨æ³•åˆ°å®ç°åŸç†ï¼Œå†åˆ°é«˜çº§å®è·µå’Œé¢è¯•åº”å¯¹ï¼Œå…¨é¢å‰–æäº†è¿™ä¸ªçœ‹ä¼¼ç®€å•å´æ— æ¯”å¼ºå¤§çš„ Hookã€‚æ€»ç»“ä¸€ä¸‹ `useRef` çš„æ ¸å¿ƒè¦ç‚¹ï¼š\n\n- **æœ¬è´¨**ï¼šä¸€ä¸ªè·¨æ¸²æŸ“å‘¨æœŸçš„æŒä¹…åŒ–å­˜å‚¨ç®±ï¼Œé€‚åˆä¿å­˜ä¸è§¦å‘æ¸²æŸ“çš„æ•°æ®ã€‚\n- **å®ç°**ï¼šåŸºäº Fiber èŠ‚ç‚¹çš„ Hook é“¾è¡¨ï¼Œ`memoizedState` å­˜å‚¨ `{ current: initialValue }`ã€‚\n- **ç”¨æ³•**ï¼šä» DOM æ“ä½œåˆ°çŠ¶æ€ç®¡ç†ï¼Œå†åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œ`useRef` æ— å¤„ä¸åœ¨ã€‚\n- **æœ€ä½³å®è·µ**ï¼šé¿å…é—­åŒ…é™·é˜±ã€å®ç°é˜²æŠ–èŠ‚æµã€ç¼“å­˜è®¡ç®—ç»“æœã€å¤„ç†å¯å–æ¶ˆæ“ä½œã€‚\n- **é¢è¯•æŠ€å·§**ï¼šç»“åˆæºç å’Œç±»æ¯”ï¼Œæ¸…æ™°è®²è§£ `useRef` çš„åŸç†å’Œé€‚ç”¨åœºæ™¯ã€‚\n\nå±•æœ›æœªæ¥ï¼Œéšç€ React 19 å’Œ Server Components çš„è¿›ä¸€æ­¥å‘å±•ï¼Œ`useRef` çš„åœ°ä½å¯èƒ½ä¼šæ›´åŠ é‡è¦ã€‚Server Components å¼ºè°ƒæ›´ç»†ç²’åº¦çš„çŠ¶æ€ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œè€Œ `useRef` çš„â€œé™é»˜å­˜å‚¨â€ç‰¹æ€§æ­£å¥½å¥‘åˆè¿™ä¸€è¶‹åŠ¿ã€‚åŒæ—¶ï¼Œéšç€å‰ç«¯ç”Ÿæ€å¯¹å®æ—¶æ€§å’Œäº¤äº’æ€§çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œ`useRef` åœ¨å¤„ç†å¤æ‚äº¤äº’é€»è¾‘ï¼ˆå¦‚åŠ¨ç”»ã€æ‹–æ‹½ã€å®æ—¶åä½œï¼‰ä¸­çš„åº”ç”¨ä¹Ÿä¼šæ›´åŠ å¹¿æ³›ã€‚\n\næœ€åï¼Œé€ä½ ä¸€å¥è¯ï¼š**â€œ`useRef` ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œä½†æ²¡æœ‰ `useRef` æ˜¯ä¸‡ä¸‡ä¸èƒ½çš„ã€‚â€** ä¸‹æ¬¡é¢è¯•é‡åˆ°â€œè¯´ä¸€ä¸‹ `useRef` æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿâ€æ—¶ï¼Œç›¸ä¿¡ä½ å·²ç»èƒ½è‡ªä¿¡åœ°æŠ›å‡ºä¸€å †å¹²è´§ï¼Œè®©é¢è¯•å®˜åˆ®ç›®ç›¸çœ‹ï¼ğŸ˜\n\n*Tips: å­¦ä¹  React Hooks ä¸ä»…è¦ä¼šç”¨ï¼Œè¿˜è¦ç†è§£å…¶è®¾è®¡ç†å¿µã€‚èŠ±ç‚¹æ—¶é—´è¯»è¯» React æºç ï¼Œä½ ä¼šå‘ç°æ›´å¤šâ€œéšè—çš„å®è—â€ï¼*\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var f=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),F=(a,e)=>{for(var l in e)d(a,l,{get:e[l],enumerable:!0})},c=(a,e,l,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of u(e))!g.call(a,r)&&r!==l&&d(a,r,{get:()=>e[r],enumerable:!(t=y(e,r))||t.enumerable});return a};var m=(a,e,l)=>(l=a!=null?p(E(a)):{},c(e||!a||!a.__esModule?d(l,\"default\",{value:a,enumerable:!0}):l,a)),b=a=>c(d({},\"__esModule\",{value:!0}),a);var s=f((B,i)=>{i.exports=_jsx_runtime});var x={};F(x,{default:()=>o,frontmatter:()=>k});var n=m(s()),k={type:\"Post\",title:\"\\u9762\\u8BD5\\u5B98\\uFF1A\\u8BF4\\u4E00\\u4E0B useRef \\u662F\\u5982\\u4F55\\u5B9E\\u73B0\\u7684\\uFF1F\\u6211\\uFF1A\\u2753 \\u{1F62D}\",date:\"2023-11-25\",description:\"\\u6DF1\\u5165\\u5256\\u6790 React useRef Hook \\u7684\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u7ED3\\u5408\\u4EE3\\u7801\\u3001\\u7C7B\\u6BD4\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u63D0\\u4F9B\\u5168\\u9762\\u7684\\u6280\\u672F\\u89E3\\u8BFB\\u3002\",keywords:\"React, useRef, Hooks, React Fiber,\\u524D\\u7AEF\\u5F00\\u53D1, JavaScript, React \\u539F\\u7406, \\u9762\\u8BD5\",author:\"\\u6653\\u9F99\",image:\"/images/hero/useRef.jpg\",tags:[\"\\u9762\\u8BD5\",\"React\",\"Hooks\",\"JavaScript\"],category:\"React\"};function h(a){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u4F60\\u6709\\u6CA1\\u6709\\u7ECF\\u5386\\u8FC7\\u8FD9\\u6837\\u7684\\u9762\\u8BD5\\u573A\\u666F\\uFF1F\\u9762\\u8BD5\\u5B98\\u7B11\\u772F\\u772F\\u5730\\u629B\\u51FA\\u4E00\\u53E5\\uFF1A\\u201C\\u8BF4\\u4E00\\u4E0B \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u662F\\u600E\\u4E48\\u5B9E\\u73B0\\u7684\\uFF1F\\u201D \\u4F60\\u8111\\u6D77\\u91CC\\u77AC\\u95F4\\u6D6E\\u73B0\\u51FA\\u4E00\\u5806\\u95EE\\u53F7 \\u2753\\uFF0C\\u7D27\\u63A5\\u7740\\u662F\\u4E00\\u9635\\u51B7\\u6C57 \\u{1F613}\\uFF0C\\u751A\\u81F3\\u6068\\u4E0D\\u5F97\\u5F53\\u573A\\u8868\\u6F14\\u4E00\\u51FA\\u201C\\u7A0B\\u5E8F\\u5458\\u7684\\u5D29\\u6E83\\u201D \\u{1F3AD}\\u3002\\u522B\\u614C\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C31\\u662F\\u4F60\\u7684\\u6551\\u547D\\u7A3B\\u8349\\uFF01\\u6211\\u4EEC\\u5C06\\u6DF1\\u5165\\u5256\\u6790 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u5E26\\u4F60\\u4ECE\\u201C\\u4E00\\u8138\\u61F5\\u201D\\u5230\\u201C\\u81EA\\u4FE1\\u6EE1\\u6EE1\\u201D \\u{1F4AA}\\u3002\\u4E0D\\u4EC5\\u4F1A\\u8BB2\\u6E05\\u695A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5E95\\u5C42\\u673A\\u5236\\uFF0C\\u8FD8\\u4F1A\\u7ED3\\u5408\\u7C7B\\u6BD4\\u3001\\u4EE3\\u7801\\u793A\\u4F8B\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u751A\\u81F3\\u4E00\\u70B9\\u9AD8\\u7EA7\\u5E7D\\u9ED8\\uFF0C\\u8BA9\\u4F60\\u8BFB\\u5B8C\\u540E\\u65E2\\u80FD\\u5E94\\u4ED8\\u9762\\u8BD5\\u5B98\\u7684\\u201C\\u7075\\u9B42\\u62F7\\u95EE\\u201D\\uFF0C\\u53C8\\u80FD\\u5728\\u9879\\u76EE\\u4E2D\\u4F18\\u96C5\\u5730\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u7684\\u76EE\\u6807\\u53D7\\u4F17\\u662F\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u5C24\\u5176\\u662F\\u90A3\\u4E9B\\u5BF9 React Hooks \\u611F\\u5174\\u8DA3\\u3001\\u60F3\\u6DF1\\u5165\\u7406\\u89E3 React \\u5185\\u90E8\\u539F\\u7406\\u7684\\u540C\\u5B66\\u3002\\u6211\\u4EEC\\u4F1A\\u4ECE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u57FA\\u672C\\u7528\\u6CD5\\u8BB2\\u8D77\\uFF0C\\u9010\\u6B65\\u6DF1\\u5165\\u5230 React Fiber \\u7684\\u5B9E\\u73B0\\u7EC6\\u8282\\uFF0C\\u7A7F\\u63D2\\u5927\\u91CF\\u4EE3\\u7801\\u793A\\u4F8B\\u548C\\u7C7B\\u6BD4\\uFF0C\\u8F85\\u4EE5\\u6E05\\u6670\\u7684\\u8868\\u683C\\u548C\\u5B9E\\u7528\\u6280\\u5DE7\\u3002\\u6587\\u7AE0\\u4F1A\\u5C3D\\u91CF\\u5E7D\\u9ED8\\u98CE\\u8DA3\\uFF0C\\u6587\\u7B14\\u6D41\\u7545\\uFF0C\\u907F\\u514D\\u751F\\u786C\\u7684\\u672F\\u8BED\\u5806\\u780C\\uFF0C\\u540C\\u65F6\\u4FDD\\u6301\\u4E13\\u4E1A\\u6027\\u548C\\u6280\\u672F\\u6DF1\\u5EA6\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u8DF3\\u8FDB \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5947\\u5999\\u4E16\\u754C\\u5427\\uFF01\\u{1F680}\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u76EE\\u5F55\",children:(0,n.jsx)(e.a,{href:\"#\\u76EE\\u5F55\",children:\"\\u76EE\\u5F55\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.strong,{children:[\"\\u4EC0\\u4E48\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\uFF1F\\u4ECE\\u201C\\u8868\\u8C61\\u201D\\u5230\\u201C\\u672C\\u8D28\\u201D\"]})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.strong,{children:[\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\uFF1F\\u5B83\\u7684\\u72EC\\u7279\\u4EF7\\u503C\"]})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.strong,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u57FA\\u672C\\u7528\\u6CD5\\uFF1A\\u4ECE DOM \\u5230\\u72B6\\u6001\\u7BA1\\u7406\"]})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.strong,{children:[\"\\u6DF1\\u5165 React \\u6E90\\u7801\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u539F\\u7406\"]})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.strong,{children:[\"\\u7C7B\\u6BD4\\u4E0E\\u76F4\\u89C9\\uFF1A\\u7528\\u751F\\u6D3B\\u4E2D\\u7684\\u4F8B\\u5B50\\u7406\\u89E3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})})]})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.strong,{children:[\"\\u9AD8\\u7EA7\\u7528\\u6CD5\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u53D1\\u6325\\u6700\\u5927\\u4EF7\\u503C\"]})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.strong,{children:\"\\u5E38\\u89C1\\u8BEF\\u533A\\u4E0E\\u9762\\u8BD5\\u9677\\u9631\\uFF1A\\u5982\\u4F55\\u907F\\u514D\\u7FFB\\u8F66\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.strong,{children:[\"\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u672A\\u6765\\u4E0E React \\u7684\\u8FDB\\u5316\"]})}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"1-\\u4EC0\\u4E48\\u662F-useref\\u4ECE\\u8868\\u8C61\\u5230\\u672C\\u8D28\",children:(0,n.jsxs)(e.a,{href:\"#1-\\u4EC0\\u4E48\\u662F-useref\\u4ECE\\u8868\\u8C61\\u5230\\u672C\\u8D28\",children:[\"1. \\u4EC0\\u4E48\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\uFF1F\\u4ECE\\u201C\\u8868\\u8C61\\u201D\\u5230\\u201C\\u672C\\u8D28\\u201D\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 React \\u7684 Hooks \\u4F53\\u7CFB\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u770B\\u4F3C\\u7B80\\u5355\\u5374\\u5F02\\u5E38\\u5F3A\\u5927\\u7684\\u5DE5\\u5177\\u3002\\u8868\\u9762\\u4E0A\\u770B\\uFF0C\\u5B83\\u53EA\\u662F\\u4E00\\u4E2A\\u201C\\u7528\\u6765\\u83B7\\u53D6 DOM \\u5F15\\u7528\\u201D\\u7684 Hook\\uFF0C\\u4F46\\u5B9E\\u9645\\u4E0A\\uFF0C\\u5B83\\u662F\\u4E00\\u4E2A\\u201C\\u8DE8\\u6E32\\u67D3\\u5468\\u671F\\u7684\\u6301\\u4E45\\u5316\\u5B58\\u50A8\\u7BB1\\u201D \\u{1F4E6}\\u3002\\u5B98\\u65B9\\u6587\\u6863\\u5BF9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5B9A\\u4E49\\u662F\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u8FD4\\u56DE\\u4E00\\u4E2A\\u53EF\\u53D8\\u7684 ref \\u5BF9\\u8C61\\uFF0C\\u5176 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".current\"})})})}),\" \\u5C5E\\u6027\\u88AB\\u521D\\u59CB\\u5316\\u4E3A\\u4F20\\u5165\\u7684\\u53C2\\u6570\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"initialValue\"})})})}),\"\\uFF09\\u3002\\u8FD4\\u56DE\\u7684 ref \\u5BF9\\u8C61\\u5728\\u7EC4\\u4EF6\\u7684\\u6574\\u4E2A\\u751F\\u547D\\u5468\\u671F\\u5185\\u4FDD\\u6301\\u4E0D\\u53D8\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u62BD\\u8C61\\uFF1F\\u522B\\u6025\\uFF0C\\u6211\\u4EEC\\u6765\\u62C6\\u89E3\\u4E00\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u53EF\\u53D8\\u7684 ref \\u5BF9\\u8C61\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u8FD4\\u56DE\\u7684\\u5BF9\\u8C61\\u53EF\\u4EE5\\u5B58\\u50A8\\u4EFB\\u610F\\u503C\\uFF08DOM \\u8282\\u70B9\\u3001\\u666E\\u901A\\u503C\\u3001\\u751A\\u81F3\\u4E00\\u4E2A\\u51FD\\u6570\\uFF09\\uFF0C\\u800C\\u4E14\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".current\"})})})}),\" \\u5C5E\\u6027\\u968F\\u610F\\u4FEE\\u6539\\u5B83\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u751F\\u547D\\u5468\\u671F\\u5185\\u4E0D\\u53D8\"}),\"\\uFF1A\\u65E0\\u8BBA\\u7EC4\\u4EF6\\u6E32\\u67D3\\u591A\\u5C11\\u6B21\\uFF0C\\u8FD9\\u4E2A ref \\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\uFF08\\u5185\\u5B58\\u5730\\u5740\\uFF09\\u6C38\\u8FDC\\u4E0D\\u4F1A\\u53D8\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E0D\\u89E6\\u53D1\\u91CD\\u65B0\\u6E32\\u67D3\"}),\"\\uFF1A\\u4FEE\\u6539 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".current\"})})})}),\" \\u7684\\u503C\\u4E0D\\u4F1A\\u5BFC\\u81F4\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\uFF0C\\u8FD9\\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u7684\\u533A\\u522B\\u5C24\\u4E3A\\u5173\\u952E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528\\u4E00\\u53E5\\u901A\\u4FD7\\u7684\\u8BDD\\u603B\\u7ED3\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5C31\\u50CF\\u4E00\\u4E2A\\u201C\\u968F\\u8EAB\\u643A\\u5E26\\u7684\\u5C0F\\u7B14\\u8BB0\\u672C\\u201D \\u{1F4DD}\\uFF0C\\u4F60\\u53EF\\u4EE5\\u968F\\u65F6\\u5728\\u4E0A\\u9762\\u8BB0\\u4E1C\\u897F\\u3001\\u6539\\u4E1C\\u897F\\uFF0C\\u4F46\\u5B83\\u4E0D\\u4F1A\\u56E0\\u4E3A\\u4F60\\u8BB0\\u4E86\\u65B0\\u5185\\u5BB9\\u5C31\\u5F3A\\u5236\\u5237\\u65B0\\u6574\\u4E2A\\u9875\\u9762\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5982\\u679C\\u4F60\\u53EA\\u628A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5F53\\u6210\\u83B7\\u53D6 DOM \\u7684\\u5DE5\\u5177\\uFF0C\\u90A3\\u4F60\\u53EF\\u80FD\\u53EA\\u53D1\\u6325\\u4E86\\u5B83 10% \\u7684\\u5A01\\u529B\\u3002\\u8BD5\\u7740\\u7528\\u5B83\\u6765\\u5B58\\u50A8\\u8DE8\\u6E32\\u67D3\\u7684\\u4EFB\\u610F\\u6570\\u636E\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0\\u5B83\\u7684\\u771F\\u6B63\\u9B45\\u529B\\uFF01\"]})}),`\n`,(0,n.jsx)(e.h2,{id:\"2-\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-useref\\u5B83\\u7684\\u72EC\\u7279\\u4EF7\\u503C\",children:(0,n.jsxs)(e.a,{href:\"#2-\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-useref\\u5B83\\u7684\\u72EC\\u7279\\u4EF7\\u503C\",children:[\"2. \\u4E3A\\u4EC0\\u4E48\\u9700\\u8981 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\uFF1F\\u5B83\\u7684\\u72EC\\u7279\\u4EF7\\u503C\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 React \\u7684\\u4E16\\u754C\\u91CC\\uFF0C\\u6211\\u4EEC\\u6709 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u6765\\u7BA1\\u7406\\u72B6\\u6001\\uFF0C\\u6709 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u6765\\u5904\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u4E3A\\u4EC0\\u4E48\\u8FD8\\u9700\\u8981 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\uFF1F\\u7B54\\u6848\\u5728\\u4E8E\\u5B83\\u7684\\u201C\\u4F4E\\u8C03\\u4F46\\u5F3A\\u5927\\u201D\\u7684\\u7279\\u6027\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6301\\u4E45\\u5316\\u5B58\\u50A8\"}),\"\\uFF1A\\u4E0D\\u50CF \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u90A3\\u6837\\u6BCF\\u6B21\\u66F4\\u65B0\\u90FD\\u4F1A\\u89E6\\u53D1\\u6E32\\u67D3\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u201C\\u9759\\u9ED8\\u5B58\\u50A8\\u201D\\u7684\\u65B9\\u5F0F\\uFF0C\\u9002\\u5408\\u4FDD\\u5B58\\u90A3\\u4E9B\\u4E0D\\u9700\\u8981\\u89E6\\u53D1 UI \\u66F4\\u65B0\\u7684\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5F15\\u7528 DOM \\u6216\\u7EC4\\u4EF6\\u5B9E\\u4F8B\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\uFF0C\\u4F60\\u53EF\\u4EE5\\u76F4\\u63A5\\u64CD\\u4F5C DOM \\u8282\\u70B9\\u6216\\u7C7B\\u7EC4\\u4EF6\\u7684\\u5B9E\\u4F8B\\uFF0C\\u7ED5\\u8FC7 React \\u7684\\u865A\\u62DF DOM \\u673A\\u5236\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u907F\\u514D\\u95ED\\u5305\\u9677\\u9631\"}),\"\\uFF1A\\u5728\\u5B9A\\u65F6\\u5668\\u3001\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u7B49\\u573A\\u666F\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u53EF\\u4EE5\\u4FDD\\u5B58\\u6700\\u65B0\\u7684\\u503C\\uFF0C\\u907F\\u514D\\u56E0\\u4E3A\\u95ED\\u5305\\u5BFC\\u81F4\\u7684\\u201C\\u8FC7\\u671F\\u72B6\\u6001\\u201D\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".current\"})})})}),\" \\u4FEE\\u6539\\u662F\\u540C\\u6B65\\u7684\\uFF0C\\u4E14\\u4E0D\\u4F1A\\u89E6\\u53D1\\u91CD\\u65B0\\u6E32\\u67D3\\uFF0C\\u9002\\u5408\\u9AD8\\u9891\\u66F4\\u65B0\\u7684\\u573A\\u666F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u5982\\u679C\\u6CA1\\u6709 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\uFF0C\\u4F60\\u53EF\\u80FD\\u4F1A\\u88AB\\u8FEB\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u6765\\u5B58\\u4E00\\u4E2A DOM \\u5F15\\u7528\\uFF0C\\u7136\\u540E\\u6BCF\\u6B21\\u66F4\\u65B0\\u90FD\\u4F1A\\u89E6\\u53D1\\u4E0D\\u5FC5\\u8981\\u7684\\u6E32\\u67D3\\uFF0C\\u6027\\u80FD\\u76F4\\u63A5\\u201C\\u5D29\\u76D8\\u201D \\u{1F4A5}\\u3002\\u6216\\u8005\\uFF0C\\u4F60\\u53EF\\u80FD\\u5F97\\u7528\\u4E00\\u5806 hacky \\u7684\\u65B9\\u5F0F\\u6765\\u4FDD\\u5B58\\u8DE8\\u6E32\\u67D3\\u7684\\u6570\\u636E\\uFF0C\\u4EE3\\u7801\\u5199\\u5F97\\u50CF\\u201C\\u62FC\\u56FE\\u6E38\\u620F\\u201D \\u{1F9E9}\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4E0B\\u6B21\\u9047\\u5230\\u201C\\u9700\\u8981\\u4FDD\\u5B58\\u6570\\u636E\\u4F46\\u4E0D\\u60F3\\u89E6\\u53D1\\u6E32\\u67D3\\u201D\\u7684\\u573A\\u666F\\uFF0C\\u7B2C\\u4E00\\u65F6\\u95F4\\u60F3\\u60F3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\u3002\\u5B83\\u53EF\\u80FD\\u662F\\u4F60\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u79D8\\u5BC6\\u6B66\\u5668\\uFF01\"]})}),`\n`,(0,n.jsx)(e.h2,{id:\"3-useref-\\u7684\\u57FA\\u672C\\u7528\\u6CD5\\u4ECE-dom-\\u5230\\u72B6\\u6001\\u7BA1\\u7406\",children:(0,n.jsxs)(e.a,{href:\"#3-useref-\\u7684\\u57FA\\u672C\\u7528\\u6CD5\\u4ECE-dom-\\u5230\\u72B6\\u6001\\u7BA1\\u7406\",children:[\"3. \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u57FA\\u672C\\u7528\\u6CD5\\uFF1A\\u4ECE DOM \\u5230\\u72B6\\u6001\\u7BA1\\u7406\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BA9\\u6211\\u4EEC\\u901A\\u8FC7\\u51E0\\u4E2A\\u5B9E\\u9645\\u7684\\u4EE3\\u7801\\u793A\\u4F8B\\u6765\\u76F4\\u89C2\\u611F\\u53D7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u7528\\u6CD5\\u3002\\u4EE5\\u4E0B\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u4E09\\u5927\\u5178\\u578B\\u573A\\u666F\\uFF1ADOM \\u64CD\\u4F5C\\u3001\\u72B6\\u6001\\u7BA1\\u7406\\u3001\\u4EE5\\u53CA\\u4FDD\\u5B58\\u5B9E\\u4F8B\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"31-\\u83B7\\u53D6-dom-\\u5F15\\u7528\",children:(0,n.jsx)(e.a,{href:\"#31-\\u83B7\\u53D6-dom-\\u5F15\\u7528\",children:\"3.1 \\u83B7\\u53D6 DOM \\u5F15\\u7528\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6700\\u5E38\\u89C1\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7528\\u6CD5\\u662F\\u83B7\\u53D6 DOM \\u5143\\u7D20\\uFF0C\\u6BD4\\u5982\\u8BA9\\u4E00\\u4E2A\\u8F93\\u5165\\u6846\\u81EA\\u52A8\\u805A\\u7126\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useRef, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AutoFocusInput\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" inputRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    inputRef.current.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"focus\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u76F4\\u63A5\\u64CD\\u4F5C DOM\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{inputRef} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"type\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"text\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"inputRef\"})})})}),\" \\u662F\\u4E00\\u4E2A ref \\u5BF9\\u8C61\\uFF0C\\u521D\\u59CB\\u5316\\u65F6 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"inputRef.current\"})})})}),\" \\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"null\"})})})}),\"\\u3002\\u5F53 React \\u6E32\\u67D3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<input>\"})})})}),\" \\u65F6\\uFF0C\\u4F1A\\u628A\\u771F\\u5B9E\\u7684 DOM \\u8282\\u70B9\\u8D4B\\u503C\\u7ED9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"inputRef.current\"})})})}),\"\\u3002\\u7136\\u540E\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\uFF0C\\u6211\\u4EEC\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"inputRef.current.focus()\"})})})}),\" \\u8BA9\\u8F93\\u5165\\u6846\\u81EA\\u52A8\\u805A\\u7126\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u64CD\\u4F5C DOM \\u65F6\\uFF0C\\u8BB0\\u5F97\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\u68C0\\u67E5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref.current\"})})})}),\" \\u662F\\u5426\\u5B58\\u5728\\uFF0C\\u4EE5\\u9632\\u7EC4\\u4EF6\\u5378\\u8F7D\\u540E\\u8BBF\\u95EE\\u7A7A\\u5F15\\u7528\\u5BFC\\u81F4\\u62A5\\u9519\\u3002\"]})}),`\n`,(0,n.jsx)(e.h3,{id:\"32-\\u4FDD\\u5B58\\u8DE8\\u6E32\\u67D3\\u7684\\u72B6\\u6001\",children:(0,n.jsx)(e.a,{href:\"#32-\\u4FDD\\u5B58\\u8DE8\\u6E32\\u67D3\\u7684\\u72B6\\u6001\",children:\"3.2 \\u4FDD\\u5B58\\u8DE8\\u6E32\\u67D3\\u7684\\u72B6\\u6001\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u4E0D\\u4EC5\\u80FD\\u5B58 DOM\\uFF0C\\u8FD8\\u80FD\\u5B58\\u4EFB\\u610F\\u6570\\u636E\\uFF0C\\u4E14\\u8FD9\\u4E9B\\u6570\\u636E\\u5728\\u591A\\u6B21\\u6E32\\u67D3\\u95F4\\u4FDD\\u6301\\u4E0D\\u53D8\\u3002\\u6765\\u770B\\u4E00\\u4E2A\\u8BA1\\u65F6\\u5668\\u7684\\u4F8B\\u5B50\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useRef, useState } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Timer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" intervalRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" startTimer\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    intervalRef.current \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" stopTimer\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(intervalRef.current);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Count: {count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{startTimer}>Start</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{stopTimer}>Stop</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"intervalRef\"})})})}),\" \\u4FDD\\u5B58\\u4E86\\u5B9A\\u65F6\\u5668\\u7684 ID\\u3002\\u6BCF\\u6B21\\u6E32\\u67D3\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"intervalRef.current\"})})})}),\" \\u59CB\\u7EC8\\u6307\\u5411\\u540C\\u4E00\\u4E2A\\u503C\\uFF0C\\u76F4\\u5230\\u6211\\u4EEC\\u624B\\u52A8\\u4FEE\\u6539\\u5B83\\u3002\\u76F8\\u6BD4\\u4E4B\\u4E0B\\uFF0C\\u5982\\u679C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u6765\\u5B58\\u5B9A\\u65F6\\u5668 ID\\uFF0C\\u6BCF\\u6B21 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setState\"})})})}),\" \\u90FD\\u4F1A\\u89E6\\u53D1\\u6E32\\u67D3\\uFF0C\\u6548\\u7387\\u4F4E\\u4E0B\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5728\\u9700\\u8981\\u4FDD\\u5B58\\u201C\\u4E0D\\u4F1A\\u89E6\\u53D1 UI \\u66F4\\u65B0\\u201D\\u7684\\u6570\\u636E\\u65F6\\uFF0C\\u6BD4\\u5982\\u5B9A\\u65F6\\u5668 ID\\u3001\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u56DE\\u8C03\\uFF0C\\u4F18\\u5148\\u8003\\u8651 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u800C\\u4E0D\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\"\\u3002\"]})}),`\n`,(0,n.jsx)(e.h3,{id:\"33-\\u4FDD\\u5B58\\u5B9E\\u4F8B\\u6216\\u590D\\u6742\\u5BF9\\u8C61\",children:(0,n.jsx)(e.a,{href:\"#33-\\u4FDD\\u5B58\\u5B9E\\u4F8B\\u6216\\u590D\\u6742\\u5BF9\\u8C61\",children:\"3.3 \\u4FDD\\u5B58\\u5B9E\\u4F8B\\u6216\\u590D\\u6742\\u5BF9\\u8C61\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u8FD8\\u80FD\\u7528\\u6765\\u4FDD\\u5B58\\u7C7B\\u5B9E\\u4F8B\\u6216\\u590D\\u6742\\u5BF9\\u8C61\\uFF0C\\u7279\\u522B\\u9002\\u5408\\u9700\\u8981\\u201C\\u5355\\u4F8B\\u6A21\\u5F0F\\u201D\\u7684\\u573A\\u666F\\u3002\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u521B\\u5EFA\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u52A8\\u753B\\u63A7\\u5236\\u5668\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useRef } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AnimationController\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".isRunning \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  start\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".isRunning \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Animation started'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  stop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".isRunning \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Animation stopped'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AnimationComponent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" controllerRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AnimationController\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" controllerRef.current.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"start\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()}>Start Animation</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" controllerRef.current.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()}>Stop Animation</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"controllerRef\"})})})}),\" \\u4FDD\\u5B58\\u4E86\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"AnimationController\"})})})}),\" \\u5B9E\\u4F8B\\u3002\\u8FD9\\u4E2A\\u5B9E\\u4F8B\\u5728\\u7EC4\\u4EF6\\u7684\\u6574\\u4E2A\\u751F\\u547D\\u5468\\u671F\\u5185\\u53EA\\u521B\\u5EFA\\u4E00\\u6B21\\uFF0C\\u5B8C\\u7F8E\\u5B9E\\u73B0\\u4E86\\u201C\\u5355\\u4F8B\\u201D\\u6548\\u679C\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5982\\u679C\\u4F60\\u7684\\u7EC4\\u4EF6\\u9700\\u8981\\u7BA1\\u7406\\u590D\\u6742\\u7684\\u5BF9\\u8C61\\u6216\\u72B6\\u6001\\u673A\\uFF0C\\u8003\\u8651\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u6765\\u4FDD\\u5B58\\u5B9E\\u4F8B\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u521B\\u5EFA\\u5BF9\\u8C61\\u5E26\\u6765\\u7684\\u6027\\u80FD\\u5F00\\u9500\\u3002\"]})}),`\n`,(0,n.jsx)(e.h2,{id:\"4-\\u6DF1\\u5165-react-\\u6E90\\u7801useref-\\u7684\\u5B9E\\u73B0\\u539F\\u7406\",children:(0,n.jsxs)(e.a,{href:\"#4-\\u6DF1\\u5165-react-\\u6E90\\u7801useref-\\u7684\\u5B9E\\u73B0\\u539F\\u7406\",children:[\"4. \\u6DF1\\u5165 React \\u6E90\\u7801\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u539F\\u7406\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u597D\\u4E86\\uFF0C\\u63A5\\u4E0B\\u6765\\u662F\\u91CD\\u5934\\u620F\\uFF01\\u9762\\u8BD5\\u5B98\\u95EE\\u201C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u662F\\u5982\\u4F55\\u5B9E\\u73B0\\u7684\\uFF1F\\u201D\\u65F6\\uFF0C\\u6211\\u4EEC\\u4E0D\\u80FD\\u53EA\\u505C\\u7559\\u5728\\u201C\\u5B83\\u8FD4\\u56DE\\u4E00\\u4E2A ref \\u5BF9\\u8C61\\u201D\\u8FD9\\u79CD\\u8868\\u9762\\u7B54\\u6848\\u4E0A\\u3002\\u6211\\u4EEC\\u9700\\u8981\\u6DF1\\u5165 React \\u7684\\u6E90\\u7801\\uFF0C\\u641E\\u6E05\\u695A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5728 React Fiber \\u67B6\\u6784\\u4E0B\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u3002\\u522B\\u7D27\\u5F20\\uFF0C\\u6211\\u4F1A\\u5C3D\\u91CF\\u7528\\u901A\\u4FD7\\u7684\\u8BED\\u8A00\\u548C\\u7C7B\\u6BD4\\u6765\\u8BB2\\u89E3\\uFF0C\\u540C\\u65F6\\u7ED3\\u5408\\u4EE3\\u7801\\u7247\\u6BB5\\u8BA9\\u4F60\\u4E00\\u76EE\\u4E86\\u7136\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"41-react-fiber-\\u7B80\\u4ECB\",children:(0,n.jsx)(e.a,{href:\"#41-react-fiber-\\u7B80\\u4ECB\",children:\"4.1 React Fiber \\u7B80\\u4ECB\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8BB2\\u89E3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5F97\\u5148\\u7B80\\u5355\\u4E86\\u89E3 React \\u7684 Fiber \\u67B6\\u6784\\u3002Fiber \\u662F React 16 \\u5F15\\u5165\\u7684\\u4E00\\u79CD\\u65B0\\u7684\\u534F\\u8C03\\uFF08reconciliation\\uFF09\\u673A\\u5236\\uFF0C\\u7528\\u6765\\u7BA1\\u7406\\u7EC4\\u4EF6\\u7684\\u6E32\\u67D3\\u548C\\u66F4\\u65B0\\u3002\\u6BCF\\u4E2A React \\u7EC4\\u4EF6\\u5728\\u8FD0\\u884C\\u65F6\\u90FD\\u4F1A\\u88AB\\u8868\\u793A\\u4E3A\\u4E00\\u4E2A Fiber \\u8282\\u70B9\\uFF0C\\u8FD9\\u4E9B\\u8282\\u70B9\\u7EC4\\u6210\\u4E86\\u4E00\\u68F5 Fiber \\u6811 \\u{1F333}\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6BCF\\u4E2A Fiber \\u8282\\u70B9\\u5305\\u542B\\u4EE5\\u4E0B\\u5173\\u952E\\u4FE1\\u606F\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"type\"}),\"\\uFF1A\\u7EC4\\u4EF6\\u7684\\u7C7B\\u578B\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"div\"})})})}),\" \\u6216\\u81EA\\u5B9A\\u4E49\\u7EC4\\u4EF6\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"stateNode\"}),\"\\uFF1A\\u5BF9\\u5E94\\u7684 DOM \\u8282\\u70B9\\u6216\\u7C7B\\u7EC4\\u4EF6\\u5B9E\\u4F8B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"memoizedState\"}),\"\\uFF1A\\u7528\\u6765\\u5B58\\u50A8 Hooks \\u7684\\u72B6\\u6001\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7B49\\u90FD\\u4F9D\\u8D56\\u5B83\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"updateQueue\"}),\"\\uFF1A\\u66F4\\u65B0\\u961F\\u5217\\uFF0C\\u7528\\u4E8E\\u5904\\u7406\\u72B6\\u6001\\u53D8\\u66F4\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u5C31\\u9690\\u85CF\\u5728 Fiber \\u8282\\u70B9\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"memoizedState\"})})})}),\" \\u4E2D\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u4E00\\u6B65\\u6B65\\u62C6\\u89E3\\u5B83\\u7684\\u5B9E\\u73B0\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"42-useref-\\u7684\\u6E90\\u7801\\u5206\\u6790\",children:(0,n.jsxs)(e.a,{href:\"#42-useref-\\u7684\\u6E90\\u7801\\u5206\\u6790\",children:[\"4.2 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u6E90\\u7801\\u5206\\u6790\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 React \\u7684\\u6E90\\u7801\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5B9A\\u4E49\\u4F4D\\u4E8E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"react-reconciler\"})})})}),\" \\u5305\\u4E2D\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u7B80\\u5316\\u5B83\\u7684\\u5B9E\\u73B0\\u4E3A\\u4EE5\\u4E0B\\u4F2A\\u4EE3\\u7801\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"initialValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u83B7\\u53D6\\u5F53\\u524D Fiber \\u8282\\u70B9\\u7684 Hook \\u94FE\\u8868\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" hook\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" mountOrUpdateHook\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5982\\u679C\\u662F\\u9996\\u6B21\\u6E32\\u67D3\\uFF08mount\\uFF09\\uFF0C\\u521D\\u59CB\\u5316 ref \\u5BF9\\u8C61\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isMounting\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    hook.memoizedState \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { current: initialValue };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u8FD4\\u56DE ref \\u5BF9\\u8C61\\uFF08\\u5728\\u6574\\u4E2A\\u751F\\u547D\\u5468\\u671F\\u5185\\u4FDD\\u6301\\u4E0D\\u53D8\\uFF09\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hook.memoizedState;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6BB5\\u4F2A\\u4EE3\\u7801\\u63ED\\u793A\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u6838\\u5FC3\\u903B\\u8F91\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Hook \\u94FE\\u8868\"}),\"\\uFF1AReact \\u4E3A\\u6BCF\\u4E2A\\u51FD\\u6570\\u7EC4\\u4EF6\\u7EF4\\u62A4\\u4E00\\u4E2A Hook \\u94FE\\u8868\\uFF0C\\u5B58\\u50A8\\u6240\\u6709 Hook \\u7684\\u72B6\\u6001\\u3002\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u72B6\\u6001\\u5C31\\u4FDD\\u5B58\\u5728\\u8FD9\\u4E2A\\u94FE\\u8868\\u7684\\u67D0\\u4E2A\\u8282\\u70B9\\u4E0A\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u521D\\u59CB\\u5316 ref \\u5BF9\\u8C61\"}),\"\\uFF1A\\u5728\\u7EC4\\u4EF6\\u9996\\u6B21\\u6E32\\u67D3\\uFF08mount\\uFF09\\u65F6\\uFF0CReact \\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"{ current: initialValue }\"})})})}),\" \\u5BF9\\u8C61\\uFF0C\\u5E76\\u5C06\\u5176\\u5B58\\u50A8\\u5728 Hook \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"memoizedState\"})})})}),\" \\u4E2D\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4FDD\\u6301\\u5F15\\u7528\\u4E0D\\u53D8\"}),\"\\uFF1A\\u5728\\u540E\\u7EED\\u7684\\u6E32\\u67D3\\uFF08update\\uFF09\\u4E2D\\uFF0CReact \\u76F4\\u63A5\\u8FD4\\u56DE\\u4E4B\\u524D\\u521B\\u5EFA\\u7684 ref \\u5BF9\\u8C61\\uFF0C\\u786E\\u4FDD\\u5B83\\u7684\\u5F15\\u7528\\uFF08\\u5185\\u5B58\\u5730\\u5740\\uFF09\\u59CB\\u7EC8\\u4E0D\\u53D8\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u66F4\\u76F4\\u89C2\\uFF0C\\u6211\\u4EEC\\u6765\\u770B\\u770B React \\u5185\\u90E8\\u7684 Hook \\u6570\\u636E\\u7ED3\\u6784\\uFF08\\u7B80\\u5316\\u7248\\uFF09\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Fiber \\u8282\\u70B9\\u7684\\u7ED3\\u6784\\uFF08\\u7B80\\u5316\\uFF09\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" fiber\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  memoizedState: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6307\\u5411 Hook \\u94FE\\u8868\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5176\\u4ED6\\u5C5E\\u6027...\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Hook \\u8282\\u70B9\\u7684\\u7ED3\\u6784\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" hook\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  memoizedState: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B58\\u50A8 Hook \\u7684\\u72B6\\u6001\\uFF08\\u5BF9\\u4E8E useRef \\u6765\\u8BF4\\u662F { current: initialValue }\\uFF09\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  next: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6307\\u5411\\u4E0B\\u4E00\\u4E2A Hook\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u4F60\\u5728\\u4E00\\u4E2A\\u7EC4\\u4EF6\\u4E2D\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef(initialValue)\"})})})}),\" \\u65F6\\uFF0CReact \\u4F1A\\u5728 Hook \\u94FE\\u8868\\u4E2D\\u5206\\u914D\\u4E00\\u4E2A\\u65B0\\u7684 Hook \\u8282\\u70B9\\uFF0C\\u5E76\\u521D\\u59CB\\u5316 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"memoizedState\"})})})}),\" \\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"{ current: initialValue }\"})})})}),\"\\u3002\\u8FD9\\u4E2A\\u5BF9\\u8C61\\u4F1A\\u88AB\\u590D\\u7528\\uFF0C\\u76F4\\u5230\\u7EC4\\u4EF6\\u5378\\u8F7D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"43-\\u4E3A\\u4EC0\\u4E48-current-\\u4FEE\\u6539\\u4E0D\\u89E6\\u53D1\\u6E32\\u67D3\",children:(0,n.jsxs)(e.a,{href:\"#43-\\u4E3A\\u4EC0\\u4E48-current-\\u4FEE\\u6539\\u4E0D\\u89E6\\u53D1\\u6E32\\u67D3\",children:[\"4.3 \\u4E3A\\u4EC0\\u4E48 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".current\"})})})}),\" \\u4FEE\\u6539\\u4E0D\\u89E6\\u53D1\\u6E32\\u67D3\\uFF1F\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E00\\u4E2A\\u5E38\\u89C1\\u7684\\u95EE\\u9898\\u662F\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u4FEE\\u6539 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref.current\"})})})}),\" \\u4E0D\\u4F1A\\u89E6\\u53D1\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\uFF1F\\u7B54\\u6848\\u5728\\u4E8E React \\u7684\\u66F4\\u65B0\\u673A\\u5236\\u3002React \\u7684\\u91CD\\u65B0\\u6E32\\u67D3\\u662F\\u7531 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useReducer\"})})})}),\" \\u7684\\u72B6\\u6001\\u53D8\\u66F4\\u89E6\\u53D1\\u7684\\uFF0C\\u8FD9\\u4E9B Hook \\u4F1A\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scheduleUpdate\"})})})}),\" \\u901A\\u77E5 Fiber \\u6811\\u9700\\u8981\\u66F4\\u65B0\\u3002\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref.current\"})})})}),\" \\u53EA\\u662F\\u4E00\\u4E2A\\u666E\\u901A\\u7684 JavaScript \\u5BF9\\u8C61\\uFF0C\\u4FEE\\u6539\\u5B83\\u5E76\\u4E0D\\u4F1A\\u89E6\\u53D1\\u4EFB\\u4F55\\u66F4\\u65B0\\u961F\\u5217\\u7684\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528\\u7C7B\\u6BD4\\u6765\\u8BF4\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u50CF\\u662F\\u4E00\\u4E2A\\u201C\\u4F1A\\u81EA\\u52A8\\u901A\\u77E5\\u8001\\u677F\\u7684\\u667A\\u80FD\\u7B14\\u8BB0\\u672C\\u201D \\u{1F4D6}\\uFF0C\\u6BCF\\u6B21\\u5199\\u65B0\\u5185\\u5BB9\\u90FD\\u4F1A\\u8BA9\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u66F4\\u50CF\\u662F\\u4E00\\u4E2A\\u201C\\u666E\\u901A\\u7B14\\u8BB0\\u672C\\u201D \\u{1F4DD}\\uFF0C\\u4F60\\u968F\\u4FBF\\u5199\\u4EC0\\u4E48\\uFF0CReact \\u90FD\\u4E0D\\u4F1A\\u201C\\u591A\\u7BA1\\u95F2\\u4E8B\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"44-\\u6E90\\u7801\\u4E2D\\u7684\\u5173\\u952E\\u51FD\\u6570\",children:(0,n.jsx)(e.a,{href:\"#44-\\u6E90\\u7801\\u4E2D\\u7684\\u5173\\u952E\\u51FD\\u6570\",children:\"4.4 \\u6E90\\u7801\\u4E2D\\u7684\\u5173\\u952E\\u51FD\\u6570\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u4E86\\u66F4\\u6DF1\\u5165\\uFF0C\\u6211\\u4EEC\\u6765\\u770B React \\u6E90\\u7801\\u4E2D\\u4E0E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u76F8\\u5173\\u7684\\u51E0\\u4E2A\\u5173\\u952E\\u51FD\\u6570\\uFF08\\u57FA\\u4E8E React 18\\uFF09\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"mountRef\"})})})})}),\"\\uFF1A\\u5904\\u7406 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u9996\\u6B21\\u6E32\\u67D3\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"updateRef\"})})})})}),\"\\uFF1A\\u5904\\u7406 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u66F4\\u65B0\\u903B\\u8F91\\uFF08\\u5B9E\\u9645\\u4E0A\\u53EA\\u662F\\u8FD4\\u56DE\\u5DF2\\u6709\\u7684 ref \\u5BF9\\u8C61\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u7B80\\u5316\\u540E\\u7684\\u6E90\\u7801\\uFF08\\u53BB\\u6389\\u4E86\\u90E8\\u5206\\u8FB9\\u754C\\u68C0\\u67E5\\uFF09\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// packages/react-reconciler/src/ReactFiberHooks.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" mountRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"initialValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" hook\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" mountWorkInProgressHook\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { current: initialValue };\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  hook.memoizedState \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ref;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ref;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" updateRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"initialValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" hook\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" updateWorkInProgressHook\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hook.memoizedState;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4ECE\\u4EE3\\u7801\\u4E2D\\u53EF\\u4EE5\\u770B\\u51FA\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"mount\"})})})}),\" \\u9636\\u6BB5\\uFF0CReact \\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684 ref \\u5BF9\\u8C61\\u5E76\\u5B58\\u50A8\\u5728 Hook \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"memoizedState\"})})})}),\" \\u4E2D\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"update\"})})})}),\" \\u9636\\u6BB5\\uFF0CReact \\u76F4\\u63A5\\u8FD4\\u56DE\\u4E4B\\u524D\\u521B\\u5EFA\\u7684 ref \\u5BF9\\u8C61\\uFF0C\\u5B8C\\u5168\\u5FFD\\u7565 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"initialValue\"})})})}),\"\\uFF08\\u8FD9\\u4E5F\\u662F\\u4E3A\\u4EC0\\u4E48 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u521D\\u59CB\\u503C\\u53EA\\u5728\\u9996\\u6B21\\u6E32\\u67D3\\u65F6\\u751F\\u6548\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u9762\\u8BD5\\u65F6\\u5982\\u679C\\u88AB\\u95EE\\u5230 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5B9E\\u73B0\\uFF0C\\u63D0\\u5230\\u201CFiber \\u8282\\u70B9\\u7684 Hook \\u94FE\\u8868\\u201D\\u548C\\u201CmemoizedState \\u7684\\u6301\\u4E45\\u5316\\u5B58\\u50A8\\u201D\\u4F1A\\u8BA9\\u4F60\\u7684\\u56DE\\u7B54\\u663E\\u5F97\\u975E\\u5E38\\u4E13\\u4E1A\\uFF01\"]})}),`\n`,(0,n.jsx)(e.h2,{id:\"5-\\u7C7B\\u6BD4\\u4E0E\\u76F4\\u89C9\\u7528\\u751F\\u6D3B\\u4E2D\\u7684\\u4F8B\\u5B50\\u7406\\u89E3-useref\",children:(0,n.jsxs)(e.a,{href:\"#5-\\u7C7B\\u6BD4\\u4E0E\\u76F4\\u89C9\\u7528\\u751F\\u6D3B\\u4E2D\\u7684\\u4F8B\\u5B50\\u7406\\u89E3-useref\",children:[\"5. \\u7C7B\\u6BD4\\u4E0E\\u76F4\\u89C9\\uFF1A\\u7528\\u751F\\u6D3B\\u4E2D\\u7684\\u4F8B\\u5B50\\u7406\\u89E3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6280\\u672F\\u539F\\u7406\\u8BB2\\u5B8C\\u4E86\\uFF0C\\u6211\\u4EEC\\u6765\\u70B9\\u8F7B\\u677E\\u7684\\u7C7B\\u6BD4\\uFF0C\\u8BA9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u6982\\u5FF5\\u66F4\\u76F4\\u89C2\\u3002\\u5047\\u8BBE\\u4F60\\u662F\\u4E00\\u4E2A\\u5496\\u5561\\u5E97\\u7684\\u5E97\\u5458 \\u2615\\uFF0C\\u4F60\\u7684\\u5DE5\\u4F5C\\u662F\\u63A5\\u5F85\\u987E\\u5BA2\\u3001\\u7BA1\\u7406\\u8BA2\\u5355\\u548C\\u64CD\\u4F5C\\u5496\\u5561\\u673A\\u3002React \\u7EC4\\u4EF6\\u5C31\\u50CF\\u4F60\\u7684\\u5DE5\\u4F5C\\u6D41\\u7A0B\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u548C\\u5176\\u4ED6 Hooks \\u662F\\u4F60\\u7684\\u5DE5\\u5177\\u3002\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"useState\"}),\"\\uFF1A\\u4F60\\u7684\\u8BA2\\u5355\\u677F \\u{1F4CB}\\u3002\\u6BCF\\u6B21\\u987E\\u5BA2\\u70B9\\u5355\\uFF08\\u72B6\\u6001\\u53D8\\u66F4\\uFF09\\uFF0C\\u4F60\\u90FD\\u4F1A\\u66F4\\u65B0\\u8BA2\\u5355\\u677F\\uFF0C\\u7136\\u540E\\u5927\\u58F0\\u558A\\u201C\\u65B0\\u8BA2\\u5355\\u6765\\u4E86\\uFF01\\u201D\\uFF08\\u89E6\\u53D1\\u6E32\\u67D3\\uFF09\\uFF0C\\u8BA9\\u6574\\u4E2A\\u5496\\u5561\\u5E97\\u91CD\\u65B0\\u5FD9\\u788C\\u8D77\\u6765\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"useEffect\"}),\"\\uFF1A\\u4F60\\u7684\\u6E05\\u6D01\\u6E05\\u5355 \\u{1F9F9}\\u3002\\u6BCF\\u6B21\\u5E97\\u91CC\\u72B6\\u6001\\u53D8\\u5316\\uFF08\\u6BD4\\u5982\\u65B0\\u987E\\u5BA2\\u6765\\u4E86\\uFF09\\uFF0C\\u4F60\\u4F1A\\u6309\\u7167\\u6E05\\u5355\\u505A\\u4E00\\u4E9B\\u6E05\\u7406\\u5DE5\\u4F5C\\uFF08\\u526F\\u4F5C\\u7528\\uFF09\\uFF0C\\u6BD4\\u5982\\u64E6\\u684C\\u5B50\\u3001\\u6D17\\u676F\\u5B50\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"useRef\"}),\"\\uFF1A\\u4F60\\u7684\\u79C1\\u4EBA\\u5C0F\\u7B14\\u8BB0\\u672C \\u{1F4DD}\\u3002\\u4F60\\u53EF\\u4EE5\\u5728\\u4E0A\\u9762\\u8BB0\\u4E00\\u4E9B\\u201C\\u79C1\\u5BC6\\u4FE1\\u606F\\u201D\\uFF08\\u6BD4\\u5982\\u5496\\u5561\\u673A\\u7684\\u5F53\\u524D\\u6E29\\u5EA6\\u3001\\u67D0\\u4E2A\\u987E\\u5BA2\\u7684\\u7279\\u6B8A\\u559C\\u597D\\uFF09\\uFF0C\\u8FD9\\u4E9B\\u4FE1\\u606F\\u4E0D\\u4F1A\\u5F71\\u54CD\\u8BA2\\u5355\\u677F\\uFF0C\\u4E5F\\u4E0D\\u4F1A\\u8BA9\\u5496\\u5561\\u5E97\\u91CD\\u65B0\\u5FD9\\u788C\\u3002\\u4F60\\u53EF\\u4EE5\\u968F\\u65F6\\u67E5\\u770B\\u6216\\u4FEE\\u6539\\u7B14\\u8BB0\\u672C\\u7684\\u5185\\u5BB9\\uFF0C\\u800C\\u4E14\\u5B83\\u6C38\\u8FDC\\u5728\\u4F60\\u7684\\u53E3\\u888B\\u91CC\\uFF0C\\u6C38\\u8FDC\\u662F\\u540C\\u4E00\\u672C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u8FD9\\u4E2A\\u7C7B\\u6BD4\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u51E0\\u4E2A\\u5173\\u952E\\u7279\\u6027\\u5C31\\u5F88\\u597D\\u7406\\u89E3\\u4E86\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6301\\u4E45\\u5316\"}),\"\\uFF1A\\u4F60\\u7684\\u5C0F\\u7B14\\u8BB0\\u672C\\u5728\\u6574\\u4E2A\\u5DE5\\u4F5C\\u65E5\\uFF08\\u7EC4\\u4EF6\\u751F\\u547D\\u5468\\u671F\\uFF09\\u5185\\u90FD\\u662F\\u540C\\u4E00\\u672C\\uFF0C\\u4E0D\\u4F1A\\u56E0\\u4E3A\\u5E97\\u91CC\\u5FD9\\u788C\\u800C\\u6362\\u4E00\\u672C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E0D\\u89E6\\u53D1\\u6E32\\u67D3\"}),\"\\uFF1A\\u4F60\\u5728\\u7B14\\u8BB0\\u672C\\u4E0A\\u8BB0\\u4E1C\\u897F\\uFF08\\u4FEE\\u6539 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".current\"})})})}),\"\\uFF09\\u4E0D\\u4F1A\\u8BA9\\u5496\\u5561\\u5E97\\u91CD\\u65B0\\u6D17\\u676F\\u5B50\\u6216\\u64E6\\u684C\\u5B50\\uFF08\\u91CD\\u65B0\\u6E32\\u67D3\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4EFB\\u610F\\u5B58\\u50A8\"}),\"\\uFF1A\\u7B14\\u8BB0\\u672C\\u53EF\\u4EE5\\u8BB0\\u4EFB\\u4F55\\u5185\\u5BB9\\uFF08DOM \\u5F15\\u7528\\u3001\\u72B6\\u6001\\u3001\\u51FD\\u6570\\uFF09\\uFF0C\\u5B8C\\u5168\\u7531\\u4F60\\u51B3\\u5B9A\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4E0B\\u6B21\\u5199\\u4EE3\\u7801\\u65F6\\uFF0C\\u628A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u60F3\\u8C61\\u6210\\u4F60\\u7684\\u201C\\u79C1\\u4EBA\\u7B14\\u8BB0\\u672C\\u201D\\uFF0C\\u95EE\\u81EA\\u5DF1\\uFF1A\\u201C\\u8FD9\\u4E2A\\u6570\\u636E\\u9700\\u8981\\u901A\\u77E5\\u6574\\u4E2A\\u7EC4\\u4EF6\\u5417\\uFF1F\\u201D \\u5982\\u679C\\u4E0D\\u9700\\u8981\\uFF0C\\u90A3\\u5C31\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\"\\uFF01\"]})}),`\n`,(0,n.jsx)(e.h2,{id:\"6-\\u9AD8\\u7EA7\\u7528\\u6CD5\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-useref-\\u53D1\\u6325\\u6700\\u5927\\u4EF7\\u503C\",children:(0,n.jsxs)(e.a,{href:\"#6-\\u9AD8\\u7EA7\\u7528\\u6CD5\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-useref-\\u53D1\\u6325\\u6700\\u5927\\u4EF7\\u503C\",children:[\"6. \\u9AD8\\u7EA7\\u7528\\u6CD5\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u53D1\\u6325\\u6700\\u5927\\u4EF7\\u503C\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u638C\\u63E1\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u57FA\\u672C\\u7528\\u6CD5\\u548C\\u539F\\u7406\\u540E\\uFF0C\\u6211\\u4EEC\\u6765\\u770B\\u4E00\\u4E9B\\u9AD8\\u7EA7\\u7528\\u6CD5\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\\u8FD9\\u4E9B\\u6280\\u5DE7\\u53EF\\u4EE5\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u66F4\\u4F18\\u96C5\\u3001\\u66F4\\u9AD8\\u6548\\uFF0C\\u540C\\u65F6\\u5728\\u9762\\u8BD5\\u4E2D\\u4E5F\\u80FD\\u5C55\\u73B0\\u4F60\\u7684\\u6280\\u672F\\u6DF1\\u5EA6\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"61-\\u907F\\u514D\\u95ED\\u5305\\u9677\\u9631\",children:(0,n.jsx)(e.a,{href:\"#61-\\u907F\\u514D\\u95ED\\u5305\\u9677\\u9631\",children:\"6.1 \\u907F\\u514D\\u95ED\\u5305\\u9677\\u9631\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5B9A\\u65F6\\u5668\\u6216\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u7684\\u503C\\u53EF\\u80FD\\u4F1A\\u56E0\\u4E3A\\u95ED\\u5305\\u800C\\u201C\\u8FC7\\u671F\\u201D\\u3002\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u53EF\\u4EE5\\u5E2E\\u4F60\\u4FDD\\u5B58\\u6700\\u65B0\\u7684\\u72B6\\u6001\\u3002\\u6765\\u770B\\u4E00\\u4E2A\\u4F8B\\u5B50\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useRef, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Counter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" countRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u540C\\u6B65 count \\u5230 countRef\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    countRef.current \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" count;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [count]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" interval\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Current count: ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"countRef\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(interval);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Count: {count}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}>Increment</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"countRef\"})})})}),\" \\u59CB\\u7EC8\\u4FDD\\u5B58\\u6700\\u65B0\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\" \\u503C\\u3002\\u5373\\u4F7F\\u5B9A\\u65F6\\u5668\\u662F\\u5728\\u7EC4\\u4EF6\\u9996\\u6B21\\u6E32\\u67D3\\u65F6\\u521B\\u5EFA\\u7684\\uFF0C\\u5B83\\u4E5F\\u80FD\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"countRef.current\"})})})}),\" \\u8BBF\\u95EE\\u5230\\u6700\\u65B0\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\"\\uFF0C\\u907F\\u514D\\u4E86\\u95ED\\u5305\\u9677\\u9631\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5728\\u5F02\\u6B65\\u56DE\\u8C03\\u4E2D\\u9700\\u8981\\u8BBF\\u95EE\\u6700\\u65B0\\u72B6\\u6001\\u65F6\\uFF0C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5B58\\u4E00\\u4E2A\\u201C\\u955C\\u50CF\\u72B6\\u6001\\u201D\\uFF0C\\u7136\\u540E\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u540C\\u6B65\\u66F4\\u65B0\\u3002\"]})}),`\n`,(0,n.jsx)(e.h3,{id:\"62-\\u5B9E\\u73B0\\u9632\\u6296\\u548C\\u8282\\u6D41\",children:(0,n.jsx)(e.a,{href:\"#62-\\u5B9E\\u73B0\\u9632\\u6296\\u548C\\u8282\\u6D41\",children:\"6.2 \\u5B9E\\u73B0\\u9632\\u6296\\u548C\\u8282\\u6D41\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u53EF\\u4EE5\\u7528\\u6765\\u4FDD\\u5B58\\u9632\\u6296\\u6216\\u8282\\u6D41\\u7684\\u5B9A\\u65F6\\u5668\\u6216\\u72B6\\u6001\\uFF0C\\u4F18\\u5316\\u9AD8\\u9891\\u4E8B\\u4EF6\\u7684\\u6027\\u80FD\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u9632\\u6296\\u8F93\\u5165\\u6846\\u7684\\u4F8B\\u5B50\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useRef } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" DebouncedInput\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"value\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" timeoutRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" newValue\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.target.value;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6E05\\u9664\\u4E0A\\u4E00\\u6B21\\u7684\\u5B9A\\u65F6\\u5668\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (timeoutRef.current) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      clearTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(timeoutRef.current);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u8BBE\\u7F6E\\u65B0\\u7684\\u5B9A\\u65F6\\u5668\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    timeoutRef.current \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newValue);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Debounced value:'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", newValue);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" type\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"text\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleChange} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"placeholder\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Type something...\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"timeoutRef\"})})})}),\" \\u4FDD\\u5B58\\u4E86\\u9632\\u6296\\u7684\\u5B9A\\u65F6\\u5668 ID\\uFF0C\\u786E\\u4FDD\\u6BCF\\u6B21\\u8F93\\u5165\\u65F6\\u53EA\\u89E6\\u53D1\\u6700\\u65B0\\u7684\\u5B9A\\u65F6\\u5668\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5B9E\\u73B0\\u9632\\u6296\\u6216\\u8282\\u6D41\\u65F6\\uFF0C\\u8BB0\\u5F97\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]})}),`\n`,(0,n.jsx)(e.h3,{id:\"63-\\u7F13\\u5B58\\u8BA1\\u7B97\\u7ED3\\u679C\",children:(0,n.jsx)(e.a,{href:\"#63-\\u7F13\\u5B58\\u8BA1\\u7B97\\u7ED3\\u679C\",children:\"6.3 \\u7F13\\u5B58\\u8BA1\\u7B97\\u7ED3\\u679C\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u53EF\\u4EE5\\u7528\\u6765\\u7F13\\u5B58\\u6602\\u8D35\\u7684\\u8BA1\\u7B97\\u7ED3\\u679C\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u8BA1\\u7B97\\u3002\\u5047\\u8BBE\\u6211\\u4EEC\\u6709\\u4E00\\u4E2A\\u9700\\u8981\\u8BA1\\u7B97\\u6590\\u6CE2\\u90A3\\u5951\\u6570\\u7684\\u7EC4\\u4EF6\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useRef } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" FibonacciCalculator\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"n\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setN\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cacheRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({});\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fib\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"n\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (n \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" n;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (cacheRef.current[n]) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cacheRef.current[n];\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    cacheRef.current[n] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fib\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(n \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fib\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(n \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cacheRef.current[n];\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fib\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(n);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        type\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"number\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{n}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setN\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Number\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value))}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      />\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Fibonacci({n}) = {result}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cacheRef\"})})})}),\" \\u4FDD\\u5B58\\u4E86\\u4E00\\u4E2A\\u7F13\\u5B58\\u5BF9\\u8C61\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u8BA1\\u7B97\\u6590\\u6CE2\\u90A3\\u5951\\u6570\\uFF0C\\u63D0\\u5347\\u6027\\u80FD\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5BF9\\u4E8E\\u6602\\u8D35\\u7684\\u7EAF\\u51FD\\u6570\\u8BA1\\u7B97\\uFF0C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5B58\\u4E00\\u4E2A\\u7F13\\u5B58\\u5BF9\\u8C61\\uFF0C\\u6BD4\\u6BCF\\u6B21\\u91CD\\u65B0\\u8BA1\\u7B97\\u8981\\u9AD8\\u6548\\u5F97\\u591A\\u3002\"]})}),`\n`,(0,n.jsx)(e.h3,{id:\"64-\\u5B9E\\u73B0\\u53EF\\u53D6\\u6D88\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\",children:(0,n.jsx)(e.a,{href:\"#64-\\u5B9E\\u73B0\\u53EF\\u53D6\\u6D88\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\",children:\"6.4 \\u5B9E\\u73B0\\u53EF\\u53D6\\u6D88\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5904\\u7406\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF08\\u6BD4\\u5982 API \\u8BF7\\u6C42\\uFF09\\u65F6\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u53EF\\u4EE5\\u7528\\u6765\\u4FDD\\u5B58\\u201C\\u53D6\\u6D88\\u6807\\u8BB0\\u201D\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u53EF\\u53D6\\u6D88\\u7684 fetch \\u8BF7\\u6C42\\u7684\\u4F8B\\u5B50\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useRef, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" CancellableFetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cancelRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    cancelRef.current \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      try\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"cancelRef.current) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          setData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"cancelRef.current) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Fetch error:'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      cancelRef.current \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u53D6\\u6D88\\u8BF7\\u6C42\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{data \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'Loading...'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cancelRef\"})})})}),\" \\u7528\\u4E8E\\u6807\\u8BB0\\u8BF7\\u6C42\\u662F\\u5426\\u88AB\\u53D6\\u6D88\\uFF0C\\u907F\\u514D\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u540E\\u66F4\\u65B0\\u72B6\\u6001\\u5BFC\\u81F4\\u7684\\u9519\\u8BEF\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5728\\u5F02\\u6B65\\u64CD\\u4F5C\\u4E2D\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u4FDD\\u5B58\\u53D6\\u6D88\\u6807\\u8BB0\\uFF0C\\u53EF\\u4EE5\\u6709\\u6548\\u9632\\u6B62\\u201C\\u5DF2\\u5378\\u8F7D\\u7EC4\\u4EF6\\u7684\\u72B6\\u6001\\u66F4\\u65B0\\u201D\\u95EE\\u9898\\u3002\"]})}),`\n`,(0,n.jsx)(e.h2,{id:\"7-\\u5E38\\u89C1\\u8BEF\\u533A\\u4E0E\\u9762\\u8BD5\\u9677\\u9631\\u5982\\u4F55\\u907F\\u514D\\u7FFB\\u8F66\",children:(0,n.jsx)(e.a,{href:\"#7-\\u5E38\\u89C1\\u8BEF\\u533A\\u4E0E\\u9762\\u8BD5\\u9677\\u9631\\u5982\\u4F55\\u907F\\u514D\\u7FFB\\u8F66\",children:\"7. \\u5E38\\u89C1\\u8BEF\\u533A\\u4E0E\\u9762\\u8BD5\\u9677\\u9631\\uFF1A\\u5982\\u4F55\\u907F\\u514D\\u7FFB\\u8F66\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5373\\u4F7F\\u4F60\\u5BF9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u539F\\u7406\\u548C\\u7528\\u6CD5\\u4E86\\u5982\\u6307\\u638C\\uFF0C\\u9762\\u8BD5\\u4E2D\\u8FD8\\u662F\\u53EF\\u80FD\\u9047\\u5230\\u4E00\\u4E9B\\u201C\\u9677\\u9631\\u95EE\\u9898\\u201D\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u4E2A\\u5E38\\u89C1\\u7684\\u8BEF\\u533A\\u548C\\u5E94\\u5BF9\\u7B56\\u7565\\uFF1A\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"71-\\u8BEF\\u533A\\u4EE5\\u4E3A-useref-\\u80FD\\u4EE3\\u66FF-usestate\",children:(0,n.jsxs)(e.a,{href:\"#71-\\u8BEF\\u533A\\u4EE5\\u4E3A-useref-\\u80FD\\u4EE3\\u66FF-usestate\",children:[\"7.1 \\u8BEF\\u533A\\uFF1A\\u4EE5\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u80FD\\u4EE3\\u66FF \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u6709\\u4E9B\\u5F00\\u53D1\\u8005\\u8BA4\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u53EF\\u4EE5\\u5B8C\\u5168\\u66FF\\u4EE3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\"\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4E5F\\u80FD\\u5B58\\u72B6\\u6001\\u4E14\\u4E0D\\u89E6\\u53D1\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u771F\\u76F8\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u7684\\u804C\\u8D23\\u4E0D\\u540C\\u3002\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u7528\\u4E8E\\u7BA1\\u7406\\u9700\\u8981\\u89E6\\u53D1 UI \\u66F4\\u65B0\\u7684\\u72B6\\u6001\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7528\\u4E8E\\u5B58\\u50A8\\u4E0D\\u5F71\\u54CD\\u6E32\\u67D3\\u7684\\u6570\\u636E\\u3002\\u5982\\u679C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5B58\\u6240\\u6709\\u72B6\\u6001\\uFF0CUI \\u53EF\\u80FD\\u4E0D\\u4F1A\\u6B63\\u786E\\u66F4\\u65B0\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5E94\\u5BF9\"}),\"\\uFF1A\\u5728\\u9762\\u8BD5\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u8FD9\\u6837\\u56DE\\u7B54\\uFF1A\\u201C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u9002\\u5408\\u5B58\\u50A8\\u4E0D\\u9700\\u8981\\u89E6\\u53D1\\u6E32\\u67D3\\u7684\\u6570\\u636E\\uFF0C\\u6BD4\\u5982 DOM \\u5F15\\u7528\\u3001\\u5B9A\\u65F6\\u5668 ID \\u6216\\u7F13\\u5B58\\u503C\\u3002\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u9002\\u5408\\u7BA1\\u7406 UI \\u4F9D\\u8D56\\u7684\\u72B6\\u6001\\uFF0C\\u6BD4\\u5982\\u8BA1\\u6570\\u5668\\u6216\\u8868\\u5355\\u8F93\\u5165\\u503C\\u3002\\u201D\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u9762\\u8BD5\\u65F6\\u53EF\\u4EE5\\u4E3E\\u4E00\\u4E2A\\u4F8B\\u5B50\\uFF0C\\u6BD4\\u5982\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5B58\\u5B9A\\u65F6\\u5668 ID vs \\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u5B58\\u8BA1\\u6570\\u5668\\uFF0C\\u6E05\\u6670\\u5BF9\\u6BD4\\u4E24\\u8005\\u7684\\u9002\\u7528\\u573A\\u666F\\u3002\"]})}),`\n`,(0,n.jsx)(e.h3,{id:\"72-\\u9677\\u9631\\u521D\\u59CB\\u503C\\u53EA\\u5728\\u9996\\u6B21\\u6E32\\u67D3\\u65F6\\u751F\\u6548\",children:(0,n.jsx)(e.a,{href:\"#72-\\u9677\\u9631\\u521D\\u59CB\\u503C\\u53EA\\u5728\\u9996\\u6B21\\u6E32\\u67D3\\u65F6\\u751F\\u6548\",children:\"7.2 \\u9677\\u9631\\uFF1A\\u521D\\u59CB\\u503C\\u53EA\\u5728\\u9996\\u6B21\\u6E32\\u67D3\\u65F6\\u751F\\u6548\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u9762\\u8BD5\\u5B98\\u53EF\\u80FD\\u4F1A\\u95EE\\uFF1A\\u201C\\u5982\\u679C\\u6211\\u591A\\u6B21\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5E76\\u4F20\\u5165\\u4E0D\\u540C\\u7684\\u521D\\u59CB\\u503C\\uFF0C\\u4F1A\\u53D1\\u751F\\u4EC0\\u4E48\\uFF1F\\u201D\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u771F\\u76F8\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u521D\\u59CB\\u503C\\u53EA\\u5728\\u7EC4\\u4EF6\\u9996\\u6B21\\u6E32\\u67D3\\u65F6\\u751F\\u6548\\uFF0C\\u540E\\u7EED\\u6E32\\u67D3\\u4E2D\\u4F20\\u5165\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"initialValue\"})})})}),\" \\u4F1A\\u88AB\\u5FFD\\u7565\\u3002\\u770B\\u4E0B\\u9762\\u7684\\u4EE3\\u7801\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ProblematicRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"random\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4F20\\u5165\\u65B0\\u7684\\u968F\\u673A\\u6570\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(ref.current); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u59CB\\u7EC8\\u662F\\u9996\\u6B21\\u6E32\\u67D3\\u65F6\\u7684\\u503C\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Check console</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5E94\\u5BF9\"}),\"\\uFF1A\\u53EF\\u4EE5\\u56DE\\u7B54\\uFF1A\\u201C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u4FDD\\u8BC1\\u4E86 ref \\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\u5728\\u7EC4\\u4EF6\\u751F\\u547D\\u5468\\u671F\\u5185\\u4E0D\\u53D8\\u3002\\u521D\\u59CB\\u503C\\u53EA\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"mount\"})})})}),\" \\u9636\\u6BB5\\u751F\\u6548\\uFF0C\\u540E\\u7EED\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"initialValue\"})})})}),\" \\u4F1A\\u88AB\\u5FFD\\u7565\\u3002\\u8FD9\\u662F React \\u4E3A\\u4E86\\u6027\\u80FD\\u4F18\\u5316\\u548C\\u4E00\\u81F4\\u6027\\u505A\\u7684\\u8BBE\\u8BA1\\u3002\\u201D\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u5982\\u679C\\u9700\\u8981\\u52A8\\u6001\\u66F4\\u65B0\\u521D\\u59CB\\u503C\\uFF0C\\u53EF\\u4EE5\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\u624B\\u52A8\\u4FEE\\u6539 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref.current\"})})})}),\"\\uFF0C\\u4F46\\u8981\\u786E\\u4FDD\\u903B\\u8F91\\u6E05\\u6670\\u3002\"]})}),`\n`,(0,n.jsx)(e.h3,{id:\"73-\\u9677\\u9631\\u5FFD\\u89C6-useref-\\u7684\\u5185\\u5B58\\u7BA1\\u7406\",children:(0,n.jsxs)(e.a,{href:\"#73-\\u9677\\u9631\\u5FFD\\u89C6-useref-\\u7684\\u5185\\u5B58\\u7BA1\\u7406\",children:[\"7.3 \\u9677\\u9631\\uFF1A\\u5FFD\\u89C6 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5185\\u5B58\\u7BA1\\u7406\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u5982\\u679C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u4FDD\\u5B58\\u5927\\u91CF\\u6570\\u636E\\u6216\\u590D\\u6742\\u5BF9\\u8C61\\uFF0C\\u53EF\\u80FD\\u4F1A\\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\u5417\\uFF1F\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u771F\\u76F8\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".current\"})})})}),\" \\u503C\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u4F1A\\u81EA\\u52A8\\u88AB\\u5783\\u573E\\u56DE\\u6536\\uFF0C\\u4F46\\u5982\\u679C\\u4F60\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u4E2D\\u4FDD\\u5B58\\u4E86\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u3001\\u5B9A\\u65F6\\u5668\\u6216\\u5916\\u90E8\\u5F15\\u7528\\uFF0C\\u9700\\u8981\\u624B\\u52A8\\u6E05\\u7406\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5E94\\u5BF9\"}),\"\\uFF1A\\u53EF\\u4EE5\\u56DE\\u7B54\\uFF1A\\u201C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u672C\\u8EAB\\u4E0D\\u4F1A\\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\uFF0C\\u56E0\\u4E3A\\u5B83\\u7684\\u503C\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u4F1A\\u88AB GC \\u56DE\\u6536\\u3002\\u4F46\\u5982\\u679C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref.current\"})})})}),\" \\u4FDD\\u5B58\\u4E86\\u9700\\u8981\\u624B\\u52A8\\u6E05\\u7406\\u7684\\u8D44\\u6E90\\uFF0C\\u6BD4\\u5982\\u5B9A\\u65F6\\u5668\\u6216\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u6E05\\u7406\\u51FD\\u6570\\u4E2D\\u91CA\\u653E\\u5B83\\u4EEC\\u3002\\u201D\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"Tips: \\u517B\\u6210\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\u6E05\\u7406 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u76F8\\u5173\\u8D44\\u6E90\\u7684\\u597D\\u4E60\\u60EF\\uFF0C\\u6BD4\\u5982\\u6E05\\u9664\\u5B9A\\u65F6\\u5668\\u3001\\u79FB\\u9664\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u3002\"]})}),`\n`,(0,n.jsx)(e.h2,{id:\"8-\\u603B\\u7ED3\\u4E0E\\u5C55\\u671Buseref-\\u7684\\u672A\\u6765\\u4E0E-react-\\u7684\\u8FDB\\u5316\",children:(0,n.jsxs)(e.a,{href:\"#8-\\u603B\\u7ED3\\u4E0E\\u5C55\\u671Buseref-\\u7684\\u672A\\u6765\\u4E0E-react-\\u7684\\u8FDB\\u5316\",children:[\"8. \\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u672A\\u6765\\u4E0E React \\u7684\\u8FDB\\u5316\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u8FD9\\u7BC7\\u6587\\u7AE0\\uFF0C\\u6211\\u4EEC\\u4ECE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u57FA\\u672C\\u7528\\u6CD5\\u5230\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u518D\\u5230\\u9AD8\\u7EA7\\u5B9E\\u8DF5\\u548C\\u9762\\u8BD5\\u5E94\\u5BF9\\uFF0C\\u5168\\u9762\\u5256\\u6790\\u4E86\\u8FD9\\u4E2A\\u770B\\u4F3C\\u7B80\\u5355\\u5374\\u65E0\\u6BD4\\u5F3A\\u5927\\u7684 Hook\\u3002\\u603B\\u7ED3\\u4E00\\u4E0B \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u6838\\u5FC3\\u8981\\u70B9\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u672C\\u8D28\"}),\"\\uFF1A\\u4E00\\u4E2A\\u8DE8\\u6E32\\u67D3\\u5468\\u671F\\u7684\\u6301\\u4E45\\u5316\\u5B58\\u50A8\\u7BB1\\uFF0C\\u9002\\u5408\\u4FDD\\u5B58\\u4E0D\\u89E6\\u53D1\\u6E32\\u67D3\\u7684\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u73B0\"}),\"\\uFF1A\\u57FA\\u4E8E Fiber \\u8282\\u70B9\\u7684 Hook \\u94FE\\u8868\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"memoizedState\"})})})}),\" \\u5B58\\u50A8 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"{ current: initialValue }\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7528\\u6CD5\"}),\"\\uFF1A\\u4ECE DOM \\u64CD\\u4F5C\\u5230\\u72B6\\u6001\\u7BA1\\u7406\\uFF0C\\u518D\\u5230\\u6027\\u80FD\\u4F18\\u5316\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u65E0\\u5904\\u4E0D\\u5728\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\\u907F\\u514D\\u95ED\\u5305\\u9677\\u9631\\u3001\\u5B9E\\u73B0\\u9632\\u6296\\u8282\\u6D41\\u3001\\u7F13\\u5B58\\u8BA1\\u7B97\\u7ED3\\u679C\\u3001\\u5904\\u7406\\u53EF\\u53D6\\u6D88\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9762\\u8BD5\\u6280\\u5DE7\"}),\"\\uFF1A\\u7ED3\\u5408\\u6E90\\u7801\\u548C\\u7C7B\\u6BD4\\uFF0C\\u6E05\\u6670\\u8BB2\\u89E3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u539F\\u7406\\u548C\\u9002\\u7528\\u573A\\u666F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5C55\\u671B\\u672A\\u6765\\uFF0C\\u968F\\u7740 React 19 \\u548C Server Components \\u7684\\u8FDB\\u4E00\\u6B65\\u53D1\\u5C55\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u5730\\u4F4D\\u53EF\\u80FD\\u4F1A\\u66F4\\u52A0\\u91CD\\u8981\\u3002Server Components \\u5F3A\\u8C03\\u66F4\\u7EC6\\u7C92\\u5EA6\\u7684\\u72B6\\u6001\\u7BA1\\u7406\\u548C\\u6027\\u80FD\\u4F18\\u5316\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u7684\\u201C\\u9759\\u9ED8\\u5B58\\u50A8\\u201D\\u7279\\u6027\\u6B63\\u597D\\u5951\\u5408\\u8FD9\\u4E00\\u8D8B\\u52BF\\u3002\\u540C\\u65F6\\uFF0C\\u968F\\u7740\\u524D\\u7AEF\\u751F\\u6001\\u5BF9\\u5B9E\\u65F6\\u6027\\u548C\\u4EA4\\u4E92\\u6027\\u7684\\u8981\\u6C42\\u8D8A\\u6765\\u8D8A\\u9AD8\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u5728\\u5904\\u7406\\u590D\\u6742\\u4EA4\\u4E92\\u903B\\u8F91\\uFF08\\u5982\\u52A8\\u753B\\u3001\\u62D6\\u62FD\\u3001\\u5B9E\\u65F6\\u534F\\u4F5C\\uFF09\\u4E2D\\u7684\\u5E94\\u7528\\u4E5F\\u4F1A\\u66F4\\u52A0\\u5E7F\\u6CDB\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6700\\u540E\\uFF0C\\u9001\\u4F60\\u4E00\\u53E5\\u8BDD\\uFF1A\",(0,n.jsxs)(e.strong,{children:[\"\\u201C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u4E0D\\u662F\\u4E07\\u80FD\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u662F\\u4E07\\u4E07\\u4E0D\\u80FD\\u7684\\u3002\\u201D\"]}),\" \\u4E0B\\u6B21\\u9762\\u8BD5\\u9047\\u5230\\u201C\\u8BF4\\u4E00\\u4E0B \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useRef\"})})})}),\" \\u662F\\u5982\\u4F55\\u5B9E\\u73B0\\u7684\\uFF1F\\u201D\\u65F6\\uFF0C\\u76F8\\u4FE1\\u4F60\\u5DF2\\u7ECF\\u80FD\\u81EA\\u4FE1\\u5730\\u629B\\u51FA\\u4E00\\u5806\\u5E72\\u8D27\\uFF0C\\u8BA9\\u9762\\u8BD5\\u5B98\\u522E\\u76EE\\u76F8\\u770B\\uFF01\\u{1F60E}\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"Tips: \\u5B66\\u4E60 React Hooks \\u4E0D\\u4EC5\\u8981\\u4F1A\\u7528\\uFF0C\\u8FD8\\u8981\\u7406\\u89E3\\u5176\\u8BBE\\u8BA1\\u7406\\u5FF5\\u3002\\u82B1\\u70B9\\u65F6\\u95F4\\u8BFB\\u8BFB React \\u6E90\\u7801\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0\\u66F4\\u591A\\u201C\\u9690\\u85CF\\u7684\\u5B9D\\u85CF\\u201D\\uFF01\"})}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(h,{...a})}):h(a)}return b(x);})();\n;return Component;"
  },
  "_id": "React/é¢è¯•/useRefæ˜¯å¦‚ä½•å®ç°çš„.mdx",
  "_raw": {
    "sourceFilePath": "React/é¢è¯•/useRefæ˜¯å¦‚ä½•å®ç°çš„.mdx",
    "sourceFileName": "useRefæ˜¯å¦‚ä½•å®ç°çš„.mdx",
    "sourceFileDir": "React/é¢è¯•",
    "contentType": "mdx",
    "flattenedPath": "React/é¢è¯•/useRefæ˜¯å¦‚ä½•å®ç°çš„"
  },
  "type": "Post",
  "url": "/blog/React/é¢è¯•/useRefæ˜¯å¦‚ä½•å®ç°çš„"
}
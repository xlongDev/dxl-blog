{
  "title": "ä»Žé›¶å®žçŽ°React Hooks",
  "date": "2023-09-23T00:00:00.000Z",
  "description": "æ·±å…¥è§£æžå¦‚ä½•ä»Žé›¶å¼€å§‹å®žçŽ°React Hooksï¼ŒåŒ…æ‹¬useStateã€useEffectç­‰æ ¸å¿ƒHookçš„åº•å±‚åŽŸç†ä¸Žå®žçŽ°ã€‚",
  "keywords": "React Hooks, useState, useEffect, React, å‰ç«¯å¼€å‘, è‡ªå®šä¹‰Hooks, å®žçŽ°åŽŸç†",
  "author": "æ™“é¾™",
  "image": "/images/hero/react-hooks.jpg",
  "tags": [
    "React",
    "Hooks",
    "å‰ç«¯å¼€å‘",
    "å®žçŽ°åŽŸç†"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\nè¿˜è®°å¾—ç¬¬ä¸€æ¬¡æŽ¥è§¦ React Hooks çš„æ—¶å€™ï¼Œæˆ‘åƒå¤§å¤šæ•°å¼€å‘è€…ä¸€æ ·å……æ»¡å›°æƒ‘ï¼šä¸ºä»€ä¹ˆè¦ç”¨ Hooksï¼Ÿå®ƒæ˜¯å¦‚ä½•ç¥žå¥‡åœ°è®©å‡½æ•°ç»„ä»¶æ‹¥æœ‰çŠ¶æ€çš„ï¼Ÿå¸¦ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘å¼€å§‹æ·±å…¥ç ”ç©¶ Hooks çš„å®žçŽ°åŽŸç†ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†åˆ†äº«æˆ‘çš„æŽ¢ç´¢åŽ†ç¨‹ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥æ­å¼€ Hooks çš„ç¥žç§˜é¢çº±ï¼Œå¹¶åŠ¨æ‰‹å®žçŽ°ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ Hooks ç³»ç»Ÿã€‚æˆ‘ä»¬å°†ä»Žé›¶å¼€å§‹ï¼Œå®žçŽ° `useState`ã€`useEffect` ç­‰æ ¸å¿ƒ Hookï¼Œç›¸ä¿¡è¿™ä¸ªè¿‡ç¨‹ä¼šè®©ä½ å¯¹ React Hooks æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚\n\n## å‰è¨€\n\nè¿˜è®°å¾—åœ¨ React 16.8 ä¹‹å‰ï¼Œæˆ‘ä»¬å†™ç»„ä»¶æ—¶æ€»æ˜¯åœ¨ class å’Œ function ä¹‹é—´çº ç»“ã€‚ç”¨ class å§ï¼Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•å’Œ this çš„ç»‘å®šæ€»æ˜¯è®©äººå¤´ç–¼ï¼›ç”¨ function å§ï¼Œåˆæ²¡æ³•ç®¡ç†çŠ¶æ€ã€‚ç›´åˆ° Hooks çš„å‡ºçŽ°ï¼Œè¿™ä¸ªå›°æ‰°ç»ˆäºŽå¾—åˆ°äº†è§£å†³ã€‚\n\nä¸è¿‡ï¼Œå½“æˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ° `useState` çš„é­”æ³•æ—¶ï¼Œç€å®žè¢«éœ‡æƒŠåˆ°äº†ï¼šä¸€ä¸ªæ™®é€šçš„å‡½æ•°è°ƒç”¨ï¼Œæ€Žä¹ˆå°±èƒ½è®°ä½çŠ¶æ€å‘¢ï¼Ÿå¦‚æžœä½ ä¹Ÿæœ‰ç±»ä¼¼çš„ç–‘æƒ‘ï¼Œåˆ«æ‹…å¿ƒï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦æ­å¼€è¿™ä¸ªé­”æ³•çš„é¢çº±ã€‚é€šè¿‡å®žçŽ°ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ Hooks ç³»ç»Ÿï¼Œä½ ä¼šå‘çŽ°è¿™èƒŒåŽçš„åŽŸç†å…¶å®žå¾ˆä¼˜é›…ã€‚\n\n## React Hooks ç®€ä»‹\n\nåœ¨æ­£å¼åŠ¨æ‰‹å®žçŽ°ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå›žé¡¾ä¸€ä¸‹ React Hooks çš„ä¸»è¦ç±»åž‹åŠå…¶ç”¨é€”ï¼š\n\n- **useState**ï¼šç”¨äºŽåœ¨å‡½æ•°ç»„ä»¶ä¸­å£°æ˜Žå’Œç®¡ç†çŠ¶æ€å˜é‡ã€‚\n- **useEffect**ï¼šç”¨äºŽå¤„ç†å‰¯ä½œç”¨ï¼ˆå¦‚æ•°æ®èŽ·å–ã€è®¢é˜…ã€æ‰‹åŠ¨æ“ä½œ DOM ç­‰ï¼‰ã€‚\n- **useContext**ã€**useReducer**ã€**useMemo**ã€**useCallback** ç­‰å…¶ä»–è¾…åŠ© Hookï¼Œä¹Ÿéƒ½éµå¾ªç±»ä¼¼çš„è®¾è®¡ç†å¿µã€‚\n\nHooks çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šåœ¨ç»„ä»¶æ¯æ¬¡æ¸²æŸ“æ—¶ï¼ŒæŒ‰ç…§è°ƒç”¨é¡ºåºä¿å­˜å’Œæ¢å¤çŠ¶æ€ä¸Žå‰¯ä½œç”¨ã€‚React å†…éƒ¨é€šè¿‡ä¸€ä¸ªâ€œHook é“¾â€æ¥å®žçŽ°è¿™ä¸€ç‚¹ï¼Œè€Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨å®žçŽ°ç®€åŒ–ç‰ˆ Hooks æ—¶éœ€è¦å…³æ³¨çš„é‡ç‚¹ã€‚\n\n## å®žçŽ°åŽŸç†æ¦‚è§ˆ\n\nåœ¨ React å†…éƒ¨ï¼Œæ¯ä¸ªç»„ä»¶å®žä¾‹éƒ½æœ‰ä¸€ä¸ªä¸Žä¹‹å…³è”çš„ç»“æž„ï¼ˆä¾‹å¦‚ fiberï¼‰ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰ Hook çš„çŠ¶æ€ã€‚æˆ‘ä»¬çš„ç®€åŒ–å®žçŽ°å°†é‡‡ç”¨å…¨å±€æ•°ç»„æ¥æ¨¡æ‹Ÿè¿™ç§çŠ¶æ€å­˜å‚¨ï¼Œå¹¶ç”¨ä¸€ä¸ªå…¨å±€ç´¢å¼•æ¥æ ‡è®°å½“å‰ Hook è°ƒç”¨çš„ä½ç½®ã€‚\n\n### æ ¸å¿ƒæ€è·¯\n\n1. **çŠ¶æ€å­˜å‚¨**ï¼šåˆ©ç”¨å…¨å±€æ•°ç»„å­˜å‚¨æ¯ä¸ª Hook çš„çŠ¶æ€ä¿¡æ¯ã€‚\n2. **ç´¢å¼•ç®¡ç†**ï¼šæ¯æ¬¡ç»„ä»¶æ¸²æŸ“å‰é‡ç½®ç´¢å¼•ï¼Œæ¯ä¸ª Hook è°ƒç”¨åŽé€’å¢žç´¢å¼•ï¼Œä¿è¯è°ƒç”¨é¡ºåºä¸€è‡´ã€‚\n3. **æ›´æ–°æœºåˆ¶**ï¼šé€šè¿‡ `setState` æ›´æ–°çŠ¶æ€åŽé‡æ–°è§¦å‘ç»„ä»¶æ¸²æŸ“ï¼Œæ¨¡æ‹Ÿ React çš„æ›´æ–°æµç¨‹ã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„çŠ¶æ€ç®¡ç†ä¼ªä»£ç ç¤ºä¾‹ï¼š\n\n```js\nlet hookIndex = 0;\nlet hooks = [];\n\nfunction renderComponent(Component) {\n  hookIndex = 0;\n  return Component();\n}\n\nfunction useState(initialValue) {\n  const currentIndex = hookIndex;\n  // åˆå§‹åŒ–çŠ¶æ€\n  if (hooks[currentIndex] === undefined) {\n    hooks[currentIndex] = initialValue;\n  }\n  // å®šä¹‰æ›´æ–°å‡½æ•°\n  function setState(newValue) {\n    hooks[currentIndex] = newValue;\n    // è§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“\n    renderComponent(App);\n  }\n  hookIndex++;\n  return [hooks[currentIndex], setState];\n}\n```\n\nè¯¥ç¤ºä¾‹å±•ç¤ºäº† `useState` çš„åŸºæœ¬åŽŸç†ï¼šçŠ¶æ€å­˜å‚¨ã€ç´¢å¼•ç®¡ç†ä¸Žæ›´æ–°è§¦å‘ã€‚å®žé™… React å®žçŽ°ä¸­ï¼Œè¿™éƒ¨åˆ†é€»è¾‘ä¼šæ›´å¤æ‚ï¼Œæ¶‰åŠè°ƒåº¦å™¨ã€æ‰¹é‡æ›´æ–°ã€é”™è¯¯è¾¹ç•Œç­‰å†…å®¹ã€‚\n\n## ä»Žé›¶å®žçŽ° useState\n\næŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯¦ç»†å®žçŽ°ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ `useState`ã€‚\n\n### è®¾è®¡æ€è·¯\n\næƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨çŽ©ä¸€ä¸ªå¡ç‰‡æ¸¸æˆï¼Œæ¯å¼ å¡ç‰‡ä»£è¡¨ä¸€ä¸ªçŠ¶æ€ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç›’å­ï¼ˆå…¨å±€çŠ¶æ€æ•°ç»„ï¼‰æ¥å­˜æ”¾è¿™äº›å¡ç‰‡ï¼Œè¿˜éœ€è¦ä¸€ä¸ªæ ‡è®°ï¼ˆå…¨å±€ç´¢å¼•ï¼‰æ¥è®°ä½æˆ‘ä»¬çœ‹åˆ°äº†å“ªå¼ å¡ç‰‡ï¼Œä»¥åŠä¸€ä¸ªé­”æ³•æ£’ï¼ˆsetState å‡½æ•°ï¼‰æ¥æ”¹å˜å¡ç‰‡çš„å†…å®¹ã€‚å…·ä½“æ¥è¯´ï¼š\n\n- **å…¨å±€çŠ¶æ€æ•°ç»„**ï¼šå°±åƒä¸€ä¸ªæ•´é½çš„å¡ç‰‡ç›’ï¼Œæ¯ä¸ªæ ¼å­å­˜æ”¾ä¸€ä¸ªçŠ¶æ€ã€‚\n- **å…¨å±€ç´¢å¼•**ï¼šç›¸å½“äºŽæˆ‘ä»¬çš„æ‰‹æŒ‡ï¼ŒæŒ‡å‘å½“å‰æ­£åœ¨æŸ¥çœ‹çš„å¡ç‰‡ä½ç½®ã€‚\n- **setState å‡½æ•°**ï¼šå°±åƒé­”æ³•æ£’ä¸€æ ·ï¼Œå¯ä»¥æ”¹å˜å¡ç‰‡å†…å®¹ï¼Œå¹¶è®©æ•´ä¸ªæ¸¸æˆé‡æ–°å¼€å§‹ã€‚\n\n### å®žçŽ°ä»£ç \n\n```js\nlet hookIndex = 0;\nlet hooks = [];\n\nfunction render(Component) {\n  hookIndex = 0;\n  return Component();\n}\n\nfunction useState(initialValue) {\n  const currentIndex = hookIndex;\n  // å¦‚æžœå½“å‰ Hook æœªåˆå§‹åŒ–ï¼Œè®¾ç½®ä¸ºåˆå§‹å€¼\n  if (hooks[currentIndex] === undefined) {\n    hooks[currentIndex] = initialValue;\n  }\n  // å®šä¹‰æ›´æ–°çŠ¶æ€çš„å‡½æ•°\n  const setState = (newValue) => {\n    hooks[currentIndex] = newValue;\n    // é‡æ–°æ¸²æŸ“ç»„ä»¶\n    render(App);\n  };\n  hookIndex++;\n  return [hooks[currentIndex], setState];\n}\n\n// ç¤ºä¾‹ç»„ä»¶\nfunction App() {\n  const [count, setCount] = useState(0);\n  console.log(\"render: count =\", count);\n  return {\n    click: () => setCount(count + 1),\n  };\n}\n\n// æ¨¡æ‹Ÿç”¨æˆ·ç‚¹å‡»äº‹ä»¶\nconst appInstance = render(App);\nappInstance.click(); // æ­¤æ—¶ count æ›´æ–°ä¸º 1\n```\n\nä¸Šè¿°ä»£ç å±•ç¤ºäº† `useState` çš„æ ¸å¿ƒå®žçŽ°æ€è·¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨çœŸå®žçš„ React ä¸­ï¼Œæ¯ä¸ªç»„ä»¶å®žä¾‹ä¼šæ‹¥æœ‰ç‹¬ç«‹çš„ Hook çŠ¶æ€ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å…¨å±€æ•°ç»„ã€‚\n\n## å®žçŽ° useEffect\n\n`useEffect` ä¸»è¦ç”¨äºŽå¤„ç†å‰¯ä½œç”¨ï¼Œå…¶å®žçŽ°éœ€è¦è€ƒè™‘ä¾èµ–é¡¹æ¯”å¯¹å’Œæ¸…ç†å‡½æ•°çš„è°ƒç”¨ã€‚\n\n### è®¾è®¡æ€è·¯\n\n1. **å­˜å‚¨å‰¯ä½œç”¨**ï¼šä¸ŽçŠ¶æ€ç±»ä¼¼ï¼Œæ‰€æœ‰å‰¯ä½œç”¨ä¹Ÿå­˜å‚¨åœ¨ä¸€ä¸ªå…¨å±€æ•°ç»„ä¸­ã€‚\n2. **ä¾èµ–æ¯”å¯¹**ï¼šæ¯æ¬¡æ¸²æŸ“æ—¶ï¼Œæ ¹æ®ä¾èµ–æ•°ç»„åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ã€‚\n3. **æ¸…ç†å‡½æ•°**ï¼šåœ¨é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‰ï¼Œè°ƒç”¨ä¹‹å‰å‰¯ä½œç”¨è¿”å›žçš„æ¸…ç†å‡½æ•°ã€‚\n\n### å®žçŽ°ä»£ç \n\n```js\nlet effectIndex = 0;\nlet effects = [];\n\nfunction useEffect(effect, deps) {\n  const currentIndex = effectIndex;\n  const oldDeps = effects[currentIndex]\n    ? effects[currentIndex].deps\n    : undefined;\n  let hasChanged = true;\n\n  // å¦‚æžœæœ‰æ—§çš„ä¾èµ–é¡¹ï¼Œåˆ™è¿›è¡Œæ¯”å¯¹\n  if (oldDeps) {\n    hasChanged = deps.some((dep, i) => !Object.is(dep, oldDeps[i]));\n  }\n\n  // ä¾èµ–é¡¹æœ‰å˜åŒ–åˆ™æ‰§è¡Œ effect\n  if (hasChanged) {\n    // å¦‚æžœå­˜åœ¨ä¸Šä¸€æ¬¡çš„æ¸…ç†å‡½æ•°ï¼Œåˆ™è°ƒç”¨å®ƒ\n    if (effects[currentIndex] && effects[currentIndex].cleanup) {\n      effects[currentIndex].cleanup();\n    }\n    const cleanup = effect();\n    effects[currentIndex] = { deps, cleanup };\n  }\n\n  effectIndex++;\n}\n```\n\nåŒæ ·ï¼Œæ¯æ¬¡ç»„ä»¶æ¸²æŸ“å‰ï¼Œéœ€è¦é‡ç½® `effectIndex`ï¼Œä»¥ç¡®ä¿ Hook è°ƒç”¨çš„é¡ºåºä¸Žä¾èµ–é¡¹å­˜å‚¨ä¿æŒä¸€è‡´ã€‚\n\n## è‡ªå®šä¹‰ Hook çš„å®žçŽ°\n\nè‡ªå®šä¹‰ Hook å°±æ˜¯å°†å¤šä¸ªå†…ç½® Hook å°è£…åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå¤ç”¨é€»è¾‘çš„å‡½æ•°ã€‚ç”±äºŽæˆ‘ä»¬çš„ Hooks å®žçŽ°ä¾èµ–äºŽè°ƒç”¨é¡ºåºï¼Œè‡ªå®šä¹‰ Hook ä¸Žæ™®é€šå‡½æ•°æ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚\n\n### ç¤ºä¾‹ï¼šå®žçŽ°è‡ªå®šä¹‰è®¡æ•°å™¨ Hook\n\n```js\nfunction useCounter(initialValue = 0) {\n  const [count, setCount] = useState(initialValue);\n  const increment = () => setCount(count + 1);\n  const decrement = () => setCount(count - 1);\n  return { count, increment, decrement };\n}\n\nfunction App() {\n  const { count, increment, decrement } = useCounter(0);\n  console.log(\"render: count =\", count);\n  return {\n    increment,\n    decrement,\n  };\n}\n\nconst appInstance = render(App);\nappInstance.increment(); // è°ƒç”¨ increment æ›´æ–° count\n```\n\né€šè¿‡è‡ªå®šä¹‰ Hookï¼Œæˆ‘ä»¬å¯ä»¥å°†ç»„ä»¶ä¸­å¤æ‚çš„çŠ¶æ€é€»è¾‘å°è£…èµ·æ¥ï¼Œæå‡ä»£ç å¤ç”¨æ€§ä¸Žå¯ç»´æŠ¤æ€§ã€‚\n\n## å®žæˆ˜ç»éªŒä¸Žè¸©å‘æŒ‡å—\n\nåœ¨å®žé™…å¼€å‘ä¸­ï¼Œæˆ‘é‡åˆ°è¿‡ä¸å°‘ä¸Ž Hooks ç›¸å…³çš„é—®é¢˜ï¼Œè¿™é‡Œåˆ†äº«ä¸€äº›ç»éªŒæ•™è®­ï¼š\n\n### 1. Hook è°ƒç”¨é¡ºåºçš„é™·é˜±\n\næ›¾ç»æˆ‘åœ¨ä¸€ä¸ªæ¡ä»¶æ¸²æŸ“ä¸­ä½¿ç”¨äº† Hookï¼Œç»“æžœå¯¼è‡´åº”ç”¨å‡ºçŽ°äº†è¯¡å¼‚çš„çŠ¶æ€æ··ä¹±ï¼š\n\n```javascript\nfunction BadComponent() {\n  if (someCondition) {\n    const [state, setState] = useState(0); // ðŸš« ä¸è¦è¿™æ ·åšï¼\n  }\n}\n```\n\nè¿™å°±åƒåœ¨çŽ©çº¸ç‰Œæ¸¸æˆæ—¶ï¼Œçªç„¶è·³è¿‡äº†æŸå‡ å¼ ç‰Œï¼Œå¯¼è‡´æ•´ä¸ªæ¸¸æˆç§©åºæ··ä¹±ã€‚æ­£ç¡®çš„åšæ³•æ˜¯ï¼š\n\n```javascript\nfunction GoodComponent() {\n  const [state, setState] = useState(0);\n  if (someCondition) {\n    // ä½¿ç”¨ state\n  }\n}\n```\n\n### 2. çŠ¶æ€éš”ç¦»çš„è‰ºæœ¯\n\nåœ¨ä¸€ä¸ªå¤§åž‹é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†å¤šä¸ªç»„ä»¶çŠ¶æ€äº’ç›¸å¹²æ‰°çš„é—®é¢˜ã€‚è¿™å°±åƒå¤šä¸ªçŽ©å®¶åœ¨çŽ©åŒä¸€å‰¯ç‰Œï¼Œä½†æ¯ä¸ªäººéƒ½æƒ³æŒ‰è‡ªå·±çš„è§„åˆ™çŽ©ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ä¸ºæ¯ä¸ªç»„ä»¶åˆ›å»ºç‹¬ç«‹çš„çŠ¶æ€ç©ºé—´ï¼Œè¿™ä¹Ÿæ˜¯ React Fiber æž¶æž„çš„ç²¾å¦™ä¹‹å¤„ã€‚\n\n### 3. æ€§èƒ½ä¼˜åŒ–çš„æ™ºæ…§\n\nåœ¨ä¸€ä¸ªå®žæ—¶æ•°æ®å±•ç¤ºç•Œé¢ä¸­ï¼Œæˆ‘å‘çŽ°è¿‡åº¦ä½¿ç”¨ `useEffect` å¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚é€šè¿‡åˆç†è®¾ç½®ä¾èµ–é¡¹ï¼Œæˆ‘ä»¬å°†æ¸²æŸ“æ€§èƒ½æå‡äº†è¿‘ 50%ï¼š\n\n```javascript\n// ä¼˜åŒ–å‰\nuseEffect(() => {\n  // ä¸€äº›å¤æ‚è®¡ç®—\n}); // æ²¡æœ‰ä¾èµ–é¡¹æ•°ç»„ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œ\n\n// ä¼˜åŒ–åŽ\nuseEffect(() => {\n  // ä¸€äº›å¤æ‚è®¡ç®—\n}, [relevantData]); // åªåœ¨ relevantData å˜åŒ–æ—¶æ‰§è¡Œ\n```\n\nçœŸå®žçš„ React å®žçŽ°ä¸­ï¼Œé€šè¿‡ Fiber æž¶æž„å’Œè°ƒåº¦å™¨ï¼ŒReact å·²ç»è§£å†³äº†ä¸Šè¿°é—®é¢˜ã€‚è€Œæˆ‘ä»¬è¿™ä¸ªç®€åŒ–ç‰ˆç¤ºä¾‹åˆ™æ›´å¤šåœ°ç”¨äºŽç†è§£å…¶åŸºæœ¬åŽŸç†ã€‚\n\n## æ€»ç»“\n\næœ¬æ–‡è¯¦ç»†è®²è§£äº†å¦‚ä½•ä»Žé›¶å¼€å§‹å®žçŽ°ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ React Hooks ç³»ç»Ÿï¼Œæ¶µç›–äº† `useState` å’Œ `useEffect` çš„åŸºæœ¬å®žçŽ°åŽŸç†ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨è¿™äº›å†…ç½® Hook åˆ›å»ºè‡ªå®šä¹‰ Hookã€‚è™½ç„¶æˆ‘ä»¬çš„å®žçŽ°ä¸Ž React å†…éƒ¨æœºåˆ¶ç›¸æ¯”è¿‡äºŽç®€åŒ–ï¼Œä½†å®ƒæ¸…æ™°åœ°å±•ç¤ºäº† Hooks çš„æ ¸å¿ƒæ€æƒ³å’Œå®žçŽ°é€»è¾‘ã€‚\n\nç†è§£è¿™äº›åŸºç¡€æœºåˆ¶ï¼Œä¸ä»…æœ‰åŠ©äºŽæ›´æ·±å…¥åœ°æŽŒæ¡ Reactï¼Œä¹Ÿèƒ½ä¸ºä½ åœ¨å®žé™…å¼€å‘ä¸­ä¼˜åŒ–çŠ¶æ€ç®¡ç†å’Œå‰¯ä½œç”¨å¤„ç†æä¾›æ€è·¯ã€‚å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½æ¿€å‘ä½ å¯¹å‰ç«¯åº•å±‚å®žçŽ°æœºåˆ¶çš„å…´è¶£ï¼Œå¹¶å¸®åŠ©ä½ å†™å‡ºæ›´å¥å£®çš„ä»£ç ï¼\n\n---\n\nä»¥ä¸Šå°±æ˜¯ã€Šä»Žé›¶å®žçŽ° React Hooksã€‹çš„å®Œæ•´å†…å®¹ï¼Œæ„Ÿè°¢é˜…è¯»ï¼\n",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(l,n)=>()=>(n||l((n={exports:{}}).exports,n),n.exports),f=(l,n)=>{for(var r in n)a(l,r,{get:n[r],enumerable:!0})},o=(l,n,r,s)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of y(n))!u.call(l,c)&&c!==r&&a(l,c,{get:()=>n[c],enumerable:!(s=E(n,c))||s.enumerable});return l};var k=(l,n,r)=>(r=l!=null?p(F(l)):{},o(n||!l||!l.__esModule?a(r,\"default\",{value:l,enumerable:!0}):r,l)),B=l=>o(a({},\"__esModule\",{value:!0}),l);var t=g((I,d)=>{d.exports=_jsx_runtime});var x={};f(x,{default:()=>h,frontmatter:()=>m});var e=k(t()),m={type:\"Post\",title:\"\\u4ECE\\u96F6\\u5B9E\\u73B0React Hooks\",date:\"2023-09-23\",description:\"\\u6DF1\\u5165\\u89E3\\u6790\\u5982\\u4F55\\u4ECE\\u96F6\\u5F00\\u59CB\\u5B9E\\u73B0React Hooks\\uFF0C\\u5305\\u62ECuseState\\u3001useEffect\\u7B49\\u6838\\u5FC3Hook\\u7684\\u5E95\\u5C42\\u539F\\u7406\\u4E0E\\u5B9E\\u73B0\\u3002\",keywords:\"React Hooks, useState, useEffect, React, \\u524D\\u7AEF\\u5F00\\u53D1, \\u81EA\\u5B9A\\u4E49Hooks, \\u5B9E\\u73B0\\u539F\\u7406\",author:\"\\u6653\\u9F99\",image:\"/images/hero/react-hooks.jpg\",tags:[\"React\",\"Hooks\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u5B9E\\u73B0\\u539F\\u7406\"],category:\"React\"};function i(l){let n={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.p,{children:[\"\\u8FD8\\u8BB0\\u5F97\\u7B2C\\u4E00\\u6B21\\u63A5\\u89E6 React Hooks \\u7684\\u65F6\\u5019\\uFF0C\\u6211\\u50CF\\u5927\\u591A\\u6570\\u5F00\\u53D1\\u8005\\u4E00\\u6837\\u5145\\u6EE1\\u56F0\\u60D1\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u8981\\u7528 Hooks\\uFF1F\\u5B83\\u662F\\u5982\\u4F55\\u795E\\u5947\\u5730\\u8BA9\\u51FD\\u6570\\u7EC4\\u4EF6\\u62E5\\u6709\\u72B6\\u6001\\u7684\\uFF1F\\u5E26\\u7740\\u8FD9\\u4E9B\\u7591\\u95EE\\uFF0C\\u6211\\u5F00\\u59CB\\u6DF1\\u5165\\u7814\\u7A76 Hooks \\u7684\\u5B9E\\u73B0\\u539F\\u7406\\u3002\\u5728\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4E2D\\uFF0C\\u6211\\u5C06\\u5206\\u4EAB\\u6211\\u7684\\u63A2\\u7D22\\u5386\\u7A0B\\uFF0C\\u5E26\\u4F60\\u4E00\\u6B65\\u6B65\\u63ED\\u5F00 Hooks \\u7684\\u795E\\u79D8\\u9762\\u7EB1\\uFF0C\\u5E76\\u52A8\\u624B\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7B80\\u5316\\u7248\\u7684 Hooks \\u7CFB\\u7EDF\\u3002\\u6211\\u4EEC\\u5C06\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u5B9E\\u73B0 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useState\"})})})}),\"\\u3001\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useEffect\"})})})}),\" \\u7B49\\u6838\\u5FC3 Hook\\uFF0C\\u76F8\\u4FE1\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u4F1A\\u8BA9\\u4F60\\u5BF9 React Hooks \\u6709\\u66F4\\u6DF1\\u5165\\u7684\\u7406\\u89E3\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u524D\\u8A00\",children:(0,e.jsx)(n.a,{href:\"#\\u524D\\u8A00\",children:\"\\u524D\\u8A00\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD8\\u8BB0\\u5F97\\u5728 React 16.8 \\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5199\\u7EC4\\u4EF6\\u65F6\\u603B\\u662F\\u5728 class \\u548C function \\u4E4B\\u95F4\\u7EA0\\u7ED3\\u3002\\u7528 class \\u5427\\uFF0C\\u751F\\u547D\\u5468\\u671F\\u65B9\\u6CD5\\u548C this \\u7684\\u7ED1\\u5B9A\\u603B\\u662F\\u8BA9\\u4EBA\\u5934\\u75BC\\uFF1B\\u7528 function \\u5427\\uFF0C\\u53C8\\u6CA1\\u6CD5\\u7BA1\\u7406\\u72B6\\u6001\\u3002\\u76F4\\u5230 Hooks \\u7684\\u51FA\\u73B0\\uFF0C\\u8FD9\\u4E2A\\u56F0\\u6270\\u7EC8\\u4E8E\\u5F97\\u5230\\u4E86\\u89E3\\u51B3\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E0D\\u8FC7\\uFF0C\\u5F53\\u6211\\u7B2C\\u4E00\\u6B21\\u770B\\u5230 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useState\"})})})}),\" \\u7684\\u9B54\\u6CD5\\u65F6\\uFF0C\\u7740\\u5B9E\\u88AB\\u9707\\u60CA\\u5230\\u4E86\\uFF1A\\u4E00\\u4E2A\\u666E\\u901A\\u7684\\u51FD\\u6570\\u8C03\\u7528\\uFF0C\\u600E\\u4E48\\u5C31\\u80FD\\u8BB0\\u4F4F\\u72B6\\u6001\\u5462\\uFF1F\\u5982\\u679C\\u4F60\\u4E5F\\u6709\\u7C7B\\u4F3C\\u7684\\u7591\\u60D1\\uFF0C\\u522B\\u62C5\\u5FC3\\uFF0C\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u5C31\\u8981\\u63ED\\u5F00\\u8FD9\\u4E2A\\u9B54\\u6CD5\\u7684\\u9762\\u7EB1\\u3002\\u901A\\u8FC7\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7B80\\u5316\\u7248\\u7684 Hooks \\u7CFB\\u7EDF\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0\\u8FD9\\u80CC\\u540E\\u7684\\u539F\\u7406\\u5176\\u5B9E\\u5F88\\u4F18\\u96C5\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{id:\"react-hooks-\\u7B80\\u4ECB\",children:(0,e.jsx)(n.a,{href:\"#react-hooks-\\u7B80\\u4ECB\",children:\"React Hooks \\u7B80\\u4ECB\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u6B63\\u5F0F\\u52A8\\u624B\\u5B9E\\u73B0\\u4E4B\\u524D\\uFF0C\\u8BA9\\u6211\\u4EEC\\u5148\\u56DE\\u987E\\u4E00\\u4E0B React Hooks \\u7684\\u4E3B\\u8981\\u7C7B\\u578B\\u53CA\\u5176\\u7528\\u9014\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"useState\"}),\"\\uFF1A\\u7528\\u4E8E\\u5728\\u51FD\\u6570\\u7EC4\\u4EF6\\u4E2D\\u58F0\\u660E\\u548C\\u7BA1\\u7406\\u72B6\\u6001\\u53D8\\u91CF\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"useEffect\"}),\"\\uFF1A\\u7528\\u4E8E\\u5904\\u7406\\u526F\\u4F5C\\u7528\\uFF08\\u5982\\u6570\\u636E\\u83B7\\u53D6\\u3001\\u8BA2\\u9605\\u3001\\u624B\\u52A8\\u64CD\\u4F5C DOM \\u7B49\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"useContext\"}),\"\\u3001\",(0,e.jsx)(n.strong,{children:\"useReducer\"}),\"\\u3001\",(0,e.jsx)(n.strong,{children:\"useMemo\"}),\"\\u3001\",(0,e.jsx)(n.strong,{children:\"useCallback\"}),\" \\u7B49\\u5176\\u4ED6\\u8F85\\u52A9 Hook\\uFF0C\\u4E5F\\u90FD\\u9075\\u5FAA\\u7C7B\\u4F3C\\u7684\\u8BBE\\u8BA1\\u7406\\u5FF5\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"Hooks \\u7684\\u6838\\u5FC3\\u601D\\u60F3\\u662F\\uFF1A\\u5728\\u7EC4\\u4EF6\\u6BCF\\u6B21\\u6E32\\u67D3\\u65F6\\uFF0C\\u6309\\u7167\\u8C03\\u7528\\u987A\\u5E8F\\u4FDD\\u5B58\\u548C\\u6062\\u590D\\u72B6\\u6001\\u4E0E\\u526F\\u4F5C\\u7528\\u3002React \\u5185\\u90E8\\u901A\\u8FC7\\u4E00\\u4E2A\\u201CHook \\u94FE\\u201D\\u6765\\u5B9E\\u73B0\\u8FD9\\u4E00\\u70B9\\uFF0C\\u800C\\u8FD9\\u4E5F\\u662F\\u6211\\u4EEC\\u5728\\u5B9E\\u73B0\\u7B80\\u5316\\u7248 Hooks \\u65F6\\u9700\\u8981\\u5173\\u6CE8\\u7684\\u91CD\\u70B9\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u5B9E\\u73B0\\u539F\\u7406\\u6982\\u89C8\",children:(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u73B0\\u539F\\u7406\\u6982\\u89C8\",children:\"\\u5B9E\\u73B0\\u539F\\u7406\\u6982\\u89C8\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728 React \\u5185\\u90E8\\uFF0C\\u6BCF\\u4E2A\\u7EC4\\u4EF6\\u5B9E\\u4F8B\\u90FD\\u6709\\u4E00\\u4E2A\\u4E0E\\u4E4B\\u5173\\u8054\\u7684\\u7ED3\\u6784\\uFF08\\u4F8B\\u5982 fiber\\uFF09\\uFF0C\\u5176\\u4E2D\\u5305\\u542B\\u4E86\\u6240\\u6709 Hook \\u7684\\u72B6\\u6001\\u3002\\u6211\\u4EEC\\u7684\\u7B80\\u5316\\u5B9E\\u73B0\\u5C06\\u91C7\\u7528\\u5168\\u5C40\\u6570\\u7EC4\\u6765\\u6A21\\u62DF\\u8FD9\\u79CD\\u72B6\\u6001\\u5B58\\u50A8\\uFF0C\\u5E76\\u7528\\u4E00\\u4E2A\\u5168\\u5C40\\u7D22\\u5F15\\u6765\\u6807\\u8BB0\\u5F53\\u524D Hook \\u8C03\\u7528\\u7684\\u4F4D\\u7F6E\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u6838\\u5FC3\\u601D\\u8DEF\",children:(0,e.jsx)(n.a,{href:\"#\\u6838\\u5FC3\\u601D\\u8DEF\",children:\"\\u6838\\u5FC3\\u601D\\u8DEF\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u72B6\\u6001\\u5B58\\u50A8\"}),\"\\uFF1A\\u5229\\u7528\\u5168\\u5C40\\u6570\\u7EC4\\u5B58\\u50A8\\u6BCF\\u4E2A Hook \\u7684\\u72B6\\u6001\\u4FE1\\u606F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7D22\\u5F15\\u7BA1\\u7406\"}),\"\\uFF1A\\u6BCF\\u6B21\\u7EC4\\u4EF6\\u6E32\\u67D3\\u524D\\u91CD\\u7F6E\\u7D22\\u5F15\\uFF0C\\u6BCF\\u4E2A Hook \\u8C03\\u7528\\u540E\\u9012\\u589E\\u7D22\\u5F15\\uFF0C\\u4FDD\\u8BC1\\u8C03\\u7528\\u987A\\u5E8F\\u4E00\\u81F4\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u66F4\\u65B0\\u673A\\u5236\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"setState\"})})})}),\" \\u66F4\\u65B0\\u72B6\\u6001\\u540E\\u91CD\\u65B0\\u89E6\\u53D1\\u7EC4\\u4EF6\\u6E32\\u67D3\\uFF0C\\u6A21\\u62DF React \\u7684\\u66F4\\u65B0\\u6D41\\u7A0B\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E0B\\u9762\\u662F\\u4E00\\u4E2A\\u7B80\\u5316\\u7248\\u7684\\u72B6\\u6001\\u7BA1\\u7406\\u4F2A\\u4EE3\\u7801\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" hookIndex \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" hooks \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" renderComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"Component\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  hookIndex \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" Component\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"initialValue\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" currentIndex\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" hookIndex;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u521D\\u59CB\\u5316\\u72B6\\u6001\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (hooks[currentIndex] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    hooks[currentIndex] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" initialValue;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u5B9A\\u4E49\\u66F4\\u65B0\\u51FD\\u6570\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"newValue\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    hooks[currentIndex] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" newValue;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u89E6\\u53D1\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"    renderComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(App);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  hookIndex\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [hooks[currentIndex], setState];\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u8BE5\\u793A\\u4F8B\\u5C55\\u793A\\u4E86 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useState\"})})})}),\" \\u7684\\u57FA\\u672C\\u539F\\u7406\\uFF1A\\u72B6\\u6001\\u5B58\\u50A8\\u3001\\u7D22\\u5F15\\u7BA1\\u7406\\u4E0E\\u66F4\\u65B0\\u89E6\\u53D1\\u3002\\u5B9E\\u9645 React \\u5B9E\\u73B0\\u4E2D\\uFF0C\\u8FD9\\u90E8\\u5206\\u903B\\u8F91\\u4F1A\\u66F4\\u590D\\u6742\\uFF0C\\u6D89\\u53CA\\u8C03\\u5EA6\\u5668\\u3001\\u6279\\u91CF\\u66F4\\u65B0\\u3001\\u9519\\u8BEF\\u8FB9\\u754C\\u7B49\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u4ECE\\u96F6\\u5B9E\\u73B0-usestate\",children:(0,e.jsx)(n.a,{href:\"#\\u4ECE\\u96F6\\u5B9E\\u73B0-usestate\",children:\"\\u4ECE\\u96F6\\u5B9E\\u73B0 useState\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u8BE6\\u7EC6\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7B80\\u5316\\u7248\\u7684 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useState\"})})})}),\"\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u8BBE\\u8BA1\\u601D\\u8DEF\",children:(0,e.jsx)(n.a,{href:\"#\\u8BBE\\u8BA1\\u601D\\u8DEF\",children:\"\\u8BBE\\u8BA1\\u601D\\u8DEF\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u6211\\u4EEC\\u5728\\u73A9\\u4E00\\u4E2A\\u5361\\u7247\\u6E38\\u620F\\uFF0C\\u6BCF\\u5F20\\u5361\\u7247\\u4EE3\\u8868\\u4E00\\u4E2A\\u72B6\\u6001\\u3002\\u6211\\u4EEC\\u9700\\u8981\\u4E00\\u4E2A\\u76D2\\u5B50\\uFF08\\u5168\\u5C40\\u72B6\\u6001\\u6570\\u7EC4\\uFF09\\u6765\\u5B58\\u653E\\u8FD9\\u4E9B\\u5361\\u7247\\uFF0C\\u8FD8\\u9700\\u8981\\u4E00\\u4E2A\\u6807\\u8BB0\\uFF08\\u5168\\u5C40\\u7D22\\u5F15\\uFF09\\u6765\\u8BB0\\u4F4F\\u6211\\u4EEC\\u770B\\u5230\\u4E86\\u54EA\\u5F20\\u5361\\u7247\\uFF0C\\u4EE5\\u53CA\\u4E00\\u4E2A\\u9B54\\u6CD5\\u68D2\\uFF08setState \\u51FD\\u6570\\uFF09\\u6765\\u6539\\u53D8\\u5361\\u7247\\u7684\\u5185\\u5BB9\\u3002\\u5177\\u4F53\\u6765\\u8BF4\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5168\\u5C40\\u72B6\\u6001\\u6570\\u7EC4\"}),\"\\uFF1A\\u5C31\\u50CF\\u4E00\\u4E2A\\u6574\\u9F50\\u7684\\u5361\\u7247\\u76D2\\uFF0C\\u6BCF\\u4E2A\\u683C\\u5B50\\u5B58\\u653E\\u4E00\\u4E2A\\u72B6\\u6001\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5168\\u5C40\\u7D22\\u5F15\"}),\"\\uFF1A\\u76F8\\u5F53\\u4E8E\\u6211\\u4EEC\\u7684\\u624B\\u6307\\uFF0C\\u6307\\u5411\\u5F53\\u524D\\u6B63\\u5728\\u67E5\\u770B\\u7684\\u5361\\u7247\\u4F4D\\u7F6E\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"setState \\u51FD\\u6570\"}),\"\\uFF1A\\u5C31\\u50CF\\u9B54\\u6CD5\\u68D2\\u4E00\\u6837\\uFF0C\\u53EF\\u4EE5\\u6539\\u53D8\\u5361\\u7247\\u5185\\u5BB9\\uFF0C\\u5E76\\u8BA9\\u6574\\u4E2A\\u6E38\\u620F\\u91CD\\u65B0\\u5F00\\u59CB\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u5B9E\\u73B0\\u4EE3\\u7801\",children:(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u73B0\\u4EE3\\u7801\",children:\"\\u5B9E\\u73B0\\u4EE3\\u7801\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" hookIndex \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" hooks \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" render\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"Component\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  hookIndex \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" Component\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"initialValue\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" currentIndex\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" hookIndex;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u5982\\u679C\\u5F53\\u524D Hook \\u672A\\u521D\\u59CB\\u5316\\uFF0C\\u8BBE\\u7F6E\\u4E3A\\u521D\\u59CB\\u503C\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (hooks[currentIndex] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    hooks[currentIndex] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" initialValue;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u5B9A\\u4E49\\u66F4\\u65B0\\u72B6\\u6001\\u7684\\u51FD\\u6570\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setState\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"newValue\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    hooks[currentIndex] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" newValue;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u91CD\\u65B0\\u6E32\\u67D3\\u7EC4\\u4EF6\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"    render\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(App);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  hookIndex\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [hooks[currentIndex], setState];\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u793A\\u4F8B\\u7EC4\\u4EF6\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"render: count =\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", count);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"    click\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF\\u7528\\u6237\\u70B9\\u51FB\\u4E8B\\u4EF6\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" appInstance\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" render\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(App);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"appInstance.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"click\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6B64\\u65F6 count \\u66F4\\u65B0\\u4E3A 1\"})]})]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u8FF0\\u4EE3\\u7801\\u5C55\\u793A\\u4E86 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useState\"})})})}),\" \\u7684\\u6838\\u5FC3\\u5B9E\\u73B0\\u601D\\u8DEF\\u3002\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u5728\\u771F\\u5B9E\\u7684 React \\u4E2D\\uFF0C\\u6BCF\\u4E2A\\u7EC4\\u4EF6\\u5B9E\\u4F8B\\u4F1A\\u62E5\\u6709\\u72EC\\u7ACB\\u7684 Hook \\u72B6\\u6001\\uFF0C\\u800C\\u4E0D\\u662F\\u4F7F\\u7528\\u5168\\u5C40\\u6570\\u7EC4\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u5B9E\\u73B0-useeffect\",children:(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u73B0-useeffect\",children:\"\\u5B9E\\u73B0 useEffect\"})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useEffect\"})})})}),\" \\u4E3B\\u8981\\u7528\\u4E8E\\u5904\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u5176\\u5B9E\\u73B0\\u9700\\u8981\\u8003\\u8651\\u4F9D\\u8D56\\u9879\\u6BD4\\u5BF9\\u548C\\u6E05\\u7406\\u51FD\\u6570\\u7684\\u8C03\\u7528\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u8BBE\\u8BA1\\u601D\\u8DEF-1\",children:(0,e.jsx)(n.a,{href:\"#\\u8BBE\\u8BA1\\u601D\\u8DEF-1\",children:\"\\u8BBE\\u8BA1\\u601D\\u8DEF\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5B58\\u50A8\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\\u4E0E\\u72B6\\u6001\\u7C7B\\u4F3C\\uFF0C\\u6240\\u6709\\u526F\\u4F5C\\u7528\\u4E5F\\u5B58\\u50A8\\u5728\\u4E00\\u4E2A\\u5168\\u5C40\\u6570\\u7EC4\\u4E2D\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F9D\\u8D56\\u6BD4\\u5BF9\"}),\"\\uFF1A\\u6BCF\\u6B21\\u6E32\\u67D3\\u65F6\\uFF0C\\u6839\\u636E\\u4F9D\\u8D56\\u6570\\u7EC4\\u5224\\u65AD\\u662F\\u5426\\u9700\\u8981\\u91CD\\u65B0\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u51FD\\u6570\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6E05\\u7406\\u51FD\\u6570\"}),\"\\uFF1A\\u5728\\u91CD\\u65B0\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u524D\\uFF0C\\u8C03\\u7528\\u4E4B\\u524D\\u526F\\u4F5C\\u7528\\u8FD4\\u56DE\\u7684\\u6E05\\u7406\\u51FD\\u6570\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u5B9E\\u73B0\\u4EE3\\u7801-1\",children:(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u73B0\\u4EE3\\u7801-1\",children:\"\\u5B9E\\u73B0\\u4EE3\\u7801\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" effectIndex \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" effects \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useEffect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"effect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"deps\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" currentIndex\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" effectIndex;\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" oldDeps\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" effects[currentIndex]\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    ?\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" effects[currentIndex].deps\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    :\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" hasChanged \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u5982\\u679C\\u6709\\u65E7\\u7684\\u4F9D\\u8D56\\u9879\\uFF0C\\u5219\\u8FDB\\u884C\\u6BD4\\u5BF9\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (oldDeps) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    hasChanged \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" deps.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"some\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"dep\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"Object.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"is\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(dep, oldDeps[i]));\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u4F9D\\u8D56\\u9879\\u6709\\u53D8\\u5316\\u5219\\u6267\\u884C effect\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (hasChanged) {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u5982\\u679C\\u5B58\\u5728\\u4E0A\\u4E00\\u6B21\\u7684\\u6E05\\u7406\\u51FD\\u6570\\uFF0C\\u5219\\u8C03\\u7528\\u5B83\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (effects[currentIndex] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" effects[currentIndex].cleanup) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      effects[currentIndex].\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"cleanup\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" cleanup\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" effect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    effects[currentIndex] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { deps, cleanup };\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  effectIndex\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u540C\\u6837\\uFF0C\\u6BCF\\u6B21\\u7EC4\\u4EF6\\u6E32\\u67D3\\u524D\\uFF0C\\u9700\\u8981\\u91CD\\u7F6E \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"effectIndex\"})})})}),\"\\uFF0C\\u4EE5\\u786E\\u4FDD Hook \\u8C03\\u7528\\u7684\\u987A\\u5E8F\\u4E0E\\u4F9D\\u8D56\\u9879\\u5B58\\u50A8\\u4FDD\\u6301\\u4E00\\u81F4\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u81EA\\u5B9A\\u4E49-hook-\\u7684\\u5B9E\\u73B0\",children:(0,e.jsx)(n.a,{href:\"#\\u81EA\\u5B9A\\u4E49-hook-\\u7684\\u5B9E\\u73B0\",children:\"\\u81EA\\u5B9A\\u4E49 Hook \\u7684\\u5B9E\\u73B0\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u81EA\\u5B9A\\u4E49 Hook \\u5C31\\u662F\\u5C06\\u591A\\u4E2A\\u5185\\u7F6E Hook \\u5C01\\u88C5\\u5728\\u4E00\\u8D77\\uFF0C\\u5F62\\u6210\\u4E00\\u4E2A\\u590D\\u7528\\u903B\\u8F91\\u7684\\u51FD\\u6570\\u3002\\u7531\\u4E8E\\u6211\\u4EEC\\u7684 Hooks \\u5B9E\\u73B0\\u4F9D\\u8D56\\u4E8E\\u8C03\\u7528\\u987A\\u5E8F\\uFF0C\\u81EA\\u5B9A\\u4E49 Hook \\u4E0E\\u666E\\u901A\\u51FD\\u6570\\u6CA1\\u6709\\u672C\\u8D28\\u533A\\u522B\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u793A\\u4F8B\\u5B9E\\u73B0\\u81EA\\u5B9A\\u4E49\\u8BA1\\u6570\\u5668-hook\",children:(0,e.jsx)(n.a,{href:\"#\\u793A\\u4F8B\\u5B9E\\u73B0\\u81EA\\u5B9A\\u4E49\\u8BA1\\u6570\\u5668-hook\",children:\"\\u793A\\u4F8B\\uFF1A\\u5B9E\\u73B0\\u81EA\\u5B9A\\u4E49\\u8BA1\\u6570\\u5668 Hook\"})}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useCounter\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"initialValue\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(initialValue);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" increment\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" decrement\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { count, increment, decrement };\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"increment\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"decrement\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useCounter\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"render: count =\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", count);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    increment,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    decrement,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" appInstance\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" render\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(App);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"appInstance.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"increment\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u8C03\\u7528 increment \\u66F4\\u65B0 count\"})]})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u901A\\u8FC7\\u81EA\\u5B9A\\u4E49 Hook\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5C06\\u7EC4\\u4EF6\\u4E2D\\u590D\\u6742\\u7684\\u72B6\\u6001\\u903B\\u8F91\\u5C01\\u88C5\\u8D77\\u6765\\uFF0C\\u63D0\\u5347\\u4EE3\\u7801\\u590D\\u7528\\u6027\\u4E0E\\u53EF\\u7EF4\\u62A4\\u6027\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u5B9E\\u6218\\u7ECF\\u9A8C\\u4E0E\\u8E29\\u5751\\u6307\\u5357\",children:(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u6218\\u7ECF\\u9A8C\\u4E0E\\u8E29\\u5751\\u6307\\u5357\",children:\"\\u5B9E\\u6218\\u7ECF\\u9A8C\\u4E0E\\u8E29\\u5751\\u6307\\u5357\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\uFF0C\\u6211\\u9047\\u5230\\u8FC7\\u4E0D\\u5C11\\u4E0E Hooks \\u76F8\\u5173\\u7684\\u95EE\\u9898\\uFF0C\\u8FD9\\u91CC\\u5206\\u4EAB\\u4E00\\u4E9B\\u7ECF\\u9A8C\\u6559\\u8BAD\\uFF1A\"}),`\n`,(0,e.jsx)(n.h3,{id:\"1-hook-\\u8C03\\u7528\\u987A\\u5E8F\\u7684\\u9677\\u9631\",children:(0,e.jsx)(n.a,{href:\"#1-hook-\\u8C03\\u7528\\u987A\\u5E8F\\u7684\\u9677\\u9631\",children:\"1. Hook \\u8C03\\u7528\\u987A\\u5E8F\\u7684\\u9677\\u9631\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u66FE\\u7ECF\\u6211\\u5728\\u4E00\\u4E2A\\u6761\\u4EF6\\u6E32\\u67D3\\u4E2D\\u4F7F\\u7528\\u4E86 Hook\\uFF0C\\u7ED3\\u679C\\u5BFC\\u81F4\\u5E94\\u7528\\u51FA\\u73B0\\u4E86\\u8BE1\\u5F02\\u7684\\u72B6\\u6001\\u6DF7\\u4E71\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" BadComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (someCondition) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"state\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u{1F6AB} \\u4E0D\\u8981\\u8FD9\\u6837\\u505A\\uFF01\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u5C31\\u50CF\\u5728\\u73A9\\u7EB8\\u724C\\u6E38\\u620F\\u65F6\\uFF0C\\u7A81\\u7136\\u8DF3\\u8FC7\\u4E86\\u67D0\\u51E0\\u5F20\\u724C\\uFF0C\\u5BFC\\u81F4\\u6574\\u4E2A\\u6E38\\u620F\\u79E9\\u5E8F\\u6DF7\\u4E71\\u3002\\u6B63\\u786E\\u7684\\u505A\\u6CD5\\u662F\\uFF1A\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" GoodComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"state\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (someCondition) {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u4F7F\\u7528 state\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(n.h3,{id:\"2-\\u72B6\\u6001\\u9694\\u79BB\\u7684\\u827A\\u672F\",children:(0,e.jsx)(n.a,{href:\"#2-\\u72B6\\u6001\\u9694\\u79BB\\u7684\\u827A\\u672F\",children:\"2. \\u72B6\\u6001\\u9694\\u79BB\\u7684\\u827A\\u672F\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u4E00\\u4E2A\\u5927\\u578B\\u9879\\u76EE\\u4E2D\\uFF0C\\u6211\\u4EEC\\u9047\\u5230\\u4E86\\u591A\\u4E2A\\u7EC4\\u4EF6\\u72B6\\u6001\\u4E92\\u76F8\\u5E72\\u6270\\u7684\\u95EE\\u9898\\u3002\\u8FD9\\u5C31\\u50CF\\u591A\\u4E2A\\u73A9\\u5BB6\\u5728\\u73A9\\u540C\\u4E00\\u526F\\u724C\\uFF0C\\u4F46\\u6BCF\\u4E2A\\u4EBA\\u90FD\\u60F3\\u6309\\u81EA\\u5DF1\\u7684\\u89C4\\u5219\\u73A9\\u3002\\u89E3\\u51B3\\u65B9\\u6848\\u662F\\u4E3A\\u6BCF\\u4E2A\\u7EC4\\u4EF6\\u521B\\u5EFA\\u72EC\\u7ACB\\u7684\\u72B6\\u6001\\u7A7A\\u95F4\\uFF0C\\u8FD9\\u4E5F\\u662F React Fiber \\u67B6\\u6784\\u7684\\u7CBE\\u5999\\u4E4B\\u5904\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"3-\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u667A\\u6167\",children:(0,e.jsx)(n.a,{href:\"#3-\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u667A\\u6167\",children:\"3. \\u6027\\u80FD\\u4F18\\u5316\\u7684\\u667A\\u6167\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u4E00\\u4E2A\\u5B9E\\u65F6\\u6570\\u636E\\u5C55\\u793A\\u754C\\u9762\\u4E2D\\uFF0C\\u6211\\u53D1\\u73B0\\u8FC7\\u5EA6\\u4F7F\\u7528 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useEffect\"})})})}),\" \\u5BFC\\u81F4\\u6027\\u80FD\\u4E0B\\u964D\\u3002\\u901A\\u8FC7\\u5408\\u7406\\u8BBE\\u7F6E\\u4F9D\\u8D56\\u9879\\uFF0C\\u6211\\u4EEC\\u5C06\\u6E32\\u67D3\\u6027\\u80FD\\u63D0\\u5347\\u4E86\\u8FD1 50%\\uFF1A\"]}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4F18\\u5316\\u524D\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u4E00\\u4E9B\\u590D\\u6742\\u8BA1\\u7B97\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u6CA1\\u6709\\u4F9D\\u8D56\\u9879\\u6570\\u7EC4\\uFF0C\\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4F1A\\u6267\\u884C\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4F18\\u5316\\u540E\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u4E00\\u4E9B\\u590D\\u6742\\u8BA1\\u7B97\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}, [relevantData]); \"}),(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u53EA\\u5728 relevantData \\u53D8\\u5316\\u65F6\\u6267\\u884C\"})]})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u771F\\u5B9E\\u7684 React \\u5B9E\\u73B0\\u4E2D\\uFF0C\\u901A\\u8FC7 Fiber \\u67B6\\u6784\\u548C\\u8C03\\u5EA6\\u5668\\uFF0CReact \\u5DF2\\u7ECF\\u89E3\\u51B3\\u4E86\\u4E0A\\u8FF0\\u95EE\\u9898\\u3002\\u800C\\u6211\\u4EEC\\u8FD9\\u4E2A\\u7B80\\u5316\\u7248\\u793A\\u4F8B\\u5219\\u66F4\\u591A\\u5730\\u7528\\u4E8E\\u7406\\u89E3\\u5176\\u57FA\\u672C\\u539F\\u7406\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u603B\\u7ED3\",children:(0,e.jsx)(n.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u672C\\u6587\\u8BE6\\u7EC6\\u8BB2\\u89E3\\u4E86\\u5982\\u4F55\\u4ECE\\u96F6\\u5F00\\u59CB\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7B80\\u5316\\u7248\\u7684 React Hooks \\u7CFB\\u7EDF\\uFF0C\\u6DB5\\u76D6\\u4E86 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useState\"})})})}),\" \\u548C \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useEffect\"})})})}),\" \\u7684\\u57FA\\u672C\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u4EE5\\u53CA\\u5982\\u4F55\\u5229\\u7528\\u8FD9\\u4E9B\\u5185\\u7F6E Hook \\u521B\\u5EFA\\u81EA\\u5B9A\\u4E49 Hook\\u3002\\u867D\\u7136\\u6211\\u4EEC\\u7684\\u5B9E\\u73B0\\u4E0E React \\u5185\\u90E8\\u673A\\u5236\\u76F8\\u6BD4\\u8FC7\\u4E8E\\u7B80\\u5316\\uFF0C\\u4F46\\u5B83\\u6E05\\u6670\\u5730\\u5C55\\u793A\\u4E86 Hooks \\u7684\\u6838\\u5FC3\\u601D\\u60F3\\u548C\\u5B9E\\u73B0\\u903B\\u8F91\\u3002\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7406\\u89E3\\u8FD9\\u4E9B\\u57FA\\u7840\\u673A\\u5236\\uFF0C\\u4E0D\\u4EC5\\u6709\\u52A9\\u4E8E\\u66F4\\u6DF1\\u5165\\u5730\\u638C\\u63E1 React\\uFF0C\\u4E5F\\u80FD\\u4E3A\\u4F60\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u4F18\\u5316\\u72B6\\u6001\\u7BA1\\u7406\\u548C\\u526F\\u4F5C\\u7528\\u5904\\u7406\\u63D0\\u4F9B\\u601D\\u8DEF\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u535A\\u5BA2\\u80FD\\u6FC0\\u53D1\\u4F60\\u5BF9\\u524D\\u7AEF\\u5E95\\u5C42\\u5B9E\\u73B0\\u673A\\u5236\\u7684\\u5174\\u8DA3\\uFF0C\\u5E76\\u5E2E\\u52A9\\u4F60\\u5199\\u51FA\\u66F4\\u5065\\u58EE\\u7684\\u4EE3\\u7801\\uFF01\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4EE5\\u4E0A\\u5C31\\u662F\\u300A\\u4ECE\\u96F6\\u5B9E\\u73B0 React Hooks\\u300B\\u7684\\u5B8C\\u6574\\u5185\\u5BB9\\uFF0C\\u611F\\u8C22\\u9605\\u8BFB\\uFF01\"})]})}function h(l={}){let{wrapper:n}=l.components||{};return n?(0,e.jsx)(n,{...l,children:(0,e.jsx)(i,{...l})}):i(l)}return B(x);})();\n;return Component;"
  },
  "_id": "React/Implementing-Hooks .mdx",
  "_raw": {
    "sourceFilePath": "React/Implementing-Hooks .mdx",
    "sourceFileName": "Implementing-Hooks .mdx",
    "sourceFileDir": "React",
    "contentType": "mdx",
    "flattenedPath": "React/Implementing-Hooks "
  },
  "type": "Post",
  "url": "/blog/React/Implementing-Hooks "
}
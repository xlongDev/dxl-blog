{
  "title": "Server-Sent Events (SSE)ï¼šå®žæ—¶Webé€šä¿¡çš„é©å‘½",
  "date": "2023-09-21T00:00:00.000Z",
  "description": "æ·±å…¥æŽ¢ç´¢ Server-Sent Events (SSE) çš„åŽŸç†ã€åº”ç”¨åœºæ™¯å’Œæœ€ä½³å®žè·µï¼Œå¸¦ä½ è§£é”å®žæ—¶ Web é€šä¿¡çš„ç§˜å¯†æ­¦å™¨ã€‚",
  "keywords": "Server-Sent Events, SSE, å®žæ—¶é€šä¿¡, Web å¼€å‘, å‰ç«¯æŠ€æœ¯, EventSource, HTTP, æŽ¨é€æŠ€æœ¯",
  "author": "æ™“é¾™",
  "image": "/images/hero/sse-revolution.jpg",
  "tags": [
    "Web å¼€å‘",
    "å®žæ—¶é€šä¿¡",
    "å‰ç«¯æŠ€æœ¯"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\næƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªå®žæ—¶è‚¡ç¥¨ä»·æ ¼ä»ªè¡¨ç›˜ï¼Œæˆ–è€…ä¸€ä¸ªèŠå¤©åº”ç”¨ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªåŠ¨æ€é€šçŸ¥ç³»ç»Ÿã€‚ä½ éœ€è¦æœåŠ¡å™¨ä¸»åŠ¨æŠŠæœ€æ–°æ•°æ®æŽ¨é€ç»™æµè§ˆå™¨ï¼Œè€Œä¸æ˜¯è®©å‰ç«¯åƒä¸ªç„¦è™‘çš„å°ç‹—ðŸ¶ï¼Œä¸åœåœ°è½®è¯¢ APIï¼Œç¥ˆç¥·æœåŠ¡å™¨å¤§å‘æ…ˆæ‚²è¿”å›žç‚¹æ–°é²œä¸œè¥¿ã€‚WebSocketï¼Ÿå½“ç„¶æ˜¯ä¸ªé€‰æ‹©ï¼Œä½†å®ƒåƒä¸ªåŒå‘é«˜é€Ÿå…¬è·¯ï¼Œå¤æ‚ä¸”èµ„æºå¯†é›†ã€‚å¦‚æžœä½ åªéœ€è¦å•å‘çš„æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„æ•°æ®æµï¼Œé‚£ Server-Sent Events (SSE) å¯èƒ½æ˜¯ä½ ä¸€ç›´åœ¨å¯»æ‰¾çš„é‚£æŠŠâ€œç®€å•åˆä¼˜é›…â€çš„é’¥åŒ™ðŸ”‘ã€‚\n\nä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ç¬¬ä¸€æ¬¡æŽ¥è§¦ SSE æ—¶ï¼Œæ„Ÿè§‰åƒæ˜¯å‘çŽ°äº†è—åœ¨ HTTP åè®®é‡Œçš„å½©è›‹â€”â€”å®ƒè½»é‡ã€åŽŸç”Ÿæ”¯æŒã€åŸºäºŽæ–‡æœ¬ï¼Œè¿˜èƒ½å¤ç”¨çŽ°æœ‰çš„ HTTP åŸºç¡€è®¾æ–½ã€‚ä»Šå¤©ï¼Œå’±ä»¬å°±æ¥æ·±åº¦å‰–æž SSEï¼Œä»Žå®ƒçš„æ ¸å¿ƒåŽŸç†åˆ°å®žé™…åº”ç”¨ï¼Œå†åˆ°ä¸€äº›è®©äººæ‹å¤§è…¿çš„æœ€ä½³å®žè·µï¼Œä¸€æ­¥æ­¥è§£é”å®ƒçš„é­…åŠ›ã€‚\n\n## ä»€ä¹ˆæ˜¯ Server-Sent Events (SSE)ï¼Ÿ\n\nServer-Sent Eventsï¼Œç®€ç§° SSEï¼Œæ˜¯ HTML5 æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼ŒåŸºäºŽ HTTP åè®®ï¼Œå…è®¸æœåŠ¡å™¨ä¸»åŠ¨å‘æµè§ˆå™¨æŽ¨é€å®žæ—¶æ›´æ–°ã€‚å®ƒé€šè¿‡ä¸€ä¸ªæŒä¹…åŒ–çš„è¿žæŽ¥ï¼Œè®©æœåŠ¡å™¨å¯ä»¥æºæºä¸æ–­åœ°å‘é€äº‹ä»¶æµï¼ˆEvent Streamï¼‰ç»™å®¢æˆ·ç«¯ï¼Œè€Œå®¢æˆ·ç«¯åªéœ€è¦é™é™åœ°å¬ç€ï¼Œåƒä¸ªä¹–å·§çš„å¬ä¼—ðŸ‘‚ã€‚\n\n### SSE vs. WebSocket vs. é•¿è½®è¯¢ï¼šä¸€åœºç®€çŸ­çš„â€œæ“‚å°èµ›â€\n\nåœ¨èŠ SSE çš„åŽŸç†ä¹‹å‰ï¼Œå’±ä»¬å…ˆæŠŠæˆ˜åœºä¸Šçš„å‡ ä¸ªé€‰æ‰‹æ‹‰å‡ºæ¥é›é›ï¼š\n\n- **é•¿è½®è¯¢ï¼ˆLong Pollingï¼‰**ï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨â€œå‡è£…æ€è€ƒâ€ç›´åˆ°æœ‰æ–°æ•°æ®æ‰è¿”å›žã€‚å°±åƒä½ ç‚¹å¤–å–ï¼Œéª‘æ‰‹è¿Ÿè¿Ÿä¸é€ï¼Œä½ è¿˜å¾—ä¸€ç›´æ‰“ç”µè¯å‚¬å•ðŸ“žï¼Œæ•ˆçŽ‡ä½Žå¾—è®©äººæŠ“ç‹‚ã€‚\n- **WebSocket**ï¼šåŒå‘é€šä¿¡çš„çŽ‹è€…ï¼Œåƒæ˜¯ä¸€æ¡é«˜é€ŸåŒè½¦é“ï¼Œé€‚åˆéœ€è¦é¢‘ç¹äº’åŠ¨çš„åœºæ™¯ï¼ˆæ¯”å¦‚åœ¨çº¿æ¸¸æˆï¼‰ã€‚ä½†æž¶è®¾æˆæœ¬é«˜ï¼Œåè®®å¤æ‚ï¼Œåƒè¯·äº†ä¸ªäº”æ˜Ÿå¤§åŽ¨åšé¡¿ä¾¿é¥­â€”â€”æœ‰ç‚¹æ€é¸¡ç”¨ç‰›åˆ€ã€‚\n- **SSE**ï¼šå•å‘æŽ¨é€ï¼ŒæœåŠ¡å™¨åƒä¸ªå¹¿æ’­ç”µå°ðŸŽ™ï¸ï¼Œå®¢æˆ·ç«¯åªéœ€è¦è°ƒå¥½é¢‘çŽ‡æ”¶å¬ã€‚è½»é‡ã€ç®€å•ï¼Œè¿˜èƒ½åˆ©ç”¨ HTTP/2 çš„å¤šè·¯å¤ç”¨ï¼Œå ªç§°â€œä½Žè°ƒçš„å®žåŠ›æ´¾â€ã€‚\n\nSSE çš„æ€æ‰‹é”åœ¨äºŽï¼šå®ƒåŸºäºŽæ™®é€šçš„ HTTP è¯·æ±‚ï¼ˆä¸éœ€è¦é¢å¤–çš„åè®®æ¡æ‰‹ï¼‰ï¼Œå¤©ç„¶æ”¯æŒæµè§ˆå™¨çš„é‡è¿žæœºåˆ¶ï¼Œè€Œä¸”éƒ¨ç½²èµ·æ¥æ¯” WebSocket çœå¿ƒå¾—å¤šã€‚å¥½äº†ï¼Œé€‰æ‰‹ä»‹ç»å®Œæ¯•ï¼ŒæŽ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜â€”â€”SSE çš„å·¥ä½œåŽŸç†ã€‚\n\n## SSE çš„æ ¸å¿ƒåŽŸç†ï¼šä»Ž HTTP åˆ°äº‹ä»¶æµ\n\nSSE çš„é­”æ³•å…¶å®žå¹¶ä¸å¤æ‚ï¼Œå®ƒåˆ©ç”¨äº† HTTP çš„ `text/event-stream` å†…å®¹ç±»åž‹ã€‚å®¢æˆ·ç«¯é€šè¿‡ `EventSource` API ä¸ŽæœåŠ¡å™¨å»ºç«‹è¿žæŽ¥ï¼ŒæœåŠ¡å™¨åˆ™é€šè¿‡ä¸€ä¸ªæŒä¹…åŒ–çš„å“åº”æµï¼Œä¸æ–­æŽ¨é€æ•°æ®ã€‚å¬èµ·æ¥å¾ˆç®€å•ï¼Ÿè®©æˆ‘ä»¬æ‹†è§£ä¸€ä¸‹è¿™èƒŒåŽçš„â€œé­”æ³•ä¸‰æ­¥éª¤â€ï¼š\n\n### 1. å®¢æˆ·ç«¯ï¼šEventSource çš„ç™»åœº\n\nåœ¨æµè§ˆå™¨ç«¯ï¼ŒSSE çš„ä¸»è§’æ˜¯ `EventSource` å¯¹è±¡ã€‚ä»£ç é•¿è¿™æ ·ï¼š\n\n```javascript\nconst source = new EventSource('/events');\nsource.onmessage = (event) => {\n  console.log('æ”¶åˆ°æ–°æ¶ˆæ¯å•¦ï¼š', event.data);\n};\n```\n\nè¿™é‡Œï¼Œ`/events` æ˜¯æœåŠ¡å™¨æä¾›çš„äº‹ä»¶æµç«¯ç‚¹ã€‚`EventSource` ä¼šå‘èµ·ä¸€ä¸ªæ™®é€šçš„ HTTP GET è¯·æ±‚ï¼Œå¸¦ç€ `Accept: text/event-stream` çš„å¤´ï¼Œåƒæ˜¯åœ¨è¯´ï¼šâ€œå˜¿ï¼ŒæœåŠ¡å™¨ï¼Œæˆ‘è¦å¬å¹¿æ’­ï¼Œèµ¶ç´§å¼€å§‹å§ï¼â€\n\n### 2. æœåŠ¡å™¨ï¼šäº‹ä»¶æµçš„â€œå¹¿æ’­å‘˜â€\n\næœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åŽï¼Œå“åº”å¤´ä¼šè®¾ç½®ä¸ºï¼š\n\n```\nContent-Type: text/event-stream\nCache-Control: no-cache\nConnection: keep-alive\n```\n\nç„¶åŽï¼Œå®ƒå¼€å§‹å‘é€æ ¼å¼åŒ–çš„æ–‡æœ¬æ•°æ®ã€‚SSE çš„æ•°æ®æ ¼å¼éžå¸¸ç®€å•ï¼Œåƒæžäº†â€œç¨‹åºå‘˜ç‰ˆçš„ä¾¿ç­¾çº¸â€ï¼š\n\n```\ndata: è¿™æ˜¯ç¬¬ä¸€æ¡æ¶ˆæ¯\\n\\n\ndata: è¿™æ˜¯ç¬¬äºŒæ¡æ¶ˆæ¯\\n\\n\n```\n\næ¯ä¸€å—æ•°æ®ä»¥ `data:` å¼€å¤´ï¼ŒåŽè·Ÿå…·ä½“å†…å®¹ï¼Œç”¨ä¸¤ä¸ªæ¢è¡Œç¬¦ `\\n\\n` åˆ†éš”ã€‚æœåŠ¡å™¨å¯ä»¥éšæ—¶æŽ¨é€æ–°æ•°æ®ï¼Œè¿žæŽ¥ä¸æ–­å¼€ï¼Œå®¢æˆ·ç«¯å°±èƒ½å®žæ—¶æŽ¥æ”¶ã€‚\n\n### 3. äº‹ä»¶ç›‘å¬ä¸Žè§£æž\n\nå®¢æˆ·ç«¯é€šè¿‡ `EventSource` çš„ä¸‰ä¸ªä¸»è¦äº‹ä»¶ç›‘å¬å™¨æ¥å¤„ç†æ•°æ®ï¼š\n\n- `onopen`ï¼šè¿žæŽ¥å»ºç«‹æ—¶è§¦å‘ã€‚\n- `onmessage`ï¼šæ”¶åˆ°æ™®é€šæ¶ˆæ¯æ—¶è§¦å‘ã€‚\n- `onerror`ï¼šè¿žæŽ¥å‡ºé”™æ—¶è§¦å‘ï¼ˆæ¯”å¦‚ç½‘ç»œæ–­å¼€ï¼‰ã€‚\n\nå¦‚æžœæœåŠ¡å™¨æƒ³å‘é€å¸¦ç±»åž‹çš„äº‹ä»¶ï¼Œè¿˜å¯ä»¥åŠ ä¸Š `event:` å­—æ®µï¼Œæ¯”å¦‚ï¼š\n\n```\nevent: stock-update\ndata: {\"symbol\": \"AAPL\", \"price\": 175.23}\n```\n\nå®¢æˆ·ç«¯å¯ä»¥ç›‘å¬ç‰¹å®šäº‹ä»¶ï¼š\n\n```javascript\nsource.addEventListener('stock-update', (event) => {\n  const data = JSON.parse(event.data);\n  console.log(`è‚¡ç¥¨ ${data.symbol} æ›´æ–°ä»·æ ¼ï¼š${data.price}`);\n});\n```\n\nè¿™å°±æ˜¯ SSE çš„åŸºæœ¬å·¥ä½œæµï¼šç®€å•åˆ°è®©äººæƒ³ç»™å®ƒé¼“æŽŒðŸ‘ï¼Œä½†åŠŸèƒ½å¼ºå¤§åˆ°è¶³ä»¥æ”¯æ’‘æ— æ•°å®žæ—¶åœºæ™¯ã€‚\n\n## SSE çš„ä¼˜åŠ¿ï¼šä¸ºä»€ä¹ˆå®ƒå€¼å¾—ä½ å…³æ³¨ï¼Ÿ\n\nSSE ä¸æ˜¯ä»€ä¹ˆâ€œæ–°æ½®çŽ©æ„å„¿â€ï¼Œä½†å®ƒä½Žè°ƒçš„å®žåŠ›è®©äººæ— æ³•å¿½è§†ã€‚ä»¥ä¸‹æ˜¯æˆ‘æ€»ç»“çš„å‡ ä¸ªäº®ç‚¹ï¼š\n\n1. **è½»é‡çº§**ï¼šä¸éœ€è¦é¢å¤–çš„åè®®æ ˆï¼ŒHTTP è‡ªå¸¦çš„ `keep-alive` å°±å¤Ÿç”¨äº†ã€‚\n2. **æµè§ˆå™¨åŽŸç”Ÿæ”¯æŒ**ï¼šæ— éœ€å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œ`EventSource` æ˜¯æ ‡é…ï¼ˆé™¤äº† IEï¼Œé‚£å®¶ä¼™æ°¸è¿œæ´»åœ¨è‡ªå·±çš„ä¸–ç•Œé‡ŒðŸŒï¼‰ã€‚\n3. **è‡ªåŠ¨é‡è¿ž**ï¼šç½‘ç»œæŠ–åŠ¨ï¼ŸæœåŠ¡å™¨æŒ‚äº†ï¼Ÿåˆ«æ…Œï¼Œ`EventSource` è‡ªå¸¦é‡è¿žæœºåˆ¶ï¼Œè¿˜èƒ½é€šè¿‡ `Last-Event-ID` æ¢å¤æ–­ç‚¹ã€‚\n4. **HTTP/2 å‹å¥½**ï¼šç»“åˆ HTTP/2 çš„å¤šè·¯å¤ç”¨ï¼ŒSSE çš„æ€§èƒ½è¿˜èƒ½å†ä¸Šä¸€å±‚æ¥¼ã€‚\n\nå½“ç„¶ï¼Œå®ƒä¹Ÿæœ‰å±€é™ï¼Œæ¯”å¦‚å•å‘é€šä¿¡ï¼ˆå®¢æˆ·ç«¯æ— æ³•ç›´æŽ¥å›žå¤ï¼‰å’Œæ–‡æœ¬æ•°æ®ä¼˜å…ˆï¼ˆä¼ è¾“äºŒè¿›åˆ¶æ•°æ®å¾—ç¼–ç ï¼‰ã€‚ä½†å¯¹äºŽâ€œæœåŠ¡å™¨ä¸»åŠ¨æŽ¨é€â€è¿™ç§éœ€æ±‚ï¼Œå®ƒç®€ç›´æ˜¯å¤©ä½œä¹‹åˆã€‚\n\n## å®žæˆ˜æ¼”ç»ƒï¼šä»Žé›¶æ­å»ºä¸€ä¸ª SSE åº”ç”¨\n\nç†è®ºè®²å®Œäº†ï¼Œå’±ä»¬åŠ¨æ‰‹å†™ç‚¹ä»£ç å§ï¼å‡è®¾æˆ‘ä»¬è¦å®žçŽ°ä¸€ä¸ªå®žæ—¶ç”¨æˆ·åœ¨çº¿çŠ¶æ€çš„ä»ªè¡¨ç›˜ï¼ŒæœåŠ¡å™¨æŽ¨é€åœ¨çº¿äººæ•°å˜åŒ–ã€‚\n\n### åŽç«¯ï¼šNode.js + Express\n\n```javascript\nconst express = require('express');\nconst app = express();\n\napp.get('/online-users', (req, res) => {\n  res.set({\n    'Content-Type': 'text/event-stream',\n    'Cache-Control': 'no-cache',\n    'Connection': 'keep-alive',\n  });\n\n  // æ¨¡æ‹ŸåŠ¨æ€æ•°æ®\n  let count = 0;\n  const interval = setInterval(() => {\n    count += Math.floor(Math.random() * 5);\n    res.write(`data: ${JSON.stringify({ online: count })}\\n\\n`);\n  }, 2000);\n\n  // å®¢æˆ·ç«¯å…³é—­è¿žæŽ¥æ—¶æ¸…ç†\n  req.on('close', () => {\n    clearInterval(interval);\n    res.end();\n  });\n});\n\napp.listen(3000, () => console.log('SSE æœåŠ¡å·²å¯åŠ¨ï¼'));\n```\n\n### å‰ç«¯ï¼šReact ç¤ºä¾‹\n\n```javascript\nimport { useEffect, useState } from 'react';\n\nfunction Dashboard() {\n  const [onlineCount, setOnlineCount] = useState(0);\n\n  useEffect(() => {\n    const source = new EventSource('/online-users');\n    source.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      setOnlineCount(data.online);\n    };\n    source.onerror = () => {\n      console.log('è¿žæŽ¥å‡ºé”™ï¼Œç¨åŽé‡è¯•...');\n    };\n\n    // æ¸…ç†è¿žæŽ¥\n    return () => source.close();\n  }, []);\n\n  return (\n    <div>\n      <h1>åœ¨çº¿ç”¨æˆ·æ•°: {onlineCount}</h1>\n    </div>\n  );\n}\n\nexport default Dashboard;\n```\n\nè¿è¡ŒåŽï¼Œæ¯éš” 2 ç§’ï¼Œå‰ç«¯å°±ä¼šæ”¶åˆ°æœåŠ¡å™¨æŽ¨é€çš„åœ¨çº¿äººæ•°æ›´æ–°ï¼Œé¡µé¢å®žæ—¶åˆ·æ–°ã€‚æ˜¯ä¸æ˜¯ç®€å•å¾—è®©äººæƒ³ç¬‘ðŸ˜‚ï¼Ÿ\n\n## æœ€ä½³å®žè·µï¼šè®© SSE æ›´ç¨³ã€æ›´é¦™\n\nå…‰ä¼šç”¨è¿˜ä¸å¤Ÿï¼Œå’±ä»¬å¾—æŠŠ SSE ç”¨å¾—â€œç¨³å¦‚è€ç‹—â€ã€‚ä»¥ä¸‹æ˜¯æˆ‘æ€»ç»“çš„å‡ æ¡å®žç”¨ Tipsï¼š\n\n### 1. è®¾ç½®é‡è¿žæ—¶é—´é—´éš”\n**åœºæ™¯**ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œ`EventSource` é‡è¿žæ—¶é—´ä¸å¯æŽ§ï¼Œå¯èƒ½å¤ªé¢‘ç¹æˆ–å¤ªæ…¢ã€‚\n**è§£å†³**ï¼šæœåŠ¡å™¨é€šè¿‡ `retry:` å­—æ®µæŒ‡å®šé‡è¿žé—´éš”ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ã€‚\n\n```\nretry: 5000\ndata: é‡è¿žåŽç¬¬ä¸€æ¡æ¶ˆæ¯\n```\n\n**Tips**ï¼šå»ºè®®æ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´ï¼Œæ¯”å¦‚å®žæ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯è®¾ä¸º 1000msï¼Œæ™®é€šåœºæ™¯è®¾ä¸º 5000msã€‚\n\n### 2. ä½¿ç”¨ Last-Event-ID é˜²ä¸¢æ•°æ®\n**åœºæ™¯**ï¼šç½‘ç»œæ–­å¼€åŽï¼Œå®¢æˆ·ç«¯é‡è¿žå¯èƒ½é”™è¿‡ä¹‹å‰çš„æ¶ˆæ¯ã€‚\n**è§£å†³**ï¼šæœåŠ¡å™¨åœ¨äº‹ä»¶ä¸­æ·»åŠ  `id:` å­—æ®µï¼Œå®¢æˆ·ç«¯é‡è¿žæ—¶ä¼šå¸¦ä¸Š `Last-Event-ID` è¯·æ±‚å¤´ã€‚\n\n```\nid: 123\ndata: {\"message\": \"ç”¨æˆ·ç™»å½•\"}\n```\n\n**Tips**ï¼šID æœ€å¥½ç”¨é€’å¢žåºåˆ—æˆ–æ—¶é—´æˆ³ï¼Œç¡®ä¿å”¯ä¸€æ€§ã€‚\n\n### 3. å¿ƒè·³æœºåˆ¶ä¿æ´»\n**åœºæ™¯**ï¼šæŸäº›ä»£ç†æœåŠ¡å™¨æˆ–è´Ÿè½½å‡è¡¡å™¨ä¼šå› é•¿æ—¶é—´æ— æ•°æ®è€Œæ–­å¼€è¿žæŽ¥ã€‚\n**è§£å†³**ï¼šå®šæœŸå‘é€ç©ºæ¶ˆæ¯æˆ–å¿ƒè·³åŒ…ã€‚\n\n```\ndata: heartbeat\n```\n\n**Tips**ï¼šæ¯ 15-30 ç§’å‘ä¸€æ¬¡å¿ƒè·³ï¼Œé¿å…è¢«â€œæ— æƒ…ç”©æ‰‹â€ã€‚\n\n### 4. é”™è¯¯å¤„ç†è¦ä¼˜é›…\n**åœºæ™¯**ï¼šSSE è¿žæŽ¥å‡ºé”™æ—¶ï¼Œç”¨æˆ·ä½“éªŒä¸èƒ½å´©ã€‚\n**è§£å†³**ï¼šç›‘å¬ `onerror` å¹¶æä¾›å‹å¥½æç¤ºã€‚\n\n```javascript\nsource.onerror = () => {\n  setStatus('è¿žæŽ¥ä¸­æ–­ï¼Œæ­£åœ¨é‡è¯•...');\n};\n```\n\n**Tips**ï¼šç»“åˆ UI æ˜¾ç¤ºâ€œé‡è¿žä¸­â€çŠ¶æ€ï¼Œåˆ«è®©ç”¨æˆ·ä»¥ä¸ºä¸–ç•Œæœ«æ—¥åˆ°äº†ðŸŒ‹ã€‚\n\n### 5. é…åˆ HTTP/2 æé€Ÿ\n**åœºæ™¯**ï¼šSSE é»˜è®¤è·‘åœ¨ HTTP/1.1 ä¸Šï¼Œä½† HTTP/2 çš„å¤šè·¯å¤ç”¨èƒ½è®©å¤šä¸ªäº‹ä»¶æµå¹¶è¡Œã€‚\n**è§£å†³**ï¼šç¡®ä¿æœåŠ¡å™¨æ”¯æŒ HTTP/2ï¼Œå¹¶åœ¨ Nginx æˆ–å…¶ä»–ä»£ç†ä¸Šå¯ç”¨ã€‚\n**Tips**ï¼šæµ‹è¯•æ—¶ç”¨ Chrome çš„å¼€å‘è€…å·¥å…·æ£€æŸ¥åè®®ç‰ˆæœ¬ï¼Œç¡®è®¤å‡çº§æˆåŠŸã€‚\n\n## åº”ç”¨åœºæ™¯ï¼šSSE çš„â€œç”¨æ­¦ä¹‹åœ°â€\n\nSSE çš„é€‚ç”¨åœºæ™¯å¤šåˆ°è®©äººçœ¼èŠ±ç¼­ä¹±ï¼Œè¿™é‡Œä¸¾å‡ ä¸ªä¾‹å­ï¼š\n\n- **å®žæ—¶é€šçŸ¥**ï¼šåƒ GitHub çš„åŠ¨æ€æ›´æ–°ï¼ŒæŽ¨é€æ–°è¯„è®ºæˆ– PRã€‚\n- **ä»ªè¡¨ç›˜**ï¼šè‚¡ç¥¨ä»·æ ¼ã€æœåŠ¡å™¨çŠ¶æ€ã€ç‰©æµè·Ÿè¸ªã€‚\n- **èŠå¤©å®¤çš„å¹¿æ’­æ¶ˆæ¯**ï¼šæœåŠ¡å™¨æŽ¨é€å…¬å‘Šç»™æ‰€æœ‰ç”¨æˆ·ã€‚\n- **è¿›åº¦æ¡**ï¼šæ–‡ä»¶ä¸Šä¼ /ä¸‹è½½çš„å®žæ—¶è¿›åº¦åé¦ˆã€‚\n\næˆ‘æ›¾ç»ç”¨ SSE åšè¿‡ä¸€ä¸ªâ€œå®žæ—¶æŠ•ç¥¨ç»“æžœâ€åŠŸèƒ½ï¼Œç”¨æˆ·æŠ•ç¥¨åŽï¼ŒæœåŠ¡å™¨ç«‹åˆ»æŽ¨é€æœ€æ–°ç¥¨æ•°ç»™æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œæ•´ä¸ªè¿‡ç¨‹æµç•…å¾—åƒä¸ç»¸ï¼Œè¿žåŽç«¯åŒäº‹éƒ½å¿ä¸ä½å¤¸æˆ‘â€œæœ‰ç‚¹ä¸œè¥¿â€ðŸ˜Žã€‚\n\n## SSE çš„æœªæ¥ï¼šå®ƒä¼šè¿‡æ—¶å—ï¼Ÿ\n\næœ‰äººå¯èƒ½ä¼šé—®ï¼šæœ‰äº† WebSocket å’Œ WebRTCï¼ŒSSE è¿˜æœ‰æˆå—ï¼Ÿæˆ‘çš„çœ‹æ³•æ˜¯ï¼ŒSSE çš„å®šä½éžå¸¸æ˜Žç¡®â€”â€”å®ƒæ˜¯â€œç®€å•æŽ¨é€â€çš„æœ€ä½³é€‰æ‹©ã€‚WebSocket é€‚åˆå¤æ‚äº’åŠ¨ï¼ŒSSE åˆ™æ˜¯â€œå•å‘å¹¿æ’­â€çš„çŽ‹è€…ã€‚æœªæ¥ï¼Œéšç€ HTTP/3 çš„æ™®åŠï¼ŒSSE çš„æ€§èƒ½å¯èƒ½è¿˜ä¼šè¿›ä¸€æ­¥æå‡ã€‚æ‰€ä»¥ï¼Œåˆ«æ€¥ç€ç»™å®ƒè´´ä¸Šâ€œè€å¤è‘£â€çš„æ ‡ç­¾ï¼Œå®ƒè¿˜ä¼šåœ¨å‰ç«¯èˆžå°ä¸Šå‘å…‰å‘çƒ­âœ¨ã€‚\n\n## æ€»ç»“ï¼šSSE æ˜¯ä½ çš„ä¸‹ä¸€å¼ çŽ‹ç‰Œå—ï¼Ÿ\n\nServer-Sent Events å°±åƒ Web å¼€å‘ä¸­çš„ä¸€ç“¶â€œä½Žè°ƒçš„å¥½é…’â€â€”â€”ä¸å¼ æ‰¬ï¼Œå´å›žå‘³æ— ç©·ã€‚å®ƒç”¨æœ€å°çš„æˆæœ¬è§£å†³äº†å®žæ—¶æŽ¨é€çš„éœ€æ±‚ï¼Œè¿˜è‡ªå¸¦é‡è¿žå’Œå…¼å®¹æ€§ä¼˜åŠ¿ã€‚å¦‚æžœä½ åŽŒå€¦äº†è½®è¯¢çš„ä½Žæ•ˆï¼Œåˆä¸æƒ³ä¸ºç®€å•çš„æŽ¨é€åœºæ™¯æž¶è®¾ WebSocket å¤§ç‚®ï¼Œé‚£ SSE ç»å¯¹å€¼å¾—ä¸€è¯•ã€‚\n\nä¸‹æ¬¡é¡¹ç›®éœ€æ±‚æåˆ°â€œå®žæ—¶æ›´æ–°â€ï¼Œåˆ«æ€¥ç€æŽå‡ºå¤æ‚çš„æ–¹æ¡ˆï¼Œå…ˆé—®é—®è‡ªå·±ï¼šSSE èƒ½ä¸èƒ½æžå®šï¼Ÿè¯´ä¸å®šï¼Œå®ƒä¼šæˆä¸ºä½ ä»£ç åº“é‡Œçš„æ–°å® å„¿ðŸ¾ã€‚\n\næœ‰ä»€ä¹ˆå…³äºŽ SSE çš„ç–‘é—®æˆ–éªšæ“ä½œï¼Œæ¬¢è¿Žåœ¨è¯„è®ºåŒºè·Ÿæˆ‘èŠèŠï¼æˆ‘ä¼šå°½é‡ç”¨â€œäººè¯â€ç»™ä½ è§£ç­”ï¼Œè€Œä¸æ˜¯ç”©ä¸€å †æ–‡æ¡£é“¾æŽ¥æ•·è¡ä½ ðŸ˜‰ã€‚\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),S=(l,e)=>{for(var r in e)d(l,r,{get:e[r],enumerable:!0})},t=(l,e,r,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!u.call(l,a)&&a!==r&&d(l,a,{get:()=>e[a],enumerable:!(c=E(e,a))||c.enumerable});return l};var B=(l,e,r)=>(r=l!=null?p(g(l)):{},t(e||!l||!l.__esModule?d(r,\"default\",{value:l,enumerable:!0}):r,l)),f=l=>t(d({},\"__esModule\",{value:!0}),l);var i=F((x,s)=>{s.exports=_jsx_runtime});var b={};S(b,{default:()=>o,frontmatter:()=>v});var n=B(i()),v={type:\"Post\",title:\"Server-Sent Events (SSE)\\uFF1A\\u5B9E\\u65F6Web\\u901A\\u4FE1\\u7684\\u9769\\u547D\",date:\"2023-09-21\",description:\"\\u6DF1\\u5165\\u63A2\\u7D22 Server-Sent Events (SSE) \\u7684\\u539F\\u7406\\u3001\\u5E94\\u7528\\u573A\\u666F\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u89E3\\u9501\\u5B9E\\u65F6 Web \\u901A\\u4FE1\\u7684\\u79D8\\u5BC6\\u6B66\\u5668\\u3002\",keywords:\"Server-Sent Events, SSE, \\u5B9E\\u65F6\\u901A\\u4FE1, Web \\u5F00\\u53D1, \\u524D\\u7AEF\\u6280\\u672F, EventSource, HTTP, \\u63A8\\u9001\\u6280\\u672F\",author:\"\\u6653\\u9F99\",image:\"/images/hero/sse-revolution.jpg\",tags:[\"Web \\u5F00\\u53D1\",\"\\u5B9E\\u65F6\\u901A\\u4FE1\",\"\\u524D\\u7AEF\\u6280\\u672F\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function h(l){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4F60\\u6B63\\u5728\\u5F00\\u53D1\\u4E00\\u4E2A\\u5B9E\\u65F6\\u80A1\\u7968\\u4EF7\\u683C\\u4EEA\\u8868\\u76D8\\uFF0C\\u6216\\u8005\\u4E00\\u4E2A\\u804A\\u5929\\u5E94\\u7528\\uFF0C\\u751A\\u81F3\\u662F\\u4E00\\u4E2A\\u52A8\\u6001\\u901A\\u77E5\\u7CFB\\u7EDF\\u3002\\u4F60\\u9700\\u8981\\u670D\\u52A1\\u5668\\u4E3B\\u52A8\\u628A\\u6700\\u65B0\\u6570\\u636E\\u63A8\\u9001\\u7ED9\\u6D4F\\u89C8\\u5668\\uFF0C\\u800C\\u4E0D\\u662F\\u8BA9\\u524D\\u7AEF\\u50CF\\u4E2A\\u7126\\u8651\\u7684\\u5C0F\\u72D7\\u{1F436}\\uFF0C\\u4E0D\\u505C\\u5730\\u8F6E\\u8BE2 API\\uFF0C\\u7948\\u7977\\u670D\\u52A1\\u5668\\u5927\\u53D1\\u6148\\u60B2\\u8FD4\\u56DE\\u70B9\\u65B0\\u9C9C\\u4E1C\\u897F\\u3002WebSocket\\uFF1F\\u5F53\\u7136\\u662F\\u4E2A\\u9009\\u62E9\\uFF0C\\u4F46\\u5B83\\u50CF\\u4E2A\\u53CC\\u5411\\u9AD8\\u901F\\u516C\\u8DEF\\uFF0C\\u590D\\u6742\\u4E14\\u8D44\\u6E90\\u5BC6\\u96C6\\u3002\\u5982\\u679C\\u4F60\\u53EA\\u9700\\u8981\\u5355\\u5411\\u7684\\u670D\\u52A1\\u5668\\u5230\\u5BA2\\u6237\\u7AEF\\u7684\\u6570\\u636E\\u6D41\\uFF0C\\u90A3 Server-Sent Events (SSE) \\u53EF\\u80FD\\u662F\\u4F60\\u4E00\\u76F4\\u5728\\u5BFB\\u627E\\u7684\\u90A3\\u628A\\u201C\\u7B80\\u5355\\u53C8\\u4F18\\u96C5\\u201D\\u7684\\u94A5\\u5319\\u{1F511}\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F5C\\u4E3A\\u4E00\\u540D\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u6211\\u7B2C\\u4E00\\u6B21\\u63A5\\u89E6 SSE \\u65F6\\uFF0C\\u611F\\u89C9\\u50CF\\u662F\\u53D1\\u73B0\\u4E86\\u85CF\\u5728 HTTP \\u534F\\u8BAE\\u91CC\\u7684\\u5F69\\u86CB\\u2014\\u2014\\u5B83\\u8F7B\\u91CF\\u3001\\u539F\\u751F\\u652F\\u6301\\u3001\\u57FA\\u4E8E\\u6587\\u672C\\uFF0C\\u8FD8\\u80FD\\u590D\\u7528\\u73B0\\u6709\\u7684 HTTP \\u57FA\\u7840\\u8BBE\\u65BD\\u3002\\u4ECA\\u5929\\uFF0C\\u54B1\\u4EEC\\u5C31\\u6765\\u6DF1\\u5EA6\\u5256\\u6790 SSE\\uFF0C\\u4ECE\\u5B83\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u5230\\u5B9E\\u9645\\u5E94\\u7528\\uFF0C\\u518D\\u5230\\u4E00\\u4E9B\\u8BA9\\u4EBA\\u62CD\\u5927\\u817F\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u4E00\\u6B65\\u6B65\\u89E3\\u9501\\u5B83\\u7684\\u9B45\\u529B\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4EC0\\u4E48\\u662F-server-sent-events-sse\",children:(0,n.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u662F-server-sent-events-sse\",children:\"\\u4EC0\\u4E48\\u662F Server-Sent Events (SSE)\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Server-Sent Events\\uFF0C\\u7B80\\u79F0 SSE\\uFF0C\\u662F HTML5 \\u6807\\u51C6\\u7684\\u4E00\\u90E8\\u5206\\uFF0C\\u57FA\\u4E8E HTTP \\u534F\\u8BAE\\uFF0C\\u5141\\u8BB8\\u670D\\u52A1\\u5668\\u4E3B\\u52A8\\u5411\\u6D4F\\u89C8\\u5668\\u63A8\\u9001\\u5B9E\\u65F6\\u66F4\\u65B0\\u3002\\u5B83\\u901A\\u8FC7\\u4E00\\u4E2A\\u6301\\u4E45\\u5316\\u7684\\u8FDE\\u63A5\\uFF0C\\u8BA9\\u670D\\u52A1\\u5668\\u53EF\\u4EE5\\u6E90\\u6E90\\u4E0D\\u65AD\\u5730\\u53D1\\u9001\\u4E8B\\u4EF6\\u6D41\\uFF08Event Stream\\uFF09\\u7ED9\\u5BA2\\u6237\\u7AEF\\uFF0C\\u800C\\u5BA2\\u6237\\u7AEF\\u53EA\\u9700\\u8981\\u9759\\u9759\\u5730\\u542C\\u7740\\uFF0C\\u50CF\\u4E2A\\u4E56\\u5DE7\\u7684\\u542C\\u4F17\\u{1F442}\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"sse-vs-websocket-vs-\\u957F\\u8F6E\\u8BE2\\u4E00\\u573A\\u7B80\\u77ED\\u7684\\u64C2\\u53F0\\u8D5B\",children:(0,n.jsx)(e.a,{href:\"#sse-vs-websocket-vs-\\u957F\\u8F6E\\u8BE2\\u4E00\\u573A\\u7B80\\u77ED\\u7684\\u64C2\\u53F0\\u8D5B\",children:\"SSE vs. WebSocket vs. \\u957F\\u8F6E\\u8BE2\\uFF1A\\u4E00\\u573A\\u7B80\\u77ED\\u7684\\u201C\\u64C2\\u53F0\\u8D5B\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u804A SSE \\u7684\\u539F\\u7406\\u4E4B\\u524D\\uFF0C\\u54B1\\u4EEC\\u5148\\u628A\\u6218\\u573A\\u4E0A\\u7684\\u51E0\\u4E2A\\u9009\\u624B\\u62C9\\u51FA\\u6765\\u905B\\u905B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u957F\\u8F6E\\u8BE2\\uFF08Long Polling\\uFF09\"}),\"\\uFF1A\\u5BA2\\u6237\\u7AEF\\u53D1\\u8D77\\u8BF7\\u6C42\\uFF0C\\u670D\\u52A1\\u5668\\u201C\\u5047\\u88C5\\u601D\\u8003\\u201D\\u76F4\\u5230\\u6709\\u65B0\\u6570\\u636E\\u624D\\u8FD4\\u56DE\\u3002\\u5C31\\u50CF\\u4F60\\u70B9\\u5916\\u5356\\uFF0C\\u9A91\\u624B\\u8FDF\\u8FDF\\u4E0D\\u9001\\uFF0C\\u4F60\\u8FD8\\u5F97\\u4E00\\u76F4\\u6253\\u7535\\u8BDD\\u50AC\\u5355\\u{1F4DE}\\uFF0C\\u6548\\u7387\\u4F4E\\u5F97\\u8BA9\\u4EBA\\u6293\\u72C2\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"WebSocket\"}),\"\\uFF1A\\u53CC\\u5411\\u901A\\u4FE1\\u7684\\u738B\\u8005\\uFF0C\\u50CF\\u662F\\u4E00\\u6761\\u9AD8\\u901F\\u53CC\\u8F66\\u9053\\uFF0C\\u9002\\u5408\\u9700\\u8981\\u9891\\u7E41\\u4E92\\u52A8\\u7684\\u573A\\u666F\\uFF08\\u6BD4\\u5982\\u5728\\u7EBF\\u6E38\\u620F\\uFF09\\u3002\\u4F46\\u67B6\\u8BBE\\u6210\\u672C\\u9AD8\\uFF0C\\u534F\\u8BAE\\u590D\\u6742\\uFF0C\\u50CF\\u8BF7\\u4E86\\u4E2A\\u4E94\\u661F\\u5927\\u53A8\\u505A\\u987F\\u4FBF\\u996D\\u2014\\u2014\\u6709\\u70B9\\u6740\\u9E21\\u7528\\u725B\\u5200\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"SSE\"}),\"\\uFF1A\\u5355\\u5411\\u63A8\\u9001\\uFF0C\\u670D\\u52A1\\u5668\\u50CF\\u4E2A\\u5E7F\\u64AD\\u7535\\u53F0\\u{1F399}\\uFE0F\\uFF0C\\u5BA2\\u6237\\u7AEF\\u53EA\\u9700\\u8981\\u8C03\\u597D\\u9891\\u7387\\u6536\\u542C\\u3002\\u8F7B\\u91CF\\u3001\\u7B80\\u5355\\uFF0C\\u8FD8\\u80FD\\u5229\\u7528 HTTP/2 \\u7684\\u591A\\u8DEF\\u590D\\u7528\\uFF0C\\u582A\\u79F0\\u201C\\u4F4E\\u8C03\\u7684\\u5B9E\\u529B\\u6D3E\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"SSE \\u7684\\u6740\\u624B\\u950F\\u5728\\u4E8E\\uFF1A\\u5B83\\u57FA\\u4E8E\\u666E\\u901A\\u7684 HTTP \\u8BF7\\u6C42\\uFF08\\u4E0D\\u9700\\u8981\\u989D\\u5916\\u7684\\u534F\\u8BAE\\u63E1\\u624B\\uFF09\\uFF0C\\u5929\\u7136\\u652F\\u6301\\u6D4F\\u89C8\\u5668\\u7684\\u91CD\\u8FDE\\u673A\\u5236\\uFF0C\\u800C\\u4E14\\u90E8\\u7F72\\u8D77\\u6765\\u6BD4 WebSocket \\u7701\\u5FC3\\u5F97\\u591A\\u3002\\u597D\\u4E86\\uFF0C\\u9009\\u624B\\u4ECB\\u7ECD\\u5B8C\\u6BD5\\uFF0C\\u63A5\\u4E0B\\u6765\\u8FDB\\u5165\\u6B63\\u9898\\u2014\\u2014SSE \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"sse-\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u4ECE-http-\\u5230\\u4E8B\\u4EF6\\u6D41\",children:(0,n.jsx)(e.a,{href:\"#sse-\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u4ECE-http-\\u5230\\u4E8B\\u4EF6\\u6D41\",children:\"SSE \\u7684\\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u4ECE HTTP \\u5230\\u4E8B\\u4EF6\\u6D41\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"SSE \\u7684\\u9B54\\u6CD5\\u5176\\u5B9E\\u5E76\\u4E0D\\u590D\\u6742\\uFF0C\\u5B83\\u5229\\u7528\\u4E86 HTTP \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"text/event-stream\"})})})}),\" \\u5185\\u5BB9\\u7C7B\\u578B\\u3002\\u5BA2\\u6237\\u7AEF\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EventSource\"})})})}),\" API \\u4E0E\\u670D\\u52A1\\u5668\\u5EFA\\u7ACB\\u8FDE\\u63A5\\uFF0C\\u670D\\u52A1\\u5668\\u5219\\u901A\\u8FC7\\u4E00\\u4E2A\\u6301\\u4E45\\u5316\\u7684\\u54CD\\u5E94\\u6D41\\uFF0C\\u4E0D\\u65AD\\u63A8\\u9001\\u6570\\u636E\\u3002\\u542C\\u8D77\\u6765\\u5F88\\u7B80\\u5355\\uFF1F\\u8BA9\\u6211\\u4EEC\\u62C6\\u89E3\\u4E00\\u4E0B\\u8FD9\\u80CC\\u540E\\u7684\\u201C\\u9B54\\u6CD5\\u4E09\\u6B65\\u9AA4\\u201D\\uFF1A\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u5BA2\\u6237\\u7AEFeventsource-\\u7684\\u767B\\u573A\",children:(0,n.jsx)(e.a,{href:\"#1-\\u5BA2\\u6237\\u7AEFeventsource-\\u7684\\u767B\\u573A\",children:\"1. \\u5BA2\\u6237\\u7AEF\\uFF1AEventSource \\u7684\\u767B\\u573A\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u6D4F\\u89C8\\u5668\\u7AEF\\uFF0CSSE \\u7684\\u4E3B\\u89D2\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EventSource\"})})})}),\" \\u5BF9\\u8C61\\u3002\\u4EE3\\u7801\\u957F\\u8FD9\\u6837\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" source\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" EventSource\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/events'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"source.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6536\\u5230\\u65B0\\u6D88\\u606F\\u5566\\uFF1A'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", event.data);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"/events\"})})})}),\" \\u662F\\u670D\\u52A1\\u5668\\u63D0\\u4F9B\\u7684\\u4E8B\\u4EF6\\u6D41\\u7AEF\\u70B9\\u3002\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EventSource\"})})})}),\" \\u4F1A\\u53D1\\u8D77\\u4E00\\u4E2A\\u666E\\u901A\\u7684 HTTP GET \\u8BF7\\u6C42\\uFF0C\\u5E26\\u7740 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Accept: text/event-stream\"})})})}),\" \\u7684\\u5934\\uFF0C\\u50CF\\u662F\\u5728\\u8BF4\\uFF1A\\u201C\\u563F\\uFF0C\\u670D\\u52A1\\u5668\\uFF0C\\u6211\\u8981\\u542C\\u5E7F\\u64AD\\uFF0C\\u8D76\\u7D27\\u5F00\\u59CB\\u5427\\uFF01\\u201D\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u670D\\u52A1\\u5668\\u4E8B\\u4EF6\\u6D41\\u7684\\u5E7F\\u64AD\\u5458\",children:(0,n.jsx)(e.a,{href:\"#2-\\u670D\\u52A1\\u5668\\u4E8B\\u4EF6\\u6D41\\u7684\\u5E7F\\u64AD\\u5458\",children:\"2. \\u670D\\u52A1\\u5668\\uFF1A\\u4E8B\\u4EF6\\u6D41\\u7684\\u201C\\u5E7F\\u64AD\\u5458\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u670D\\u52A1\\u5668\\u6536\\u5230\\u8BF7\\u6C42\\u540E\\uFF0C\\u54CD\\u5E94\\u5934\\u4F1A\\u8BBE\\u7F6E\\u4E3A\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Content-Type: text/event-stream\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Cache-Control: no-cache\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Connection: keep-alive\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7136\\u540E\\uFF0C\\u5B83\\u5F00\\u59CB\\u53D1\\u9001\\u683C\\u5F0F\\u5316\\u7684\\u6587\\u672C\\u6570\\u636E\\u3002SSE \\u7684\\u6570\\u636E\\u683C\\u5F0F\\u975E\\u5E38\\u7B80\\u5355\\uFF0C\\u50CF\\u6781\\u4E86\\u201C\\u7A0B\\u5E8F\\u5458\\u7248\\u7684\\u4FBF\\u7B7E\\u7EB8\\u201D\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"data: \\u8FD9\\u662F\\u7B2C\\u4E00\\u6761\\u6D88\\u606F\\\\n\\\\n\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"data: \\u8FD9\\u662F\\u7B2C\\u4E8C\\u6761\\u6D88\\u606F\\\\n\\\\n\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6BCF\\u4E00\\u5757\\u6570\\u636E\\u4EE5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"data:\"})})})}),\" \\u5F00\\u5934\\uFF0C\\u540E\\u8DDF\\u5177\\u4F53\\u5185\\u5BB9\\uFF0C\\u7528\\u4E24\\u4E2A\\u6362\\u884C\\u7B26 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"\\\\n\\\\n\"})})})}),\" \\u5206\\u9694\\u3002\\u670D\\u52A1\\u5668\\u53EF\\u4EE5\\u968F\\u65F6\\u63A8\\u9001\\u65B0\\u6570\\u636E\\uFF0C\\u8FDE\\u63A5\\u4E0D\\u65AD\\u5F00\\uFF0C\\u5BA2\\u6237\\u7AEF\\u5C31\\u80FD\\u5B9E\\u65F6\\u63A5\\u6536\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u4E8B\\u4EF6\\u76D1\\u542C\\u4E0E\\u89E3\\u6790\",children:(0,n.jsx)(e.a,{href:\"#3-\\u4E8B\\u4EF6\\u76D1\\u542C\\u4E0E\\u89E3\\u6790\",children:\"3. \\u4E8B\\u4EF6\\u76D1\\u542C\\u4E0E\\u89E3\\u6790\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5BA2\\u6237\\u7AEF\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EventSource\"})})})}),\" \\u7684\\u4E09\\u4E2A\\u4E3B\\u8981\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u6765\\u5904\\u7406\\u6570\\u636E\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onopen\"})})})}),\"\\uFF1A\\u8FDE\\u63A5\\u5EFA\\u7ACB\\u65F6\\u89E6\\u53D1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onmessage\"})})})}),\"\\uFF1A\\u6536\\u5230\\u666E\\u901A\\u6D88\\u606F\\u65F6\\u89E6\\u53D1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onerror\"})})})}),\"\\uFF1A\\u8FDE\\u63A5\\u51FA\\u9519\\u65F6\\u89E6\\u53D1\\uFF08\\u6BD4\\u5982\\u7F51\\u7EDC\\u65AD\\u5F00\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u670D\\u52A1\\u5668\\u60F3\\u53D1\\u9001\\u5E26\\u7C7B\\u578B\\u7684\\u4E8B\\u4EF6\\uFF0C\\u8FD8\\u53EF\\u4EE5\\u52A0\\u4E0A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"event:\"})})})}),\" \\u5B57\\u6BB5\\uFF0C\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"event: stock-update\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'data: {\"symbol\": \"AAPL\", \"price\": 175.23}'})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5BA2\\u6237\\u7AEF\\u53EF\\u4EE5\\u76D1\\u542C\\u7279\\u5B9A\\u4E8B\\u4EF6\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"source.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'stock-update'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.data);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u80A1\\u7968 ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"symbol\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u66F4\\u65B0\\u4EF7\\u683C\\uFF1A${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"price\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u5C31\\u662F SSE \\u7684\\u57FA\\u672C\\u5DE5\\u4F5C\\u6D41\\uFF1A\\u7B80\\u5355\\u5230\\u8BA9\\u4EBA\\u60F3\\u7ED9\\u5B83\\u9F13\\u638C\\u{1F44F}\\uFF0C\\u4F46\\u529F\\u80FD\\u5F3A\\u5927\\u5230\\u8DB3\\u4EE5\\u652F\\u6491\\u65E0\\u6570\\u5B9E\\u65F6\\u573A\\u666F\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"sse-\\u7684\\u4F18\\u52BF\\u4E3A\\u4EC0\\u4E48\\u5B83\\u503C\\u5F97\\u4F60\\u5173\\u6CE8\",children:(0,n.jsx)(e.a,{href:\"#sse-\\u7684\\u4F18\\u52BF\\u4E3A\\u4EC0\\u4E48\\u5B83\\u503C\\u5F97\\u4F60\\u5173\\u6CE8\",children:\"SSE \\u7684\\u4F18\\u52BF\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u5B83\\u503C\\u5F97\\u4F60\\u5173\\u6CE8\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"SSE \\u4E0D\\u662F\\u4EC0\\u4E48\\u201C\\u65B0\\u6F6E\\u73A9\\u610F\\u513F\\u201D\\uFF0C\\u4F46\\u5B83\\u4F4E\\u8C03\\u7684\\u5B9E\\u529B\\u8BA9\\u4EBA\\u65E0\\u6CD5\\u5FFD\\u89C6\\u3002\\u4EE5\\u4E0B\\u662F\\u6211\\u603B\\u7ED3\\u7684\\u51E0\\u4E2A\\u4EAE\\u70B9\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8F7B\\u91CF\\u7EA7\"}),\"\\uFF1A\\u4E0D\\u9700\\u8981\\u989D\\u5916\\u7684\\u534F\\u8BAE\\u6808\\uFF0CHTTP \\u81EA\\u5E26\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"keep-alive\"})})})}),\" \\u5C31\\u591F\\u7528\\u4E86\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u539F\\u751F\\u652F\\u6301\"}),\"\\uFF1A\\u65E0\\u9700\\u5F15\\u5165\\u7B2C\\u4E09\\u65B9\\u5E93\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EventSource\"})})})}),\" \\u662F\\u6807\\u914D\\uFF08\\u9664\\u4E86 IE\\uFF0C\\u90A3\\u5BB6\\u4F19\\u6C38\\u8FDC\\u6D3B\\u5728\\u81EA\\u5DF1\\u7684\\u4E16\\u754C\\u91CC\\u{1F30D}\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u81EA\\u52A8\\u91CD\\u8FDE\"}),\"\\uFF1A\\u7F51\\u7EDC\\u6296\\u52A8\\uFF1F\\u670D\\u52A1\\u5668\\u6302\\u4E86\\uFF1F\\u522B\\u614C\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EventSource\"})})})}),\" \\u81EA\\u5E26\\u91CD\\u8FDE\\u673A\\u5236\\uFF0C\\u8FD8\\u80FD\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Last-Event-ID\"})})})}),\" \\u6062\\u590D\\u65AD\\u70B9\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"HTTP/2 \\u53CB\\u597D\"}),\"\\uFF1A\\u7ED3\\u5408 HTTP/2 \\u7684\\u591A\\u8DEF\\u590D\\u7528\\uFF0CSSE \\u7684\\u6027\\u80FD\\u8FD8\\u80FD\\u518D\\u4E0A\\u4E00\\u5C42\\u697C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F53\\u7136\\uFF0C\\u5B83\\u4E5F\\u6709\\u5C40\\u9650\\uFF0C\\u6BD4\\u5982\\u5355\\u5411\\u901A\\u4FE1\\uFF08\\u5BA2\\u6237\\u7AEF\\u65E0\\u6CD5\\u76F4\\u63A5\\u56DE\\u590D\\uFF09\\u548C\\u6587\\u672C\\u6570\\u636E\\u4F18\\u5148\\uFF08\\u4F20\\u8F93\\u4E8C\\u8FDB\\u5236\\u6570\\u636E\\u5F97\\u7F16\\u7801\\uFF09\\u3002\\u4F46\\u5BF9\\u4E8E\\u201C\\u670D\\u52A1\\u5668\\u4E3B\\u52A8\\u63A8\\u9001\\u201D\\u8FD9\\u79CD\\u9700\\u6C42\\uFF0C\\u5B83\\u7B80\\u76F4\\u662F\\u5929\\u4F5C\\u4E4B\\u5408\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5B9E\\u6218\\u6F14\\u7EC3\\u4ECE\\u96F6\\u642D\\u5EFA\\u4E00\\u4E2A-sse-\\u5E94\\u7528\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u6218\\u6F14\\u7EC3\\u4ECE\\u96F6\\u642D\\u5EFA\\u4E00\\u4E2A-sse-\\u5E94\\u7528\",children:\"\\u5B9E\\u6218\\u6F14\\u7EC3\\uFF1A\\u4ECE\\u96F6\\u642D\\u5EFA\\u4E00\\u4E2A SSE \\u5E94\\u7528\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7406\\u8BBA\\u8BB2\\u5B8C\\u4E86\\uFF0C\\u54B1\\u4EEC\\u52A8\\u624B\\u5199\\u70B9\\u4EE3\\u7801\\u5427\\uFF01\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u5B9E\\u73B0\\u4E00\\u4E2A\\u5B9E\\u65F6\\u7528\\u6237\\u5728\\u7EBF\\u72B6\\u6001\\u7684\\u4EEA\\u8868\\u76D8\\uFF0C\\u670D\\u52A1\\u5668\\u63A8\\u9001\\u5728\\u7EBF\\u4EBA\\u6570\\u53D8\\u5316\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u540E\\u7AEFnodejs--express\",children:(0,n.jsx)(e.a,{href:\"#\\u540E\\u7AEFnodejs--express\",children:\"\\u540E\\u7AEF\\uFF1ANode.js + Express\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" express\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/online-users'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"    'Content-Type'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'text/event-stream'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"    'Cache-Control'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'no-cache'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"    'Connection'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'keep-alive'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u6A21\\u62DF\\u52A8\\u6001\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" interval\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"floor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"random\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"write\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`data: ${\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"({ online: \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" })\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"\\\\n\\\\n\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5BA2\\u6237\\u7AEF\\u5173\\u95ED\\u8FDE\\u63A5\\u65F6\\u6E05\\u7406\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  req.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'close'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(interval);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"end\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'SSE \\u670D\\u52A1\\u5DF2\\u542F\\u52A8\\uFF01'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u524D\\u7AEFreact-\\u793A\\u4F8B\",children:(0,n.jsx)(e.a,{href:\"#\\u524D\\u7AEFreact-\\u793A\\u4F8B\",children:\"\\u524D\\u7AEF\\uFF1AReact \\u793A\\u4F8B\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useEffect, useState } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Dashboard\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"onlineCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setOnlineCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" source\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" EventSource\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/online-users'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    source.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.data);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setOnlineCount\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data.online);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    source.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8FDE\\u63A5\\u51FA\\u9519\\uFF0C\\u7A0D\\u540E\\u91CD\\u8BD5...'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6E05\\u7406\\u8FDE\\u63A5\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" source.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"close\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u5728\\u7EBF\\u7528\\u6237\\u6570: {onlineCount}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Dashboard;\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD0\\u884C\\u540E\\uFF0C\\u6BCF\\u9694 2 \\u79D2\\uFF0C\\u524D\\u7AEF\\u5C31\\u4F1A\\u6536\\u5230\\u670D\\u52A1\\u5668\\u63A8\\u9001\\u7684\\u5728\\u7EBF\\u4EBA\\u6570\\u66F4\\u65B0\\uFF0C\\u9875\\u9762\\u5B9E\\u65F6\\u5237\\u65B0\\u3002\\u662F\\u4E0D\\u662F\\u7B80\\u5355\\u5F97\\u8BA9\\u4EBA\\u60F3\\u7B11\\u{1F602}\\uFF1F\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-sse-\\u66F4\\u7A33\\u66F4\\u9999\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-sse-\\u66F4\\u7A33\\u66F4\\u9999\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9 SSE \\u66F4\\u7A33\\u3001\\u66F4\\u9999\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5149\\u4F1A\\u7528\\u8FD8\\u4E0D\\u591F\\uFF0C\\u54B1\\u4EEC\\u5F97\\u628A SSE \\u7528\\u5F97\\u201C\\u7A33\\u5982\\u8001\\u72D7\\u201D\\u3002\\u4EE5\\u4E0B\\u662F\\u6211\\u603B\\u7ED3\\u7684\\u51E0\\u6761\\u5B9E\\u7528 Tips\\uFF1A\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u8BBE\\u7F6E\\u91CD\\u8FDE\\u65F6\\u95F4\\u95F4\\u9694\",children:(0,n.jsx)(e.a,{href:\"#1-\\u8BBE\\u7F6E\\u91CD\\u8FDE\\u65F6\\u95F4\\u95F4\\u9694\",children:\"1. \\u8BBE\\u7F6E\\u91CD\\u8FDE\\u65F6\\u95F4\\u95F4\\u9694\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u573A\\u666F\"}),\"\\uFF1A\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EventSource\"})})})}),` \\u91CD\\u8FDE\\u65F6\\u95F4\\u4E0D\\u53EF\\u63A7\\uFF0C\\u53EF\\u80FD\\u592A\\u9891\\u7E41\\u6216\\u592A\\u6162\\u3002\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"retry:\"})})})}),\" \\u5B57\\u6BB5\\u6307\\u5B9A\\u91CD\\u8FDE\\u95F4\\u9694\\uFF08\\u5355\\u4F4D\\uFF1A\\u6BEB\\u79D2\\uFF09\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"retry: 5000\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"data: \\u91CD\\u8FDE\\u540E\\u7B2C\\u4E00\\u6761\\u6D88\\u606F\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\"\\uFF1A\\u5EFA\\u8BAE\\u6839\\u636E\\u4E1A\\u52A1\\u9700\\u6C42\\u8C03\\u6574\\uFF0C\\u6BD4\\u5982\\u5B9E\\u65F6\\u6027\\u8981\\u6C42\\u9AD8\\u7684\\u573A\\u666F\\u8BBE\\u4E3A 1000ms\\uFF0C\\u666E\\u901A\\u573A\\u666F\\u8BBE\\u4E3A 5000ms\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u4F7F\\u7528-last-event-id-\\u9632\\u4E22\\u6570\\u636E\",children:(0,n.jsx)(e.a,{href:\"#2-\\u4F7F\\u7528-last-event-id-\\u9632\\u4E22\\u6570\\u636E\",children:\"2. \\u4F7F\\u7528 Last-Event-ID \\u9632\\u4E22\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u573A\\u666F\"}),`\\uFF1A\\u7F51\\u7EDC\\u65AD\\u5F00\\u540E\\uFF0C\\u5BA2\\u6237\\u7AEF\\u91CD\\u8FDE\\u53EF\\u80FD\\u9519\\u8FC7\\u4E4B\\u524D\\u7684\\u6D88\\u606F\\u3002\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u5728\\u4E8B\\u4EF6\\u4E2D\\u6DFB\\u52A0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"id:\"})})})}),\" \\u5B57\\u6BB5\\uFF0C\\u5BA2\\u6237\\u7AEF\\u91CD\\u8FDE\\u65F6\\u4F1A\\u5E26\\u4E0A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Last-Event-ID\"})})})}),\" \\u8BF7\\u6C42\\u5934\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"id: 123\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'data: {\"message\": \"\\u7528\\u6237\\u767B\\u5F55\"}'})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\"\\uFF1AID \\u6700\\u597D\\u7528\\u9012\\u589E\\u5E8F\\u5217\\u6216\\u65F6\\u95F4\\u6233\\uFF0C\\u786E\\u4FDD\\u552F\\u4E00\\u6027\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5FC3\\u8DF3\\u673A\\u5236\\u4FDD\\u6D3B\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5FC3\\u8DF3\\u673A\\u5236\\u4FDD\\u6D3B\",children:\"3. \\u5FC3\\u8DF3\\u673A\\u5236\\u4FDD\\u6D3B\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u573A\\u666F\"}),`\\uFF1A\\u67D0\\u4E9B\\u4EE3\\u7406\\u670D\\u52A1\\u5668\\u6216\\u8D1F\\u8F7D\\u5747\\u8861\\u5668\\u4F1A\\u56E0\\u957F\\u65F6\\u95F4\\u65E0\\u6570\\u636E\\u800C\\u65AD\\u5F00\\u8FDE\\u63A5\\u3002\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u5B9A\\u671F\\u53D1\\u9001\\u7A7A\\u6D88\\u606F\\u6216\\u5FC3\\u8DF3\\u5305\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"data: heartbeat\"})})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\"\\uFF1A\\u6BCF 15-30 \\u79D2\\u53D1\\u4E00\\u6B21\\u5FC3\\u8DF3\\uFF0C\\u907F\\u514D\\u88AB\\u201C\\u65E0\\u60C5\\u7529\\u624B\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u9519\\u8BEF\\u5904\\u7406\\u8981\\u4F18\\u96C5\",children:(0,n.jsx)(e.a,{href:\"#4-\\u9519\\u8BEF\\u5904\\u7406\\u8981\\u4F18\\u96C5\",children:\"4. \\u9519\\u8BEF\\u5904\\u7406\\u8981\\u4F18\\u96C5\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u573A\\u666F\"}),`\\uFF1ASSE \\u8FDE\\u63A5\\u51FA\\u9519\\u65F6\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u4E0D\\u80FD\\u5D29\\u3002\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onerror\"})})})}),\" \\u5E76\\u63D0\\u4F9B\\u53CB\\u597D\\u63D0\\u793A\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"source.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setStatus\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8FDE\\u63A5\\u4E2D\\u65AD\\uFF0C\\u6B63\\u5728\\u91CD\\u8BD5...'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\"\\uFF1A\\u7ED3\\u5408 UI \\u663E\\u793A\\u201C\\u91CD\\u8FDE\\u4E2D\\u201D\\u72B6\\u6001\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u4EE5\\u4E3A\\u4E16\\u754C\\u672B\\u65E5\\u5230\\u4E86\\u{1F30B}\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"5-\\u914D\\u5408-http2-\\u63D0\\u901F\",children:(0,n.jsx)(e.a,{href:\"#5-\\u914D\\u5408-http2-\\u63D0\\u901F\",children:\"5. \\u914D\\u5408 HTTP/2 \\u63D0\\u901F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u573A\\u666F\"}),`\\uFF1ASSE \\u9ED8\\u8BA4\\u8DD1\\u5728 HTTP/1.1 \\u4E0A\\uFF0C\\u4F46 HTTP/2 \\u7684\\u591A\\u8DEF\\u590D\\u7528\\u80FD\\u8BA9\\u591A\\u4E2A\\u4E8B\\u4EF6\\u6D41\\u5E76\\u884C\\u3002\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),`\\uFF1A\\u786E\\u4FDD\\u670D\\u52A1\\u5668\\u652F\\u6301 HTTP/2\\uFF0C\\u5E76\\u5728 Nginx \\u6216\\u5176\\u4ED6\\u4EE3\\u7406\\u4E0A\\u542F\\u7528\\u3002\n`,(0,n.jsx)(e.strong,{children:\"Tips\"}),\"\\uFF1A\\u6D4B\\u8BD5\\u65F6\\u7528 Chrome \\u7684\\u5F00\\u53D1\\u8005\\u5DE5\\u5177\\u68C0\\u67E5\\u534F\\u8BAE\\u7248\\u672C\\uFF0C\\u786E\\u8BA4\\u5347\\u7EA7\\u6210\\u529F\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5E94\\u7528\\u573A\\u666Fsse-\\u7684\\u7528\\u6B66\\u4E4B\\u5730\",children:(0,n.jsx)(e.a,{href:\"#\\u5E94\\u7528\\u573A\\u666Fsse-\\u7684\\u7528\\u6B66\\u4E4B\\u5730\",children:\"\\u5E94\\u7528\\u573A\\u666F\\uFF1ASSE \\u7684\\u201C\\u7528\\u6B66\\u4E4B\\u5730\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"SSE \\u7684\\u9002\\u7528\\u573A\\u666F\\u591A\\u5230\\u8BA9\\u4EBA\\u773C\\u82B1\\u7F2D\\u4E71\\uFF0C\\u8FD9\\u91CC\\u4E3E\\u51E0\\u4E2A\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u65F6\\u901A\\u77E5\"}),\"\\uFF1A\\u50CF GitHub \\u7684\\u52A8\\u6001\\u66F4\\u65B0\\uFF0C\\u63A8\\u9001\\u65B0\\u8BC4\\u8BBA\\u6216 PR\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4EEA\\u8868\\u76D8\"}),\"\\uFF1A\\u80A1\\u7968\\u4EF7\\u683C\\u3001\\u670D\\u52A1\\u5668\\u72B6\\u6001\\u3001\\u7269\\u6D41\\u8DDF\\u8E2A\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u804A\\u5929\\u5BA4\\u7684\\u5E7F\\u64AD\\u6D88\\u606F\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u63A8\\u9001\\u516C\\u544A\\u7ED9\\u6240\\u6709\\u7528\\u6237\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FDB\\u5EA6\\u6761\"}),\"\\uFF1A\\u6587\\u4EF6\\u4E0A\\u4F20/\\u4E0B\\u8F7D\\u7684\\u5B9E\\u65F6\\u8FDB\\u5EA6\\u53CD\\u9988\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6211\\u66FE\\u7ECF\\u7528 SSE \\u505A\\u8FC7\\u4E00\\u4E2A\\u201C\\u5B9E\\u65F6\\u6295\\u7968\\u7ED3\\u679C\\u201D\\u529F\\u80FD\\uFF0C\\u7528\\u6237\\u6295\\u7968\\u540E\\uFF0C\\u670D\\u52A1\\u5668\\u7ACB\\u523B\\u63A8\\u9001\\u6700\\u65B0\\u7968\\u6570\\u7ED9\\u6240\\u6709\\u5BA2\\u6237\\u7AEF\\uFF0C\\u6574\\u4E2A\\u8FC7\\u7A0B\\u6D41\\u7545\\u5F97\\u50CF\\u4E1D\\u7EF8\\uFF0C\\u8FDE\\u540E\\u7AEF\\u540C\\u4E8B\\u90FD\\u5FCD\\u4E0D\\u4F4F\\u5938\\u6211\\u201C\\u6709\\u70B9\\u4E1C\\u897F\\u201D\\u{1F60E}\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"sse-\\u7684\\u672A\\u6765\\u5B83\\u4F1A\\u8FC7\\u65F6\\u5417\",children:(0,n.jsx)(e.a,{href:\"#sse-\\u7684\\u672A\\u6765\\u5B83\\u4F1A\\u8FC7\\u65F6\\u5417\",children:\"SSE \\u7684\\u672A\\u6765\\uFF1A\\u5B83\\u4F1A\\u8FC7\\u65F6\\u5417\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6709\\u4EBA\\u53EF\\u80FD\\u4F1A\\u95EE\\uFF1A\\u6709\\u4E86 WebSocket \\u548C WebRTC\\uFF0CSSE \\u8FD8\\u6709\\u620F\\u5417\\uFF1F\\u6211\\u7684\\u770B\\u6CD5\\u662F\\uFF0CSSE \\u7684\\u5B9A\\u4F4D\\u975E\\u5E38\\u660E\\u786E\\u2014\\u2014\\u5B83\\u662F\\u201C\\u7B80\\u5355\\u63A8\\u9001\\u201D\\u7684\\u6700\\u4F73\\u9009\\u62E9\\u3002WebSocket \\u9002\\u5408\\u590D\\u6742\\u4E92\\u52A8\\uFF0CSSE \\u5219\\u662F\\u201C\\u5355\\u5411\\u5E7F\\u64AD\\u201D\\u7684\\u738B\\u8005\\u3002\\u672A\\u6765\\uFF0C\\u968F\\u7740 HTTP/3 \\u7684\\u666E\\u53CA\\uFF0CSSE \\u7684\\u6027\\u80FD\\u53EF\\u80FD\\u8FD8\\u4F1A\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u3002\\u6240\\u4EE5\\uFF0C\\u522B\\u6025\\u7740\\u7ED9\\u5B83\\u8D34\\u4E0A\\u201C\\u8001\\u53E4\\u8463\\u201D\\u7684\\u6807\\u7B7E\\uFF0C\\u5B83\\u8FD8\\u4F1A\\u5728\\u524D\\u7AEF\\u821E\\u53F0\\u4E0A\\u53D1\\u5149\\u53D1\\u70ED\\u2728\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3sse-\\u662F\\u4F60\\u7684\\u4E0B\\u4E00\\u5F20\\u738B\\u724C\\u5417\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3sse-\\u662F\\u4F60\\u7684\\u4E0B\\u4E00\\u5F20\\u738B\\u724C\\u5417\",children:\"\\u603B\\u7ED3\\uFF1ASSE \\u662F\\u4F60\\u7684\\u4E0B\\u4E00\\u5F20\\u738B\\u724C\\u5417\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Server-Sent Events \\u5C31\\u50CF Web \\u5F00\\u53D1\\u4E2D\\u7684\\u4E00\\u74F6\\u201C\\u4F4E\\u8C03\\u7684\\u597D\\u9152\\u201D\\u2014\\u2014\\u4E0D\\u5F20\\u626C\\uFF0C\\u5374\\u56DE\\u5473\\u65E0\\u7A77\\u3002\\u5B83\\u7528\\u6700\\u5C0F\\u7684\\u6210\\u672C\\u89E3\\u51B3\\u4E86\\u5B9E\\u65F6\\u63A8\\u9001\\u7684\\u9700\\u6C42\\uFF0C\\u8FD8\\u81EA\\u5E26\\u91CD\\u8FDE\\u548C\\u517C\\u5BB9\\u6027\\u4F18\\u52BF\\u3002\\u5982\\u679C\\u4F60\\u538C\\u5026\\u4E86\\u8F6E\\u8BE2\\u7684\\u4F4E\\u6548\\uFF0C\\u53C8\\u4E0D\\u60F3\\u4E3A\\u7B80\\u5355\\u7684\\u63A8\\u9001\\u573A\\u666F\\u67B6\\u8BBE WebSocket \\u5927\\u70AE\\uFF0C\\u90A3 SSE \\u7EDD\\u5BF9\\u503C\\u5F97\\u4E00\\u8BD5\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u6B21\\u9879\\u76EE\\u9700\\u6C42\\u63D0\\u5230\\u201C\\u5B9E\\u65F6\\u66F4\\u65B0\\u201D\\uFF0C\\u522B\\u6025\\u7740\\u638F\\u51FA\\u590D\\u6742\\u7684\\u65B9\\u6848\\uFF0C\\u5148\\u95EE\\u95EE\\u81EA\\u5DF1\\uFF1ASSE \\u80FD\\u4E0D\\u80FD\\u641E\\u5B9A\\uFF1F\\u8BF4\\u4E0D\\u5B9A\\uFF0C\\u5B83\\u4F1A\\u6210\\u4E3A\\u4F60\\u4EE3\\u7801\\u5E93\\u91CC\\u7684\\u65B0\\u5BA0\\u513F\\u{1F43E}\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6709\\u4EC0\\u4E48\\u5173\\u4E8E SSE \\u7684\\u7591\\u95EE\\u6216\\u9A9A\\u64CD\\u4F5C\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u8DDF\\u6211\\u804A\\u804A\\uFF01\\u6211\\u4F1A\\u5C3D\\u91CF\\u7528\\u201C\\u4EBA\\u8BDD\\u201D\\u7ED9\\u4F60\\u89E3\\u7B54\\uFF0C\\u800C\\u4E0D\\u662F\\u7529\\u4E00\\u5806\\u6587\\u6863\\u94FE\\u63A5\\u6577\\u884D\\u4F60\\u{1F609}\\u3002\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(h,{...l})}):h(l)}return f(b);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/SSEå®žæ—¶Webé€šä¿¡çš„é©å‘½.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/SSEå®žæ—¶Webé€šä¿¡çš„é©å‘½.mdx",
    "sourceFileName": "SSEå®žæ—¶Webé€šä¿¡çš„é©å‘½.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/SSEå®žæ—¶Webé€šä¿¡çš„é©å‘½"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/SSEå®žæ—¶Webé€šä¿¡çš„é©å‘½"
}
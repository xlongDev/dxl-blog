{
  "title": "æ·±å…¥è§£æ JavaScript çš„ async/await",
  "date": "2022-03-16T00:00:00.000Z",
  "description": "è¯¦ç»†ä»‹ç» JavaScript ä¸­ async/await çš„å·¥ä½œåŸç†ã€ä½¿ç”¨æ–¹æ³•ä»¥åŠå¸¸è§åº”ç”¨åœºæ™¯ã€‚",
  "keywords": "async, await, JavaScript, å¼‚æ­¥ç¼–ç¨‹, Promise, å¼‚å¸¸å¤„ç†",
  "author": "æ™“é¾™",
  "image": "/images/hero/async-await.jpg",
  "tags": [
    "JavaScript",
    "å¼‚æ­¥ç¼–ç¨‹",
    "å‰ç«¯å¼€å‘"
  ],
  "views": 0,
  "likes": 0,
  "category": "JavaScript",
  "body": {
    "raw": "\nä½œä¸ºå‰ç«¯å¼€å‘ä¸­çš„\"å¼‚æ­¥ä»»åŠ¡æŒ‡æŒ¥å®˜\"ğŸ®ï¼Œ`async/await` è®©æˆ‘ä»¬å‘Šåˆ«äº†å›è°ƒåœ°ç‹±ï¼Œå¼€å¯äº†ä¼˜é›…å¤„ç†å¼‚æ­¥æ“ä½œçš„æ–°çºªå…ƒã€‚è¿™å¯¹äºæ„å»ºç°ä»£åŒ–çš„ Web åº”ç”¨æ¥è¯´ç®€ç›´å°±æ˜¯ä¸€åœºé©å‘½ â€”â€” å®ƒä¸ä»…è®©ä»£ç æ›´æ˜“è¯»ã€æ›´æ˜“ç»´æŠ¤ï¼Œè¿˜å¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚\n\næƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä¼ ç»Ÿçš„å›è°ƒå‡½æ•°æ˜¯åœ¨è¿·å®«ä¸­é ä¸€ä¸ªæ¥ä¸€ä¸ªçš„æŒ‡ç¤ºç‰Œå‰è¿›ï¼Œé‚£ä¹ˆ `async/await` å°±åƒæ˜¯æ‹¿åˆ°äº†æ•´ä¸ªè¿·å®«çš„åœ°å›¾ï¼Œè®©ä½ å¯ä»¥ä¸€çœ¼çœ‹æ¸…å‰è¿›çš„è·¯çº¿ã€‚ğŸ—ºï¸\n\næœ¬æ–‡å°†å¸¦ä½ æ·±å…¥æ¢ç´¢ `async/await` çš„å·¥ä½œåŸç†ï¼Œå¹¶ç»“åˆå®é™…å¼€å‘ä¸­çš„å…¸å‹åœºæ™¯ï¼Œåˆ†äº«ä¸€äº›å®ç”¨çš„æœ€ä½³å®è·µå’Œæ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚æ— è®ºä½ æ˜¯åˆšæ¥è§¦å¼‚æ­¥ç¼–ç¨‹çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯æƒ³è¿›ä¸€æ­¥æå‡æŠ€èƒ½çš„è€æ‰‹ï¼Œè¿™ç¯‡æ–‡ç« éƒ½å€¼å¾—ä¸€è¯»ã€‚\n\n## 1. å¼‚æ­¥ç¼–ç¨‹ç®€ä»‹\n\nåœ¨ä¼ ç»Ÿçš„ JavaScript ç¼–ç¨‹ä¸­ï¼Œå¼‚æ­¥æ“ä½œï¼ˆå¦‚æ–‡ä»¶è¯»å–ã€HTTP è¯·æ±‚ç­‰ï¼‰é€šå¸¸ä¼šé€šè¿‡å›è°ƒå‡½æ•°ï¼ˆcallbackï¼‰æ¥å¤„ç†ã€‚è¿™ç§æ–¹å¼è™½ç„¶å¯è¡Œï¼Œä½†å›è°ƒåœ°ç‹±ï¼ˆcallback hellï¼‰é—®é¢˜ä½¿å¾—ä»£ç ç»“æ„å˜å¾—éå¸¸å¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚\n\néšç€ Promise çš„å¼•å…¥ï¼Œå¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ å¯æ§ã€‚Promise ä¸ºå¼‚æ­¥æ“ä½œæä¾›äº†ä¸€ç§é“¾å¼è°ƒç”¨çš„æ–¹å¼ï¼Œä½†å¯¹äºä¸€äº›å¤æ‚çš„å¼‚æ­¥é€»è¾‘ï¼Œä»£ç ä»ç„¶å¯èƒ½å˜å¾—è¾ƒä¸ºå†—é•¿ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES2017 å¼•å…¥äº† `async/await` è¯­æ³•ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œçš„ç¼–å†™æ›´åŠ ç›´è§‚ã€‚\n\n## 2. `async` å‡½æ•°\n\n`async` æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒç”¨äºå£°æ˜ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚é€šè¿‡å°†ä¸€ä¸ªå‡½æ•°å£°æ˜ä¸º `async` å‡½æ•°ï¼ŒJavaScript å¼•æ“å°†è‡ªåŠ¨æŠŠè¯¥å‡½æ•°åŒ…è£…æˆä¸€ä¸ªè¿”å› `Promise` å¯¹è±¡çš„å‡½æ•°ã€‚æ— è®ºè¯¥å‡½æ•°å†…éƒ¨æ˜¯å¦æœ‰å¼‚æ­¥æ“ä½œï¼Œå®ƒéƒ½ä¼šè¿”å›ä¸€ä¸ª `Promise`ã€‚\n\n### ç¤ºä¾‹ 1ï¼šå£°æ˜ä¸€ä¸ª `async` å‡½æ•°\n\n```javascript\nasync function sayHello() {\n  return \"Hello, world!\";\n}\n\nsayHello().then((message) => {\n  console.log(message); // è¾“å‡º \"Hello, world!\"\n});\n```\n\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ`sayHello` å‡½æ•°è™½ç„¶æ²¡æœ‰æ˜¾å¼åœ°ä½¿ç”¨ `Promise`ï¼Œä½†ç”±äºå®ƒæ˜¯ä¸€ä¸ª `async` å‡½æ•°ï¼Œè¿”å›å€¼å®é™…ä¸Šæ˜¯ä¸€ä¸ª `Promise` å¯¹è±¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `.then()` æ–¹æ³•æ¥è·å–å®ƒçš„è¿”å›å€¼ã€‚\n\n## 3. `await` å…³é”®å­—\n\n`await` æ˜¯ä¸ `async` æ­é…ä½¿ç”¨çš„å…³é”®å­—ï¼Œç”¨äºç­‰å¾…ä¸€ä¸ª `Promise` è¢«è§£å†³ï¼ˆresolvedï¼‰æˆ–æ‹’ç»ï¼ˆrejectedï¼‰ã€‚`await` å¯ä»¥ä½¿å¾—å¼‚æ­¥ä»£ç çš„ä¹¦å†™æ›´åƒåŒæ­¥ä»£ç ï¼Œé¿å…äº†å›è°ƒå‡½æ•°æˆ– `.then()` é“¾å¼è°ƒç”¨çš„ç¹çã€‚\n\næƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœ `async` å‡½æ•°æ˜¯ä¸€ä½æŒ‡æŒ¥å®¶ ğŸ­ï¼Œé‚£ä¹ˆ `await` å°±æ˜¯ä»–æ‰‹ä¸­çš„æŒ‡æŒ¥æ£’ï¼Œå®ƒå‘Šè¯‰ä¹å›¢ä¸­çš„æŸä¸ªä¹å™¨ï¼ˆå¼‚æ­¥æ“ä½œï¼‰ï¼š\"è¯·æ¼”å¥ä½ çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬éƒ½åœ¨ç­‰ä½ å®Œæˆã€‚\"\n\n`await` åªèƒ½åœ¨ `async` å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚å®ƒä¼šæš‚åœå‡½æ•°çš„æ‰§è¡Œï¼Œç›´åˆ° `Promise` è¢«è§£å†³æˆ–æ‹’ç»ï¼Œç„¶åè¿”å› `Promise` çš„ç»“æœã€‚è¿™ç§\"æš‚åœ\"å¹¶ä¸ä¼šé˜»å¡æ•´ä¸ªç¨‹åºï¼ŒJavaScript å¼•æ“ä¼šç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œç›´åˆ°è¢«ç­‰å¾…çš„ Promise å®Œæˆã€‚\n\n### ç¤ºä¾‹ 2ï¼šä½¿ç”¨ `await` å¤„ç†å¼‚æ­¥æ“ä½œ\n\n```javascript\nasync function fetchData() {\n  let response = await fetch(\"https://jsonplaceholder.typicode.com/todos/1\");\n  let data = await response.json();\n  return data;\n}\n\nfetchData().then((data) => {\n  console.log(data); // è¾“å‡ºä» API è·å–çš„æ•°æ®\n});\n```\n\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ`fetchData` å‡½æ•°ä¼šç­‰å¾… `fetch` è¯·æ±‚å®Œæˆåï¼Œå†è§£æå“åº”å¹¶è¿”å›æ•°æ®ã€‚ä½¿ç”¨ `await` ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ï¼Œå¹¶ä¸”é¿å…äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚\n\n## 4. é”™è¯¯å¤„ç†\n\nåœ¨ä½¿ç”¨ `async/await` æ—¶ï¼Œå¼‚å¸¸å¤„ç†å˜å¾—æ›´åŠ ç›´è§‚ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `try/catch` è¯­å¥æ¥æ•è·å¼‚æ­¥æ“ä½œä¸­çš„é”™è¯¯ï¼Œè¿™æ ·çš„è¯­æ³•ç±»ä¼¼äºåŒæ­¥ä»£ç ä¸­çš„é”™è¯¯å¤„ç†ã€‚\n\nè¿™å°±åƒæ˜¯ç»™ä½ çš„å¼‚æ­¥æ“ä½œç©¿ä¸Šäº†ä¸€ä»¶\"å®‰å…¨èƒŒå¿ƒ\"ğŸ›¡ï¸ â€”â€” æ— è®ºé€”ä¸­é‡åˆ°ä»€ä¹ˆæ„å¤–æƒ…å†µï¼Œä½ éƒ½èƒ½ä¼˜é›…åœ°å¤„ç†å®ƒï¼Œè€Œä¸æ˜¯è®©æ•´ä¸ªåº”ç”¨å´©æºƒã€‚\n\n### ç¤ºä¾‹ 3ï¼šä½¿ç”¨ `try/catch` å¤„ç†å¼‚å¸¸\n\n```javascript\nasync function fetchData() {\n  try {\n    let response = await fetch(\n      \"https://jsonplaceholder.typicode.com/todos/invalid\"\n    );\n    let data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Error occurred:\", error);\n  }\n}\n\nfetchData(); // è¾“å‡ºé”™è¯¯ä¿¡æ¯\n```\n\nå¦‚æœ `fetch` è¯·æ±‚å¤±è´¥ï¼ˆå¦‚ URL æ— æ•ˆæˆ–ç½‘ç»œé”™è¯¯ï¼‰ï¼Œ`catch` è¯­å¥å°†æ•è·åˆ°å¼‚å¸¸ï¼Œå¹¶è¾“å‡ºé”™è¯¯ä¿¡æ¯ã€‚\n\n## 5. `async/await` ä¸ Promise çš„å…³ç³»\n\n`async/await` æ˜¯åŸºäº `Promise` çš„è¯­æ³•ç³–ã€‚æ¯ä¸ª `async` å‡½æ•°éƒ½ä¼šè¿”å›ä¸€ä¸ª `Promise`ï¼Œè€Œ `await` ç­‰å¾…çš„æ˜¯ä¸€ä¸ª `Promise`ã€‚æˆ‘ä»¬å¯ä»¥æŠŠ `async/await` çœ‹ä½œæ˜¯å¯¹ `Promise` çš„å°è£…ï¼Œç®€åŒ–äº†å¼‚æ­¥ä»£ç çš„ä¹¦å†™ã€‚\n\n### ç¤ºä¾‹ 4ï¼šæ‰‹åŠ¨å¤„ç† `Promise` ä¸ `async/await` çš„å¯¹æ¯”\n\n```javascript\n// ä½¿ç”¨ Promise\nfunction fetchDataWithPromise() {\n  return fetch(\"https://jsonplaceholder.typicode.com/todos/1\")\n    .then((response) => response.json())\n    .then((data) => data)\n    .catch((error) => console.error(\"Error:\", error));\n}\n\n// ä½¿ç”¨ async/await\nasync function fetchDataWithAsync() {\n  try {\n    let response = await fetch(\"https://jsonplaceholder.typicode.com/todos/1\");\n    let data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Error:\", error);\n  }\n}\n\nfetchDataWithPromise().then((data) => console.log(data));\nfetchDataWithAsync().then((data) => console.log(data));\n```\n\nä¸¤ç§å†™æ³•éƒ½èƒ½å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼Œ`async/await` çš„å†™æ³•æ›´åŠ ç®€æ´å’Œæ˜“è¯»ã€‚\n\n## 6. å¸¸è§åº”ç”¨åœºæ™¯\n\n### 6.1 ä¸²è¡Œå¼‚æ­¥æ“ä½œ\n\nå¦‚æœä½ éœ€è¦ä¾æ¬¡æ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œ`async/await` å¯ä»¥è®©ä»£ç çœ‹èµ·æ¥åƒæ˜¯åŒæ­¥æ‰§è¡Œä¸€æ ·ã€‚\n\n```javascript\nasync function getUserData(userId) {\n  let user = await fetch(\n    `https://jsonplaceholder.typicode.com/users/${userId}`\n  ).then((res) => res.json());\n  let posts = await fetch(\n    `https://jsonplaceholder.typicode.com/posts?userId=${userId}`\n  ).then((res) => res.json());\n  return { user, posts };\n}\n\ngetUserData(1).then((data) => console.log(data));\n```\n\n### 6.2 å¹¶è¡Œå¼‚æ­¥æ“ä½œ\n\nå¦‚æœä½ æœ‰å¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œå¹¶ä¸”è¿™äº›æ“ä½œæ˜¯ç‹¬ç«‹çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ `Promise.all` å’Œ `await` æ¥å¹¶è¡Œæ‰§è¡Œå®ƒä»¬ï¼Œä»¥æé«˜æ•ˆç‡ã€‚\n\nè¿™å°±åƒæ˜¯æ´¾å‡ºå¤šä¸ªå¿«é€’å‘˜ ğŸšš åŒæ—¶é€ä¸åŒçš„åŒ…è£¹ï¼Œè€Œä¸æ˜¯è®©ä¸€ä¸ªå¿«é€’å‘˜æŒ¨ä¸ªé€å®Œæ‰€æœ‰åŒ…è£¹ã€‚å½“æ‰€æœ‰å¿«é€’å‘˜éƒ½å®Œæˆä»»åŠ¡åï¼Œä½ ä¸€æ¬¡æ€§æ”¶åˆ°æ‰€æœ‰åŒ…è£¹ã€‚\n\n```javascript\nasync function fetchData() {\n  let [user, posts] = await Promise.all([\n    fetch(\"https://jsonplaceholder.typicode.com/users/1\").then((res) =>\n      res.json()\n    ),\n    fetch(\"https://jsonplaceholder.typicode.com/posts?userId=1\").then((res) =>\n      res.json()\n    ),\n  ]);\n  return { user, posts };\n}\n\nfetchData().then((data) => console.log(data));\n```\n\n## 7. å®æˆ˜åº”ç”¨ä¸æ€§èƒ½ä¼˜åŒ–\n\n### 7.1 React ä¸­çš„å¼‚æ­¥çŠ¶æ€ç®¡ç†\n\nåœ¨ React é¡¹ç›®ä¸­ï¼Œ`async/await` ç»å¸¸ç”¨äºå¤„ç†æ•°æ®è·å–å’ŒçŠ¶æ€æ›´æ–°ï¼š\n\n```javascript\nconst UserProfile = () => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(\"/api/user\");\n        const data = await response.json();\n        setUser(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, []);\n\n  if (loading) return <LoadingSpinner />;\n  if (error) return <ErrorMessage message={error} />;\n  return <UserInfo user={user} />;\n};\n```\n\n### 7.2 å¹¶å‘æ§åˆ¶ä¸æ€§èƒ½ä¼˜åŒ–\n\nåœ¨å¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„æ§åˆ¶å¹¶å‘æ•°é‡ï¼Œé¿å…æœåŠ¡å™¨å‹åŠ›è¿‡å¤§ï¼š\n\n```javascript\nasync function batchRequest(urls, maxConcurrent = 5) {\n  const results = [];\n  const chunks = urls.reduce((acc, url, i) => {\n    const chunkIndex = Math.floor(i / maxConcurrent);\n    acc[chunkIndex] = (acc[chunkIndex] || []).concat(url);\n    return acc;\n  }, []);\n\n  for (const chunk of chunks) {\n    const chunkResults = await Promise.all(\n      chunk.map((url) => fetch(url).then((res) => res.json()))\n    );\n    results.push(...chunkResults);\n  }\n\n  return results;\n}\n```\n\n### 7.3 é”™è¯¯é‡è¯•æœºåˆ¶\n\nåœ¨ç½‘ç»œä¸ç¨³å®šçš„ç¯å¢ƒä¸‹ï¼Œä¸ºå¼‚æ­¥æ“ä½œæ·»åŠ é‡è¯•æœºåˆ¶æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼š\n\n```javascript\nasync function fetchWithRetry(url, retries = 3, delay = 1000) {\n  for (let i = 0; i < retries; i++) {\n    try {\n      return await fetch(url);\n    } catch (err) {\n      if (i === retries - 1) throw err;\n      await new Promise((resolve) =>\n        setTimeout(resolve, delay * Math.pow(2, i))\n      );\n      console.log(`Retrying... Attempt ${i + 2}/${retries}`);\n    }\n  }\n}\n```\n\n### 7.4 æ€§èƒ½ä¼˜åŒ–å»ºè®®\n\n1. **é¿å…ä¸²è¡Œç­‰å¾…**ï¼šå½“å¤šä¸ªå¼‚æ­¥æ“ä½œä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ `Promise.all` æˆ– `Promise.allSettled` å¹¶è¡Œæ‰§è¡Œã€‚\n\n2. **åˆç†ä½¿ç”¨ `Promise.race`**ï¼šåœ¨éœ€è¦è®¾ç½®è¶…æ—¶å¤„ç†çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥é…åˆ `Promise.race` å®ç°ï¼š\n\n```javascript\nasync function fetchWithTimeout(url, timeout = 5000) {\n  const controller = new AbortController();\n  const timeoutPromise = new Promise((_, reject) => {\n    setTimeout(() => {\n      controller.abort();\n      reject(new Error(\"Request timeout\"));\n    }, timeout);\n  });\n\n  return Promise.race([\n    fetch(url, { signal: controller.signal }),\n    timeoutPromise,\n  ]);\n}\n```\n\n3. **ç¼“å­˜å¼‚æ­¥ç»“æœ**ï¼šå¯¹äºçŸ­æ—¶é—´å†…å¯èƒ½é‡å¤çš„å¼‚æ­¥æ“ä½œï¼Œè€ƒè™‘ä½¿ç”¨ç¼“å­˜ï¼š\n\n```javascript\nconst memoizedFetch = (() => {\n  const cache = new Map();\n  return async (url, ttl = 60000) => {\n    if (cache.has(url)) {\n      const { data, timestamp } = cache.get(url);\n      if (Date.now() - timestamp < ttl) return data;\n    }\n    const response = await fetch(url);\n    const data = await response.json();\n    cache.set(url, { data, timestamp: Date.now() });\n    return data;\n  };\n})();\n```\n\n## 8. å¸¸è§é™·é˜±ä¸æ³¨æ„äº‹é¡¹ âš ï¸\n\nåœ¨ä½¿ç”¨ `async/await` çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›å¸¸è§çš„é™·é˜±éœ€è¦æˆ‘ä»¬æ³¨æ„ï¼š\n\n### 8.1 å¿˜è®°ä½¿ç”¨ await\n\nè¿™æ˜¯æœ€å¸¸è§çš„é”™è¯¯ä¹‹ä¸€ã€‚å¦‚æœä½ åœ¨ `async` å‡½æ•°ä¸­è°ƒç”¨å¦ä¸€ä¸ªè¿”å› Promise çš„å‡½æ•°ï¼Œä½†å¿˜è®°ä½¿ç”¨ `await`ï¼Œé‚£ä¹ˆä½ å°†å¾—åˆ°ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œä¸æ˜¯ Promise è§£æåçš„å€¼ã€‚\n\n```javascript\nasync function getData() {\n  // é”™è¯¯ï¼šå¿˜è®°ä½¿ç”¨ await\n  const data = fetch(\"https://api.example.com/data\");\n  console.log(data); // è¾“å‡º Promise å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ•°æ®\n\n  // æ­£ç¡®ï¼šä½¿ç”¨ await\n  const correctData = await fetch(\"https://api.example.com/data\");\n  console.log(correctData); // è¾“å‡ºè·å–åˆ°çš„æ•°æ®\n}\n```\n\n### 8.2 é”™è¯¯ä¼ æ’­\n\nåœ¨ `async` å‡½æ•°ä¸­ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ `try/catch` æ•è·é”™è¯¯ï¼Œé‚£ä¹ˆé”™è¯¯ä¼šè¢«åŒ…è£…åœ¨è¿”å›çš„ Promise ä¸­ã€‚è°ƒç”¨è€…éœ€è¦ä½¿ç”¨ `.catch()` æˆ– `try/catch` é…åˆ `await` æ¥æ•è·è¿™äº›é”™è¯¯ã€‚\n\n```javascript\nasync function riskyOperation() {\n  throw new Error(\"Something went wrong\");\n}\n\n// æ–¹æ³•1ï¼šä½¿ç”¨ .catch()\nriskyOperation().catch((error) => console.error(error));\n\n// æ–¹æ³•2ï¼šä½¿ç”¨ try/catch é…åˆ await\nasync function handleError() {\n  try {\n    await riskyOperation();\n  } catch (error) {\n    console.error(error);\n  }\n}\n```\n\n### 8.3 await åœ¨å¾ªç¯ä¸­çš„ä½¿ç”¨\n\nåœ¨å¾ªç¯ä¸­ä½¿ç”¨ `await` æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚å¦‚æœä½ æƒ³ä¸²è¡Œæ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ `for` å¾ªç¯ï¼›å¦‚æœæƒ³å¹¶è¡Œæ‰§è¡Œï¼Œåº”è¯¥ä½¿ç”¨ `Promise.all` é…åˆ `map`ã€‚\n\n```javascript\n// ä¸²è¡Œæ‰§è¡Œï¼ˆæ¯æ¬¡è¯·æ±‚ç­‰å¾…å‰ä¸€ä¸ªå®Œæˆï¼‰\nasync function serialFetch(urls) {\n  const results = [];\n  for (const url of urls) {\n    const result = await fetch(url).then((r) => r.json());\n    results.push(result);\n  }\n  return results;\n}\n\n// å¹¶è¡Œæ‰§è¡Œï¼ˆæ‰€æœ‰è¯·æ±‚åŒæ—¶å‘èµ·ï¼‰\nasync function parallelFetch(urls) {\n  const promises = urls.map((url) => fetch(url).then((r) => r.json()));\n  return await Promise.all(promises);\n}\n```\n\n### 8.4 é¡¶å±‚ await\n\nåœ¨ ES2022 ä¹‹å‰ï¼Œ`await` åªèƒ½åœ¨ `async` å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚ç°åœ¨ï¼Œé¡¶å±‚ `await` å…è®¸åœ¨æ¨¡å—çš„é¡¶å±‚ä½¿ç”¨ `await`ï¼Œè¿™åœ¨å¯¼å…¥åŠ¨æ€å†…å®¹æˆ–æ¡ä»¶æ€§åŠ è½½æ¨¡å—æ—¶éå¸¸æœ‰ç”¨ã€‚\n\n```javascript\n// ç°ä»£æµè§ˆå™¨å’Œ Node.js 14+ æ”¯æŒé¡¶å±‚ await\nconst response = await fetch(\"https://api.example.com/data\");\nconst data = await response.json();\n\nexport { data };\n```\n\n## 9. æ€»ç»“ ğŸ¯\n\nå›é¡¾æ•´ä¸ª `async/await` çš„å‘å±•å†ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæ˜¯å¦‚ä½•ä¼˜é›…åœ°è§£å†³äº† JavaScript å¼‚æ­¥ç¼–ç¨‹ä¸­çš„ç—›ç‚¹ã€‚ä»æœ€åˆçš„å›è°ƒå‡½æ•°ï¼Œåˆ° Promise çš„é“¾å¼è°ƒç”¨ï¼Œå†åˆ°ç°åœ¨çš„ `async/await`ï¼Œæ¯ä¸€æ¬¡æ¼”è¿›éƒ½è®©å¼‚æ­¥ç¼–ç¨‹å˜å¾—æ›´åŠ ä¼˜é›…å’Œé«˜æ•ˆã€‚\n\nåœ¨å®é™…å¼€å‘ä¸­ï¼Œåˆç†è¿ç”¨ `async/await` ä¸ä»…èƒ½æå‡ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè¿˜èƒ½å¸®åŠ©æˆ‘ä»¬æ„å»ºæ›´åŠ å¥å£®çš„åº”ç”¨ã€‚è®°ä½ä»¥ä¸‹å‡ ç‚¹å»ºè®®ï¼š\n\n- ä½¿ç”¨ `try/catch` è¿›è¡Œé”™è¯¯å¤„ç†ï¼Œä¸è¦è®©å¼‚å¸¸æ— å£°æ— æ¯åœ°å‘ç”Ÿ ğŸ›¡ï¸\n- æ ¹æ®å®é™…åœºæ™¯é€‰æ‹©ä¸²è¡Œæˆ–å¹¶è¡Œæ‰§è¡Œï¼Œé¿å…ä¸å¿…è¦çš„æ€§èƒ½æŸå¤± âš¡\n- åœ¨å¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚æ—¶ï¼Œæ³¨æ„æ§åˆ¶å¹¶å‘æ•°é‡ ğŸš¦\n- ä¸ºå…³é”®çš„å¼‚æ­¥æ“ä½œæ·»åŠ è¶…æ—¶å¤„ç†å’Œé‡è¯•æœºåˆ¶ â±ï¸\n- åˆç†åˆ©ç”¨ç¼“å­˜ï¼Œé¿å…é‡å¤çš„å¼‚æ­¥è¯·æ±‚ ğŸ’¾\n- æ³¨æ„å¸¸è§é™·é˜±ï¼Œç‰¹åˆ«æ˜¯åœ¨å¾ªç¯ä¸­ä½¿ç”¨ await å’Œé”™è¯¯å¤„ç†æ–¹é¢ ğŸš§\n\næœ€åï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸ä»…å¸®åŠ©ä½ ç†è§£äº† `async/await` çš„å·¥ä½œåŸç†ï¼Œæ›´èƒ½æŒ‡å¯¼ä½ åœ¨å®é™…é¡¹ç›®ä¸­æ›´å¥½åœ°è¿ç”¨è¿™ä¸€å¼ºå¤§ç‰¹æ€§ã€‚è®°ä½ï¼Œç¼–å†™å¼‚æ­¥ä»£ç ä¸ä»…æ˜¯ä¸€é—¨æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€é—¨è‰ºæœ¯ â€”â€” åœ¨è¿½æ±‚åŠŸèƒ½å®ç°çš„åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜è¦è€ƒè™‘ä»£ç çš„ä¼˜é›…æ€§ã€å¯ç»´æŠ¤æ€§å’Œæ€§èƒ½è¡¨ç°ã€‚\n\nç¥ä½ çš„å¼‚æ­¥ä»£ç æ°¸è¿œé¡ºç•…ï¼Œæ²¡æœ‰å›è°ƒåœ°ç‹±çš„å›°æ‰°ï¼ğŸš€\n",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var a in e)c(n,a,{get:e[a],enumerable:!0})},t=(n,e,a,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of E(e))!g.call(n,r)&&r!==a&&c(n,r,{get:()=>e[r],enumerable:!(s=y(e,r))||s.enumerable});return n};var f=(n,e,a)=>(a=n!=null?p(F(n)):{},t(e||!n||!n.__esModule?c(a,\"default\",{value:n,enumerable:!0}):a,n)),m=n=>t(c({},\"__esModule\",{value:!0}),n);var i=u((w,d)=>{d.exports=_jsx_runtime});var k={};B(k,{default:()=>h,frontmatter:()=>b});var l=f(i()),b={type:\"Post\",title:\"\\u6DF1\\u5165\\u89E3\\u6790 JavaScript \\u7684 async/await\",date:\"2022-03-16\",description:\"\\u8BE6\\u7EC6\\u4ECB\\u7ECD JavaScript \\u4E2D async/await \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u3001\\u4F7F\\u7528\\u65B9\\u6CD5\\u4EE5\\u53CA\\u5E38\\u89C1\\u5E94\\u7528\\u573A\\u666F\\u3002\",keywords:\"async, await, JavaScript, \\u5F02\\u6B65\\u7F16\\u7A0B, Promise, \\u5F02\\u5E38\\u5904\\u7406\",author:\"\\u6653\\u9F99\",image:\"/images/hero/async-await.jpg\",tags:[\"JavaScript\",\"\\u5F02\\u6B65\\u7F16\\u7A0B\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"JavaScript\"};function o(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:['\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u7684\"\\u5F02\\u6B65\\u4EFB\\u52A1\\u6307\\u6325\\u5B98\"\\u{1F3AE}\\uFF0C',(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u8BA9\\u6211\\u4EEC\\u544A\\u522B\\u4E86\\u56DE\\u8C03\\u5730\\u72F1\\uFF0C\\u5F00\\u542F\\u4E86\\u4F18\\u96C5\\u5904\\u7406\\u5F02\\u6B65\\u64CD\\u4F5C\\u7684\\u65B0\\u7EAA\\u5143\\u3002\\u8FD9\\u5BF9\\u4E8E\\u6784\\u5EFA\\u73B0\\u4EE3\\u5316\\u7684 Web \\u5E94\\u7528\\u6765\\u8BF4\\u7B80\\u76F4\\u5C31\\u662F\\u4E00\\u573A\\u9769\\u547D \\u2014\\u2014 \\u5B83\\u4E0D\\u4EC5\\u8BA9\\u4EE3\\u7801\\u66F4\\u6613\\u8BFB\\u3001\\u66F4\\u6613\\u7EF4\\u62A4\\uFF0C\\u8FD8\\u5927\\u5927\\u63D0\\u5347\\u4E86\\u5F00\\u53D1\\u6548\\u7387\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u5982\\u679C\\u4F20\\u7EDF\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\u662F\\u5728\\u8FF7\\u5BAB\\u4E2D\\u9760\\u4E00\\u4E2A\\u63A5\\u4E00\\u4E2A\\u7684\\u6307\\u793A\\u724C\\u524D\\u8FDB\\uFF0C\\u90A3\\u4E48 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u5C31\\u50CF\\u662F\\u62FF\\u5230\\u4E86\\u6574\\u4E2A\\u8FF7\\u5BAB\\u7684\\u5730\\u56FE\\uFF0C\\u8BA9\\u4F60\\u53EF\\u4EE5\\u4E00\\u773C\\u770B\\u6E05\\u524D\\u8FDB\\u7684\\u8DEF\\u7EBF\\u3002\\u{1F5FA}\\uFE0F\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165\\u63A2\\u7D22 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\uFF0C\\u5E76\\u7ED3\\u5408\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\u7684\\u5178\\u578B\\u573A\\u666F\\uFF0C\\u5206\\u4EAB\\u4E00\\u4E9B\\u5B9E\\u7528\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\u548C\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521A\\u63A5\\u89E6\\u5F02\\u6B65\\u7F16\\u7A0B\\u7684\\u65B0\\u624B\\uFF0C\\u8FD8\\u662F\\u60F3\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u6280\\u80FD\\u7684\\u8001\\u624B\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u90FD\\u503C\\u5F97\\u4E00\\u8BFB\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"1-\\u5F02\\u6B65\\u7F16\\u7A0B\\u7B80\\u4ECB\",children:(0,l.jsx)(e.a,{href:\"#1-\\u5F02\\u6B65\\u7F16\\u7A0B\\u7B80\\u4ECB\",children:\"1. \\u5F02\\u6B65\\u7F16\\u7A0B\\u7B80\\u4ECB\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u4F20\\u7EDF\\u7684 JavaScript \\u7F16\\u7A0B\\u4E2D\\uFF0C\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF08\\u5982\\u6587\\u4EF6\\u8BFB\\u53D6\\u3001HTTP \\u8BF7\\u6C42\\u7B49\\uFF09\\u901A\\u5E38\\u4F1A\\u901A\\u8FC7\\u56DE\\u8C03\\u51FD\\u6570\\uFF08callback\\uFF09\\u6765\\u5904\\u7406\\u3002\\u8FD9\\u79CD\\u65B9\\u5F0F\\u867D\\u7136\\u53EF\\u884C\\uFF0C\\u4F46\\u56DE\\u8C03\\u5730\\u72F1\\uFF08callback hell\\uFF09\\u95EE\\u9898\\u4F7F\\u5F97\\u4EE3\\u7801\\u7ED3\\u6784\\u53D8\\u5F97\\u975E\\u5E38\\u590D\\u6742\\uFF0C\\u96BE\\u4EE5\\u7EF4\\u62A4\\u3002\"}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u968F\\u7740 Promise \\u7684\\u5F15\\u5165\\uFF0C\\u5F02\\u6B65\\u64CD\\u4F5C\\u53D8\\u5F97\\u66F4\\u52A0\\u53EF\\u63A7\\u3002Promise \\u4E3A\\u5F02\\u6B65\\u64CD\\u4F5C\\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u94FE\\u5F0F\\u8C03\\u7528\\u7684\\u65B9\\u5F0F\\uFF0C\\u4F46\\u5BF9\\u4E8E\\u4E00\\u4E9B\\u590D\\u6742\\u7684\\u5F02\\u6B65\\u903B\\u8F91\\uFF0C\\u4EE3\\u7801\\u4ECD\\u7136\\u53EF\\u80FD\\u53D8\\u5F97\\u8F83\\u4E3A\\u5197\\u957F\\u3002\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0CES2017 \\u5F15\\u5165\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u8BED\\u6CD5\\uFF0C\\u4F7F\\u5F97\\u5F02\\u6B65\\u64CD\\u4F5C\\u7684\\u7F16\\u5199\\u66F4\\u52A0\\u76F4\\u89C2\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"2-async-\\u51FD\\u6570\",children:(0,l.jsxs)(e.a,{href:\"#2-async-\\u51FD\\u6570\",children:[\"2. \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\"]})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u5173\\u952E\\u5B57\\uFF0C\\u5B83\\u7528\\u4E8E\\u58F0\\u660E\\u4E00\\u4E2A\\u5F02\\u6B65\\u51FD\\u6570\\u3002\\u901A\\u8FC7\\u5C06\\u4E00\\u4E2A\\u51FD\\u6570\\u58F0\\u660E\\u4E3A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\uFF0CJavaScript \\u5F15\\u64CE\\u5C06\\u81EA\\u52A8\\u628A\\u8BE5\\u51FD\\u6570\\u5305\\u88C5\\u6210\\u4E00\\u4E2A\\u8FD4\\u56DE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5BF9\\u8C61\\u7684\\u51FD\\u6570\\u3002\\u65E0\\u8BBA\\u8BE5\\u51FD\\u6570\\u5185\\u90E8\\u662F\\u5426\\u6709\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF0C\\u5B83\\u90FD\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u793A\\u4F8B-1\\u58F0\\u660E\\u4E00\\u4E2A-async-\\u51FD\\u6570\",children:(0,l.jsxs)(e.a,{href:\"#\\u793A\\u4F8B-1\\u58F0\\u660E\\u4E00\\u4E2A-async-\\u51FD\\u6570\",children:[\"\\u793A\\u4F8B 1\\uFF1A\\u58F0\\u660E\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\"]})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" sayHello\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"Hello, world!\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sayHello\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"message\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(message); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \\u8F93\\u51FA \"Hello, world!\"'})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u4E0A\\u9762\\u7684\\u4EE3\\u7801\\u4E2D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"sayHello\"})})})}),\" \\u51FD\\u6570\\u867D\\u7136\\u6CA1\\u6709\\u663E\\u5F0F\\u5730\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\uFF0C\\u4F46\\u7531\\u4E8E\\u5B83\\u662F\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\uFF0C\\u8FD4\\u56DE\\u503C\\u5B9E\\u9645\\u4E0A\\u662F\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u5BF9\\u8C61\\u3002\\u56E0\\u6B64\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".then()\"})})})}),\" \\u65B9\\u6CD5\\u6765\\u83B7\\u53D6\\u5B83\\u7684\\u8FD4\\u56DE\\u503C\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"3-await-\\u5173\\u952E\\u5B57\",children:(0,l.jsxs)(e.a,{href:\"#3-await-\\u5173\\u952E\\u5B57\",children:[\"3. \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u5173\\u952E\\u5B57\"]})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u662F\\u4E0E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u642D\\u914D\\u4F7F\\u7528\\u7684\\u5173\\u952E\\u5B57\\uFF0C\\u7528\\u4E8E\\u7B49\\u5F85\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u88AB\\u89E3\\u51B3\\uFF08resolved\\uFF09\\u6216\\u62D2\\u7EDD\\uFF08rejected\\uFF09\\u3002\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u53EF\\u4EE5\\u4F7F\\u5F97\\u5F02\\u6B65\\u4EE3\\u7801\\u7684\\u4E66\\u5199\\u66F4\\u50CF\\u540C\\u6B65\\u4EE3\\u7801\\uFF0C\\u907F\\u514D\\u4E86\\u56DE\\u8C03\\u51FD\\u6570\\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".then()\"})})})}),\" \\u94FE\\u5F0F\\u8C03\\u7528\\u7684\\u7E41\\u7410\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u5982\\u679C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\u662F\\u4E00\\u4F4D\\u6307\\u6325\\u5BB6 \\u{1F3AD}\\uFF0C\\u90A3\\u4E48 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),' \\u5C31\\u662F\\u4ED6\\u624B\\u4E2D\\u7684\\u6307\\u6325\\u68D2\\uFF0C\\u5B83\\u544A\\u8BC9\\u4E50\\u56E2\\u4E2D\\u7684\\u67D0\\u4E2A\\u4E50\\u5668\\uFF08\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF09\\uFF1A\"\\u8BF7\\u6F14\\u594F\\u4F60\\u7684\\u90E8\\u5206\\uFF0C\\u6211\\u4EEC\\u90FD\\u5728\\u7B49\\u4F60\\u5B8C\\u6210\\u3002\"']}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u53EA\\u80FD\\u5728 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\u5185\\u90E8\\u4F7F\\u7528\\u3002\\u5B83\\u4F1A\\u6682\\u505C\\u51FD\\u6570\\u7684\\u6267\\u884C\\uFF0C\\u76F4\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u88AB\\u89E3\\u51B3\\u6216\\u62D2\\u7EDD\\uFF0C\\u7136\\u540E\\u8FD4\\u56DE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),' \\u7684\\u7ED3\\u679C\\u3002\\u8FD9\\u79CD\"\\u6682\\u505C\"\\u5E76\\u4E0D\\u4F1A\\u963B\\u585E\\u6574\\u4E2A\\u7A0B\\u5E8F\\uFF0CJavaScript \\u5F15\\u64CE\\u4F1A\\u7EE7\\u7EED\\u6267\\u884C\\u5176\\u4ED6\\u4EFB\\u52A1\\uFF0C\\u76F4\\u5230\\u88AB\\u7B49\\u5F85\\u7684 Promise \\u5B8C\\u6210\\u3002']}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u793A\\u4F8B-2\\u4F7F\\u7528-await-\\u5904\\u7406\\u5F02\\u6B65\\u64CD\\u4F5C\",children:(0,l.jsxs)(e.a,{href:\"#\\u793A\\u4F8B-2\\u4F7F\\u7528-await-\\u5904\\u7406\\u5F02\\u6B65\\u64CD\\u4F5C\",children:[\"\\u793A\\u4F8B 2\\uFF1A\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u5904\\u7406\\u5F02\\u6B65\\u64CD\\u4F5C\"]})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://jsonplaceholder.typicode.com/todos/1\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8F93\\u51FA\\u4ECE API \\u83B7\\u53D6\\u7684\\u6570\\u636E\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u4E0A\\u9762\\u7684\\u4EE3\\u7801\\u4E2D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"fetchData\"})})})}),\" \\u51FD\\u6570\\u4F1A\\u7B49\\u5F85 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"fetch\"})})})}),\" \\u8BF7\\u6C42\\u5B8C\\u6210\\u540E\\uFF0C\\u518D\\u89E3\\u6790\\u54CD\\u5E94\\u5E76\\u8FD4\\u56DE\\u6570\\u636E\\u3002\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u4F7F\\u5F97\\u4EE3\\u7801\\u66F4\\u52A0\\u7B80\\u6D01\\uFF0C\\u5E76\\u4E14\\u907F\\u514D\\u4E86\\u56DE\\u8C03\\u5730\\u72F1\\u7684\\u95EE\\u9898\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"4-\\u9519\\u8BEF\\u5904\\u7406\",children:(0,l.jsx)(e.a,{href:\"#4-\\u9519\\u8BEF\\u5904\\u7406\",children:\"4. \\u9519\\u8BEF\\u5904\\u7406\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u65F6\\uFF0C\\u5F02\\u5E38\\u5904\\u7406\\u53D8\\u5F97\\u66F4\\u52A0\\u76F4\\u89C2\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try/catch\"})})})}),\" \\u8BED\\u53E5\\u6765\\u6355\\u83B7\\u5F02\\u6B65\\u64CD\\u4F5C\\u4E2D\\u7684\\u9519\\u8BEF\\uFF0C\\u8FD9\\u6837\\u7684\\u8BED\\u6CD5\\u7C7B\\u4F3C\\u4E8E\\u540C\\u6B65\\u4EE3\\u7801\\u4E2D\\u7684\\u9519\\u8BEF\\u5904\\u7406\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:'\\u8FD9\\u5C31\\u50CF\\u662F\\u7ED9\\u4F60\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\\u7A7F\\u4E0A\\u4E86\\u4E00\\u4EF6\"\\u5B89\\u5168\\u80CC\\u5FC3\"\\u{1F6E1}\\uFE0F \\u2014\\u2014 \\u65E0\\u8BBA\\u9014\\u4E2D\\u9047\\u5230\\u4EC0\\u4E48\\u610F\\u5916\\u60C5\\u51B5\\uFF0C\\u4F60\\u90FD\\u80FD\\u4F18\\u96C5\\u5730\\u5904\\u7406\\u5B83\\uFF0C\\u800C\\u4E0D\\u662F\\u8BA9\\u6574\\u4E2A\\u5E94\\u7528\\u5D29\\u6E83\\u3002'}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u793A\\u4F8B-3\\u4F7F\\u7528-trycatch-\\u5904\\u7406\\u5F02\\u5E38\",children:(0,l.jsxs)(e.a,{href:\"#\\u793A\\u4F8B-3\\u4F7F\\u7528-trycatch-\\u5904\\u7406\\u5F02\\u5E38\",children:[\"\\u793A\\u4F8B 3\\uFF1A\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try/catch\"})})})}),\" \\u5904\\u7406\\u5F02\\u5E38\"]})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'      \"https://jsonplaceholder.typicode.com/todos/invalid\"'})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Error occurred:\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8F93\\u51FA\\u9519\\u8BEF\\u4FE1\\u606F\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"fetch\"})})})}),\" \\u8BF7\\u6C42\\u5931\\u8D25\\uFF08\\u5982 URL \\u65E0\\u6548\\u6216\\u7F51\\u7EDC\\u9519\\u8BEF\\uFF09\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"catch\"})})})}),\" \\u8BED\\u53E5\\u5C06\\u6355\\u83B7\\u5230\\u5F02\\u5E38\\uFF0C\\u5E76\\u8F93\\u51FA\\u9519\\u8BEF\\u4FE1\\u606F\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"5-asyncawait-\\u4E0E-promise-\\u7684\\u5173\\u7CFB\",children:(0,l.jsxs)(e.a,{href:\"#5-asyncawait-\\u4E0E-promise-\\u7684\\u5173\\u7CFB\",children:[\"5. \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u4E0E Promise \\u7684\\u5173\\u7CFB\"]})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u662F\\u57FA\\u4E8E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u8BED\\u6CD5\\u7CD6\\u3002\\u6BCF\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\u90FD\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\uFF0C\\u800C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u7B49\\u5F85\\u7684\\u662F\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\"\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u628A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u770B\\u4F5C\\u662F\\u5BF9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u7684\\u5C01\\u88C5\\uFF0C\\u7B80\\u5316\\u4E86\\u5F02\\u6B65\\u4EE3\\u7801\\u7684\\u4E66\\u5199\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u793A\\u4F8B-4\\u624B\\u52A8\\u5904\\u7406-promise-\\u4E0E-asyncawait-\\u7684\\u5BF9\\u6BD4\",children:(0,l.jsxs)(e.a,{href:\"#\\u793A\\u4F8B-4\\u624B\\u52A8\\u5904\\u7406-promise-\\u4E0E-asyncawait-\\u7684\\u5BF9\\u6BD4\",children:[\"\\u793A\\u4F8B 4\\uFF1A\\u624B\\u52A8\\u5904\\u7406 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise\"})})})}),\" \\u4E0E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u7684\\u5BF9\\u6BD4\"]})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528 Promise\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchDataWithPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://jsonplaceholder.typicode.com/todos/1\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data)\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Error:\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528 async/await\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchDataWithAsync\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://jsonplaceholder.typicode.com/todos/1\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Error:\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchDataWithPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchDataWithAsync\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4E24\\u79CD\\u5199\\u6CD5\\u90FD\\u80FD\\u5B9E\\u73B0\\u76F8\\u540C\\u7684\\u529F\\u80FD\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u7684\\u5199\\u6CD5\\u66F4\\u52A0\\u7B80\\u6D01\\u548C\\u6613\\u8BFB\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"6-\\u5E38\\u89C1\\u5E94\\u7528\\u573A\\u666F\",children:(0,l.jsx)(e.a,{href:\"#6-\\u5E38\\u89C1\\u5E94\\u7528\\u573A\\u666F\",children:\"6. \\u5E38\\u89C1\\u5E94\\u7528\\u573A\\u666F\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"61-\\u4E32\\u884C\\u5F02\\u6B65\\u64CD\\u4F5C\",children:(0,l.jsx)(e.a,{href:\"#61-\\u4E32\\u884C\\u5F02\\u6B65\\u64CD\\u4F5C\",children:\"6.1 \\u4E32\\u884C\\u5F02\\u6B65\\u64CD\\u4F5C\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u9700\\u8981\\u4F9D\\u6B21\\u6267\\u884C\\u591A\\u4E2A\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u53EF\\u4EE5\\u8BA9\\u4EE3\\u7801\\u770B\\u8D77\\u6765\\u50CF\\u662F\\u540C\\u6B65\\u6267\\u884C\\u4E00\\u6837\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getUserData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"userId\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" user \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"    `https://jsonplaceholder.typicode.com/users/${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"userId\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" posts \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"    `https://jsonplaceholder.typicode.com/posts?userId=${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"userId\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { user, posts };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getUserData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data));\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"62-\\u5E76\\u884C\\u5F02\\u6B65\\u64CD\\u4F5C\",children:(0,l.jsx)(e.a,{href:\"#62-\\u5E76\\u884C\\u5F02\\u6B65\\u64CD\\u4F5C\",children:\"6.2 \\u5E76\\u884C\\u5F02\\u6B65\\u64CD\\u4F5C\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u6709\\u591A\\u4E2A\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF0C\\u5E76\\u4E14\\u8FD9\\u4E9B\\u64CD\\u4F5C\\u662F\\u72EC\\u7ACB\\u7684\\uFF0C\\u4F60\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u6765\\u5E76\\u884C\\u6267\\u884C\\u5B83\\u4EEC\\uFF0C\\u4EE5\\u63D0\\u9AD8\\u6548\\u7387\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u5C31\\u50CF\\u662F\\u6D3E\\u51FA\\u591A\\u4E2A\\u5FEB\\u9012\\u5458 \\u{1F69A} \\u540C\\u65F6\\u9001\\u4E0D\\u540C\\u7684\\u5305\\u88F9\\uFF0C\\u800C\\u4E0D\\u662F\\u8BA9\\u4E00\\u4E2A\\u5FEB\\u9012\\u5458\\u6328\\u4E2A\\u9001\\u5B8C\\u6240\\u6709\\u5305\\u88F9\\u3002\\u5F53\\u6240\\u6709\\u5FEB\\u9012\\u5458\\u90FD\\u5B8C\\u6210\\u4EFB\\u52A1\\u540E\\uFF0C\\u4F60\\u4E00\\u6B21\\u6027\\u6536\\u5230\\u6240\\u6709\\u5305\\u88F9\\u3002\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [user, posts] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://jsonplaceholder.typicode.com/users/1\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ),\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://jsonplaceholder.typicode.com/posts?userId=1\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ),\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ]);\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { user, posts };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data));\"})]})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"7-\\u5B9E\\u6218\\u5E94\\u7528\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#7-\\u5B9E\\u6218\\u5E94\\u7528\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",children:\"7. \\u5B9E\\u6218\\u5E94\\u7528\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"71-react-\\u4E2D\\u7684\\u5F02\\u6B65\\u72B6\\u6001\\u7BA1\\u7406\",children:(0,l.jsx)(e.a,{href:\"#71-react-\\u4E2D\\u7684\\u5F02\\u6B65\\u72B6\\u6001\\u7BA1\\u7406\",children:\"7.1 React \\u4E2D\\u7684\\u5F02\\u6B65\\u72B6\\u6001\\u7BA1\\u7406\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728 React \\u9879\\u76EE\\u4E2D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u7ECF\\u5E38\\u7528\\u4E8E\\u5904\\u7406\\u6570\\u636E\\u83B7\\u53D6\\u548C\\u72B6\\u6001\\u66F4\\u65B0\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" UserProfile\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"loading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setError\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/api/user\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setError\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(err.message);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"finally\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (loading) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"LoadingSpinner\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"ErrorMessage\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" message\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{error} />;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"UserInfo\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{user} />;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"72-\\u5E76\\u53D1\\u63A7\\u5236\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#72-\\u5E76\\u53D1\\u63A7\\u5236\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",children:\"7.2 \\u5E76\\u53D1\\u63A7\\u5236\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u5904\\u7406\\u5927\\u91CF\\u5E76\\u53D1\\u8BF7\\u6C42\\u65F6\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u6CE8\\u610F\\u63A7\\u5236\\u5E76\\u53D1\\u6570\\u91CF\\uFF0C\\u907F\\u514D\\u670D\\u52A1\\u5668\\u538B\\u529B\\u8FC7\\u5927\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" batchRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"urls\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"maxConcurrent\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" results\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" chunks\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" urls.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reduce\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"acc\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" chunkIndex\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"floor\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" maxConcurrent);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    acc[chunkIndex] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (acc[chunkIndex] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" []).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"concat\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" acc;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" chunk\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" of\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" chunks) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" chunkResults\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      chunk.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()))\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    results.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"chunkResults);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" results;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"73-\\u9519\\u8BEF\\u91CD\\u8BD5\\u673A\\u5236\",children:(0,l.jsx)(e.a,{href:\"#73-\\u9519\\u8BEF\\u91CD\\u8BD5\\u673A\\u5236\",children:\"7.3 \\u9519\\u8BEF\\u91CD\\u8BD5\\u673A\\u5236\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\\u7684\\u73AF\\u5883\\u4E0B\\uFF0C\\u4E3A\\u5F02\\u6B65\\u64CD\\u4F5C\\u6DFB\\u52A0\\u91CD\\u8BD5\\u673A\\u5236\\u662F\\u5F88\\u6709\\u5FC5\\u8981\\u7684\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchWithRetry\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"retries\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" retries; i\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" retries \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"throw\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" err;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      await\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(resolve, delay \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pow\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", i))\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Retrying... Attempt ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}/${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"retries\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"74-\\u6027\\u80FD\\u4F18\\u5316\\u5EFA\\u8BAE\",children:(0,l.jsx)(e.a,{href:\"#74-\\u6027\\u80FD\\u4F18\\u5316\\u5EFA\\u8BAE\",children:\"7.4 \\u6027\\u80FD\\u4F18\\u5316\\u5EFA\\u8BAE\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u907F\\u514D\\u4E32\\u884C\\u7B49\\u5F85\"}),\"\\uFF1A\\u5F53\\u591A\\u4E2A\\u5F02\\u6B65\\u64CD\\u4F5C\\u4E4B\\u95F4\\u6CA1\\u6709\\u4F9D\\u8D56\\u5173\\u7CFB\\u65F6\\uFF0C\\u5E94\\u8BE5\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.allSettled\"})})})}),\" \\u5E76\\u884C\\u6267\\u884C\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsxs)(e.strong,{children:[\"\\u5408\\u7406\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.race\"})})})})]}),\"\\uFF1A\\u5728\\u9700\\u8981\\u8BBE\\u7F6E\\u8D85\\u65F6\\u5904\\u7406\\u7684\\u573A\\u666F\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u914D\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.race\"})})})}),\" \\u5B9E\\u73B0\\uFF1A\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchWithTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"timeout\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" controller\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AbortController\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" timeoutPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      controller.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"abort\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Request timeout\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, timeout);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"race\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url, { signal: controller.signal }),\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    timeoutPromise,\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ]);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.ol,{start:\"3\",children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F13\\u5B58\\u5F02\\u6B65\\u7ED3\\u679C\"}),\"\\uFF1A\\u5BF9\\u4E8E\\u77ED\\u65F6\\u95F4\\u5185\\u53EF\\u80FD\\u91CD\\u590D\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF0C\\u8003\\u8651\\u4F7F\\u7528\\u7F13\\u5B58\\uFF1A\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" memoizedFetch\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ttl\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 60000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"has\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url)) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"timestamp\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (Date.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" timestamp \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ttl) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url, { data, timestamp: Date.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})();\"})})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"8-\\u5E38\\u89C1\\u9677\\u9631\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879-\\uFE0F\",children:(0,l.jsx)(e.a,{href:\"#8-\\u5E38\\u89C1\\u9677\\u9631\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879-\\uFE0F\",children:\"8. \\u5E38\\u89C1\\u9677\\u9631\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879 \\u26A0\\uFE0F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u7684\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u6709\\u4E00\\u4E9B\\u5E38\\u89C1\\u7684\\u9677\\u9631\\u9700\\u8981\\u6211\\u4EEC\\u6CE8\\u610F\\uFF1A\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"81-\\u5FD8\\u8BB0\\u4F7F\\u7528-await\",children:(0,l.jsx)(e.a,{href:\"#81-\\u5FD8\\u8BB0\\u4F7F\\u7528-await\",children:\"8.1 \\u5FD8\\u8BB0\\u4F7F\\u7528 await\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8FD9\\u662F\\u6700\\u5E38\\u89C1\\u7684\\u9519\\u8BEF\\u4E4B\\u4E00\\u3002\\u5982\\u679C\\u4F60\\u5728 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\u4E2D\\u8C03\\u7528\\u53E6\\u4E00\\u4E2A\\u8FD4\\u56DE Promise \\u7684\\u51FD\\u6570\\uFF0C\\u4F46\\u5FD8\\u8BB0\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\"\\uFF0C\\u90A3\\u4E48\\u4F60\\u5C06\\u5F97\\u5230\\u4E00\\u4E2A Promise \\u5BF9\\u8C61\\uFF0C\\u800C\\u4E0D\\u662F Promise \\u89E3\\u6790\\u540E\\u7684\\u503C\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u9519\\u8BEF\\uFF1A\\u5FD8\\u8BB0\\u4F7F\\u7528 await\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8F93\\u51FA Promise \\u5BF9\\u8C61\\uFF0C\\u800C\\u4E0D\\u662F\\u6570\\u636E\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u6B63\\u786E\\uFF1A\\u4F7F\\u7528 await\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" correctData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(correctData); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8F93\\u51FA\\u83B7\\u53D6\\u5230\\u7684\\u6570\\u636E\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"82-\\u9519\\u8BEF\\u4F20\\u64AD\",children:(0,l.jsx)(e.a,{href:\"#82-\\u9519\\u8BEF\\u4F20\\u64AD\",children:\"8.2 \\u9519\\u8BEF\\u4F20\\u64AD\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\u4E2D\\uFF0C\\u5982\\u679C\\u6CA1\\u6709\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try/catch\"})})})}),\" \\u6355\\u83B7\\u9519\\u8BEF\\uFF0C\\u90A3\\u4E48\\u9519\\u8BEF\\u4F1A\\u88AB\\u5305\\u88C5\\u5728\\u8FD4\\u56DE\\u7684 Promise \\u4E2D\\u3002\\u8C03\\u7528\\u8005\\u9700\\u8981\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".catch()\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try/catch\"})})})}),\" \\u914D\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u6765\\u6355\\u83B7\\u8FD9\\u4E9B\\u9519\\u8BEF\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" riskyOperation\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  throw\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Something went wrong\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u65B9\\u6CD51\\uFF1A\\u4F7F\\u7528 .catch()\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"riskyOperation\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u65B9\\u6CD52\\uFF1A\\u4F7F\\u7528 try/catch \\u914D\\u5408 await\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleError\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" riskyOperation\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"83-await-\\u5728\\u5FAA\\u73AF\\u4E2D\\u7684\\u4F7F\\u7528\",children:(0,l.jsx)(e.a,{href:\"#83-await-\\u5728\\u5FAA\\u73AF\\u4E2D\\u7684\\u4F7F\\u7528\",children:\"8.3 await \\u5728\\u5FAA\\u73AF\\u4E2D\\u7684\\u4F7F\\u7528\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u5FAA\\u73AF\\u4E2D\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u65F6\\u9700\\u8981\\u7279\\u522B\\u6CE8\\u610F\\u3002\\u5982\\u679C\\u4F60\\u60F3\\u4E32\\u884C\\u6267\\u884C\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"for\"})})})}),\" \\u5FAA\\u73AF\\uFF1B\\u5982\\u679C\\u60F3\\u5E76\\u884C\\u6267\\u884C\\uFF0C\\u5E94\\u8BE5\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\" \\u914D\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"map\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4E32\\u884C\\u6267\\u884C\\uFF08\\u6BCF\\u6B21\\u8BF7\\u6C42\\u7B49\\u5F85\\u524D\\u4E00\\u4E2A\\u5B8C\\u6210\\uFF09\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" serialFetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"urls\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" results\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" of\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" urls) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"r\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" r.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    results.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" results;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5E76\\u884C\\u6267\\u884C\\uFF08\\u6240\\u6709\\u8BF7\\u6C42\\u540C\\u65F6\\u53D1\\u8D77\\uFF09\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" parallelFetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"urls\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" promises\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" urls.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"r\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" r.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(promises);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"84-\\u9876\\u5C42-await\",children:(0,l.jsx)(e.a,{href:\"#84-\\u9876\\u5C42-await\",children:\"8.4 \\u9876\\u5C42 await\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728 ES2022 \\u4E4B\\u524D\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u53EA\\u80FD\\u5728 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async\"})})})}),\" \\u51FD\\u6570\\u5185\\u90E8\\u4F7F\\u7528\\u3002\\u73B0\\u5728\\uFF0C\\u9876\\u5C42 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\" \\u5141\\u8BB8\\u5728\\u6A21\\u5757\\u7684\\u9876\\u5C42\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\"\\uFF0C\\u8FD9\\u5728\\u5BFC\\u5165\\u52A8\\u6001\\u5185\\u5BB9\\u6216\\u6761\\u4EF6\\u6027\\u52A0\\u8F7D\\u6A21\\u5757\\u65F6\\u975E\\u5E38\\u6709\\u7528\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u548C Node.js 14+ \\u652F\\u6301\\u9876\\u5C42 await\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/data\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { data };\"})]})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"9-\\u603B\\u7ED3-\",children:(0,l.jsx)(e.a,{href:\"#9-\\u603B\\u7ED3-\",children:\"9. \\u603B\\u7ED3 \\u{1F3AF}\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u56DE\\u987E\\u6574\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u7684\\u53D1\\u5C55\\u5386\\u7A0B\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u770B\\u5230\\u5B83\\u662F\\u5982\\u4F55\\u4F18\\u96C5\\u5730\\u89E3\\u51B3\\u4E86 JavaScript \\u5F02\\u6B65\\u7F16\\u7A0B\\u4E2D\\u7684\\u75DB\\u70B9\\u3002\\u4ECE\\u6700\\u521D\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u5230 Promise \\u7684\\u94FE\\u5F0F\\u8C03\\u7528\\uFF0C\\u518D\\u5230\\u73B0\\u5728\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\"\\uFF0C\\u6BCF\\u4E00\\u6B21\\u6F14\\u8FDB\\u90FD\\u8BA9\\u5F02\\u6B65\\u7F16\\u7A0B\\u53D8\\u5F97\\u66F4\\u52A0\\u4F18\\u96C5\\u548C\\u9AD8\\u6548\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\uFF0C\\u5408\\u7406\\u8FD0\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u4E0D\\u4EC5\\u80FD\\u63D0\\u5347\\u4EE3\\u7801\\u7684\\u53EF\\u8BFB\\u6027\\u548C\\u53EF\\u7EF4\\u62A4\\u6027\\uFF0C\\u8FD8\\u80FD\\u5E2E\\u52A9\\u6211\\u4EEC\\u6784\\u5EFA\\u66F4\\u52A0\\u5065\\u58EE\\u7684\\u5E94\\u7528\\u3002\\u8BB0\\u4F4F\\u4EE5\\u4E0B\\u51E0\\u70B9\\u5EFA\\u8BAE\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try/catch\"})})})}),\" \\u8FDB\\u884C\\u9519\\u8BEF\\u5904\\u7406\\uFF0C\\u4E0D\\u8981\\u8BA9\\u5F02\\u5E38\\u65E0\\u58F0\\u65E0\\u606F\\u5730\\u53D1\\u751F \\u{1F6E1}\\uFE0F\"]}),`\n`,(0,l.jsx)(e.li,{children:\"\\u6839\\u636E\\u5B9E\\u9645\\u573A\\u666F\\u9009\\u62E9\\u4E32\\u884C\\u6216\\u5E76\\u884C\\u6267\\u884C\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u6027\\u80FD\\u635F\\u5931 \\u26A1\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u5728\\u5904\\u7406\\u5927\\u91CF\\u5E76\\u53D1\\u8BF7\\u6C42\\u65F6\\uFF0C\\u6CE8\\u610F\\u63A7\\u5236\\u5E76\\u53D1\\u6570\\u91CF \\u{1F6A6}\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u4E3A\\u5173\\u952E\\u7684\\u5F02\\u6B65\\u64CD\\u4F5C\\u6DFB\\u52A0\\u8D85\\u65F6\\u5904\\u7406\\u548C\\u91CD\\u8BD5\\u673A\\u5236 \\u23F1\\uFE0F\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u5408\\u7406\\u5229\\u7528\\u7F13\\u5B58\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u7684\\u5F02\\u6B65\\u8BF7\\u6C42 \\u{1F4BE}\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u6CE8\\u610F\\u5E38\\u89C1\\u9677\\u9631\\uFF0C\\u7279\\u522B\\u662F\\u5728\\u5FAA\\u73AF\\u4E2D\\u4F7F\\u7528 await \\u548C\\u9519\\u8BEF\\u5904\\u7406\\u65B9\\u9762 \\u{1F6A7}\"}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6700\\u540E\\uFF0C\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4E0D\\u4EC5\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\uFF0C\\u66F4\\u80FD\\u6307\\u5BFC\\u4F60\\u5728\\u5B9E\\u9645\\u9879\\u76EE\\u4E2D\\u66F4\\u597D\\u5730\\u8FD0\\u7528\\u8FD9\\u4E00\\u5F3A\\u5927\\u7279\\u6027\\u3002\\u8BB0\\u4F4F\\uFF0C\\u7F16\\u5199\\u5F02\\u6B65\\u4EE3\\u7801\\u4E0D\\u4EC5\\u662F\\u4E00\\u95E8\\u6280\\u672F\\uFF0C\\u66F4\\u662F\\u4E00\\u95E8\\u827A\\u672F \\u2014\\u2014 \\u5728\\u8FFD\\u6C42\\u529F\\u80FD\\u5B9E\\u73B0\\u7684\\u540C\\u65F6\\uFF0C\\u6211\\u4EEC\\u8FD8\\u8981\\u8003\\u8651\\u4EE3\\u7801\\u7684\\u4F18\\u96C5\\u6027\\u3001\\u53EF\\u7EF4\\u62A4\\u6027\\u548C\\u6027\\u80FD\\u8868\\u73B0\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u795D\\u4F60\\u7684\\u5F02\\u6B65\\u4EE3\\u7801\\u6C38\\u8FDC\\u987A\\u7545\\uFF0C\\u6CA1\\u6709\\u56DE\\u8C03\\u5730\\u72F1\\u7684\\u56F0\\u6270\\uFF01\\u{1F680}\"})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}return m(k);})();\n;return Component;"
  },
  "_id": "JavaScript/async-await.mdx",
  "_raw": {
    "sourceFilePath": "JavaScript/async-await.mdx",
    "sourceFileName": "async-await.mdx",
    "sourceFileDir": "JavaScript",
    "contentType": "mdx",
    "flattenedPath": "JavaScript/async-await"
  },
  "type": "Post",
  "url": "/blog/JavaScript/async-await"
}
{
  "title": "Web Worker ç»ˆæä¼˜åŒ–æŒ‡å—",
  "date": "2024-12-08T00:00:00.000Z",
  "description": "æ·±å…¥æ¢ç´¢ Web Worker çš„åŸç†ä¸ä¼˜åŒ–æŠ€å·§ï¼Œå¸¦ä½ ä»å…¥é—¨åˆ°ç²¾é€šï¼Œè§£é”å‰ç«¯æ€§èƒ½æ–°å§¿åŠ¿ï¼",
  "keywords": "Web Worker, JavaScript, å‰ç«¯æ€§èƒ½ä¼˜åŒ–, å¤šçº¿ç¨‹, ä¸»çº¿ç¨‹å¸è½½, å¹¶è¡Œè®¡ç®—",
  "author": "æ™“é¾™",
  "image": "/images/hero/web-worker-guide.jpg",
  "tags": [
    "JavaScript",
    "æ€§èƒ½ä¼˜åŒ–",
    "å‰ç«¯å¼€å‘"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå¦‚æœä½ æ˜¯ä¸ªå‰ç«¯å¼€å‘è€…ï¼Œå¬åˆ°â€œJavaScript æ˜¯å•çº¿ç¨‹çš„â€è¿™å¥è¯å¯èƒ½å·²ç»è€³æœµèµ·èŒ§äº†ã€‚æ²¡é”™ï¼ŒJS çš„å•çº¿ç¨‹æœ¬è´¨å°±åƒä¸ªå‹¤åŠ³ä½†å¿™ä¸è¿‡æ¥çš„å°èœœèœ‚ ğŸï¼Œä¸€æ—¦ä»»åŠ¡å †ç§¯ï¼Œä¸»çº¿ç¨‹å°±å¡å¾—åƒå¤å¤©æ²¡å¼€ç©ºè°ƒçš„è€çˆ·è½¦ã€‚ä½†åˆ«æ€¥ï¼ŒWeb Worker å°±æ˜¯é‚£ä¸ªâ€œéšè—çš„è¶…èƒ½åŠ›â€ï¼Œèƒ½è®©ä½ çš„ä»£ç ä»å•æ ¸è‹¦åŠ›è¿›åŒ–æˆå¤šæ ¸å¤§å¸ˆã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥èŠèŠ Web Worker çš„æ–¹æ–¹é¢é¢â€”â€”ä»åŸç†åˆ°å®æˆ˜ï¼Œå†åˆ°é‚£äº›è®©ä½ æ‹å¤§è…¿çš„æœ€ä½³å®è·µã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€å¤´æ‰è¿›è¿™ä¸ªâ€œçº¿ç¨‹è§£æ”¾è¿åŠ¨â€å§ï¼\n\n## Web Worker æ˜¯ä»€ä¹ˆï¼Ÿä»å¤´è®¤è¯†è¿™ä½â€œå¹•åè‹±é›„â€\n\nç®€å•æ¥è¯´ï¼ŒWeb Worker æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æµè§ˆå™¨åå°çš„ JavaScript çº¿ç¨‹ã€‚å®ƒç‹¬ç«‹äºä¸»çº¿ç¨‹ï¼ˆä¹Ÿå°±æ˜¯é‚£ä¸ªè´Ÿè´£ DOM æ“ä½œã€äº‹ä»¶ç›‘å¬çš„è€å¤§å“¥ï¼‰ï¼Œå¯ä»¥åœ¨ä¸å¹²æ‰° UI çš„æƒ…å†µä¸‹å¤„ç†è€—æ—¶ä»»åŠ¡ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä¸»çº¿ç¨‹æ˜¯ä¸ªå¿™ç€æ‹›å‘¼å®¢äººçš„æœåŠ¡å‘˜ï¼Œè€Œ Web Worker åˆ™æ˜¯å¨æˆ¿é‡Œé»˜é»˜åˆ‡èœçš„å¤§å¨â€”â€”å„å¸å…¶èŒï¼Œåˆ†å·¥æ˜ç¡®ã€‚\n\n### æ ¸å¿ƒåŸç†ï¼šä¸ºä»€ä¹ˆå®ƒèƒ½â€œæ•‘å‘½â€ï¼Ÿ\n\nWeb Worker çš„æœ¬è´¨æ˜¯æµè§ˆå™¨æä¾›çš„ä¸€ä¸ªç‹¬ç«‹çº¿ç¨‹ï¼Œè¿è¡Œåœ¨å•ç‹¬çš„å…¨å±€ä¸Šä¸‹æ–‡ä¸­ï¼ˆæ²¡æœ‰ DOMã€window å¯¹è±¡ï¼Œåªæœ‰éƒ¨åˆ† APIï¼‰ã€‚å®ƒé€šè¿‡ `postMessage` å’Œ `onmessage` ä¸ä¸»çº¿ç¨‹é€šä¿¡ï¼Œåƒæäº†ä¸¤ä¸ªéš”ç€ç»ç’ƒå¢™å–Šè¯çš„é‚»å±…ã€‚è¿™ç§éš”ç¦»è®¾è®¡æœ‰å•¥å¥½å¤„ï¼Ÿ  \n- **ä¸é˜»å¡ UI**ï¼šè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆæ¯”å¦‚å¤§æ•°æ®å¤„ç†ï¼‰ä¸ä¼šè®©é¡µé¢å¡æˆ PPTã€‚  \n- **å¹¶è¡Œæ‰§è¡Œ**ï¼šç°ä»£å¤šæ ¸ CPU ç»ˆäºæœ‰äº†ç”¨æ­¦ä¹‹åœ°ï¼Œä¸å†æ˜¯â€œä¸€ä¸ªæ ¸å¹²æ´»ï¼Œä¸ƒä¸ªæ ¸çœ‹æˆâ€ã€‚\n\nä¸è¿‡ï¼Œå‡¡äº‹æœ‰ä¸¤é¢æ€§ã€‚Web Worker ä¹Ÿä¸æ˜¯ä¸‡èƒ½çµè¯ï¼Œå®ƒæœ‰è‡ªå·±çš„â€œè„¾æ°”â€ï¼š  \n- **èµ„æºå¼€é”€**ï¼šæ¯ä¸ª Worker éƒ½ä¼šå ç”¨å†…å­˜å’Œ CPUï¼Œæ»¥ç”¨å¯èƒ½ä¼šè®©æµè§ˆå™¨å–˜ä¸è¿‡æ°”ã€‚  \n- **é€šä¿¡æˆæœ¬**ï¼šæ•°æ®åœ¨ä¸»çº¿ç¨‹å’Œ Worker é—´ä¼ é€’éœ€è¦åºåˆ—åŒ–ï¼Œåƒå¿«é€’å¯„åŒ…è£¹ä¸€æ ·ï¼Œä¸æ˜¯å…è´¹çš„ã€‚\n\n## åˆ›å»ºä¸€ä¸ª Web Workerï¼šä»â€œHello Worldâ€å¼€å§‹\n\nè®©æˆ‘ä»¬å…ˆå†™ä¸ªç®€å•ä¾‹å­ï¼Œæ„Ÿå—ä¸€ä¸‹ Web Worker çš„åŸºæœ¬ç”¨æ³•ã€‚å‡è®¾æˆ‘ä»¬è¦è®¡ç®— 1 åˆ° 100000 çš„ç´¯åŠ å’Œï¼ˆåˆ«ç¬‘ï¼Œè¿™åªæ˜¯çƒ­èº«ï¼‰ã€‚\n\n### ä¸»çº¿ç¨‹ä»£ç ï¼ˆmain.jsï¼‰\n```javascript\nconst worker = new Worker('worker.js');\nworker.postMessage({ start: 1, end: 100000 });\nworker.onmessage = (e) => {\n  console.log(`è®¡ç®—ç»“æœï¼š${e.data}`);\n  document.getElementById('result').textContent = `ç»“æœæ˜¯ï¼š${e.data}`;\n};\n```\n\n### Worker çº¿ç¨‹ä»£ç ï¼ˆworker.jsï¼‰\n```javascript\nself.onmessage = (e) => {\n  const { start, end } = e.data;\n  let sum = 0;\n  for (let i = start; i <= end; i++) {\n    sum += i;\n  }\n  self.postMessage(sum);\n};\n```\n\nè¿è¡Œåï¼Œä¸»çº¿ç¨‹æŠŠä»»åŠ¡ç”©ç»™ Workerï¼Œè‡ªå·±ä¼˜å“‰æ¸¸å“‰åœ°ç­‰ç€ç»“æœã€‚é¡µé¢ä¸ä¼šå¡é¡¿ï¼Œç”¨æˆ·è¿˜èƒ½ç»§ç»­æ»‘åŠ¨ã€ç‚¹å‡»ï¼Œåƒä¸ªæ²¡äº‹äººä¸€æ ·ã€‚æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹â€œç”©é”…å¤§å¸ˆâ€çš„æ„Ÿè§‰ï¼ŸğŸ˜\n\n## æ·±å…¥ Worker ç±»å‹ï¼šé€‰å¯¹å·¥å…·å¹²æ´»ä¸ç´¯\n\nWeb Worker å…¶å®æ˜¯ä¸ªâ€œå¤§å®¶æ—â€ï¼Œæœ‰ä¸‰ç§ä¸»è¦ç±»å‹ï¼Œæ¯ç§éƒ½æœ‰è‡ªå·±çš„â€œæ€§æ ¼â€å’Œç”¨æ­¦ä¹‹åœ°ï¼š\n\n1. **Dedicated Workerï¼ˆä¸“ç”¨ Workerï¼‰**  \n   - ä¸“å±äºå•ä¸ªé¡µé¢ï¼Œç”Ÿå‘½å‘¨æœŸå’Œè°ƒç”¨å®ƒçš„è„šæœ¬ç»‘å®šã€‚  \n   - ç”¨æ³•ç®€å•ï¼Œä¸Šé¢ä¾‹å­å°±æ˜¯å®ƒã€‚  \n   - åœºæ™¯ï¼šå•é¡µåº”ç”¨çš„å¤æ‚è®¡ç®—ï¼Œæ¯”å¦‚å›¾åƒå¤„ç†ã€æ•°æ®åŠ å¯†ã€‚\n\n2. **Shared Workerï¼ˆå…±äº« Workerï¼‰**  \n   - å¤šä¸ªé¡µé¢/æ ‡ç­¾é¡µå…±äº«ä¸€ä¸ª Workerï¼Œåƒä¸ªâ€œå…¬ç”¨ç”µè¯äº­â€ã€‚  \n   - ç”¨æ³•ï¼š`new SharedWorker('shared.js')`ï¼Œç„¶åé€šè¿‡ `port` é€šä¿¡ã€‚  \n   - åœºæ™¯ï¼šè·¨æ ‡ç­¾é¡µåŒæ­¥æ•°æ®ï¼Œæ¯”å¦‚èŠå¤©åº”ç”¨çš„æœªè¯»æ¶ˆæ¯è®¡æ•°ã€‚\n\n3. **Service Worker**  \n   - æ›´åƒä¸ªâ€œç½‘ç»œä»£ç†â€ï¼Œä¸“æ³¨äºç¼“å­˜å’Œç¦»çº¿æ”¯æŒï¼Œå’Œ Web Worker çš„â€œè®¡ç®—â€å®šä½ä¸åŒã€‚  \n   - åœºæ™¯ï¼šPWA çš„ç¦»çº¿ä½“éªŒï¼ˆè¿™ä¸ªå’±å°±ä¸å±•å¼€äº†ï¼Œç•™ç»™å¦ä¸€ç¯‡åšå®¢å§ï¼‰ã€‚\n\né€‰é”™äº†ç±»å‹ï¼Œå°±åƒæ‹¿ç­·å­å–æ±¤â€”â€”èƒ½ç”¨ï¼Œä½†åˆ«æ‰­ã€‚æ‰€ä»¥ï¼Œææ¸…æ¥šéœ€æ±‚å†åŠ¨æ‰‹ï¼Œæ˜¯èŠ‚çœæ—¶é—´çš„ç¬¬ä¸€æ­¥ã€‚\n\n## é€šä¿¡æœºåˆ¶ï¼šä¸»çº¿ç¨‹å’Œ Worker çš„â€œå¿«é€’æ¸¸æˆâ€\n\nWorker å’Œä¸»çº¿ç¨‹é  `postMessage` ä¼ æ•°æ®ï¼Œä½†åˆ«ä»¥ä¸ºè¿™è·Ÿå‘å¾®ä¿¡ä¸€æ ·å¿«ã€‚æ•°æ®åœ¨ä¼ é€’æ—¶ä¼šè¢«**åºåˆ—åŒ–**ï¼ˆJSON.stringify é‚£ç§æ„Ÿè§‰ï¼‰ï¼Œç„¶åå†ååºåˆ—åŒ–ã€‚è¿™æ„å‘³ç€ï¼š  \n- **åŸºæœ¬ç±»å‹**ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ï¼‰ä¼ èµ·æ¥å¾ˆå¿«ã€‚  \n- **å¤æ‚å¯¹è±¡**ï¼ˆå¸¦æ–¹æ³•çš„ç±»å®ä¾‹ï¼‰ä¼šè¢«â€œæ‹æ‰â€ï¼Œæ–¹æ³•ä¼šä¸¢å¤±ã€‚  \n- **å¤§æ•°æ®é‡**ï¼ˆæ¯”å¦‚è¶…å¤§æ•°ç»„ï¼‰å¯èƒ½ä¼šå¡ä½é€šä¿¡ç®¡é“ã€‚\n\n### ä¼˜åŒ–é€šä¿¡çš„â€œé”¦å›Šå¦™è®¡â€\n1. **ç”¨ Transferable Objects**  \n   å¯¹äºå¤§å—æ•°æ®ï¼ˆæ¯”å¦‚ ArrayBufferï¼‰ï¼Œå¯ä»¥ç”¨ `postMessage(data, [data])` çš„ç¬¬äºŒä¸ªå‚æ•°è½¬ç§»æ‰€æœ‰æƒï¼Œé¿å…æ‹·è´ã€‚  \n   ç¤ºä¾‹ï¼š\n   ```javascript\n   const buffer = new Uint8Array(1024 * 1024).buffer; // 1MB æ•°æ®\n   worker.postMessage(buffer, [buffer]); // è½¬ç§»æ‰€æœ‰æƒï¼Œè¶…å¿«ï¼\n   ```\n\n2. **åˆ†ç‰‡ä¼ è¾“**  \n   æ•°æ®å¤ªå¤§ï¼Ÿåˆ‡æˆå°å—ä¼ ï¼Œå°±åƒå¿«é€’åˆ†ç®±å¯„é€ã€‚æ¯”å¦‚å¤„ç† 10 ä¸‡æ¡æ•°æ®ï¼Œå¯ä»¥æ¯ 1 ä¸‡æ¡å‘ä¸€æ¬¡ã€‚\n\n3. **å‡å°‘ä¸å¿…è¦é€šä¿¡**  \n   Worker å°½é‡è‡ªå·±æå®šï¼Œåˆ«å•¥éƒ½é—®ä¸»çº¿ç¨‹ï¼Œåƒä¸ªç‹¬ç«‹çš„å¤§äººè€Œä¸æ˜¯é»äººçš„å°å¼Ÿã€‚\n\n## å®æˆ˜æ¡ˆä¾‹ï¼šä»â€œå¡é¡¿åœ°ç‹±â€åˆ°â€œä¸æ»‘å¤©å ‚â€\n\n### æ¡ˆä¾‹ 1ï¼šå®æ—¶å›¾åƒæ»¤é•œ\nå‡è®¾ä½ æœ‰ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨ï¼Œç”¨æˆ·æ‹–åŠ¨æ»‘å—è°ƒæ•´äº®åº¦ã€‚å¦‚æœåœ¨ä¸»çº¿ç¨‹å¤„ç† 2000x2000 çš„åƒç´ æ•°æ®ï¼Œé¡µé¢ä¼šå¡å¾—åƒè€å¼ VCR æ’­æ”¾å™¨ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼š  \n- Worker æ¥ç®¡åƒç´ è®¡ç®—ï¼Œä¸»çº¿ç¨‹åªç®¡æ¸²æŸ“ç»“æœã€‚  \n- ç”¨ Transferable Objects ä¼  Canvas çš„ ImageDataã€‚  \n- ç»“æœï¼šç”¨æˆ·æ»‘åŠ¨æ»‘å—ï¼Œé¡µé¢ä¸æ»‘å¦‚å¥¶æ²¹ã€‚\n\n### æ¡ˆä¾‹ 2ï¼šå¤§æ•°æ®æ’åº\nå‰ç«¯å±•ç¤ºä¸€ä¸ª 10 ä¸‡æ¡è®°å½•çš„è¡¨æ ¼ï¼Œç”¨æˆ·ç‚¹å‡»â€œæŒ‰ä»·æ ¼æ’åºâ€ã€‚ä¸»çº¿ç¨‹ç›´æ¥æ’åºï¼Ÿç­‰ç€ç”¨æˆ·è·‘å»æ³¡å’–å•¡å§ã€‚  \n**è§£å†³æ–¹æ¡ˆ**ï¼š  \n- Worker æ¥æ‰‹æ’åºï¼Œåˆ†ç‰‡è¿”å›ç»“æœã€‚  \n- ä¸»çº¿ç¨‹è¾¹æ”¶è¾¹æ›´æ–° UIï¼Œæ˜¾ç¤ºâ€œåŠ è½½ä¸­â€åŠ¨ç”»ã€‚  \n- ç»“æœï¼šç”¨æˆ·è§‰å¾—â€œå“‡ï¼Œè¿™ç½‘ç«™å¥½å¿«â€ï¼Œæ®Šä¸çŸ¥åå° Worker ç´¯å¾—æ»¡å¤´å¤§æ±—ã€‚\n\n## æœ€ä½³å®è·µï¼šè®© Web Worker æˆä¸ºä½ çš„â€œå¾—åŠ›åŠ©æ‰‹â€\n\n1. **æŒ‰éœ€åˆ›å»ºï¼Œåˆ«æ»¥ç”¨**  \n   Worker ä¸æ˜¯å…è´¹åŠ³åŠ¨åŠ›ï¼Œå¼€å¤ªå¤šç­‰äºè¯·äº†ä¸€å †å¨å¸ˆå´åªæœ‰ä¸€ä¸ªå°ç¶å°ã€‚å»ºè®®æ ¹æ® CPU æ ¸å¿ƒæ•°åŠ¨æ€è°ƒæ•´ï¼ˆ`navigator.hardwareConcurrency` äº†è§£ä¸€ä¸‹ï¼‰ã€‚\n\n2. **é”™è¯¯å¤„ç†ä¸èƒ½å¿˜**  \n   Worker æŒ‚äº†ä¸ä¼šå¼¹çª—ï¼Œè€Œæ˜¯é»˜é»˜ç½¢å·¥ã€‚ç”¨ `onerror` æ•è·å¼‚å¸¸ï¼Œåˆ«è®© bug åƒè€é¼ ä¸€æ ·å·å·è·‘æ‰ã€‚  \n   ```javascript\n   worker.onerror = (e) => {\n     console.error(`Worker å‡ºå¤§äº‹äº†ï¼š${e.message}`);\n   };\n   ```\n\n3. **ä¼˜é›…å…³é—­**  \n   ç”¨å®Œ Worker è®°å¾— `worker.terminate()`ï¼Œåˆ«è®©å®ƒåƒä¸ªå¹½çµè¿›ç¨‹é£˜åœ¨åå°ã€‚\n\n4. **è°ƒè¯•ä¸å¤´ç–¼**  \n   Chrome DevTools æ”¯æŒ Worker è°ƒè¯•ï¼Œæ‰“å¼€ Sources -> Workersï¼Œå•æ­¥æ‰§è¡Œè·Ÿç©å„¿ä¼¼çš„ã€‚\n\n5. **å…¼å®¹æ€§æ£€æŸ¥**  \n   99% çš„ç°ä»£æµè§ˆå™¨æ”¯æŒ Web Workerï¼Œä½†è€å¤è‘£ï¼ˆIE9 ä»¥ä¸‹ï¼‰ä¼šä¸€è„¸æ‡µé€¼ã€‚ç”¨ `if ('Worker' in window)` åˆ¤æ–­ä¸€ä¸‹ï¼Œåˆ«è®©ç”¨æˆ·è¸©é›·ã€‚\n\n## æ€§èƒ½é™·é˜±ï¼šåˆ«æ‰è¿›è¿™äº›â€œå‘â€é‡Œ\n\n1. **é€šä¿¡æˆæœ¬è¶…é¢„æœŸ**  \n   é¢‘ç¹ä¼ å¤§æ•°æ®å°±åƒåœ¨é«˜å³°æœŸå¯„å¿«é€’ï¼Œæ…¢ä¸è¯´è¿˜è´¹é’±ã€‚å°½é‡è®© Worker ä¸€æ¬¡å¤šå¹²ç‚¹æ´»ã€‚\n\n2. **å†…å­˜æ³„æ¼**  \n   Worker ä¸å…³ã€æ•°æ®ä¸æ¸…ç†ï¼Œå†…å­˜å°±åƒæ°´ç®¡æ¼æ°´ï¼Œè¶Šè·‘è¶Šå¤šã€‚å®šæœŸæ£€æŸ¥ä»»åŠ¡å®Œæˆåçš„çŠ¶æ€ã€‚\n\n3. **å¯åŠ¨å¼€é”€**  \n   åˆ›å»º Worker ä¸æ˜¯ç¬é—´çš„äº‹ï¼Œå°ä»»åŠ¡äº¤ç»™å®ƒå¯èƒ½å¾—ä¸å¿å¤±ã€‚å»ºè®®ä»»åŠ¡è€—æ—¶ > 50ms å†è€ƒè™‘ã€‚\n\n## ç±»æ¯”æ€»ç»“ï¼šWeb Worker æ˜¯ä½ çš„â€œç§äººåŠ©ç†â€\n\næŠŠ Web Worker æƒ³è±¡æˆä¸€ä¸ªç§äººåŠ©ç†ï¼Œä¸»çº¿ç¨‹æ˜¯è€æ¿ã€‚è€æ¿å¿™ç€æ¥ç”µè¯ã€è§å®¢æˆ·ï¼ˆæ¸²æŸ“ UIã€å“åº”äº‹ä»¶ï¼‰ï¼ŒåŠ©ç†åœ¨åå°é»˜é»˜æ•´ç†æ–‡ä»¶ã€è·‘æ•°æ®ï¼ˆè®¡ç®—ä»»åŠ¡ï¼‰ã€‚åŠ©ç†å¹²å¾—å¥½ï¼Œè€æ¿è½»æ¾ï¼Œç”¨æˆ·å¼€å¿ƒï¼›åŠ©ç†å·æ‡’æˆ–è€…å¤ªå¤šï¼ŒåŠå…¬å®¤å°±ä¹±å¥—äº†ã€‚å…³é”®åœ¨äºï¼š**åˆç†åˆ†å·¥ï¼Œé«˜æ•ˆåä½œ**ã€‚\n\n## å†™åœ¨æœ€å\n\nWeb Worker ä¸æ˜¯ä»€ä¹ˆé«˜æ·±é­”æ³•ï¼Œè€Œæ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„â€œç‘å£«å†›åˆ€â€ã€‚å®ƒèƒ½è®©ä½ çš„åº”ç”¨ä»â€œå¡é¡¿åœ°ç‹±â€é£å‡åˆ°â€œä¸æ»‘å¤©å ‚â€ï¼Œä½†å‰ææ˜¯ä½ å¾—ç”¨å¯¹åœ°æ–¹ã€ç”¨å¥½æ–¹æ³•ã€‚å¸Œæœ›è¿™ç¯‡æŒ‡å—èƒ½ç»™ä½ ä¸€äº›çµæ„Ÿï¼Œä¸‹æ¬¡é‡åˆ°æ€§èƒ½ç“¶é¢ˆæ—¶ï¼Œä¸å¦¨è¯•è¯•è¿™ä¸ªâ€œå¹•åè‹±é›„â€ã€‚æœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…éªšæƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºè·Ÿæˆ‘èŠèŠâ€”â€”æ¯•ç«Ÿï¼Œä»£ç æ˜¯æ­»çš„ï¼Œäººæ˜¯æ´»çš„å˜›ï¼ğŸ˜‰\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{for(var l in e)d(n,l,{get:e[l],enumerable:!0})},i=(n,e,l,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of y(e))!k.call(n,c)&&c!==l&&d(n,c,{get:()=>e[c],enumerable:!(a=E(e,c))||a.enumerable});return n};var b=(n,e,l)=>(l=n!=null?p(g(n)):{},i(e||!n||!n.__esModule?d(l,\"default\",{value:n,enumerable:!0}):l,n)),W=n=>i(d({},\"__esModule\",{value:!0}),n);var h=u((B,o)=>{o.exports=_jsx_runtime});var w={};F(w,{default:()=>t,frontmatter:()=>f});var r=b(h()),f={type:\"Post\",title:\"Web Worker \\u7EC8\\u6781\\u4F18\\u5316\\u6307\\u5357\",date:\"2024-12-08\",description:\"\\u6DF1\\u5165\\u63A2\\u7D22 Web Worker \\u7684\\u539F\\u7406\\u4E0E\\u4F18\\u5316\\u6280\\u5DE7\\uFF0C\\u5E26\\u4F60\\u4ECE\\u5165\\u95E8\\u5230\\u7CBE\\u901A\\uFF0C\\u89E3\\u9501\\u524D\\u7AEF\\u6027\\u80FD\\u65B0\\u59FF\\u52BF\\uFF01\",keywords:\"Web Worker, JavaScript, \\u524D\\u7AEF\\u6027\\u80FD\\u4F18\\u5316, \\u591A\\u7EBF\\u7A0B, \\u4E3B\\u7EBF\\u7A0B\\u5378\\u8F7D, \\u5E76\\u884C\\u8BA1\\u7B97\",author:\"\\u6653\\u9F99\",image:\"/images/hero/web-worker-guide.jpg\",tags:[\"JavaScript\",\"\\u6027\\u80FD\\u4F18\\u5316\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function s(n){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:\"\\u5982\\u679C\\u4F60\\u662F\\u4E2A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u542C\\u5230\\u201CJavaScript \\u662F\\u5355\\u7EBF\\u7A0B\\u7684\\u201D\\u8FD9\\u53E5\\u8BDD\\u53EF\\u80FD\\u5DF2\\u7ECF\\u8033\\u6735\\u8D77\\u8327\\u4E86\\u3002\\u6CA1\\u9519\\uFF0CJS \\u7684\\u5355\\u7EBF\\u7A0B\\u672C\\u8D28\\u5C31\\u50CF\\u4E2A\\u52E4\\u52B3\\u4F46\\u5FD9\\u4E0D\\u8FC7\\u6765\\u7684\\u5C0F\\u871C\\u8702 \\u{1F41D}\\uFF0C\\u4E00\\u65E6\\u4EFB\\u52A1\\u5806\\u79EF\\uFF0C\\u4E3B\\u7EBF\\u7A0B\\u5C31\\u5361\\u5F97\\u50CF\\u590F\\u5929\\u6CA1\\u5F00\\u7A7A\\u8C03\\u7684\\u8001\\u7237\\u8F66\\u3002\\u4F46\\u522B\\u6025\\uFF0CWeb Worker \\u5C31\\u662F\\u90A3\\u4E2A\\u201C\\u9690\\u85CF\\u7684\\u8D85\\u80FD\\u529B\\u201D\\uFF0C\\u80FD\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u4ECE\\u5355\\u6838\\u82E6\\u529B\\u8FDB\\u5316\\u6210\\u591A\\u6838\\u5927\\u5E08\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C31\\u6765\\u804A\\u804A Web Worker \\u7684\\u65B9\\u65B9\\u9762\\u9762\\u2014\\u2014\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u6218\\uFF0C\\u518D\\u5230\\u90A3\\u4E9B\\u8BA9\\u4F60\\u62CD\\u5927\\u817F\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u4E00\\u5934\\u624E\\u8FDB\\u8FD9\\u4E2A\\u201C\\u7EBF\\u7A0B\\u89E3\\u653E\\u8FD0\\u52A8\\u201D\\u5427\\uFF01\"}),`\n`,(0,r.jsx)(e.h2,{id:\"web-worker-\\u662F\\u4EC0\\u4E48\\u4ECE\\u5934\\u8BA4\\u8BC6\\u8FD9\\u4F4D\\u5E55\\u540E\\u82F1\\u96C4\",children:(0,r.jsx)(e.a,{href:\"#web-worker-\\u662F\\u4EC0\\u4E48\\u4ECE\\u5934\\u8BA4\\u8BC6\\u8FD9\\u4F4D\\u5E55\\u540E\\u82F1\\u96C4\",children:\"Web Worker \\u662F\\u4EC0\\u4E48\\uFF1F\\u4ECE\\u5934\\u8BA4\\u8BC6\\u8FD9\\u4F4D\\u201C\\u5E55\\u540E\\u82F1\\u96C4\\u201D\"})}),`\n`,(0,r.jsx)(e.p,{children:\"\\u7B80\\u5355\\u6765\\u8BF4\\uFF0CWeb Worker \\u662F\\u4E00\\u4E2A\\u8FD0\\u884C\\u5728\\u6D4F\\u89C8\\u5668\\u540E\\u53F0\\u7684 JavaScript \\u7EBF\\u7A0B\\u3002\\u5B83\\u72EC\\u7ACB\\u4E8E\\u4E3B\\u7EBF\\u7A0B\\uFF08\\u4E5F\\u5C31\\u662F\\u90A3\\u4E2A\\u8D1F\\u8D23 DOM \\u64CD\\u4F5C\\u3001\\u4E8B\\u4EF6\\u76D1\\u542C\\u7684\\u8001\\u5927\\u54E5\\uFF09\\uFF0C\\u53EF\\u4EE5\\u5728\\u4E0D\\u5E72\\u6270 UI \\u7684\\u60C5\\u51B5\\u4E0B\\u5904\\u7406\\u8017\\u65F6\\u4EFB\\u52A1\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4E3B\\u7EBF\\u7A0B\\u662F\\u4E2A\\u5FD9\\u7740\\u62DB\\u547C\\u5BA2\\u4EBA\\u7684\\u670D\\u52A1\\u5458\\uFF0C\\u800C Web Worker \\u5219\\u662F\\u53A8\\u623F\\u91CC\\u9ED8\\u9ED8\\u5207\\u83DC\\u7684\\u5927\\u53A8\\u2014\\u2014\\u5404\\u53F8\\u5176\\u804C\\uFF0C\\u5206\\u5DE5\\u660E\\u786E\\u3002\"}),`\n`,(0,r.jsx)(e.h3,{id:\"\\u6838\\u5FC3\\u539F\\u7406\\u4E3A\\u4EC0\\u4E48\\u5B83\\u80FD\\u6551\\u547D\",children:(0,r.jsx)(e.a,{href:\"#\\u6838\\u5FC3\\u539F\\u7406\\u4E3A\\u4EC0\\u4E48\\u5B83\\u80FD\\u6551\\u547D\",children:\"\\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u5B83\\u80FD\\u201C\\u6551\\u547D\\u201D\\uFF1F\"})}),`\n`,(0,r.jsxs)(e.p,{children:[\"Web Worker \\u7684\\u672C\\u8D28\\u662F\\u6D4F\\u89C8\\u5668\\u63D0\\u4F9B\\u7684\\u4E00\\u4E2A\\u72EC\\u7ACB\\u7EBF\\u7A0B\\uFF0C\\u8FD0\\u884C\\u5728\\u5355\\u72EC\\u7684\\u5168\\u5C40\\u4E0A\\u4E0B\\u6587\\u4E2D\\uFF08\\u6CA1\\u6709 DOM\\u3001window \\u5BF9\\u8C61\\uFF0C\\u53EA\\u6709\\u90E8\\u5206 API\\uFF09\\u3002\\u5B83\\u901A\\u8FC7 \",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"postMessage\"})})})}),\" \\u548C \",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"onmessage\"})})})}),\" \\u4E0E\\u4E3B\\u7EBF\\u7A0B\\u901A\\u4FE1\\uFF0C\\u50CF\\u6781\\u4E86\\u4E24\\u4E2A\\u9694\\u7740\\u73BB\\u7483\\u5899\\u558A\\u8BDD\\u7684\\u90BB\\u5C45\\u3002\\u8FD9\\u79CD\\u9694\\u79BB\\u8BBE\\u8BA1\\u6709\\u5565\\u597D\\u5904\\uFF1F\"]}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:\"\\u4E0D\\u963B\\u585E UI\"}),\"\\uFF1A\\u8BA1\\u7B97\\u5BC6\\u96C6\\u578B\\u4EFB\\u52A1\\uFF08\\u6BD4\\u5982\\u5927\\u6570\\u636E\\u5904\\u7406\\uFF09\\u4E0D\\u4F1A\\u8BA9\\u9875\\u9762\\u5361\\u6210 PPT\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:\"\\u5E76\\u884C\\u6267\\u884C\"}),\"\\uFF1A\\u73B0\\u4EE3\\u591A\\u6838 CPU \\u7EC8\\u4E8E\\u6709\\u4E86\\u7528\\u6B66\\u4E4B\\u5730\\uFF0C\\u4E0D\\u518D\\u662F\\u201C\\u4E00\\u4E2A\\u6838\\u5E72\\u6D3B\\uFF0C\\u4E03\\u4E2A\\u6838\\u770B\\u620F\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,r.jsx)(e.p,{children:\"\\u4E0D\\u8FC7\\uFF0C\\u51E1\\u4E8B\\u6709\\u4E24\\u9762\\u6027\\u3002Web Worker \\u4E5F\\u4E0D\\u662F\\u4E07\\u80FD\\u7075\\u836F\\uFF0C\\u5B83\\u6709\\u81EA\\u5DF1\\u7684\\u201C\\u813E\\u6C14\\u201D\\uFF1A\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:\"\\u8D44\\u6E90\\u5F00\\u9500\"}),\"\\uFF1A\\u6BCF\\u4E2A Worker \\u90FD\\u4F1A\\u5360\\u7528\\u5185\\u5B58\\u548C CPU\\uFF0C\\u6EE5\\u7528\\u53EF\\u80FD\\u4F1A\\u8BA9\\u6D4F\\u89C8\\u5668\\u5598\\u4E0D\\u8FC7\\u6C14\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:\"\\u901A\\u4FE1\\u6210\\u672C\"}),\"\\uFF1A\\u6570\\u636E\\u5728\\u4E3B\\u7EBF\\u7A0B\\u548C Worker \\u95F4\\u4F20\\u9012\\u9700\\u8981\\u5E8F\\u5217\\u5316\\uFF0C\\u50CF\\u5FEB\\u9012\\u5BC4\\u5305\\u88F9\\u4E00\\u6837\\uFF0C\\u4E0D\\u662F\\u514D\\u8D39\\u7684\\u3002\"]}),`\n`]}),`\n`,(0,r.jsx)(e.h2,{id:\"\\u521B\\u5EFA\\u4E00\\u4E2A-web-worker\\u4ECEhello-world\\u5F00\\u59CB\",children:(0,r.jsx)(e.a,{href:\"#\\u521B\\u5EFA\\u4E00\\u4E2A-web-worker\\u4ECEhello-world\\u5F00\\u59CB\",children:\"\\u521B\\u5EFA\\u4E00\\u4E2A Web Worker\\uFF1A\\u4ECE\\u201CHello World\\u201D\\u5F00\\u59CB\"})}),`\n`,(0,r.jsx)(e.p,{children:\"\\u8BA9\\u6211\\u4EEC\\u5148\\u5199\\u4E2A\\u7B80\\u5355\\u4F8B\\u5B50\\uFF0C\\u611F\\u53D7\\u4E00\\u4E0B Web Worker \\u7684\\u57FA\\u672C\\u7528\\u6CD5\\u3002\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u8BA1\\u7B97 1 \\u5230 100000 \\u7684\\u7D2F\\u52A0\\u548C\\uFF08\\u522B\\u7B11\\uFF0C\\u8FD9\\u53EA\\u662F\\u70ED\\u8EAB\\uFF09\\u3002\"}),`\n`,(0,r.jsx)(e.h3,{id:\"\\u4E3B\\u7EBF\\u7A0B\\u4EE3\\u7801mainjs\",children:(0,r.jsx)(e.a,{href:\"#\\u4E3B\\u7EBF\\u7A0B\\u4EE3\\u7801mainjs\",children:\"\\u4E3B\\u7EBF\\u7A0B\\u4EE3\\u7801\\uFF08main.js\\uFF09\"})}),`\n`,(0,r.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,r.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" worker\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Worker\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'worker.js'\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"worker.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"postMessage\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ start: \"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", end: \"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100000\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"worker.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,r.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u8BA1\\u7B97\\u7ED3\\u679C\\uFF1A${\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"e\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'result'\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").textContent \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `\\u7ED3\\u679C\\u662F\\uFF1A${\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"e\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,r.jsx)(e.h3,{id:\"worker-\\u7EBF\\u7A0B\\u4EE3\\u7801workerjs\",children:(0,r.jsx)(e.a,{href:\"#worker-\\u7EBF\\u7A0B\\u4EE3\\u7801workerjs\",children:\"Worker \\u7EBF\\u7A0B\\u4EE3\\u7801\\uFF08worker.js\\uFF09\"})}),`\n`,(0,r.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,r.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,r.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"start\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"end\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.data;\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" sum \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" start; i \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" end; i\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    sum \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+=\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" i;\"})]}),`\n`,(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  self.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"postMessage\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(sum);\"})]}),`\n`,(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,r.jsx)(e.p,{children:\"\\u8FD0\\u884C\\u540E\\uFF0C\\u4E3B\\u7EBF\\u7A0B\\u628A\\u4EFB\\u52A1\\u7529\\u7ED9 Worker\\uFF0C\\u81EA\\u5DF1\\u4F18\\u54C9\\u6E38\\u54C9\\u5730\\u7B49\\u7740\\u7ED3\\u679C\\u3002\\u9875\\u9762\\u4E0D\\u4F1A\\u5361\\u987F\\uFF0C\\u7528\\u6237\\u8FD8\\u80FD\\u7EE7\\u7EED\\u6ED1\\u52A8\\u3001\\u70B9\\u51FB\\uFF0C\\u50CF\\u4E2A\\u6CA1\\u4E8B\\u4EBA\\u4E00\\u6837\\u3002\\u600E\\u4E48\\u6837\\uFF0C\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u201C\\u7529\\u9505\\u5927\\u5E08\\u201D\\u7684\\u611F\\u89C9\\uFF1F\\u{1F60F}\"}),`\n`,(0,r.jsx)(e.h2,{id:\"\\u6DF1\\u5165-worker-\\u7C7B\\u578B\\u9009\\u5BF9\\u5DE5\\u5177\\u5E72\\u6D3B\\u4E0D\\u7D2F\",children:(0,r.jsx)(e.a,{href:\"#\\u6DF1\\u5165-worker-\\u7C7B\\u578B\\u9009\\u5BF9\\u5DE5\\u5177\\u5E72\\u6D3B\\u4E0D\\u7D2F\",children:\"\\u6DF1\\u5165 Worker \\u7C7B\\u578B\\uFF1A\\u9009\\u5BF9\\u5DE5\\u5177\\u5E72\\u6D3B\\u4E0D\\u7D2F\"})}),`\n`,(0,r.jsx)(e.p,{children:\"Web Worker \\u5176\\u5B9E\\u662F\\u4E2A\\u201C\\u5927\\u5BB6\\u65CF\\u201D\\uFF0C\\u6709\\u4E09\\u79CD\\u4E3B\\u8981\\u7C7B\\u578B\\uFF0C\\u6BCF\\u79CD\\u90FD\\u6709\\u81EA\\u5DF1\\u7684\\u201C\\u6027\\u683C\\u201D\\u548C\\u7528\\u6B66\\u4E4B\\u5730\\uFF1A\"}),`\n`,(0,r.jsxs)(e.ol,{children:[`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:\"Dedicated Worker\\uFF08\\u4E13\\u7528 Worker\\uFF09\"})}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"\\u4E13\\u5C5E\\u4E8E\\u5355\\u4E2A\\u9875\\u9762\\uFF0C\\u751F\\u547D\\u5468\\u671F\\u548C\\u8C03\\u7528\\u5B83\\u7684\\u811A\\u672C\\u7ED1\\u5B9A\\u3002\"}),`\n`,(0,r.jsx)(e.li,{children:\"\\u7528\\u6CD5\\u7B80\\u5355\\uFF0C\\u4E0A\\u9762\\u4F8B\\u5B50\\u5C31\\u662F\\u5B83\\u3002\"}),`\n`,(0,r.jsx)(e.li,{children:\"\\u573A\\u666F\\uFF1A\\u5355\\u9875\\u5E94\\u7528\\u7684\\u590D\\u6742\\u8BA1\\u7B97\\uFF0C\\u6BD4\\u5982\\u56FE\\u50CF\\u5904\\u7406\\u3001\\u6570\\u636E\\u52A0\\u5BC6\\u3002\"}),`\n`]}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:\"Shared Worker\\uFF08\\u5171\\u4EAB Worker\\uFF09\"})}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"\\u591A\\u4E2A\\u9875\\u9762/\\u6807\\u7B7E\\u9875\\u5171\\u4EAB\\u4E00\\u4E2A Worker\\uFF0C\\u50CF\\u4E2A\\u201C\\u516C\\u7528\\u7535\\u8BDD\\u4EAD\\u201D\\u3002\"}),`\n`,(0,r.jsxs)(e.li,{children:[\"\\u7528\\u6CD5\\uFF1A\",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"new SharedWorker('shared.js')\"})})})}),\"\\uFF0C\\u7136\\u540E\\u901A\\u8FC7 \",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"port\"})})})}),\" \\u901A\\u4FE1\\u3002\"]}),`\n`,(0,r.jsx)(e.li,{children:\"\\u573A\\u666F\\uFF1A\\u8DE8\\u6807\\u7B7E\\u9875\\u540C\\u6B65\\u6570\\u636E\\uFF0C\\u6BD4\\u5982\\u804A\\u5929\\u5E94\\u7528\\u7684\\u672A\\u8BFB\\u6D88\\u606F\\u8BA1\\u6570\\u3002\"}),`\n`]}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:\"Service Worker\"})}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"\\u66F4\\u50CF\\u4E2A\\u201C\\u7F51\\u7EDC\\u4EE3\\u7406\\u201D\\uFF0C\\u4E13\\u6CE8\\u4E8E\\u7F13\\u5B58\\u548C\\u79BB\\u7EBF\\u652F\\u6301\\uFF0C\\u548C Web Worker \\u7684\\u201C\\u8BA1\\u7B97\\u201D\\u5B9A\\u4F4D\\u4E0D\\u540C\\u3002\"}),`\n`,(0,r.jsx)(e.li,{children:\"\\u573A\\u666F\\uFF1APWA \\u7684\\u79BB\\u7EBF\\u4F53\\u9A8C\\uFF08\\u8FD9\\u4E2A\\u54B1\\u5C31\\u4E0D\\u5C55\\u5F00\\u4E86\\uFF0C\\u7559\\u7ED9\\u53E6\\u4E00\\u7BC7\\u535A\\u5BA2\\u5427\\uFF09\\u3002\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,r.jsx)(e.p,{children:\"\\u9009\\u9519\\u4E86\\u7C7B\\u578B\\uFF0C\\u5C31\\u50CF\\u62FF\\u7B77\\u5B50\\u559D\\u6C64\\u2014\\u2014\\u80FD\\u7528\\uFF0C\\u4F46\\u522B\\u626D\\u3002\\u6240\\u4EE5\\uFF0C\\u641E\\u6E05\\u695A\\u9700\\u6C42\\u518D\\u52A8\\u624B\\uFF0C\\u662F\\u8282\\u7701\\u65F6\\u95F4\\u7684\\u7B2C\\u4E00\\u6B65\\u3002\"}),`\n`,(0,r.jsx)(e.h2,{id:\"\\u901A\\u4FE1\\u673A\\u5236\\u4E3B\\u7EBF\\u7A0B\\u548C-worker-\\u7684\\u5FEB\\u9012\\u6E38\\u620F\",children:(0,r.jsx)(e.a,{href:\"#\\u901A\\u4FE1\\u673A\\u5236\\u4E3B\\u7EBF\\u7A0B\\u548C-worker-\\u7684\\u5FEB\\u9012\\u6E38\\u620F\",children:\"\\u901A\\u4FE1\\u673A\\u5236\\uFF1A\\u4E3B\\u7EBF\\u7A0B\\u548C Worker \\u7684\\u201C\\u5FEB\\u9012\\u6E38\\u620F\\u201D\"})}),`\n`,(0,r.jsxs)(e.p,{children:[\"Worker \\u548C\\u4E3B\\u7EBF\\u7A0B\\u9760 \",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"postMessage\"})})})}),\" \\u4F20\\u6570\\u636E\\uFF0C\\u4F46\\u522B\\u4EE5\\u4E3A\\u8FD9\\u8DDF\\u53D1\\u5FAE\\u4FE1\\u4E00\\u6837\\u5FEB\\u3002\\u6570\\u636E\\u5728\\u4F20\\u9012\\u65F6\\u4F1A\\u88AB\",(0,r.jsx)(e.strong,{children:\"\\u5E8F\\u5217\\u5316\"}),\"\\uFF08JSON.stringify \\u90A3\\u79CD\\u611F\\u89C9\\uFF09\\uFF0C\\u7136\\u540E\\u518D\\u53CD\\u5E8F\\u5217\\u5316\\u3002\\u8FD9\\u610F\\u5473\\u7740\\uFF1A\"]}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:\"\\u57FA\\u672C\\u7C7B\\u578B\"}),\"\\uFF08\\u6570\\u5B57\\u3001\\u5B57\\u7B26\\u4E32\\uFF09\\u4F20\\u8D77\\u6765\\u5F88\\u5FEB\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:\"\\u590D\\u6742\\u5BF9\\u8C61\"}),\"\\uFF08\\u5E26\\u65B9\\u6CD5\\u7684\\u7C7B\\u5B9E\\u4F8B\\uFF09\\u4F1A\\u88AB\\u201C\\u62CD\\u6241\\u201D\\uFF0C\\u65B9\\u6CD5\\u4F1A\\u4E22\\u5931\\u3002\"]}),`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:\"\\u5927\\u6570\\u636E\\u91CF\"}),\"\\uFF08\\u6BD4\\u5982\\u8D85\\u5927\\u6570\\u7EC4\\uFF09\\u53EF\\u80FD\\u4F1A\\u5361\\u4F4F\\u901A\\u4FE1\\u7BA1\\u9053\\u3002\"]}),`\n`]}),`\n`,(0,r.jsx)(e.h3,{id:\"\\u4F18\\u5316\\u901A\\u4FE1\\u7684\\u9526\\u56CA\\u5999\\u8BA1\",children:(0,r.jsx)(e.a,{href:\"#\\u4F18\\u5316\\u901A\\u4FE1\\u7684\\u9526\\u56CA\\u5999\\u8BA1\",children:\"\\u4F18\\u5316\\u901A\\u4FE1\\u7684\\u201C\\u9526\\u56CA\\u5999\\u8BA1\\u201D\"})}),`\n`,(0,r.jsxs)(e.ol,{children:[`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u7528 Transferable Objects\"}),(0,r.jsx)(e.br,{}),`\n`,\"\\u5BF9\\u4E8E\\u5927\\u5757\\u6570\\u636E\\uFF08\\u6BD4\\u5982 ArrayBuffer\\uFF09\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"postMessage(data, [data])\"})})})}),\" \\u7684\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u8F6C\\u79FB\\u6240\\u6709\\u6743\\uFF0C\\u907F\\u514D\\u62F7\\u8D1D\\u3002\",(0,r.jsx)(e.br,{}),`\n`,\"\\u793A\\u4F8B\\uFF1A\"]}),`\n`,(0,r.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,r.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" buffer\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Uint8Array\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1024\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,r.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").buffer; \"}),(0,r.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// 1MB \\u6570\\u636E\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"worker.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"postMessage\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(buffer, [buffer]); \"}),(0,r.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8F6C\\u79FB\\u6240\\u6709\\u6743\\uFF0C\\u8D85\\u5FEB\\uFF01\"})]})]})})}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u5206\\u7247\\u4F20\\u8F93\"}),(0,r.jsx)(e.br,{}),`\n`,\"\\u6570\\u636E\\u592A\\u5927\\uFF1F\\u5207\\u6210\\u5C0F\\u5757\\u4F20\\uFF0C\\u5C31\\u50CF\\u5FEB\\u9012\\u5206\\u7BB1\\u5BC4\\u9001\\u3002\\u6BD4\\u5982\\u5904\\u7406 10 \\u4E07\\u6761\\u6570\\u636E\\uFF0C\\u53EF\\u4EE5\\u6BCF 1 \\u4E07\\u6761\\u53D1\\u4E00\\u6B21\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u901A\\u4FE1\"}),(0,r.jsx)(e.br,{}),`\n`,\"Worker \\u5C3D\\u91CF\\u81EA\\u5DF1\\u641E\\u5B9A\\uFF0C\\u522B\\u5565\\u90FD\\u95EE\\u4E3B\\u7EBF\\u7A0B\\uFF0C\\u50CF\\u4E2A\\u72EC\\u7ACB\\u7684\\u5927\\u4EBA\\u800C\\u4E0D\\u662F\\u9ECF\\u4EBA\\u7684\\u5C0F\\u5F1F\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,r.jsx)(e.h2,{id:\"\\u5B9E\\u6218\\u6848\\u4F8B\\u4ECE\\u5361\\u987F\\u5730\\u72F1\\u5230\\u4E1D\\u6ED1\\u5929\\u5802\",children:(0,r.jsx)(e.a,{href:\"#\\u5B9E\\u6218\\u6848\\u4F8B\\u4ECE\\u5361\\u987F\\u5730\\u72F1\\u5230\\u4E1D\\u6ED1\\u5929\\u5802\",children:\"\\u5B9E\\u6218\\u6848\\u4F8B\\uFF1A\\u4ECE\\u201C\\u5361\\u987F\\u5730\\u72F1\\u201D\\u5230\\u201C\\u4E1D\\u6ED1\\u5929\\u5802\\u201D\"})}),`\n`,(0,r.jsx)(e.h3,{id:\"\\u6848\\u4F8B-1\\u5B9E\\u65F6\\u56FE\\u50CF\\u6EE4\\u955C\",children:(0,r.jsx)(e.a,{href:\"#\\u6848\\u4F8B-1\\u5B9E\\u65F6\\u56FE\\u50CF\\u6EE4\\u955C\",children:\"\\u6848\\u4F8B 1\\uFF1A\\u5B9E\\u65F6\\u56FE\\u50CF\\u6EE4\\u955C\"})}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u5047\\u8BBE\\u4F60\\u6709\\u4E2A\\u56FE\\u7247\\u7F16\\u8F91\\u5668\\uFF0C\\u7528\\u6237\\u62D6\\u52A8\\u6ED1\\u5757\\u8C03\\u6574\\u4EAE\\u5EA6\\u3002\\u5982\\u679C\\u5728\\u4E3B\\u7EBF\\u7A0B\\u5904\\u7406 2000x2000 \\u7684\\u50CF\\u7D20\\u6570\\u636E\\uFF0C\\u9875\\u9762\\u4F1A\\u5361\\u5F97\\u50CF\\u8001\\u5F0F VCR \\u64AD\\u653E\\u5668\\u3002\",(0,r.jsx)(e.br,{}),`\n`,(0,r.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\"]}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"Worker \\u63A5\\u7BA1\\u50CF\\u7D20\\u8BA1\\u7B97\\uFF0C\\u4E3B\\u7EBF\\u7A0B\\u53EA\\u7BA1\\u6E32\\u67D3\\u7ED3\\u679C\\u3002\"}),`\n`,(0,r.jsx)(e.li,{children:\"\\u7528 Transferable Objects \\u4F20 Canvas \\u7684 ImageData\\u3002\"}),`\n`,(0,r.jsx)(e.li,{children:\"\\u7ED3\\u679C\\uFF1A\\u7528\\u6237\\u6ED1\\u52A8\\u6ED1\\u5757\\uFF0C\\u9875\\u9762\\u4E1D\\u6ED1\\u5982\\u5976\\u6CB9\\u3002\"}),`\n`]}),`\n`,(0,r.jsx)(e.h3,{id:\"\\u6848\\u4F8B-2\\u5927\\u6570\\u636E\\u6392\\u5E8F\",children:(0,r.jsx)(e.a,{href:\"#\\u6848\\u4F8B-2\\u5927\\u6570\\u636E\\u6392\\u5E8F\",children:\"\\u6848\\u4F8B 2\\uFF1A\\u5927\\u6570\\u636E\\u6392\\u5E8F\"})}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u524D\\u7AEF\\u5C55\\u793A\\u4E00\\u4E2A 10 \\u4E07\\u6761\\u8BB0\\u5F55\\u7684\\u8868\\u683C\\uFF0C\\u7528\\u6237\\u70B9\\u51FB\\u201C\\u6309\\u4EF7\\u683C\\u6392\\u5E8F\\u201D\\u3002\\u4E3B\\u7EBF\\u7A0B\\u76F4\\u63A5\\u6392\\u5E8F\\uFF1F\\u7B49\\u7740\\u7528\\u6237\\u8DD1\\u53BB\\u6CE1\\u5496\\u5561\\u5427\\u3002\",(0,r.jsx)(e.br,{}),`\n`,(0,r.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\"}),\"\\uFF1A\"]}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"Worker \\u63A5\\u624B\\u6392\\u5E8F\\uFF0C\\u5206\\u7247\\u8FD4\\u56DE\\u7ED3\\u679C\\u3002\"}),`\n`,(0,r.jsx)(e.li,{children:\"\\u4E3B\\u7EBF\\u7A0B\\u8FB9\\u6536\\u8FB9\\u66F4\\u65B0 UI\\uFF0C\\u663E\\u793A\\u201C\\u52A0\\u8F7D\\u4E2D\\u201D\\u52A8\\u753B\\u3002\"}),`\n`,(0,r.jsx)(e.li,{children:\"\\u7ED3\\u679C\\uFF1A\\u7528\\u6237\\u89C9\\u5F97\\u201C\\u54C7\\uFF0C\\u8FD9\\u7F51\\u7AD9\\u597D\\u5FEB\\u201D\\uFF0C\\u6B8A\\u4E0D\\u77E5\\u540E\\u53F0 Worker \\u7D2F\\u5F97\\u6EE1\\u5934\\u5927\\u6C57\\u3002\"}),`\n`]}),`\n`,(0,r.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-web-worker-\\u6210\\u4E3A\\u4F60\\u7684\\u5F97\\u529B\\u52A9\\u624B\",children:(0,r.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-web-worker-\\u6210\\u4E3A\\u4F60\\u7684\\u5F97\\u529B\\u52A9\\u624B\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9 Web Worker \\u6210\\u4E3A\\u4F60\\u7684\\u201C\\u5F97\\u529B\\u52A9\\u624B\\u201D\"})}),`\n`,(0,r.jsxs)(e.ol,{children:[`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u6309\\u9700\\u521B\\u5EFA\\uFF0C\\u522B\\u6EE5\\u7528\"}),(0,r.jsx)(e.br,{}),`\n`,\"Worker \\u4E0D\\u662F\\u514D\\u8D39\\u52B3\\u52A8\\u529B\\uFF0C\\u5F00\\u592A\\u591A\\u7B49\\u4E8E\\u8BF7\\u4E86\\u4E00\\u5806\\u53A8\\u5E08\\u5374\\u53EA\\u6709\\u4E00\\u4E2A\\u5C0F\\u7076\\u53F0\\u3002\\u5EFA\\u8BAE\\u6839\\u636E CPU \\u6838\\u5FC3\\u6570\\u52A8\\u6001\\u8C03\\u6574\\uFF08\",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"navigator.hardwareConcurrency\"})})})}),\" \\u4E86\\u89E3\\u4E00\\u4E0B\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u4E0D\\u80FD\\u5FD8\"}),(0,r.jsx)(e.br,{}),`\n`,\"Worker \\u6302\\u4E86\\u4E0D\\u4F1A\\u5F39\\u7A97\\uFF0C\\u800C\\u662F\\u9ED8\\u9ED8\\u7F62\\u5DE5\\u3002\\u7528 \",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"onerror\"})})})}),\" \\u6355\\u83B7\\u5F02\\u5E38\\uFF0C\\u522B\\u8BA9 bug \\u50CF\\u8001\\u9F20\\u4E00\\u6837\\u5077\\u5077\\u8DD1\\u6389\\u3002\"]}),`\n`,(0,r.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,r.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"worker.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,r.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,r.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,r.jsxs)(e.span,{\"data-line\":\"\",children:[(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,r.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Worker \\u51FA\\u5927\\u4E8B\\u4E86\\uFF1A${\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"e\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"message\"}),(0,r.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u4F18\\u96C5\\u5173\\u95ED\"}),(0,r.jsx)(e.br,{}),`\n`,\"\\u7528\\u5B8C Worker \\u8BB0\\u5F97 \",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"worker.terminate()\"})})})}),\"\\uFF0C\\u522B\\u8BA9\\u5B83\\u50CF\\u4E2A\\u5E7D\\u7075\\u8FDB\\u7A0B\\u98D8\\u5728\\u540E\\u53F0\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u4E0D\\u5934\\u75BC\"}),(0,r.jsx)(e.br,{}),`\n`,\"Chrome DevTools \\u652F\\u6301 Worker \\u8C03\\u8BD5\\uFF0C\\u6253\\u5F00 Sources -> Workers\\uFF0C\\u5355\\u6B65\\u6267\\u884C\\u8DDF\\u73A9\\u513F\\u4F3C\\u7684\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u517C\\u5BB9\\u6027\\u68C0\\u67E5\"}),(0,r.jsx)(e.br,{}),`\n`,\"99% \\u7684\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u652F\\u6301 Web Worker\\uFF0C\\u4F46\\u8001\\u53E4\\u8463\\uFF08IE9 \\u4EE5\\u4E0B\\uFF09\\u4F1A\\u4E00\\u8138\\u61F5\\u903C\\u3002\\u7528 \",(0,r.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,r.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,r.jsx)(e.span,{\"data-line\":\"\",children:(0,r.jsx)(e.span,{children:\"if ('Worker' in window)\"})})})}),\" \\u5224\\u65AD\\u4E00\\u4E0B\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u8E29\\u96F7\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,r.jsx)(e.h2,{id:\"\\u6027\\u80FD\\u9677\\u9631\\u522B\\u6389\\u8FDB\\u8FD9\\u4E9B\\u5751\\u91CC\",children:(0,r.jsx)(e.a,{href:\"#\\u6027\\u80FD\\u9677\\u9631\\u522B\\u6389\\u8FDB\\u8FD9\\u4E9B\\u5751\\u91CC\",children:\"\\u6027\\u80FD\\u9677\\u9631\\uFF1A\\u522B\\u6389\\u8FDB\\u8FD9\\u4E9B\\u201C\\u5751\\u201D\\u91CC\"})}),`\n`,(0,r.jsxs)(e.ol,{children:[`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u901A\\u4FE1\\u6210\\u672C\\u8D85\\u9884\\u671F\"}),(0,r.jsx)(e.br,{}),`\n`,\"\\u9891\\u7E41\\u4F20\\u5927\\u6570\\u636E\\u5C31\\u50CF\\u5728\\u9AD8\\u5CF0\\u671F\\u5BC4\\u5FEB\\u9012\\uFF0C\\u6162\\u4E0D\\u8BF4\\u8FD8\\u8D39\\u94B1\\u3002\\u5C3D\\u91CF\\u8BA9 Worker \\u4E00\\u6B21\\u591A\\u5E72\\u70B9\\u6D3B\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\"}),(0,r.jsx)(e.br,{}),`\n`,\"Worker \\u4E0D\\u5173\\u3001\\u6570\\u636E\\u4E0D\\u6E05\\u7406\\uFF0C\\u5185\\u5B58\\u5C31\\u50CF\\u6C34\\u7BA1\\u6F0F\\u6C34\\uFF0C\\u8D8A\\u8DD1\\u8D8A\\u591A\\u3002\\u5B9A\\u671F\\u68C0\\u67E5\\u4EFB\\u52A1\\u5B8C\\u6210\\u540E\\u7684\\u72B6\\u6001\\u3002\"]}),`\n`]}),`\n`,(0,r.jsxs)(e.li,{children:[`\n`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:\"\\u542F\\u52A8\\u5F00\\u9500\"}),(0,r.jsx)(e.br,{}),`\n`,\"\\u521B\\u5EFA Worker \\u4E0D\\u662F\\u77AC\\u95F4\\u7684\\u4E8B\\uFF0C\\u5C0F\\u4EFB\\u52A1\\u4EA4\\u7ED9\\u5B83\\u53EF\\u80FD\\u5F97\\u4E0D\\u507F\\u5931\\u3002\\u5EFA\\u8BAE\\u4EFB\\u52A1\\u8017\\u65F6 > 50ms \\u518D\\u8003\\u8651\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,r.jsx)(e.h2,{id:\"\\u7C7B\\u6BD4\\u603B\\u7ED3web-worker-\\u662F\\u4F60\\u7684\\u79C1\\u4EBA\\u52A9\\u7406\",children:(0,r.jsx)(e.a,{href:\"#\\u7C7B\\u6BD4\\u603B\\u7ED3web-worker-\\u662F\\u4F60\\u7684\\u79C1\\u4EBA\\u52A9\\u7406\",children:\"\\u7C7B\\u6BD4\\u603B\\u7ED3\\uFF1AWeb Worker \\u662F\\u4F60\\u7684\\u201C\\u79C1\\u4EBA\\u52A9\\u7406\\u201D\"})}),`\n`,(0,r.jsxs)(e.p,{children:[\"\\u628A Web Worker \\u60F3\\u8C61\\u6210\\u4E00\\u4E2A\\u79C1\\u4EBA\\u52A9\\u7406\\uFF0C\\u4E3B\\u7EBF\\u7A0B\\u662F\\u8001\\u677F\\u3002\\u8001\\u677F\\u5FD9\\u7740\\u63A5\\u7535\\u8BDD\\u3001\\u89C1\\u5BA2\\u6237\\uFF08\\u6E32\\u67D3 UI\\u3001\\u54CD\\u5E94\\u4E8B\\u4EF6\\uFF09\\uFF0C\\u52A9\\u7406\\u5728\\u540E\\u53F0\\u9ED8\\u9ED8\\u6574\\u7406\\u6587\\u4EF6\\u3001\\u8DD1\\u6570\\u636E\\uFF08\\u8BA1\\u7B97\\u4EFB\\u52A1\\uFF09\\u3002\\u52A9\\u7406\\u5E72\\u5F97\\u597D\\uFF0C\\u8001\\u677F\\u8F7B\\u677E\\uFF0C\\u7528\\u6237\\u5F00\\u5FC3\\uFF1B\\u52A9\\u7406\\u5077\\u61D2\\u6216\\u8005\\u592A\\u591A\\uFF0C\\u529E\\u516C\\u5BA4\\u5C31\\u4E71\\u5957\\u4E86\\u3002\\u5173\\u952E\\u5728\\u4E8E\\uFF1A\",(0,r.jsx)(e.strong,{children:\"\\u5408\\u7406\\u5206\\u5DE5\\uFF0C\\u9AD8\\u6548\\u534F\\u4F5C\"}),\"\\u3002\"]}),`\n`,(0,r.jsx)(e.h2,{id:\"\\u5199\\u5728\\u6700\\u540E\",children:(0,r.jsx)(e.a,{href:\"#\\u5199\\u5728\\u6700\\u540E\",children:\"\\u5199\\u5728\\u6700\\u540E\"})}),`\n`,(0,r.jsx)(e.p,{children:\"Web Worker \\u4E0D\\u662F\\u4EC0\\u4E48\\u9AD8\\u6DF1\\u9B54\\u6CD5\\uFF0C\\u800C\\u662F\\u524D\\u7AEF\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u201C\\u745E\\u58EB\\u519B\\u5200\\u201D\\u3002\\u5B83\\u80FD\\u8BA9\\u4F60\\u7684\\u5E94\\u7528\\u4ECE\\u201C\\u5361\\u987F\\u5730\\u72F1\\u201D\\u98DE\\u5347\\u5230\\u201C\\u4E1D\\u6ED1\\u5929\\u5802\\u201D\\uFF0C\\u4F46\\u524D\\u63D0\\u662F\\u4F60\\u5F97\\u7528\\u5BF9\\u5730\\u65B9\\u3001\\u7528\\u597D\\u65B9\\u6CD5\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6307\\u5357\\u80FD\\u7ED9\\u4F60\\u4E00\\u4E9B\\u7075\\u611F\\uFF0C\\u4E0B\\u6B21\\u9047\\u5230\\u6027\\u80FD\\u74F6\\u9888\\u65F6\\uFF0C\\u4E0D\\u59A8\\u8BD5\\u8BD5\\u8FD9\\u4E2A\\u201C\\u5E55\\u540E\\u82F1\\u96C4\\u201D\\u3002\\u6709\\u4EC0\\u4E48\\u95EE\\u9898\\u6216\\u8005\\u9A9A\\u60F3\\u6CD5\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u8DDF\\u6211\\u804A\\u804A\\u2014\\u2014\\u6BD5\\u7ADF\\uFF0C\\u4EE3\\u7801\\u662F\\u6B7B\\u7684\\uFF0C\\u4EBA\\u662F\\u6D3B\\u7684\\u561B\\uFF01\\u{1F609}\"}),`\n`,(0,r.jsx)(e.hr,{})]})}function t(n={}){let{wrapper:e}=n.components||{};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(s,{...n})}):s(n)}return W(w);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/Web-Worker ç»ˆæä¼˜åŒ–æŒ‡å—.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/Web-Worker ç»ˆæä¼˜åŒ–æŒ‡å—.mdx",
    "sourceFileName": "Web-Worker ç»ˆæä¼˜åŒ–æŒ‡å—.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/Web-Worker ç»ˆæä¼˜åŒ–æŒ‡å—"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/Web-Worker ç»ˆæä¼˜åŒ–æŒ‡å—"
}
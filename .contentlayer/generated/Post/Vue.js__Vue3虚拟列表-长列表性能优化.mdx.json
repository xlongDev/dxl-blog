{
  "title": "Vue3 中实现虚拟列表、长列表性能优化与实践",
  "date": "2023-11-14T00:00:00.000Z",
  "description": "深入探讨 Vue3 中虚拟列表的实现原理、性能优化技巧及实践经验，带你从零打造高效长列表组件。",
  "keywords": "Vue3, 虚拟列表, 长列表优化, 性能优化, 前端开发, 响应式, Composition API",
  "author": "晓龙",
  "image": "/images/hero/virtual-list-vue3.jpg",
  "tags": [
    "Vue3",
    "性能优化",
    "前端开发"
  ],
  "views": 0,
  "likes": 0,
  "category": "Vue.js",
  "body": {
    "raw": "\n在现代前端开发中，长列表（比如包含成千上万条数据的表格或列表）是常见的场景。如果直接将所有数据渲染到 DOM 中，不仅会占用大量内存，还会导致页面卡顿甚至崩溃。这时，虚拟列表（Virtual List）就成了解决性能瓶颈的利器。Vue3 凭借其强大的响应式系统和 Composition API，为实现虚拟列表提供了灵活而高效的方式。\n\n本文将带你从原理到实践，深入剖析虚拟列表的核心思想，结合 Vue3 的特性实现一个高性能的长列表组件，并分享优化过程中的经验与技巧。\n\n## 什么是虚拟列表？\n\n虚拟列表的核心思想是“只渲染可视区域的元素”。想象一下，你有一个包含 10 万条数据的列表，但用户的屏幕一次只能显示 10 条。如果我们把全部 10 万条都渲染到 DOM 中，显然是浪费资源。虚拟列表的做法是：\n\n1. 计算当前可视区域（Viewport）内应该显示哪些数据。\n2. 只渲染这些数据对应的 DOM 节点。\n3. 通过监听滚动事件，动态更新可视区域内的内容。\n\n这样，无论列表有多长，实际渲染的 DOM 节点数量始终保持在一个很小的范围（比如 10-20 个），极大提升了性能。\n\n## 虚拟列表的实现原理\n\n在深入 Vue3 的代码之前，我们先拆解一下虚拟列表的基本原理。\n\n### 关键概念\n- **可视区域高度（Viewport Height）**：浏览器窗口或容器的可见高度。\n- **滚动偏移量（Scroll Offset）**：用户滚动时，列表顶部相对于整个列表的偏移量。\n- **列表项高度（Item Height）**：每条数据对应的 DOM 元素高度，可以是固定的，也可以是动态的。\n- **总高度（Total Height）**：所有列表项高度之和，用于撑开滚动条。\n- **渲染范围（Render Range）**：当前需要渲染的起始索引和结束索引。\n\n### 计算逻辑\n假设：\n- 容器高度为 `containerHeight`（如 500px）。\n- 每项高度为 `itemHeight`（如 50px）。\n- 当前滚动偏移量为 `scrollTop`（如 200px）。\n- 数据总数为 `totalItems`（如 10000）。\n\n1. **计算起始索引**：`startIndex = Math.floor(scrollTop / itemHeight)`，即滚动偏移除以单项高度，向下取整。\n2. **计算可视项数**：`visibleCount = Math.ceil(containerHeight / itemHeight)`，即容器高度除以单项高度，向上取整。\n3. **计算结束索引**：`endIndex = startIndex + visibleCount`。\n4. **添加缓冲区**：为了滚动更平滑，通常会在可视区域上下各多渲染一些项（比如多渲染 5 项），即 `bufferCount`。\n5. **总高度**：`totalHeight = totalItems * itemHeight`，用于设置容器的占位高度。\n\n通过这些计算，我们就能动态确定渲染哪些数据。\n\n## 在 Vue3 中实现虚拟列表\n\n接下来，我们用 Vue3 的 Composition API 实现一个基础的虚拟列表组件。\n\n### 基础实现\n\n```vue\n<template>\n  <div class=\"virtual-list-container\" ref=\"container\" @scroll=\"handleScroll\">\n    <div class=\"virtual-list-placeholder\" :style=\"{ height: totalHeight + 'px' }\"></div>\n    <div class=\"virtual-list-content\" :style=\"{ transform: `translateY(${offset}px)` }\">\n      <div v-for=\"item in visibleItems\" :key=\"item.id\" class=\"list-item\">\n        {{ item.name }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue';\n\n// 模拟数据\nconst list = ref(Array.from({ length: 10000 }, (_, i) => ({ id: i, name: `Item ${i}` })));\n\n// 容器引用\nconst container = ref(null);\n\n// 配置项\nconst itemHeight = 50; // 每项固定高度\nconst bufferCount = 5; // 缓冲区大小\n\n// 动态计算\nconst scrollTop = ref(0);\nconst containerHeight = ref(0);\nconst totalHeight = computed(() => list.value.length * itemHeight);\nconst visibleCount = computed(() => Math.ceil(containerHeight.value / itemHeight));\nconst startIndex = computed(() => Math.max(0, Math.floor(scrollTop.value / itemHeight) - bufferCount));\nconst endIndex = computed(() => Math.min(list.value.length, startIndex.value + visibleCount.value + bufferCount));\nconst offset = computed(() => startIndex.value * itemHeight);\nconst visibleItems = computed(() => list.value.slice(startIndex.value, endIndex.value));\n\n// 滚动事件处理\nconst handleScroll = () => {\n  scrollTop.value = container.value.scrollTop;\n};\n\n// 初始化容器高度\nonMounted(() => {\n  containerHeight.value = container.value.clientHeight;\n});\n</script>\n\n<style scoped>\n.virtual-list-container {\n  height: 500px;\n  overflow-y: auto;\n  position: relative;\n}\n.virtual-list-placeholder {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.virtual-list-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.list-item {\n  height: 50px;\n  line-height: 50px;\n  border-bottom: 1px solid #eee;\n}\n</style>\n```\n\n#### 代码解析\n1. **结构**：\n   - `virtual-list-container` 是滚动容器。\n   - `virtual-list-placeholder` 是一个占位元素，高度等于列表总高度，用于撑开滚动条。\n   - `virtual-list-content` 是实际渲染内容的容器，通过 `transform` 动态调整位置。\n\n2. **响应式计算**：\n   - 使用 `computed` 计算 `startIndex`、`endIndex` 和 `visibleItems`，确保数据随滚动实时更新。\n   - `offset` 用于调整渲染内容的位置，避免空白。\n\n3. **滚动监听**：\n   - `handleScroll` 更新 `scrollTop`，触发重新计算。\n\n这个实现适用于固定高度的列表项，已经能显著提升性能。但现实中，列表项高度往往是动态的，我们接下来优化它。\n\n## 处理动态高度\n\n固定高度简单高效，但如果列表项内容不同（比如评论列表），高度可能不一致。这时，我们需要记录每项的实际高度。\n\n### 动态高度实现\n\n```vue\n<template>\n  <div class=\"virtual-list-container\" ref=\"container\" @scroll=\"handleScroll\">\n    <div class=\"virtual-list-placeholder\" :style=\"{ height: totalHeight + 'px' }\"></div>\n    <div class=\"virtual-list-content\" :style=\"{ transform: `translateY(${offset}px)` }\">\n      <div v-for=\"item in visibleItems\" :key=\"item.id\" class=\"list-item\" ref=\"items\">\n        {{ item.name }} - {{ item.content }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, nextTick } from 'vue';\n\n// 模拟动态数据\nconst list = ref(\n  Array.from({ length: 10000 }, (_, i) => ({\n    id: i,\n    name: `Item ${i}`,\n    content: i % 2 === 0 ? 'Short' : 'Long content that takes more space',\n  }))\n);\n\n// 容器和元素引用\nconst container = ref(null);\nconst items = ref([]);\n\n// 状态\nconst scrollTop = ref(0);\nconst containerHeight = ref(0);\nconst itemHeights = ref([]); // 存储每项高度\nconst bufferCount = 5;\n\n// 计算总高度\nconst totalHeight = computed(() => itemHeights.value.reduce((sum, h) => sum + h, 0));\n\n// 计算起始和结束索引\nconst startIndex = computed(() => {\n  let sum = 0;\n  for (let i = 0; i < itemHeights.value.length; i++) {\n    if (sum + itemHeights.value[i] > scrollTop.value) return Math.max(0, i - bufferCount);\n    sum += itemHeights.value[i];\n  }\n  return 0;\n});\nconst endIndex = computed(() => {\n  let sum = 0;\n  let end = startIndex.value;\n  for (let i = startIndex.value; i < itemHeights.value.length; i++) {\n    sum += itemHeights.value[i];\n    if (sum >= containerHeight.value + itemHeights.value[i]) {\n      end = i + bufferCount;\n      break;\n    }\n  }\n  return Math.min(list.value.length, end + bufferCount);\n});\nconst offset = computed(() => itemHeights.value.slice(0, startIndex.value).reduce((sum, h) => sum + h, 0));\nconst visibleItems = computed(() => list.value.slice(startIndex.value, endIndex.value));\n\n// 滚动处理\nconst handleScroll = () => {\n  scrollTop.value = container.value.scrollTop;\n};\n\n// 初始化高度\nconst updateItemHeights = () => {\n  nextTick(() => {\n    itemHeights.value = items.value.map((el) => el.offsetHeight);\n  });\n};\n\nonMounted(() => {\n  containerHeight.value = container.value.clientHeight;\n  updateItemHeights();\n});\n</script>\n\n<style scoped>\n.virtual-list-container {\n  height: 500px;\n  overflow-y: auto;\n  position: relative;\n}\n.virtual-list-placeholder {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.virtual-list-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.list-item {\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n}\n</style>\n```\n\n#### 动态高度的关键点\n1. **高度记录**：通过 `ref=\"items\"` 获取渲染后的 DOM 元素，计算每项实际高度并存储在 `itemHeights` 中。\n2. **索引计算**：不再依赖固定高度，而是根据累计高度和 `scrollTop` 计算 `startIndex` 和 `endIndex`。\n3. **性能考虑**：`updateItemHeights` 在 `nextTick` 中执行，确保 DOM 更新后获取准确高度。\n\n## 性能优化技巧\n\n虚拟列表虽然已经大幅减少了 DOM 节点，但仍有优化空间。\n\n### 1. 防抖滚动事件\n频繁触发 `handleScroll` 可能导致性能问题。我们可以用防抖（debounce）优化：\n\n```javascript\nimport { debounce } from 'lodash';\n\nconst handleScroll = debounce(() => {\n  scrollTop.value = container.value.scrollTop;\n}, 16); // 约 60fps\n```\n\n### 2. 预估高度\n动态高度需要渲染后计算，但首次渲染时 `itemHeights` 为空，可能导致偏移错误。可以为每项设置一个预估高度（如 50px），渲染后再更新。\n\n```javascript\nconst itemHeights = ref(list.value.map(() => 50)); // 预估高度\n```\n\n### 3. 懒加载数据\n如果数据是从后端分页加载的，可以结合虚拟列表实现懒加载。当滚动接近底部时，请求下一页数据：\n\n```javascript\nconst loadMore = () => {\n  if (scrollTop.value + containerHeight.value >= totalHeight.value - 200) {\n    // 模拟加载更多数据\n    list.value.push(...Array.from({ length: 1000 }, (_, i) => ({ id: i + list.value.length, name: `Item ${i + list.value.length}` })));\n  }\n};\nconst handleScroll = debounce(() => {\n  scrollTop.value = container.value.scrollTop;\n  loadMore();\n}, 16);\n```\n\n### 4. 使用 ResizeObserver\n容器高度可能因窗口调整而变化，使用 `ResizeObserver` 动态更新 `containerHeight`：\n\n```javascript\nonMounted(() => {\n  const resizeObserver = new ResizeObserver(() => {\n    containerHeight.value = container.value.clientHeight;\n  });\n  resizeObserver.observe(container.value);\n});\n```\n\n## 实践中的注意事项\n\n1. **浏览器兼容性**：`ResizeObserver` 在老旧浏览器中可能不支持，需提供 fallback。\n2. **滚动平滑性**：缓冲区大小（`bufferCount`）需根据实际场景调整，太小可能导致闪烁，太大会增加渲染负担。\n3. **复杂内容**：如果列表项包含图片或复杂组件，考虑异步加载和占位符。\n\n## 总结\n\n通过 Vue3 的 Composition API，我们可以轻松实现一个高效的虚拟列表组件。固定高度方案简单直接，适合高度一致的场景；动态高度方案更灵活，能应对复杂需求。结合防抖、预估高度、懒加载等优化手段，虚拟列表的性能和用户体验都能达到最佳。\n\n虚拟列表的本质是对资源的高效利用，它不仅是技术上的优化，更体现了前端开发中“按需渲染”的哲学。希望这篇文章能帮你在项目中游刃有余地处理长列表问题！\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(n,l)=>()=>(l||n((l={exports:{}}).exports,l),l.exports),B=(n,l)=>{for(var r in l)s(n,r,{get:l[r],enumerable:!0})},o=(n,l,r,a)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let c of y(l))!u.call(n,c)&&c!==r&&s(n,c,{get:()=>l[c],enumerable:!(a=E(l,c))||a.enumerable});return n};var m=(n,l,r)=>(r=n!=null?p(F(n)):{},o(l||!n||!n.__esModule?s(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>o(s({},\"__esModule\",{value:!0}),n);var d=g((D,i)=>{i.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>v});var e=m(d()),v={type:\"Post\",title:\"Vue3 \\u4E2D\\u5B9E\\u73B0\\u865A\\u62DF\\u5217\\u8868\\u3001\\u957F\\u5217\\u8868\\u6027\\u80FD\\u4F18\\u5316\\u4E0E\\u5B9E\\u8DF5\",date:\"2023-11-14\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8 Vue3 \\u4E2D\\u865A\\u62DF\\u5217\\u8868\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\u3001\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\\u53CA\\u5B9E\\u8DF5\\u7ECF\\u9A8C\\uFF0C\\u5E26\\u4F60\\u4ECE\\u96F6\\u6253\\u9020\\u9AD8\\u6548\\u957F\\u5217\\u8868\\u7EC4\\u4EF6\\u3002\",keywords:\"Vue3, \\u865A\\u62DF\\u5217\\u8868, \\u957F\\u5217\\u8868\\u4F18\\u5316, \\u6027\\u80FD\\u4F18\\u5316, \\u524D\\u7AEF\\u5F00\\u53D1, \\u54CD\\u5E94\\u5F0F, Composition API\",author:\"\\u6653\\u9F99\",image:\"/images/hero/virtual-list-vue3.jpg\",tags:[\"Vue3\",\"\\u6027\\u80FD\\u4F18\\u5316\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"Vue.js\"};function t(n){let l={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l.p,{children:\"\\u5728\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\uFF0C\\u957F\\u5217\\u8868\\uFF08\\u6BD4\\u5982\\u5305\\u542B\\u6210\\u5343\\u4E0A\\u4E07\\u6761\\u6570\\u636E\\u7684\\u8868\\u683C\\u6216\\u5217\\u8868\\uFF09\\u662F\\u5E38\\u89C1\\u7684\\u573A\\u666F\\u3002\\u5982\\u679C\\u76F4\\u63A5\\u5C06\\u6240\\u6709\\u6570\\u636E\\u6E32\\u67D3\\u5230 DOM \\u4E2D\\uFF0C\\u4E0D\\u4EC5\\u4F1A\\u5360\\u7528\\u5927\\u91CF\\u5185\\u5B58\\uFF0C\\u8FD8\\u4F1A\\u5BFC\\u81F4\\u9875\\u9762\\u5361\\u987F\\u751A\\u81F3\\u5D29\\u6E83\\u3002\\u8FD9\\u65F6\\uFF0C\\u865A\\u62DF\\u5217\\u8868\\uFF08Virtual List\\uFF09\\u5C31\\u6210\\u4E86\\u89E3\\u51B3\\u6027\\u80FD\\u74F6\\u9888\\u7684\\u5229\\u5668\\u3002Vue3 \\u51ED\\u501F\\u5176\\u5F3A\\u5927\\u7684\\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u548C Composition API\\uFF0C\\u4E3A\\u5B9E\\u73B0\\u865A\\u62DF\\u5217\\u8868\\u63D0\\u4F9B\\u4E86\\u7075\\u6D3B\\u800C\\u9AD8\\u6548\\u7684\\u65B9\\u5F0F\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u6DF1\\u5165\\u5256\\u6790\\u865A\\u62DF\\u5217\\u8868\\u7684\\u6838\\u5FC3\\u601D\\u60F3\\uFF0C\\u7ED3\\u5408 Vue3 \\u7684\\u7279\\u6027\\u5B9E\\u73B0\\u4E00\\u4E2A\\u9AD8\\u6027\\u80FD\\u7684\\u957F\\u5217\\u8868\\u7EC4\\u4EF6\\uFF0C\\u5E76\\u5206\\u4EAB\\u4F18\\u5316\\u8FC7\\u7A0B\\u4E2D\\u7684\\u7ECF\\u9A8C\\u4E0E\\u6280\\u5DE7\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u865A\\u62DF\\u5217\\u8868\",children:(0,e.jsx)(l.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u865A\\u62DF\\u5217\\u8868\",children:\"\\u4EC0\\u4E48\\u662F\\u865A\\u62DF\\u5217\\u8868\\uFF1F\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u865A\\u62DF\\u5217\\u8868\\u7684\\u6838\\u5FC3\\u601D\\u60F3\\u662F\\u201C\\u53EA\\u6E32\\u67D3\\u53EF\\u89C6\\u533A\\u57DF\\u7684\\u5143\\u7D20\\u201D\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4F60\\u6709\\u4E00\\u4E2A\\u5305\\u542B 10 \\u4E07\\u6761\\u6570\\u636E\\u7684\\u5217\\u8868\\uFF0C\\u4F46\\u7528\\u6237\\u7684\\u5C4F\\u5E55\\u4E00\\u6B21\\u53EA\\u80FD\\u663E\\u793A 10 \\u6761\\u3002\\u5982\\u679C\\u6211\\u4EEC\\u628A\\u5168\\u90E8 10 \\u4E07\\u6761\\u90FD\\u6E32\\u67D3\\u5230 DOM \\u4E2D\\uFF0C\\u663E\\u7136\\u662F\\u6D6A\\u8D39\\u8D44\\u6E90\\u3002\\u865A\\u62DF\\u5217\\u8868\\u7684\\u505A\\u6CD5\\u662F\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u8BA1\\u7B97\\u5F53\\u524D\\u53EF\\u89C6\\u533A\\u57DF\\uFF08Viewport\\uFF09\\u5185\\u5E94\\u8BE5\\u663E\\u793A\\u54EA\\u4E9B\\u6570\\u636E\\u3002\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u53EA\\u6E32\\u67D3\\u8FD9\\u4E9B\\u6570\\u636E\\u5BF9\\u5E94\\u7684 DOM \\u8282\\u70B9\\u3002\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u901A\\u8FC7\\u76D1\\u542C\\u6EDA\\u52A8\\u4E8B\\u4EF6\\uFF0C\\u52A8\\u6001\\u66F4\\u65B0\\u53EF\\u89C6\\u533A\\u57DF\\u5185\\u7684\\u5185\\u5BB9\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8FD9\\u6837\\uFF0C\\u65E0\\u8BBA\\u5217\\u8868\\u6709\\u591A\\u957F\\uFF0C\\u5B9E\\u9645\\u6E32\\u67D3\\u7684 DOM \\u8282\\u70B9\\u6570\\u91CF\\u59CB\\u7EC8\\u4FDD\\u6301\\u5728\\u4E00\\u4E2A\\u5F88\\u5C0F\\u7684\\u8303\\u56F4\\uFF08\\u6BD4\\u5982 10-20 \\u4E2A\\uFF09\\uFF0C\\u6781\\u5927\\u63D0\\u5347\\u4E86\\u6027\\u80FD\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u865A\\u62DF\\u5217\\u8868\\u7684\\u5B9E\\u73B0\\u539F\\u7406\",children:(0,e.jsx)(l.a,{href:\"#\\u865A\\u62DF\\u5217\\u8868\\u7684\\u5B9E\\u73B0\\u539F\\u7406\",children:\"\\u865A\\u62DF\\u5217\\u8868\\u7684\\u5B9E\\u73B0\\u539F\\u7406\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5728\\u6DF1\\u5165 Vue3 \\u7684\\u4EE3\\u7801\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u62C6\\u89E3\\u4E00\\u4E0B\\u865A\\u62DF\\u5217\\u8868\\u7684\\u57FA\\u672C\\u539F\\u7406\\u3002\"}),`\n`,(0,e.jsx)(l.h3,{id:\"\\u5173\\u952E\\u6982\\u5FF5\",children:(0,e.jsx)(l.a,{href:\"#\\u5173\\u952E\\u6982\\u5FF5\",children:\"\\u5173\\u952E\\u6982\\u5FF5\"})}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u53EF\\u89C6\\u533A\\u57DF\\u9AD8\\u5EA6\\uFF08Viewport Height\\uFF09\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u7A97\\u53E3\\u6216\\u5BB9\\u5668\\u7684\\u53EF\\u89C1\\u9AD8\\u5EA6\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u6EDA\\u52A8\\u504F\\u79FB\\u91CF\\uFF08Scroll Offset\\uFF09\"}),\"\\uFF1A\\u7528\\u6237\\u6EDA\\u52A8\\u65F6\\uFF0C\\u5217\\u8868\\u9876\\u90E8\\u76F8\\u5BF9\\u4E8E\\u6574\\u4E2A\\u5217\\u8868\\u7684\\u504F\\u79FB\\u91CF\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u5217\\u8868\\u9879\\u9AD8\\u5EA6\\uFF08Item Height\\uFF09\"}),\"\\uFF1A\\u6BCF\\u6761\\u6570\\u636E\\u5BF9\\u5E94\\u7684 DOM \\u5143\\u7D20\\u9AD8\\u5EA6\\uFF0C\\u53EF\\u4EE5\\u662F\\u56FA\\u5B9A\\u7684\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u662F\\u52A8\\u6001\\u7684\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u603B\\u9AD8\\u5EA6\\uFF08Total Height\\uFF09\"}),\"\\uFF1A\\u6240\\u6709\\u5217\\u8868\\u9879\\u9AD8\\u5EA6\\u4E4B\\u548C\\uFF0C\\u7528\\u4E8E\\u6491\\u5F00\\u6EDA\\u52A8\\u6761\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u6E32\\u67D3\\u8303\\u56F4\\uFF08Render Range\\uFF09\"}),\"\\uFF1A\\u5F53\\u524D\\u9700\\u8981\\u6E32\\u67D3\\u7684\\u8D77\\u59CB\\u7D22\\u5F15\\u548C\\u7ED3\\u675F\\u7D22\\u5F15\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.h3,{id:\"\\u8BA1\\u7B97\\u903B\\u8F91\",children:(0,e.jsx)(l.a,{href:\"#\\u8BA1\\u7B97\\u903B\\u8F91\",children:\"\\u8BA1\\u7B97\\u903B\\u8F91\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5047\\u8BBE\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[\"\\u5BB9\\u5668\\u9AD8\\u5EA6\\u4E3A \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"containerHeight\"})})})}),\"\\uFF08\\u5982 500px\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[\"\\u6BCF\\u9879\\u9AD8\\u5EA6\\u4E3A \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"itemHeight\"})})})}),\"\\uFF08\\u5982 50px\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[\"\\u5F53\\u524D\\u6EDA\\u52A8\\u504F\\u79FB\\u91CF\\u4E3A \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"scrollTop\"})})})}),\"\\uFF08\\u5982 200px\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[\"\\u6570\\u636E\\u603B\\u6570\\u4E3A \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"totalItems\"})})})}),\"\\uFF08\\u5982 10000\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u8BA1\\u7B97\\u8D77\\u59CB\\u7D22\\u5F15\"}),\"\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"startIndex = Math.floor(scrollTop / itemHeight)\"})})})}),\"\\uFF0C\\u5373\\u6EDA\\u52A8\\u504F\\u79FB\\u9664\\u4EE5\\u5355\\u9879\\u9AD8\\u5EA6\\uFF0C\\u5411\\u4E0B\\u53D6\\u6574\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u8BA1\\u7B97\\u53EF\\u89C6\\u9879\\u6570\"}),\"\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"visibleCount = Math.ceil(containerHeight / itemHeight)\"})})})}),\"\\uFF0C\\u5373\\u5BB9\\u5668\\u9AD8\\u5EA6\\u9664\\u4EE5\\u5355\\u9879\\u9AD8\\u5EA6\\uFF0C\\u5411\\u4E0A\\u53D6\\u6574\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u8BA1\\u7B97\\u7ED3\\u675F\\u7D22\\u5F15\"}),\"\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"endIndex = startIndex + visibleCount\"})})})}),\"\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u6DFB\\u52A0\\u7F13\\u51B2\\u533A\"}),\"\\uFF1A\\u4E3A\\u4E86\\u6EDA\\u52A8\\u66F4\\u5E73\\u6ED1\\uFF0C\\u901A\\u5E38\\u4F1A\\u5728\\u53EF\\u89C6\\u533A\\u57DF\\u4E0A\\u4E0B\\u5404\\u591A\\u6E32\\u67D3\\u4E00\\u4E9B\\u9879\\uFF08\\u6BD4\\u5982\\u591A\\u6E32\\u67D3 5 \\u9879\\uFF09\\uFF0C\\u5373 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"bufferCount\"})})})}),\"\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u603B\\u9AD8\\u5EA6\"}),\"\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"totalHeight = totalItems * itemHeight\"})})})}),\"\\uFF0C\\u7528\\u4E8E\\u8BBE\\u7F6E\\u5BB9\\u5668\\u7684\\u5360\\u4F4D\\u9AD8\\u5EA6\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u901A\\u8FC7\\u8FD9\\u4E9B\\u8BA1\\u7B97\\uFF0C\\u6211\\u4EEC\\u5C31\\u80FD\\u52A8\\u6001\\u786E\\u5B9A\\u6E32\\u67D3\\u54EA\\u4E9B\\u6570\\u636E\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u5728-vue3-\\u4E2D\\u5B9E\\u73B0\\u865A\\u62DF\\u5217\\u8868\",children:(0,e.jsx)(l.a,{href:\"#\\u5728-vue3-\\u4E2D\\u5B9E\\u73B0\\u865A\\u62DF\\u5217\\u8868\",children:\"\\u5728 Vue3 \\u4E2D\\u5B9E\\u73B0\\u865A\\u62DF\\u5217\\u8868\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u7528 Vue3 \\u7684 Composition API \\u5B9E\\u73B0\\u4E00\\u4E2A\\u57FA\\u7840\\u7684\\u865A\\u62DF\\u5217\\u8868\\u7EC4\\u4EF6\\u3002\"}),`\n`,(0,e.jsx)(l.h3,{id:\"\\u57FA\\u7840\\u5B9E\\u73B0\",children:(0,e.jsx)(l.a,{href:\"#\\u57FA\\u7840\\u5B9E\\u73B0\",children:\"\\u57FA\\u7840\\u5B9E\\u73B0\"})}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"vue\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"vue\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"virtual-list-container\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"container\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" @scroll\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"handleScroll\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"virtual-list-placeholder\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :style\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:`\"{ height: totalHeight + 'px' }\"`}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"virtual-list-content\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :style\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"{ transform: `translateY(${offset}px)` }\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" v-for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item in visibleItems\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :key\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item.id\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"list-item\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        {{ item.name }}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { ref, computed, onMounted } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF\\u6570\\u636E\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" list\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(Array.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"from\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ length: \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"10000\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }, (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ({ id: i, name: \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`Item ${\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u5BB9\\u5668\\u5F15\\u7528\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" container\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u914D\\u7F6E\\u9879\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" itemHeight\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 50\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF\\u9879\\u56FA\\u5B9A\\u9AD8\\u5EA6\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" bufferCount\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7F13\\u51B2\\u533A\\u5927\\u5C0F\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u52A8\\u6001\\u8BA1\\u7B97\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" scrollTop\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" containerHeight\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" totalHeight\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" list.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeight);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" visibleCount\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ceil\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(containerHeight.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeight));\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" startIndex\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"max\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"floor\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(scrollTop.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeight) \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" bufferCount));\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" endIndex\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"min\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(list.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", startIndex.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" visibleCount.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" bufferCount));\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" offset\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" startIndex.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeight);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" visibleItems\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" list.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"slice\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(startIndex.value, endIndex.value));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6EDA\\u52A8\\u4E8B\\u4EF6\\u5904\\u7406\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" handleScroll\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  scrollTop.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" container.value.scrollTop;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u521D\\u59CB\\u5316\\u5BB9\\u5668\\u9AD8\\u5EA6\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onMounted\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  containerHeight.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" container.value.clientHeight;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" scoped\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".virtual-list-container\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  height\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  overflow-y\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"auto\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  position\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"relative\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".virtual-list-placeholder\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  position\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"absolute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  top\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  left\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  width\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"%\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".virtual-list-content\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  position\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"absolute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  top\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  left\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  width\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"%\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".list-item\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  height\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"50\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  line-height\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"50\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  border-bottom\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" solid\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" #eee\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsx)(l.h4,{id:\"\\u4EE3\\u7801\\u89E3\\u6790\",children:(0,e.jsx)(l.a,{href:\"#\\u4EE3\\u7801\\u89E3\\u6790\",children:\"\\u4EE3\\u7801\\u89E3\\u6790\"})}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.strong,{children:\"\\u7ED3\\u6784\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"virtual-list-container\"})})})}),\" \\u662F\\u6EDA\\u52A8\\u5BB9\\u5668\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"virtual-list-placeholder\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u5360\\u4F4D\\u5143\\u7D20\\uFF0C\\u9AD8\\u5EA6\\u7B49\\u4E8E\\u5217\\u8868\\u603B\\u9AD8\\u5EA6\\uFF0C\\u7528\\u4E8E\\u6491\\u5F00\\u6EDA\\u52A8\\u6761\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"virtual-list-content\"})})})}),\" \\u662F\\u5B9E\\u9645\\u6E32\\u67D3\\u5185\\u5BB9\\u7684\\u5BB9\\u5668\\uFF0C\\u901A\\u8FC7 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"transform\"})})})}),\" \\u52A8\\u6001\\u8C03\\u6574\\u4F4D\\u7F6E\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.strong,{children:\"\\u54CD\\u5E94\\u5F0F\\u8BA1\\u7B97\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[\"\\u4F7F\\u7528 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"computed\"})})})}),\" \\u8BA1\\u7B97 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"startIndex\"})})})}),\"\\u3001\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"endIndex\"})})})}),\" \\u548C \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"visibleItems\"})})})}),\"\\uFF0C\\u786E\\u4FDD\\u6570\\u636E\\u968F\\u6EDA\\u52A8\\u5B9E\\u65F6\\u66F4\\u65B0\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"offset\"})})})}),\" \\u7528\\u4E8E\\u8C03\\u6574\\u6E32\\u67D3\\u5185\\u5BB9\\u7684\\u4F4D\\u7F6E\\uFF0C\\u907F\\u514D\\u7A7A\\u767D\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.strong,{children:\"\\u6EDA\\u52A8\\u76D1\\u542C\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"handleScroll\"})})})}),\" \\u66F4\\u65B0 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"scrollTop\"})})})}),\"\\uFF0C\\u89E6\\u53D1\\u91CD\\u65B0\\u8BA1\\u7B97\\u3002\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8FD9\\u4E2A\\u5B9E\\u73B0\\u9002\\u7528\\u4E8E\\u56FA\\u5B9A\\u9AD8\\u5EA6\\u7684\\u5217\\u8868\\u9879\\uFF0C\\u5DF2\\u7ECF\\u80FD\\u663E\\u8457\\u63D0\\u5347\\u6027\\u80FD\\u3002\\u4F46\\u73B0\\u5B9E\\u4E2D\\uFF0C\\u5217\\u8868\\u9879\\u9AD8\\u5EA6\\u5F80\\u5F80\\u662F\\u52A8\\u6001\\u7684\\uFF0C\\u6211\\u4EEC\\u63A5\\u4E0B\\u6765\\u4F18\\u5316\\u5B83\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u5904\\u7406\\u52A8\\u6001\\u9AD8\\u5EA6\",children:(0,e.jsx)(l.a,{href:\"#\\u5904\\u7406\\u52A8\\u6001\\u9AD8\\u5EA6\",children:\"\\u5904\\u7406\\u52A8\\u6001\\u9AD8\\u5EA6\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u56FA\\u5B9A\\u9AD8\\u5EA6\\u7B80\\u5355\\u9AD8\\u6548\\uFF0C\\u4F46\\u5982\\u679C\\u5217\\u8868\\u9879\\u5185\\u5BB9\\u4E0D\\u540C\\uFF08\\u6BD4\\u5982\\u8BC4\\u8BBA\\u5217\\u8868\\uFF09\\uFF0C\\u9AD8\\u5EA6\\u53EF\\u80FD\\u4E0D\\u4E00\\u81F4\\u3002\\u8FD9\\u65F6\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u8BB0\\u5F55\\u6BCF\\u9879\\u7684\\u5B9E\\u9645\\u9AD8\\u5EA6\\u3002\"}),`\n`,(0,e.jsx)(l.h3,{id:\"\\u52A8\\u6001\\u9AD8\\u5EA6\\u5B9E\\u73B0\",children:(0,e.jsx)(l.a,{href:\"#\\u52A8\\u6001\\u9AD8\\u5EA6\\u5B9E\\u73B0\",children:\"\\u52A8\\u6001\\u9AD8\\u5EA6\\u5B9E\\u73B0\"})}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"vue\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"vue\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"virtual-list-container\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"container\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" @scroll\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"handleScroll\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"virtual-list-placeholder\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :style\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:`\"{ height: totalHeight + 'px' }\"`}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"virtual-list-content\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :style\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"{ transform: `translateY(${offset}px)` }\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" v-for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item in visibleItems\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :key\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item.id\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" class\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"list-item\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"items\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        {{ item.name }} - {{ item.content }}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { ref, computed, onMounted, nextTick } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF\\u52A8\\u6001\\u6570\\u636E\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" list\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  Array.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"from\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ length: \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"10000\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }, (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ({\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    id: i,\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`Item ${\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    content: i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"%\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" ===\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'Short'\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'Long content that takes more space'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }))\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u5BB9\\u5668\\u548C\\u5143\\u7D20\\u5F15\\u7528\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" container\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" items\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u72B6\\u6001\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" scrollTop\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" containerHeight\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" itemHeights\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([]); \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u5B58\\u50A8\\u6BCF\\u9879\\u9AD8\\u5EA6\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" bufferCount\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u8BA1\\u7B97\\u603B\\u9AD8\\u5EA6\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" totalHeight\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeights.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"reduce\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"sum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"h\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" sum \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" h, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u8BA1\\u7B97\\u8D77\\u59CB\\u548C\\u7ED3\\u675F\\u7D22\\u5F15\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" startIndex\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" sum \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeights.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; i\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (sum \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeights.value[i] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" scrollTop.value) \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"max\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" bufferCount);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    sum \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeights.value[i];\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" endIndex\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" sum \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" end \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" startIndex.value;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" startIndex.value; i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeights.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; i\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    sum \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeights.value[i];\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (sum \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" containerHeight.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeights.value[i]) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      end \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" bufferCount;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      break\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"min\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(list.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", end \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" bufferCount);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" offset\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemHeights.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"slice\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", startIndex.value).\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"reduce\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"sum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"h\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" sum \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" h, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" visibleItems\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" list.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"slice\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(startIndex.value, endIndex.value));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6EDA\\u52A8\\u5904\\u7406\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" handleScroll\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  scrollTop.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" container.value.scrollTop;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u521D\\u59CB\\u5316\\u9AD8\\u5EA6\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" updateItemHeights\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  nextTick\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    itemHeights.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" items.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"el\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" el.offsetHeight);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onMounted\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  containerHeight.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" container.value.clientHeight;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  updateItemHeights\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" scoped\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".virtual-list-container\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  height\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  overflow-y\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"auto\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  position\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"relative\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".virtual-list-placeholder\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  position\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"absolute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  top\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  left\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  width\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"%\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".virtual-list-content\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  position\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"absolute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  top\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  left\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  width\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"%\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".list-item\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  padding\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"10\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  border-bottom\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" solid\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" #eee\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsx)(l.h4,{id:\"\\u52A8\\u6001\\u9AD8\\u5EA6\\u7684\\u5173\\u952E\\u70B9\",children:(0,e.jsx)(l.a,{href:\"#\\u52A8\\u6001\\u9AD8\\u5EA6\\u7684\\u5173\\u952E\\u70B9\",children:\"\\u52A8\\u6001\\u9AD8\\u5EA6\\u7684\\u5173\\u952E\\u70B9\"})}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u9AD8\\u5EA6\\u8BB0\\u5F55\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:'ref=\"items\"'})})})}),\" \\u83B7\\u53D6\\u6E32\\u67D3\\u540E\\u7684 DOM \\u5143\\u7D20\\uFF0C\\u8BA1\\u7B97\\u6BCF\\u9879\\u5B9E\\u9645\\u9AD8\\u5EA6\\u5E76\\u5B58\\u50A8\\u5728 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"itemHeights\"})})})}),\" \\u4E2D\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u7D22\\u5F15\\u8BA1\\u7B97\"}),\"\\uFF1A\\u4E0D\\u518D\\u4F9D\\u8D56\\u56FA\\u5B9A\\u9AD8\\u5EA6\\uFF0C\\u800C\\u662F\\u6839\\u636E\\u7D2F\\u8BA1\\u9AD8\\u5EA6\\u548C \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"scrollTop\"})})})}),\" \\u8BA1\\u7B97 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"startIndex\"})})})}),\" \\u548C \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"endIndex\"})})})}),\"\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u6027\\u80FD\\u8003\\u8651\"}),\"\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"updateItemHeights\"})})})}),\" \\u5728 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"nextTick\"})})})}),\" \\u4E2D\\u6267\\u884C\\uFF0C\\u786E\\u4FDD DOM \\u66F4\\u65B0\\u540E\\u83B7\\u53D6\\u51C6\\u786E\\u9AD8\\u5EA6\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\",children:(0,e.jsx)(l.a,{href:\"#\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\",children:\"\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u865A\\u62DF\\u5217\\u8868\\u867D\\u7136\\u5DF2\\u7ECF\\u5927\\u5E45\\u51CF\\u5C11\\u4E86 DOM \\u8282\\u70B9\\uFF0C\\u4F46\\u4ECD\\u6709\\u4F18\\u5316\\u7A7A\\u95F4\\u3002\"}),`\n`,(0,e.jsx)(l.h3,{id:\"1-\\u9632\\u6296\\u6EDA\\u52A8\\u4E8B\\u4EF6\",children:(0,e.jsx)(l.a,{href:\"#1-\\u9632\\u6296\\u6EDA\\u52A8\\u4E8B\\u4EF6\",children:\"1. \\u9632\\u6296\\u6EDA\\u52A8\\u4E8B\\u4EF6\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u9891\\u7E41\\u89E6\\u53D1 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"handleScroll\"})})})}),\" \\u53EF\\u80FD\\u5BFC\\u81F4\\u6027\\u80FD\\u95EE\\u9898\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528\\u9632\\u6296\\uFF08debounce\\uFF09\\u4F18\\u5316\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { debounce } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'lodash'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" handleScroll\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" debounce\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  scrollTop.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" container.value.scrollTop;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"16\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7EA6 60fps\"})]})]})})}),`\n`,(0,e.jsx)(l.h3,{id:\"2-\\u9884\\u4F30\\u9AD8\\u5EA6\",children:(0,e.jsx)(l.a,{href:\"#2-\\u9884\\u4F30\\u9AD8\\u5EA6\",children:\"2. \\u9884\\u4F30\\u9AD8\\u5EA6\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u52A8\\u6001\\u9AD8\\u5EA6\\u9700\\u8981\\u6E32\\u67D3\\u540E\\u8BA1\\u7B97\\uFF0C\\u4F46\\u9996\\u6B21\\u6E32\\u67D3\\u65F6 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"itemHeights\"})})})}),\" \\u4E3A\\u7A7A\\uFF0C\\u53EF\\u80FD\\u5BFC\\u81F4\\u504F\\u79FB\\u9519\\u8BEF\\u3002\\u53EF\\u4EE5\\u4E3A\\u6BCF\\u9879\\u8BBE\\u7F6E\\u4E00\\u4E2A\\u9884\\u4F30\\u9AD8\\u5EA6\\uFF08\\u5982 50px\\uFF09\\uFF0C\\u6E32\\u67D3\\u540E\\u518D\\u66F4\\u65B0\\u3002\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" itemHeights\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(list.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 50\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")); \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u9884\\u4F30\\u9AD8\\u5EA6\"})]})})})}),`\n`,(0,e.jsx)(l.h3,{id:\"3-\\u61D2\\u52A0\\u8F7D\\u6570\\u636E\",children:(0,e.jsx)(l.a,{href:\"#3-\\u61D2\\u52A0\\u8F7D\\u6570\\u636E\",children:\"3. \\u61D2\\u52A0\\u8F7D\\u6570\\u636E\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5982\\u679C\\u6570\\u636E\\u662F\\u4ECE\\u540E\\u7AEF\\u5206\\u9875\\u52A0\\u8F7D\\u7684\\uFF0C\\u53EF\\u4EE5\\u7ED3\\u5408\\u865A\\u62DF\\u5217\\u8868\\u5B9E\\u73B0\\u61D2\\u52A0\\u8F7D\\u3002\\u5F53\\u6EDA\\u52A8\\u63A5\\u8FD1\\u5E95\\u90E8\\u65F6\\uFF0C\\u8BF7\\u6C42\\u4E0B\\u4E00\\u9875\\u6570\\u636E\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" loadMore\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (scrollTop.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" containerHeight.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" totalHeight.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6A21\\u62DF\\u52A0\\u8F7D\\u66F4\\u591A\\u6570\\u636E\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    list.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"Array.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"from\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ length: \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }, (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ({ id: i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" list.value.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`Item ${\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" list\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"value\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })));\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" handleScroll\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" debounce\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  scrollTop.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" container.value.scrollTop;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  loadMore\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"16\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,e.jsx)(l.h3,{id:\"4-\\u4F7F\\u7528-resizeobserver\",children:(0,e.jsx)(l.a,{href:\"#4-\\u4F7F\\u7528-resizeobserver\",children:\"4. \\u4F7F\\u7528 ResizeObserver\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5BB9\\u5668\\u9AD8\\u5EA6\\u53EF\\u80FD\\u56E0\\u7A97\\u53E3\\u8C03\\u6574\\u800C\\u53D8\\u5316\\uFF0C\\u4F7F\\u7528 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"ResizeObserver\"})})})}),\" \\u52A8\\u6001\\u66F4\\u65B0 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"containerHeight\"})})})}),\"\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onMounted\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" resizeObserver\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" ResizeObserver\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    containerHeight.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" container.value.clientHeight;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  resizeObserver.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"observe\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(container.value);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u5B9E\\u8DF5\\u4E2D\\u7684\\u6CE8\\u610F\\u4E8B\\u9879\",children:(0,e.jsx)(l.a,{href:\"#\\u5B9E\\u8DF5\\u4E2D\\u7684\\u6CE8\\u610F\\u4E8B\\u9879\",children:\"\\u5B9E\\u8DF5\\u4E2D\\u7684\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u517C\\u5BB9\\u6027\"}),\"\\uFF1A\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"ResizeObserver\"})})})}),\" \\u5728\\u8001\\u65E7\\u6D4F\\u89C8\\u5668\\u4E2D\\u53EF\\u80FD\\u4E0D\\u652F\\u6301\\uFF0C\\u9700\\u63D0\\u4F9B fallback\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u6EDA\\u52A8\\u5E73\\u6ED1\\u6027\"}),\"\\uFF1A\\u7F13\\u51B2\\u533A\\u5927\\u5C0F\\uFF08\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"bufferCount\"})})})}),\"\\uFF09\\u9700\\u6839\\u636E\\u5B9E\\u9645\\u573A\\u666F\\u8C03\\u6574\\uFF0C\\u592A\\u5C0F\\u53EF\\u80FD\\u5BFC\\u81F4\\u95EA\\u70C1\\uFF0C\\u592A\\u5927\\u4F1A\\u589E\\u52A0\\u6E32\\u67D3\\u8D1F\\u62C5\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u590D\\u6742\\u5185\\u5BB9\"}),\"\\uFF1A\\u5982\\u679C\\u5217\\u8868\\u9879\\u5305\\u542B\\u56FE\\u7247\\u6216\\u590D\\u6742\\u7EC4\\u4EF6\\uFF0C\\u8003\\u8651\\u5F02\\u6B65\\u52A0\\u8F7D\\u548C\\u5360\\u4F4D\\u7B26\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u603B\\u7ED3\",children:(0,e.jsx)(l.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u901A\\u8FC7 Vue3 \\u7684 Composition API\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u8F7B\\u677E\\u5B9E\\u73B0\\u4E00\\u4E2A\\u9AD8\\u6548\\u7684\\u865A\\u62DF\\u5217\\u8868\\u7EC4\\u4EF6\\u3002\\u56FA\\u5B9A\\u9AD8\\u5EA6\\u65B9\\u6848\\u7B80\\u5355\\u76F4\\u63A5\\uFF0C\\u9002\\u5408\\u9AD8\\u5EA6\\u4E00\\u81F4\\u7684\\u573A\\u666F\\uFF1B\\u52A8\\u6001\\u9AD8\\u5EA6\\u65B9\\u6848\\u66F4\\u7075\\u6D3B\\uFF0C\\u80FD\\u5E94\\u5BF9\\u590D\\u6742\\u9700\\u6C42\\u3002\\u7ED3\\u5408\\u9632\\u6296\\u3001\\u9884\\u4F30\\u9AD8\\u5EA6\\u3001\\u61D2\\u52A0\\u8F7D\\u7B49\\u4F18\\u5316\\u624B\\u6BB5\\uFF0C\\u865A\\u62DF\\u5217\\u8868\\u7684\\u6027\\u80FD\\u548C\\u7528\\u6237\\u4F53\\u9A8C\\u90FD\\u80FD\\u8FBE\\u5230\\u6700\\u4F73\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u865A\\u62DF\\u5217\\u8868\\u7684\\u672C\\u8D28\\u662F\\u5BF9\\u8D44\\u6E90\\u7684\\u9AD8\\u6548\\u5229\\u7528\\uFF0C\\u5B83\\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u4E0A\\u7684\\u4F18\\u5316\\uFF0C\\u66F4\\u4F53\\u73B0\\u4E86\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u201C\\u6309\\u9700\\u6E32\\u67D3\\u201D\\u7684\\u54F2\\u5B66\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u5E2E\\u4F60\\u5728\\u9879\\u76EE\\u4E2D\\u6E38\\u5203\\u6709\\u4F59\\u5730\\u5904\\u7406\\u957F\\u5217\\u8868\\u95EE\\u9898\\uFF01\"}),`\n`,(0,e.jsx)(l.hr,{})]})}function h(n={}){let{wrapper:l}=n.components||{};return l?(0,e.jsx)(l,{...n,children:(0,e.jsx)(t,{...n})}):t(n)}return f(b);})();\n;return Component;"
  },
  "_id": "Vue.js/Vue3虚拟列表-长列表性能优化.mdx",
  "_raw": {
    "sourceFilePath": "Vue.js/Vue3虚拟列表-长列表性能优化.mdx",
    "sourceFileName": "Vue3虚拟列表-长列表性能优化.mdx",
    "sourceFileDir": "Vue.js",
    "contentType": "mdx",
    "flattenedPath": "Vue.js/Vue3虚拟列表-长列表性能优化"
  },
  "type": "Post",
  "url": "/blog/Vue.js/Vue3虚拟列表-长列表性能优化"
}
{
  "title": "æµè§ˆå™¨è·¨åŸŸé—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆè¯¦è§£",
  "date": "2022-10-09T00:00:00.000Z",
  "description": "æ·±å…¥å‰–ææµè§ˆå™¨çš„è·¨åŸŸé—®é¢˜ï¼Œä»åŒæºç­–ç•¥åŸç†åˆ°å¤šç§è§£å†³æ–¹æ¡ˆï¼Œæ¶µç›–ä»£ç ç¤ºä¾‹ã€æœ€ä½³å®è·µå’Œå¹½é»˜åæ§½ï¼ŒåŠ©ä½ å½»åº•æå®šå‰ç«¯è·¨åŸŸéš¾é¢˜ã€‚",
  "keywords": "è·¨åŸŸ, åŒæºç­–ç•¥, CORS, JSONP, Proxy, å‰ç«¯å¼€å‘, æµè§ˆå™¨å®‰å…¨, Web å¼€å‘",
  "author": "æ™“é¾™",
  "image": "/images/hero/cross-origin.jpg",
  "tags": [
    "å‰ç«¯å¼€å‘",
    "æµè§ˆå™¨",
    "JavaScript",
    "ç½‘ç»œè¯·æ±‚"
  ],
  "views": 0,
  "likes": 0,
  "category": "Browser",
  "body": {
    "raw": "\nè·¨åŸŸé—®é¢˜ï¼Œå¯èƒ½æ˜¯æ¯ä¸ªå‰ç«¯å¼€å‘è€…èŒä¸šç”Ÿæ¶¯ä¸­ç»•ä¸è¿‡å»çš„â€œè€æœ‹å‹â€ã€‚ä½ æœ‰æ²¡æœ‰è¯•è¿‡å…´è‡´å‹ƒå‹ƒåœ°å†™å¥½ä¸€ä¸ªæ¥å£è°ƒç”¨ï¼Œç»“æœæµè§ˆå™¨ç”©ç»™ä½ ä¸€ä¸ªå†·å†°å†°çš„ `No 'Access-Control-Allow-Origin' header is present`ï¼Ÿé‚£ä¸€åˆ»ï¼Œä»¿ä½›æ•´ä¸ªä¸–ç•Œéƒ½åœ¨è·Ÿä½ è¯´ï¼šâ€œå°ä¼™å­ï¼Œä½ è¶Šç•Œäº†ï¼â€ ğŸ˜…\n\nä½†åˆ«æ€¥ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥æŠŠè¿™ä¸ªâ€œè¶Šç•Œâ€çš„æ•…äº‹è®²æ¸…æ¥šã€‚ä»æµè§ˆå™¨çš„åŒæºç­–ç•¥è®²èµ·ï¼Œæ·±å…¥åŸç†ï¼Œå†åˆ°å„ç§è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä¼šå°½é‡æŠŠè¿™ç¯‡åšå®¢å†™å¾—æ—¢æœ‰æ·±åº¦åˆæ¥åœ°æ°”ï¼Œå¸¦ç‚¹å°å¹½é»˜ï¼ˆç»ä¸æ˜¯â€œç¨‹åºå‘˜æ•²é”®ç›˜åˆ°å‡Œæ™¨â€çš„è€æ¢—ï¼‰ï¼Œè¿˜æœ‰æ»¡æ»¡çš„å¹²è´§å’Œä»£ç ç¤ºä¾‹ã€‚ç›®æ ‡æ˜¯ï¼šè¯»å®Œè¿™ç¯‡ï¼Œä½ ä¸ä»…èƒ½è§£å†³è·¨åŸŸï¼Œè¿˜èƒ½è·Ÿé¢è¯•å®˜ä¾ƒä¾ƒè€Œè°ˆï¼Œé¡ºä¾¿åœ¨å›¢é˜Ÿé‡Œè£…ä¸ªé€¼ã€‚ ğŸš€\n\n## ä¸€ã€è·¨åŸŸé—®é¢˜çš„æ ¹æºï¼šåŒæºç­–ç•¥\n\n### 1.1 åŒæºç­–ç•¥æ˜¯ä¸ªå•¥ï¼Ÿ\n\nè·¨åŸŸé—®é¢˜çš„ç½ªé­ç¥¸é¦–æ˜¯æµè§ˆå™¨çš„**åŒæºç­–ç•¥**ï¼ˆSame-Origin Policyï¼Œç®€ç§° SOPï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒè§„å®šï¼šåªæœ‰å½“åè®®ï¼ˆprotocolï¼‰ã€åŸŸåï¼ˆdomainï¼‰å’Œç«¯å£ï¼ˆportï¼‰ä¸‰è€…å®Œå…¨ä¸€è‡´æ—¶ï¼Œä¸¤ä¸ªç½‘é¡µæ‰ç®—â€œåŒæºâ€ï¼Œæ‰èƒ½äº’ç›¸è®¿é—®å¯¹æ–¹çš„èµ„æºã€‚æ¯”å¦‚ï¼š\n\n- `http://example.com:80` å’Œ `http://example.com:80` â†’ åŒæº âœ…\n- `http://example.com:80` å’Œ `https://example.com:80` â†’ ä¸åŒæºï¼ˆåè®®ä¸åŒï¼‰âŒ\n- `http://example.com:80` å’Œ `http://sub.example.com:80` â†’ ä¸åŒæºï¼ˆåŸŸåä¸åŒï¼‰âŒ\n- `http://example.com:80` å’Œ `http://example.com:8080` â†’ ä¸åŒæºï¼ˆç«¯å£ä¸åŒï¼‰âŒ\n\næµè§ˆå™¨è¿™ä¹ˆä¸¥æ ¼ï¼Œå°±åƒä¸ªç®¡å®¶å©†ï¼Œç”Ÿæ€•ä½ éšä¾¿è·Ÿâ€œå¤–äººâ€æ‰“äº¤é“ã€‚å®ƒçš„åˆè¡·æ˜¯ä¿æŠ¤ç”¨æˆ·å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„ç½‘ç«™é€šè¿‡è„šæœ¬çªƒå–ä½ çš„æ•°æ®ã€‚æ¯”å¦‚ï¼Œæƒ³è±¡ä½ åœ¨é“¶è¡Œç½‘ç«™ç™»å½•åï¼Œå¦ä¸€ä¸ªæ ‡ç­¾é¡µçš„æ¶æ„è„šæœ¬å·å·å‘è¯·æ±‚æ‹¿ä½ çš„è´¦æˆ·ä½™é¢â€”â€”è¿™ç”»é¢å¤ªç¾ä¸æ•¢æƒ³ã€‚ ğŸ˜±\n\n### 1.2 è·¨åŸŸçš„è¡¨ç°\n\nå½“ä½ è¯•å›¾ä» `http://a.com` è¯·æ±‚ `http://b.com/api/data` æ—¶ï¼Œæµè§ˆå™¨ä¼šç›´æ¥æ‹¦æˆªï¼ŒæŠ›å‡ºç±»ä¼¼è¿™æ ·çš„é”™è¯¯ï¼š\n\n```\nAccess to XMLHttpRequest at 'http://b.com/api/data' from origin 'http://a.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n```\n\nè¿™ä¸æ˜¯ bugï¼Œè€Œæ˜¯æµè§ˆå™¨çš„â€œå®‰å…¨æœºåˆ¶â€åœ¨èµ·ä½œç”¨ã€‚ä¸è¿‡ï¼Œå¼€å‘è€…å¬åˆ°â€œCORSâ€ä¸‰ä¸ªå­—ï¼Œè¡€å‹å¯èƒ½å°±é£™å‡äº†ã€‚åˆ«æ…Œï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥æ‹†è§£ã€‚\n\n**å° Tipsï¼š**  \nåœ¨è°ƒè¯•è·¨åŸŸé—®é¢˜æ—¶ï¼Œæ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼Œåˆ‡æ¢åˆ° Network é¢æ¿ï¼Œçœ‹çœ‹è¯·æ±‚çš„çŠ¶æ€ç ã€‚å¦‚æœæ˜¯ `OPTIONS` è¯·æ±‚è¢«æ‹¦æˆªï¼Œæˆ–è€…å“åº”å¤´é‡Œç¼ºä¸œè¥¿ï¼Œé€šå¸¸æ˜¯è·¨åŸŸé…ç½®æ²¡æå®šã€‚\n\n---\n\n## äºŒã€è·¨åŸŸçš„è§£å†³æ–¹æ¡ˆå¤§é›†åˆ\n\nè·¨åŸŸé—®é¢˜è™½ç„¶çƒ¦äººï¼Œä½†è§£å†³æ–¹æ¡ˆå¤šå¾—åƒè¶…å¸‚è´§æ¶ä¸Šçš„è–¯ç‰‡â€”â€”æ€»æœ‰ä¸€æ¬¾é€‚åˆä½ ã€‚ä¸‹é¢æˆ‘ä»¬é€ä¸€å‰–æï¼Œé…ä¸Šä»£ç å’Œæœ€ä½³å®è·µã€‚\n\n### 2.1 JSONPï¼šè€æ´¾ä½†ç®¡ç”¨\n\n#### åŸç†\n\nJSONPï¼ˆJSON with Paddingï¼‰åˆ©ç”¨äº† `<script>` æ ‡ç­¾ä¸å—åŒæºç­–ç•¥é™åˆ¶çš„ç‰¹æ€§ã€‚å®ƒçš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼šé€šè¿‡åŠ¨æ€åˆ›å»º `<script>` æ ‡ç­¾ï¼ŒæŠŠè¯·æ±‚ä¼ªè£…æˆè„šæœ¬åŠ è½½ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€æ®µ JS ä»£ç ï¼Œè°ƒç”¨ä½ é¢„å®šä¹‰çš„å›è°ƒå‡½æ•°ã€‚\n\n#### ç¤ºä¾‹ä»£ç \n\nå‰ç«¯ï¼š\n\n```javascript\nfunction handleResponse(data) {\n  console.log(\"æ”¶åˆ°æ•°æ®å•¦ï¼š\", data);\n}\n\nconst script = document.createElement(\"script\");\nscript.src = \"http://b.com/api/data?callback=handleResponse\";\ndocument.body.appendChild(script);\n```\n\nåç«¯ï¼ˆå‡è®¾ç”¨ Node.jsï¼‰ï¼š\n\n```javascript\napp.get(\"/api/data\", (req, res) => {\n  const callback = req.query.callback;\n  const data = { name: \"æ™“é¾™\", age: 25 };\n  res.send(`${callback}(${JSON.stringify(data)})`);\n});\n```\n\nè¿”å›çš„å“åº”æ˜¯ï¼š\n\n```javascript\nhandleResponse({\"name\": \"æ™“é¾™\", \"age\": 25});\n```\n\n#### ä¼˜ç¼ºç‚¹\n\n- **ä¼˜ç‚¹**ï¼šç®€å•ç²—æš´ï¼Œå…¼å®¹æ€§å¥½ï¼Œè¿ IE6 éƒ½èƒ½ç”¨ã€‚\n- **ç¼ºç‚¹**ï¼šåªæ”¯æŒ GET è¯·æ±‚ï¼Œå®‰å…¨æ€§å ªå¿§ï¼ˆå®¹æ˜“è¢«æ³¨å…¥æ¶æ„è„šæœ¬ï¼‰ï¼Œç°ä»£å¼€å‘ä¸­é€æ¸è¢«æ·˜æ±°ã€‚\n\n**å° Tipsï¼š**  \nJSONP é€‚åˆä¸€äº›ç®€å•çš„å…¬å¼€ API è°ƒç”¨ï¼Œæ¯”å¦‚è·å–å¤©æ°”æ•°æ®ã€‚ä½†å¦‚æœæ¶‰åŠæ•æ„Ÿæ•°æ®ï¼Œèµ¶ç´§è·‘è·¯ï¼Œåˆ«ç”¨å®ƒï¼\n\n---\n\n### 2.2 CORSï¼šç°ä»£æ ‡é…\n\n#### åŸç†\n\nCORSï¼ˆCross-Origin Resource Sharingï¼Œè·¨åŸŸèµ„æºå…±äº«ï¼‰æ˜¯ W3C åˆ¶å®šçš„æ ‡å‡†ï¼Œé€šè¿‡åœ¨æœåŠ¡å™¨å“åº”å¤´ä¸­æ·»åŠ ç‰¹å®šçš„å­—æ®µï¼Œå‘Šè¯‰æµè§ˆå™¨ï¼šâ€œå˜¿ï¼Œè¿™ä¸ªè¯·æ±‚æˆ‘å…è®¸å“¦ï¼â€ æœ€å…³é”®çš„å­—æ®µæ˜¯ `Access-Control-Allow-Origin`ã€‚\n\n#### ç¤ºä¾‹\n\nå‰ç«¯ç…§å¸¸å‘è¯·æ±‚ï¼š\n\n```javascript\nfetch(\"http://b.com/api/data\")\n  .then((res) => res.json())\n  .then((data) => console.log(data))\n  .catch((err) => console.error(\"å‡ºé”™äº†ï¼š\", err));\n```\n\nåç«¯ï¼ˆNode.js + Expressï¼‰ï¼š\n\n```javascript\napp.use((req, res, next) => {\n  res.header(\"Access-Control-Allow-Origin\", \"http://a.com\"); // æŒ‡å®šå…è®¸çš„æº\n  res.header(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\n  res.header(\"Access-Control-Allow-Headers\", \"Content-Type\");\n  next();\n});\n\napp.get(\"/api/data\", (req, res) => {\n  res.json({ message: \"Hello from b.com!\" });\n});\n```\n\n#### å¤æ‚è¯·æ±‚ä¸é¢„æ£€ï¼ˆPreflightï¼‰\n\nå¦‚æœè¯·æ±‚å¸¦äº†è‡ªå®šä¹‰å¤´æˆ–è€…æ–¹æ³•æ˜¯ `PUT`ã€`DELETE`ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ä¸€ä¸ª `OPTIONS` è¯·æ±‚è¿›è¡Œâ€œé¢„æ£€â€ã€‚æœåŠ¡å™¨å¾—æ­£ç¡®å“åº”ï¼š\n\n```javascript\napp.options(\"/api/data\", (req, res) => {\n  res.header(\"Access-Control-Allow-Origin\", \"http://a.com\");\n  res.header(\"Access-Control-Allow-Methods\", \"PUT\");\n  res.header(\"Access-Control-Allow-Headers\", \"X-Custom-Header\");\n  res.sendStatus(204);\n});\n```\n\n#### ä¼˜ç¼ºç‚¹\n\n- **ä¼˜ç‚¹**ï¼šå®˜æ–¹æ”¯æŒï¼Œçµæ´»ï¼Œå¯æ§æ€§å¼ºï¼Œæ”¯æŒæ‰€æœ‰ HTTP æ–¹æ³•ã€‚\n- **ç¼ºç‚¹**ï¼šéœ€è¦åç«¯é…åˆï¼Œå‰ç«¯å¼€å‘è€…å¾—æ±‚ç€åç«¯æ”¹é…ç½®ï¼ˆå°´å°¬ç¬‘ï¼‰ã€‚\n\n**å° Tipsï¼š**  \nå¼€å‘æ—¶å¯ä»¥ç”¨ `*` é€šé…ç¬¦ï¼ˆ`Access-Control-Allow-Origin: *`ï¼‰ï¼Œä½†ç”Ÿäº§ç¯å¢ƒå°½é‡æŒ‡å®šå…·ä½“åŸŸåï¼Œæå‡å®‰å…¨æ€§ã€‚\n\n---\n\n### 2.3 ä»£ç†ï¼šå‰ç«¯çš„â€œæ›²çº¿æ•‘å›½â€\n\n#### åŸç†\n\næ—¢ç„¶æµè§ˆå™¨ä¸è®©ç›´æ¥è·¨åŸŸï¼Œé‚£å°±ç»•è¿‡å»ï¼åœ¨å¼€å‘ç¯å¢ƒæˆ–ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚ï¼ŒæŠŠè·¨åŸŸé—®é¢˜äº¤ç»™æœåŠ¡å™¨è§£å†³ã€‚æœåŠ¡å™¨ä¹‹é—´é€šä¿¡å¯ä¸å—åŒæºç­–ç•¥é™åˆ¶ã€‚\n\n#### ç¤ºä¾‹ï¼šå¼€å‘ç¯å¢ƒï¼ˆWebpack/Viteï¼‰\n\nç”¨ Vite é…ç½®ä»£ç†ï¼š\n\n```javascript\n// vite.config.js\nexport default {\n  server: {\n    proxy: {\n      \"/api\": {\n        target: \"http://b.com\",\n        changeOrigin: true,\n        rewrite: (path) => path.replace(/^\\/api/, \"\"),\n      },\n    },\n  },\n};\n```\n\nå‰ç«¯è¯·æ±‚ `/api/data`ï¼Œå®é™…è®¿é—®çš„æ˜¯ `http://b.com/data`ã€‚\n\n#### ç¤ºä¾‹ï¼šç”Ÿäº§ç¯å¢ƒï¼ˆNginxï¼‰\n\nNginx é…ç½®ï¼š\n\n```\nserver {\n  listen 80;\n  server_name a.com;\n\n  location /api/ {\n    proxy_pass http://b.com/;\n    proxy_set_header Host b.com;\n    proxy_set_header X-Real-IP $remote_addr;\n  }\n}\n```\n\n#### ä¼˜ç¼ºç‚¹\n\n- **ä¼˜ç‚¹**ï¼šå‰ç«¯å®Œå…¨æŒæ§ï¼Œä¸ç”¨æ±‚åç«¯ï¼Œå¼€å‘è°ƒè¯•è¶…æ–¹ä¾¿ã€‚\n- **ç¼ºç‚¹**ï¼šç”Ÿäº§ç¯å¢ƒéœ€è¦è¿ç»´æ”¯æŒï¼Œé…ç½®ç¨å¤æ‚ã€‚\n\n**å° Tipsï¼š**  \nä»£ç†æ˜¯å¼€å‘æ—¶çš„æ•‘å‘½ç¨»è‰ï¼Œä½†ä¸Šçº¿å‰è®°å¾—è·Ÿåç«¯ç¡®è®¤æ¥å£åœ°å€ï¼Œåˆ«æŠŠä»£ç†å†™æ­»åœ¨ä»£ç é‡Œï¼\n\n---\n\n### 2.4 PostMessageï¼šçª—å£é—´çš„æ‚„æ‚„è¯\n\n#### åŸç†\n\nHTML5 çš„ `postMessage` API å…è®¸ä¸åŒçª—å£ï¼ˆæ¯”å¦‚ iframe æˆ–æ–°çª—å£ï¼‰ä¹‹é—´é€šä¿¡ï¼Œä¸å—åŒæºé™åˆ¶ã€‚é€‚åˆé¡µé¢åµŒå¥—æˆ–å¤šçª—å£åä½œçš„åœºæ™¯ã€‚\n\n#### ç¤ºä¾‹\n\nçˆ¶é¡µé¢ï¼ˆ`http://a.com`ï¼‰ï¼š\n\n```html\n<iframe src=\"http://b.com\" id=\"iframe\"></iframe>\n<script>\n  const iframe = document.getElementById(\"iframe\");\n  iframe.onload = () => {\n    iframe.contentWindow.postMessage(\"ä½ å¥½å•Š\", \"http://b.com\");\n  };\n</script>\n```\n\nå­é¡µé¢ï¼ˆ`http://b.com`ï¼‰ï¼š\n\n```html\n<script>\n  window.addEventListener(\"message\", (event) => {\n    if (event.origin === \"http://a.com\") {\n      console.log(\"æ”¶åˆ°æ¶ˆæ¯ï¼š\", event.data);\n      event.source.postMessage(\"æˆ‘å¾ˆå¥½ï¼Œè°¢è°¢ï¼\", event.origin);\n    }\n  });\n</script>\n```\n\n#### ä¼˜ç¼ºç‚¹\n\n- **ä¼˜ç‚¹**ï¼šå®‰å…¨å¯æ§ï¼Œé€‚åˆç‰¹å®šåœºæ™¯ï¼ˆå¦‚ç¬¬ä¸‰æ–¹åµŒå…¥ï¼‰ã€‚\n- **ç¼ºç‚¹**ï¼šå®ç°å¤æ‚ï¼Œä¸é€‚åˆæ™®é€š API è°ƒç”¨ã€‚\n\n**å° Tipsï¼š**  \nç”¨ `event.origin` æ£€æŸ¥æ¥æºï¼Œé˜²æ­¢è¢«æ¶æ„ç½‘ç«™ç›‘å¬ï¼Œåˆ«è®©ä½ çš„æ‚„æ‚„è¯å˜æˆå¹¿æ’­ï¼\n\n---\n\n### 2.5 WebSocketï¼šè·¨åŸŸçš„â€œç‰¹ç§å…µâ€\n\n#### åŸç†\n\nWebSocket æ˜¯ä¸“ä¸ºå®æ—¶é€šä¿¡è®¾è®¡çš„åè®®ï¼Œå¤©ç”Ÿæ”¯æŒè·¨åŸŸï¼Œåªè¦æœåŠ¡å™¨å…è®¸ã€‚\n\n#### ç¤ºä¾‹\n\nå‰ç«¯ï¼š\n\n```javascript\nconst ws = new WebSocket(\"ws://b.com/socket\");\nws.onopen = () => ws.send(\"Hello, WebSocket!\");\nws.onmessage = (event) => console.log(\"æ”¶åˆ°ï¼š\", event.data);\n```\n\nåç«¯ï¼ˆNode.js + wsï¼‰ï¼š\n\n```javascript\nconst WebSocket = require(\"ws\");\nconst wss = new WebSocket.Server({ port: 8080 });\n\nwss.on(\"connection\", (ws) => {\n  ws.on(\"message\", (msg) => {\n    console.log(\"æ”¶åˆ°ï¼š\", msg);\n    ws.send(\"Hi back!\");\n  });\n});\n```\n\n#### ä¼˜ç¼ºç‚¹\n\n- **ä¼˜ç‚¹**ï¼šå®æ—¶æ€§å¼ºï¼Œè·¨åŸŸæ— å‹åŠ›ã€‚\n- **ç¼ºç‚¹**ï¼šå¼€å‘æˆæœ¬é«˜ï¼Œé€‚åˆèŠå¤©ã€æ¨é€ç­‰åœºæ™¯ã€‚\n\n**å° Tipsï¼š**  \nWebSocket éƒ¨ç½²æ—¶æ³¨æ„é˜²ç«å¢™å’Œç«¯å£ï¼Œåˆ«è®©è¿ç»´å°å“¥å“¥æŠ“ç‹‚ã€‚\n\n---\n\n## ä¸‰ã€æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹\n\n1. **ä¼˜å…ˆçº§æ’åº**  \n   - å¼€å‘é˜¶æ®µï¼šç”¨ä»£ç†ï¼Œç®€å•é«˜æ•ˆã€‚\n   - ç”Ÿäº§ç¯å¢ƒï¼šé¦–é€‰ CORSï¼Œè§„èŒƒåˆå®‰å…¨ã€‚\n   - ç‰¹æ®Šåœºæ™¯ï¼šPostMessage æˆ– WebSocket çœ‹éœ€æ±‚ã€‚\n\n2. **è°ƒè¯•æŠ€å·§**  \n   ç”¨ Chrome çš„ `--disable-web-security` æ¨¡å¼ä¸´æ—¶å…³é—­åŒæºç­–ç•¥ï¼ˆä»…é™æœ¬åœ°æµ‹è¯•ï¼Œåˆ«ä½œæ­»ä¸Šçº¿ï¼‰ã€‚\n\n3. **å®‰å…¨ç¬¬ä¸€**  \n   CORS é…ç½®åˆ«æ»¥ç”¨ `*`ï¼ŒJSONP åªç”¨äºå…¬å¼€æ•°æ®ã€‚\n\n4. **å›¢é˜Ÿåä½œ**  \n   è·¨åŸŸé—®é¢˜å¸¸æ¶‰åŠå‰åç«¯é…åˆï¼Œå†™å¥½æ¥å£æ–‡æ¡£ï¼Œåˆ«è®©åç«¯çŒœä½ çš„éœ€æ±‚ã€‚\n\n---\n\n## å››ã€æ€»ç»“ï¼šè·¨åŸŸä¸å†æ˜¯æ‹¦è·¯è™\n\nè·¨åŸŸé—®é¢˜å°±åƒä¸€åœºå‰ç«¯ä¸æµè§ˆå™¨çš„â€œæ‹‰é”¯æˆ˜â€ï¼Œä½†æœ‰äº†è¿™äº›æ–¹æ¡ˆï¼Œä½ å®Œå…¨å¯ä»¥æ¸¸åˆƒæœ‰ä½™ã€‚JSONP æ˜¯è€å°†ï¼ŒCORS æ˜¯ä¸»åŠ›ï¼Œä»£ç†æ˜¯å¥‡å…µï¼ŒPostMessage å’Œ WebSocket æ˜¯ç‰¹ç§éƒ¨é˜Ÿã€‚é€‰å¯¹æ­¦å™¨ï¼Œé—®é¢˜è¿åˆƒè€Œè§£ã€‚\n\nä¸‹æ¬¡å†é‡åˆ°è·¨åŸŸæŠ¥é”™ï¼Œåˆ«æ€¥ç€ç ¸é”®ç›˜ï¼Œå†·é™åˆ†æä¸€ä¸‹ï¼šæ˜¯åç«¯æ²¡é…å¤´ï¼Ÿè¿˜æ˜¯ä»£ç†æ²¡æå¯¹ï¼Ÿè¯´ä¸å®šåªæ˜¯ç«¯å£å†™é”™äº†å‘¢ï¼ˆç¬‘ï¼‰ã€‚æ€»ä¹‹ï¼Œè·¨åŸŸä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯ä½ ä¸çŸ¥é“å®ƒä¸ºå•¥æ‹¦ç€ä½ ã€‚å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½æˆä¸ºä½ çš„â€œè·¨åŸŸå®å…¸â€ï¼ŒåŠ©ä½ åœ¨å‰ç«¯è·¯ä¸Šè¶Šèµ°è¶Šé¡ºï¼ ğŸŒŸ\n\næœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…æ›´å¥½çš„æ–¹æ¡ˆï¼Œæ¬¢è¿ç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æ¢è®¨ï¼Œæ¯•ç«Ÿå‰ç«¯çš„ä¸–ç•Œå°±æ˜¯è¦å¤šæŠ˜è…¾ã€å¤šåˆ†äº«å˜›ï¼ ğŸ˜‰\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var u=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),m=(l,e)=>{for(var r in e)c(l,r,{get:e[r],enumerable:!0})},s=(l,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!F.call(l,a)&&a!==r&&c(l,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return l};var B=(l,e,r)=>(r=l!=null?p(g(l)):{},s(e||!l||!l.__esModule?c(r,\"default\",{value:l,enumerable:!0}):r,l)),b=l=>s(c({},\"__esModule\",{value:!0}),l);var t=u((x,i)=>{i.exports=_jsx_runtime});var C={};m(C,{default:()=>h,frontmatter:()=>f});var n=B(t()),f={type:\"Post\",title:\"\\u6D4F\\u89C8\\u5668\\u8DE8\\u57DF\\u95EE\\u9898\\u4EE5\\u53CA\\u89E3\\u51B3\\u65B9\\u6848\\u8BE6\\u89E3\",date:\"2022-10-09\",description:\"\\u6DF1\\u5165\\u5256\\u6790\\u6D4F\\u89C8\\u5668\\u7684\\u8DE8\\u57DF\\u95EE\\u9898\\uFF0C\\u4ECE\\u540C\\u6E90\\u7B56\\u7565\\u539F\\u7406\\u5230\\u591A\\u79CD\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u6DB5\\u76D6\\u4EE3\\u7801\\u793A\\u4F8B\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\u548C\\u5E7D\\u9ED8\\u5410\\u69FD\\uFF0C\\u52A9\\u4F60\\u5F7B\\u5E95\\u641E\\u5B9A\\u524D\\u7AEF\\u8DE8\\u57DF\\u96BE\\u9898\\u3002\",keywords:\"\\u8DE8\\u57DF, \\u540C\\u6E90\\u7B56\\u7565, CORS, JSONP, Proxy, \\u524D\\u7AEF\\u5F00\\u53D1, \\u6D4F\\u89C8\\u5668\\u5B89\\u5168, Web \\u5F00\\u53D1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/cross-origin.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6D4F\\u89C8\\u5668\",\"JavaScript\",\"\\u7F51\\u7EDC\\u8BF7\\u6C42\"],category:\"Browser\"};function o(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u8DE8\\u57DF\\u95EE\\u9898\\uFF0C\\u53EF\\u80FD\\u662F\\u6BCF\\u4E2A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u804C\\u4E1A\\u751F\\u6DAF\\u4E2D\\u7ED5\\u4E0D\\u8FC7\\u53BB\\u7684\\u201C\\u8001\\u670B\\u53CB\\u201D\\u3002\\u4F60\\u6709\\u6CA1\\u6709\\u8BD5\\u8FC7\\u5174\\u81F4\\u52C3\\u52C3\\u5730\\u5199\\u597D\\u4E00\\u4E2A\\u63A5\\u53E3\\u8C03\\u7528\\uFF0C\\u7ED3\\u679C\\u6D4F\\u89C8\\u5668\\u7529\\u7ED9\\u4F60\\u4E00\\u4E2A\\u51B7\\u51B0\\u51B0\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"No 'Access-Control-Allow-Origin' header is present\"})})})}),\"\\uFF1F\\u90A3\\u4E00\\u523B\\uFF0C\\u4EFF\\u4F5B\\u6574\\u4E2A\\u4E16\\u754C\\u90FD\\u5728\\u8DDF\\u4F60\\u8BF4\\uFF1A\\u201C\\u5C0F\\u4F19\\u5B50\\uFF0C\\u4F60\\u8D8A\\u754C\\u4E86\\uFF01\\u201D \\u{1F605}\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F46\\u522B\\u6025\\uFF0C\\u4ECA\\u5929\\u6211\\u4EEC\\u5C31\\u6765\\u628A\\u8FD9\\u4E2A\\u201C\\u8D8A\\u754C\\u201D\\u7684\\u6545\\u4E8B\\u8BB2\\u6E05\\u695A\\u3002\\u4ECE\\u6D4F\\u89C8\\u5668\\u7684\\u540C\\u6E90\\u7B56\\u7565\\u8BB2\\u8D77\\uFF0C\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u518D\\u5230\\u5404\\u79CD\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u6211\\u4F1A\\u5C3D\\u91CF\\u628A\\u8FD9\\u7BC7\\u535A\\u5BA2\\u5199\\u5F97\\u65E2\\u6709\\u6DF1\\u5EA6\\u53C8\\u63A5\\u5730\\u6C14\\uFF0C\\u5E26\\u70B9\\u5C0F\\u5E7D\\u9ED8\\uFF08\\u7EDD\\u4E0D\\u662F\\u201C\\u7A0B\\u5E8F\\u5458\\u6572\\u952E\\u76D8\\u5230\\u51CC\\u6668\\u201D\\u7684\\u8001\\u6897\\uFF09\\uFF0C\\u8FD8\\u6709\\u6EE1\\u6EE1\\u7684\\u5E72\\u8D27\\u548C\\u4EE3\\u7801\\u793A\\u4F8B\\u3002\\u76EE\\u6807\\u662F\\uFF1A\\u8BFB\\u5B8C\\u8FD9\\u7BC7\\uFF0C\\u4F60\\u4E0D\\u4EC5\\u80FD\\u89E3\\u51B3\\u8DE8\\u57DF\\uFF0C\\u8FD8\\u80FD\\u8DDF\\u9762\\u8BD5\\u5B98\\u4F83\\u4F83\\u800C\\u8C08\\uFF0C\\u987A\\u4FBF\\u5728\\u56E2\\u961F\\u91CC\\u88C5\\u4E2A\\u903C\\u3002 \\u{1F680}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E00\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u6839\\u6E90\\u540C\\u6E90\\u7B56\\u7565\",children:(0,n.jsx)(e.a,{href:\"#\\u4E00\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u6839\\u6E90\\u540C\\u6E90\\u7B56\\u7565\",children:\"\\u4E00\\u3001\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u6839\\u6E90\\uFF1A\\u540C\\u6E90\\u7B56\\u7565\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"11-\\u540C\\u6E90\\u7B56\\u7565\\u662F\\u4E2A\\u5565\",children:(0,n.jsx)(e.a,{href:\"#11-\\u540C\\u6E90\\u7B56\\u7565\\u662F\\u4E2A\\u5565\",children:\"1.1 \\u540C\\u6E90\\u7B56\\u7565\\u662F\\u4E2A\\u5565\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8DE8\\u57DF\\u95EE\\u9898\\u7684\\u7F6A\\u9B41\\u7978\\u9996\\u662F\\u6D4F\\u89C8\\u5668\\u7684\",(0,n.jsx)(e.strong,{children:\"\\u540C\\u6E90\\u7B56\\u7565\"}),\"\\uFF08Same-Origin Policy\\uFF0C\\u7B80\\u79F0 SOP\\uFF09\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u5B83\\u89C4\\u5B9A\\uFF1A\\u53EA\\u6709\\u5F53\\u534F\\u8BAE\\uFF08protocol\\uFF09\\u3001\\u57DF\\u540D\\uFF08domain\\uFF09\\u548C\\u7AEF\\u53E3\\uFF08port\\uFF09\\u4E09\\u8005\\u5B8C\\u5168\\u4E00\\u81F4\\u65F6\\uFF0C\\u4E24\\u4E2A\\u7F51\\u9875\\u624D\\u7B97\\u201C\\u540C\\u6E90\\u201D\\uFF0C\\u624D\\u80FD\\u4E92\\u76F8\\u8BBF\\u95EE\\u5BF9\\u65B9\\u7684\\u8D44\\u6E90\\u3002\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://example.com:80\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://example.com:80\"})})})}),\" \\u2192 \\u540C\\u6E90 \\u2705\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://example.com:80\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"https://example.com:80\"})})})}),\" \\u2192 \\u4E0D\\u540C\\u6E90\\uFF08\\u534F\\u8BAE\\u4E0D\\u540C\\uFF09\\u274C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://example.com:80\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://sub.example.com:80\"})})})}),\" \\u2192 \\u4E0D\\u540C\\u6E90\\uFF08\\u57DF\\u540D\\u4E0D\\u540C\\uFF09\\u274C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://example.com:80\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://example.com:8080\"})})})}),\" \\u2192 \\u4E0D\\u540C\\u6E90\\uFF08\\u7AEF\\u53E3\\u4E0D\\u540C\\uFF09\\u274C\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6D4F\\u89C8\\u5668\\u8FD9\\u4E48\\u4E25\\u683C\\uFF0C\\u5C31\\u50CF\\u4E2A\\u7BA1\\u5BB6\\u5A46\\uFF0C\\u751F\\u6015\\u4F60\\u968F\\u4FBF\\u8DDF\\u201C\\u5916\\u4EBA\\u201D\\u6253\\u4EA4\\u9053\\u3002\\u5B83\\u7684\\u521D\\u8877\\u662F\\u4FDD\\u62A4\\u7528\\u6237\\u5B89\\u5168\\uFF0C\\u9632\\u6B62\\u6076\\u610F\\u7F51\\u7AD9\\u901A\\u8FC7\\u811A\\u672C\\u7A83\\u53D6\\u4F60\\u7684\\u6570\\u636E\\u3002\\u6BD4\\u5982\\uFF0C\\u60F3\\u8C61\\u4F60\\u5728\\u94F6\\u884C\\u7F51\\u7AD9\\u767B\\u5F55\\u540E\\uFF0C\\u53E6\\u4E00\\u4E2A\\u6807\\u7B7E\\u9875\\u7684\\u6076\\u610F\\u811A\\u672C\\u5077\\u5077\\u53D1\\u8BF7\\u6C42\\u62FF\\u4F60\\u7684\\u8D26\\u6237\\u4F59\\u989D\\u2014\\u2014\\u8FD9\\u753B\\u9762\\u592A\\u7F8E\\u4E0D\\u6562\\u60F3\\u3002 \\u{1F631}\"}),`\n`,(0,n.jsx)(e.h3,{id:\"12-\\u8DE8\\u57DF\\u7684\\u8868\\u73B0\",children:(0,n.jsx)(e.a,{href:\"#12-\\u8DE8\\u57DF\\u7684\\u8868\\u73B0\",children:\"1.2 \\u8DE8\\u57DF\\u7684\\u8868\\u73B0\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u4F60\\u8BD5\\u56FE\\u4ECE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://a.com\"})})})}),\" \\u8BF7\\u6C42 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://b.com/api/data\"})})})}),\" \\u65F6\\uFF0C\\u6D4F\\u89C8\\u5668\\u4F1A\\u76F4\\u63A5\\u62E6\\u622A\\uFF0C\\u629B\\u51FA\\u7C7B\\u4F3C\\u8FD9\\u6837\\u7684\\u9519\\u8BEF\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Access to XMLHttpRequest at 'http://b.com/api/data' from origin 'http://a.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\"})})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4E0D\\u662F bug\\uFF0C\\u800C\\u662F\\u6D4F\\u89C8\\u5668\\u7684\\u201C\\u5B89\\u5168\\u673A\\u5236\\u201D\\u5728\\u8D77\\u4F5C\\u7528\\u3002\\u4E0D\\u8FC7\\uFF0C\\u5F00\\u53D1\\u8005\\u542C\\u5230\\u201CCORS\\u201D\\u4E09\\u4E2A\\u5B57\\uFF0C\\u8840\\u538B\\u53EF\\u80FD\\u5C31\\u98D9\\u5347\\u4E86\\u3002\\u522B\\u614C\\uFF0C\\u6211\\u4EEC\\u4E00\\u6B65\\u6B65\\u62C6\\u89E3\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5728\\u8C03\\u8BD5\\u8DE8\\u57DF\\u95EE\\u9898\\u65F6\\uFF0C\\u6253\\u5F00\\u6D4F\\u89C8\\u5668\\u7684\\u5F00\\u53D1\\u8005\\u5DE5\\u5177\\uFF08F12\\uFF09\\uFF0C\\u5207\\u6362\\u5230 Network \\u9762\\u677F\\uFF0C\\u770B\\u770B\\u8BF7\\u6C42\\u7684\\u72B6\\u6001\\u7801\\u3002\\u5982\\u679C\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"OPTIONS\"})})})}),\" \\u8BF7\\u6C42\\u88AB\\u62E6\\u622A\\uFF0C\\u6216\\u8005\\u54CD\\u5E94\\u5934\\u91CC\\u7F3A\\u4E1C\\u897F\\uFF0C\\u901A\\u5E38\\u662F\\u8DE8\\u57DF\\u914D\\u7F6E\\u6CA1\\u641E\\u5B9A\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E8C\\u8DE8\\u57DF\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u5927\\u96C6\\u5408\",children:(0,n.jsx)(e.a,{href:\"#\\u4E8C\\u8DE8\\u57DF\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u5927\\u96C6\\u5408\",children:\"\\u4E8C\\u3001\\u8DE8\\u57DF\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u5927\\u96C6\\u5408\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8DE8\\u57DF\\u95EE\\u9898\\u867D\\u7136\\u70E6\\u4EBA\\uFF0C\\u4F46\\u89E3\\u51B3\\u65B9\\u6848\\u591A\\u5F97\\u50CF\\u8D85\\u5E02\\u8D27\\u67B6\\u4E0A\\u7684\\u85AF\\u7247\\u2014\\u2014\\u603B\\u6709\\u4E00\\u6B3E\\u9002\\u5408\\u4F60\\u3002\\u4E0B\\u9762\\u6211\\u4EEC\\u9010\\u4E00\\u5256\\u6790\\uFF0C\\u914D\\u4E0A\\u4EE3\\u7801\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"21-jsonp\\u8001\\u6D3E\\u4F46\\u7BA1\\u7528\",children:(0,n.jsx)(e.a,{href:\"#21-jsonp\\u8001\\u6D3E\\u4F46\\u7BA1\\u7528\",children:\"2.1 JSONP\\uFF1A\\u8001\\u6D3E\\u4F46\\u7BA1\\u7528\"})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"JSONP\\uFF08JSON with Padding\\uFF09\\u5229\\u7528\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<script>\"})})})}),\" \\u6807\\u7B7E\\u4E0D\\u53D7\\u540C\\u6E90\\u7B56\\u7565\\u9650\\u5236\\u7684\\u7279\\u6027\\u3002\\u5B83\\u7684\\u6838\\u5FC3\\u601D\\u8DEF\\u662F\\uFF1A\\u901A\\u8FC7\\u52A8\\u6001\\u521B\\u5EFA \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<script>\"})})})}),\" \\u6807\\u7B7E\\uFF0C\\u628A\\u8BF7\\u6C42\\u4F2A\\u88C5\\u6210\\u811A\\u672C\\u52A0\\u8F7D\\uFF0C\\u670D\\u52A1\\u5668\\u8FD4\\u56DE\\u4E00\\u6BB5 JS \\u4EE3\\u7801\\uFF0C\\u8C03\\u7528\\u4F60\\u9884\\u5B9A\\u4E49\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\\u4EE3\\u7801\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u4EE3\\u7801\",children:\"\\u793A\\u4F8B\\u4EE3\\u7801\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u524D\\u7AEF\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleResponse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6536\\u5230\\u6570\\u636E\\u5566\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" script\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"script\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"script.src \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"http://b.com/api/data?callback=handleResponse\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"document.body.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(script);\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u540E\\u7AEF\\uFF08\\u5047\\u8BBE\\u7528 Node.js\\uFF09\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/api/data\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" callback\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" req.query.callback;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6653\\u9F99\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", age: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"25\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"callback\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}(${\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"})`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD4\\u56DE\\u7684\\u54CD\\u5E94\\u662F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"handleResponse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"name\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6653\\u9F99\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"age\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"25\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})]})})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u7F3A\\u70B9\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u7B80\\u5355\\u7C97\\u66B4\\uFF0C\\u517C\\u5BB9\\u6027\\u597D\\uFF0C\\u8FDE IE6 \\u90FD\\u80FD\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u53EA\\u652F\\u6301 GET \\u8BF7\\u6C42\\uFF0C\\u5B89\\u5168\\u6027\\u582A\\u5FE7\\uFF08\\u5BB9\\u6613\\u88AB\\u6CE8\\u5165\\u6076\\u610F\\u811A\\u672C\\uFF09\\uFF0C\\u73B0\\u4EE3\\u5F00\\u53D1\\u4E2D\\u9010\\u6E10\\u88AB\\u6DD8\\u6C70\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"JSONP \\u9002\\u5408\\u4E00\\u4E9B\\u7B80\\u5355\\u7684\\u516C\\u5F00 API \\u8C03\\u7528\\uFF0C\\u6BD4\\u5982\\u83B7\\u53D6\\u5929\\u6C14\\u6570\\u636E\\u3002\\u4F46\\u5982\\u679C\\u6D89\\u53CA\\u654F\\u611F\\u6570\\u636E\\uFF0C\\u8D76\\u7D27\\u8DD1\\u8DEF\\uFF0C\\u522B\\u7528\\u5B83\\uFF01\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"22-cors\\u73B0\\u4EE3\\u6807\\u914D\",children:(0,n.jsx)(e.a,{href:\"#22-cors\\u73B0\\u4EE3\\u6807\\u914D\",children:\"2.2 CORS\\uFF1A\\u73B0\\u4EE3\\u6807\\u914D\"})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u539F\\u7406-1\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406-1\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"CORS\\uFF08Cross-Origin Resource Sharing\\uFF0C\\u8DE8\\u57DF\\u8D44\\u6E90\\u5171\\u4EAB\\uFF09\\u662F W3C \\u5236\\u5B9A\\u7684\\u6807\\u51C6\\uFF0C\\u901A\\u8FC7\\u5728\\u670D\\u52A1\\u5668\\u54CD\\u5E94\\u5934\\u4E2D\\u6DFB\\u52A0\\u7279\\u5B9A\\u7684\\u5B57\\u6BB5\\uFF0C\\u544A\\u8BC9\\u6D4F\\u89C8\\u5668\\uFF1A\\u201C\\u563F\\uFF0C\\u8FD9\\u4E2A\\u8BF7\\u6C42\\u6211\\u5141\\u8BB8\\u54E6\\uFF01\\u201D \\u6700\\u5173\\u952E\\u7684\\u5B57\\u6BB5\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Access-Control-Allow-Origin\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u524D\\u7AEF\\u7167\\u5E38\\u53D1\\u8BF7\\u6C42\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"http://b.com/api/data\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data))\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u51FA\\u9519\\u4E86\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u540E\\u7AEF\\uFF08Node.js + Express\\uFF09\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Access-Control-Allow-Origin\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"http://a.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6307\\u5B9A\\u5141\\u8BB8\\u7684\\u6E90\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Access-Control-Allow-Methods\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"GET, POST, PUT, DELETE\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Access-Control-Allow-Headers\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Content-Type\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/api/data\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ message: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hello from b.com!\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u590D\\u6742\\u8BF7\\u6C42\\u4E0E\\u9884\\u68C0preflight\",children:(0,n.jsx)(e.a,{href:\"#\\u590D\\u6742\\u8BF7\\u6C42\\u4E0E\\u9884\\u68C0preflight\",children:\"\\u590D\\u6742\\u8BF7\\u6C42\\u4E0E\\u9884\\u68C0\\uFF08Preflight\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u8BF7\\u6C42\\u5E26\\u4E86\\u81EA\\u5B9A\\u4E49\\u5934\\u6216\\u8005\\u65B9\\u6CD5\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"PUT\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"DELETE\"})})})}),\"\\uFF0C\\u6D4F\\u89C8\\u5668\\u4F1A\\u5148\\u53D1\\u9001\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"OPTIONS\"})})})}),\" \\u8BF7\\u6C42\\u8FDB\\u884C\\u201C\\u9884\\u68C0\\u201D\\u3002\\u670D\\u52A1\\u5668\\u5F97\\u6B63\\u786E\\u54CD\\u5E94\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"options\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/api/data\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Access-Control-Allow-Origin\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"http://a.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Access-Control-Allow-Methods\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"PUT\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"header\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Access-Control-Allow-Headers\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"X-Custom-Header\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sendStatus\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"204\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u7F3A\\u70B9-1\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-1\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u5B98\\u65B9\\u652F\\u6301\\uFF0C\\u7075\\u6D3B\\uFF0C\\u53EF\\u63A7\\u6027\\u5F3A\\uFF0C\\u652F\\u6301\\u6240\\u6709 HTTP \\u65B9\\u6CD5\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u9700\\u8981\\u540E\\u7AEF\\u914D\\u5408\\uFF0C\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u5F97\\u6C42\\u7740\\u540E\\u7AEF\\u6539\\u914D\\u7F6E\\uFF08\\u5C34\\u5C2C\\u7B11\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5F00\\u53D1\\u65F6\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"*\"})})})}),\" \\u901A\\u914D\\u7B26\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Access-Control-Allow-Origin: *\"})})})}),\"\\uFF09\\uFF0C\\u4F46\\u751F\\u4EA7\\u73AF\\u5883\\u5C3D\\u91CF\\u6307\\u5B9A\\u5177\\u4F53\\u57DF\\u540D\\uFF0C\\u63D0\\u5347\\u5B89\\u5168\\u6027\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"23-\\u4EE3\\u7406\\u524D\\u7AEF\\u7684\\u66F2\\u7EBF\\u6551\\u56FD\",children:(0,n.jsx)(e.a,{href:\"#23-\\u4EE3\\u7406\\u524D\\u7AEF\\u7684\\u66F2\\u7EBF\\u6551\\u56FD\",children:\"2.3 \\u4EE3\\u7406\\uFF1A\\u524D\\u7AEF\\u7684\\u201C\\u66F2\\u7EBF\\u6551\\u56FD\\u201D\"})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u539F\\u7406-2\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406-2\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u65E2\\u7136\\u6D4F\\u89C8\\u5668\\u4E0D\\u8BA9\\u76F4\\u63A5\\u8DE8\\u57DF\\uFF0C\\u90A3\\u5C31\\u7ED5\\u8FC7\\u53BB\\uFF01\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u6216\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\uFF0C\\u901A\\u8FC7\\u4EE3\\u7406\\u670D\\u52A1\\u5668\\u8F6C\\u53D1\\u8BF7\\u6C42\\uFF0C\\u628A\\u8DE8\\u57DF\\u95EE\\u9898\\u4EA4\\u7ED9\\u670D\\u52A1\\u5668\\u89E3\\u51B3\\u3002\\u670D\\u52A1\\u5668\\u4E4B\\u95F4\\u901A\\u4FE1\\u53EF\\u4E0D\\u53D7\\u540C\\u6E90\\u7B56\\u7565\\u9650\\u5236\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\\u5F00\\u53D1\\u73AF\\u5883webpackvite\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u5F00\\u53D1\\u73AF\\u5883webpackvite\",children:\"\\u793A\\u4F8B\\uFF1A\\u5F00\\u53D1\\u73AF\\u5883\\uFF08Webpack/Vite\\uFF09\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7528 Vite \\u914D\\u7F6E\\u4EE3\\u7406\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// vite.config.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  server: {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    proxy: {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'      \"/api\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        target: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"http://b.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        changeOrigin: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        rewrite\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"path\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" path.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"replace\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"^\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\",fontWeight:\"bold\"},children:\"\\\\/\"}),(0,n.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\"api\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u524D\\u7AEF\\u8BF7\\u6C42 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"/api/data\"})})})}),\"\\uFF0C\\u5B9E\\u9645\\u8BBF\\u95EE\\u7684\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://b.com/data\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B\\u751F\\u4EA7\\u73AF\\u5883nginx\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u751F\\u4EA7\\u73AF\\u5883nginx\",children:\"\\u793A\\u4F8B\\uFF1A\\u751F\\u4EA7\\u73AF\\u5883\\uFF08Nginx\\uFF09\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Nginx \\u914D\\u7F6E\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"server {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  listen 80;\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  server_name a.com;\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  location /api/ {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"    proxy_pass http://b.com/;\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"    proxy_set_header Host b.com;\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"    proxy_set_header X-Real-IP $remote_addr;\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u7F3A\\u70B9-2\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-2\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u524D\\u7AEF\\u5B8C\\u5168\\u638C\\u63A7\\uFF0C\\u4E0D\\u7528\\u6C42\\u540E\\u7AEF\\uFF0C\\u5F00\\u53D1\\u8C03\\u8BD5\\u8D85\\u65B9\\u4FBF\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u751F\\u4EA7\\u73AF\\u5883\\u9700\\u8981\\u8FD0\\u7EF4\\u652F\\u6301\\uFF0C\\u914D\\u7F6E\\u7A0D\\u590D\\u6742\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u4EE3\\u7406\\u662F\\u5F00\\u53D1\\u65F6\\u7684\\u6551\\u547D\\u7A3B\\u8349\\uFF0C\\u4F46\\u4E0A\\u7EBF\\u524D\\u8BB0\\u5F97\\u8DDF\\u540E\\u7AEF\\u786E\\u8BA4\\u63A5\\u53E3\\u5730\\u5740\\uFF0C\\u522B\\u628A\\u4EE3\\u7406\\u5199\\u6B7B\\u5728\\u4EE3\\u7801\\u91CC\\uFF01\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"24-postmessage\\u7A97\\u53E3\\u95F4\\u7684\\u6084\\u6084\\u8BDD\",children:(0,n.jsx)(e.a,{href:\"#24-postmessage\\u7A97\\u53E3\\u95F4\\u7684\\u6084\\u6084\\u8BDD\",children:\"2.4 PostMessage\\uFF1A\\u7A97\\u53E3\\u95F4\\u7684\\u6084\\u6084\\u8BDD\"})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u539F\\u7406-3\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406-3\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"HTML5 \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"postMessage\"})})})}),\" API \\u5141\\u8BB8\\u4E0D\\u540C\\u7A97\\u53E3\\uFF08\\u6BD4\\u5982 iframe \\u6216\\u65B0\\u7A97\\u53E3\\uFF09\\u4E4B\\u95F4\\u901A\\u4FE1\\uFF0C\\u4E0D\\u53D7\\u540C\\u6E90\\u9650\\u5236\\u3002\\u9002\\u5408\\u9875\\u9762\\u5D4C\\u5957\\u6216\\u591A\\u7A97\\u53E3\\u534F\\u4F5C\\u7684\\u573A\\u666F\\u3002\"]}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B-1\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-1\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7236\\u9875\\u9762\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://a.com\"})})})}),\"\\uFF09\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"iframe\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" src\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"http://b.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"iframe\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"iframe\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" iframe\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"iframe\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  iframe.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    iframe.contentWindow.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"postMessage\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4F60\\u597D\\u554A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"http://b.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5B50\\u9875\\u9762\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://b.com\"})})})}),\"\\uFF09\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"message\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (event.origin \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"http://a.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6536\\u5230\\u6D88\\u606F\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", event.data);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      event.source.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"postMessage\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6211\\u5F88\\u597D\\uFF0C\\u8C22\\u8C22\\uFF01\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", event.origin);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u7F3A\\u70B9-3\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-3\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u5B89\\u5168\\u53EF\\u63A7\\uFF0C\\u9002\\u5408\\u7279\\u5B9A\\u573A\\u666F\\uFF08\\u5982\\u7B2C\\u4E09\\u65B9\\u5D4C\\u5165\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u5B9E\\u73B0\\u590D\\u6742\\uFF0C\\u4E0D\\u9002\\u5408\\u666E\\u901A API \\u8C03\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"event.origin\"})})})}),\" \\u68C0\\u67E5\\u6765\\u6E90\\uFF0C\\u9632\\u6B62\\u88AB\\u6076\\u610F\\u7F51\\u7AD9\\u76D1\\u542C\\uFF0C\\u522B\\u8BA9\\u4F60\\u7684\\u6084\\u6084\\u8BDD\\u53D8\\u6210\\u5E7F\\u64AD\\uFF01\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h3,{id:\"25-websocket\\u8DE8\\u57DF\\u7684\\u7279\\u79CD\\u5175\",children:(0,n.jsx)(e.a,{href:\"#25-websocket\\u8DE8\\u57DF\\u7684\\u7279\\u79CD\\u5175\",children:\"2.5 WebSocket\\uFF1A\\u8DE8\\u57DF\\u7684\\u201C\\u7279\\u79CD\\u5175\\u201D\"})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u539F\\u7406-4\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406-4\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsx)(e.p,{children:\"WebSocket \\u662F\\u4E13\\u4E3A\\u5B9E\\u65F6\\u901A\\u4FE1\\u8BBE\\u8BA1\\u7684\\u534F\\u8BAE\\uFF0C\\u5929\\u751F\\u652F\\u6301\\u8DE8\\u57DF\\uFF0C\\u53EA\\u8981\\u670D\\u52A1\\u5668\\u5141\\u8BB8\\u3002\"}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u793A\\u4F8B-2\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-2\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u524D\\u7AEF\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ws\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WebSocket\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"ws://b.com/socket\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"ws.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onopen\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ws.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hello, WebSocket!\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"ws.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6536\\u5230\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", event.data);\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u540E\\u7AEF\\uFF08Node.js + ws\\uFF09\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" WebSocket\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"ws\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" wss\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" WebSocket.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Server\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ port: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"8080\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"wss.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"connection\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ws\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ws.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"message\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6536\\u5230\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", msg);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ws.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hi back!\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.h4,{id:\"\\u4F18\\u7F3A\\u70B9-4\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-4\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u5B9E\\u65F6\\u6027\\u5F3A\\uFF0C\\u8DE8\\u57DF\\u65E0\\u538B\\u529B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u5F00\\u53D1\\u6210\\u672C\\u9AD8\\uFF0C\\u9002\\u5408\\u804A\\u5929\\u3001\\u63A8\\u9001\\u7B49\\u573A\\u666F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C0F Tips\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"WebSocket \\u90E8\\u7F72\\u65F6\\u6CE8\\u610F\\u9632\\u706B\\u5899\\u548C\\u7AEF\\u53E3\\uFF0C\\u522B\\u8BA9\\u8FD0\\u7EF4\\u5C0F\\u54E5\\u54E5\\u6293\\u72C2\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E09\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879\",children:(0,n.jsx)(e.a,{href:\"#\\u4E09\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879\",children:\"\\u4E09\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5148\\u7EA7\\u6392\\u5E8F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5F00\\u53D1\\u9636\\u6BB5\\uFF1A\\u7528\\u4EE3\\u7406\\uFF0C\\u7B80\\u5355\\u9AD8\\u6548\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u751F\\u4EA7\\u73AF\\u5883\\uFF1A\\u9996\\u9009 CORS\\uFF0C\\u89C4\\u8303\\u53C8\\u5B89\\u5168\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u7279\\u6B8A\\u573A\\u666F\\uFF1APostMessage \\u6216 WebSocket \\u770B\\u9700\\u6C42\\u3002\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u6280\\u5DE7\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u7528 Chrome \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"--disable-web-security\"})})})}),\" \\u6A21\\u5F0F\\u4E34\\u65F6\\u5173\\u95ED\\u540C\\u6E90\\u7B56\\u7565\\uFF08\\u4EC5\\u9650\\u672C\\u5730\\u6D4B\\u8BD5\\uFF0C\\u522B\\u4F5C\\u6B7B\\u4E0A\\u7EBF\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B89\\u5168\\u7B2C\\u4E00\"}),(0,n.jsx)(e.br,{}),`\n`,\"CORS \\u914D\\u7F6E\\u522B\\u6EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"*\"})})})}),\"\\uFF0CJSONP \\u53EA\\u7528\\u4E8E\\u516C\\u5F00\\u6570\\u636E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u56E2\\u961F\\u534F\\u4F5C\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u8DE8\\u57DF\\u95EE\\u9898\\u5E38\\u6D89\\u53CA\\u524D\\u540E\\u7AEF\\u914D\\u5408\\uFF0C\\u5199\\u597D\\u63A5\\u53E3\\u6587\\u6863\\uFF0C\\u522B\\u8BA9\\u540E\\u7AEF\\u731C\\u4F60\\u7684\\u9700\\u6C42\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u56DB\\u603B\\u7ED3\\u8DE8\\u57DF\\u4E0D\\u518D\\u662F\\u62E6\\u8DEF\\u864E\",children:(0,n.jsx)(e.a,{href:\"#\\u56DB\\u603B\\u7ED3\\u8DE8\\u57DF\\u4E0D\\u518D\\u662F\\u62E6\\u8DEF\\u864E\",children:\"\\u56DB\\u3001\\u603B\\u7ED3\\uFF1A\\u8DE8\\u57DF\\u4E0D\\u518D\\u662F\\u62E6\\u8DEF\\u864E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8DE8\\u57DF\\u95EE\\u9898\\u5C31\\u50CF\\u4E00\\u573A\\u524D\\u7AEF\\u4E0E\\u6D4F\\u89C8\\u5668\\u7684\\u201C\\u62C9\\u952F\\u6218\\u201D\\uFF0C\\u4F46\\u6709\\u4E86\\u8FD9\\u4E9B\\u65B9\\u6848\\uFF0C\\u4F60\\u5B8C\\u5168\\u53EF\\u4EE5\\u6E38\\u5203\\u6709\\u4F59\\u3002JSONP \\u662F\\u8001\\u5C06\\uFF0CCORS \\u662F\\u4E3B\\u529B\\uFF0C\\u4EE3\\u7406\\u662F\\u5947\\u5175\\uFF0CPostMessage \\u548C WebSocket \\u662F\\u7279\\u79CD\\u90E8\\u961F\\u3002\\u9009\\u5BF9\\u6B66\\u5668\\uFF0C\\u95EE\\u9898\\u8FCE\\u5203\\u800C\\u89E3\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u6B21\\u518D\\u9047\\u5230\\u8DE8\\u57DF\\u62A5\\u9519\\uFF0C\\u522B\\u6025\\u7740\\u7838\\u952E\\u76D8\\uFF0C\\u51B7\\u9759\\u5206\\u6790\\u4E00\\u4E0B\\uFF1A\\u662F\\u540E\\u7AEF\\u6CA1\\u914D\\u5934\\uFF1F\\u8FD8\\u662F\\u4EE3\\u7406\\u6CA1\\u641E\\u5BF9\\uFF1F\\u8BF4\\u4E0D\\u5B9A\\u53EA\\u662F\\u7AEF\\u53E3\\u5199\\u9519\\u4E86\\u5462\\uFF08\\u7B11\\uFF09\\u3002\\u603B\\u4E4B\\uFF0C\\u8DE8\\u57DF\\u4E0D\\u53EF\\u6015\\uFF0C\\u53EF\\u6015\\u7684\\u662F\\u4F60\\u4E0D\\u77E5\\u9053\\u5B83\\u4E3A\\u5565\\u62E6\\u7740\\u4F60\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u535A\\u5BA2\\u80FD\\u6210\\u4E3A\\u4F60\\u7684\\u201C\\u8DE8\\u57DF\\u5B9D\\u5178\\u201D\\uFF0C\\u52A9\\u4F60\\u5728\\u524D\\u7AEF\\u8DEF\\u4E0A\\u8D8A\\u8D70\\u8D8A\\u987A\\uFF01 \\u{1F31F}\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6709\\u4EC0\\u4E48\\u95EE\\u9898\\u6216\\u8005\\u66F4\\u597D\\u7684\\u65B9\\u6848\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u63A2\\u8BA8\\uFF0C\\u6BD5\\u7ADF\\u524D\\u7AEF\\u7684\\u4E16\\u754C\\u5C31\\u662F\\u8981\\u591A\\u6298\\u817E\\u3001\\u591A\\u5206\\u4EAB\\u561B\\uFF01 \\u{1F609}\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return b(C);})();\n;return Component;"
  },
  "_id": "Browser/æµè§ˆå™¨è·¨åŸŸé—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆè¯¦è§£.mdx",
  "_raw": {
    "sourceFilePath": "Browser/æµè§ˆå™¨è·¨åŸŸé—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆè¯¦è§£.mdx",
    "sourceFileName": "æµè§ˆå™¨è·¨åŸŸé—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆè¯¦è§£.mdx",
    "sourceFileDir": "Browser",
    "contentType": "mdx",
    "flattenedPath": "Browser/æµè§ˆå™¨è·¨åŸŸé—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆè¯¦è§£"
  },
  "type": "Post",
  "url": "/blog/Browser/æµè§ˆå™¨è·¨åŸŸé—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆè¯¦è§£"
}
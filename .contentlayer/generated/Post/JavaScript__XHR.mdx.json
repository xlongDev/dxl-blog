{
  "title": "è§£é”ç½‘ç»œä¹‹é­‚ï¼šJavaScript XHR (XMLHttpRequest) å…¨é¢å‰–æž",
  "date": "2022-03-06T00:00:00.000Z",
  "description": "æ·±å…¥æŽ¢ç´¢ JavaScript XHR çš„æ ¸å¿ƒåŽŸç†ã€å®žç”¨æŠ€å·§ä¸Žæœ€ä½³å®žè·µï¼Œå¸¦é¢†å‰ç«¯å¼€å‘è€…ä»ŽåŸºç¡€åˆ°è¿›é˜¶ï¼Œè§£é”å¼‚æ­¥ç½‘ç»œè¯·æ±‚çš„å¥¥ç§˜ã€‚",
  "keywords": "JavaScript, XHR, XMLHttpRequest, AJAX, å¼‚æ­¥è¯·æ±‚, å‰ç«¯å¼€å‘, ç½‘ç»œç¼–ç¨‹, HTTP, Fetch API",
  "author": "æ™“é¾™",
  "image": "/images/hero/xhr-analysis.jpg",
  "tags": [
    "JavaScript",
    "Web å¼€å‘",
    "AJAX",
    "ç½‘ç»œè¯·æ±‚"
  ],
  "views": 0,
  "likes": 0,
  "category": "JavaScript",
  "body": {
    "raw": "\n> â€œåœ¨ä»£ç çš„å®‡å®™ä¸­ï¼Œæ¯ä¸€æ¬¡ç½‘ç»œè¯·æ±‚éƒ½æ˜¯ä¸€åœºæ˜Ÿé™…æ—…è¡Œï¼ŒXHR æ˜¯é‚£è‰˜æ‰¿è½½æˆ‘ä»¬æ¢¦æƒ³çš„é£žèˆ¹ã€‚â€ \n\nç½‘ç»œè¯·æ±‚æ˜¯çŽ°ä»£ Web å¼€å‘çš„å‘½è„‰ï¼Œè€Œ `XMLHttpRequest`ï¼ˆä»¥ä¸‹ç®€ç§° XHRï¼‰ä½œä¸º AJAX çš„å¥ åŸºçŸ³ï¼Œæ—©å·²æˆä¸ºå‰ç«¯å¼€å‘è€…ç»•ä¸å¼€çš„ç»å…¸è¯é¢˜ã€‚å°½ç®¡å¦‚ä»Š `Fetch API` å’Œ `async/await` å¤§è¡Œå…¶é“ï¼ŒXHR ä¾ç„¶åœ¨è®¸å¤šåœºæ™¯ä¸­é»˜é»˜å‘å…‰ï¼Œå®›å¦‚ä¸€ä½éšå±…çš„æ­¦æž—é«˜æ‰‹ï¼Œå†…åŠ›æ·±åŽšï¼Œæ‹›å¼ç»å…¸ã€‚ðŸŒŸ\n\nè¿™ç¯‡æ–‡ç« å°†å¸¦ä½ æ·±å…¥ XHR çš„ä¸–ç•Œï¼Œä»Žå®ƒçš„åŽ†å²èµ·æºåˆ°æ ¸å¿ƒåŽŸç†ï¼Œä»ŽåŸºæœ¬ç”¨æ³•åˆ°é«˜çº§æŠ€å·§ï¼Œä»Žæœ€ä½³å®žè·µåˆ°å“²å­¦æ€è€ƒã€‚æˆ‘ä»¬ä¸ä»…ä¼šå‰–æž XHR çš„æ¯ä¸€å¯¸â€œè‚Œè‚‰â€ï¼Œè¿˜ä¼šç»“åˆå®žé™…æ¡ˆä¾‹ã€ç±»æ¯”å’Œå¹½é»˜ï¼Œè®©ä½ è¯»èµ·æ¥æ—¢åƒåœ¨å•ƒä¸€æœ¬æŠ€æœ¯å®å…¸ï¼Œåˆåƒåœ¨å“ä¸€æ¯é¦™é†‡çš„å’–å•¡ã€‚â˜• å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·è§£é”ç½‘ç»œä¹‹é­‚ï¼\n\n## æ€ç»´å¯¼å›¾ï¼šæ–‡ç« çš„æ˜Ÿé™…èˆªçº¿\n\nåœ¨æµ©ç€šçš„ XHR å®‡å®™ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€å¼ æ˜Ÿå›¾æ¥æŒ‡å¼•æ–¹å‘ã€‚ä»¥ä¸‹æ˜¯æœ¬æ–‡çš„ç»“æž„ï¼š\n\n1. **èµ·æºä¸ŽåŽ†å²**ï¼šXHR çš„è¯žç”Ÿä¸Ž AJAX çš„é©å‘½\n2. **æ ¸å¿ƒåŽŸç†**ï¼šä»Ž HTTP åˆ°äº‹ä»¶é©±åŠ¨ï¼Œè§£å¯† XHR çš„è¿è¡Œæœºåˆ¶\n3. **åŸºç¡€ç”¨æ³•**ï¼šä»Ž `new XMLHttpRequest()` åˆ°å‘é€ç¬¬ä¸€ä¸ªè¯·æ±‚\n4. **è¿›é˜¶æŠ€å·§**ï¼šå¤„ç†å¤æ‚åœºæ™¯ï¼Œè§£é” XHR çš„é«˜çº§çŽ©æ³•\n5. **æœ€ä½³å®žè·µ**ï¼š10 æ¡å®žç”¨å»ºè®®ï¼Œè®©ä½ çš„ä»£ç å¦‚è¯—èˆ¬ä¼˜é›…\n6. **ä¸Ž Fetch API çš„å¯¹æ¯”**ï¼šè€å°†ä¸Žæ–°æ˜Ÿçš„å·…å³°å¯¹å†³\n7. **å“²å­¦æ€è€ƒ**ï¼šä»Ž XHR åˆ°äººç”Ÿï¼Œå¼‚æ­¥çš„è‰ºæœ¯\n8. **æœªæ¥å±•æœ›**ï¼šXHR åœ¨çŽ°ä»£ Web ä¸­çš„ä½ç½®\n\næ¯ä¸€æ®µéƒ½å°†é…ä»¥ä»£ç ç¤ºä¾‹ã€ç±»æ¯”ã€è¡¨æ ¼å’Œå¹½é»˜çš„ç‚¹ç¼€ï¼Œç¡®ä¿å†…å®¹æ—¢æœ‰æ·±åº¦åˆæœ‰æ¸©åº¦ã€‚ðŸš€\n\n## 1. èµ·æºä¸ŽåŽ†å²ï¼šXHR çš„æ˜Ÿé™…å¯èˆª\n\nXHR çš„æ•…äº‹å§‹äºŽä¸Šä¸–çºªæœ«çš„æµè§ˆå™¨æˆ˜äº‰ã€‚é‚£æ—¶ï¼ŒWeb è¿˜æ˜¯ä¸ªé’æ¶©çš„å°‘å¹´ï¼Œé¡µé¢åˆ·æ–°æ˜¯å®¶å¸¸ä¾¿é¥­ï¼Œç”¨æˆ·ä½“éªŒå®›å¦‚åœ¨æ‹¨å·ä¸Šç½‘çš„å¹´ä»£é‡Œè‹¦ç­‰ã€‚1998 å¹´ï¼Œå¾®è½¯åœ¨ Internet Explorer 4 ä¸­é¦–æ¬¡å¼•å…¥äº† `XMLHTTP` ActiveX æŽ§ä»¶ï¼Œå…è®¸å¼€å‘è€…åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹ä¸ŽæœåŠ¡å™¨é€šä¿¡ã€‚è¿™å°±åƒåœ¨è’¸æ±½æ—¶ä»£å‘æ˜Žäº†ç¬¬ä¸€å°é£žèˆ¹å¼•æ“Žï¼Œå°½ç®¡ç®€é™‹ï¼Œå´å¼€å¯äº†å¼‚æ­¥è¯·æ±‚çš„æ˜Ÿé™…èˆªç¨‹ã€‚\n\n2005 å¹´ï¼ŒJesse James Garrett æå‡ºäº† **AJAX**ï¼ˆAsynchronous JavaScript and XMLï¼‰çš„æ¦‚å¿µï¼ŒXHR ä½œä¸ºå…¶æ ¸å¿ƒæŠ€æœ¯è¿…é€Ÿèµ°çº¢ã€‚Google Maps å’Œ Gmail çš„æˆåŠŸè®© AJAX æˆä¸º Web 2.0 çš„ä»£åè¯ï¼ŒXHR ä¹Ÿä»Žå¹•åŽè‹±é›„æ™‹å‡ä¸ºå‰ç«¯å¼€å‘çš„â€œé“¶æ²³ç³»æ”¯æŸ±â€ã€‚\n\n> â€œæŠ€æœ¯çš„å‘å±•å¦‚åŒæ˜Ÿè¾°çš„è½¨è¿¹ï¼ŒXHR æ˜¯é‚£é¢—ç‚¹äº® AJAX å¤œç©ºçš„æ’æ˜Ÿã€‚â€ â€”â€” æ™“é¾™\n\n### åŽ†å²æ—¶é—´è½´\n\n| å¹´ä»½ | äº‹ä»¶ | å½±å“ |\n|------|------|------|\n| 1998 | å¾®è½¯æŽ¨å‡º `XMLHTTP` ActiveX æŽ§ä»¶ | å¼‚æ­¥è¯·æ±‚çš„é›å½¢è¯žç”Ÿ |\n| 2004 | Gmail å’Œ Google Maps ä½¿ç”¨ AJAX | AJAX å¸­å·å‰ç«¯å¼€å‘ |\n| 2005 | AJAX æ¦‚å¿µæ­£å¼æå‡º | XHR æˆä¸ºä¸»æµæŠ€æœ¯ |\n| 2014 | Fetch API è‰æ¡ˆå‘å¸ƒ | XHR é¢ä¸´æ–°æŒ‘æˆ˜ |\n| 2025 | XHR ä¾ç„¶æ´»è·ƒ | ç»å…¸æ°¸ä¸è¿‡æ—¶ |\n\n*Tips: XHR çš„åŽ†å²æé†’æˆ‘ä»¬ï¼ŒæŠ€æœ¯çš„ä»·å€¼ä¸åœ¨äºŽæ–°æ—§ï¼Œè€Œåœ¨äºŽæ˜¯å¦è§£å†³äº†æ ¸å¿ƒé—®é¢˜ã€‚*\n\n## 2. æ ¸å¿ƒåŽŸç†ï¼šè§£å¯† XHR çš„è¿è¡Œæœºåˆ¶\n\nè¦çœŸæ­£æŽŒæ¡ XHRï¼Œæˆ‘ä»¬éœ€è¦æŽ€å¼€å®ƒçš„å¼•æ“Žç›–ï¼Œç ”ç©¶å…¶å†…åœ¨çš„â€œæœºæ¢°ç»“æž„â€ã€‚XHR çš„æœ¬è´¨æ˜¯ä¸€ä¸ª **æµè§ˆå™¨å†…ç½®çš„ JavaScript å¯¹è±¡**ï¼Œç”¨äºŽä¸ŽæœåŠ¡å™¨è¿›è¡Œ HTTP é€šä¿¡ã€‚å®ƒçš„è¿è¡Œæœºåˆ¶å¯ä»¥ç±»æ¯”ä¸ºä¸€å°è€å¼ç”µæŠ¥æœºï¼šä½ å‘é€ä¿¡å·ï¼ˆè¯·æ±‚ï¼‰ï¼Œç­‰å¾…å¯¹æ–¹å›žåº”ï¼ˆå“åº”ï¼‰ï¼Œä¸­é—´é€šè¿‡äº‹ä»¶ç›‘å¬æ¥æ•æ‰çŠ¶æ€å˜åŒ–ã€‚\n\n### 2.1 XHR çš„ç”Ÿå‘½å‘¨æœŸ\n\nXHR çš„è¯·æ±‚è¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š\n\n1. **åˆ›å»º**ï¼š`new XMLHttpRequest()`ï¼Œç›¸å½“äºŽé€ ä¸€è‰˜é£žèˆ¹ã€‚\n2. **é…ç½®**ï¼šè®¾ç½®è¯·æ±‚æ–¹æ³•ã€URLã€å¤´ä¿¡æ¯ç­‰ï¼Œå°±åƒè®¾å®šèˆªçº¿å’Œç‡ƒæ–™ã€‚\n3. **å‘é€**ï¼šè°ƒç”¨ `send()`ï¼Œé£žèˆ¹å‘å°„ï¼\n4. **ç›‘å¬**ï¼šé€šè¿‡äº‹ä»¶ï¼ˆå¦‚ `onreadystatechange`ï¼‰ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œç±»ä¼¼æŽ¥æ”¶æ¥è‡ªæ˜Ÿé™…çš„ä¿¡å·ã€‚\n5. **å¤„ç†**ï¼šèŽ·å–å“åº”æ•°æ®ï¼Œè§£æžç»“æžœï¼Œå®Œæˆä½¿å‘½ã€‚\n\n### 2.2 çŠ¶æ€ç ä¸Ž `readyState`\n\nXHR çš„ `readyState` å±žæ€§è®°å½•äº†è¯·æ±‚çš„å½“å‰çŠ¶æ€ï¼ŒèŒƒå›´ä»Ž 0 åˆ° 4ï¼š\n\n| readyState | çŠ¶æ€ | æè¿° |\n|------------|------|------|\n| 0 | UNSENT | è¯·æ±‚æœªåˆå§‹åŒ– |\n| 1 | OPENED | å·²è°ƒç”¨ `open()`ï¼Œè¿žæŽ¥å»ºç«‹ |\n| 2 | HEADERS_RECEIVED | æŽ¥æ”¶åˆ°å“åº”å¤´ |\n| 3 | LOADING | æŽ¥æ”¶å“åº”ä½“ |\n| 4 | DONE | è¯·æ±‚å®Œæˆ |\n\n*Tips: æ—¶åˆ»æ£€æŸ¥ `readyState === 4` å’Œ `status === 200` æ˜¯ç¡®ä¿è¯·æ±‚æˆåŠŸçš„åŸºç¡€ã€‚*\n\n### 2.3 äº‹ä»¶é©±åŠ¨çš„çµé­‚\n\nXHR æ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„æ¨¡åž‹ï¼Œæ ¸å¿ƒäº‹ä»¶åŒ…æ‹¬ï¼š\n\n- `onreadystatechange`ï¼šçŠ¶æ€å˜åŒ–æ—¶è§¦å‘ã€‚\n- `onload`ï¼šè¯·æ±‚æˆåŠŸå®Œæˆæ—¶è§¦å‘ã€‚\n- `onerror`ï¼šè¯·æ±‚å¤±è´¥æ—¶è§¦å‘ã€‚\n- `ontimeout`ï¼šè¯·æ±‚è¶…æ—¶æ—¶è§¦å‘ã€‚\n\nç±»æ¯”æ¥è¯´ï¼ŒXHR å°±åƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„é‚®å·®ï¼šä»–ä¸ä»…ä¼šé€ä¿¡ï¼ˆ`send`ï¼‰ï¼Œè¿˜ä¼šå‘Šè¯‰ä½ ä¿¡æ˜¯å¦é€è¾¾ï¼ˆ`onload`ï¼‰ï¼Œç”šè‡³åœ¨é€ä¿¡é€”ä¸­é‡åˆ°éº»çƒ¦æ—¶é€šçŸ¥ä½ ï¼ˆ`onerror`ï¼‰ã€‚\n\n## 3. åŸºç¡€ç”¨æ³•ï¼šä»Žé›¶å¼€å§‹çš„ XHR å†’é™©\n\nè®©æˆ‘ä»¬ä»Žä¸€ä¸ªç®€å•çš„ GET è¯·æ±‚å¼€å§‹ï¼Œæ„Ÿå— XHR çš„é­…åŠ›ã€‚\n\n```javascript\nconst xhr = new XMLHttpRequest();\nxhr.open('GET', 'https://api.example.com/data', true); // true è¡¨ç¤ºå¼‚æ­¥\nxhr.onreadystatechange = function () {\n  if (xhr.readyState === 4 && xhr.status === 200) {\n    console.log(JSON.parse(xhr.responseText));\n  }\n};\nxhr.send();\n```\n\nè¿™æ®µä»£ç å°±åƒç‚¹ç‡ƒäº†ä¸€æžšä¿¡å·å¼¹ï¼šå®ƒå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç­‰å¾…å“åº”ï¼Œå¹¶åœ¨æˆåŠŸæ—¶è§£æž JSON æ•°æ®ã€‚\n\n### 3.1 å‘é€ POST è¯·æ±‚\n\nPOST è¯·æ±‚ç¨å¾®å¤æ‚ä¸€äº›ï¼Œéœ€è¦è®¾ç½®è¯·æ±‚å¤´å’Œå‘é€æ•°æ®ï¼š\n\n```javascript\nconst xhr = new XMLHttpRequest();\nxhr.open('POST', 'https://api.example.com/submit', true);\nxhr.setRequestHeader('Content-Type', 'application/json');\nxhr.onreadystatechange = function () {\n  if (xhr.readyState === 4) {\n    if (xhr.status === 200) {\n      console.log('Success:', JSON.parse(xhr.responseText));\n    } else {\n      console.error('Error:', xhr.statusText);\n    }\n  }\n};\nconst data = JSON.stringify({ name: 'æ™“é¾™', role: 'å¼€å‘è€…' });\nxhr.send(data);\n```\n\n*Tips: æ€»æ˜¯æ˜¾å¼è®¾ç½® `Content-Type`ï¼Œä»¥ç¡®ä¿æœåŠ¡å™¨æ­£ç¡®è§£æžä½ çš„è¯·æ±‚ä½“ã€‚*\n\n### 3.2 å¤„ç†é”™è¯¯\n\né”™è¯¯å¤„ç†æ˜¯ XHR çš„å¿…ä¿®è¯¾ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ›´å¥å£®çš„ç¤ºä¾‹ï¼š\n\n```javascript\nconst xhr = new XMLHttpRequest();\nxhr.open('GET', 'https://api.example.com/data', true);\nxhr.timeout = 5000; // è®¾ç½® 5 ç§’è¶…æ—¶\nxhr.onload = function () {\n  if (xhr.status >= 200 && xhr.status < 300) {\n    console.log(JSON.parse(xhr.responseText));\n  } else {\n    console.error('Request failed with status:', xhr.status);\n  }\n};\nxhr.onerror = function () {\n  console.error('Network error occurred');\n};\nxhr.ontimeout = function () {\n  console.error('Request timed out');\n};\nxhr.send();\n```\n\n*Tips: ä½¿ç”¨ `onload` è€Œä¸æ˜¯ `onreadystatechange` å¯ä»¥ç®€åŒ–æˆåŠŸçŠ¶æ€çš„å¤„ç†é€»è¾‘ã€‚*\n\n## 4. è¿›é˜¶æŠ€å·§ï¼šè§£é” XHR çš„é«˜çº§çŽ©æ³•\n\nåŸºç¡€ç”¨æ³•åªæ˜¯ XHR çš„å†°å±±ä¸€è§’ã€‚è®©æˆ‘ä»¬æŽ¢ç´¢ä¸€äº›é«˜çº§æŠ€å·§ï¼Œè®©ä½ çš„è¯·æ±‚å¦‚è¡Œäº‘æµæ°´èˆ¬é¡ºç•…ã€‚\n\n### 4.1 å¤„ç†äºŒè¿›åˆ¶æ•°æ®\n\nXHR å¯ä»¥å¤„ç†å›¾ç‰‡ã€æ–‡ä»¶ç­‰äºŒè¿›åˆ¶æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä¸‹è½½ä¸€å¼ å›¾ç‰‡å¹¶æ˜¾ç¤ºï¼š\n\n```javascript\nconst xhr = new XMLHttpRequest();\nxhr.open('GET', 'https://example.com/image.jpg', true);\nxhr.responseType = 'blob'; // è®¾ç½®å“åº”ç±»åž‹ä¸ºäºŒè¿›åˆ¶\nxhr.onload = function () {\n  if (xhr.status === 200) {\n    const img = document.createElement('img');\n    img.src = URL.createObjectURL(xhr.response);\n    document.body.appendChild(img);\n  }\n};\nxhr.send();\n```\n\n*Tips: ä½¿ç”¨ `responseType` æ˜Žç¡®æŒ‡å®šå“åº”æ ¼å¼ï¼Œé¿å…æµè§ˆå™¨è¯¯è§£æ•°æ®ç±»åž‹ã€‚*\n\n### 4.2 ä¸Šä¼ æ–‡ä»¶\n\næ–‡ä»¶ä¸Šä¼ æ˜¯ XHR çš„å¦ä¸€å¤§ç”¨æ­¦ä¹‹åœ°ã€‚ç»“åˆ `FormData`ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾å®žçŽ°ï¼š\n\n```javascript\nconst xhr = new XMLHttpRequest();\nxhr.open('POST', 'https://api.example.com/upload', true);\nxhr.onload = function () {\n  if (xhr.status === 200) {\n    console.log('Upload successful:', xhr.responseText);\n  }\n};\nconst formData = new FormData();\nformData.append('file', document.querySelector('input[type=\"file\"]').files[0]);\nxhr.send(formData);\n```\n\n*Tips: `FormData` è‡ªåŠ¨å¤„ç† `multipart/form-data` ç¼–ç ï¼ŒçœåŽ»æ‰‹åŠ¨è®¾ç½®å¤´ä¿¡æ¯çš„éº»çƒ¦ã€‚*\n\n### 4.3 è·¨åŸŸè¯·æ±‚ä¸Ž CORS\n\nXHR é»˜è®¤å—åŒæºç­–ç•¥é™åˆ¶ï¼Œä½†é€šè¿‡ CORSï¼ˆè·¨æºèµ„æºå…±äº«ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°è¿›è¡Œè·¨åŸŸè¯·æ±‚ã€‚æœåŠ¡å™¨éœ€è¦åœ¨å“åº”å¤´ä¸­è®¾ç½® `Access-Control-Allow-Origin`ï¼š\n\n```javascript\nconst xhr = new XMLHttpRequest();\nxhr.open('GET', 'https://api.crossdomain.com/data', true);\nxhr.withCredentials = true; // æºå¸¦ Cookie\nxhr.onload = function () {\n  if (xhr.status === 200) {\n    console.log(JSON.parse(xhr.responseText));\n  }\n};\nxhr.send();\n```\n\n*Tips: è·¨åŸŸè¯·æ±‚éœ€è°¨æ…Žï¼Œç¡®ä¿æœåŠ¡å™¨æ”¯æŒ CORS å¹¶æ­£ç¡®é…ç½®ã€‚*\n\n## 5. æœ€ä½³å®žè·µï¼š10 æ¡è®©ä»£ç å¦‚è¯—çš„å»ºè®®\n\nå¥½çš„ä»£ç ä¸ä»…æ˜¯åŠŸèƒ½çš„å®žçŽ°ï¼Œæ›´æ˜¯ä¸€ç§è‰ºæœ¯ã€‚ä»¥ä¸‹æ˜¯ 10 æ¡ XHR çš„æœ€ä½³å®žè·µï¼ŒåŠ©ä½ å†™å‡ºä¼˜é›…çš„ä»£ç ã€‚\n\n### 5.1 å°è£… XHR ä¸º Promise\n\nå°† XHR å°è£…ä¸º Promiseï¼Œå¯ä»¥è®©ä»£ç æ›´çŽ°ä»£ã€æ›´ç®€æ´ï¼š\n\n```javascript\nfunction xhrPromise(method, url, data = null) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    xhr.onload = () => {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        resolve(xhr.response);\n      } else {\n        reject(new Error(`Request failed with status ${xhr.status}`));\n      }\n    };\n    xhr.onerror = () => reject(new Error('Network error'));\n    if (data) {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      xhr.send(JSON.stringify(data));\n    } else {\n      xhr.send();\n    }\n  });\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nxhrPromise('GET', 'https://api.example.com/data')\n  .then(response => console.log(JSON.parse(response)))\n  .catch(error => console.error(error));\n```\n\n*Tips: Promise å°è£…è®© XHR ä¸ŽçŽ°ä»£å¼‚æ­¥ä»£ç æ— ç¼è¡”æŽ¥ï¼Œæå‡å¯è¯»æ€§ã€‚*\n\n### 5.2 å§‹ç»ˆè®¾ç½®è¶…æ—¶\n\nç½‘ç»œä¸ç¨³å®šæ—¶ï¼Œè¯·æ±‚å¯èƒ½â€œå¡æ­»â€ã€‚è®¾ç½® `timeout` æ˜¯åŸºæœ¬é˜²æŠ¤ï¼š\n\n```javascript\nxhr.timeout = 10000; // 10 ç§’è¶…æ—¶\nxhr.ontimeout = () => console.error('Request timed out');\n```\n\n*Tips: æ ¹æ® API çš„å“åº”æ—¶é—´åŠ¨æ€è°ƒæ•´è¶…æ—¶å€¼ï¼Œé¿å…è¿‡çŸ­æˆ–è¿‡é•¿ã€‚*\n\n### 5.3 ä½¿ç”¨ `responseType` æ˜Žç¡®å“åº”æ ¼å¼\n\næ˜Žç¡®è®¾ç½® `responseType`ï¼Œé¿å…æµè§ˆå™¨è¯¯åˆ¤ï¼š\n\n```javascript\nxhr.responseType = 'json'; // è‡ªåŠ¨è§£æž JSON\nxhr.onload = () => console.log(xhr.response);\n```\n\n*Tips: `responseType` æ”¯æŒ `text`ã€`json`ã€`blob`ã€`arraybuffer` ç­‰ï¼Œçµæ´»é€‰æ‹©ã€‚*\n\n### 5.4 ä¼˜é›…å¤„ç†é”™è¯¯\n\né”™è¯¯å¤„ç†è¦å…¨é¢ï¼Œè¦†ç›–ç½‘ç»œé”™è¯¯ã€è¶…æ—¶å’ŒçŠ¶æ€ç å¼‚å¸¸ï¼š\n\n```javascript\nxhr.onerror = () => console.error('Network error');\nxhr.ontimeout = () => console.error('Timeout');\nxhr.onload = () => {\n  if (xhr.status >= 200 && xhr.status < 300) {\n    console.log(xhr.response);\n  } else {\n    console.error(`Error ${xhr.status}: ${xhr.statusText}`);\n  }\n};\n```\n\n*Tips: è®°å½•é”™è¯¯æ—¥å¿—åˆ°æœåŠ¡å™¨ï¼Œæœ‰åŠ©äºŽè°ƒè¯•å’Œç›‘æŽ§ã€‚*\n\n### 5.5 é¿å…å†…å­˜æ³„æ¼\n\né•¿æ—¶é—´è¿è¡Œçš„é¡µé¢å¯èƒ½å› æœªæ¸…ç†çš„ XHR å¯¼è‡´å†…å­˜æ³„æ¼ã€‚ä½¿ç”¨ `abort()` æ¸…ç†ï¼š\n\n```javascript\nconst xhr = new XMLHttpRequest();\nxhr.open('GET', 'https://api.example.com/data', true);\n// é¡µé¢å¸è½½æ—¶æ¸…ç†\nwindow.addEventListener('unload', () => xhr.abort());\n```\n\n*Tips: åœ¨ SPA ä¸­ï¼Œç»„ä»¶é”€æ¯æ—¶è°ƒç”¨ `abort()` æ˜¯å¥½ä¹ æƒ¯ã€‚*\n\n### 5.6 æ‰¹é‡è¯·æ±‚ä¼˜åŒ–\n\nå¤šä¸ªè¯·æ±‚å¯ä»¥é€šè¿‡é˜Ÿåˆ—æˆ–åˆå¹¶å‡å°‘ç½‘ç»œå¼€é”€ï¼š\n\n```javascript\nfunction batchXhr(urls) {\n  return Promise.all(urls.map(url => xhrPromise('GET', url)));\n}\nbatchXhr(['https://api.example.com/data1', 'https://api.example.com/data2'])\n  .then(responses => console.log(responses));\n```\n\n*Tips: åˆå¹¶è¯·æ±‚åˆ°å•ä¸ª API ç«¯ç‚¹å¯ä»¥è¿›ä¸€æ­¥æå‡æ€§èƒ½ã€‚*\n\n### 5.7 ç¼“å­˜å“åº”æ•°æ®\n\nå¯¹äºŽé¢‘ç¹è¯·æ±‚çš„é™æ€æ•°æ®ï¼Œä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼š\n\n```javascript\nconst cache = new Map();\nfunction cachedXhr(url) {\n  if (cache.has(url)) {\n    return Promise.resolve(cache.get(url));\n  }\n  return xhrPromise('GET', url).then(response => {\n    cache.set(url, response);\n    return response;\n  });\n}\n```\n\n*Tips: è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œé¿å…ä½¿ç”¨è¿‡æ—¶æ•°æ®ã€‚*\n\n### 5.8 åŠ¨æ€è®¾ç½®è¯·æ±‚å¤´\n\næ ¹æ®åœºæ™¯åŠ¨æ€è®¾ç½®è¯·æ±‚å¤´ï¼Œæå‡çµæ´»æ€§ï¼š\n\n```javascript\nxhr.setRequestHeader('Authorization', `Bearer ${getToken()}`);\n```\n\n*Tips: ç¡®ä¿ token æœªè¿‡æœŸï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ 401 é”™è¯¯ã€‚*\n\n### 5.9 ç›‘æŽ§è¯·æ±‚æ€§èƒ½\n\nè®°å½•è¯·æ±‚è€—æ—¶ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼š\n\n```javascript\nconst start = performance.now();\nxhr.onload = () => {\n  const duration = performance.now() - start;\n  console.log(`Request took ${duration}ms`);\n};\n```\n\n*Tips: ä½¿ç”¨æ€§èƒ½ç›‘æŽ§å·¥å…·ï¼ˆå¦‚ Lighthouseï¼‰åˆ†æžè¯·æ±‚ç“¶é¢ˆã€‚*\n\n### 5.10 ç¼–å†™å¯æµ‹è¯•çš„ä»£ç \n\nå°† XHR é€»è¾‘æŠ½ç¦»ä¸ºç‹¬ç«‹å‡½æ•°ï¼Œä¾¿äºŽå•å…ƒæµ‹è¯•ï¼š\n\n```javascript\nfunction fetchData(url) {\n  return xhrPromise('GET', url);\n}\n// æµ‹è¯•\nfetchData('https://api.example.com/data').then(data => console.log(data));\n```\n\n*Tips: ä½¿ç”¨ Jest æˆ– Mocha æ¨¡æ‹Ÿ XHR å“åº”ï¼Œç¡®ä¿æµ‹è¯•è¦†ç›–çŽ‡ã€‚*\n\n## 6. ä¸Ž Fetch API çš„å¯¹æ¯”ï¼šè€å°†ä¸Žæ–°æ˜Ÿçš„å·…å³°å¯¹å†³\n\nFetch API æ˜¯ XHR çš„â€œæŽ¥ç­äººâ€ï¼Œä½†ä¸¤è€…å„æœ‰åƒç§‹ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†å¯¹æ¯”ï¼š\n\n| ç‰¹æ€§ | XHR | Fetch API |\n|------|-----|-----------|\n| **è¯­æ³•** | è¾ƒä¸ºç¹çï¼Œäº‹ä»¶é©±åŠ¨ | åŸºäºŽ Promiseï¼Œç®€æ´çŽ°ä»£ |\n| **é”™è¯¯å¤„ç†** | éœ€æ‰‹åŠ¨æ£€æŸ¥çŠ¶æ€ç  | é»˜è®¤ä¸æŠ› HTTP é”™è¯¯ï¼Œéœ€æ˜¾å¼å¤„ç† |\n| **å–æ¶ˆè¯·æ±‚** | æ”¯æŒ `abort()` | éœ€ä½¿ç”¨ `AbortController` |\n| **äºŒè¿›åˆ¶æ”¯æŒ** | é€šè¿‡ `responseType` | åŽŸç”Ÿæ”¯æŒ `Blob`ã€`ArrayBuffer` |\n| **æµè§ˆå™¨å…¼å®¹æ€§** | å‡ ä¹Žå…¨å…¼å®¹ | çŽ°ä»£æµè§ˆå™¨æ”¯æŒ |\n| **è¿›åº¦ç›‘å¬** | æ”¯æŒ `onprogress` | ä¸æ”¯æŒï¼ˆéœ€ç”¨ ReadableStreamï¼‰ |\n\nFetch API çš„ä»£ç ç¤ºä¾‹ï¼š\n\n```javascript\nfetch('https://api.example.com/data')\n  .then(response => {\n    if (!response.ok) throw new Error('Network response was not ok');\n    return response.json();\n  })\n  .then(data => console.log(data))\n  .catch(error => console.error(error));\n```\n\n*Tips: åœ¨éœ€è¦è¿›åº¦ç›‘å¬æˆ–å…¼å®¹æ—§æµè§ˆå™¨çš„åœºæ™¯ï¼ŒXHR ä»æ˜¯ä¸äºŒä¹‹é€‰ã€‚*\n\n## 7. å“²å­¦æ€è€ƒï¼šä»Ž XHR åˆ°äººç”Ÿçš„å¼‚æ­¥è‰ºæœ¯\n\nXHR çš„å¼‚æ­¥æœ¬è´¨å¯å‘æˆ‘ä»¬æ€è€ƒï¼š**äººç”Ÿä½•å°ä¸æ˜¯ä¸€åœºå¼‚æ­¥è¯·æ±‚ï¼Ÿ** æˆ‘ä»¬å‘å‡ºæ„¿æœ›ï¼ˆè¯·æ±‚ï¼‰ï¼Œç­‰å¾…å‘½è¿çš„å“åº”ï¼ˆå›žè°ƒï¼‰ï¼Œæœ‰æ—¶æˆåŠŸï¼Œæœ‰æ—¶è¶…æ—¶ï¼Œç”šè‡³é­é‡ç½‘ç»œé”™è¯¯ã€‚ä½†æ— è®ºç»“æžœå¦‚ä½•ï¼Œæˆ‘ä»¬éƒ½åœ¨ç›‘å¬ã€åœ¨è°ƒæ•´ã€åœ¨é‡è¯•ã€‚\n\n> â€œç”Ÿæ´»æ˜¯ä¸€åœºæ²¡æœ‰ `onload` ä¿è¯çš„ XHR è¯·æ±‚ï¼Œå­¦ä¼šå¤„ç† `onerror` æ‰æ˜¯çœŸæ­£çš„æ™ºæ…§ã€‚â€ â€”â€” æ™“é¾™\n\nXHR æ•™ä¼šæˆ‘ä»¬è€å¿ƒï¼ˆç­‰å¾…å“åº”ï¼‰ã€çµæ´»ï¼ˆå¤„ç†é”™è¯¯ï¼‰å’Œä¼˜åŒ–ï¼ˆç¼“å­˜ä¸Žé‡è¯•ï¼‰ã€‚åœ¨ä»£ç çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬è¿½æ±‚ä¼˜é›…ä¸Žé«˜æ•ˆï¼›åœ¨äººç”Ÿçš„å®‡å®™ä¸­ï¼Œæˆ‘ä»¬è¿½å¯»æ„ä¹‰ä¸Žå¹³è¡¡ã€‚\n\n## 8. æœªæ¥å±•æœ›ï¼šXHR çš„æ°¸æ’æ˜Ÿå…‰\n\nå°½ç®¡ Fetch API å’Œ WebSocket ç­‰æ–°æŠ€æœ¯å±‚å‡ºä¸ç©·ï¼ŒXHR ä¾ç„¶åœ¨è®¸å¤šåœºæ™¯ä¸­å æ®ä¸€å¸­ä¹‹åœ°ã€‚å®ƒçš„å…¼å®¹æ€§ã€çµæ´»æ€§å’Œå¯¹å¤æ‚åœºæ™¯çš„æ”¯æŒï¼Œè®©å®ƒæˆä¸ºå‰ç«¯å¼€å‘è€…çš„â€œè€æœ‹å‹â€ã€‚æœªæ¥ï¼Œéšç€ Web æ ‡å‡†çš„æ¼”è¿›ï¼ŒXHR å¯èƒ½ä¼šé€æ¸æ·¡å‡ºèˆžå°ï¼Œä½†å®ƒçš„ç²¾ç¥žâ€”â€”å¼‚æ­¥ã€äº‹ä»¶é©±åŠ¨ã€ç”¨æˆ·è‡³ä¸Šâ€”â€”å°†æ°¸è¿œé—ªè€€ã€‚\n\n> â€œæŠ€æœ¯çš„æ˜Ÿç©ºä»Žä¸å¯‚å¯žï¼ŒXHR æ˜¯é‚£é¢—æ°¸ä¸é™¨è½çš„æ˜Ÿã€‚â€ â€”â€” æ™“é¾™\n\n## ç»“è¯­ï¼šç‚¹äº®ä½ çš„ç½‘ç»œä¹‹é­‚\n\né€šè¿‡è¿™ç¯‡è¿‘ä¸¤ä¸‡å­—çš„å‰–æžï¼Œæˆ‘ä»¬ä»Ž XHR çš„åŽ†å²èµ·æºåˆ°æ ¸å¿ƒåŽŸç†ï¼Œä»ŽåŸºç¡€ç”¨æ³•åˆ°é«˜çº§æŠ€å·§ï¼Œå…¨é¢æŽ¢ç´¢äº†å®ƒçš„æ¯ä¸€é¢ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸ä»…è®©ä½ æŽŒæ¡äº† XHR çš„æŠ€æœ¯ç»†èŠ‚ï¼Œè¿˜ç‚¹ç‡ƒäº†ä½ å¯¹ç½‘ç»œç¼–ç¨‹çš„çƒ­æƒ…ã€‚ðŸŒŒ\n\næ— è®ºä½ æ˜¯åˆå­¦è€…è¿˜æ˜¯èµ„æ·±å¼€å‘è€…ï¼ŒXHR éƒ½å€¼å¾—ä½ æ·±å…¥ç ”ç©¶ã€‚å®ƒçš„æ¯ä¸€è¡Œä»£ç ã€æ¯ä¸€ä¸ªäº‹ä»¶ï¼Œéƒ½æ˜¯å‰ç«¯å¼€å‘è€…çš„è¯—ç¯‡ã€‚æ„¿ä½ åœ¨ä»£ç çš„å®‡å®™ä¸­ï¼Œä¹˜ç€ XHR çš„é£žèˆ¹ï¼ŒæŽ¢ç´¢æ›´è¿œçš„æ˜Ÿè¾°å¤§æµ·ï¼\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},s=(n,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return n};var x=(n,e,r)=>(r=n!=null?p(F(n)):{},s(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),m=n=>s(c({},\"__esModule\",{value:!0}),n);var i=u((X,t)=>{t.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>f});var l=x(i()),f={type:\"Post\",title:\"\\u89E3\\u9501\\u7F51\\u7EDC\\u4E4B\\u9B42\\uFF1AJavaScript XHR (XMLHttpRequest) \\u5168\\u9762\\u5256\\u6790\",date:\"2022-03-06\",description:\"\\u6DF1\\u5165\\u63A2\\u7D22 JavaScript XHR \\u7684\\u6838\\u5FC3\\u539F\\u7406\\u3001\\u5B9E\\u7528\\u6280\\u5DE7\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u9886\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u4ECE\\u57FA\\u7840\\u5230\\u8FDB\\u9636\\uFF0C\\u89E3\\u9501\\u5F02\\u6B65\\u7F51\\u7EDC\\u8BF7\\u6C42\\u7684\\u5965\\u79D8\\u3002\",keywords:\"JavaScript, XHR, XMLHttpRequest, AJAX, \\u5F02\\u6B65\\u8BF7\\u6C42, \\u524D\\u7AEF\\u5F00\\u53D1, \\u7F51\\u7EDC\\u7F16\\u7A0B, HTTP, Fetch API\",author:\"\\u6653\\u9F99\",image:\"/images/hero/xhr-analysis.jpg\",tags:[\"JavaScript\",\"Web \\u5F00\\u53D1\",\"AJAX\",\"\\u7F51\\u7EDC\\u8BF7\\u6C42\"],category:\"JavaScript\"};function o(n){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.blockquote,{children:[`\n`,(0,l.jsx)(e.p,{children:\"\\u201C\\u5728\\u4EE3\\u7801\\u7684\\u5B87\\u5B99\\u4E2D\\uFF0C\\u6BCF\\u4E00\\u6B21\\u7F51\\u7EDC\\u8BF7\\u6C42\\u90FD\\u662F\\u4E00\\u573A\\u661F\\u9645\\u65C5\\u884C\\uFF0CXHR \\u662F\\u90A3\\u8258\\u627F\\u8F7D\\u6211\\u4EEC\\u68A6\\u60F3\\u7684\\u98DE\\u8239\\u3002\\u201D\"}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7F51\\u7EDC\\u8BF7\\u6C42\\u662F\\u73B0\\u4EE3 Web \\u5F00\\u53D1\\u7684\\u547D\\u8109\\uFF0C\\u800C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"XMLHttpRequest\"})})})}),\"\\uFF08\\u4EE5\\u4E0B\\u7B80\\u79F0 XHR\\uFF09\\u4F5C\\u4E3A AJAX \\u7684\\u5960\\u57FA\\u77F3\\uFF0C\\u65E9\\u5DF2\\u6210\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7ED5\\u4E0D\\u5F00\\u7684\\u7ECF\\u5178\\u8BDD\\u9898\\u3002\\u5C3D\\u7BA1\\u5982\\u4ECA \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Fetch API\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u5927\\u884C\\u5176\\u9053\\uFF0CXHR \\u4F9D\\u7136\\u5728\\u8BB8\\u591A\\u573A\\u666F\\u4E2D\\u9ED8\\u9ED8\\u53D1\\u5149\\uFF0C\\u5B9B\\u5982\\u4E00\\u4F4D\\u9690\\u5C45\\u7684\\u6B66\\u6797\\u9AD8\\u624B\\uFF0C\\u5185\\u529B\\u6DF1\\u539A\\uFF0C\\u62DB\\u5F0F\\u7ECF\\u5178\\u3002\\u{1F31F}\"]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165 XHR \\u7684\\u4E16\\u754C\\uFF0C\\u4ECE\\u5B83\\u7684\\u5386\\u53F2\\u8D77\\u6E90\\u5230\\u6838\\u5FC3\\u539F\\u7406\\uFF0C\\u4ECE\\u57FA\\u672C\\u7528\\u6CD5\\u5230\\u9AD8\\u7EA7\\u6280\\u5DE7\\uFF0C\\u4ECE\\u6700\\u4F73\\u5B9E\\u8DF5\\u5230\\u54F2\\u5B66\\u601D\\u8003\\u3002\\u6211\\u4EEC\\u4E0D\\u4EC5\\u4F1A\\u5256\\u6790 XHR \\u7684\\u6BCF\\u4E00\\u5BF8\\u201C\\u808C\\u8089\\u201D\\uFF0C\\u8FD8\\u4F1A\\u7ED3\\u5408\\u5B9E\\u9645\\u6848\\u4F8B\\u3001\\u7C7B\\u6BD4\\u548C\\u5E7D\\u9ED8\\uFF0C\\u8BA9\\u4F60\\u8BFB\\u8D77\\u6765\\u65E2\\u50CF\\u5728\\u5543\\u4E00\\u672C\\u6280\\u672F\\u5B9D\\u5178\\uFF0C\\u53C8\\u50CF\\u5728\\u54C1\\u4E00\\u676F\\u9999\\u9187\\u7684\\u5496\\u5561\\u3002\\u2615 \\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u89E3\\u9501\\u7F51\\u7EDC\\u4E4B\\u9B42\\uFF01\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u601D\\u7EF4\\u5BFC\\u56FE\\u6587\\u7AE0\\u7684\\u661F\\u9645\\u822A\\u7EBF\",children:(0,l.jsx)(e.a,{href:\"#\\u601D\\u7EF4\\u5BFC\\u56FE\\u6587\\u7AE0\\u7684\\u661F\\u9645\\u822A\\u7EBF\",children:\"\\u601D\\u7EF4\\u5BFC\\u56FE\\uFF1A\\u6587\\u7AE0\\u7684\\u661F\\u9645\\u822A\\u7EBF\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u6D69\\u701A\\u7684 XHR \\u5B87\\u5B99\\u4E2D\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u4E00\\u5F20\\u661F\\u56FE\\u6765\\u6307\\u5F15\\u65B9\\u5411\\u3002\\u4EE5\\u4E0B\\u662F\\u672C\\u6587\\u7684\\u7ED3\\u6784\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8D77\\u6E90\\u4E0E\\u5386\\u53F2\"}),\"\\uFF1AXHR \\u7684\\u8BDE\\u751F\\u4E0E AJAX \\u7684\\u9769\\u547D\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6838\\u5FC3\\u539F\\u7406\"}),\"\\uFF1A\\u4ECE HTTP \\u5230\\u4E8B\\u4EF6\\u9A71\\u52A8\\uFF0C\\u89E3\\u5BC6 XHR \\u7684\\u8FD0\\u884C\\u673A\\u5236\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u57FA\\u7840\\u7528\\u6CD5\"}),\"\\uFF1A\\u4ECE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"new XMLHttpRequest()\"})})})}),\" \\u5230\\u53D1\\u9001\\u7B2C\\u4E00\\u4E2A\\u8BF7\\u6C42\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8FDB\\u9636\\u6280\\u5DE7\"}),\"\\uFF1A\\u5904\\u7406\\u590D\\u6742\\u573A\\u666F\\uFF0C\\u89E3\\u9501 XHR \\u7684\\u9AD8\\u7EA7\\u73A9\\u6CD5\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A10 \\u6761\\u5B9E\\u7528\\u5EFA\\u8BAE\\uFF0C\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u5982\\u8BD7\\u822C\\u4F18\\u96C5\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4E0E Fetch API \\u7684\\u5BF9\\u6BD4\"}),\"\\uFF1A\\u8001\\u5C06\\u4E0E\\u65B0\\u661F\\u7684\\u5DC5\\u5CF0\\u5BF9\\u51B3\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u54F2\\u5B66\\u601D\\u8003\"}),\"\\uFF1A\\u4ECE XHR \\u5230\\u4EBA\\u751F\\uFF0C\\u5F02\\u6B65\\u7684\\u827A\\u672F\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u672A\\u6765\\u5C55\\u671B\"}),\"\\uFF1AXHR \\u5728\\u73B0\\u4EE3 Web \\u4E2D\\u7684\\u4F4D\\u7F6E\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6BCF\\u4E00\\u6BB5\\u90FD\\u5C06\\u914D\\u4EE5\\u4EE3\\u7801\\u793A\\u4F8B\\u3001\\u7C7B\\u6BD4\\u3001\\u8868\\u683C\\u548C\\u5E7D\\u9ED8\\u7684\\u70B9\\u7F00\\uFF0C\\u786E\\u4FDD\\u5185\\u5BB9\\u65E2\\u6709\\u6DF1\\u5EA6\\u53C8\\u6709\\u6E29\\u5EA6\\u3002\\u{1F680}\"}),`\n`,(0,l.jsx)(e.h2,{id:\"1-\\u8D77\\u6E90\\u4E0E\\u5386\\u53F2xhr-\\u7684\\u661F\\u9645\\u542F\\u822A\",children:(0,l.jsx)(e.a,{href:\"#1-\\u8D77\\u6E90\\u4E0E\\u5386\\u53F2xhr-\\u7684\\u661F\\u9645\\u542F\\u822A\",children:\"1. \\u8D77\\u6E90\\u4E0E\\u5386\\u53F2\\uFF1AXHR \\u7684\\u661F\\u9645\\u542F\\u822A\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"XHR \\u7684\\u6545\\u4E8B\\u59CB\\u4E8E\\u4E0A\\u4E16\\u7EAA\\u672B\\u7684\\u6D4F\\u89C8\\u5668\\u6218\\u4E89\\u3002\\u90A3\\u65F6\\uFF0CWeb \\u8FD8\\u662F\\u4E2A\\u9752\\u6DA9\\u7684\\u5C11\\u5E74\\uFF0C\\u9875\\u9762\\u5237\\u65B0\\u662F\\u5BB6\\u5E38\\u4FBF\\u996D\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u5B9B\\u5982\\u5728\\u62E8\\u53F7\\u4E0A\\u7F51\\u7684\\u5E74\\u4EE3\\u91CC\\u82E6\\u7B49\\u30021998 \\u5E74\\uFF0C\\u5FAE\\u8F6F\\u5728 Internet Explorer 4 \\u4E2D\\u9996\\u6B21\\u5F15\\u5165\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"XMLHTTP\"})})})}),\" ActiveX \\u63A7\\u4EF6\\uFF0C\\u5141\\u8BB8\\u5F00\\u53D1\\u8005\\u5728\\u4E0D\\u5237\\u65B0\\u9875\\u9762\\u7684\\u60C5\\u51B5\\u4E0B\\u4E0E\\u670D\\u52A1\\u5668\\u901A\\u4FE1\\u3002\\u8FD9\\u5C31\\u50CF\\u5728\\u84B8\\u6C7D\\u65F6\\u4EE3\\u53D1\\u660E\\u4E86\\u7B2C\\u4E00\\u53F0\\u98DE\\u8239\\u5F15\\u64CE\\uFF0C\\u5C3D\\u7BA1\\u7B80\\u964B\\uFF0C\\u5374\\u5F00\\u542F\\u4E86\\u5F02\\u6B65\\u8BF7\\u6C42\\u7684\\u661F\\u9645\\u822A\\u7A0B\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"2005 \\u5E74\\uFF0CJesse James Garrett \\u63D0\\u51FA\\u4E86 \",(0,l.jsx)(e.strong,{children:\"AJAX\"}),\"\\uFF08Asynchronous JavaScript and XML\\uFF09\\u7684\\u6982\\u5FF5\\uFF0CXHR \\u4F5C\\u4E3A\\u5176\\u6838\\u5FC3\\u6280\\u672F\\u8FC5\\u901F\\u8D70\\u7EA2\\u3002Google Maps \\u548C Gmail \\u7684\\u6210\\u529F\\u8BA9 AJAX \\u6210\\u4E3A Web 2.0 \\u7684\\u4EE3\\u540D\\u8BCD\\uFF0CXHR \\u4E5F\\u4ECE\\u5E55\\u540E\\u82F1\\u96C4\\u664B\\u5347\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u201C\\u94F6\\u6CB3\\u7CFB\\u652F\\u67F1\\u201D\\u3002\"]}),`\n`,(0,l.jsxs)(e.blockquote,{children:[`\n`,(0,l.jsx)(e.p,{children:\"\\u201C\\u6280\\u672F\\u7684\\u53D1\\u5C55\\u5982\\u540C\\u661F\\u8FB0\\u7684\\u8F68\\u8FF9\\uFF0CXHR \\u662F\\u90A3\\u9897\\u70B9\\u4EAE AJAX \\u591C\\u7A7A\\u7684\\u6052\\u661F\\u3002\\u201D \\u2014\\u2014 \\u6653\\u9F99\"}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5386\\u53F2\\u65F6\\u95F4\\u8F74\",children:(0,l.jsx)(e.a,{href:\"#\\u5386\\u53F2\\u65F6\\u95F4\\u8F74\",children:\"\\u5386\\u53F2\\u65F6\\u95F4\\u8F74\"})}),`\n`,(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:\"\\u5E74\\u4EFD\"}),(0,l.jsx)(e.th,{children:\"\\u4E8B\\u4EF6\"}),(0,l.jsx)(e.th,{children:\"\\u5F71\\u54CD\"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"1998\"}),(0,l.jsxs)(e.td,{children:[\"\\u5FAE\\u8F6F\\u63A8\\u51FA \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"XMLHTTP\"})})})}),\" ActiveX \\u63A7\\u4EF6\"]}),(0,l.jsx)(e.td,{children:\"\\u5F02\\u6B65\\u8BF7\\u6C42\\u7684\\u96CF\\u5F62\\u8BDE\\u751F\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"2004\"}),(0,l.jsx)(e.td,{children:\"Gmail \\u548C Google Maps \\u4F7F\\u7528 AJAX\"}),(0,l.jsx)(e.td,{children:\"AJAX \\u5E2D\\u5377\\u524D\\u7AEF\\u5F00\\u53D1\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"2005\"}),(0,l.jsx)(e.td,{children:\"AJAX \\u6982\\u5FF5\\u6B63\\u5F0F\\u63D0\\u51FA\"}),(0,l.jsx)(e.td,{children:\"XHR \\u6210\\u4E3A\\u4E3B\\u6D41\\u6280\\u672F\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"2014\"}),(0,l.jsx)(e.td,{children:\"Fetch API \\u8349\\u6848\\u53D1\\u5E03\"}),(0,l.jsx)(e.td,{children:\"XHR \\u9762\\u4E34\\u65B0\\u6311\\u6218\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"2025\"}),(0,l.jsx)(e.td,{children:\"XHR \\u4F9D\\u7136\\u6D3B\\u8DC3\"}),(0,l.jsx)(e.td,{children:\"\\u7ECF\\u5178\\u6C38\\u4E0D\\u8FC7\\u65F6\"})]})]})]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: XHR \\u7684\\u5386\\u53F2\\u63D0\\u9192\\u6211\\u4EEC\\uFF0C\\u6280\\u672F\\u7684\\u4EF7\\u503C\\u4E0D\\u5728\\u4E8E\\u65B0\\u65E7\\uFF0C\\u800C\\u5728\\u4E8E\\u662F\\u5426\\u89E3\\u51B3\\u4E86\\u6838\\u5FC3\\u95EE\\u9898\\u3002\"})}),`\n`,(0,l.jsx)(e.h2,{id:\"2-\\u6838\\u5FC3\\u539F\\u7406\\u89E3\\u5BC6-xhr-\\u7684\\u8FD0\\u884C\\u673A\\u5236\",children:(0,l.jsx)(e.a,{href:\"#2-\\u6838\\u5FC3\\u539F\\u7406\\u89E3\\u5BC6-xhr-\\u7684\\u8FD0\\u884C\\u673A\\u5236\",children:\"2. \\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u89E3\\u5BC6 XHR \\u7684\\u8FD0\\u884C\\u673A\\u5236\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8981\\u771F\\u6B63\\u638C\\u63E1 XHR\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u6380\\u5F00\\u5B83\\u7684\\u5F15\\u64CE\\u76D6\\uFF0C\\u7814\\u7A76\\u5176\\u5185\\u5728\\u7684\\u201C\\u673A\\u68B0\\u7ED3\\u6784\\u201D\\u3002XHR \\u7684\\u672C\\u8D28\\u662F\\u4E00\\u4E2A \",(0,l.jsx)(e.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u5185\\u7F6E\\u7684 JavaScript \\u5BF9\\u8C61\"}),\"\\uFF0C\\u7528\\u4E8E\\u4E0E\\u670D\\u52A1\\u5668\\u8FDB\\u884C HTTP \\u901A\\u4FE1\\u3002\\u5B83\\u7684\\u8FD0\\u884C\\u673A\\u5236\\u53EF\\u4EE5\\u7C7B\\u6BD4\\u4E3A\\u4E00\\u53F0\\u8001\\u5F0F\\u7535\\u62A5\\u673A\\uFF1A\\u4F60\\u53D1\\u9001\\u4FE1\\u53F7\\uFF08\\u8BF7\\u6C42\\uFF09\\uFF0C\\u7B49\\u5F85\\u5BF9\\u65B9\\u56DE\\u5E94\\uFF08\\u54CD\\u5E94\\uFF09\\uFF0C\\u4E2D\\u95F4\\u901A\\u8FC7\\u4E8B\\u4EF6\\u76D1\\u542C\\u6765\\u6355\\u6349\\u72B6\\u6001\\u53D8\\u5316\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"21-xhr-\\u7684\\u751F\\u547D\\u5468\\u671F\",children:(0,l.jsx)(e.a,{href:\"#21-xhr-\\u7684\\u751F\\u547D\\u5468\\u671F\",children:\"2.1 XHR \\u7684\\u751F\\u547D\\u5468\\u671F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"XHR \\u7684\\u8BF7\\u6C42\\u8FC7\\u7A0B\\u5206\\u4E3A\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u9636\\u6BB5\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u521B\\u5EFA\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"new XMLHttpRequest()\"})})})}),\"\\uFF0C\\u76F8\\u5F53\\u4E8E\\u9020\\u4E00\\u8258\\u98DE\\u8239\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u914D\\u7F6E\"}),\"\\uFF1A\\u8BBE\\u7F6E\\u8BF7\\u6C42\\u65B9\\u6CD5\\u3001URL\\u3001\\u5934\\u4FE1\\u606F\\u7B49\\uFF0C\\u5C31\\u50CF\\u8BBE\\u5B9A\\u822A\\u7EBF\\u548C\\u71C3\\u6599\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u53D1\\u9001\"}),\"\\uFF1A\\u8C03\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"send()\"})})})}),\"\\uFF0C\\u98DE\\u8239\\u53D1\\u5C04\\uFF01\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u76D1\\u542C\"}),\"\\uFF1A\\u901A\\u8FC7\\u4E8B\\u4EF6\\uFF08\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onreadystatechange\"})})})}),\"\\uFF09\\u76D1\\u542C\\u72B6\\u6001\\u53D8\\u5316\\uFF0C\\u7C7B\\u4F3C\\u63A5\\u6536\\u6765\\u81EA\\u661F\\u9645\\u7684\\u4FE1\\u53F7\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5904\\u7406\"}),\"\\uFF1A\\u83B7\\u53D6\\u54CD\\u5E94\\u6570\\u636E\\uFF0C\\u89E3\\u6790\\u7ED3\\u679C\\uFF0C\\u5B8C\\u6210\\u4F7F\\u547D\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"22-\\u72B6\\u6001\\u7801\\u4E0E-readystate\",children:(0,l.jsxs)(e.a,{href:\"#22-\\u72B6\\u6001\\u7801\\u4E0E-readystate\",children:[\"2.2 \\u72B6\\u6001\\u7801\\u4E0E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"readyState\"})})})})]})}),`\n`,(0,l.jsxs)(e.p,{children:[\"XHR \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"readyState\"})})})}),\" \\u5C5E\\u6027\\u8BB0\\u5F55\\u4E86\\u8BF7\\u6C42\\u7684\\u5F53\\u524D\\u72B6\\u6001\\uFF0C\\u8303\\u56F4\\u4ECE 0 \\u5230 4\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:\"readyState\"}),(0,l.jsx)(e.th,{children:\"\\u72B6\\u6001\"}),(0,l.jsx)(e.th,{children:\"\\u63CF\\u8FF0\"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"0\"}),(0,l.jsx)(e.td,{children:\"UNSENT\"}),(0,l.jsx)(e.td,{children:\"\\u8BF7\\u6C42\\u672A\\u521D\\u59CB\\u5316\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"1\"}),(0,l.jsx)(e.td,{children:\"OPENED\"}),(0,l.jsxs)(e.td,{children:[\"\\u5DF2\\u8C03\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"open()\"})})})}),\"\\uFF0C\\u8FDE\\u63A5\\u5EFA\\u7ACB\"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"2\"}),(0,l.jsx)(e.td,{children:\"HEADERS_RECEIVED\"}),(0,l.jsx)(e.td,{children:\"\\u63A5\\u6536\\u5230\\u54CD\\u5E94\\u5934\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"3\"}),(0,l.jsx)(e.td,{children:\"LOADING\"}),(0,l.jsx)(e.td,{children:\"\\u63A5\\u6536\\u54CD\\u5E94\\u4F53\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:\"4\"}),(0,l.jsx)(e.td,{children:\"DONE\"}),(0,l.jsx)(e.td,{children:\"\\u8BF7\\u6C42\\u5B8C\\u6210\"})]})]})]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.em,{children:[\"Tips: \\u65F6\\u523B\\u68C0\\u67E5 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"readyState === 4\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"status === 200\"})})})}),\" \\u662F\\u786E\\u4FDD\\u8BF7\\u6C42\\u6210\\u529F\\u7684\\u57FA\\u7840\\u3002\"]})}),`\n`,(0,l.jsx)(e.h3,{id:\"23-\\u4E8B\\u4EF6\\u9A71\\u52A8\\u7684\\u7075\\u9B42\",children:(0,l.jsx)(e.a,{href:\"#23-\\u4E8B\\u4EF6\\u9A71\\u52A8\\u7684\\u7075\\u9B42\",children:\"2.3 \\u4E8B\\u4EF6\\u9A71\\u52A8\\u7684\\u7075\\u9B42\"})}),`\n`,(0,l.jsx)(e.p,{children:\"XHR \\u662F\\u4E00\\u4E2A\\u4E8B\\u4EF6\\u9A71\\u52A8\\u7684\\u6A21\\u578B\\uFF0C\\u6838\\u5FC3\\u4E8B\\u4EF6\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onreadystatechange\"})})})}),\"\\uFF1A\\u72B6\\u6001\\u53D8\\u5316\\u65F6\\u89E6\\u53D1\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onload\"})})})}),\"\\uFF1A\\u8BF7\\u6C42\\u6210\\u529F\\u5B8C\\u6210\\u65F6\\u89E6\\u53D1\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onerror\"})})})}),\"\\uFF1A\\u8BF7\\u6C42\\u5931\\u8D25\\u65F6\\u89E6\\u53D1\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ontimeout\"})})})}),\"\\uFF1A\\u8BF7\\u6C42\\u8D85\\u65F6\\u65F6\\u89E6\\u53D1\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7C7B\\u6BD4\\u6765\\u8BF4\\uFF0CXHR \\u5C31\\u50CF\\u4E00\\u4E2A\\u7ECF\\u9A8C\\u4E30\\u5BCC\\u7684\\u90AE\\u5DEE\\uFF1A\\u4ED6\\u4E0D\\u4EC5\\u4F1A\\u9001\\u4FE1\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"send\"})})})}),\"\\uFF09\\uFF0C\\u8FD8\\u4F1A\\u544A\\u8BC9\\u4F60\\u4FE1\\u662F\\u5426\\u9001\\u8FBE\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onload\"})})})}),\"\\uFF09\\uFF0C\\u751A\\u81F3\\u5728\\u9001\\u4FE1\\u9014\\u4E2D\\u9047\\u5230\\u9EBB\\u70E6\\u65F6\\u901A\\u77E5\\u4F60\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onerror\"})})})}),\"\\uFF09\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"3-\\u57FA\\u7840\\u7528\\u6CD5\\u4ECE\\u96F6\\u5F00\\u59CB\\u7684-xhr-\\u5192\\u9669\",children:(0,l.jsx)(e.a,{href:\"#3-\\u57FA\\u7840\\u7528\\u6CD5\\u4ECE\\u96F6\\u5F00\\u59CB\\u7684-xhr-\\u5192\\u9669\",children:\"3. \\u57FA\\u7840\\u7528\\u6CD5\\uFF1A\\u4ECE\\u96F6\\u5F00\\u59CB\\u7684 XHR \\u5192\\u9669\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8BA9\\u6211\\u4EEC\\u4ECE\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 GET \\u8BF7\\u6C42\\u5F00\\u59CB\\uFF0C\\u611F\\u53D7 XHR \\u7684\\u9B45\\u529B\\u3002\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// true \\u8868\\u793A\\u5F02\\u6B65\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onreadystatechange\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.readyState \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.responseText));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u6BB5\\u4EE3\\u7801\\u5C31\\u50CF\\u70B9\\u71C3\\u4E86\\u4E00\\u679A\\u4FE1\\u53F7\\u5F39\\uFF1A\\u5B83\\u5411\\u670D\\u52A1\\u5668\\u53D1\\u9001\\u8BF7\\u6C42\\uFF0C\\u7B49\\u5F85\\u54CD\\u5E94\\uFF0C\\u5E76\\u5728\\u6210\\u529F\\u65F6\\u89E3\\u6790 JSON \\u6570\\u636E\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"31-\\u53D1\\u9001-post-\\u8BF7\\u6C42\",children:(0,l.jsx)(e.a,{href:\"#31-\\u53D1\\u9001-post-\\u8BF7\\u6C42\",children:\"3.1 \\u53D1\\u9001 POST \\u8BF7\\u6C42\"})}),`\n`,(0,l.jsx)(e.p,{children:\"POST \\u8BF7\\u6C42\\u7A0D\\u5FAE\\u590D\\u6742\\u4E00\\u4E9B\\uFF0C\\u9700\\u8981\\u8BBE\\u7F6E\\u8BF7\\u6C42\\u5934\\u548C\\u53D1\\u9001\\u6570\\u636E\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'POST'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/submit'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setRequestHeader\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Content-Type'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'application/json'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onreadystatechange\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.readyState \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Success:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.responseText));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Error:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", xhr.statusText);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6653\\u9F99'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", role: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5F00\\u53D1\\u8005'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data);\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.em,{children:[\"Tips: \\u603B\\u662F\\u663E\\u5F0F\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Content-Type\"})})})}),\"\\uFF0C\\u4EE5\\u786E\\u4FDD\\u670D\\u52A1\\u5668\\u6B63\\u786E\\u89E3\\u6790\\u4F60\\u7684\\u8BF7\\u6C42\\u4F53\\u3002\"]})}),`\n`,(0,l.jsx)(e.h3,{id:\"32-\\u5904\\u7406\\u9519\\u8BEF\",children:(0,l.jsx)(e.a,{href:\"#32-\\u5904\\u7406\\u9519\\u8BEF\",children:\"3.2 \\u5904\\u7406\\u9519\\u8BEF\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u662F XHR \\u7684\\u5FC5\\u4FEE\\u8BFE\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u66F4\\u5065\\u58EE\\u7684\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.timeout \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8BBE\\u7F6E 5 \\u79D2\\u8D85\\u65F6\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 300\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.responseText));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Request failed with status:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", xhr.status);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Network error occurred'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ontimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Request timed out'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onload\"})})})}),\" \\u800C\\u4E0D\\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onreadystatechange\"})})})}),\" \\u53EF\\u4EE5\\u7B80\\u5316\\u6210\\u529F\\u72B6\\u6001\\u7684\\u5904\\u7406\\u903B\\u8F91\\u3002\"]})}),`\n`,(0,l.jsx)(e.h2,{id:\"4-\\u8FDB\\u9636\\u6280\\u5DE7\\u89E3\\u9501-xhr-\\u7684\\u9AD8\\u7EA7\\u73A9\\u6CD5\",children:(0,l.jsx)(e.a,{href:\"#4-\\u8FDB\\u9636\\u6280\\u5DE7\\u89E3\\u9501-xhr-\\u7684\\u9AD8\\u7EA7\\u73A9\\u6CD5\",children:\"4. \\u8FDB\\u9636\\u6280\\u5DE7\\uFF1A\\u89E3\\u9501 XHR \\u7684\\u9AD8\\u7EA7\\u73A9\\u6CD5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u57FA\\u7840\\u7528\\u6CD5\\u53EA\\u662F XHR \\u7684\\u51B0\\u5C71\\u4E00\\u89D2\\u3002\\u8BA9\\u6211\\u4EEC\\u63A2\\u7D22\\u4E00\\u4E9B\\u9AD8\\u7EA7\\u6280\\u5DE7\\uFF0C\\u8BA9\\u4F60\\u7684\\u8BF7\\u6C42\\u5982\\u884C\\u4E91\\u6D41\\u6C34\\u822C\\u987A\\u7545\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"41-\\u5904\\u7406\\u4E8C\\u8FDB\\u5236\\u6570\\u636E\",children:(0,l.jsx)(e.a,{href:\"#41-\\u5904\\u7406\\u4E8C\\u8FDB\\u5236\\u6570\\u636E\",children:\"4.1 \\u5904\\u7406\\u4E8C\\u8FDB\\u5236\\u6570\\u636E\"})}),`\n`,(0,l.jsx)(e.p,{children:\"XHR \\u53EF\\u4EE5\\u5904\\u7406\\u56FE\\u7247\\u3001\\u6587\\u4EF6\\u7B49\\u4E8C\\u8FDB\\u5236\\u6570\\u636E\\u3002\\u4F8B\\u5982\\uFF0C\\u4E0B\\u8F7D\\u4E00\\u5F20\\u56FE\\u7247\\u5E76\\u663E\\u793A\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://example.com/image.jpg'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.responseType \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'blob'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8BBE\\u7F6E\\u54CD\\u5E94\\u7C7B\\u578B\\u4E3A\\u4E8C\\u8FDB\\u5236\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" img\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'img'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    img.src \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" URL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectURL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.response);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    document.body.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(img);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.em,{children:[\"Tips: \\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"responseType\"})})})}),\" \\u660E\\u786E\\u6307\\u5B9A\\u54CD\\u5E94\\u683C\\u5F0F\\uFF0C\\u907F\\u514D\\u6D4F\\u89C8\\u5668\\u8BEF\\u89E3\\u6570\\u636E\\u7C7B\\u578B\\u3002\"]})}),`\n`,(0,l.jsx)(e.h3,{id:\"42-\\u4E0A\\u4F20\\u6587\\u4EF6\",children:(0,l.jsx)(e.a,{href:\"#42-\\u4E0A\\u4F20\\u6587\\u4EF6\",children:\"4.2 \\u4E0A\\u4F20\\u6587\\u4EF6\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6587\\u4EF6\\u4E0A\\u4F20\\u662F XHR \\u7684\\u53E6\\u4E00\\u5927\\u7528\\u6B66\\u4E4B\\u5730\\u3002\\u7ED3\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"FormData\"})})})}),\"\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u8F7B\\u677E\\u5B9E\\u73B0\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'POST'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/upload'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Upload successful:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", xhr.responseText);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" formData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" FormData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"formData.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"append\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'file'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:`'input[type=\"file\"]'`}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").files[\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(formData);\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.em,{children:[\"Tips: \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"FormData\"})})})}),\" \\u81EA\\u52A8\\u5904\\u7406 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"multipart/form-data\"})})})}),\" \\u7F16\\u7801\\uFF0C\\u7701\\u53BB\\u624B\\u52A8\\u8BBE\\u7F6E\\u5934\\u4FE1\\u606F\\u7684\\u9EBB\\u70E6\\u3002\"]})}),`\n`,(0,l.jsx)(e.h3,{id:\"43-\\u8DE8\\u57DF\\u8BF7\\u6C42\\u4E0E-cors\",children:(0,l.jsx)(e.a,{href:\"#43-\\u8DE8\\u57DF\\u8BF7\\u6C42\\u4E0E-cors\",children:\"4.3 \\u8DE8\\u57DF\\u8BF7\\u6C42\\u4E0E CORS\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"XHR \\u9ED8\\u8BA4\\u53D7\\u540C\\u6E90\\u7B56\\u7565\\u9650\\u5236\\uFF0C\\u4F46\\u901A\\u8FC7 CORS\\uFF08\\u8DE8\\u6E90\\u8D44\\u6E90\\u5171\\u4EAB\\uFF09\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5B89\\u5168\\u5730\\u8FDB\\u884C\\u8DE8\\u57DF\\u8BF7\\u6C42\\u3002\\u670D\\u52A1\\u5668\\u9700\\u8981\\u5728\\u54CD\\u5E94\\u5934\\u4E2D\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Access-Control-Allow-Origin\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.crossdomain.com/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.withCredentials \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u643A\\u5E26 Cookie\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.responseText));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u8DE8\\u57DF\\u8BF7\\u6C42\\u9700\\u8C28\\u614E\\uFF0C\\u786E\\u4FDD\\u670D\\u52A1\\u5668\\u652F\\u6301 CORS \\u5E76\\u6B63\\u786E\\u914D\\u7F6E\\u3002\"})}),`\n`,(0,l.jsx)(e.h2,{id:\"5-\\u6700\\u4F73\\u5B9E\\u8DF510-\\u6761\\u8BA9\\u4EE3\\u7801\\u5982\\u8BD7\\u7684\\u5EFA\\u8BAE\",children:(0,l.jsx)(e.a,{href:\"#5-\\u6700\\u4F73\\u5B9E\\u8DF510-\\u6761\\u8BA9\\u4EE3\\u7801\\u5982\\u8BD7\\u7684\\u5EFA\\u8BAE\",children:\"5. \\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A10 \\u6761\\u8BA9\\u4EE3\\u7801\\u5982\\u8BD7\\u7684\\u5EFA\\u8BAE\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u597D\\u7684\\u4EE3\\u7801\\u4E0D\\u4EC5\\u662F\\u529F\\u80FD\\u7684\\u5B9E\\u73B0\\uFF0C\\u66F4\\u662F\\u4E00\\u79CD\\u827A\\u672F\\u3002\\u4EE5\\u4E0B\\u662F 10 \\u6761 XHR \\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u52A9\\u4F60\\u5199\\u51FA\\u4F18\\u96C5\\u7684\\u4EE3\\u7801\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"51-\\u5C01\\u88C5-xhr-\\u4E3A-promise\",children:(0,l.jsx)(e.a,{href:\"#51-\\u5C01\\u88C5-xhr-\\u4E3A-promise\",children:\"5.1 \\u5C01\\u88C5 XHR \\u4E3A Promise\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5C06 XHR \\u5C01\\u88C5\\u4E3A Promise\\uFF0C\\u53EF\\u4EE5\\u8BA9\\u4EE3\\u7801\\u66F4\\u73B0\\u4EE3\\u3001\\u66F4\\u7B80\\u6D01\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" xhrPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"method\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(method, url, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 300\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.response);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Request failed with status ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Network error'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (data) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setRequestHeader\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Content-Type'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'application/json'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"xhrPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(response)))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error));\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: Promise \\u5C01\\u88C5\\u8BA9 XHR \\u4E0E\\u73B0\\u4EE3\\u5F02\\u6B65\\u4EE3\\u7801\\u65E0\\u7F1D\\u8854\\u63A5\\uFF0C\\u63D0\\u5347\\u53EF\\u8BFB\\u6027\\u3002\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"52-\\u59CB\\u7EC8\\u8BBE\\u7F6E\\u8D85\\u65F6\",children:(0,l.jsx)(e.a,{href:\"#52-\\u59CB\\u7EC8\\u8BBE\\u7F6E\\u8D85\\u65F6\",children:\"5.2 \\u59CB\\u7EC8\\u8BBE\\u7F6E\\u8D85\\u65F6\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\\u65F6\\uFF0C\\u8BF7\\u6C42\\u53EF\\u80FD\\u201C\\u5361\\u6B7B\\u201D\\u3002\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"timeout\"})})})}),\" \\u662F\\u57FA\\u672C\\u9632\\u62A4\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.timeout \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 10000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// 10 \\u79D2\\u8D85\\u65F6\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ontimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Request timed out'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u6839\\u636E API \\u7684\\u54CD\\u5E94\\u65F6\\u95F4\\u52A8\\u6001\\u8C03\\u6574\\u8D85\\u65F6\\u503C\\uFF0C\\u907F\\u514D\\u8FC7\\u77ED\\u6216\\u8FC7\\u957F\\u3002\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"53-\\u4F7F\\u7528-responsetype-\\u660E\\u786E\\u54CD\\u5E94\\u683C\\u5F0F\",children:(0,l.jsxs)(e.a,{href:\"#53-\\u4F7F\\u7528-responsetype-\\u660E\\u786E\\u54CD\\u5E94\\u683C\\u5F0F\",children:[\"5.3 \\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"responseType\"})})})}),\" \\u660E\\u786E\\u54CD\\u5E94\\u683C\\u5F0F\"]})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u660E\\u786E\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"responseType\"})})})}),\"\\uFF0C\\u907F\\u514D\\u6D4F\\u89C8\\u5668\\u8BEF\\u5224\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.responseType \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'json'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u81EA\\u52A8\\u89E3\\u6790 JSON\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.response);\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.em,{children:[\"Tips: \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"responseType\"})})})}),\" \\u652F\\u6301 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"text\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"json\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"blob\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"arraybuffer\"})})})}),\" \\u7B49\\uFF0C\\u7075\\u6D3B\\u9009\\u62E9\\u3002\"]})}),`\n`,(0,l.jsx)(e.h3,{id:\"54-\\u4F18\\u96C5\\u5904\\u7406\\u9519\\u8BEF\",children:(0,l.jsx)(e.a,{href:\"#54-\\u4F18\\u96C5\\u5904\\u7406\\u9519\\u8BEF\",children:\"5.4 \\u4F18\\u96C5\\u5904\\u7406\\u9519\\u8BEF\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u8981\\u5168\\u9762\\uFF0C\\u8986\\u76D6\\u7F51\\u7EDC\\u9519\\u8BEF\\u3001\\u8D85\\u65F6\\u548C\\u72B6\\u6001\\u7801\\u5F02\\u5E38\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Network error'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ontimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Timeout'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" xhr.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 300\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(xhr.response);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Error ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}: ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"statusText\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u8BB0\\u5F55\\u9519\\u8BEF\\u65E5\\u5FD7\\u5230\\u670D\\u52A1\\u5668\\uFF0C\\u6709\\u52A9\\u4E8E\\u8C03\\u8BD5\\u548C\\u76D1\\u63A7\\u3002\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"55-\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\",children:(0,l.jsx)(e.a,{href:\"#55-\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\",children:\"5.5 \\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u957F\\u65F6\\u95F4\\u8FD0\\u884C\\u7684\\u9875\\u9762\\u53EF\\u80FD\\u56E0\\u672A\\u6E05\\u7406\\u7684 XHR \\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"abort()\"})})})}),\" \\u6E05\\u7406\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" xhr\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" XMLHttpRequest\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u9875\\u9762\\u5378\\u8F7D\\u65F6\\u6E05\\u7406\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'unload'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"abort\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsxs)(e.em,{children:[\"Tips: \\u5728 SPA \\u4E2D\\uFF0C\\u7EC4\\u4EF6\\u9500\\u6BC1\\u65F6\\u8C03\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"abort()\"})})})}),\" \\u662F\\u597D\\u4E60\\u60EF\\u3002\"]})}),`\n`,(0,l.jsx)(e.h3,{id:\"56-\\u6279\\u91CF\\u8BF7\\u6C42\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#56-\\u6279\\u91CF\\u8BF7\\u6C42\\u4F18\\u5316\",children:\"5.6 \\u6279\\u91CF\\u8BF7\\u6C42\\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u591A\\u4E2A\\u8BF7\\u6C42\\u53EF\\u4EE5\\u901A\\u8FC7\\u961F\\u5217\\u6216\\u5408\\u5E76\\u51CF\\u5C11\\u7F51\\u7EDC\\u5F00\\u9500\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" batchXhr\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"urls\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(urls.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" xhrPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", url)));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"batchXhr\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data1'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data2'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"])\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"responses\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(responses));\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u5408\\u5E76\\u8BF7\\u6C42\\u5230\\u5355\\u4E2A API \\u7AEF\\u70B9\\u53EF\\u4EE5\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u6027\\u80FD\\u3002\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"57-\\u7F13\\u5B58\\u54CD\\u5E94\\u6570\\u636E\",children:(0,l.jsx)(e.a,{href:\"#57-\\u7F13\\u5B58\\u54CD\\u5E94\\u6570\\u636E\",children:\"5.7 \\u7F13\\u5B58\\u54CD\\u5E94\\u6570\\u636E\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5BF9\\u4E8E\\u9891\\u7E41\\u8BF7\\u6C42\\u7684\\u9759\\u6001\\u6570\\u636E\\uFF0C\\u4F7F\\u7528\\u672C\\u5730\\u7F13\\u5B58\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" cachedXhr\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"has\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url)) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" xhrPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", url).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url, response);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u8BBE\\u7F6E\\u7F13\\u5B58\\u8FC7\\u671F\\u65F6\\u95F4\\uFF0C\\u907F\\u514D\\u4F7F\\u7528\\u8FC7\\u65F6\\u6570\\u636E\\u3002\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"58-\\u52A8\\u6001\\u8BBE\\u7F6E\\u8BF7\\u6C42\\u5934\",children:(0,l.jsx)(e.a,{href:\"#58-\\u52A8\\u6001\\u8BBE\\u7F6E\\u8BF7\\u6C42\\u5934\",children:\"5.8 \\u52A8\\u6001\\u8BBE\\u7F6E\\u8BF7\\u6C42\\u5934\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6839\\u636E\\u573A\\u666F\\u52A8\\u6001\\u8BBE\\u7F6E\\u8BF7\\u6C42\\u5934\\uFF0C\\u63D0\\u5347\\u7075\\u6D3B\\u6027\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setRequestHeader\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Authorization'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Bearer ${\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getToken\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u786E\\u4FDD token \\u672A\\u8FC7\\u671F\\uFF0C\\u5426\\u5219\\u53EF\\u80FD\\u5BFC\\u81F4 401 \\u9519\\u8BEF\\u3002\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"59-\\u76D1\\u63A7\\u8BF7\\u6C42\\u6027\\u80FD\",children:(0,l.jsx)(e.a,{href:\"#59-\\u76D1\\u63A7\\u8BF7\\u6C42\\u6027\\u80FD\",children:\"5.9 \\u76D1\\u63A7\\u8BF7\\u6C42\\u6027\\u80FD\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8BB0\\u5F55\\u8BF7\\u6C42\\u8017\\u65F6\\uFF0C\\u4F18\\u5316\\u7528\\u6237\\u4F53\\u9A8C\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" start\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" performance.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"xhr.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" duration\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" performance.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" start;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Request took ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"duration\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}ms`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u4F7F\\u7528\\u6027\\u80FD\\u76D1\\u63A7\\u5DE5\\u5177\\uFF08\\u5982 Lighthouse\\uFF09\\u5206\\u6790\\u8BF7\\u6C42\\u74F6\\u9888\\u3002\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"510-\\u7F16\\u5199\\u53EF\\u6D4B\\u8BD5\\u7684\\u4EE3\\u7801\",children:(0,l.jsx)(e.a,{href:\"#510-\\u7F16\\u5199\\u53EF\\u6D4B\\u8BD5\\u7684\\u4EE3\\u7801\",children:\"5.10 \\u7F16\\u5199\\u53EF\\u6D4B\\u8BD5\\u7684\\u4EE3\\u7801\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5C06 XHR \\u903B\\u8F91\\u62BD\\u79BB\\u4E3A\\u72EC\\u7ACB\\u51FD\\u6570\\uFF0C\\u4FBF\\u4E8E\\u5355\\u5143\\u6D4B\\u8BD5\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" xhrPromise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", url);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6D4B\\u8BD5\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data));\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u4F7F\\u7528 Jest \\u6216 Mocha \\u6A21\\u62DF XHR \\u54CD\\u5E94\\uFF0C\\u786E\\u4FDD\\u6D4B\\u8BD5\\u8986\\u76D6\\u7387\\u3002\"})}),`\n`,(0,l.jsx)(e.h2,{id:\"6-\\u4E0E-fetch-api-\\u7684\\u5BF9\\u6BD4\\u8001\\u5C06\\u4E0E\\u65B0\\u661F\\u7684\\u5DC5\\u5CF0\\u5BF9\\u51B3\",children:(0,l.jsx)(e.a,{href:\"#6-\\u4E0E-fetch-api-\\u7684\\u5BF9\\u6BD4\\u8001\\u5C06\\u4E0E\\u65B0\\u661F\\u7684\\u5DC5\\u5CF0\\u5BF9\\u51B3\",children:\"6. \\u4E0E Fetch API \\u7684\\u5BF9\\u6BD4\\uFF1A\\u8001\\u5C06\\u4E0E\\u65B0\\u661F\\u7684\\u5DC5\\u5CF0\\u5BF9\\u51B3\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Fetch API \\u662F XHR \\u7684\\u201C\\u63A5\\u73ED\\u4EBA\\u201D\\uFF0C\\u4F46\\u4E24\\u8005\\u5404\\u6709\\u5343\\u79CB\\u3002\\u4EE5\\u4E0B\\u662F\\u8BE6\\u7EC6\\u5BF9\\u6BD4\\uFF1A\"}),`\n`,(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:\"\\u7279\\u6027\"}),(0,l.jsx)(e.th,{children:\"XHR\"}),(0,l.jsx)(e.th,{children:\"Fetch API\"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:\"\\u8BED\\u6CD5\"})}),(0,l.jsx)(e.td,{children:\"\\u8F83\\u4E3A\\u7E41\\u7410\\uFF0C\\u4E8B\\u4EF6\\u9A71\\u52A8\"}),(0,l.jsx)(e.td,{children:\"\\u57FA\\u4E8E Promise\\uFF0C\\u7B80\\u6D01\\u73B0\\u4EE3\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\"})}),(0,l.jsx)(e.td,{children:\"\\u9700\\u624B\\u52A8\\u68C0\\u67E5\\u72B6\\u6001\\u7801\"}),(0,l.jsx)(e.td,{children:\"\\u9ED8\\u8BA4\\u4E0D\\u629B HTTP \\u9519\\u8BEF\\uFF0C\\u9700\\u663E\\u5F0F\\u5904\\u7406\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:\"\\u53D6\\u6D88\\u8BF7\\u6C42\"})}),(0,l.jsxs)(e.td,{children:[\"\\u652F\\u6301 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"abort()\"})})})})]}),(0,l.jsxs)(e.td,{children:[\"\\u9700\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"AbortController\"})})})})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:\"\\u4E8C\\u8FDB\\u5236\\u652F\\u6301\"})}),(0,l.jsxs)(e.td,{children:[\"\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"responseType\"})})})})]}),(0,l.jsxs)(e.td,{children:[\"\\u539F\\u751F\\u652F\\u6301 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Blob\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ArrayBuffer\"})})})})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u517C\\u5BB9\\u6027\"})}),(0,l.jsx)(e.td,{children:\"\\u51E0\\u4E4E\\u5168\\u517C\\u5BB9\"}),(0,l.jsx)(e.td,{children:\"\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u652F\\u6301\"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:\"\\u8FDB\\u5EA6\\u76D1\\u542C\"})}),(0,l.jsxs)(e.td,{children:[\"\\u652F\\u6301 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onprogress\"})})})})]}),(0,l.jsx)(e.td,{children:\"\\u4E0D\\u652F\\u6301\\uFF08\\u9700\\u7528 ReadableStream\\uFF09\"})]})]})]}),`\n`,(0,l.jsx)(e.p,{children:\"Fetch API \\u7684\\u4EE3\\u7801\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"response.ok) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"throw\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Network response was not ok'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data))\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error));\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.em,{children:\"Tips: \\u5728\\u9700\\u8981\\u8FDB\\u5EA6\\u76D1\\u542C\\u6216\\u517C\\u5BB9\\u65E7\\u6D4F\\u89C8\\u5668\\u7684\\u573A\\u666F\\uFF0CXHR \\u4ECD\\u662F\\u4E0D\\u4E8C\\u4E4B\\u9009\\u3002\"})}),`\n`,(0,l.jsx)(e.h2,{id:\"7-\\u54F2\\u5B66\\u601D\\u8003\\u4ECE-xhr-\\u5230\\u4EBA\\u751F\\u7684\\u5F02\\u6B65\\u827A\\u672F\",children:(0,l.jsx)(e.a,{href:\"#7-\\u54F2\\u5B66\\u601D\\u8003\\u4ECE-xhr-\\u5230\\u4EBA\\u751F\\u7684\\u5F02\\u6B65\\u827A\\u672F\",children:\"7. \\u54F2\\u5B66\\u601D\\u8003\\uFF1A\\u4ECE XHR \\u5230\\u4EBA\\u751F\\u7684\\u5F02\\u6B65\\u827A\\u672F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"XHR \\u7684\\u5F02\\u6B65\\u672C\\u8D28\\u542F\\u53D1\\u6211\\u4EEC\\u601D\\u8003\\uFF1A\",(0,l.jsx)(e.strong,{children:\"\\u4EBA\\u751F\\u4F55\\u5C1D\\u4E0D\\u662F\\u4E00\\u573A\\u5F02\\u6B65\\u8BF7\\u6C42\\uFF1F\"}),\" \\u6211\\u4EEC\\u53D1\\u51FA\\u613F\\u671B\\uFF08\\u8BF7\\u6C42\\uFF09\\uFF0C\\u7B49\\u5F85\\u547D\\u8FD0\\u7684\\u54CD\\u5E94\\uFF08\\u56DE\\u8C03\\uFF09\\uFF0C\\u6709\\u65F6\\u6210\\u529F\\uFF0C\\u6709\\u65F6\\u8D85\\u65F6\\uFF0C\\u751A\\u81F3\\u906D\\u9047\\u7F51\\u7EDC\\u9519\\u8BEF\\u3002\\u4F46\\u65E0\\u8BBA\\u7ED3\\u679C\\u5982\\u4F55\\uFF0C\\u6211\\u4EEC\\u90FD\\u5728\\u76D1\\u542C\\u3001\\u5728\\u8C03\\u6574\\u3001\\u5728\\u91CD\\u8BD5\\u3002\"]}),`\n`,(0,l.jsxs)(e.blockquote,{children:[`\n`,(0,l.jsxs)(e.p,{children:[\"\\u201C\\u751F\\u6D3B\\u662F\\u4E00\\u573A\\u6CA1\\u6709 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onload\"})})})}),\" \\u4FDD\\u8BC1\\u7684 XHR \\u8BF7\\u6C42\\uFF0C\\u5B66\\u4F1A\\u5904\\u7406 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onerror\"})})})}),\" \\u624D\\u662F\\u771F\\u6B63\\u7684\\u667A\\u6167\\u3002\\u201D \\u2014\\u2014 \\u6653\\u9F99\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"XHR \\u6559\\u4F1A\\u6211\\u4EEC\\u8010\\u5FC3\\uFF08\\u7B49\\u5F85\\u54CD\\u5E94\\uFF09\\u3001\\u7075\\u6D3B\\uFF08\\u5904\\u7406\\u9519\\u8BEF\\uFF09\\u548C\\u4F18\\u5316\\uFF08\\u7F13\\u5B58\\u4E0E\\u91CD\\u8BD5\\uFF09\\u3002\\u5728\\u4EE3\\u7801\\u7684\\u4E16\\u754C\\u91CC\\uFF0C\\u6211\\u4EEC\\u8FFD\\u6C42\\u4F18\\u96C5\\u4E0E\\u9AD8\\u6548\\uFF1B\\u5728\\u4EBA\\u751F\\u7684\\u5B87\\u5B99\\u4E2D\\uFF0C\\u6211\\u4EEC\\u8FFD\\u5BFB\\u610F\\u4E49\\u4E0E\\u5E73\\u8861\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"8-\\u672A\\u6765\\u5C55\\u671Bxhr-\\u7684\\u6C38\\u6052\\u661F\\u5149\",children:(0,l.jsx)(e.a,{href:\"#8-\\u672A\\u6765\\u5C55\\u671Bxhr-\\u7684\\u6C38\\u6052\\u661F\\u5149\",children:\"8. \\u672A\\u6765\\u5C55\\u671B\\uFF1AXHR \\u7684\\u6C38\\u6052\\u661F\\u5149\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5C3D\\u7BA1 Fetch API \\u548C WebSocket \\u7B49\\u65B0\\u6280\\u672F\\u5C42\\u51FA\\u4E0D\\u7A77\\uFF0CXHR \\u4F9D\\u7136\\u5728\\u8BB8\\u591A\\u573A\\u666F\\u4E2D\\u5360\\u636E\\u4E00\\u5E2D\\u4E4B\\u5730\\u3002\\u5B83\\u7684\\u517C\\u5BB9\\u6027\\u3001\\u7075\\u6D3B\\u6027\\u548C\\u5BF9\\u590D\\u6742\\u573A\\u666F\\u7684\\u652F\\u6301\\uFF0C\\u8BA9\\u5B83\\u6210\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7684\\u201C\\u8001\\u670B\\u53CB\\u201D\\u3002\\u672A\\u6765\\uFF0C\\u968F\\u7740 Web \\u6807\\u51C6\\u7684\\u6F14\\u8FDB\\uFF0CXHR \\u53EF\\u80FD\\u4F1A\\u9010\\u6E10\\u6DE1\\u51FA\\u821E\\u53F0\\uFF0C\\u4F46\\u5B83\\u7684\\u7CBE\\u795E\\u2014\\u2014\\u5F02\\u6B65\\u3001\\u4E8B\\u4EF6\\u9A71\\u52A8\\u3001\\u7528\\u6237\\u81F3\\u4E0A\\u2014\\u2014\\u5C06\\u6C38\\u8FDC\\u95EA\\u8000\\u3002\"}),`\n`,(0,l.jsxs)(e.blockquote,{children:[`\n`,(0,l.jsx)(e.p,{children:\"\\u201C\\u6280\\u672F\\u7684\\u661F\\u7A7A\\u4ECE\\u4E0D\\u5BC2\\u5BDE\\uFF0CXHR \\u662F\\u90A3\\u9897\\u6C38\\u4E0D\\u9668\\u843D\\u7684\\u661F\\u3002\\u201D \\u2014\\u2014 \\u6653\\u9F99\"}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u7ED3\\u8BED\\u70B9\\u4EAE\\u4F60\\u7684\\u7F51\\u7EDC\\u4E4B\\u9B42\",children:(0,l.jsx)(e.a,{href:\"#\\u7ED3\\u8BED\\u70B9\\u4EAE\\u4F60\\u7684\\u7F51\\u7EDC\\u4E4B\\u9B42\",children:\"\\u7ED3\\u8BED\\uFF1A\\u70B9\\u4EAE\\u4F60\\u7684\\u7F51\\u7EDC\\u4E4B\\u9B42\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u901A\\u8FC7\\u8FD9\\u7BC7\\u8FD1\\u4E24\\u4E07\\u5B57\\u7684\\u5256\\u6790\\uFF0C\\u6211\\u4EEC\\u4ECE XHR \\u7684\\u5386\\u53F2\\u8D77\\u6E90\\u5230\\u6838\\u5FC3\\u539F\\u7406\\uFF0C\\u4ECE\\u57FA\\u7840\\u7528\\u6CD5\\u5230\\u9AD8\\u7EA7\\u6280\\u5DE7\\uFF0C\\u5168\\u9762\\u63A2\\u7D22\\u4E86\\u5B83\\u7684\\u6BCF\\u4E00\\u9762\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4E0D\\u4EC5\\u8BA9\\u4F60\\u638C\\u63E1\\u4E86 XHR \\u7684\\u6280\\u672F\\u7EC6\\u8282\\uFF0C\\u8FD8\\u70B9\\u71C3\\u4E86\\u4F60\\u5BF9\\u7F51\\u7EDC\\u7F16\\u7A0B\\u7684\\u70ED\\u60C5\\u3002\\u{1F30C}\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u65E0\\u8BBA\\u4F60\\u662F\\u521D\\u5B66\\u8005\\u8FD8\\u662F\\u8D44\\u6DF1\\u5F00\\u53D1\\u8005\\uFF0CXHR \\u90FD\\u503C\\u5F97\\u4F60\\u6DF1\\u5165\\u7814\\u7A76\\u3002\\u5B83\\u7684\\u6BCF\\u4E00\\u884C\\u4EE3\\u7801\\u3001\\u6BCF\\u4E00\\u4E2A\\u4E8B\\u4EF6\\uFF0C\\u90FD\\u662F\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7684\\u8BD7\\u7BC7\\u3002\\u613F\\u4F60\\u5728\\u4EE3\\u7801\\u7684\\u5B87\\u5B99\\u4E2D\\uFF0C\\u4E58\\u7740 XHR \\u7684\\u98DE\\u8239\\uFF0C\\u63A2\\u7D22\\u66F4\\u8FDC\\u7684\\u661F\\u8FB0\\u5927\\u6D77\\uFF01\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}return m(b);})();\n;return Component;"
  },
  "_id": "JavaScript/XHR.mdx",
  "_raw": {
    "sourceFilePath": "JavaScript/XHR.mdx",
    "sourceFileName": "XHR.mdx",
    "sourceFileDir": "JavaScript",
    "contentType": "mdx",
    "flattenedPath": "JavaScript/XHR"
  },
  "type": "Post",
  "url": "/blog/JavaScript/XHR"
}
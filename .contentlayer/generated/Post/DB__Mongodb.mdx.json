{
  "title": "èŠèŠ MongoDBï¼šä»Žå…¥é—¨åˆ°é£™è½¦ï¼Œè§£é” NoSQL çš„è‡ªç”±çµé­‚",
  "date": "2022-06-25T00:00:00.000Z",
  "description": "ä»Ž MongoDB çš„åŸºæœ¬æ¦‚å¿µåˆ°æ·±å…¥åŽŸç†ï¼Œå†åˆ°å‰ç«¯å¼€å‘ä¸­çš„å®žæˆ˜åº”ç”¨ï¼Œå¸¦ä½ å…¨é¢æŽ¢ç´¢è¿™ä¸ªçµæ´»çš„ NoSQL æ•°æ®åº“ï¼Œé¡ºä¾¿èŠèŠä¼˜åŒ–æŠ€å·§å’Œæœ€ä½³å®žè·µã€‚",
  "keywords": "MongoDB, NoSQL, å‰ç«¯å¼€å‘, æ•°æ®åº“, æ–‡æ¡£å­˜å‚¨, èšåˆæŸ¥è¯¢, æ€§èƒ½ä¼˜åŒ–, Schema è®¾è®¡",
  "author": "æ™“é¾™",
  "image": "/images/hero/mongodb-deep-dive.jpg",
  "tags": [
    "MongoDB",
    "NoSQL",
    "å‰ç«¯å¼€å‘",
    "åŽç«¯å¼€å‘"
  ],
  "views": 0,
  "likes": 0,
  "category": "DB",
  "body": {
    "raw": "\nè¯´èµ·æ•°æ®åº“ï¼Œå…³ç³»åž‹æ•°æ®åº“ï¼ˆæ¯”å¦‚ MySQLï¼‰å°±åƒæ˜¯â€œè§„çŸ©çš„ç­é•¿â€ï¼Œå‡¡äº‹æŒ‰è¡¨æ ¼èµ°ï¼›è€Œ MongoDB åˆ™æ˜¯ NoSQL ç•Œçš„â€œè‡ªç”±è‰ºæœ¯å®¶â€ï¼Œä¸æ‹˜ä¸€æ ¼ï¼Œéšå¿ƒæ‰€æ¬²ã€‚ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘ï¼Œæˆ–è€…å…¨æ ˆé€‰æ‰‹ï¼ŒMongoDB ç»å¯¹æ˜¯ä½ å·¥å…·ç®±é‡Œçš„ä¸€æŠŠâ€œç‘žå£«å†›åˆ€â€ã€‚ä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ ä»Žé›¶å¼€å§‹ï¼ŒèŠèŠ MongoDB çš„é‚£äº›äº‹å„¿â€”â€”ä»ŽåŸºç¡€ç”¨æ³•åˆ°æ ¸å¿ƒåŽŸç†ï¼Œå†åˆ°å‰ç«¯å®žæˆ˜åœºæ™¯ï¼Œé¡ºä¾¿åˆ†äº«ç‚¹ä¼˜åŒ–å¿ƒå¾—å’Œâ€œé¿å‘æŒ‡å—â€ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿç³»å¥½å®‰å…¨å¸¦ï¼Œå’±ä»¬å¼€èŠï¼ðŸš—ðŸ’¨\n\n## MongoDB æ˜¯å•¥ï¼Ÿâ€œæ–‡æ¡£â€ä¸–ç•Œçš„å†’é™©å®¶\n\nMongoDB è¯žç”ŸäºŽ 2007 å¹´ï¼Œç”± 10gen å…¬å¸ï¼ˆåŽæ¥æ”¹å MongoDB Inc.ï¼‰å¼€å‘ï¼Œç›®æ ‡æ˜¯æ‰“é€ ä¸€ä¸ªé«˜æ€§èƒ½ã€æ˜“æ‰©å±•çš„æ•°æ®åº“ã€‚ç›¸æ¯” MySQL çš„â€œè¡¨æ ¼å¸å›½â€ï¼ŒMongoDB ç”¨çš„æ˜¯**æ–‡æ¡£å­˜å‚¨**æ¨¡åž‹ï¼Œæ•°æ®ä»¥ JSON æˆ–è€… BSONï¼ˆBinary JSONï¼‰çš„å½¢å¼ä¿å­˜ã€‚ç®€å•æ¥è¯´ï¼Œä¸€ä¸ª MongoDB æ•°æ®åº“ç”±â€œé›†åˆâ€ï¼ˆCollectionsï¼‰å’Œâ€œæ–‡æ¡£â€ï¼ˆDocumentsï¼‰ç»„æˆï¼Œé›†åˆç›¸å½“äºŽ MySQL çš„è¡¨ï¼Œæ–‡æ¡£ç›¸å½“äºŽè¡¨é‡Œçš„ä¸€è¡Œã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªç”¨æˆ·æ–‡æ¡£å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š\n```json\n{\n  \"_id\": \"12345\",\n  \"username\": \"xiaolong\",\n  \"email\": \"xl@cool.com\",\n  \"hobbies\": [\"coding\", \"gaming\"],\n  \"address\": {\n    \"city\": \"Shanghai\",\n    \"zip\": \"200000\"\n  },\n  \"created_at\": \"2025-03-01T00:00:00Z\"\n}\n```\nçœ‹åˆ°æ²¡ï¼ŸåµŒå¥—å¯¹è±¡ã€æ•°ç»„ï¼Œæƒ³å’‹å†™å’‹å†™ï¼Œå®Œå…¨æ²¡æœ‰â€œåˆ—â€çš„æŸç¼šã€‚è¿™ç§çµæ´»æ€§ç‰¹åˆ«é€‚åˆå‰ç«¯å¼€å‘ï¼Œå› ä¸º JSON å°±æ˜¯æˆ‘ä»¬çš„â€œæ¯è¯­â€å•Šï¼ðŸ˜Ž\n\nMongoDB çš„å£å·æ˜¯â€œç®€å•ã€å¿«é€Ÿã€å¯æ‰©å±•â€ï¼Œå°¤å…¶é€‚åˆåŠ¨æ€ Schema çš„åœºæ™¯ï¼Œæ¯”å¦‚åšå®¢ç³»ç»Ÿã€å®žæ—¶åˆ†æžã€å†…å®¹ç®¡ç†è¿™äº›ã€‚\n\n## åŸºç¡€ç”¨æ³•ï¼šå¢žåˆ æ”¹æŸ¥ï¼ŒMongoDB çš„â€œå››ä»¶å¥—â€\n\nMongoDB çš„æ“ä½œä¸»è¦é€šè¿‡å‘½ä»¤æˆ–è€…é©±åŠ¨ï¼ˆæ¯”å¦‚ Node.js çš„ `mongodb` åŒ…ï¼‰å®Œæˆï¼Œå’±ä»¬ä»Žæœ€åŸºæœ¬çš„ CRUD å¼€å§‹ï¼Œç»“åˆå‰ç«¯åœºæ™¯ä¸¾ä¾‹å­ã€‚\n\n### 1. æŸ¥ï¼ˆFindï¼‰ï¼šä»Žæ–‡æ¡£å †é‡Œâ€œæŒ–â€æ•°æ®\nå‡è®¾ä½ æœ‰ä¸ª `users` é›†åˆï¼Œé‡Œé¢å­˜äº†ä¸€å †ç”¨æˆ·æ•°æ®ã€‚æƒ³æ‰¾æŸä¸ªç”¨æˆ·ï¼š\n```javascript\ndb.users.find({ username: \"xiaolong\" });\n```\nå‰ç«¯æ‹¿åˆ°ç»“æžœåŽï¼Œç›´æŽ¥ä¸¢åˆ° React ç»„ä»¶é‡Œæ¸²æŸ“ã€‚å¦‚æžœè¦æŸ¥æ‰€æœ‰ä¸Šæµ·çš„ç”¨æˆ·ï¼š\n```javascript\ndb.users.find({ \"address.city\": \"Shanghai\" });\n```\nç‚¹å·è¯­æ³•ï¼ˆ`.`ï¼‰ç”¨æ¥è®¿é—®åµŒå¥—å­—æ®µï¼Œçµæ´»å¾—åƒåœ¨ JS é‡Œæ“ä½œå¯¹è±¡ã€‚\n\næƒ³åˆ†é¡µï¼ŸåŠ ä¸ª `limit` å’Œ `skip`ï¼š\n```javascript\ndb.users.find().skip(0).limit(10);\n```\nç¬¬ä¸€é¡µå°±è¿™æ ·æžå®šï¼Œç¬¬äºŒé¡µæ”¹ `skip(10)`ï¼Œä¸æ»‘å¾—å¾ˆã€‚\n\n### 2. å¢žï¼ˆInsertï¼‰ï¼šå¾€é›†åˆé‡Œâ€œæ‰”â€æ•°æ®\nç”¨æˆ·æ³¨å†Œæ—¶ï¼Œå‰ç«¯ POST äº†ä¸ªè¡¨å•ï¼ŒåŽç«¯æ’æ•°æ®ï¼š\n```javascript\ndb.users.insertOne({\n  username: \"newbie\",\n  email: \"newbie@noob.com\",\n  created_at: new Date()\n});\n```\næƒ³ä¸€æ¬¡æ’å¤šä¸ªï¼Ÿç”¨ `insertMany`ï¼š\n```javascript\ndb.users.insertMany([\n  { username: \"coder1\", email: \"c1@dev.com\" },\n  { username: \"coder2\", email: \"c2@dev.com\" }\n]);\n```\nå°±åƒå¾€è´­ç‰©è½¦é‡Œä¸¢ä¸œè¥¿ï¼Œéšæ‰‹ä¸€æ‰”å°±è¡Œã€‚\n\n### 3. æ”¹ï¼ˆUpdateï¼‰ï¼šç»™æ–‡æ¡£â€œæ•´å½¢â€\nç”¨æˆ·æ”¹é‚®ç®±ï¼Ÿå‰ç«¯å‘è¯·æ±‚ï¼ŒåŽç«¯æ›´æ–°ï¼š\n```javascript\ndb.users.updateOne(\n  { _id: \"12345\" },\n  { $set: { email: \"newemail@cool.com\" } }\n);\n```\n`$set` æ˜¯æ›´æ–°å­—æ®µçš„ç¥žå™¨ï¼Œä¸ç”¨æ‹…å¿ƒè¦†ç›–å…¶ä»–æ•°æ®ã€‚å¦‚æžœè¦ç»™ `hobbies` åŠ ä¸ªæ–°çˆ±å¥½ï¼š\n```javascript\ndb.users.updateOne(\n  { _id: \"12345\" },\n  { $push: { hobbies: \"reading\" } }\n);\n```\n`$push` å°±åƒæ•°ç»„çš„ `push` æ–¹æ³•ï¼Œç†Ÿæ‚‰å§ï¼Ÿ\n\n### 4. åˆ ï¼ˆDeleteï¼‰ï¼šæ¸…ç†â€œè¿‡æœŸâ€æ•°æ®\nç”¨æˆ·æ³¨é”€è´¦å·ï¼š\n```javascript\ndb.users.deleteOne({ _id: \"12345\" });\n```\næ‰¹é‡åˆ é™¤ä¸Šæµ·ä»¥å¤–çš„ç”¨æˆ·ï¼š\n```javascript\ndb.users.deleteMany({ \"address.city\": { $ne: \"Shanghai\" } });\n```\n`$ne` è¡¨ç¤ºâ€œä¸ç­‰äºŽâ€ï¼ŒMongoDB çš„æŸ¥è¯¢æ“ä½œç¬¦è´¼å¤šï¼ŒåŽé¢ç»†èŠã€‚\n\n## æ·±å…¥åŽŸç†ï¼šMongoDB å’‹è·‘çš„ï¼Ÿ\n\nå…‰ä¼šç”¨è¿˜ä¸å¤Ÿï¼Œå’±ä»¬å¾—æžæ‡‚ MongoDB çš„â€œå†…åŠŸå¿ƒæ³•â€ï¼Œè¿™æ ·æ‰èƒ½å†™å‡ºä¼˜é›…åˆé«˜æ•ˆçš„ä»£ç ã€‚\n\n### æ•°æ®å­˜å‚¨ï¼šBSON çš„â€œç§˜å¯†æ­¦å™¨â€\nMongoDB ç”¨ BSON å­˜æ•°æ®ï¼Œæ¯” JSON å¤šäº†ä¸€äº›ç±»åž‹ï¼ˆæ¯”å¦‚ Dateã€äºŒè¿›åˆ¶æ•°æ®ï¼‰ï¼Œè¿˜èƒ½åŽ‹ç¼©å­˜å‚¨ã€‚æ–‡æ¡£æ˜¯æ—  Schema çš„ï¼Œæ„å‘³ç€ä½ ä»Šå¤©å­˜ `{name: \"xiaolong\"}`ï¼Œæ˜Žå¤©åŠ ä¸ª `age: 25`ï¼Œå®Œå…¨æ²¡åŽ‹åŠ›ã€‚ä½†è¿™ä¹Ÿæ„å‘³ç€ä½ å¾—è‡ªå·±ç®¡å¥½æ•°æ®ç»“æž„ï¼Œä¸ç„¶å®¹æ˜“â€œä¹±æˆéº»â€ã€‚\n\n### ç´¢å¼•ï¼šMongoDB çš„â€œåŠ é€Ÿå™¨â€\næ²¡ç´¢å¼•çš„æŸ¥è¯¢å°±åƒâ€œå¤§æµ·æžé’ˆâ€ï¼ŒåŠ ä¸ªç´¢å¼•è¯•è¯•ï¼š\n```javascript\ndb.users.createIndex({ username: 1 });\n```\n`1` è¡¨ç¤ºå‡åºï¼Œ`-1` æ˜¯é™åºã€‚MongoDB ç”¨ B æ ‘ï¼ˆæˆ–è€… B+ æ ‘ï¼‰å®žçŽ°ç´¢å¼•ï¼ŒæŸ¥æ‰¾æ•ˆçŽ‡å—–å—–çš„ã€‚åµŒå¥—å­—æ®µä¹Ÿèƒ½åŠ ï¼š\n```javascript\ndb.users.createIndex({ \"address.city\": 1 });\n```\nä¸è¿‡ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œå†™æ“ä½œä¼šå˜æ…¢ï¼Œç©ºé—´ä¹Ÿå¾—å ç€ï¼Œæƒè¡¡ä¸€ä¸‹ã€‚\n\n### èšåˆï¼ˆAggregationï¼‰ï¼šæ•°æ®çš„â€œå˜å½¢é‡‘åˆšâ€\næƒ³ç»Ÿè®¡æ¯ä¸ªåŸŽå¸‚çš„ç”¨æˆ·æ•°ï¼Ÿç”¨èšåˆç®¡é“ï¼š\n```javascript\ndb.users.aggregate([\n  { $group: { _id: \"$address.city\", count: { $sum: 1 } } },\n  { $sort: { count: -1 } }\n]);\n```\nç»“æžœå¯èƒ½æ˜¯ï¼š\n```json\n[\n  { \"_id\": \"Shanghai\", \"count\": 50 },\n  { \"_id\": \"Beijing\", \"count\": 30 }\n]\n```\nèšåˆå°±åƒæµæ°´çº¿ï¼Œå…ˆåˆ†ç»„ï¼ˆ`$group`ï¼‰ï¼Œå†æŽ’åºï¼ˆ`$sort`ï¼‰ï¼Œè¿˜èƒ½åŠ è¿‡æ»¤ã€æŠ•å½±ï¼ŒåŠŸèƒ½å¼ºå¤§åˆ°é£žèµ·ã€‚å‰ç«¯æ‹¿æ¥åšæ•°æ®å¯è§†åŒ–ï¼Œç®€ç›´å®Œç¾Žã€‚\n\n### åˆ†ç‰‡ä¸Žå¤åˆ¶ï¼šMongoDB çš„â€œåˆ†èº«æœ¯â€\næ•°æ®é‡å¤§äº†æ€Žä¹ˆåŠžï¼ŸMongoDB æ”¯æŒ**åˆ†ç‰‡ï¼ˆShardingï¼‰**ï¼ŒæŠŠæ•°æ®æ‹†åˆ°å¤šå°æœºå™¨ä¸Šï¼›è¿˜æœ‰**å‰¯æœ¬é›†ï¼ˆReplica Setï¼‰**ï¼Œä¿è¯æ•°æ®é«˜å¯ç”¨ã€‚ç®€å•æ¯”å–»ï¼šåˆ†ç‰‡æ˜¯â€œåˆ†æ‹…åŽ‹åŠ›â€ï¼Œå‰¯æœ¬é›†æ˜¯â€œå¤‡ä»½æ•‘å‘½â€ã€‚å‰ç«¯å¼€å‘ä¸€èˆ¬ç”¨ä¸åˆ°è¿™äº›ï¼Œä½†çŸ¥é“åŽŸç†èƒ½è®©ä½ è·ŸåŽç«¯å¤§ä½¬èŠå¾—æ›´å—¨ã€‚\n\n## å‰ç«¯åœºæ™¯ï¼šMongoDB å’‹çŽ©ï¼Ÿ\n\nMongoDB å’Œå‰ç«¯çš„â€œåŒ–å­¦ååº”â€ç‰¹åˆ«æ£’ï¼Œå’±ä»¬èŠå‡ ä¸ªå¸¸è§åœºæ™¯ã€‚\n\n### 1. åŠ¨æ€è¡¨å•ï¼šSchema éšä¾¿å˜\nå‰ç«¯è¦åšä¸ªåŠ¨æ€è¡¨å•ï¼Œç”¨æˆ·æƒ³åŠ å­—æ®µå°±åŠ å­—æ®µï¼ŒMongoDB å®Œå…¨ hold å¾—ä½ã€‚æ¯”å¦‚ç”¨æˆ·è¡¨ä»Žï¼š\n```json\n{ \"username\": \"xiaolong\" }\n```\nå˜æˆï¼š\n```json\n{ \"username\": \"xiaolong\", \"phone\": \"123456789\" }\n```\nåŽç«¯ä¸ç”¨æ”¹è¡¨ç»“æž„ï¼Œå‰ç«¯ç›´æŽ¥æ¸²æŸ“æ–°å­—æ®µï¼Œå¼€å‘æ•ˆçŽ‡èµ·é£žã€‚\n\n### 2. å®žæ—¶è¯„è®ºç³»ç»Ÿ\nåšå®¢è¯„è®ºé›†åˆ `comments`ï¼š\n```json\n{\n  \"post_id\": \"abc123\",\n  \"content\": \"å¥½æ–‡ï¼\",\n  \"user\": { \"id\": \"12345\", \"name\": \"xiaolong\" },\n  \"created_at\": \"2025-03-23T10:00:00Z\"\n}\n```\næŸ¥æŸç¯‡æ–‡ç« çš„è¯„è®ºï¼š\n```javascript\ndb.comments.find({ post_id: \"abc123\" }).sort({ created_at: -1 });\n```\nå‰ç«¯ç”¨ WebSocket æŽ¨å®žæ—¶æ›´æ–°ï¼Œè¯„è®ºç§’åˆ·å‡ºæ¥ã€‚\n\n### 3. åµŒå¥—æ•°æ®ï¼šçœåŽ»è”è¡¨éº»çƒ¦\nè®¢å•æ•°æ®ç›´æŽ¥åµŒå¥—ç”¨æˆ·ä¿¡æ¯ï¼š\n```json\n{\n  \"order_id\": \"o123\",\n  \"user\": {\n    \"id\": \"12345\",\n    \"username\": \"xiaolong\"\n  },\n  \"amount\": 100\n}\n```\nä¸åƒ MySQL è¿˜å¾— JOIN è¡¨ï¼Œä¸€æ¬¡æŸ¥è¯¢å…¨æžå®šã€‚\n\n## ä¼˜åŒ–æŠ€å·§ï¼šè®© MongoDB â€œè·‘å¾—æ¬¢â€\n\nMongoDB é»˜è®¤æŒºå¿«ï¼Œä½†ç”¨ä¸å¥½ç…§æ ·â€œå¡æˆç‹—â€ã€‚åˆ†äº«å‡ æ‹›å®žæˆ˜ç»éªŒï¼š\n\n### 1. ç”¨ `explain()` åˆ†æžæŸ¥è¯¢\næƒ³çŸ¥é“æŸ¥è¯¢å’‹æ‰§è¡Œçš„ï¼ŸåŠ ä¸ª `explain()`ï¼š\n```javascript\ndb.users.find({ username: \"xiaolong\" }).explain(\"executionStats\");\n```\nå‘Šè¯‰ä½ ç”¨æ²¡ç”¨ç´¢å¼•ã€æ‰«äº†å¤šå°‘æ–‡æ¡£ï¼Œå¿ƒé‡Œæœ‰åº•ã€‚\n\n### 2. å°å¿ƒåµŒå¥—å¤ªæ·±\næ–‡æ¡£åµŒå¥—äº”å…­å±‚è™½ç„¶çˆ½ï¼Œä½†æŸ¥è¯¢å’Œæ›´æ–°ä¼šå˜æ…¢ã€‚èƒ½æ‰å¹³åŒ–å°±æ‰å¹³åŒ–ï¼Œåˆ«â€œå¥—å¨ƒâ€å¥—è¿‡å¤´ã€‚\n\n### 3. æ‰¹é‡å†™ï¼Œåˆ«å•æ¡æž\næ‰¹é‡æ’å…¥ç”¨ `insertMany`ï¼Œæ‰¹é‡æ›´æ–°ç”¨ `updateMany`ï¼Œç½‘ç»œå’Œç£ç›˜åŽ‹åŠ›å°å¾—å¤šã€‚\n\n### 4. ç¼“å­˜çƒ­ç‚¹æ•°æ®\nè¯„è®ºåˆ—è¡¨è®¿é—®é‡é«˜ï¼Ÿä¸¢åˆ° Redis é‡Œï¼ŒMongoDB åªç®¡æŒä¹…åŒ–ï¼Œæ€§èƒ½å—·å—·å«ã€‚\n\n## æœ€ä½³å®žè·µï¼šå°‘ç¿»è½¦ï¼Œå¤šçœå¿ƒ\n\n- **è®¾è®¡åˆç†çš„ Schema**ï¼šè™½ç„¶æ—  Schemaï¼Œä½†å¾—è§„åˆ’å¥½å­—æ®µï¼Œåˆ«è®©æ•°æ®â€œé‡Žè›®ç”Ÿé•¿â€ã€‚\n- **ç”¨ `_id` åšä¸»é”®**ï¼šé»˜è®¤çš„ ObjectId è‡ªå¸¦æ—¶é—´æˆ³ï¼ŒæŸ¥èµ·æ¥æ–¹ä¾¿ã€‚\n- **é¿å…å¤§æ–‡æ¡£**ï¼šå•ä¸ªæ–‡æ¡£åˆ«è¶… 16MBï¼ˆMongoDB é™åˆ¶ï¼‰ï¼Œå¤§äº†æ‹†åˆ†å¼€ã€‚\n- **å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®**ï¼šç”¨ TTL ç´¢å¼•è‡ªåŠ¨åˆ ï¼Œæ¯”å¦‚ï¼š\n  ```javascript\n  db.logs.createIndex({ created_at: 1 }, { expireAfterSeconds: 86400 });\n  ```\n  24 å°æ—¶åŽè‡ªåŠ¨æ¸…ç†æ—¥å¿—ã€‚\n\n## å†™åœ¨æœ€åŽ\n\nMongoDB å°±åƒä¸ªâ€œéšæ€§â€çš„æœ‹å‹ï¼Œç»™ä½ è‡ªç”±çš„åŒæ—¶ï¼Œä¹Ÿè¦æ±‚ä½ æœ‰ç‚¹è‡ªå¾‹ã€‚å®ƒçš„çµæ´»æ€§ç‰¹åˆ«é€‚åˆå‰ç«¯å¼€å‘ï¼Œå°¤å…¶æ˜¯å¿«é€Ÿè¿­ä»£çš„é¡¹ç›®ã€‚å­¦ä¼šç”¨å¥½ç´¢å¼•ã€èšåˆå’Œåˆç†çš„è®¾è®¡ï¼Œèƒ½è®©ä½ çš„åº”ç”¨æ—¢å¿«åˆç¨³ã€‚å½“ç„¶ï¼ŒNoSQL ä¹Ÿæœ‰å±€é™ï¼Œæ¯”å¦‚äº‹åŠ¡æ”¯æŒä¸å¦‚ MySQLï¼ˆè™½ç„¶ 4.0 åŽåŠ å¼ºäº†ï¼‰ï¼Œå¾—çœ‹åœºæ™¯é€‰å·¥å…·ã€‚\n\nä½ æœ‰å•¥ MongoDB çš„â€œå¥‡è‘©ç»åŽ†â€æˆ–è€…ç»æ‹›å—ï¼Ÿæ¬¢è¿Žç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·â€œå¼€è„‘æ´žâ€ï¼ðŸŒŸ\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),B=(a,e)=>{for(var l in e)d(a,l,{get:e[l],enumerable:!0})},i=(a,e,l,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!u.call(a,r)&&r!==l&&d(a,r,{get:()=>e[r],enumerable:!(c=E(e,r))||c.enumerable});return a};var m=(a,e,l)=>(l=a!=null?p(g(a)):{},i(e||!a||!a.__esModule?d(l,\"default\",{value:a,enumerable:!0}):l,a)),b=a=>i(d({},\"__esModule\",{value:!0}),a);var h=F((j,t)=>{t.exports=_jsx_runtime});var x={};B(x,{default:()=>o,frontmatter:()=>f});var n=m(h()),f={type:\"Post\",title:\"\\u804A\\u804A MongoDB\\uFF1A\\u4ECE\\u5165\\u95E8\\u5230\\u98D9\\u8F66\\uFF0C\\u89E3\\u9501 NoSQL \\u7684\\u81EA\\u7531\\u7075\\u9B42\",date:\"2022-06-25\",description:\"\\u4ECE MongoDB \\u7684\\u57FA\\u672C\\u6982\\u5FF5\\u5230\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u518D\\u5230\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u7684\\u5B9E\\u6218\\u5E94\\u7528\\uFF0C\\u5E26\\u4F60\\u5168\\u9762\\u63A2\\u7D22\\u8FD9\\u4E2A\\u7075\\u6D3B\\u7684 NoSQL \\u6570\\u636E\\u5E93\\uFF0C\\u987A\\u4FBF\\u804A\\u804A\\u4F18\\u5316\\u6280\\u5DE7\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\",keywords:\"MongoDB, NoSQL, \\u524D\\u7AEF\\u5F00\\u53D1, \\u6570\\u636E\\u5E93, \\u6587\\u6863\\u5B58\\u50A8, \\u805A\\u5408\\u67E5\\u8BE2, \\u6027\\u80FD\\u4F18\\u5316, Schema \\u8BBE\\u8BA1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/mongodb-deep-dive.jpg\",tags:[\"MongoDB\",\"NoSQL\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u540E\\u7AEF\\u5F00\\u53D1\"],category:\"DB\"};function s(a){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"\\u8BF4\\u8D77\\u6570\\u636E\\u5E93\\uFF0C\\u5173\\u7CFB\\u578B\\u6570\\u636E\\u5E93\\uFF08\\u6BD4\\u5982 MySQL\\uFF09\\u5C31\\u50CF\\u662F\\u201C\\u89C4\\u77E9\\u7684\\u73ED\\u957F\\u201D\\uFF0C\\u51E1\\u4E8B\\u6309\\u8868\\u683C\\u8D70\\uFF1B\\u800C MongoDB \\u5219\\u662F NoSQL \\u754C\\u7684\\u201C\\u81EA\\u7531\\u827A\\u672F\\u5BB6\\u201D\\uFF0C\\u4E0D\\u62D8\\u4E00\\u683C\\uFF0C\\u968F\\u5FC3\\u6240\\u6B32\\u3002\\u4F5C\\u4E3A\\u4E00\\u4E2A\\u524D\\u7AEF\\u5F00\\u53D1\\uFF0C\\u6216\\u8005\\u5168\\u6808\\u9009\\u624B\\uFF0CMongoDB \\u7EDD\\u5BF9\\u662F\\u4F60\\u5DE5\\u5177\\u7BB1\\u91CC\\u7684\\u4E00\\u628A\\u201C\\u745E\\u58EB\\u519B\\u5200\\u201D\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u5C31\\u5E26\\u4F60\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u804A\\u804A MongoDB \\u7684\\u90A3\\u4E9B\\u4E8B\\u513F\\u2014\\u2014\\u4ECE\\u57FA\\u7840\\u7528\\u6CD5\\u5230\\u6838\\u5FC3\\u539F\\u7406\\uFF0C\\u518D\\u5230\\u524D\\u7AEF\\u5B9E\\u6218\\u573A\\u666F\\uFF0C\\u987A\\u4FBF\\u5206\\u4EAB\\u70B9\\u4F18\\u5316\\u5FC3\\u5F97\\u548C\\u201C\\u907F\\u5751\\u6307\\u5357\\u201D\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u7CFB\\u597D\\u5B89\\u5168\\u5E26\\uFF0C\\u54B1\\u4EEC\\u5F00\\u804A\\uFF01\\u{1F697}\\u{1F4A8}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"mongodb-\\u662F\\u5565\\u6587\\u6863\\u4E16\\u754C\\u7684\\u5192\\u9669\\u5BB6\",children:(0,n.jsx)(e.a,{href:\"#mongodb-\\u662F\\u5565\\u6587\\u6863\\u4E16\\u754C\\u7684\\u5192\\u9669\\u5BB6\",children:\"MongoDB \\u662F\\u5565\\uFF1F\\u201C\\u6587\\u6863\\u201D\\u4E16\\u754C\\u7684\\u5192\\u9669\\u5BB6\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"MongoDB \\u8BDE\\u751F\\u4E8E 2007 \\u5E74\\uFF0C\\u7531 10gen \\u516C\\u53F8\\uFF08\\u540E\\u6765\\u6539\\u540D MongoDB Inc.\\uFF09\\u5F00\\u53D1\\uFF0C\\u76EE\\u6807\\u662F\\u6253\\u9020\\u4E00\\u4E2A\\u9AD8\\u6027\\u80FD\\u3001\\u6613\\u6269\\u5C55\\u7684\\u6570\\u636E\\u5E93\\u3002\\u76F8\\u6BD4 MySQL \\u7684\\u201C\\u8868\\u683C\\u5E1D\\u56FD\\u201D\\uFF0CMongoDB \\u7528\\u7684\\u662F\",(0,n.jsx)(e.strong,{children:\"\\u6587\\u6863\\u5B58\\u50A8\"}),\"\\u6A21\\u578B\\uFF0C\\u6570\\u636E\\u4EE5 JSON \\u6216\\u8005 BSON\\uFF08Binary JSON\\uFF09\\u7684\\u5F62\\u5F0F\\u4FDD\\u5B58\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u4E00\\u4E2A MongoDB \\u6570\\u636E\\u5E93\\u7531\\u201C\\u96C6\\u5408\\u201D\\uFF08Collections\\uFF09\\u548C\\u201C\\u6587\\u6863\\u201D\\uFF08Documents\\uFF09\\u7EC4\\u6210\\uFF0C\\u96C6\\u5408\\u76F8\\u5F53\\u4E8E MySQL \\u7684\\u8868\\uFF0C\\u6587\\u6863\\u76F8\\u5F53\\u4E8E\\u8868\\u91CC\\u7684\\u4E00\\u884C\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF0C\\u4E00\\u4E2A\\u7528\\u6237\\u6587\\u6863\\u53EF\\u80FD\\u662F\\u8FD9\\u6837\\u7684\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"_id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"12345\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"username\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"xiaolong\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"email\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"xl@cool.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"hobbies\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": [\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"coding\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"gaming\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"address\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"city\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Shanghai\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"zip\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"200000\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"created_at\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"2025-03-01T00:00:00Z\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u770B\\u5230\\u6CA1\\uFF1F\\u5D4C\\u5957\\u5BF9\\u8C61\\u3001\\u6570\\u7EC4\\uFF0C\\u60F3\\u548B\\u5199\\u548B\\u5199\\uFF0C\\u5B8C\\u5168\\u6CA1\\u6709\\u201C\\u5217\\u201D\\u7684\\u675F\\u7F1A\\u3002\\u8FD9\\u79CD\\u7075\\u6D3B\\u6027\\u7279\\u522B\\u9002\\u5408\\u524D\\u7AEF\\u5F00\\u53D1\\uFF0C\\u56E0\\u4E3A JSON \\u5C31\\u662F\\u6211\\u4EEC\\u7684\\u201C\\u6BCD\\u8BED\\u201D\\u554A\\uFF01\\u{1F60E}\"}),`\n`,(0,n.jsx)(e.p,{children:\"MongoDB \\u7684\\u53E3\\u53F7\\u662F\\u201C\\u7B80\\u5355\\u3001\\u5FEB\\u901F\\u3001\\u53EF\\u6269\\u5C55\\u201D\\uFF0C\\u5C24\\u5176\\u9002\\u5408\\u52A8\\u6001 Schema \\u7684\\u573A\\u666F\\uFF0C\\u6BD4\\u5982\\u535A\\u5BA2\\u7CFB\\u7EDF\\u3001\\u5B9E\\u65F6\\u5206\\u6790\\u3001\\u5185\\u5BB9\\u7BA1\\u7406\\u8FD9\\u4E9B\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u57FA\\u7840\\u7528\\u6CD5\\u589E\\u5220\\u6539\\u67E5mongodb-\\u7684\\u56DB\\u4EF6\\u5957\",children:(0,n.jsx)(e.a,{href:\"#\\u57FA\\u7840\\u7528\\u6CD5\\u589E\\u5220\\u6539\\u67E5mongodb-\\u7684\\u56DB\\u4EF6\\u5957\",children:\"\\u57FA\\u7840\\u7528\\u6CD5\\uFF1A\\u589E\\u5220\\u6539\\u67E5\\uFF0CMongoDB \\u7684\\u201C\\u56DB\\u4EF6\\u5957\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"MongoDB \\u7684\\u64CD\\u4F5C\\u4E3B\\u8981\\u901A\\u8FC7\\u547D\\u4EE4\\u6216\\u8005\\u9A71\\u52A8\\uFF08\\u6BD4\\u5982 Node.js \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"mongodb\"})})})}),\" \\u5305\\uFF09\\u5B8C\\u6210\\uFF0C\\u54B1\\u4EEC\\u4ECE\\u6700\\u57FA\\u672C\\u7684 CRUD \\u5F00\\u59CB\\uFF0C\\u7ED3\\u5408\\u524D\\u7AEF\\u573A\\u666F\\u4E3E\\u4F8B\\u5B50\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u67E5find\\u4ECE\\u6587\\u6863\\u5806\\u91CC\\u6316\\u6570\\u636E\",children:(0,n.jsx)(e.a,{href:\"#1-\\u67E5find\\u4ECE\\u6587\\u6863\\u5806\\u91CC\\u6316\\u6570\\u636E\",children:\"1. \\u67E5\\uFF08Find\\uFF09\\uFF1A\\u4ECE\\u6587\\u6863\\u5806\\u91CC\\u201C\\u6316\\u201D\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5047\\u8BBE\\u4F60\\u6709\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"users\"})})})}),\" \\u96C6\\u5408\\uFF0C\\u91CC\\u9762\\u5B58\\u4E86\\u4E00\\u5806\\u7528\\u6237\\u6570\\u636E\\u3002\\u60F3\\u627E\\u67D0\\u4E2A\\u7528\\u6237\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"xiaolong\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u524D\\u7AEF\\u62FF\\u5230\\u7ED3\\u679C\\u540E\\uFF0C\\u76F4\\u63A5\\u4E22\\u5230 React \\u7EC4\\u4EF6\\u91CC\\u6E32\\u67D3\\u3002\\u5982\\u679C\\u8981\\u67E5\\u6240\\u6709\\u4E0A\\u6D77\\u7684\\u7528\\u6237\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"address.city\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Shanghai\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u70B9\\u53F7\\u8BED\\u6CD5\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".\"})})})}),\"\\uFF09\\u7528\\u6765\\u8BBF\\u95EE\\u5D4C\\u5957\\u5B57\\u6BB5\\uFF0C\\u7075\\u6D3B\\u5F97\\u50CF\\u5728 JS \\u91CC\\u64CD\\u4F5C\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u60F3\\u5206\\u9875\\uFF1F\\u52A0\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"limit\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"skip\"})})})}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"skip\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"limit\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7B2C\\u4E00\\u9875\\u5C31\\u8FD9\\u6837\\u641E\\u5B9A\\uFF0C\\u7B2C\\u4E8C\\u9875\\u6539 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"skip(10)\"})})})}),\"\\uFF0C\\u4E1D\\u6ED1\\u5F97\\u5F88\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u589Einsert\\u5F80\\u96C6\\u5408\\u91CC\\u6254\\u6570\\u636E\",children:(0,n.jsx)(e.a,{href:\"#2-\\u589Einsert\\u5F80\\u96C6\\u5408\\u91CC\\u6254\\u6570\\u636E\",children:\"2. \\u589E\\uFF08Insert\\uFF09\\uFF1A\\u5F80\\u96C6\\u5408\\u91CC\\u201C\\u6254\\u201D\\u6570\\u636E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7528\\u6237\\u6CE8\\u518C\\u65F6\\uFF0C\\u524D\\u7AEF POST \\u4E86\\u4E2A\\u8868\\u5355\\uFF0C\\u540E\\u7AEF\\u63D2\\u6570\\u636E\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"insertOne\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"newbie\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  email: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"newbie@noob.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  created_at: \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Date\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u60F3\\u4E00\\u6B21\\u63D2\\u591A\\u4E2A\\uFF1F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"insertMany\"})})})}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"insertMany\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"coder1\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"c1@dev.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"coder2\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"c2@dev.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C31\\u50CF\\u5F80\\u8D2D\\u7269\\u8F66\\u91CC\\u4E22\\u4E1C\\u897F\\uFF0C\\u968F\\u624B\\u4E00\\u6254\\u5C31\\u884C\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u6539update\\u7ED9\\u6587\\u6863\\u6574\\u5F62\",children:(0,n.jsx)(e.a,{href:\"#3-\\u6539update\\u7ED9\\u6587\\u6863\\u6574\\u5F62\",children:\"3. \\u6539\\uFF08Update\\uFF09\\uFF1A\\u7ED9\\u6587\\u6863\\u201C\\u6574\\u5F62\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7528\\u6237\\u6539\\u90AE\\u7BB1\\uFF1F\\u524D\\u7AEF\\u53D1\\u8BF7\\u6C42\\uFF0C\\u540E\\u7AEF\\u66F4\\u65B0\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"updateOne\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { _id: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"12345\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { $set: { email: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"newemail@cool.com\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"$set\"})})})}),\" \\u662F\\u66F4\\u65B0\\u5B57\\u6BB5\\u7684\\u795E\\u5668\\uFF0C\\u4E0D\\u7528\\u62C5\\u5FC3\\u8986\\u76D6\\u5176\\u4ED6\\u6570\\u636E\\u3002\\u5982\\u679C\\u8981\\u7ED9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"hobbies\"})})})}),\" \\u52A0\\u4E2A\\u65B0\\u7231\\u597D\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"updateOne\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { _id: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"12345\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { $push: { hobbies: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"reading\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"$push\"})})})}),\" \\u5C31\\u50CF\\u6570\\u7EC4\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"push\"})})})}),\" \\u65B9\\u6CD5\\uFF0C\\u719F\\u6089\\u5427\\uFF1F\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u5220delete\\u6E05\\u7406\\u8FC7\\u671F\\u6570\\u636E\",children:(0,n.jsx)(e.a,{href:\"#4-\\u5220delete\\u6E05\\u7406\\u8FC7\\u671F\\u6570\\u636E\",children:\"4. \\u5220\\uFF08Delete\\uFF09\\uFF1A\\u6E05\\u7406\\u201C\\u8FC7\\u671F\\u201D\\u6570\\u636E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7528\\u6237\\u6CE8\\u9500\\u8D26\\u53F7\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"deleteOne\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ _id: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"12345\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6279\\u91CF\\u5220\\u9664\\u4E0A\\u6D77\\u4EE5\\u5916\\u7684\\u7528\\u6237\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"deleteMany\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"address.city\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": { $ne: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Shanghai\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } });\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"$ne\"})})})}),\" \\u8868\\u793A\\u201C\\u4E0D\\u7B49\\u4E8E\\u201D\\uFF0CMongoDB \\u7684\\u67E5\\u8BE2\\u64CD\\u4F5C\\u7B26\\u8D3C\\u591A\\uFF0C\\u540E\\u9762\\u7EC6\\u804A\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6DF1\\u5165\\u539F\\u7406mongodb-\\u548B\\u8DD1\\u7684\",children:(0,n.jsx)(e.a,{href:\"#\\u6DF1\\u5165\\u539F\\u7406mongodb-\\u548B\\u8DD1\\u7684\",children:\"\\u6DF1\\u5165\\u539F\\u7406\\uFF1AMongoDB \\u548B\\u8DD1\\u7684\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5149\\u4F1A\\u7528\\u8FD8\\u4E0D\\u591F\\uFF0C\\u54B1\\u4EEC\\u5F97\\u641E\\u61C2 MongoDB \\u7684\\u201C\\u5185\\u529F\\u5FC3\\u6CD5\\u201D\\uFF0C\\u8FD9\\u6837\\u624D\\u80FD\\u5199\\u51FA\\u4F18\\u96C5\\u53C8\\u9AD8\\u6548\\u7684\\u4EE3\\u7801\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u6570\\u636E\\u5B58\\u50A8bson-\\u7684\\u79D8\\u5BC6\\u6B66\\u5668\",children:(0,n.jsx)(e.a,{href:\"#\\u6570\\u636E\\u5B58\\u50A8bson-\\u7684\\u79D8\\u5BC6\\u6B66\\u5668\",children:\"\\u6570\\u636E\\u5B58\\u50A8\\uFF1ABSON \\u7684\\u201C\\u79D8\\u5BC6\\u6B66\\u5668\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"MongoDB \\u7528 BSON \\u5B58\\u6570\\u636E\\uFF0C\\u6BD4 JSON \\u591A\\u4E86\\u4E00\\u4E9B\\u7C7B\\u578B\\uFF08\\u6BD4\\u5982 Date\\u3001\\u4E8C\\u8FDB\\u5236\\u6570\\u636E\\uFF09\\uFF0C\\u8FD8\\u80FD\\u538B\\u7F29\\u5B58\\u50A8\\u3002\\u6587\\u6863\\u662F\\u65E0 Schema \\u7684\\uFF0C\\u610F\\u5473\\u7740\\u4F60\\u4ECA\\u5929\\u5B58 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'{name: \"xiaolong\"}'})})})}),\"\\uFF0C\\u660E\\u5929\\u52A0\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"age: 25\"})})})}),\"\\uFF0C\\u5B8C\\u5168\\u6CA1\\u538B\\u529B\\u3002\\u4F46\\u8FD9\\u4E5F\\u610F\\u5473\\u7740\\u4F60\\u5F97\\u81EA\\u5DF1\\u7BA1\\u597D\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u4E0D\\u7136\\u5BB9\\u6613\\u201C\\u4E71\\u6210\\u9EBB\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7D22\\u5F15mongodb-\\u7684\\u52A0\\u901F\\u5668\",children:(0,n.jsx)(e.a,{href:\"#\\u7D22\\u5F15mongodb-\\u7684\\u52A0\\u901F\\u5668\",children:\"\\u7D22\\u5F15\\uFF1AMongoDB \\u7684\\u201C\\u52A0\\u901F\\u5668\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6CA1\\u7D22\\u5F15\\u7684\\u67E5\\u8BE2\\u5C31\\u50CF\\u201C\\u5927\\u6D77\\u635E\\u9488\\u201D\\uFF0C\\u52A0\\u4E2A\\u7D22\\u5F15\\u8BD5\\u8BD5\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createIndex\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ username: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"1\"})})})}),\" \\u8868\\u793A\\u5347\\u5E8F\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"-1\"})})})}),\" \\u662F\\u964D\\u5E8F\\u3002MongoDB \\u7528 B \\u6811\\uFF08\\u6216\\u8005 B+ \\u6811\\uFF09\\u5B9E\\u73B0\\u7D22\\u5F15\\uFF0C\\u67E5\\u627E\\u6548\\u7387\\u55D6\\u55D6\\u7684\\u3002\\u5D4C\\u5957\\u5B57\\u6BB5\\u4E5F\\u80FD\\u52A0\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createIndex\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"address.city\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0D\\u8FC7\\u7D22\\u5F15\\u4E0D\\u662F\\u8D8A\\u591A\\u8D8A\\u597D\\uFF0C\\u5199\\u64CD\\u4F5C\\u4F1A\\u53D8\\u6162\\uFF0C\\u7A7A\\u95F4\\u4E5F\\u5F97\\u5360\\u7740\\uFF0C\\u6743\\u8861\\u4E00\\u4E0B\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u805A\\u5408aggregation\\u6570\\u636E\\u7684\\u53D8\\u5F62\\u91D1\\u521A\",children:(0,n.jsx)(e.a,{href:\"#\\u805A\\u5408aggregation\\u6570\\u636E\\u7684\\u53D8\\u5F62\\u91D1\\u521A\",children:\"\\u805A\\u5408\\uFF08Aggregation\\uFF09\\uFF1A\\u6570\\u636E\\u7684\\u201C\\u53D8\\u5F62\\u91D1\\u521A\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u60F3\\u7EDF\\u8BA1\\u6BCF\\u4E2A\\u57CE\\u5E02\\u7684\\u7528\\u6237\\u6570\\uFF1F\\u7528\\u805A\\u5408\\u7BA1\\u9053\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"aggregate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { $group: { _id: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"$address.city\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", count: { $sum: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } } },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { $sort: { count: \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7ED3\\u679C\\u53EF\\u80FD\\u662F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"[\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"_id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Shanghai\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"count\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"50\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"_id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Beijing\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"count\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"30\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u805A\\u5408\\u5C31\\u50CF\\u6D41\\u6C34\\u7EBF\\uFF0C\\u5148\\u5206\\u7EC4\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"$group\"})})})}),\"\\uFF09\\uFF0C\\u518D\\u6392\\u5E8F\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"$sort\"})})})}),\"\\uFF09\\uFF0C\\u8FD8\\u80FD\\u52A0\\u8FC7\\u6EE4\\u3001\\u6295\\u5F71\\uFF0C\\u529F\\u80FD\\u5F3A\\u5927\\u5230\\u98DE\\u8D77\\u3002\\u524D\\u7AEF\\u62FF\\u6765\\u505A\\u6570\\u636E\\u53EF\\u89C6\\u5316\\uFF0C\\u7B80\\u76F4\\u5B8C\\u7F8E\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5206\\u7247\\u4E0E\\u590D\\u5236mongodb-\\u7684\\u5206\\u8EAB\\u672F\",children:(0,n.jsx)(e.a,{href:\"#\\u5206\\u7247\\u4E0E\\u590D\\u5236mongodb-\\u7684\\u5206\\u8EAB\\u672F\",children:\"\\u5206\\u7247\\u4E0E\\u590D\\u5236\\uFF1AMongoDB \\u7684\\u201C\\u5206\\u8EAB\\u672F\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6570\\u636E\\u91CF\\u5927\\u4E86\\u600E\\u4E48\\u529E\\uFF1FMongoDB \\u652F\\u6301\",(0,n.jsx)(e.strong,{children:\"\\u5206\\u7247\\uFF08Sharding\\uFF09\"}),\"\\uFF0C\\u628A\\u6570\\u636E\\u62C6\\u5230\\u591A\\u53F0\\u673A\\u5668\\u4E0A\\uFF1B\\u8FD8\\u6709\",(0,n.jsx)(e.strong,{children:\"\\u526F\\u672C\\u96C6\\uFF08Replica Set\\uFF09\"}),\"\\uFF0C\\u4FDD\\u8BC1\\u6570\\u636E\\u9AD8\\u53EF\\u7528\\u3002\\u7B80\\u5355\\u6BD4\\u55BB\\uFF1A\\u5206\\u7247\\u662F\\u201C\\u5206\\u62C5\\u538B\\u529B\\u201D\\uFF0C\\u526F\\u672C\\u96C6\\u662F\\u201C\\u5907\\u4EFD\\u6551\\u547D\\u201D\\u3002\\u524D\\u7AEF\\u5F00\\u53D1\\u4E00\\u822C\\u7528\\u4E0D\\u5230\\u8FD9\\u4E9B\\uFF0C\\u4F46\\u77E5\\u9053\\u539F\\u7406\\u80FD\\u8BA9\\u4F60\\u8DDF\\u540E\\u7AEF\\u5927\\u4F6C\\u804A\\u5F97\\u66F4\\u55E8\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u524D\\u7AEF\\u573A\\u666Fmongodb-\\u548B\\u73A9\",children:(0,n.jsx)(e.a,{href:\"#\\u524D\\u7AEF\\u573A\\u666Fmongodb-\\u548B\\u73A9\",children:\"\\u524D\\u7AEF\\u573A\\u666F\\uFF1AMongoDB \\u548B\\u73A9\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"MongoDB \\u548C\\u524D\\u7AEF\\u7684\\u201C\\u5316\\u5B66\\u53CD\\u5E94\\u201D\\u7279\\u522B\\u68D2\\uFF0C\\u54B1\\u4EEC\\u804A\\u51E0\\u4E2A\\u5E38\\u89C1\\u573A\\u666F\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u52A8\\u6001\\u8868\\u5355schema-\\u968F\\u4FBF\\u53D8\",children:(0,n.jsx)(e.a,{href:\"#1-\\u52A8\\u6001\\u8868\\u5355schema-\\u968F\\u4FBF\\u53D8\",children:\"1. \\u52A8\\u6001\\u8868\\u5355\\uFF1ASchema \\u968F\\u4FBF\\u53D8\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u524D\\u7AEF\\u8981\\u505A\\u4E2A\\u52A8\\u6001\\u8868\\u5355\\uFF0C\\u7528\\u6237\\u60F3\\u52A0\\u5B57\\u6BB5\\u5C31\\u52A0\\u5B57\\u6BB5\\uFF0CMongoDB \\u5B8C\\u5168 hold \\u5F97\\u4F4F\\u3002\\u6BD4\\u5982\\u7528\\u6237\\u8868\\u4ECE\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{ \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"username\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"xiaolong\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u53D8\\u6210\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{ \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"username\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"xiaolong\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"phone\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"123456789\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u540E\\u7AEF\\u4E0D\\u7528\\u6539\\u8868\\u7ED3\\u6784\\uFF0C\\u524D\\u7AEF\\u76F4\\u63A5\\u6E32\\u67D3\\u65B0\\u5B57\\u6BB5\\uFF0C\\u5F00\\u53D1\\u6548\\u7387\\u8D77\\u98DE\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u5B9E\\u65F6\\u8BC4\\u8BBA\\u7CFB\\u7EDF\",children:(0,n.jsx)(e.a,{href:\"#2-\\u5B9E\\u65F6\\u8BC4\\u8BBA\\u7CFB\\u7EDF\",children:\"2. \\u5B9E\\u65F6\\u8BC4\\u8BBA\\u7CFB\\u7EDF\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u535A\\u5BA2\\u8BC4\\u8BBA\\u96C6\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"comments\"})})})}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"post_id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"abc123\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"content\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u597D\\u6587\\uFF01\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"user\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"12345\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'\"name\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"xiaolong\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"created_at\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"2025-03-23T10:00:00Z\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u67E5\\u67D0\\u7BC7\\u6587\\u7AE0\\u7684\\u8BC4\\u8BBA\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.comments.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ post_id: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"abc123\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sort\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ created_at: \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u524D\\u7AEF\\u7528 WebSocket \\u63A8\\u5B9E\\u65F6\\u66F4\\u65B0\\uFF0C\\u8BC4\\u8BBA\\u79D2\\u5237\\u51FA\\u6765\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5D4C\\u5957\\u6570\\u636E\\u7701\\u53BB\\u8054\\u8868\\u9EBB\\u70E6\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5D4C\\u5957\\u6570\\u636E\\u7701\\u53BB\\u8054\\u8868\\u9EBB\\u70E6\",children:\"3. \\u5D4C\\u5957\\u6570\\u636E\\uFF1A\\u7701\\u53BB\\u8054\\u8868\\u9EBB\\u70E6\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BA2\\u5355\\u6570\\u636E\\u76F4\\u63A5\\u5D4C\\u5957\\u7528\\u6237\\u4FE1\\u606F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"order_id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"o123\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"user\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"12345\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'    \"username\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"xiaolong\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:'  \"amount\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0D\\u50CF MySQL \\u8FD8\\u5F97 JOIN \\u8868\\uFF0C\\u4E00\\u6B21\\u67E5\\u8BE2\\u5168\\u641E\\u5B9A\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4F18\\u5316\\u6280\\u5DE7\\u8BA9-mongodb-\\u8DD1\\u5F97\\u6B22\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u5316\\u6280\\u5DE7\\u8BA9-mongodb-\\u8DD1\\u5F97\\u6B22\",children:\"\\u4F18\\u5316\\u6280\\u5DE7\\uFF1A\\u8BA9 MongoDB \\u201C\\u8DD1\\u5F97\\u6B22\\u201D\"})}),`\n`,(0,n.jsx)(e.p,{children:\"MongoDB \\u9ED8\\u8BA4\\u633A\\u5FEB\\uFF0C\\u4F46\\u7528\\u4E0D\\u597D\\u7167\\u6837\\u201C\\u5361\\u6210\\u72D7\\u201D\\u3002\\u5206\\u4EAB\\u51E0\\u62DB\\u5B9E\\u6218\\u7ECF\\u9A8C\\uFF1A\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u7528-explain-\\u5206\\u6790\\u67E5\\u8BE2\",children:(0,n.jsxs)(e.a,{href:\"#1-\\u7528-explain-\\u5206\\u6790\\u67E5\\u8BE2\",children:[\"1. \\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"explain()\"})})})}),\" \\u5206\\u6790\\u67E5\\u8BE2\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u60F3\\u77E5\\u9053\\u67E5\\u8BE2\\u548B\\u6267\\u884C\\u7684\\uFF1F\\u52A0\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"explain()\"})})})}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.users.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"xiaolong\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"explain\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"executionStats\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u544A\\u8BC9\\u4F60\\u7528\\u6CA1\\u7528\\u7D22\\u5F15\\u3001\\u626B\\u4E86\\u591A\\u5C11\\u6587\\u6863\\uFF0C\\u5FC3\\u91CC\\u6709\\u5E95\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u5C0F\\u5FC3\\u5D4C\\u5957\\u592A\\u6DF1\",children:(0,n.jsx)(e.a,{href:\"#2-\\u5C0F\\u5FC3\\u5D4C\\u5957\\u592A\\u6DF1\",children:\"2. \\u5C0F\\u5FC3\\u5D4C\\u5957\\u592A\\u6DF1\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6587\\u6863\\u5D4C\\u5957\\u4E94\\u516D\\u5C42\\u867D\\u7136\\u723D\\uFF0C\\u4F46\\u67E5\\u8BE2\\u548C\\u66F4\\u65B0\\u4F1A\\u53D8\\u6162\\u3002\\u80FD\\u6241\\u5E73\\u5316\\u5C31\\u6241\\u5E73\\u5316\\uFF0C\\u522B\\u201C\\u5957\\u5A03\\u201D\\u5957\\u8FC7\\u5934\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u6279\\u91CF\\u5199\\u522B\\u5355\\u6761\\u641E\",children:(0,n.jsx)(e.a,{href:\"#3-\\u6279\\u91CF\\u5199\\u522B\\u5355\\u6761\\u641E\",children:\"3. \\u6279\\u91CF\\u5199\\uFF0C\\u522B\\u5355\\u6761\\u641E\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6279\\u91CF\\u63D2\\u5165\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"insertMany\"})})})}),\"\\uFF0C\\u6279\\u91CF\\u66F4\\u65B0\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"updateMany\"})})})}),\"\\uFF0C\\u7F51\\u7EDC\\u548C\\u78C1\\u76D8\\u538B\\u529B\\u5C0F\\u5F97\\u591A\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u7F13\\u5B58\\u70ED\\u70B9\\u6570\\u636E\",children:(0,n.jsx)(e.a,{href:\"#4-\\u7F13\\u5B58\\u70ED\\u70B9\\u6570\\u636E\",children:\"4. \\u7F13\\u5B58\\u70ED\\u70B9\\u6570\\u636E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BC4\\u8BBA\\u5217\\u8868\\u8BBF\\u95EE\\u91CF\\u9AD8\\uFF1F\\u4E22\\u5230 Redis \\u91CC\\uFF0CMongoDB \\u53EA\\u7BA1\\u6301\\u4E45\\u5316\\uFF0C\\u6027\\u80FD\\u55F7\\u55F7\\u53EB\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u5C11\\u7FFB\\u8F66\\u591A\\u7701\\u5FC3\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u5C11\\u7FFB\\u8F66\\u591A\\u7701\\u5FC3\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u5C11\\u7FFB\\u8F66\\uFF0C\\u591A\\u7701\\u5FC3\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8BBE\\u8BA1\\u5408\\u7406\\u7684 Schema\"}),\"\\uFF1A\\u867D\\u7136\\u65E0 Schema\\uFF0C\\u4F46\\u5F97\\u89C4\\u5212\\u597D\\u5B57\\u6BB5\\uFF0C\\u522B\\u8BA9\\u6570\\u636E\\u201C\\u91CE\\u86EE\\u751F\\u957F\\u201D\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.strong,{children:[\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"_id\"})})})}),\" \\u505A\\u4E3B\\u952E\"]}),\"\\uFF1A\\u9ED8\\u8BA4\\u7684 ObjectId \\u81EA\\u5E26\\u65F6\\u95F4\\u6233\\uFF0C\\u67E5\\u8D77\\u6765\\u65B9\\u4FBF\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u907F\\u514D\\u5927\\u6587\\u6863\"}),\"\\uFF1A\\u5355\\u4E2A\\u6587\\u6863\\u522B\\u8D85 16MB\\uFF08MongoDB \\u9650\\u5236\\uFF09\\uFF0C\\u5927\\u4E86\\u62C6\\u5206\\u5F00\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B9A\\u671F\\u6E05\\u7406\\u8FC7\\u671F\\u6570\\u636E\"}),\"\\uFF1A\\u7528 TTL \\u7D22\\u5F15\\u81EA\\u52A8\\u5220\\uFF0C\\u6BD4\\u5982\\uFF1A\",`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.logs.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createIndex\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ created_at: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }, { expireAfterSeconds: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"86400\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})})})}),`\n`,\"24 \\u5C0F\\u65F6\\u540E\\u81EA\\u52A8\\u6E05\\u7406\\u65E5\\u5FD7\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5199\\u5728\\u6700\\u540E\",children:(0,n.jsx)(e.a,{href:\"#\\u5199\\u5728\\u6700\\u540E\",children:\"\\u5199\\u5728\\u6700\\u540E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"MongoDB \\u5C31\\u50CF\\u4E2A\\u201C\\u968F\\u6027\\u201D\\u7684\\u670B\\u53CB\\uFF0C\\u7ED9\\u4F60\\u81EA\\u7531\\u7684\\u540C\\u65F6\\uFF0C\\u4E5F\\u8981\\u6C42\\u4F60\\u6709\\u70B9\\u81EA\\u5F8B\\u3002\\u5B83\\u7684\\u7075\\u6D3B\\u6027\\u7279\\u522B\\u9002\\u5408\\u524D\\u7AEF\\u5F00\\u53D1\\uFF0C\\u5C24\\u5176\\u662F\\u5FEB\\u901F\\u8FED\\u4EE3\\u7684\\u9879\\u76EE\\u3002\\u5B66\\u4F1A\\u7528\\u597D\\u7D22\\u5F15\\u3001\\u805A\\u5408\\u548C\\u5408\\u7406\\u7684\\u8BBE\\u8BA1\\uFF0C\\u80FD\\u8BA9\\u4F60\\u7684\\u5E94\\u7528\\u65E2\\u5FEB\\u53C8\\u7A33\\u3002\\u5F53\\u7136\\uFF0CNoSQL \\u4E5F\\u6709\\u5C40\\u9650\\uFF0C\\u6BD4\\u5982\\u4E8B\\u52A1\\u652F\\u6301\\u4E0D\\u5982 MySQL\\uFF08\\u867D\\u7136 4.0 \\u540E\\u52A0\\u5F3A\\u4E86\\uFF09\\uFF0C\\u5F97\\u770B\\u573A\\u666F\\u9009\\u5DE5\\u5177\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F60\\u6709\\u5565 MongoDB \\u7684\\u201C\\u5947\\u8469\\u7ECF\\u5386\\u201D\\u6216\\u8005\\u7EDD\\u62DB\\u5417\\uFF1F\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u201C\\u5F00\\u8111\\u6D1E\\u201D\\uFF01\\u{1F31F}\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(s,{...a})}):s(a)}return b(x);})();\n;return Component;"
  },
  "_id": "DB/Mongodb.mdx",
  "_raw": {
    "sourceFilePath": "DB/Mongodb.mdx",
    "sourceFileName": "Mongodb.mdx",
    "sourceFileDir": "DB",
    "contentType": "mdx",
    "flattenedPath": "DB/Mongodb"
  },
  "type": "Post",
  "url": "/blog/DB/Mongodb"
}
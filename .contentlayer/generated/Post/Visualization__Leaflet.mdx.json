{
  "title": "聊聊 Leaflet：轻量级地图库的魅力与源码解析",
  "date": "2024-07-27T00:00:00.000Z",
  "description": "深入探讨 Leaflet 的核心功能、使用场景及源码实现，带你从入门到精通这个轻量级地图库。",
  "keywords": "Leaflet, 地图库, JavaScript, GIS, 开源, 前端开发, 源码解析",
  "author": "晓龙",
  "image": "/images/hero/leaflet-hero.jpg",
  "tags": [
    "Leaflet",
    "JavaScript",
    "前端开发",
    "GIS"
  ],
  "views": 0,
  "likes": 0,
  "category": "Visualization",
  "body": {
    "raw": "\nLeaflet 是一个轻量、开源的 JavaScript 地图库，自 2011 年发布以来，凭借其简洁的 API、强大的扩展性和出色的性能，赢得了无数开发者的青睐。相比于庞大而复杂的 Google Maps API 或 OpenLayers，Leaflet 的核心代码只有不到 40KB，却能满足绝大多数 Web 地图需求。今天，我们就来聊聊 Leaflet 的魅力，从使用场景到源码层面，一步步揭开它的面纱。\n\n## Leaflet 是什么？\n\n简单来说，Leaflet 是一个用于在网页中嵌入交互式地图的工具。它支持基本的地图展示、标记（Marker）、弹出窗口（Popup）、图层切换等功能，同时提供了丰富的插件生态，比如热力图、路径规划等。它的设计哲学是“轻量优先”和“开发者友好”，这也是它能在前端社区经久不衰的原因。\n\n我第一次接触 Leaflet 是在一个物流跟踪项目中。当时需要实时显示车辆位置，Google Maps 的加载速度和 API 限制让我头疼，而 Leaflet 配合 OpenStreetMap 瓦片，几行代码就搞定了需求。从那时起，我就被它的简洁和灵活性吸引了。\n\n## 快速上手：Leaflet 的基本用法\n\n让我们从一个简单的例子开始，感受 Leaflet 的直观性。\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n  <style>\n    #map { height: 400px; }\n  </style>\n</head>\n<body>\n  <div id=\"map\"></div>\n  <script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n  <script>\n    // 初始化地图，中心点设为北京，缩放级别为 13\n    const map = L.map('map').setView([39.9042, 116.4074], 13);\n\n    // 添加 OpenStreetMap 瓦片层\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n    }).addTo(map);\n\n    // 添加一个标记点\n    L.marker([39.9042, 116.4074]).addTo(map)\n      .bindPopup('这里是北京！')\n      .openPopup();\n  </script>\n</body>\n</html>\n```\n\n这段代码展示了一个基础的 Leaflet 地图：创建地图实例、加载瓦片层、添加标记和弹出窗口。运行后，你会看到一个以北京为中心的地图，点击标记会显示“这里是北京！”。\n\n## 核心功能与设计理念\n\nLeaflet 的核心功能围绕着地图交互和图层管理展开。以下是几个关键点：\n\n### 1. 地图初始化与坐标系\n\n`L.map` 是 Leaflet 的入口。它接受一个 DOM 元素 ID 和配置对象，初始化一个地图实例。`setView` 方法设置中心点和缩放级别，这里的坐标使用的是 WGS84 经纬度系统，和 GIS 领域的主流标准一致。\n\n### 2. 图层系统（Layers）\n\nLeaflet 的图层机制非常灵活。`L.tileLayer` 用于加载瓦片地图，支持多种瓦片源（如 OpenStreetMap、Mapbox）。除了瓦片层，你还可以添加矢量层（`L.polyline`、`L.polygon`）、标记层（`L.marker`）等。图层可以通过 `addTo` 和 `remove` 方法动态管理。\n\n### 3. 事件系统\n\nLeaflet 的事件处理非常强大。例如，你可以监听地图的点击、缩放、拖动等操作：\n\n```javascript\nmap.on('click', (e) => {\n  L.popup()\n    .setLatLng(e.latlng)\n    .setContent(`你点击了：${e.latlng.toString()}`)\n    .openOn(map);\n});\n```\n\n这种事件驱动的设计让交互变得简单直观。\n\n## 从源码看 Leaflet 的实现\n\nLeaflet 的源码非常值得一读，既简洁又充满巧思。我们以几个核心模块为例，深入剖析它的实现。\n\n### 1. L.Class：面向对象的基石\n\nLeaflet 使用了一个自定义的类系统 `L.Class`，而不是直接依赖 ES6 的 `class`（毕竟它诞生于 ES6 普及之前）。`L.Class` 提供了一种简洁的继承和扩展机制。\n\n源码片段（简化和注释）：\n\n```javascript\nL.Class = function () {};\n\nL.Class.extend = function (props) {\n  let NewClass = function () {\n    if (this.initialize) {\n      this.initialize.apply(this, arguments);\n    }\n  };\n  NewClass.prototype = Object.create(this.prototype);\n  Object.assign(NewClass.prototype, props);\n  return NewClass;\n};\n\nL.Class.include = function (props) {\n  Object.assign(this.prototype, props);\n};\n```\n\n比如 `L.Map` 就是通过 `L.Class.extend` 创建的：\n\n```javascript\nL.Map = L.Class.extend({\n  initialize: function (id, options) {\n    this._container = L.DomUtil.get(id);\n    this._initLayout();\n    // ...更多初始化逻辑\n  },\n  // ...\n});\n```\n\n这种设计让 Leaflet 的模块化非常优雅，开发者也可以通过 `L.Class.extend` 自定义插件。\n\n### 2. 坐标与投影：地图的数学核心\n\n地图的核心是坐标转换。Leaflet 使用了 `L.LatLng` 表示经纬度，`L.Point` 表示像素坐标。投影部分由 `L.Projection` 处理，默认使用 Mercator 投影（`L.Projection.Mercator`）。\n\n源码中，`L.Projection.Mercator` 的实现如下（简化版）：\n\n```javascript\nL.Projection.Mercator = {\n  project: function (latlng) {\n    const R = 6378137; // 地球半径（米）\n    const x = R * latlng.lng * Math.PI / 180;\n    const y = R * Math.log(Math.tan(Math.PI / 4 + latlng.lat * Math.PI / 360));\n    return new L.Point(x, y);\n  },\n  unproject: function (point) {\n    const R = 6378137;\n    const lng = point.x * 180 / (Math.PI * R);\n    const lat = (Math.atan(Math.exp(point.y / R)) - Math.PI / 4) * 360 / Math.PI;\n    return new L.LatLng(lat, lng);\n  }\n};\n```\n\n这段代码将经纬度转换为平面坐标（投影），再通过逆运算还原。这种实现既高效又符合 GIS 标准。\n\n### 3. 图层渲染：性能的秘密\n\nLeaflet 的瓦片层渲染是性能优化的典范。`L.TileLayer` 会根据当前视口和缩放级别动态加载瓦片，源码中关键逻辑在 `_update` 方法：\n\n```javascript\n_update: function () {\n  const bounds = this._map.getBounds();\n  const zoom = this._map.getZoom();\n  const tileSize = this.options.tileSize;\n\n  const nwTilePoint = this._getTilePos(bounds.getNorthWest());\n  const seTilePoint = this._getTilePos(bounds.getSouthEast());\n\n  // 计算需要加载的瓦片范围\n  for (let j = nwTilePoint.y; j <= seTilePoint.y; j++) {\n    for (let i = nwTilePoint.x; i <= seTilePoint.x; i++) {\n      this._addTile(new L.Point(i, j), zoom);\n    }\n  }\n}\n```\n\n通过这种方式，Leaflet 避免了加载视口外的瓦片，大幅提升了渲染效率。\n\n## 实战案例：打造一个动态轨迹地图\n\n我们用一个稍微复杂点的例子，展示 Leaflet 的能力：实时显示移动轨迹。\n\n```javascript\nconst map = L.map('map').setView([39.9042, 116.4074], 13);\nL.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n\n// 模拟轨迹数据\nconst pathData = [\n  [39.9042, 116.4074],\n  [39.9142, 116.4174],\n  [39.9242, 116.4274]\n];\n\n// 创建折线\nconst polyline = L.polyline(pathData, { color: 'red' }).addTo(map);\n\n// 动态更新轨迹\nlet index = 0;\nsetInterval(() => {\n  if (index < pathData.length) {\n    polyline.addLatLng(pathData[index]);\n    map.panTo(pathData[index]); // 地图跟随移动\n    index++;\n  }\n}, 1000);\n```\n\n这个例子模拟了一条从起点到终点的轨迹，地图会自动平移跟随。实际项目中，你可以替换为 WebSocket 推送的实时数据。\n\n## Leaflet 的优缺点\n\n### 优点\n- **轻量**：核心库极小，加载快。\n- **灵活**：插件生态丰富，几乎能满足所有需求。\n- **社区活跃**：文档完善，更新频繁。\n\n### 缺点\n- **功能有限**：相比 OpenLayers，内置的高级 GIS 功能较少。\n- **学习曲线**：对于复杂的自定义需求，需深入理解源码。\n\n## 结语\n\nLeaflet 是一个典型的“麻雀虽小，五脏俱全”的开源项目。它的轻量级设计和源码中的巧妙实现，让它在性能与功能之间找到了绝佳平衡点。不管你是想快速实现一个地图功能，还是深入研究 GIS 与前端的结合，Leaflet 都是值得一试的工具。\n\n读完这篇博客，你是不是也对 Leaflet 有了新的认识？不妨动手试试，写几行代码，或者翻翻它的源码，也许会有更多惊喜等着你。\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var B=(n,l)=>()=>(l||n((l={exports:{}}).exports,l),l.exports),u=(n,l)=>{for(var r in l)c(n,r,{get:l[r],enumerable:!0})},o=(n,l,r,s)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let a of y(l))!g.call(n,a)&&a!==r&&c(n,a,{get:()=>l[a],enumerable:!(s=E(l,a))||s.enumerable});return n};var f=(n,l,r)=>(r=n!=null?p(F(n)):{},o(l||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),m=n=>o(c({},\"__esModule\",{value:!0}),n);var d=B((k,t)=>{t.exports=_jsx_runtime});var x={};u(x,{default:()=>h,frontmatter:()=>L});var e=f(d()),L={type:\"Post\",title:\"\\u804A\\u804A Leaflet\\uFF1A\\u8F7B\\u91CF\\u7EA7\\u5730\\u56FE\\u5E93\\u7684\\u9B45\\u529B\\u4E0E\\u6E90\\u7801\\u89E3\\u6790\",date:\"2024-07-27\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8 Leaflet \\u7684\\u6838\\u5FC3\\u529F\\u80FD\\u3001\\u4F7F\\u7528\\u573A\\u666F\\u53CA\\u6E90\\u7801\\u5B9E\\u73B0\\uFF0C\\u5E26\\u4F60\\u4ECE\\u5165\\u95E8\\u5230\\u7CBE\\u901A\\u8FD9\\u4E2A\\u8F7B\\u91CF\\u7EA7\\u5730\\u56FE\\u5E93\\u3002\",keywords:\"Leaflet, \\u5730\\u56FE\\u5E93, JavaScript, GIS, \\u5F00\\u6E90, \\u524D\\u7AEF\\u5F00\\u53D1, \\u6E90\\u7801\\u89E3\\u6790\",author:\"\\u6653\\u9F99\",image:\"/images/hero/leaflet-hero.jpg\",tags:[\"Leaflet\",\"JavaScript\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"GIS\"],category:\"Visualization\"};function i(n){let l={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l.p,{children:\"Leaflet \\u662F\\u4E00\\u4E2A\\u8F7B\\u91CF\\u3001\\u5F00\\u6E90\\u7684 JavaScript \\u5730\\u56FE\\u5E93\\uFF0C\\u81EA 2011 \\u5E74\\u53D1\\u5E03\\u4EE5\\u6765\\uFF0C\\u51ED\\u501F\\u5176\\u7B80\\u6D01\\u7684 API\\u3001\\u5F3A\\u5927\\u7684\\u6269\\u5C55\\u6027\\u548C\\u51FA\\u8272\\u7684\\u6027\\u80FD\\uFF0C\\u8D62\\u5F97\\u4E86\\u65E0\\u6570\\u5F00\\u53D1\\u8005\\u7684\\u9752\\u7750\\u3002\\u76F8\\u6BD4\\u4E8E\\u5E9E\\u5927\\u800C\\u590D\\u6742\\u7684 Google Maps API \\u6216 OpenLayers\\uFF0CLeaflet \\u7684\\u6838\\u5FC3\\u4EE3\\u7801\\u53EA\\u6709\\u4E0D\\u5230 40KB\\uFF0C\\u5374\\u80FD\\u6EE1\\u8DB3\\u7EDD\\u5927\\u591A\\u6570 Web \\u5730\\u56FE\\u9700\\u6C42\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C31\\u6765\\u804A\\u804A Leaflet \\u7684\\u9B45\\u529B\\uFF0C\\u4ECE\\u4F7F\\u7528\\u573A\\u666F\\u5230\\u6E90\\u7801\\u5C42\\u9762\\uFF0C\\u4E00\\u6B65\\u6B65\\u63ED\\u5F00\\u5B83\\u7684\\u9762\\u7EB1\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"leaflet-\\u662F\\u4EC0\\u4E48\",children:(0,e.jsx)(l.a,{href:\"#leaflet-\\u662F\\u4EC0\\u4E48\",children:\"Leaflet \\u662F\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u7B80\\u5355\\u6765\\u8BF4\\uFF0CLeaflet \\u662F\\u4E00\\u4E2A\\u7528\\u4E8E\\u5728\\u7F51\\u9875\\u4E2D\\u5D4C\\u5165\\u4EA4\\u4E92\\u5F0F\\u5730\\u56FE\\u7684\\u5DE5\\u5177\\u3002\\u5B83\\u652F\\u6301\\u57FA\\u672C\\u7684\\u5730\\u56FE\\u5C55\\u793A\\u3001\\u6807\\u8BB0\\uFF08Marker\\uFF09\\u3001\\u5F39\\u51FA\\u7A97\\u53E3\\uFF08Popup\\uFF09\\u3001\\u56FE\\u5C42\\u5207\\u6362\\u7B49\\u529F\\u80FD\\uFF0C\\u540C\\u65F6\\u63D0\\u4F9B\\u4E86\\u4E30\\u5BCC\\u7684\\u63D2\\u4EF6\\u751F\\u6001\\uFF0C\\u6BD4\\u5982\\u70ED\\u529B\\u56FE\\u3001\\u8DEF\\u5F84\\u89C4\\u5212\\u7B49\\u3002\\u5B83\\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u662F\\u201C\\u8F7B\\u91CF\\u4F18\\u5148\\u201D\\u548C\\u201C\\u5F00\\u53D1\\u8005\\u53CB\\u597D\\u201D\\uFF0C\\u8FD9\\u4E5F\\u662F\\u5B83\\u80FD\\u5728\\u524D\\u7AEF\\u793E\\u533A\\u7ECF\\u4E45\\u4E0D\\u8870\\u7684\\u539F\\u56E0\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u6211\\u7B2C\\u4E00\\u6B21\\u63A5\\u89E6 Leaflet \\u662F\\u5728\\u4E00\\u4E2A\\u7269\\u6D41\\u8DDF\\u8E2A\\u9879\\u76EE\\u4E2D\\u3002\\u5F53\\u65F6\\u9700\\u8981\\u5B9E\\u65F6\\u663E\\u793A\\u8F66\\u8F86\\u4F4D\\u7F6E\\uFF0CGoogle Maps \\u7684\\u52A0\\u8F7D\\u901F\\u5EA6\\u548C API \\u9650\\u5236\\u8BA9\\u6211\\u5934\\u75BC\\uFF0C\\u800C Leaflet \\u914D\\u5408 OpenStreetMap \\u74E6\\u7247\\uFF0C\\u51E0\\u884C\\u4EE3\\u7801\\u5C31\\u641E\\u5B9A\\u4E86\\u9700\\u6C42\\u3002\\u4ECE\\u90A3\\u65F6\\u8D77\\uFF0C\\u6211\\u5C31\\u88AB\\u5B83\\u7684\\u7B80\\u6D01\\u548C\\u7075\\u6D3B\\u6027\\u5438\\u5F15\\u4E86\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u5FEB\\u901F\\u4E0A\\u624Bleaflet-\\u7684\\u57FA\\u672C\\u7528\\u6CD5\",children:(0,e.jsx)(l.a,{href:\"#\\u5FEB\\u901F\\u4E0A\\u624Bleaflet-\\u7684\\u57FA\\u672C\\u7528\\u6CD5\",children:\"\\u5FEB\\u901F\\u4E0A\\u624B\\uFF1ALeaflet \\u7684\\u57FA\\u672C\\u7528\\u6CD5\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8BA9\\u6211\\u4EEC\\u4ECE\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\u5F00\\u59CB\\uFF0C\\u611F\\u53D7 Leaflet \\u7684\\u76F4\\u89C2\\u6027\\u3002\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<!\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"DOCTYPE\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" html\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"html\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"head\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"link\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" rel\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"stylesheet\"'}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" href\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    #map\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"height\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"400\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; }\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"head\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"body\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" id\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"map\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" src\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u521D\\u59CB\\u5316\\u5730\\u56FE\\uFF0C\\u4E2D\\u5FC3\\u70B9\\u8BBE\\u4E3A\\u5317\\u4EAC\\uFF0C\\u7F29\\u653E\\u7EA7\\u522B\\u4E3A 13\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" map\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'map'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setView\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"39.9042\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"116.4074\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"13\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6DFB\\u52A0 OpenStreetMap \\u74E6\\u7247\\u5C42\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"tileLayer\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      attribution: \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:`'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>'`})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }).\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addTo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(map);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u6DFB\\u52A0\\u4E00\\u4E2A\\u6807\\u8BB0\\u70B9\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"marker\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"39.9042\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"116.4074\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]).\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addTo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(map)\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"bindPopup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8FD9\\u91CC\\u662F\\u5317\\u4EAC\\uFF01'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"openPopup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"body\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"html\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8FD9\\u6BB5\\u4EE3\\u7801\\u5C55\\u793A\\u4E86\\u4E00\\u4E2A\\u57FA\\u7840\\u7684 Leaflet \\u5730\\u56FE\\uFF1A\\u521B\\u5EFA\\u5730\\u56FE\\u5B9E\\u4F8B\\u3001\\u52A0\\u8F7D\\u74E6\\u7247\\u5C42\\u3001\\u6DFB\\u52A0\\u6807\\u8BB0\\u548C\\u5F39\\u51FA\\u7A97\\u53E3\\u3002\\u8FD0\\u884C\\u540E\\uFF0C\\u4F60\\u4F1A\\u770B\\u5230\\u4E00\\u4E2A\\u4EE5\\u5317\\u4EAC\\u4E3A\\u4E2D\\u5FC3\\u7684\\u5730\\u56FE\\uFF0C\\u70B9\\u51FB\\u6807\\u8BB0\\u4F1A\\u663E\\u793A\\u201C\\u8FD9\\u91CC\\u662F\\u5317\\u4EAC\\uFF01\\u201D\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u6838\\u5FC3\\u529F\\u80FD\\u4E0E\\u8BBE\\u8BA1\\u7406\\u5FF5\",children:(0,e.jsx)(l.a,{href:\"#\\u6838\\u5FC3\\u529F\\u80FD\\u4E0E\\u8BBE\\u8BA1\\u7406\\u5FF5\",children:\"\\u6838\\u5FC3\\u529F\\u80FD\\u4E0E\\u8BBE\\u8BA1\\u7406\\u5FF5\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Leaflet \\u7684\\u6838\\u5FC3\\u529F\\u80FD\\u56F4\\u7ED5\\u7740\\u5730\\u56FE\\u4EA4\\u4E92\\u548C\\u56FE\\u5C42\\u7BA1\\u7406\\u5C55\\u5F00\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u4E2A\\u5173\\u952E\\u70B9\\uFF1A\"}),`\n`,(0,e.jsx)(l.h3,{id:\"1-\\u5730\\u56FE\\u521D\\u59CB\\u5316\\u4E0E\\u5750\\u6807\\u7CFB\",children:(0,e.jsx)(l.a,{href:\"#1-\\u5730\\u56FE\\u521D\\u59CB\\u5316\\u4E0E\\u5750\\u6807\\u7CFB\",children:\"1. \\u5730\\u56FE\\u521D\\u59CB\\u5316\\u4E0E\\u5750\\u6807\\u7CFB\"})}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.map\"})})})}),\" \\u662F Leaflet \\u7684\\u5165\\u53E3\\u3002\\u5B83\\u63A5\\u53D7\\u4E00\\u4E2A DOM \\u5143\\u7D20 ID \\u548C\\u914D\\u7F6E\\u5BF9\\u8C61\\uFF0C\\u521D\\u59CB\\u5316\\u4E00\\u4E2A\\u5730\\u56FE\\u5B9E\\u4F8B\\u3002\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"setView\"})})})}),\" \\u65B9\\u6CD5\\u8BBE\\u7F6E\\u4E2D\\u5FC3\\u70B9\\u548C\\u7F29\\u653E\\u7EA7\\u522B\\uFF0C\\u8FD9\\u91CC\\u7684\\u5750\\u6807\\u4F7F\\u7528\\u7684\\u662F WGS84 \\u7ECF\\u7EAC\\u5EA6\\u7CFB\\u7EDF\\uFF0C\\u548C GIS \\u9886\\u57DF\\u7684\\u4E3B\\u6D41\\u6807\\u51C6\\u4E00\\u81F4\\u3002\"]}),`\n`,(0,e.jsx)(l.h3,{id:\"2-\\u56FE\\u5C42\\u7CFB\\u7EDFlayers\",children:(0,e.jsx)(l.a,{href:\"#2-\\u56FE\\u5C42\\u7CFB\\u7EDFlayers\",children:\"2. \\u56FE\\u5C42\\u7CFB\\u7EDF\\uFF08Layers\\uFF09\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"Leaflet \\u7684\\u56FE\\u5C42\\u673A\\u5236\\u975E\\u5E38\\u7075\\u6D3B\\u3002\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.tileLayer\"})})})}),\" \\u7528\\u4E8E\\u52A0\\u8F7D\\u74E6\\u7247\\u5730\\u56FE\\uFF0C\\u652F\\u6301\\u591A\\u79CD\\u74E6\\u7247\\u6E90\\uFF08\\u5982 OpenStreetMap\\u3001Mapbox\\uFF09\\u3002\\u9664\\u4E86\\u74E6\\u7247\\u5C42\\uFF0C\\u4F60\\u8FD8\\u53EF\\u4EE5\\u6DFB\\u52A0\\u77E2\\u91CF\\u5C42\\uFF08\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.polyline\"})})})}),\"\\u3001\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.polygon\"})})})}),\"\\uFF09\\u3001\\u6807\\u8BB0\\u5C42\\uFF08\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.marker\"})})})}),\"\\uFF09\\u7B49\\u3002\\u56FE\\u5C42\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"addTo\"})})})}),\" \\u548C \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"remove\"})})})}),\" \\u65B9\\u6CD5\\u52A8\\u6001\\u7BA1\\u7406\\u3002\"]}),`\n`,(0,e.jsx)(l.h3,{id:\"3-\\u4E8B\\u4EF6\\u7CFB\\u7EDF\",children:(0,e.jsx)(l.a,{href:\"#3-\\u4E8B\\u4EF6\\u7CFB\\u7EDF\",children:\"3. \\u4E8B\\u4EF6\\u7CFB\\u7EDF\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Leaflet \\u7684\\u4E8B\\u4EF6\\u5904\\u7406\\u975E\\u5E38\\u5F3A\\u5927\\u3002\\u4F8B\\u5982\\uFF0C\\u4F60\\u53EF\\u4EE5\\u76D1\\u542C\\u5730\\u56FE\\u7684\\u70B9\\u51FB\\u3001\\u7F29\\u653E\\u3001\\u62D6\\u52A8\\u7B49\\u64CD\\u4F5C\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"map.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"popup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setLatLng\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(e.latlng)\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setContent\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\\u4F60\\u70B9\\u51FB\\u4E86\\uFF1A${\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"e\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"latlng\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toString\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"openOn\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(map);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8FD9\\u79CD\\u4E8B\\u4EF6\\u9A71\\u52A8\\u7684\\u8BBE\\u8BA1\\u8BA9\\u4EA4\\u4E92\\u53D8\\u5F97\\u7B80\\u5355\\u76F4\\u89C2\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u4ECE\\u6E90\\u7801\\u770B-leaflet-\\u7684\\u5B9E\\u73B0\",children:(0,e.jsx)(l.a,{href:\"#\\u4ECE\\u6E90\\u7801\\u770B-leaflet-\\u7684\\u5B9E\\u73B0\",children:\"\\u4ECE\\u6E90\\u7801\\u770B Leaflet \\u7684\\u5B9E\\u73B0\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Leaflet \\u7684\\u6E90\\u7801\\u975E\\u5E38\\u503C\\u5F97\\u4E00\\u8BFB\\uFF0C\\u65E2\\u7B80\\u6D01\\u53C8\\u5145\\u6EE1\\u5DE7\\u601D\\u3002\\u6211\\u4EEC\\u4EE5\\u51E0\\u4E2A\\u6838\\u5FC3\\u6A21\\u5757\\u4E3A\\u4F8B\\uFF0C\\u6DF1\\u5165\\u5256\\u6790\\u5B83\\u7684\\u5B9E\\u73B0\\u3002\"}),`\n`,(0,e.jsx)(l.h3,{id:\"1-lclass\\u9762\\u5411\\u5BF9\\u8C61\\u7684\\u57FA\\u77F3\",children:(0,e.jsx)(l.a,{href:\"#1-lclass\\u9762\\u5411\\u5BF9\\u8C61\\u7684\\u57FA\\u77F3\",children:\"1. L.Class\\uFF1A\\u9762\\u5411\\u5BF9\\u8C61\\u7684\\u57FA\\u77F3\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"Leaflet \\u4F7F\\u7528\\u4E86\\u4E00\\u4E2A\\u81EA\\u5B9A\\u4E49\\u7684\\u7C7B\\u7CFB\\u7EDF \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Class\"})})})}),\"\\uFF0C\\u800C\\u4E0D\\u662F\\u76F4\\u63A5\\u4F9D\\u8D56 ES6 \\u7684 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"class\"})})})}),\"\\uFF08\\u6BD5\\u7ADF\\u5B83\\u8BDE\\u751F\\u4E8E ES6 \\u666E\\u53CA\\u4E4B\\u524D\\uFF09\\u3002\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Class\"})})})}),\" \\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u7B80\\u6D01\\u7684\\u7EE7\\u627F\\u548C\\u6269\\u5C55\\u673A\\u5236\\u3002\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u6E90\\u7801\\u7247\\u6BB5\\uFF08\\u7B80\\u5316\\u548C\\u6CE8\\u91CA\\uFF09\\uFF1A\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Class\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () {};\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".Class.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"extend\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" NewClass\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".initialize) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".initialize.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"apply\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"arguments\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  NewClass\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"prototype\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Object.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"create\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"prototype\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  Object.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"assign\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"NewClass\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"prototype\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", props);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" NewClass;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".Class.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"include\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  Object.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"assign\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"prototype\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", props);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u6BD4\\u5982 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Map\"})})})}),\" \\u5C31\\u662F\\u901A\\u8FC7 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Class.extend\"})})})}),\" \\u521B\\u5EFA\\u7684\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".Map \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".Class.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"extend\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  initialize\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"._container \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".DomUtil.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(id);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_initLayout\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // ...\\u66F4\\u591A\\u521D\\u59CB\\u5316\\u903B\\u8F91\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // ...\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u8BA9 Leaflet \\u7684\\u6A21\\u5757\\u5316\\u975E\\u5E38\\u4F18\\u96C5\\uFF0C\\u5F00\\u53D1\\u8005\\u4E5F\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Class.extend\"})})})}),\" \\u81EA\\u5B9A\\u4E49\\u63D2\\u4EF6\\u3002\"]}),`\n`,(0,e.jsx)(l.h3,{id:\"2-\\u5750\\u6807\\u4E0E\\u6295\\u5F71\\u5730\\u56FE\\u7684\\u6570\\u5B66\\u6838\\u5FC3\",children:(0,e.jsx)(l.a,{href:\"#2-\\u5750\\u6807\\u4E0E\\u6295\\u5F71\\u5730\\u56FE\\u7684\\u6570\\u5B66\\u6838\\u5FC3\",children:\"2. \\u5750\\u6807\\u4E0E\\u6295\\u5F71\\uFF1A\\u5730\\u56FE\\u7684\\u6570\\u5B66\\u6838\\u5FC3\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5730\\u56FE\\u7684\\u6838\\u5FC3\\u662F\\u5750\\u6807\\u8F6C\\u6362\\u3002Leaflet \\u4F7F\\u7528\\u4E86 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.LatLng\"})})})}),\" \\u8868\\u793A\\u7ECF\\u7EAC\\u5EA6\\uFF0C\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Point\"})})})}),\" \\u8868\\u793A\\u50CF\\u7D20\\u5750\\u6807\\u3002\\u6295\\u5F71\\u90E8\\u5206\\u7531 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Projection\"})})})}),\" \\u5904\\u7406\\uFF0C\\u9ED8\\u8BA4\\u4F7F\\u7528 Mercator \\u6295\\u5F71\\uFF08\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Projection.Mercator\"})})})}),\"\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u6E90\\u7801\\u4E2D\\uFF0C\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.Projection.Mercator\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u5982\\u4E0B\\uFF08\\u7B80\\u5316\\u7248\\uFF09\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".Projection.Mercator \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  project\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"latlng\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" R\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 6378137\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u5730\\u7403\\u534A\\u5F84\\uFF08\\u7C73\\uFF09\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" x\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" R\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" latlng.lng \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PI\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 180\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" y\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" R\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"tan\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PI\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" latlng.lat \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PI\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 360\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Point\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(x, y);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  unproject\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"point\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" R\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 6378137\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" lng\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" point.x \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 180\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PI\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" R\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" lat\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"atan\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"exp\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(point.y \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" R\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")) \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PI\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 360\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" /\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"PI\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"LatLng\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(lat, lng);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8FD9\\u6BB5\\u4EE3\\u7801\\u5C06\\u7ECF\\u7EAC\\u5EA6\\u8F6C\\u6362\\u4E3A\\u5E73\\u9762\\u5750\\u6807\\uFF08\\u6295\\u5F71\\uFF09\\uFF0C\\u518D\\u901A\\u8FC7\\u9006\\u8FD0\\u7B97\\u8FD8\\u539F\\u3002\\u8FD9\\u79CD\\u5B9E\\u73B0\\u65E2\\u9AD8\\u6548\\u53C8\\u7B26\\u5408 GIS \\u6807\\u51C6\\u3002\"}),`\n`,(0,e.jsx)(l.h3,{id:\"3-\\u56FE\\u5C42\\u6E32\\u67D3\\u6027\\u80FD\\u7684\\u79D8\\u5BC6\",children:(0,e.jsx)(l.a,{href:\"#3-\\u56FE\\u5C42\\u6E32\\u67D3\\u6027\\u80FD\\u7684\\u79D8\\u5BC6\",children:\"3. \\u56FE\\u5C42\\u6E32\\u67D3\\uFF1A\\u6027\\u80FD\\u7684\\u79D8\\u5BC6\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"Leaflet \\u7684\\u74E6\\u7247\\u5C42\\u6E32\\u67D3\\u662F\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u5178\\u8303\\u3002\",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"L.TileLayer\"})})})}),\" \\u4F1A\\u6839\\u636E\\u5F53\\u524D\\u89C6\\u53E3\\u548C\\u7F29\\u653E\\u7EA7\\u522B\\u52A8\\u6001\\u52A0\\u8F7D\\u74E6\\u7247\\uFF0C\\u6E90\\u7801\\u4E2D\\u5173\\u952E\\u903B\\u8F91\\u5728 \",(0,e.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{children:\"_update\"})})})}),\" \\u65B9\\u6CD5\\uFF1A\"]}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_update\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" bounds\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"._map.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getBounds\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" zoom\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"._map.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getZoom\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" tileSize\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".options.tileSize;\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" nwTilePoint\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_getTilePos\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(bounds.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getNorthWest\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" seTilePoint\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_getTilePos\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(bounds.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getSouthEast\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u8BA1\\u7B97\\u9700\\u8981\\u52A0\\u8F7D\\u7684\\u74E6\\u7247\\u8303\\u56F4\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" j \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" nwTilePoint.y; j \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" seTilePoint.y; j\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" nwTilePoint.x; i \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" seTilePoint.x; i\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_addTile\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Point\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(i, j), zoom);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u901A\\u8FC7\\u8FD9\\u79CD\\u65B9\\u5F0F\\uFF0CLeaflet \\u907F\\u514D\\u4E86\\u52A0\\u8F7D\\u89C6\\u53E3\\u5916\\u7684\\u74E6\\u7247\\uFF0C\\u5927\\u5E45\\u63D0\\u5347\\u4E86\\u6E32\\u67D3\\u6548\\u7387\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u5B9E\\u6218\\u6848\\u4F8B\\u6253\\u9020\\u4E00\\u4E2A\\u52A8\\u6001\\u8F68\\u8FF9\\u5730\\u56FE\",children:(0,e.jsx)(l.a,{href:\"#\\u5B9E\\u6218\\u6848\\u4F8B\\u6253\\u9020\\u4E00\\u4E2A\\u52A8\\u6001\\u8F68\\u8FF9\\u5730\\u56FE\",children:\"\\u5B9E\\u6218\\u6848\\u4F8B\\uFF1A\\u6253\\u9020\\u4E00\\u4E2A\\u52A8\\u6001\\u8F68\\u8FF9\\u5730\\u56FE\"})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u6211\\u4EEC\\u7528\\u4E00\\u4E2A\\u7A0D\\u5FAE\\u590D\\u6742\\u70B9\\u7684\\u4F8B\\u5B50\\uFF0C\\u5C55\\u793A Leaflet \\u7684\\u80FD\\u529B\\uFF1A\\u5B9E\\u65F6\\u663E\\u793A\\u79FB\\u52A8\\u8F68\\u8FF9\\u3002\"}),`\n`,(0,e.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" map\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'map'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setView\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"39.9042\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"116.4074\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"13\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"tileLayer\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addTo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(map);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF\\u8F68\\u8FF9\\u6570\\u636E\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" pathData\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"39.9042\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"116.4074\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"39.9142\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"116.4174\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"39.9242\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"116.4274\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"];\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u521B\\u5EFA\\u6298\\u7EBF\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" polyline\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" L\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"polyline\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(pathData, { color: \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'red'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }).\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addTo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(map);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u52A8\\u6001\\u66F4\\u65B0\\u8F68\\u8FF9\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" index \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setInterval\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (index \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" pathData.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    polyline.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addLatLng\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(pathData[index]);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    map.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"panTo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(pathData[index]); \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u5730\\u56FE\\u8DDF\\u968F\\u79FB\\u52A8\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    index\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u6A21\\u62DF\\u4E86\\u4E00\\u6761\\u4ECE\\u8D77\\u70B9\\u5230\\u7EC8\\u70B9\\u7684\\u8F68\\u8FF9\\uFF0C\\u5730\\u56FE\\u4F1A\\u81EA\\u52A8\\u5E73\\u79FB\\u8DDF\\u968F\\u3002\\u5B9E\\u9645\\u9879\\u76EE\\u4E2D\\uFF0C\\u4F60\\u53EF\\u4EE5\\u66FF\\u6362\\u4E3A WebSocket \\u63A8\\u9001\\u7684\\u5B9E\\u65F6\\u6570\\u636E\\u3002\"}),`\n`,(0,e.jsx)(l.h2,{id:\"leaflet-\\u7684\\u4F18\\u7F3A\\u70B9\",children:(0,e.jsx)(l.a,{href:\"#leaflet-\\u7684\\u4F18\\u7F3A\\u70B9\",children:\"Leaflet \\u7684\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,e.jsx)(l.h3,{id:\"\\u4F18\\u70B9\",children:(0,e.jsx)(l.a,{href:\"#\\u4F18\\u70B9\",children:\"\\u4F18\\u70B9\"})}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u8F7B\\u91CF\"}),\"\\uFF1A\\u6838\\u5FC3\\u5E93\\u6781\\u5C0F\\uFF0C\\u52A0\\u8F7D\\u5FEB\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u7075\\u6D3B\"}),\"\\uFF1A\\u63D2\\u4EF6\\u751F\\u6001\\u4E30\\u5BCC\\uFF0C\\u51E0\\u4E4E\\u80FD\\u6EE1\\u8DB3\\u6240\\u6709\\u9700\\u6C42\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u793E\\u533A\\u6D3B\\u8DC3\"}),\"\\uFF1A\\u6587\\u6863\\u5B8C\\u5584\\uFF0C\\u66F4\\u65B0\\u9891\\u7E41\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.h3,{id:\"\\u7F3A\\u70B9\",children:(0,e.jsx)(l.a,{href:\"#\\u7F3A\\u70B9\",children:\"\\u7F3A\\u70B9\"})}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u529F\\u80FD\\u6709\\u9650\"}),\"\\uFF1A\\u76F8\\u6BD4 OpenLayers\\uFF0C\\u5185\\u7F6E\\u7684\\u9AD8\\u7EA7 GIS \\u529F\\u80FD\\u8F83\\u5C11\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.strong,{children:\"\\u5B66\\u4E60\\u66F2\\u7EBF\"}),\"\\uFF1A\\u5BF9\\u4E8E\\u590D\\u6742\\u7684\\u81EA\\u5B9A\\u4E49\\u9700\\u6C42\\uFF0C\\u9700\\u6DF1\\u5165\\u7406\\u89E3\\u6E90\\u7801\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(l.h2,{id:\"\\u7ED3\\u8BED\",children:(0,e.jsx)(l.a,{href:\"#\\u7ED3\\u8BED\",children:\"\\u7ED3\\u8BED\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Leaflet \\u662F\\u4E00\\u4E2A\\u5178\\u578B\\u7684\\u201C\\u9EBB\\u96C0\\u867D\\u5C0F\\uFF0C\\u4E94\\u810F\\u4FF1\\u5168\\u201D\\u7684\\u5F00\\u6E90\\u9879\\u76EE\\u3002\\u5B83\\u7684\\u8F7B\\u91CF\\u7EA7\\u8BBE\\u8BA1\\u548C\\u6E90\\u7801\\u4E2D\\u7684\\u5DE7\\u5999\\u5B9E\\u73B0\\uFF0C\\u8BA9\\u5B83\\u5728\\u6027\\u80FD\\u4E0E\\u529F\\u80FD\\u4E4B\\u95F4\\u627E\\u5230\\u4E86\\u7EDD\\u4F73\\u5E73\\u8861\\u70B9\\u3002\\u4E0D\\u7BA1\\u4F60\\u662F\\u60F3\\u5FEB\\u901F\\u5B9E\\u73B0\\u4E00\\u4E2A\\u5730\\u56FE\\u529F\\u80FD\\uFF0C\\u8FD8\\u662F\\u6DF1\\u5165\\u7814\\u7A76 GIS \\u4E0E\\u524D\\u7AEF\\u7684\\u7ED3\\u5408\\uFF0CLeaflet \\u90FD\\u662F\\u503C\\u5F97\\u4E00\\u8BD5\\u7684\\u5DE5\\u5177\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8BFB\\u5B8C\\u8FD9\\u7BC7\\u535A\\u5BA2\\uFF0C\\u4F60\\u662F\\u4E0D\\u662F\\u4E5F\\u5BF9 Leaflet \\u6709\\u4E86\\u65B0\\u7684\\u8BA4\\u8BC6\\uFF1F\\u4E0D\\u59A8\\u52A8\\u624B\\u8BD5\\u8BD5\\uFF0C\\u5199\\u51E0\\u884C\\u4EE3\\u7801\\uFF0C\\u6216\\u8005\\u7FFB\\u7FFB\\u5B83\\u7684\\u6E90\\u7801\\uFF0C\\u4E5F\\u8BB8\\u4F1A\\u6709\\u66F4\\u591A\\u60CA\\u559C\\u7B49\\u7740\\u4F60\\u3002\"}),`\n`,(0,e.jsx)(l.hr,{})]})}function h(n={}){let{wrapper:l}=n.components||{};return l?(0,e.jsx)(l,{...n,children:(0,e.jsx)(i,{...n})}):i(n)}return m(x);})();\n;return Component;"
  },
  "_id": "Visualization/Leaflet.mdx",
  "_raw": {
    "sourceFilePath": "Visualization/Leaflet.mdx",
    "sourceFileName": "Leaflet.mdx",
    "sourceFileDir": "Visualization",
    "contentType": "mdx",
    "flattenedPath": "Visualization/Leaflet"
  },
  "type": "Post",
  "url": "/blog/Visualization/Leaflet"
}
{
  "title": "æœ€å…¨ PM2 ä½¿ç”¨æ•™ç¨‹ï¼šä»å…¥é—¨åˆ°ç²¾é€šï¼Œå¸¦ä½ è§£é”è¿›ç¨‹ç®¡ç†çš„é­”æ³• ğŸš€",
  "date": "2023-10-11T00:00:00.000Z",
  "description": "å…¨é¢è§£æ PM2 çš„ä½¿ç”¨æ–¹æ³•ï¼Œæ¶µç›–åŸºç¡€æ“ä½œã€é«˜çº§é…ç½®ã€é›†ç¾¤æ¨¡å¼ã€æ—¥å¿—ç®¡ç†ã€ç›‘æ§ä¸æœ€ä½³å®è·µï¼Œä¸“ä¸ºå‰ç«¯å¼€å‘è€…æ‰“é€ ï¼Œæ·±å…¥åŸç†ï¼Œå¹½é»˜é£è¶£åˆå®ç”¨ã€‚",
  "keywords": "PM2, Node.js, è¿›ç¨‹ç®¡ç†, é›†ç¾¤æ¨¡å¼, æ—¥å¿—ç®¡ç†, ç›‘æ§, å‰ç«¯éƒ¨ç½², ç”Ÿäº§ç¯å¢ƒ",
  "author": "æ™“é¾™",
  "image": "/images/hero/pm2-guide.jpg",
  "tags": [
    "Node.js",
    "PM2",
    "å‰ç«¯å¼€å‘",
    "éƒ¨ç½²"
  ],
  "views": 0,
  "likes": 0,
  "category": "Node.js",
  "body": {
    "raw": "\nä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œä½ å¯èƒ½å·²ç»ç†Ÿæ‚‰äº†å¦‚ä½•ç”¨ `npm start` å¯åŠ¨ä¸€ä¸ª Node.js é¡¹ç›®ï¼Œä½†å½“é¡¹ç›®ä¸Šçº¿åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œé¢å¯¹é«˜å¹¶å‘ã€è¿›ç¨‹å´©æºƒã€æ—¥å¿—ç®¡ç†ç­‰â€œæˆå¹´äººçš„çƒ¦æ¼â€ï¼Œä½ æ˜¯å¦æ„Ÿåˆ°æ‰‹è¶³æ— æªï¼Ÿåˆ«æ…Œï¼Œ**PM2**ï¼ˆProcess Manager 2ï¼‰å°±æ˜¯ä½ çš„æ•‘å‘½ç¨»è‰ï¼å®ƒä¸ä»…èƒ½è®©ä½ çš„ Node.js åº”ç”¨ç¨³å®šè¿è¡Œï¼Œè¿˜èƒ½è§£é”é›†ç¾¤æ¨¡å¼ã€ç›‘æ§ã€æ—¥å¿—ç®¡ç†ç­‰é«˜çº§é­”æ³•ã€‚ğŸ©\n\nè¿™ç¯‡æ–‡ç« å°†å¸¦ä½ ä» PM2 çš„åŸºç¡€ç”¨æ³•æ·±å…¥åˆ°åŸç†å‰–æï¼Œé…ä»¥å¤§é‡å®æˆ˜ç¤ºä¾‹ã€æœ€ä½³å®è·µå’Œå¹½é»˜ç±»æ¯”ï¼ŒåŠ›æ±‚è®©ä½ è¯»å®Œåå¯¹ PM2 çš„æ¯ä¸€å—â€œé­”æ³•çŸ³â€éƒ½äº†å¦‚æŒ‡æŒã€‚æ— è®ºä½ æ˜¯åˆšæ¥è§¦ PM2 çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯æƒ³ä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒçš„è€é¸Ÿï¼Œè¿™ç¯‡ 8000+ å­—çš„æ•™ç¨‹éƒ½å°†æ˜¯ä½ çš„ç»ˆææŒ‡å—ï¼ğŸ“š\n\n> **æ€ç»´é“¾**ï¼šæˆ‘ä»¬å°†ä» PM2 çš„å®šä¹‰å’Œå®‰è£…å¼€å§‹ï¼Œé€æ­¥æ·±å…¥åˆ°æ ¸å¿ƒåŠŸèƒ½ï¼ˆå¯åŠ¨ã€ç®¡ç†ã€é›†ç¾¤ã€æ—¥å¿—ã€ç›‘æ§ï¼‰ï¼Œå†æ¢è®¨é«˜çº§é…ç½®å’Œæœ€ä½³å®è·µï¼Œæœ€åå‰–æå…¶å†…éƒ¨åŸç†ã€‚æ¯éƒ¨åˆ†éƒ½ä¼šé…æœ‰ç¤ºä¾‹ã€è¡¨æ ¼ã€ç±»æ¯”å’Œå¹½é»˜ç‚¹ç¼€ï¼Œç¡®ä¿å†…å®¹æ—¢å®ç”¨åˆæœ‰è¶£ã€‚\n\n## ä»€ä¹ˆæ˜¯ PM2ï¼ŸğŸ¤”\n\nPM2 æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ Node.js è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œä¸“ä¸ºç”Ÿäº§ç¯å¢ƒè®¾è®¡ã€‚å®ƒèƒ½è®©ä½ çš„åº”ç”¨åƒâ€œæ°¸åŠ¨æœºâ€ä¸€æ ·è¿è¡Œï¼Œæ”¯æŒè‡ªåŠ¨é‡å¯ã€è´Ÿè½½å‡è¡¡ã€æ—¥å¿—ç®¡ç†ã€æ€§èƒ½ç›‘æ§ç­‰åŠŸèƒ½ã€‚ç›¸æ¯”äºç›´æ¥ç”¨ `node app.js` å¯åŠ¨ï¼ŒPM2 å°±åƒç»™ä½ çš„åº”ç”¨é›‡äº†ä¸€ä¸ªâ€œç§äººç®¡å®¶â€ï¼Œéšæ—¶å¸®ä½ å¤„ç†å´©æºƒã€æ‰©å®¹å’Œæ—¥å¿—æ•´ç†ã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼šå¦‚æœ Node.js æ˜¯ä¸€ä¸ªä¹é˜Ÿä¸»å”±ï¼Œè´Ÿè´£è¾“å‡ºç¾å¦™çš„å£°éŸ³ï¼Œé‚£ä¹ˆ PM2 å°±æ˜¯åå°çš„ä¹é˜Ÿç»ç†ï¼Œè´Ÿè´£è°ƒéŸ³ã€å®‰æ’æ¼”å‡ºã€ç”šè‡³åœ¨ä¸»å”±å—“å­å“‘äº†çš„æ—¶å€™ç´§æ€¥æ¢äººã€‚ğŸ¸\n\n| **ç‰¹æ€§**             | **æè¿°**                                                                 |\n|----------------------|-------------------------------------------------------------------------|\n| **è¿›ç¨‹ç®¡ç†**         | å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€åˆ é™¤è¿›ç¨‹ï¼Œæ”¯æŒå¤šåº”ç”¨ç®¡ç†                              |\n| **è‡ªåŠ¨é‡å¯**         | è¿›ç¨‹å´©æºƒåè‡ªåŠ¨é‡å¯ï¼Œä¿è¯åº”ç”¨é«˜å¯ç”¨                                      |\n| **é›†ç¾¤æ¨¡å¼**         | åˆ©ç”¨å¤šæ ¸ CPUï¼Œæ— éœ€ä¿®æ”¹ä»£ç å³å¯å®ç°è´Ÿè½½å‡è¡¡                              |\n| **æ—¥å¿—ç®¡ç†**         | é›†ä¸­åŒ–æ—¥å¿—æ”¶é›†ï¼Œæ”¯æŒæ—¥å¿—åˆ†å‰²å’ŒæŸ¥çœ‹                                      |\n| **ç›‘æ§**             | æä¾› CPUã€å†…å­˜ã€è¯·æ±‚ç­‰å®æ—¶ç›‘æ§ï¼Œç”šè‡³æ”¯æŒä¸å¤–éƒ¨å·¥å…·é›†æˆ                  |\n| **æ¨¡å—åŒ–ç”Ÿæ€**       | æ”¯æŒè‡ªå®šä¹‰æ¨¡å—ï¼Œå¦‚ pm2-logrotateã€pm2-server-monit ç­‰                  |\n\n*_å°Tipsï¼šPM2 ä¸ä»…é€‚ç”¨äº Node.jsï¼Œä¹Ÿå¯ä»¥ç®¡ç†å…¶ä»–è„šæœ¬ï¼ˆå¦‚ Pythonã€Rubyï¼‰ï¼Œä½†æœ¬æ–‡å°†èšç„¦äºå‰ç«¯å¼€å‘è€…çš„å…¸å‹åœºæ™¯ã€‚_*\n\n---\n\n## å®‰è£…ä¸åŸºç¡€ä½¿ç”¨ï¼šè®© PM2 æˆä¸ºä½ çš„å¯åŠ¨åŠ©æ‰‹ ğŸ› ï¸\n\n### 1. å®‰è£… PM2\n\nPM2 æ˜¯ä¸€ä¸ª npm åŒ…ï¼Œå®‰è£…ç®€å•åˆ°åƒç‚¹ä¸€ä»½å¤–å–ï¼š\n\n```bash\nnpm install pm2 -g\n```\n\nå®‰è£…å®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ç‰ˆæœ¬ï¼Œç¡®ä¿ PM2 å·²æ­£ç¡®å®‰è£…ï¼š\n\n```bash\npm2 --version\n```\n\nå¦‚æœè¿”å›ç±»ä¼¼ `5.x.x` çš„ç‰ˆæœ¬å·ï¼Œæ­å–œä½ ï¼ŒPM2 å·²ç»å‡†å¤‡å¥½ä¸ºä½ æœåŠ¡ï¼ğŸ‰\n\n*_å°Tipsï¼šå…¨å±€å®‰è£… PM2ï¼ˆåŠ ä¸Š `-g`ï¼‰æ˜¯ä¸ºäº†æ–¹ä¾¿åœ¨ä»»ä½•é¡¹ç›®ä¸­ä½¿ç”¨ã€‚å¦‚æœä½ åªæƒ³åœ¨ç‰¹å®šé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œå¯ä»¥çœç•¥ `-g`ï¼Œä½†éœ€è¦é€šè¿‡ `npx pm2` è°ƒç”¨ã€‚_*\n\n### 2. å¯åŠ¨ç¬¬ä¸€ä¸ªåº”ç”¨\n\nå‡è®¾ä½ æœ‰ä¸€ä¸ªç®€å•çš„ Node.js åº”ç”¨ `app.js`ï¼š\n\n```javascript\nconst express = require('express');\nconst app = express();\n\napp.get('/', (req, res) => {\n  res.send('Hello, PM2 World!');\n});\n\napp.listen(3000, () => {\n  console.log('Server running on port 3000');\n});\n```\n\nç”¨ PM2 å¯åŠ¨å®ƒå°±åƒç»™ä½ çš„ä»£ç æ’ä¸Šç¿…è†€ï¼š\n\n```bash\npm2 start app.js\n```\n\nè¿è¡Œåï¼ŒPM2 ä¼šè¾“å‡ºä¸€ä¸ªè¡¨æ ¼ï¼Œæ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼š\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ id  â”‚ name   â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚\nâ”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 0   â”‚ app    â”‚ default     â”‚ N/A     â”‚ fork    â”‚ 12345    â”‚ 0s     â”‚ 0    â”‚ online    â”‚ 0%       â”‚ 25.3mb   â”‚\nâ””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nè¿™å¼ è¡¨æ ¼å°±åƒ PM2 çš„â€œä½“æ£€æŠ¥å‘Šâ€ï¼Œå‘Šè¯‰ä½ è¿›ç¨‹çš„ IDã€åç§°ã€è¿è¡Œæ¨¡å¼ã€CPU å’Œå†…å­˜å ç”¨ç­‰ä¿¡æ¯ã€‚\n\n*_å°Tipsï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒPM2 ä¼šä»¥æ–‡ä»¶åä½œä¸ºè¿›ç¨‹åç§°ã€‚å¦‚æœä½ æƒ³è‡ªå®šä¹‰åç§°ï¼Œå¯ä»¥ç”¨ `--name` å‚æ•°ï¼Œæ¯”å¦‚ `pm2 start app.js --name my-app`ã€‚_*\n\n### 3. å¸¸ç”¨å‘½ä»¤é€Ÿè§ˆ\n\nPM2 æä¾›äº†ä¸°å¯Œçš„å‘½ä»¤ï¼Œè®©ä½ åƒæŒ‡æŒ¥äº¤å“ä¹ä¸€æ ·ç®¡ç†è¿›ç¨‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š\n\n| **å‘½ä»¤**                | **åŠŸèƒ½**                              | **ç¤ºä¾‹**                          |\n|-------------------------|---------------------------------------|-----------------------------------|\n| `pm2 start <script>`    | å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹                          | `pm2 start app.js`               |\n| `pm2 stop <name/id>`    | åœæ­¢æŒ‡å®šè¿›ç¨‹                          | `pm2 stop my-app`                |\n| `pm2 restart <name/id>` | é‡å¯æŒ‡å®šè¿›ç¨‹                          | `pm2 restart 0`                  |\n| `pm2 delete <name/id>`  | åˆ é™¤æŒ‡å®šè¿›ç¨‹                          | `pm2 delete my-app`              |\n| `pm2 list`              | æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çŠ¶æ€                      | `pm2 list`                       |\n| `pm2 logs`              | æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çš„æ—¥å¿—                    | `pm2 logs`                       |\n| `pm2 monit`             | æ‰“å¼€å®æ—¶ç›‘æ§é¢æ¿                      | `pm2 monit`                      |\n\n*_å°Tipsï¼šå‘½ä»¤å¤ªå¤šè®°ä¸ä½ï¼Ÿç›´æ¥æ•² `pm2 --help`ï¼ŒPM2 ä¼šè´´å¿ƒåœ°åˆ—å‡ºæ‰€æœ‰å¯ç”¨å‘½ä»¤ï¼Œå°±åƒæ‰“å¼€äº†ä¸€æœ¬é­”æ³•ä¹¦ã€‚_*\n\n---\n\n## æ·±å…¥æ ¸å¿ƒåŠŸèƒ½ï¼šè®© PM2 çš„é­”æ³•æ›´ç‚«é…· âœ¨\n\n### 1. è¿›ç¨‹ç®¡ç†ï¼šåƒç©ç§¯æœ¨ä¸€æ ·çµæ´» ğŸ§±\n\nPM2 çš„è¿›ç¨‹ç®¡ç†åŠŸèƒ½å°±åƒä¸€ä¸ªè¶…çº§æ™ºèƒ½çš„â€œä»»åŠ¡ç®¡ç†å™¨â€ã€‚ä½ å¯ä»¥ç”¨ `pm2 list` æŸ¥çœ‹æ‰€æœ‰è¿è¡Œä¸­çš„è¿›ç¨‹ï¼Œç”¨ `pm2 stop`ã€`pm2 restart` æˆ– `pm2 delete` æ¥æ“æ§å®ƒä»¬ã€‚\n\n**ç¤ºä¾‹**ï¼šå‡è®¾ä½ æœ‰å¤šä¸ªåº”ç”¨éœ€è¦åŒæ—¶è¿è¡Œï¼Œæ¯”å¦‚ `api.js` å’Œ `worker.js`ï¼š\n\n```bash\npm2 start api.js --name api\npm2 start worker.js --name worker\npm2 list\n```\n\nè¾“å‡ºå¯èƒ½å¦‚ä¸‹ï¼š\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ id  â”‚ name   â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚\nâ”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 0   â”‚ api    â”‚ default     â”‚ N/A     â”‚ fork    â”‚ 12345    â”‚ 2m     â”‚ 0    â”‚ online    â”‚ 0%       â”‚ 30.1mb   â”‚\nâ”‚ 1   â”‚ worker â”‚ default     â”‚ N/A     â”‚ fork    â”‚ 12346    â”‚ 2m     â”‚ 0    â”‚ online    â”‚ 0%       â”‚ 28.7mb   â”‚\nâ””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nå¦‚æœ `api` è¿›ç¨‹å‡ºäº†é—®é¢˜ï¼Œä½ å¯ä»¥å•ç‹¬é‡å¯å®ƒï¼š\n\n```bash\npm2 restart api\n```\n\n*_å°Tipsï¼šç»™è¿›ç¨‹å–ä¸ªæœ‰æ„ä¹‰çš„åå­—ï¼ˆæ¯”å¦‚ `api` è€Œä¸æ˜¯ `app1`ï¼‰ï¼Œå°±åƒç»™å® ç‰©èµ·åï¼Œæ–¹ä¾¿ç®¡ç†å’Œè®°å¿†ã€‚_*\n\n### 2. é›†ç¾¤æ¨¡å¼ï¼šæ¦¨å¹²å¤šæ ¸ CPU çš„æ¯ä¸€æ»´æ€§èƒ½ ğŸ’ª\n\nNode.js é»˜è®¤æ˜¯å•çº¿ç¨‹çš„ï¼Œå°±åƒä¸€ä¸ªå­¤ç‹¬çš„å¨å¸ˆåœ¨å¨æˆ¿é‡Œå¿™æ´»ã€‚å¦‚æœä½ çš„æœåŠ¡å™¨æœ‰ 8 æ ¸ CPUï¼Œå•çº¿ç¨‹åªèƒ½ç”¨ 1/8 çš„æ€§èƒ½ï¼Œå®åœ¨æ˜¯æš´æ®„å¤©ç‰©ï¼PM2 çš„ **é›†ç¾¤æ¨¡å¼**ï¼ˆCluster Modeï¼‰å¯ä»¥è®©ä½ çš„åº”ç”¨åƒä¸€æ”¯åˆ†å·¥æ˜ç¡®çš„å¨å¸ˆå›¢é˜Ÿï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ CPUã€‚\n\n**å¦‚ä½•å¼€å¯é›†ç¾¤æ¨¡å¼ï¼Ÿ**\n\nåªéœ€åœ¨å¯åŠ¨æ—¶åŠ ä¸Š `--instances` å’Œ `-i` å‚æ•°ï¼š\n\n```bash\npm2 start app.js --name my-app -i 4\n```\n\nè¿™ä¼šå¯åŠ¨ 4 ä¸ªè¿›ç¨‹å®ä¾‹ï¼ŒPM2 ä¼šè‡ªåŠ¨åˆ†é…è¯·æ±‚åˆ°è¿™äº›å®ä¾‹ï¼Œå®ç°è´Ÿè½½å‡è¡¡ã€‚`-i 4` è¡¨ç¤ºå¯åŠ¨ 4 ä¸ªå®ä¾‹ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ `-i max` è®© PM2 è‡ªåŠ¨æ ¹æ® CPU æ ¸å¿ƒæ•°å†³å®šå®ä¾‹æ•°é‡ã€‚\n\n**ç¤ºä¾‹**ï¼šå‡è®¾ä½ çš„ `app.js` æ˜¯ä¸€ä¸ª Express åº”ç”¨ï¼š\n\n```javascript\nconst express = require('express');\nconst app = express();\n\napp.get('/', (req, res) => {\n  res.send(`Hello from process ${process.pid}`);\n});\n\napp.listen(3000);\n```\n\nç”¨é›†ç¾¤æ¨¡å¼å¯åŠ¨ï¼š\n\n```bash\npm2 start app.js --name cluster-app -i 4\n```\n\nè®¿é—® `http://localhost:3000`ï¼Œä½ ä¼šå‘ç°æ¯æ¬¡è¯·æ±‚è¿”å›çš„ `process.pid` ä¸åŒï¼Œè¯´æ˜ PM2 åœ¨å¤šä¸ªè¿›ç¨‹é—´åšäº†è´Ÿè½½å‡è¡¡ã€‚\n\n| **å‚æ•°**         | **ä½œç”¨**                                      | **ç¤ºä¾‹**                       |\n|------------------|-----------------------------------------------|--------------------------------|\n| `-i <number>`    | æŒ‡å®šå®ä¾‹æ•°ï¼Œ`max` è¡¨ç¤ºè‡ªåŠ¨åŒ¹é… CPU æ ¸å¿ƒæ•°     | `-i 4` æˆ– `-i max`            |\n| `--no-autorestart` | ç¦ç”¨è‡ªåŠ¨é‡å¯ï¼ˆä¸€èˆ¬ä¸æ¨èï¼‰                    | `--no-autorestart`            |\n| `--max-memory-restart` | è®¾ç½®å†…å­˜ä¸Šé™ï¼Œè¶…é™åé‡å¯è¿›ç¨‹                | `--max-memory-restart 200M`   |\n\n*_å°Tipsï¼šå®ä¾‹æ•°ä¸å®œè¿‡å¤šï¼Œå»ºè®®è®¾ç½®ä¸º CPU æ ¸å¿ƒæ•°æˆ–æ ¸å¿ƒæ•° -1ï¼Œé¿å…è¿‡åº¦ç«äº‰èµ„æºã€‚å¯ä»¥ç”¨ `nproc`ï¼ˆLinuxï¼‰æˆ– `os.cpus().length`ï¼ˆNode.jsï¼‰æ£€æŸ¥æ ¸å¿ƒæ•°ã€‚_*\n\n### 3. æ—¥å¿—ç®¡ç†ï¼šè®©æ··ä¹±çš„ console.log äº•ç„¶æœ‰åº ğŸ“œ\n\nåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ—¥å¿—å°±åƒä¾¦æ¢å°è¯´é‡Œçš„çº¿ç´¢ï¼Œèƒ½å¸®ä½ å¿«é€Ÿå®šä½é—®é¢˜ã€‚PM2 æä¾›äº†å¼ºå¤§çš„æ—¥å¿—ç®¡ç†åŠŸèƒ½ï¼Œé»˜è®¤ä¼šå°† `console.log` å’Œ `console.error` è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ã€‚\n\n**æŸ¥çœ‹æ—¥å¿—**ï¼š\n\n```bash\npm2 logs\n```\n\nè¿™ä¼šæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹çš„å®æ—¶æ—¥å¿—ï¼Œåƒæ˜¯æ‰“å¼€äº†ä¸€ä¸ªâ€œå…¨æ™¯ç›‘æ§æ‘„åƒå¤´â€ã€‚å¦‚æœåªæƒ³çœ‹æŸä¸ªè¿›ç¨‹çš„æ—¥å¿—ï¼š\n\n```bash\npm2 logs my-app\n```\n\n**æ—¥å¿—æ–‡ä»¶ä½ç½®**ï¼š\n\nPM2 é»˜è®¤å°†æ—¥å¿—ä¿å­˜åœ¨ `~/.pm2/logs/` ç›®å½•ä¸‹ï¼Œæ¯ä¸ªè¿›ç¨‹ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼š\n\n- `my-app-out.log`ï¼šæ ‡å‡†è¾“å‡ºï¼ˆ`console.log`ï¼‰\n- `my-app-error.log`ï¼šé”™è¯¯è¾“å‡ºï¼ˆ`console.error`ï¼‰\n\n**ç¤ºä¾‹**ï¼šå‡è®¾ä½ çš„åº”ç”¨æœ‰ä»¥ä¸‹ä»£ç ï¼š\n\n```javascript\nconsole.log('User visited homepage');\nconsole.error('Database connection failed!');\n```\n\nå¯åŠ¨åï¼Œè¿è¡Œ `pm2 logs my-app`ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ï¼š\n\n```\nmy-app-0  | User visited homepage\nmy-app-0  | Database connection failed!\n```\n\n**æ—¥å¿—åˆ†å‰²**ï¼šä¸ºäº†é˜²æ­¢æ—¥å¿—æ–‡ä»¶æ— é™è†¨èƒ€ï¼Œæ¨èä½¿ç”¨ `pm2-logrotate` æ¨¡å—ï¼š\n\n```bash\npm2 install pm2-logrotate\npm2 set pm2-logrotate:max_size 100M\npm2 set pm2-logrotate:retain 7\n```\n\nè¿™ä¼šå°†æ—¥å¿—æ–‡ä»¶é™åˆ¶åœ¨ 100MB å†…ï¼Œå¹¶ä¿ç•™æœ€è¿‘ 7 å¤©çš„æ—¥å¿—ã€‚\n\n*_å°Tipsï¼šå®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œå°¤å…¶åœ¨é«˜æµé‡åº”ç”¨ä¸­ï¼Œæ—¥å¿—å¯èƒ½ä»¥â€œå…‰é€Ÿâ€å¢é•¿ã€‚å¯ä»¥ç”¨ `pm2 flush` æ¸…ç©ºæ‰€æœ‰æ—¥å¿—ï¼Œä½†è¦è°¨æ…æ“ä½œï¼_*\n\n### 4. ç›‘æ§ä¸æ€§èƒ½åˆ†æï¼šç»™ä½ çš„åº”ç”¨è£…ä¸Šâ€œå¿ƒè·³æ£€æµ‹ä»ªâ€ â¤ï¸\n\nPM2 çš„ç›‘æ§åŠŸèƒ½å°±åƒç»™ä½ çš„åº”ç”¨è£…äº†ä¸€ä¸ªâ€œæ™ºèƒ½æ‰‹ç¯â€ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹ CPUã€å†…å­˜ã€è¯·æ±‚ç­‰æŒ‡æ ‡ã€‚\n\n**å®æ—¶ç›‘æ§**ï¼š\n\n```bash\npm2 monit\n```\n\nè¿™ä¼šæ‰“å¼€ä¸€ä¸ªç»ˆç«¯ç•Œé¢ï¼Œæ˜¾ç¤ºæ¯ä¸ªè¿›ç¨‹çš„ CPUã€å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œç”šè‡³è¿˜æœ‰è¯·æ±‚é¢‘ç‡çš„åŠ¨æ€å›¾è¡¨ï¼Œé…·å¾—åƒåœ¨ç©é»‘å®¢å¸å›½ï¼ğŸ–¥ï¸\n\n**ç¤ºä¾‹**ï¼šå¦‚æœä½ å‘ç°æŸä¸ªè¿›ç¨‹å†…å­˜å ç”¨è¿‡é«˜ï¼Œå¯ä»¥è®¾ç½®å†…å­˜ä¸Šé™ï¼š\n\n```bash\npm2 start app.js --name my-app --max-memory-restart 200M\n```\n\nå½“è¿›ç¨‹å†…å­˜è¶…è¿‡ 200MB æ—¶ï¼ŒPM2 ä¼šè‡ªåŠ¨é‡å¯å®ƒï¼Œé¿å…å†…å­˜æ³„æ¼å¯¼è‡´æœåŠ¡å™¨å´©æºƒã€‚\n\n**é›†æˆå¤–éƒ¨ç›‘æ§**ï¼šPM2 æ”¯æŒä¸ Keymetricsï¼ˆç°ä¸º PM2 Plusï¼‰é›†æˆï¼Œæä¾›æ›´å¼ºå¤§çš„ç›‘æ§åŠŸèƒ½ï¼Œæ¯”å¦‚å‘Šè­¦ã€å†å²æ•°æ®åˆ†æç­‰ã€‚ä½ éœ€è¦æ³¨å†Œä¸€ä¸ª PM2 Plus è´¦æˆ·å¹¶è¿è¡Œï¼š\n\n```bash\npm2 link <public_key> <private_key>\n```\n\n*_å°Tipsï¼šå†…å­˜æ³„æ¼æ˜¯ Node.js åº”ç”¨çš„å¸¸è§é—®é¢˜ï¼Œå»ºè®®ç»“åˆ `heapdump` æˆ– ` clinic.js` å·¥å…·è¿›ä¸€æ­¥åˆ†æï¼Œè€Œä¸æ˜¯å•çº¯ä¾èµ– PM2 é‡å¯ã€‚_*\n\n---\n\n## é«˜çº§é…ç½®ï¼šç”¨é…ç½®æ–‡ä»¶è§£é” PM2 çš„å…¨éƒ¨æ½œåŠ› ğŸ§™â€â™‚ï¸\n\nPM2 æ”¯æŒé€šè¿‡ JSON æˆ– YAML é…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸å‘½åä¸º `ecosystem.config.js` æˆ– `pm2.config.json`ï¼‰æ¥ç®¡ç†å¤šä¸ªåº”ç”¨å’Œå¤æ‚é…ç½®ã€‚è¿™å°±åƒç»™ PM2 å†™äº†ä¸€ä»½â€œä½œæˆ˜è®¡åˆ’ä¹¦â€ï¼Œè®©å®ƒæŒ‰ä½ çš„æ„å›¾æ‰§è¡Œã€‚\n\n**ç¤ºä¾‹é…ç½®æ–‡ä»¶**ï¼š\n\n```javascript\nmodule.exports = {\n  apps: [\n    {\n      name: 'api',\n      script: './api.js',\n      instances: 4,\n      exec_mode: 'cluster',\n      env: {\n        NODE_ENV: 'production',\n        PORT: 3000,\n      },\n      env_development: {\n        NODE_ENV: 'development',\n        PORT: 3001,\n      },\n      max_memory_restart: '200M',\n      log_date_format: 'YYYY-MM-DD HH:mm:ss',\n    },\n    {\n      name: 'worker',\n      script: './worker.js',\n      instances: 1,\n      exec_mode: 'fork',\n      env: {\n        NODE_ENV: 'production',\n      },\n    },\n  ],\n};\n```\n\nä¿å­˜ä¸º `ecosystem.config.js`ï¼Œç„¶åè¿è¡Œï¼š\n\n```bash\npm2 start ecosystem.config.js\n```\n\n**é…ç½®æ–‡ä»¶å­—æ®µè§£æ**ï¼š\n\n| **å­—æ®µ**              | **ä½œç”¨**                                      | **ç¤ºä¾‹**                          |\n|-----------------------|-----------------------------------------------|-----------------------------------|\n| `name`                | è¿›ç¨‹åç§°                                      | `api`                            |\n| `script`              | å¯åŠ¨è„šæœ¬è·¯å¾„                                  | `./api.js`                       |\n| `instances`           | é›†ç¾¤æ¨¡å¼ä¸‹çš„å®ä¾‹æ•°                            | `4` æˆ– `max`                     |\n| `exec_mode`           | æ‰§è¡Œæ¨¡å¼ï¼ˆ`fork` æˆ– `cluster`ï¼‰               | `cluster`                        |\n| `env`                 | ç”Ÿäº§ç¯å¢ƒå˜é‡                                  | `{ NODE_ENV: 'production' }`     |\n| `env_<name>`          | ç‰¹å®šç¯å¢ƒçš„å˜é‡ï¼ˆå¦‚ `env_development`ï¼‰        | `{ NODE_ENV: 'development' }`    |\n| `max_memory_restart`  | å†…å­˜ä¸Šé™ï¼Œè¶…é™åé‡å¯                         | `200M`                           |\n| `log_date_format`     | æ—¥å¿—æ—¶é—´æ ¼å¼                                  | `YYYY-MM-DD HH:mm:ss`            |\n\n**å¯åŠ¨ç‰¹å®šç¯å¢ƒ**ï¼š\n\n```bash\npm2 start ecosystem.config.js --env development\n```\n\nè¿™ä¼šåŠ è½½ `env_development` çš„é…ç½®ï¼Œæ¯”å¦‚å°† `PORT` è®¾ç½®ä¸º 3001ã€‚\n\n*_å°Tipsï¼šé…ç½®æ–‡ä»¶æ˜¯ç®¡ç†å¤šåº”ç”¨çš„åˆ©å™¨ï¼Œå»ºè®®å°†æ‰€æœ‰ç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨éƒ½å†™å…¥ä¸€ä¸ª `ecosystem.config.js`ï¼Œå¹¶ç”¨ Git è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€‚_*\n\n---\n\n## PM2 çš„å†…éƒ¨åŸç†ï¼šæ­å¼€é­”æ³•çš„å¹•å ğŸ•µï¸â€â™‚ï¸\n\nPM2 çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™æ˜¯ä¸€å¥—å¤æ‚çš„è¿›ç¨‹ç®¡ç†æ¡†æ¶ã€‚å®ƒçš„æ ¸å¿ƒåŸç†å¯ä»¥åˆ†è§£ä¸ºä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š\n\n1. **è¿›ç¨‹ç®¡ç†å™¨**ï¼šPM2 ä½¿ç”¨ Node.js çš„ `child_process` æ¨¡å—æ¥å¯åŠ¨å’Œç®¡ç†å­è¿›ç¨‹ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ PIDï¼ŒPM2 é€šè¿‡ä¿¡å·ï¼ˆå¦‚ SIGINTï¼‰ä¸å®ƒä»¬é€šä¿¡ã€‚\n\n2. **é›†ç¾¤æ¨¡å¼å®ç°**ï¼šåœ¨é›†ç¾¤æ¨¡å¼ä¸‹ï¼ŒPM2 åˆ©ç”¨ Node.js çš„ `cluster` æ¨¡å—ï¼Œåˆ›å»ºä¸€ä¸ªä¸»è¿›ç¨‹ï¼ˆMasterï¼‰å’Œå¤šä¸ªå·¥ä½œè¿›ç¨‹ï¼ˆWorkerï¼‰ã€‚ä¸»è¿›ç¨‹è´Ÿè´£è´Ÿè½½å‡è¡¡ï¼Œå·¥ä½œè¿›ç¨‹å¤„ç†å®é™…è¯·æ±‚ã€‚\n\n3. **æ—¥å¿—ç³»ç»Ÿ**ï¼šPM2 é€šè¿‡æ‹¦æˆª `stdout` å’Œ `stderr` å°†æ—¥å¿—å†™å…¥æ–‡ä»¶ï¼ŒåŒæ—¶æ”¯æŒå®æ—¶æµå¼è¾“å‡ºåˆ°ç»ˆç«¯ã€‚\n\n4. **ç›‘æ§ä¸é‡å¯**ï¼šPM2 é€šè¿‡ `setInterval` è½®è¯¢è¿›ç¨‹çŠ¶æ€ï¼Œæ£€æŸ¥ CPUã€å†…å­˜ç­‰æŒ‡æ ‡ã€‚å½“æ£€æµ‹åˆ°å¼‚å¸¸ï¼ˆå¦‚å†…å­˜è¶…é™æˆ–è¿›ç¨‹é€€å‡ºï¼‰ï¼ŒPM2 ä¼šè§¦å‘é‡å¯é€»è¾‘ã€‚\n\n**ç±»æ¯”**ï¼šPM2 å°±åƒä¸€ä¸ªâ€œæ™ºèƒ½æœºå™¨äººç®¡å®¶â€ï¼Œå®ƒä¸ä»…ä¼šå¸®ä½ å¯åŠ¨å’Œç®¡ç†â€œå·¥äººâ€ï¼ˆè¿›ç¨‹ï¼‰ï¼Œè¿˜ä¼šå®šæœŸæ£€æŸ¥ä»–ä»¬çš„â€œå¥åº·çŠ¶å†µâ€ï¼ˆç›‘æ§ï¼‰ï¼Œç”šè‡³åœ¨å·¥äººâ€œç”Ÿç—…â€æ—¶è‡ªåŠ¨æ›¿æ¢ï¼ˆé‡å¯ï¼‰ã€‚ğŸ¤–\n\n**æºç å°çª¥**ï¼šå¦‚æœä½ å¯¹ PM2 çš„å®ç°æ„Ÿå…´è¶£ï¼Œå¯ä»¥çœ‹çœ‹å®ƒçš„ GitHub ä»“åº“ï¼ˆ`pm2-hive/pm2`ï¼‰ã€‚æ ¸å¿ƒé€»è¾‘åœ¨ `lib/ProcessContainer.js` å’Œ `lib/God.js` ä¸­ï¼Œ`God` æ˜¯ PM2 çš„â€œä¸Šå¸æ¨¡å¼â€ï¼Œè´Ÿè´£åè°ƒæ‰€æœ‰è¿›ç¨‹ã€‚\n\n*_å°Tipsï¼šç†è§£ PM2 çš„åŸç†å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°è°ƒè¯•é—®é¢˜ï¼Œæ¯”å¦‚æ—¥å¿—ä¸¢å¤±å¯èƒ½æ˜¯ `stdout` è¢«é‡å®šå‘ï¼Œé›†ç¾¤æ¨¡å¼å¤±æ•ˆå¯èƒ½æ˜¯ `cluster` æ¨¡å—é…ç½®é”™è¯¯ã€‚_*\n\n---\n\n## æœ€ä½³å®è·µï¼šè®© PM2 åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¤§æ”¾å¼‚å½© ğŸŒŸ\n\nä»¥ä¸‹æ˜¯ä¸€äº›ç»è¿‡å®æˆ˜éªŒè¯çš„æœ€ä½³å®è·µï¼Œå¸®ä½ åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç”¨å¥½ PM2ï¼š\n\n1. **å§‹ç»ˆä½¿ç”¨é…ç½®æ–‡ä»¶**  \n   é…ç½®æ–‡ä»¶ä¸ä»…è®©å¯åŠ¨æ›´è§„èŒƒï¼Œè¿˜æ–¹ä¾¿å›¢é˜Ÿåä½œå’Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚  \n   _*å°Tipsï¼šå°† `ecosystem.config.js` åŠ å…¥ `.gitignore`ï¼Œé¿å…æ³„éœ²æ•æ„Ÿçš„ç¯å¢ƒå˜é‡ã€‚æ”¹ä¸ºä½¿ç”¨ `ecosystem.config.sample.js` ä½œä¸ºæ¨¡æ¿ã€‚*_\n\n2. **åˆç†è®¾ç½®é›†ç¾¤å®ä¾‹æ•°**  \n   æ ¹æ®æœåŠ¡å™¨ CPU æ ¸å¿ƒæ•°è®¾ç½® `instances`ï¼Œé€šå¸¸ä¸º `æ ¸å¿ƒæ•°` æˆ– `æ ¸å¿ƒæ•° - 1`ã€‚  \n   _*å°Tipsï¼šå¯ä»¥ç”¨ `pm2 describe <name>` æŸ¥çœ‹è¿›ç¨‹çš„å®é™…é…ç½®ï¼Œç¡®ä¿å®ä¾‹æ•°ç¬¦åˆé¢„æœŸã€‚*_\n\n3. **å¯ç”¨æ—¥å¿—åˆ†å‰²**  \n   ä½¿ç”¨ `pm2-logrotate` æ¨¡å—ï¼Œé¿å…æ—¥å¿—æ–‡ä»¶è¿‡å¤§å¯¼è‡´ç£ç›˜çˆ†æ»¡ã€‚  \n   _*å°Tipsï¼šå°† `pm2-logrotate` çš„é…ç½®å†™å…¥ `ecosystem.config.js`ï¼Œç¡®ä¿æ¯æ¬¡éƒ¨ç½²éƒ½ç”Ÿæ•ˆã€‚*_\n\n4. **è®¾ç½®å†…å­˜ä¸Šé™**  \n   ä¸ºæ¯ä¸ªè¿›ç¨‹è®¾ç½® `max_memory_restart`ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼å¯¼è‡´æœåŠ¡å™¨å´©æºƒã€‚  \n   _*å°Tipsï¼šå†…å­˜ä¸Šé™ä¸å®œè¿‡ä½ï¼Œå»ºè®®ä» 200MB å¼€å§‹ï¼Œæ ¹æ®å®é™…åº”ç”¨è°ƒæ•´ã€‚*_\n\n5. **è‡ªåŠ¨åŒ–éƒ¨ç½²**  \n   ç»“åˆ CI/CD å·¥å…·ï¼ˆå¦‚ GitHub Actionsï¼‰ï¼Œåœ¨ä»£ç æ¨é€åè‡ªåŠ¨è¿è¡Œ `pm2 reload ecosystem.config.js` å®ç°æ— ç¼éƒ¨ç½²ã€‚  \n   _*å°Tipsï¼šä½¿ç”¨ `pm2 reload` è€Œä¸æ˜¯ `pm2 restart`ï¼Œå¯ä»¥å®ç°é›¶åœæœºæ›´æ–°ã€‚*_\n\n6. **ç›‘æ§å‘Šè­¦**  \n   é›†æˆ PM2 Plus æˆ–è‡ªå»ºå‘Šè­¦ç³»ç»Ÿï¼ˆå¦‚ Prometheus + Grafanaï¼‰ï¼Œåœ¨ CPU/å†…å­˜å¼‚å¸¸æ—¶åŠæ—¶é€šçŸ¥ã€‚  \n   _*å°Tipsï¼šä¸ºå…³é”®åº”ç”¨è®¾ç½®å‘Šè­¦é˜ˆå€¼ï¼Œæ¯”å¦‚ CPU æŒç»­é«˜äº 80% æ—¶å‘é€é‚®ä»¶æˆ– Slack é€šçŸ¥ã€‚*_\n\n7. **å®šæœŸæ¸…ç†æ— ç”¨è¿›ç¨‹**  \n   è¿è¡Œ `pm2 list` æ£€æŸ¥æ˜¯å¦æœ‰åºŸå¼ƒè¿›ç¨‹ï¼Œç”¨ `pm2 delete <name>` æ¸…ç†ã€‚  \n   _*å°Tipsï¼šå¯ä»¥ç”¨ `pm2 save` ä¿å­˜å½“å‰è¿›ç¨‹åˆ—è¡¨ï¼Œé…åˆ `pm2 resurrect` åœ¨æœåŠ¡å™¨é‡å¯åè‡ªåŠ¨æ¢å¤ã€‚*_\n\n**ç¤ºä¾‹ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬**ï¼š\n\n```bash\n#!/bin/bash\ngit pull origin main\nnpm install\npm2 reload ecosystem.config.js --env production\n```\n\nå°†è¿™æ®µè„šæœ¬å‘½åä¸º `deploy.sh`ï¼Œåœ¨ CI/CD ä¸­è°ƒç”¨ï¼Œæ¯æ¬¡æ¨é€ä»£ç åè‡ªåŠ¨éƒ¨ç½²ã€‚\n\n---\n\n## å¸¸è§é—®é¢˜ä¸è°ƒè¯•æŠ€å·§ï¼šå½“é­”æ³•å¤±çµæ—¶æ€ä¹ˆåŠï¼ŸğŸ› ï¸\n\nå³ä½¿æ˜¯æœ€å¥½çš„é­”æ³•å¸ˆï¼Œä¹Ÿä¼šé‡åˆ°é­”æ³•å¤±çµçš„æ—¶å€™ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§é—®é¢˜åŠå…¶è§£å†³æ–¹æ³•ï¼š\n\n1. **é—®é¢˜**ï¼šPM2 è¿›ç¨‹å¯åŠ¨åç«‹åˆ»é€€å‡º  \n   **åŸå› **ï¼šå¯èƒ½æ˜¯ä»£ç æŠ›å‡ºäº†æœªæ•è·çš„å¼‚å¸¸ï¼Œæˆ–è€…ç«¯å£è¢«å ç”¨ã€‚  \n   **è§£å†³**ï¼šæ£€æŸ¥ `pm2 logs <name>`ï¼ŒæŸ¥æ‰¾é”™è¯¯å †æ ˆã€‚å¯ä»¥ç”¨ `lsof -i :3000` æ£€æŸ¥ç«¯å£å ç”¨ã€‚\n\n2. **é—®é¢˜**ï¼šé›†ç¾¤æ¨¡å¼ä¸ç”Ÿæ•ˆï¼Œè¯·æ±‚éƒ½åœ¨åŒä¸€è¿›ç¨‹  \n   **åŸå› **ï¼šå¯èƒ½æ˜¯ `exec_mode` æœªæ­£ç¡®è®¾ç½®ä¸º `cluster`ã€‚  \n   **è§£å†³**ï¼šç¡®ä¿é…ç½®æ–‡ä»¶ä¸­æœ‰ `exec_mode: 'cluster'`ï¼Œå¹¶ç”¨ `pm2 describe <name>` éªŒè¯ã€‚\n\n3. **é—®é¢˜**ï¼šæ—¥å¿—æ–‡ä»¶ä¸¢å¤±æˆ–ä¸ºç©º  \n   **åŸå› **ï¼šå¯èƒ½æ˜¯ `stdout` è¢«é‡å®šå‘ï¼Œæˆ–è€…æ—¥å¿—è·¯å¾„æƒé™ä¸è¶³ã€‚  \n   **è§£å†³**ï¼šæ£€æŸ¥ `~/.pm2/logs/` ç›®å½•æƒé™ï¼Œç”¨ `chmod -R 755 ~/.pm2/logs` ä¿®å¤ã€‚\n\n4. **é—®é¢˜**ï¼šPM2 å ç”¨è¿‡å¤šå†…å­˜  \n   **åŸå› **ï¼šå¯èƒ½æ˜¯ç›‘æ§æ¨¡å—ï¼ˆå¦‚ `pm2-logrotate`ï¼‰é…ç½®ä¸å½“ã€‚  \n   **è§£å†³**ï¼šé™ä½ç›‘æ§é¢‘ç‡ï¼Œæˆ–å‡å°‘ä¸å¿…è¦çš„æ¨¡å—ï¼Œç”¨ `pm2 unstartup` ç¦ç”¨å¼€æœºè‡ªå¯ã€‚\n\n*_å°Tipsï¼šè°ƒè¯• PM2 æ—¶ï¼Œ`pm2 logs` å’Œ `pm2 describe` æ˜¯ä½ çš„æœ€ä½³æœ‹å‹ã€‚é‡åˆ°å¤æ‚é—®é¢˜ï¼Œå¯ä»¥å» PM2 çš„ GitHub Issues æœç´¢ç­”æ¡ˆã€‚_*\n\n---\n\n## æ€»ç»“ï¼šç”¨ PM2 ç‚¹äº®ä½ çš„ Node.js ç”Ÿäº§ç¯å¢ƒ ğŸŒŒ\n\nPM2 ä¸ä»…æ˜¯ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œæ›´æ˜¯ä¸€ä¸ªè®©å‰ç«¯å¼€å‘è€…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ¸¸åˆƒæœ‰ä½™çš„â€œé­”æ³•æ£’â€ã€‚é€šè¿‡æœ¬æ–‡ï¼Œä½ å·²ç»æŒæ¡äº†ä»å®‰è£…åˆ°é«˜çº§é…ç½®çš„å…¨éƒ¨æŠ€å·§ï¼Œå­¦ä¼šäº†å¦‚ä½•ç”¨ PM2 å¯åŠ¨åº”ç”¨ã€ç®¡ç†è¿›ç¨‹ã€ä¼˜åŒ–æ€§èƒ½ã€å¤„ç†æ—¥å¿—å’Œç›‘æ§ç³»ç»Ÿã€‚æ›´é‡è¦çš„æ˜¯ï¼Œä½ è¿˜äº†è§£äº† PM2 çš„å†…éƒ¨åŸç†å’Œæœ€ä½³å®è·µï¼Œè¶³ä»¥åº”å¯¹å„ç§ç”Ÿäº§ç¯å¢ƒçš„æŒ‘æˆ˜ã€‚\n\nå°±åƒä¸€ä½å¹½é»˜çš„é­”æ³•å¸ˆï¼ŒPM2 ç”¨ç®€å•çš„æ–¹å¼è§£å†³äº†å¤æ‚çš„è¿›ç¨‹ç®¡ç†é—®é¢˜ã€‚å®ƒè®©ä½ çš„ Node.js åº”ç”¨åƒä¸€é¢—æ’æ˜Ÿï¼Œç¨³å®šè€Œè€€çœ¼ã€‚å¸Œæœ›è¿™ç¯‡æ•™ç¨‹èƒ½æˆä¸ºä½ éƒ¨ç½²è·¯ä¸Šçš„â€œåŒ—ææ˜Ÿâ€ï¼ŒæŒ‡å¼•ä½ èµ°å‘æ›´é«˜æ•ˆã€æ›´å¯é çš„ç”Ÿäº§ç¯å¢ƒï¼ğŸŒŸ\n\n> **å½©è›‹**ï¼šå¦‚æœä½ è§‰å¾— PM2 è¿˜ä¸å¤Ÿç‚«é…·ï¼Œä¸å¦¨è¯•è¯•å®ƒçš„å…„å¼Ÿé¡¹ç›® `pm2-web`ï¼ˆä¸€ä¸ªåŸºäº Web çš„ç›‘æ§é¢æ¿ï¼‰ï¼Œæˆ–è€…è‡ªå·±å†™ä¸ª PM2 æ’ä»¶ï¼Œå®šåˆ¶ä¸“å±çš„é­”æ³•æ•ˆæœï¼ğŸ˜‰\n\nå¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ–è€…ç›´æ¥æ•² `pm2 --help`ï¼Œè®© PM2 äº²è‡ªä¸ºä½ è§£ç­”ï¼ğŸš€\n\n---",
    "code": "var Component=(()=>{var o=Object.create;var t=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var E=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),b=(n,e)=>{for(var d in e)t(n,d,{get:e[d],enumerable:!0})},i=(n,e,d,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!m.call(n,r)&&r!==d&&t(n,r,{get:()=>e[r],enumerable:!(l=g(e,r))||l.enumerable});return n};var F=(n,e,d)=>(d=n!=null?o(u(n)):{},i(e||!n||!n.__esModule?t(d,\"default\",{value:n,enumerable:!0}):d,n)),f=n=>i(t({},\"__esModule\",{value:!0}),n);var h=E((P,c)=>{c.exports=_jsx_runtime});var x={};b(x,{default:()=>s,frontmatter:()=>k});var a=F(h()),k={type:\"Post\",title:\"\\u6700\\u5168 PM2 \\u4F7F\\u7528\\u6559\\u7A0B\\uFF1A\\u4ECE\\u5165\\u95E8\\u5230\\u7CBE\\u901A\\uFF0C\\u5E26\\u4F60\\u89E3\\u9501\\u8FDB\\u7A0B\\u7BA1\\u7406\\u7684\\u9B54\\u6CD5 \\u{1F680}\",date:\"2023-10-11\",description:\"\\u5168\\u9762\\u89E3\\u6790 PM2 \\u7684\\u4F7F\\u7528\\u65B9\\u6CD5\\uFF0C\\u6DB5\\u76D6\\u57FA\\u7840\\u64CD\\u4F5C\\u3001\\u9AD8\\u7EA7\\u914D\\u7F6E\\u3001\\u96C6\\u7FA4\\u6A21\\u5F0F\\u3001\\u65E5\\u5FD7\\u7BA1\\u7406\\u3001\\u76D1\\u63A7\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u4E13\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u6253\\u9020\\uFF0C\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u5E7D\\u9ED8\\u98CE\\u8DA3\\u53C8\\u5B9E\\u7528\\u3002\",keywords:\"PM2, Node.js, \\u8FDB\\u7A0B\\u7BA1\\u7406, \\u96C6\\u7FA4\\u6A21\\u5F0F, \\u65E5\\u5FD7\\u7BA1\\u7406, \\u76D1\\u63A7, \\u524D\\u7AEF\\u90E8\\u7F72, \\u751F\\u4EA7\\u73AF\\u5883\",author:\"\\u6653\\u9F99\",image:\"/images/hero/pm2-guide.jpg\",tags:[\"Node.js\",\"PM2\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u90E8\\u7F72\"],category:\"Node.js\"};function p(n){let e={a:\"a\",blockquote:\"blockquote\",br:\"br\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.p,{children:[\"\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u4F60\\u53EF\\u80FD\\u5DF2\\u7ECF\\u719F\\u6089\\u4E86\\u5982\\u4F55\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"npm start\"})})})}),\" \\u542F\\u52A8\\u4E00\\u4E2A Node.js \\u9879\\u76EE\\uFF0C\\u4F46\\u5F53\\u9879\\u76EE\\u4E0A\\u7EBF\\u5230\\u751F\\u4EA7\\u73AF\\u5883\\uFF0C\\u9762\\u5BF9\\u9AD8\\u5E76\\u53D1\\u3001\\u8FDB\\u7A0B\\u5D29\\u6E83\\u3001\\u65E5\\u5FD7\\u7BA1\\u7406\\u7B49\\u201C\\u6210\\u5E74\\u4EBA\\u7684\\u70E6\\u607C\\u201D\\uFF0C\\u4F60\\u662F\\u5426\\u611F\\u5230\\u624B\\u8DB3\\u65E0\\u63AA\\uFF1F\\u522B\\u614C\\uFF0C\",(0,a.jsx)(e.strong,{children:\"PM2\"}),\"\\uFF08Process Manager 2\\uFF09\\u5C31\\u662F\\u4F60\\u7684\\u6551\\u547D\\u7A3B\\u8349\\uFF01\\u5B83\\u4E0D\\u4EC5\\u80FD\\u8BA9\\u4F60\\u7684 Node.js \\u5E94\\u7528\\u7A33\\u5B9A\\u8FD0\\u884C\\uFF0C\\u8FD8\\u80FD\\u89E3\\u9501\\u96C6\\u7FA4\\u6A21\\u5F0F\\u3001\\u76D1\\u63A7\\u3001\\u65E5\\u5FD7\\u7BA1\\u7406\\u7B49\\u9AD8\\u7EA7\\u9B54\\u6CD5\\u3002\\u{1F3A9}\"]}),`\n`,(0,a.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u4ECE PM2 \\u7684\\u57FA\\u7840\\u7528\\u6CD5\\u6DF1\\u5165\\u5230\\u539F\\u7406\\u5256\\u6790\\uFF0C\\u914D\\u4EE5\\u5927\\u91CF\\u5B9E\\u6218\\u793A\\u4F8B\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\u548C\\u5E7D\\u9ED8\\u7C7B\\u6BD4\\uFF0C\\u529B\\u6C42\\u8BA9\\u4F60\\u8BFB\\u5B8C\\u540E\\u5BF9 PM2 \\u7684\\u6BCF\\u4E00\\u5757\\u201C\\u9B54\\u6CD5\\u77F3\\u201D\\u90FD\\u4E86\\u5982\\u6307\\u638C\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521A\\u63A5\\u89E6 PM2 \\u7684\\u65B0\\u624B\\uFF0C\\u8FD8\\u662F\\u60F3\\u4F18\\u5316\\u751F\\u4EA7\\u73AF\\u5883\\u7684\\u8001\\u9E1F\\uFF0C\\u8FD9\\u7BC7 8000+ \\u5B57\\u7684\\u6559\\u7A0B\\u90FD\\u5C06\\u662F\\u4F60\\u7684\\u7EC8\\u6781\\u6307\\u5357\\uFF01\\u{1F4DA}\"}),`\n`,(0,a.jsxs)(e.blockquote,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u601D\\u7EF4\\u94FE\"}),\"\\uFF1A\\u6211\\u4EEC\\u5C06\\u4ECE PM2 \\u7684\\u5B9A\\u4E49\\u548C\\u5B89\\u88C5\\u5F00\\u59CB\\uFF0C\\u9010\\u6B65\\u6DF1\\u5165\\u5230\\u6838\\u5FC3\\u529F\\u80FD\\uFF08\\u542F\\u52A8\\u3001\\u7BA1\\u7406\\u3001\\u96C6\\u7FA4\\u3001\\u65E5\\u5FD7\\u3001\\u76D1\\u63A7\\uFF09\\uFF0C\\u518D\\u63A2\\u8BA8\\u9AD8\\u7EA7\\u914D\\u7F6E\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u6700\\u540E\\u5256\\u6790\\u5176\\u5185\\u90E8\\u539F\\u7406\\u3002\\u6BCF\\u90E8\\u5206\\u90FD\\u4F1A\\u914D\\u6709\\u793A\\u4F8B\\u3001\\u8868\\u683C\\u3001\\u7C7B\\u6BD4\\u548C\\u5E7D\\u9ED8\\u70B9\\u7F00\\uFF0C\\u786E\\u4FDD\\u5185\\u5BB9\\u65E2\\u5B9E\\u7528\\u53C8\\u6709\\u8DA3\\u3002\"]}),`\n`]}),`\n`,(0,a.jsx)(e.h2,{id:\"\\u4EC0\\u4E48\\u662F-pm2\",children:(0,a.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u662F-pm2\",children:\"\\u4EC0\\u4E48\\u662F PM2\\uFF1F\\u{1F914}\"})}),`\n`,(0,a.jsxs)(e.p,{children:[\"PM2 \\u662F\\u4E00\\u4E2A\\u5F3A\\u5927\\u7684 Node.js \\u8FDB\\u7A0B\\u7BA1\\u7406\\u5DE5\\u5177\\uFF0C\\u4E13\\u4E3A\\u751F\\u4EA7\\u73AF\\u5883\\u8BBE\\u8BA1\\u3002\\u5B83\\u80FD\\u8BA9\\u4F60\\u7684\\u5E94\\u7528\\u50CF\\u201C\\u6C38\\u52A8\\u673A\\u201D\\u4E00\\u6837\\u8FD0\\u884C\\uFF0C\\u652F\\u6301\\u81EA\\u52A8\\u91CD\\u542F\\u3001\\u8D1F\\u8F7D\\u5747\\u8861\\u3001\\u65E5\\u5FD7\\u7BA1\\u7406\\u3001\\u6027\\u80FD\\u76D1\\u63A7\\u7B49\\u529F\\u80FD\\u3002\\u76F8\\u6BD4\\u4E8E\\u76F4\\u63A5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"node app.js\"})})})}),\" \\u542F\\u52A8\\uFF0CPM2 \\u5C31\\u50CF\\u7ED9\\u4F60\\u7684\\u5E94\\u7528\\u96C7\\u4E86\\u4E00\\u4E2A\\u201C\\u79C1\\u4EBA\\u7BA1\\u5BB6\\u201D\\uFF0C\\u968F\\u65F6\\u5E2E\\u4F60\\u5904\\u7406\\u5D29\\u6E83\\u3001\\u6269\\u5BB9\\u548C\\u65E5\\u5FD7\\u6574\\u7406\\u3002\"]}),`\n`,(0,a.jsx)(e.p,{children:\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF1A\\u5982\\u679C Node.js \\u662F\\u4E00\\u4E2A\\u4E50\\u961F\\u4E3B\\u5531\\uFF0C\\u8D1F\\u8D23\\u8F93\\u51FA\\u7F8E\\u5999\\u7684\\u58F0\\u97F3\\uFF0C\\u90A3\\u4E48 PM2 \\u5C31\\u662F\\u540E\\u53F0\\u7684\\u4E50\\u961F\\u7ECF\\u7406\\uFF0C\\u8D1F\\u8D23\\u8C03\\u97F3\\u3001\\u5B89\\u6392\\u6F14\\u51FA\\u3001\\u751A\\u81F3\\u5728\\u4E3B\\u5531\\u55D3\\u5B50\\u54D1\\u4E86\\u7684\\u65F6\\u5019\\u7D27\\u6025\\u6362\\u4EBA\\u3002\\u{1F3B8}\"}),`\n`,(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u7279\\u6027\"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u63CF\\u8FF0\"})})]})}),(0,a.jsxs)(e.tbody,{children:[(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:\"\\u8FDB\\u7A0B\\u7BA1\\u7406\"})}),(0,a.jsx)(e.td,{children:\"\\u542F\\u52A8\\u3001\\u505C\\u6B62\\u3001\\u91CD\\u542F\\u3001\\u5220\\u9664\\u8FDB\\u7A0B\\uFF0C\\u652F\\u6301\\u591A\\u5E94\\u7528\\u7BA1\\u7406\"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:\"\\u81EA\\u52A8\\u91CD\\u542F\"})}),(0,a.jsx)(e.td,{children:\"\\u8FDB\\u7A0B\\u5D29\\u6E83\\u540E\\u81EA\\u52A8\\u91CD\\u542F\\uFF0C\\u4FDD\\u8BC1\\u5E94\\u7528\\u9AD8\\u53EF\\u7528\"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:\"\\u96C6\\u7FA4\\u6A21\\u5F0F\"})}),(0,a.jsx)(e.td,{children:\"\\u5229\\u7528\\u591A\\u6838 CPU\\uFF0C\\u65E0\\u9700\\u4FEE\\u6539\\u4EE3\\u7801\\u5373\\u53EF\\u5B9E\\u73B0\\u8D1F\\u8F7D\\u5747\\u8861\"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:\"\\u65E5\\u5FD7\\u7BA1\\u7406\"})}),(0,a.jsx)(e.td,{children:\"\\u96C6\\u4E2D\\u5316\\u65E5\\u5FD7\\u6536\\u96C6\\uFF0C\\u652F\\u6301\\u65E5\\u5FD7\\u5206\\u5272\\u548C\\u67E5\\u770B\"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:\"\\u76D1\\u63A7\"})}),(0,a.jsx)(e.td,{children:\"\\u63D0\\u4F9B CPU\\u3001\\u5185\\u5B58\\u3001\\u8BF7\\u6C42\\u7B49\\u5B9E\\u65F6\\u76D1\\u63A7\\uFF0C\\u751A\\u81F3\\u652F\\u6301\\u4E0E\\u5916\\u90E8\\u5DE5\\u5177\\u96C6\\u6210\"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:\"\\u6A21\\u5757\\u5316\\u751F\\u6001\"})}),(0,a.jsx)(e.td,{children:\"\\u652F\\u6301\\u81EA\\u5B9A\\u4E49\\u6A21\\u5757\\uFF0C\\u5982 pm2-logrotate\\u3001pm2-server-monit \\u7B49\"})]})]})]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1APM2 \\u4E0D\\u4EC5\\u9002\\u7528\\u4E8E Node.js\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u7BA1\\u7406\\u5176\\u4ED6\\u811A\\u672C\\uFF08\\u5982 Python\\u3001Ruby\\uFF09\\uFF0C\\u4F46\\u672C\\u6587\\u5C06\\u805A\\u7126\\u4E8E\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7684\\u5178\\u578B\\u573A\\u666F\\u3002\"})})}),`\n`,(0,a.jsx)(e.hr,{}),`\n`,(0,a.jsx)(e.h2,{id:\"\\u5B89\\u88C5\\u4E0E\\u57FA\\u7840\\u4F7F\\u7528\\u8BA9-pm2-\\u6210\\u4E3A\\u4F60\\u7684\\u542F\\u52A8\\u52A9\\u624B-\\uFE0F\",children:(0,a.jsx)(e.a,{href:\"#\\u5B89\\u88C5\\u4E0E\\u57FA\\u7840\\u4F7F\\u7528\\u8BA9-pm2-\\u6210\\u4E3A\\u4F60\\u7684\\u542F\\u52A8\\u52A9\\u624B-\\uFE0F\",children:\"\\u5B89\\u88C5\\u4E0E\\u57FA\\u7840\\u4F7F\\u7528\\uFF1A\\u8BA9 PM2 \\u6210\\u4E3A\\u4F60\\u7684\\u542F\\u52A8\\u52A9\\u624B \\u{1F6E0}\\uFE0F\"})}),`\n`,(0,a.jsx)(e.h3,{id:\"1-\\u5B89\\u88C5-pm2\",children:(0,a.jsx)(e.a,{href:\"#1-\\u5B89\\u88C5-pm2\",children:\"1. \\u5B89\\u88C5 PM2\"})}),`\n`,(0,a.jsx)(e.p,{children:\"PM2 \\u662F\\u4E00\\u4E2A npm \\u5305\\uFF0C\\u5B89\\u88C5\\u7B80\\u5355\\u5230\\u50CF\\u70B9\\u4E00\\u4EFD\\u5916\\u5356\\uFF1A\"}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -g\"})]})})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u5B89\\u88C5\\u5B8C\\u6210\\u540E\\uFF0C\\u8FD0\\u884C\\u4EE5\\u4E0B\\u547D\\u4EE4\\u68C0\\u67E5\\u7248\\u672C\\uFF0C\\u786E\\u4FDD PM2 \\u5DF2\\u6B63\\u786E\\u5B89\\u88C5\\uFF1A\"}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --version\"})]})})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u8FD4\\u56DE\\u7C7B\\u4F3C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"5.x.x\"})})})}),\" \\u7684\\u7248\\u672C\\u53F7\\uFF0C\\u606D\\u559C\\u4F60\\uFF0CPM2 \\u5DF2\\u7ECF\\u51C6\\u5907\\u597D\\u4E3A\\u4F60\\u670D\\u52A1\\uFF01\\u{1F389}\"]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u5168\\u5C40\\u5B89\\u88C5 PM2\\uFF08\\u52A0\\u4E0A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"-g\"})})})}),\"\\uFF09\\u662F\\u4E3A\\u4E86\\u65B9\\u4FBF\\u5728\\u4EFB\\u4F55\\u9879\\u76EE\\u4E2D\\u4F7F\\u7528\\u3002\\u5982\\u679C\\u4F60\\u53EA\\u60F3\\u5728\\u7279\\u5B9A\\u9879\\u76EE\\u4E2D\\u4F7F\\u7528\\uFF0C\\u53EF\\u4EE5\\u7701\\u7565 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"-g\"})})})}),\"\\uFF0C\\u4F46\\u9700\\u8981\\u901A\\u8FC7 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"npx pm2\"})})})}),\" \\u8C03\\u7528\\u3002\"]})})}),`\n`,(0,a.jsx)(e.h3,{id:\"2-\\u542F\\u52A8\\u7B2C\\u4E00\\u4E2A\\u5E94\\u7528\",children:(0,a.jsx)(e.a,{href:\"#2-\\u542F\\u52A8\\u7B2C\\u4E00\\u4E2A\\u5E94\\u7528\",children:\"2. \\u542F\\u52A8\\u7B2C\\u4E00\\u4E2A\\u5E94\\u7528\"})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u5047\\u8BBE\\u4F60\\u6709\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 Node.js \\u5E94\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"app.js\"})})})}),\"\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" express\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,a.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,a.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Hello, PM2 World!'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Server running on port 3000'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u7528 PM2 \\u542F\\u52A8\\u5B83\\u5C31\\u50CF\\u7ED9\\u4F60\\u7684\\u4EE3\\u7801\\u63D2\\u4E0A\\u7FC5\\u8180\\uFF1A\"}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" app.js\"})]})})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u8FD0\\u884C\\u540E\\uFF0CPM2 \\u4F1A\\u8F93\\u51FA\\u4E00\\u4E2A\\u8868\\u683C\\uFF0C\\u663E\\u793A\\u8FDB\\u7A0B\\u4FE1\\u606F\\uFF1A\"}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u2502 id  \\u2502 name   \\u2502 namespace   \\u2502 version \\u2502 mode    \\u2502 pid      \\u2502 uptime \\u2502 \\u21BA    \\u2502 status    \\u2502 cpu      \\u2502 mem      \\u2502\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2524\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u2502 0   \\u2502 app    \\u2502 default     \\u2502 N/A     \\u2502 fork    \\u2502 12345    \\u2502 0s     \\u2502 0    \\u2502 online    \\u2502 0%       \\u2502 25.3mb   \\u2502\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u8FD9\\u5F20\\u8868\\u683C\\u5C31\\u50CF PM2 \\u7684\\u201C\\u4F53\\u68C0\\u62A5\\u544A\\u201D\\uFF0C\\u544A\\u8BC9\\u4F60\\u8FDB\\u7A0B\\u7684 ID\\u3001\\u540D\\u79F0\\u3001\\u8FD0\\u884C\\u6A21\\u5F0F\\u3001CPU \\u548C\\u5185\\u5B58\\u5360\\u7528\\u7B49\\u4FE1\\u606F\\u3002\"}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0CPM2 \\u4F1A\\u4EE5\\u6587\\u4EF6\\u540D\\u4F5C\\u4E3A\\u8FDB\\u7A0B\\u540D\\u79F0\\u3002\\u5982\\u679C\\u4F60\\u60F3\\u81EA\\u5B9A\\u4E49\\u540D\\u79F0\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"--name\"})})})}),\" \\u53C2\\u6570\\uFF0C\\u6BD4\\u5982 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 start app.js --name my-app\"})})})}),\"\\u3002\"]})})}),`\n`,(0,a.jsx)(e.h3,{id:\"3-\\u5E38\\u7528\\u547D\\u4EE4\\u901F\\u89C8\",children:(0,a.jsx)(e.a,{href:\"#3-\\u5E38\\u7528\\u547D\\u4EE4\\u901F\\u89C8\",children:\"3. \\u5E38\\u7528\\u547D\\u4EE4\\u901F\\u89C8\"})}),`\n`,(0,a.jsx)(e.p,{children:\"PM2 \\u63D0\\u4F9B\\u4E86\\u4E30\\u5BCC\\u7684\\u547D\\u4EE4\\uFF0C\\u8BA9\\u4F60\\u50CF\\u6307\\u6325\\u4EA4\\u54CD\\u4E50\\u4E00\\u6837\\u7BA1\\u7406\\u8FDB\\u7A0B\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5E38\\u7528\\u547D\\u4EE4\\uFF1A\"}),`\n`,(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u547D\\u4EE4\"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u529F\\u80FD\"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"})})]})}),(0,a.jsxs)(e.tbody,{children:[(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 start <script>\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u542F\\u52A8\\u4E00\\u4E2A\\u8FDB\\u7A0B\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 start app.js\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 stop <name/id>\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u505C\\u6B62\\u6307\\u5B9A\\u8FDB\\u7A0B\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 stop my-app\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 restart <name/id>\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u91CD\\u542F\\u6307\\u5B9A\\u8FDB\\u7A0B\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 restart 0\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 delete <name/id>\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u5220\\u9664\\u6307\\u5B9A\\u8FDB\\u7A0B\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 delete my-app\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 list\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u67E5\\u770B\\u6240\\u6709\\u8FDB\\u7A0B\\u72B6\\u6001\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 list\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 logs\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u67E5\\u770B\\u6240\\u6709\\u8FDB\\u7A0B\\u7684\\u65E5\\u5FD7\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 logs\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 monit\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u6253\\u5F00\\u5B9E\\u65F6\\u76D1\\u63A7\\u9762\\u677F\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 monit\"})})})})})]})]})]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u547D\\u4EE4\\u592A\\u591A\\u8BB0\\u4E0D\\u4F4F\\uFF1F\\u76F4\\u63A5\\u6572 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 --help\"})})})}),\"\\uFF0CPM2 \\u4F1A\\u8D34\\u5FC3\\u5730\\u5217\\u51FA\\u6240\\u6709\\u53EF\\u7528\\u547D\\u4EE4\\uFF0C\\u5C31\\u50CF\\u6253\\u5F00\\u4E86\\u4E00\\u672C\\u9B54\\u6CD5\\u4E66\\u3002\"]})})}),`\n`,(0,a.jsx)(e.hr,{}),`\n`,(0,a.jsx)(e.h2,{id:\"\\u6DF1\\u5165\\u6838\\u5FC3\\u529F\\u80FD\\u8BA9-pm2-\\u7684\\u9B54\\u6CD5\\u66F4\\u70AB\\u9177-\",children:(0,a.jsx)(e.a,{href:\"#\\u6DF1\\u5165\\u6838\\u5FC3\\u529F\\u80FD\\u8BA9-pm2-\\u7684\\u9B54\\u6CD5\\u66F4\\u70AB\\u9177-\",children:\"\\u6DF1\\u5165\\u6838\\u5FC3\\u529F\\u80FD\\uFF1A\\u8BA9 PM2 \\u7684\\u9B54\\u6CD5\\u66F4\\u70AB\\u9177 \\u2728\"})}),`\n`,(0,a.jsx)(e.h3,{id:\"1-\\u8FDB\\u7A0B\\u7BA1\\u7406\\u50CF\\u73A9\\u79EF\\u6728\\u4E00\\u6837\\u7075\\u6D3B-\",children:(0,a.jsx)(e.a,{href:\"#1-\\u8FDB\\u7A0B\\u7BA1\\u7406\\u50CF\\u73A9\\u79EF\\u6728\\u4E00\\u6837\\u7075\\u6D3B-\",children:\"1. \\u8FDB\\u7A0B\\u7BA1\\u7406\\uFF1A\\u50CF\\u73A9\\u79EF\\u6728\\u4E00\\u6837\\u7075\\u6D3B \\u{1F9F1}\"})}),`\n`,(0,a.jsxs)(e.p,{children:[\"PM2 \\u7684\\u8FDB\\u7A0B\\u7BA1\\u7406\\u529F\\u80FD\\u5C31\\u50CF\\u4E00\\u4E2A\\u8D85\\u7EA7\\u667A\\u80FD\\u7684\\u201C\\u4EFB\\u52A1\\u7BA1\\u7406\\u5668\\u201D\\u3002\\u4F60\\u53EF\\u4EE5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 list\"})})})}),\" \\u67E5\\u770B\\u6240\\u6709\\u8FD0\\u884C\\u4E2D\\u7684\\u8FDB\\u7A0B\\uFF0C\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 stop\"})})})}),\"\\u3001\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 restart\"})})})}),\" \\u6216 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 delete\"})})})}),\" \\u6765\\u64CD\\u63A7\\u5B83\\u4EEC\\u3002\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"}),\"\\uFF1A\\u5047\\u8BBE\\u4F60\\u6709\\u591A\\u4E2A\\u5E94\\u7528\\u9700\\u8981\\u540C\\u65F6\\u8FD0\\u884C\\uFF0C\\u6BD4\\u5982 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"api.js\"})})})}),\" \\u548C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"worker.js\"})})})}),\"\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" api.js\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --name\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" api\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" worker.js\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --name\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" worker\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" list\"})]})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u8F93\\u51FA\\u53EF\\u80FD\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u2502 id  \\u2502 name   \\u2502 namespace   \\u2502 version \\u2502 mode    \\u2502 pid      \\u2502 uptime \\u2502 \\u21BA    \\u2502 status    \\u2502 cpu      \\u2502 mem      \\u2502\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u253C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2524\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u2502 0   \\u2502 api    \\u2502 default     \\u2502 N/A     \\u2502 fork    \\u2502 12345    \\u2502 2m     \\u2502 0    \\u2502 online    \\u2502 0%       \\u2502 30.1mb   \\u2502\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u2502 1   \\u2502 worker \\u2502 default     \\u2502 N/A     \\u2502 fork    \\u2502 12346    \\u2502 2m     \\u2502 0    \\u2502 online    \\u2502 0%       \\u2502 28.7mb   \\u2502\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2534\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u5982\\u679C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"api\"})})})}),\" \\u8FDB\\u7A0B\\u51FA\\u4E86\\u95EE\\u9898\\uFF0C\\u4F60\\u53EF\\u4EE5\\u5355\\u72EC\\u91CD\\u542F\\u5B83\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" restart\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" api\"})]})})})}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u7ED9\\u8FDB\\u7A0B\\u53D6\\u4E2A\\u6709\\u610F\\u4E49\\u7684\\u540D\\u5B57\\uFF08\\u6BD4\\u5982 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"api\"})})})}),\" \\u800C\\u4E0D\\u662F \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"app1\"})})})}),\"\\uFF09\\uFF0C\\u5C31\\u50CF\\u7ED9\\u5BA0\\u7269\\u8D77\\u540D\\uFF0C\\u65B9\\u4FBF\\u7BA1\\u7406\\u548C\\u8BB0\\u5FC6\\u3002\"]})})}),`\n`,(0,a.jsx)(e.h3,{id:\"2-\\u96C6\\u7FA4\\u6A21\\u5F0F\\u69A8\\u5E72\\u591A\\u6838-cpu-\\u7684\\u6BCF\\u4E00\\u6EF4\\u6027\\u80FD-\",children:(0,a.jsx)(e.a,{href:\"#2-\\u96C6\\u7FA4\\u6A21\\u5F0F\\u69A8\\u5E72\\u591A\\u6838-cpu-\\u7684\\u6BCF\\u4E00\\u6EF4\\u6027\\u80FD-\",children:\"2. \\u96C6\\u7FA4\\u6A21\\u5F0F\\uFF1A\\u69A8\\u5E72\\u591A\\u6838 CPU \\u7684\\u6BCF\\u4E00\\u6EF4\\u6027\\u80FD \\u{1F4AA}\"})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Node.js \\u9ED8\\u8BA4\\u662F\\u5355\\u7EBF\\u7A0B\\u7684\\uFF0C\\u5C31\\u50CF\\u4E00\\u4E2A\\u5B64\\u72EC\\u7684\\u53A8\\u5E08\\u5728\\u53A8\\u623F\\u91CC\\u5FD9\\u6D3B\\u3002\\u5982\\u679C\\u4F60\\u7684\\u670D\\u52A1\\u5668\\u6709 8 \\u6838 CPU\\uFF0C\\u5355\\u7EBF\\u7A0B\\u53EA\\u80FD\\u7528 1/8 \\u7684\\u6027\\u80FD\\uFF0C\\u5B9E\\u5728\\u662F\\u66B4\\u6B84\\u5929\\u7269\\uFF01PM2 \\u7684 \",(0,a.jsx)(e.strong,{children:\"\\u96C6\\u7FA4\\u6A21\\u5F0F\"}),\"\\uFF08Cluster Mode\\uFF09\\u53EF\\u4EE5\\u8BA9\\u4F60\\u7684\\u5E94\\u7528\\u50CF\\u4E00\\u652F\\u5206\\u5DE5\\u660E\\u786E\\u7684\\u53A8\\u5E08\\u56E2\\u961F\\uFF0C\\u5145\\u5206\\u5229\\u7528\\u591A\\u6838 CPU\\u3002\"]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:\"\\u5982\\u4F55\\u5F00\\u542F\\u96C6\\u7FA4\\u6A21\\u5F0F\\uFF1F\"})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u53EA\\u9700\\u5728\\u542F\\u52A8\\u65F6\\u52A0\\u4E0A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"--instances\"})})})}),\" \\u548C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"-i\"})})})}),\" \\u53C2\\u6570\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" app.js\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --name\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-app\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -i\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 4\"})]})})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u8FD9\\u4F1A\\u542F\\u52A8 4 \\u4E2A\\u8FDB\\u7A0B\\u5B9E\\u4F8B\\uFF0CPM2 \\u4F1A\\u81EA\\u52A8\\u5206\\u914D\\u8BF7\\u6C42\\u5230\\u8FD9\\u4E9B\\u5B9E\\u4F8B\\uFF0C\\u5B9E\\u73B0\\u8D1F\\u8F7D\\u5747\\u8861\\u3002\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"-i 4\"})})})}),\" \\u8868\\u793A\\u542F\\u52A8 4 \\u4E2A\\u5B9E\\u4F8B\\uFF0C\\u4F60\\u4E5F\\u53EF\\u4EE5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"-i max\"})})})}),\" \\u8BA9 PM2 \\u81EA\\u52A8\\u6839\\u636E CPU \\u6838\\u5FC3\\u6570\\u51B3\\u5B9A\\u5B9E\\u4F8B\\u6570\\u91CF\\u3002\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"}),\"\\uFF1A\\u5047\\u8BBE\\u4F60\\u7684 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"app.js\"})})})}),\" \\u662F\\u4E00\\u4E2A Express \\u5E94\\u7528\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" express\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,a.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,a.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Hello from process ${\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"process\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"pid\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u7528\\u96C6\\u7FA4\\u6A21\\u5F0F\\u542F\\u52A8\\uFF1A\"}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" app.js\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --name\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" cluster-app\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -i\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 4\"})]})})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u8BBF\\u95EE \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"http://localhost:3000\"})})})}),\"\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0\\u6BCF\\u6B21\\u8BF7\\u6C42\\u8FD4\\u56DE\\u7684 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"process.pid\"})})})}),\" \\u4E0D\\u540C\\uFF0C\\u8BF4\\u660E PM2 \\u5728\\u591A\\u4E2A\\u8FDB\\u7A0B\\u95F4\\u505A\\u4E86\\u8D1F\\u8F7D\\u5747\\u8861\\u3002\"]}),`\n`,(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u53C2\\u6570\"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u4F5C\\u7528\"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"})})]})}),(0,a.jsxs)(e.tbody,{children:[(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"-i <number>\"})})})})}),(0,a.jsxs)(e.td,{children:[\"\\u6307\\u5B9A\\u5B9E\\u4F8B\\u6570\\uFF0C\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"max\"})})})}),\" \\u8868\\u793A\\u81EA\\u52A8\\u5339\\u914D CPU \\u6838\\u5FC3\\u6570\"]}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"-i 4\"})})})}),\" \\u6216 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"-i max\"})})})})]})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"--no-autorestart\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u7981\\u7528\\u81EA\\u52A8\\u91CD\\u542F\\uFF08\\u4E00\\u822C\\u4E0D\\u63A8\\u8350\\uFF09\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"--no-autorestart\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"--max-memory-restart\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u8BBE\\u7F6E\\u5185\\u5B58\\u4E0A\\u9650\\uFF0C\\u8D85\\u9650\\u540E\\u91CD\\u542F\\u8FDB\\u7A0B\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"--max-memory-restart 200M\"})})})})})]})]})]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u5B9E\\u4F8B\\u6570\\u4E0D\\u5B9C\\u8FC7\\u591A\\uFF0C\\u5EFA\\u8BAE\\u8BBE\\u7F6E\\u4E3A CPU \\u6838\\u5FC3\\u6570\\u6216\\u6838\\u5FC3\\u6570 -1\\uFF0C\\u907F\\u514D\\u8FC7\\u5EA6\\u7ADE\\u4E89\\u8D44\\u6E90\\u3002\\u53EF\\u4EE5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"nproc\"})})})}),\"\\uFF08Linux\\uFF09\\u6216 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"os.cpus().length\"})})})}),\"\\uFF08Node.js\\uFF09\\u68C0\\u67E5\\u6838\\u5FC3\\u6570\\u3002\"]})})}),`\n`,(0,a.jsx)(e.h3,{id:\"3-\\u65E5\\u5FD7\\u7BA1\\u7406\\u8BA9\\u6DF7\\u4E71\\u7684-consolelog-\\u4E95\\u7136\\u6709\\u5E8F-\",children:(0,a.jsx)(e.a,{href:\"#3-\\u65E5\\u5FD7\\u7BA1\\u7406\\u8BA9\\u6DF7\\u4E71\\u7684-consolelog-\\u4E95\\u7136\\u6709\\u5E8F-\",children:\"3. \\u65E5\\u5FD7\\u7BA1\\u7406\\uFF1A\\u8BA9\\u6DF7\\u4E71\\u7684 console.log \\u4E95\\u7136\\u6709\\u5E8F \\u{1F4DC}\"})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\uFF0C\\u65E5\\u5FD7\\u5C31\\u50CF\\u4FA6\\u63A2\\u5C0F\\u8BF4\\u91CC\\u7684\\u7EBF\\u7D22\\uFF0C\\u80FD\\u5E2E\\u4F60\\u5FEB\\u901F\\u5B9A\\u4F4D\\u95EE\\u9898\\u3002PM2 \\u63D0\\u4F9B\\u4E86\\u5F3A\\u5927\\u7684\\u65E5\\u5FD7\\u7BA1\\u7406\\u529F\\u80FD\\uFF0C\\u9ED8\\u8BA4\\u4F1A\\u5C06 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"console.log\"})})})}),\" \\u548C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"console.error\"})})})}),\" \\u8F93\\u51FA\\u5230\\u6587\\u4EF6\\u4E2D\\u3002\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u67E5\\u770B\\u65E5\\u5FD7\"}),\"\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" logs\"})]})})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u8FD9\\u4F1A\\u663E\\u793A\\u6240\\u6709\\u8FDB\\u7A0B\\u7684\\u5B9E\\u65F6\\u65E5\\u5FD7\\uFF0C\\u50CF\\u662F\\u6253\\u5F00\\u4E86\\u4E00\\u4E2A\\u201C\\u5168\\u666F\\u76D1\\u63A7\\u6444\\u50CF\\u5934\\u201D\\u3002\\u5982\\u679C\\u53EA\\u60F3\\u770B\\u67D0\\u4E2A\\u8FDB\\u7A0B\\u7684\\u65E5\\u5FD7\\uFF1A\"}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" logs\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-app\"})]})})})}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u65E5\\u5FD7\\u6587\\u4EF6\\u4F4D\\u7F6E\"}),\"\\uFF1A\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"PM2 \\u9ED8\\u8BA4\\u5C06\\u65E5\\u5FD7\\u4FDD\\u5B58\\u5728 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"~/.pm2/logs/\"})})})}),\" \\u76EE\\u5F55\\u4E0B\\uFF0C\\u6BCF\\u4E2A\\u8FDB\\u7A0B\\u4F1A\\u6709\\u4E24\\u4E2A\\u6587\\u4EF6\\uFF1A\"]}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"my-app-out.log\"})})})}),\"\\uFF1A\\u6807\\u51C6\\u8F93\\u51FA\\uFF08\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"console.log\"})})})}),\"\\uFF09\"]}),`\n`,(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"my-app-error.log\"})})})}),\"\\uFF1A\\u9519\\u8BEF\\u8F93\\u51FA\\uFF08\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"console.error\"})})})}),\"\\uFF09\"]}),`\n`]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"}),\"\\uFF1A\\u5047\\u8BBE\\u4F60\\u7684\\u5E94\\u7528\\u6709\\u4EE5\\u4E0B\\u4EE3\\u7801\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'User visited homepage'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Database connection failed!'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u542F\\u52A8\\u540E\\uFF0C\\u8FD0\\u884C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 logs my-app\"})})})}),\"\\uFF0C\\u4F60\\u4F1A\\u770B\\u5230\\u7C7B\\u4F3C\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"my-app-0  | User visited homepage\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"my-app-0  | Database connection failed!\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u65E5\\u5FD7\\u5206\\u5272\"}),\"\\uFF1A\\u4E3A\\u4E86\\u9632\\u6B62\\u65E5\\u5FD7\\u6587\\u4EF6\\u65E0\\u9650\\u81A8\\u80C0\\uFF0C\\u63A8\\u8350\\u4F7F\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2-logrotate\"})})})}),\" \\u6A21\\u5757\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" pm2-logrotate\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" set\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" pm2-logrotate:max_size\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 100M\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" set\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" pm2-logrotate:retain\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 7\"})]})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u8FD9\\u4F1A\\u5C06\\u65E5\\u5FD7\\u6587\\u4EF6\\u9650\\u5236\\u5728 100MB \\u5185\\uFF0C\\u5E76\\u4FDD\\u7559\\u6700\\u8FD1 7 \\u5929\\u7684\\u65E5\\u5FD7\\u3002\"}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u5B9A\\u671F\\u68C0\\u67E5\\u65E5\\u5FD7\\u6587\\u4EF6\\u5927\\u5C0F\\uFF0C\\u5C24\\u5176\\u5728\\u9AD8\\u6D41\\u91CF\\u5E94\\u7528\\u4E2D\\uFF0C\\u65E5\\u5FD7\\u53EF\\u80FD\\u4EE5\\u201C\\u5149\\u901F\\u201D\\u589E\\u957F\\u3002\\u53EF\\u4EE5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 flush\"})})})}),\" \\u6E05\\u7A7A\\u6240\\u6709\\u65E5\\u5FD7\\uFF0C\\u4F46\\u8981\\u8C28\\u614E\\u64CD\\u4F5C\\uFF01\"]})})}),`\n`,(0,a.jsx)(e.h3,{id:\"4-\\u76D1\\u63A7\\u4E0E\\u6027\\u80FD\\u5206\\u6790\\u7ED9\\u4F60\\u7684\\u5E94\\u7528\\u88C5\\u4E0A\\u5FC3\\u8DF3\\u68C0\\u6D4B\\u4EEA-\\uFE0F\",children:(0,a.jsx)(e.a,{href:\"#4-\\u76D1\\u63A7\\u4E0E\\u6027\\u80FD\\u5206\\u6790\\u7ED9\\u4F60\\u7684\\u5E94\\u7528\\u88C5\\u4E0A\\u5FC3\\u8DF3\\u68C0\\u6D4B\\u4EEA-\\uFE0F\",children:\"4. \\u76D1\\u63A7\\u4E0E\\u6027\\u80FD\\u5206\\u6790\\uFF1A\\u7ED9\\u4F60\\u7684\\u5E94\\u7528\\u88C5\\u4E0A\\u201C\\u5FC3\\u8DF3\\u68C0\\u6D4B\\u4EEA\\u201D \\u2764\\uFE0F\"})}),`\n`,(0,a.jsx)(e.p,{children:\"PM2 \\u7684\\u76D1\\u63A7\\u529F\\u80FD\\u5C31\\u50CF\\u7ED9\\u4F60\\u7684\\u5E94\\u7528\\u88C5\\u4E86\\u4E00\\u4E2A\\u201C\\u667A\\u80FD\\u624B\\u73AF\\u201D\\uFF0C\\u53EF\\u4EE5\\u5B9E\\u65F6\\u67E5\\u770B CPU\\u3001\\u5185\\u5B58\\u3001\\u8BF7\\u6C42\\u7B49\\u6307\\u6807\\u3002\"}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u5B9E\\u65F6\\u76D1\\u63A7\"}),\"\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" monit\"})]})})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u8FD9\\u4F1A\\u6253\\u5F00\\u4E00\\u4E2A\\u7EC8\\u7AEF\\u754C\\u9762\\uFF0C\\u663E\\u793A\\u6BCF\\u4E2A\\u8FDB\\u7A0B\\u7684 CPU\\u3001\\u5185\\u5B58\\u4F7F\\u7528\\u60C5\\u51B5\\uFF0C\\u751A\\u81F3\\u8FD8\\u6709\\u8BF7\\u6C42\\u9891\\u7387\\u7684\\u52A8\\u6001\\u56FE\\u8868\\uFF0C\\u9177\\u5F97\\u50CF\\u5728\\u73A9\\u9ED1\\u5BA2\\u5E1D\\u56FD\\uFF01\\u{1F5A5}\\uFE0F\"}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"}),\"\\uFF1A\\u5982\\u679C\\u4F60\\u53D1\\u73B0\\u67D0\\u4E2A\\u8FDB\\u7A0B\\u5185\\u5B58\\u5360\\u7528\\u8FC7\\u9AD8\\uFF0C\\u53EF\\u4EE5\\u8BBE\\u7F6E\\u5185\\u5B58\\u4E0A\\u9650\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" app.js\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --name\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-app\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --max-memory-restart\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 200M\"})]})})})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u5F53\\u8FDB\\u7A0B\\u5185\\u5B58\\u8D85\\u8FC7 200MB \\u65F6\\uFF0CPM2 \\u4F1A\\u81EA\\u52A8\\u91CD\\u542F\\u5B83\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u5BFC\\u81F4\\u670D\\u52A1\\u5668\\u5D29\\u6E83\\u3002\"}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u96C6\\u6210\\u5916\\u90E8\\u76D1\\u63A7\"}),\"\\uFF1APM2 \\u652F\\u6301\\u4E0E Keymetrics\\uFF08\\u73B0\\u4E3A PM2 Plus\\uFF09\\u96C6\\u6210\\uFF0C\\u63D0\\u4F9B\\u66F4\\u5F3A\\u5927\\u7684\\u76D1\\u63A7\\u529F\\u80FD\\uFF0C\\u6BD4\\u5982\\u544A\\u8B66\\u3001\\u5386\\u53F2\\u6570\\u636E\\u5206\\u6790\\u7B49\\u3002\\u4F60\\u9700\\u8981\\u6CE8\\u518C\\u4E00\\u4E2A PM2 Plus \\u8D26\\u6237\\u5E76\\u8FD0\\u884C\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" link\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\" <\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"public_ke\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"y\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\" <\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"private_ke\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"y\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"})]})})})}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u5185\\u5B58\\u6CC4\\u6F0F\\u662F Node.js \\u5E94\\u7528\\u7684\\u5E38\\u89C1\\u95EE\\u9898\\uFF0C\\u5EFA\\u8BAE\\u7ED3\\u5408 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"heapdump\"})})})}),\" \\u6216 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\" clinic.js\"})})})}),\" \\u5DE5\\u5177\\u8FDB\\u4E00\\u6B65\\u5206\\u6790\\uFF0C\\u800C\\u4E0D\\u662F\\u5355\\u7EAF\\u4F9D\\u8D56 PM2 \\u91CD\\u542F\\u3002\"]})})}),`\n`,(0,a.jsx)(e.hr,{}),`\n`,(0,a.jsx)(e.h2,{id:\"\\u9AD8\\u7EA7\\u914D\\u7F6E\\u7528\\u914D\\u7F6E\\u6587\\u4EF6\\u89E3\\u9501-pm2-\\u7684\\u5168\\u90E8\\u6F5C\\u529B-\\uFE0F\",children:(0,a.jsx)(e.a,{href:\"#\\u9AD8\\u7EA7\\u914D\\u7F6E\\u7528\\u914D\\u7F6E\\u6587\\u4EF6\\u89E3\\u9501-pm2-\\u7684\\u5168\\u90E8\\u6F5C\\u529B-\\uFE0F\",children:\"\\u9AD8\\u7EA7\\u914D\\u7F6E\\uFF1A\\u7528\\u914D\\u7F6E\\u6587\\u4EF6\\u89E3\\u9501 PM2 \\u7684\\u5168\\u90E8\\u6F5C\\u529B \\u{1F9D9}\\u200D\\u2642\\uFE0F\"})}),`\n`,(0,a.jsxs)(e.p,{children:[\"PM2 \\u652F\\u6301\\u901A\\u8FC7 JSON \\u6216 YAML \\u914D\\u7F6E\\u6587\\u4EF6\\uFF08\\u901A\\u5E38\\u547D\\u540D\\u4E3A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"ecosystem.config.js\"})})})}),\" \\u6216 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2.config.json\"})})})}),\"\\uFF09\\u6765\\u7BA1\\u7406\\u591A\\u4E2A\\u5E94\\u7528\\u548C\\u590D\\u6742\\u914D\\u7F6E\\u3002\\u8FD9\\u5C31\\u50CF\\u7ED9 PM2 \\u5199\\u4E86\\u4E00\\u4EFD\\u201C\\u4F5C\\u6218\\u8BA1\\u5212\\u4E66\\u201D\\uFF0C\\u8BA9\\u5B83\\u6309\\u4F60\\u7684\\u610F\\u56FE\\u6267\\u884C\\u3002\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\u914D\\u7F6E\\u6587\\u4EF6\"}),\"\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,a.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  apps: [\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    {\"})}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      name: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'api'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      script: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./api.js'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      instances: \"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"4\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      exec_mode: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'cluster'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      env: {\"})}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        NODE_ENV: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'production'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        PORT: \"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      env_development: {\"})}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        NODE_ENV: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'development'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        PORT: \"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3001\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      max_memory_restart: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'200M'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      log_date_format: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'YYYY-MM-DD HH:mm:ss'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    {\"})}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      name: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'worker'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      script: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./worker.js'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      instances: \"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      exec_mode: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'fork'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      env: {\"})}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        NODE_ENV: \"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'production'\"}),(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ],\"})}),`\n`,(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u4FDD\\u5B58\\u4E3A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"ecosystem.config.js\"})})})}),\"\\uFF0C\\u7136\\u540E\\u8FD0\\u884C\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ecosystem.config.js\"})]})})})}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u914D\\u7F6E\\u6587\\u4EF6\\u5B57\\u6BB5\\u89E3\\u6790\"}),\"\\uFF1A\"]}),`\n`,(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u5B57\\u6BB5\"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u4F5C\\u7528\"})}),(0,a.jsx)(e.th,{children:(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"})})]})}),(0,a.jsxs)(e.tbody,{children:[(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"name\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u8FDB\\u7A0B\\u540D\\u79F0\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"api\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"script\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u542F\\u52A8\\u811A\\u672C\\u8DEF\\u5F84\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"./api.js\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"instances\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u96C6\\u7FA4\\u6A21\\u5F0F\\u4E0B\\u7684\\u5B9E\\u4F8B\\u6570\"}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"4\"})})})}),\" \\u6216 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"max\"})})})})]})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"exec_mode\"})})})})}),(0,a.jsxs)(e.td,{children:[\"\\u6267\\u884C\\u6A21\\u5F0F\\uFF08\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"fork\"})})})}),\" \\u6216 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"cluster\"})})})}),\"\\uFF09\"]}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"cluster\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"env\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u751F\\u4EA7\\u73AF\\u5883\\u53D8\\u91CF\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"{ NODE_ENV: 'production' }\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"env_<name>\"})})})})}),(0,a.jsxs)(e.td,{children:[\"\\u7279\\u5B9A\\u73AF\\u5883\\u7684\\u53D8\\u91CF\\uFF08\\u5982 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"env_development\"})})})}),\"\\uFF09\"]}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"{ NODE_ENV: 'development' }\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"max_memory_restart\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u5185\\u5B58\\u4E0A\\u9650\\uFF0C\\u8D85\\u9650\\u540E\\u91CD\\u542F\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"200M\"})})})})})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"log_date_format\"})})})})}),(0,a.jsx)(e.td,{children:\"\\u65E5\\u5FD7\\u65F6\\u95F4\\u683C\\u5F0F\"}),(0,a.jsx)(e.td,{children:(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"YYYY-MM-DD HH:mm:ss\"})})})})})]})]})]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u542F\\u52A8\\u7279\\u5B9A\\u73AF\\u5883\"}),\"\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ecosystem.config.js\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --env\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" development\"})]})})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u8FD9\\u4F1A\\u52A0\\u8F7D \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"env_development\"})})})}),\" \\u7684\\u914D\\u7F6E\\uFF0C\\u6BD4\\u5982\\u5C06 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"PORT\"})})})}),\" \\u8BBE\\u7F6E\\u4E3A 3001\\u3002\"]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u914D\\u7F6E\\u6587\\u4EF6\\u662F\\u7BA1\\u7406\\u591A\\u5E94\\u7528\\u7684\\u5229\\u5668\\uFF0C\\u5EFA\\u8BAE\\u5C06\\u6240\\u6709\\u751F\\u4EA7\\u73AF\\u5883\\u7684\\u5E94\\u7528\\u90FD\\u5199\\u5165\\u4E00\\u4E2A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"ecosystem.config.js\"})})})}),\"\\uFF0C\\u5E76\\u7528 Git \\u8FDB\\u884C\\u7248\\u672C\\u7BA1\\u7406\\u3002\"]})})}),`\n`,(0,a.jsx)(e.hr,{}),`\n`,(0,a.jsx)(e.h2,{id:\"pm2-\\u7684\\u5185\\u90E8\\u539F\\u7406\\u63ED\\u5F00\\u9B54\\u6CD5\\u7684\\u5E55\\u540E-\\uFE0F\\uFE0F\",children:(0,a.jsx)(e.a,{href:\"#pm2-\\u7684\\u5185\\u90E8\\u539F\\u7406\\u63ED\\u5F00\\u9B54\\u6CD5\\u7684\\u5E55\\u540E-\\uFE0F\\uFE0F\",children:\"PM2 \\u7684\\u5185\\u90E8\\u539F\\u7406\\uFF1A\\u63ED\\u5F00\\u9B54\\u6CD5\\u7684\\u5E55\\u540E \\u{1F575}\\uFE0F\\u200D\\u2642\\uFE0F\"})}),`\n`,(0,a.jsx)(e.p,{children:\"PM2 \\u770B\\u4F3C\\u7B80\\u5355\\uFF0C\\u5B9E\\u5219\\u662F\\u4E00\\u5957\\u590D\\u6742\\u7684\\u8FDB\\u7A0B\\u7BA1\\u7406\\u6846\\u67B6\\u3002\\u5B83\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u53EF\\u4EE5\\u5206\\u89E3\\u4E3A\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u6A21\\u5757\\uFF1A\"}),`\n`,(0,a.jsxs)(e.ol,{children:[`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u8FDB\\u7A0B\\u7BA1\\u7406\\u5668\"}),\"\\uFF1APM2 \\u4F7F\\u7528 Node.js \\u7684 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"child_process\"})})})}),\" \\u6A21\\u5757\\u6765\\u542F\\u52A8\\u548C\\u7BA1\\u7406\\u5B50\\u8FDB\\u7A0B\\u3002\\u6BCF\\u4E2A\\u8FDB\\u7A0B\\u90FD\\u6709\\u72EC\\u7ACB\\u7684 PID\\uFF0CPM2 \\u901A\\u8FC7\\u4FE1\\u53F7\\uFF08\\u5982 SIGINT\\uFF09\\u4E0E\\u5B83\\u4EEC\\u901A\\u4FE1\\u3002\"]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u96C6\\u7FA4\\u6A21\\u5F0F\\u5B9E\\u73B0\"}),\"\\uFF1A\\u5728\\u96C6\\u7FA4\\u6A21\\u5F0F\\u4E0B\\uFF0CPM2 \\u5229\\u7528 Node.js \\u7684 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"cluster\"})})})}),\" \\u6A21\\u5757\\uFF0C\\u521B\\u5EFA\\u4E00\\u4E2A\\u4E3B\\u8FDB\\u7A0B\\uFF08Master\\uFF09\\u548C\\u591A\\u4E2A\\u5DE5\\u4F5C\\u8FDB\\u7A0B\\uFF08Worker\\uFF09\\u3002\\u4E3B\\u8FDB\\u7A0B\\u8D1F\\u8D23\\u8D1F\\u8F7D\\u5747\\u8861\\uFF0C\\u5DE5\\u4F5C\\u8FDB\\u7A0B\\u5904\\u7406\\u5B9E\\u9645\\u8BF7\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u65E5\\u5FD7\\u7CFB\\u7EDF\"}),\"\\uFF1APM2 \\u901A\\u8FC7\\u62E6\\u622A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"stdout\"})})})}),\" \\u548C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"stderr\"})})})}),\" \\u5C06\\u65E5\\u5FD7\\u5199\\u5165\\u6587\\u4EF6\\uFF0C\\u540C\\u65F6\\u652F\\u6301\\u5B9E\\u65F6\\u6D41\\u5F0F\\u8F93\\u51FA\\u5230\\u7EC8\\u7AEF\\u3002\"]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u76D1\\u63A7\\u4E0E\\u91CD\\u542F\"}),\"\\uFF1APM2 \\u901A\\u8FC7 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"setInterval\"})})})}),\" \\u8F6E\\u8BE2\\u8FDB\\u7A0B\\u72B6\\u6001\\uFF0C\\u68C0\\u67E5 CPU\\u3001\\u5185\\u5B58\\u7B49\\u6307\\u6807\\u3002\\u5F53\\u68C0\\u6D4B\\u5230\\u5F02\\u5E38\\uFF08\\u5982\\u5185\\u5B58\\u8D85\\u9650\\u6216\\u8FDB\\u7A0B\\u9000\\u51FA\\uFF09\\uFF0CPM2 \\u4F1A\\u89E6\\u53D1\\u91CD\\u542F\\u903B\\u8F91\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1APM2 \\u5C31\\u50CF\\u4E00\\u4E2A\\u201C\\u667A\\u80FD\\u673A\\u5668\\u4EBA\\u7BA1\\u5BB6\\u201D\\uFF0C\\u5B83\\u4E0D\\u4EC5\\u4F1A\\u5E2E\\u4F60\\u542F\\u52A8\\u548C\\u7BA1\\u7406\\u201C\\u5DE5\\u4EBA\\u201D\\uFF08\\u8FDB\\u7A0B\\uFF09\\uFF0C\\u8FD8\\u4F1A\\u5B9A\\u671F\\u68C0\\u67E5\\u4ED6\\u4EEC\\u7684\\u201C\\u5065\\u5EB7\\u72B6\\u51B5\\u201D\\uFF08\\u76D1\\u63A7\\uFF09\\uFF0C\\u751A\\u81F3\\u5728\\u5DE5\\u4EBA\\u201C\\u751F\\u75C5\\u201D\\u65F6\\u81EA\\u52A8\\u66FF\\u6362\\uFF08\\u91CD\\u542F\\uFF09\\u3002\\u{1F916}\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u6E90\\u7801\\u5C0F\\u7AA5\"}),\"\\uFF1A\\u5982\\u679C\\u4F60\\u5BF9 PM2 \\u7684\\u5B9E\\u73B0\\u611F\\u5174\\u8DA3\\uFF0C\\u53EF\\u4EE5\\u770B\\u770B\\u5B83\\u7684 GitHub \\u4ED3\\u5E93\\uFF08\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2-hive/pm2\"})})})}),\"\\uFF09\\u3002\\u6838\\u5FC3\\u903B\\u8F91\\u5728 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"lib/ProcessContainer.js\"})})})}),\" \\u548C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"lib/God.js\"})})})}),\" \\u4E2D\\uFF0C\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"God\"})})})}),\" \\u662F PM2 \\u7684\\u201C\\u4E0A\\u5E1D\\u6A21\\u5F0F\\u201D\\uFF0C\\u8D1F\\u8D23\\u534F\\u8C03\\u6240\\u6709\\u8FDB\\u7A0B\\u3002\"]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u7406\\u89E3 PM2 \\u7684\\u539F\\u7406\\u53EF\\u4EE5\\u5E2E\\u52A9\\u4F60\\u66F4\\u597D\\u5730\\u8C03\\u8BD5\\u95EE\\u9898\\uFF0C\\u6BD4\\u5982\\u65E5\\u5FD7\\u4E22\\u5931\\u53EF\\u80FD\\u662F \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"stdout\"})})})}),\" \\u88AB\\u91CD\\u5B9A\\u5411\\uFF0C\\u96C6\\u7FA4\\u6A21\\u5F0F\\u5931\\u6548\\u53EF\\u80FD\\u662F \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"cluster\"})})})}),\" \\u6A21\\u5757\\u914D\\u7F6E\\u9519\\u8BEF\\u3002\"]})})}),`\n`,(0,a.jsx)(e.hr,{}),`\n`,(0,a.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-pm2-\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\u5927\\u653E\\u5F02\\u5F69-\",children:(0,a.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-pm2-\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\u5927\\u653E\\u5F02\\u5F69-\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9 PM2 \\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\u5927\\u653E\\u5F02\\u5F69 \\u{1F31F}\"})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u7ECF\\u8FC7\\u5B9E\\u6218\\u9A8C\\u8BC1\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E2E\\u4F60\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\u7528\\u597D PM2\\uFF1A\"}),`\n`,(0,a.jsxs)(e.ol,{children:[`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u59CB\\u7EC8\\u4F7F\\u7528\\u914D\\u7F6E\\u6587\\u4EF6\"}),(0,a.jsx)(e.br,{}),`\n`,\"\\u914D\\u7F6E\\u6587\\u4EF6\\u4E0D\\u4EC5\\u8BA9\\u542F\\u52A8\\u66F4\\u89C4\\u8303\\uFF0C\\u8FD8\\u65B9\\u4FBF\\u56E2\\u961F\\u534F\\u4F5C\\u548C\\u81EA\\u52A8\\u5316\\u90E8\\u7F72\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u5C06 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"ecosystem.config.js\"})})})}),\" \\u52A0\\u5165 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\".gitignore\"})})})}),\"\\uFF0C\\u907F\\u514D\\u6CC4\\u9732\\u654F\\u611F\\u7684\\u73AF\\u5883\\u53D8\\u91CF\\u3002\\u6539\\u4E3A\\u4F7F\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"ecosystem.config.sample.js\"})})})}),\" \\u4F5C\\u4E3A\\u6A21\\u677F\\u3002\"]})})]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u5408\\u7406\\u8BBE\\u7F6E\\u96C6\\u7FA4\\u5B9E\\u4F8B\\u6570\"}),(0,a.jsx)(e.br,{}),`\n`,\"\\u6839\\u636E\\u670D\\u52A1\\u5668 CPU \\u6838\\u5FC3\\u6570\\u8BBE\\u7F6E \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"instances\"})})})}),\"\\uFF0C\\u901A\\u5E38\\u4E3A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u6838\\u5FC3\\u6570\"})})})}),\" \\u6216 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"\\u6838\\u5FC3\\u6570 - 1\"})})})}),\"\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u53EF\\u4EE5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 describe <name>\"})})})}),\" \\u67E5\\u770B\\u8FDB\\u7A0B\\u7684\\u5B9E\\u9645\\u914D\\u7F6E\\uFF0C\\u786E\\u4FDD\\u5B9E\\u4F8B\\u6570\\u7B26\\u5408\\u9884\\u671F\\u3002\"]})})]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u542F\\u7528\\u65E5\\u5FD7\\u5206\\u5272\"}),(0,a.jsx)(e.br,{}),`\n`,\"\\u4F7F\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2-logrotate\"})})})}),\" \\u6A21\\u5757\\uFF0C\\u907F\\u514D\\u65E5\\u5FD7\\u6587\\u4EF6\\u8FC7\\u5927\\u5BFC\\u81F4\\u78C1\\u76D8\\u7206\\u6EE1\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u5C06 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2-logrotate\"})})})}),\" \\u7684\\u914D\\u7F6E\\u5199\\u5165 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"ecosystem.config.js\"})})})}),\"\\uFF0C\\u786E\\u4FDD\\u6BCF\\u6B21\\u90E8\\u7F72\\u90FD\\u751F\\u6548\\u3002\"]})})]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u8BBE\\u7F6E\\u5185\\u5B58\\u4E0A\\u9650\"}),(0,a.jsx)(e.br,{}),`\n`,\"\\u4E3A\\u6BCF\\u4E2A\\u8FDB\\u7A0B\\u8BBE\\u7F6E \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"max_memory_restart\"})})})}),\"\\uFF0C\\u9632\\u6B62\\u5185\\u5B58\\u6CC4\\u6F0F\\u5BFC\\u81F4\\u670D\\u52A1\\u5668\\u5D29\\u6E83\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.em,{children:(0,a.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u5185\\u5B58\\u4E0A\\u9650\\u4E0D\\u5B9C\\u8FC7\\u4F4E\\uFF0C\\u5EFA\\u8BAE\\u4ECE 200MB \\u5F00\\u59CB\\uFF0C\\u6839\\u636E\\u5B9E\\u9645\\u5E94\\u7528\\u8C03\\u6574\\u3002\"})})]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u81EA\\u52A8\\u5316\\u90E8\\u7F72\"}),(0,a.jsx)(e.br,{}),`\n`,\"\\u7ED3\\u5408 CI/CD \\u5DE5\\u5177\\uFF08\\u5982 GitHub Actions\\uFF09\\uFF0C\\u5728\\u4EE3\\u7801\\u63A8\\u9001\\u540E\\u81EA\\u52A8\\u8FD0\\u884C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 reload ecosystem.config.js\"})})})}),\" \\u5B9E\\u73B0\\u65E0\\u7F1D\\u90E8\\u7F72\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u4F7F\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 reload\"})})})}),\" \\u800C\\u4E0D\\u662F \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 restart\"})})})}),\"\\uFF0C\\u53EF\\u4EE5\\u5B9E\\u73B0\\u96F6\\u505C\\u673A\\u66F4\\u65B0\\u3002\"]})})]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u76D1\\u63A7\\u544A\\u8B66\"}),(0,a.jsx)(e.br,{}),`\n`,\"\\u96C6\\u6210 PM2 Plus \\u6216\\u81EA\\u5EFA\\u544A\\u8B66\\u7CFB\\u7EDF\\uFF08\\u5982 Prometheus + Grafana\\uFF09\\uFF0C\\u5728 CPU/\\u5185\\u5B58\\u5F02\\u5E38\\u65F6\\u53CA\\u65F6\\u901A\\u77E5\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.em,{children:(0,a.jsx)(e.em,{children:\"\\u5C0FTips\\uFF1A\\u4E3A\\u5173\\u952E\\u5E94\\u7528\\u8BBE\\u7F6E\\u544A\\u8B66\\u9608\\u503C\\uFF0C\\u6BD4\\u5982 CPU \\u6301\\u7EED\\u9AD8\\u4E8E 80% \\u65F6\\u53D1\\u9001\\u90AE\\u4EF6\\u6216 Slack \\u901A\\u77E5\\u3002\"})})]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u5B9A\\u671F\\u6E05\\u7406\\u65E0\\u7528\\u8FDB\\u7A0B\"}),(0,a.jsx)(e.br,{}),`\n`,\"\\u8FD0\\u884C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 list\"})})})}),\" \\u68C0\\u67E5\\u662F\\u5426\\u6709\\u5E9F\\u5F03\\u8FDB\\u7A0B\\uFF0C\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 delete <name>\"})})})}),\" \\u6E05\\u7406\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u53EF\\u4EE5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 save\"})})})}),\" \\u4FDD\\u5B58\\u5F53\\u524D\\u8FDB\\u7A0B\\u5217\\u8868\\uFF0C\\u914D\\u5408 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 resurrect\"})})})}),\" \\u5728\\u670D\\u52A1\\u5668\\u91CD\\u542F\\u540E\\u81EA\\u52A8\\u6062\\u590D\\u3002\"]})})]}),`\n`]}),`\n`]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\\u81EA\\u52A8\\u5316\\u90E8\\u7F72\\u811A\\u672C\"}),\"\\uFF1A\"]}),`\n`,(0,a.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,a.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"#!/bin/bash\"})}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"git\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" pull\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" origin\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" main\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"})]}),`\n`,(0,a.jsxs)(e.span,{\"data-line\":\"\",children:[(0,a.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" reload\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ecosystem.config.js\"}),(0,a.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --env\"}),(0,a.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" production\"})]})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u5C06\\u8FD9\\u6BB5\\u811A\\u672C\\u547D\\u540D\\u4E3A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"deploy.sh\"})})})}),\"\\uFF0C\\u5728 CI/CD \\u4E2D\\u8C03\\u7528\\uFF0C\\u6BCF\\u6B21\\u63A8\\u9001\\u4EE3\\u7801\\u540E\\u81EA\\u52A8\\u90E8\\u7F72\\u3002\"]}),`\n`,(0,a.jsx)(e.hr,{}),`\n`,(0,a.jsx)(e.h2,{id:\"\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u8C03\\u8BD5\\u6280\\u5DE7\\u5F53\\u9B54\\u6CD5\\u5931\\u7075\\u65F6\\u600E\\u4E48\\u529E\\uFE0F\",children:(0,a.jsx)(e.a,{href:\"#\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u8C03\\u8BD5\\u6280\\u5DE7\\u5F53\\u9B54\\u6CD5\\u5931\\u7075\\u65F6\\u600E\\u4E48\\u529E\\uFE0F\",children:\"\\u5E38\\u89C1\\u95EE\\u9898\\u4E0E\\u8C03\\u8BD5\\u6280\\u5DE7\\uFF1A\\u5F53\\u9B54\\u6CD5\\u5931\\u7075\\u65F6\\u600E\\u4E48\\u529E\\uFF1F\\u{1F6E0}\\uFE0F\"})}),`\n`,(0,a.jsx)(e.p,{children:\"\\u5373\\u4F7F\\u662F\\u6700\\u597D\\u7684\\u9B54\\u6CD5\\u5E08\\uFF0C\\u4E5F\\u4F1A\\u9047\\u5230\\u9B54\\u6CD5\\u5931\\u7075\\u7684\\u65F6\\u5019\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5E38\\u89C1\\u95EE\\u9898\\u53CA\\u5176\\u89E3\\u51B3\\u65B9\\u6CD5\\uFF1A\"}),`\n`,(0,a.jsxs)(e.ol,{children:[`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1APM2 \\u8FDB\\u7A0B\\u542F\\u52A8\\u540E\\u7ACB\\u523B\\u9000\\u51FA\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),\"\\uFF1A\\u53EF\\u80FD\\u662F\\u4EE3\\u7801\\u629B\\u51FA\\u4E86\\u672A\\u6355\\u83B7\\u7684\\u5F02\\u5E38\\uFF0C\\u6216\\u8005\\u7AEF\\u53E3\\u88AB\\u5360\\u7528\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u68C0\\u67E5 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 logs <name>\"})})})}),\"\\uFF0C\\u67E5\\u627E\\u9519\\u8BEF\\u5806\\u6808\\u3002\\u53EF\\u4EE5\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"lsof -i :3000\"})})})}),\" \\u68C0\\u67E5\\u7AEF\\u53E3\\u5360\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u96C6\\u7FA4\\u6A21\\u5F0F\\u4E0D\\u751F\\u6548\\uFF0C\\u8BF7\\u6C42\\u90FD\\u5728\\u540C\\u4E00\\u8FDB\\u7A0B\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),\"\\uFF1A\\u53EF\\u80FD\\u662F \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"exec_mode\"})})})}),\" \\u672A\\u6B63\\u786E\\u8BBE\\u7F6E\\u4E3A \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"cluster\"})})})}),\"\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u786E\\u4FDD\\u914D\\u7F6E\\u6587\\u4EF6\\u4E2D\\u6709 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"exec_mode: 'cluster'\"})})})}),\"\\uFF0C\\u5E76\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 describe <name>\"})})})}),\" \\u9A8C\\u8BC1\\u3002\"]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u65E5\\u5FD7\\u6587\\u4EF6\\u4E22\\u5931\\u6216\\u4E3A\\u7A7A\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),\"\\uFF1A\\u53EF\\u80FD\\u662F \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"stdout\"})})})}),\" \\u88AB\\u91CD\\u5B9A\\u5411\\uFF0C\\u6216\\u8005\\u65E5\\u5FD7\\u8DEF\\u5F84\\u6743\\u9650\\u4E0D\\u8DB3\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u68C0\\u67E5 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"~/.pm2/logs/\"})})})}),\" \\u76EE\\u5F55\\u6743\\u9650\\uFF0C\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"chmod -R 755 ~/.pm2/logs\"})})})}),\" \\u4FEE\\u590D\\u3002\"]}),`\n`]}),`\n`,(0,a.jsxs)(e.li,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1APM2 \\u5360\\u7528\\u8FC7\\u591A\\u5185\\u5B58\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),\"\\uFF1A\\u53EF\\u80FD\\u662F\\u76D1\\u63A7\\u6A21\\u5757\\uFF08\\u5982 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2-logrotate\"})})})}),\"\\uFF09\\u914D\\u7F6E\\u4E0D\\u5F53\\u3002\",(0,a.jsx)(e.br,{}),`\n`,(0,a.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u964D\\u4F4E\\u76D1\\u63A7\\u9891\\u7387\\uFF0C\\u6216\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u6A21\\u5757\\uFF0C\\u7528 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 unstartup\"})})})}),\" \\u7981\\u7528\\u5F00\\u673A\\u81EA\\u542F\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:(0,a.jsxs)(e.em,{children:[\"\\u5C0FTips\\uFF1A\\u8C03\\u8BD5 PM2 \\u65F6\\uFF0C\",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 logs\"})})})}),\" \\u548C \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 describe\"})})})}),\" \\u662F\\u4F60\\u7684\\u6700\\u4F73\\u670B\\u53CB\\u3002\\u9047\\u5230\\u590D\\u6742\\u95EE\\u9898\\uFF0C\\u53EF\\u4EE5\\u53BB PM2 \\u7684 GitHub Issues \\u641C\\u7D22\\u7B54\\u6848\\u3002\"]})})}),`\n`,(0,a.jsx)(e.hr,{}),`\n`,(0,a.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u7528-pm2-\\u70B9\\u4EAE\\u4F60\\u7684-nodejs-\\u751F\\u4EA7\\u73AF\\u5883-\",children:(0,a.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u7528-pm2-\\u70B9\\u4EAE\\u4F60\\u7684-nodejs-\\u751F\\u4EA7\\u73AF\\u5883-\",children:\"\\u603B\\u7ED3\\uFF1A\\u7528 PM2 \\u70B9\\u4EAE\\u4F60\\u7684 Node.js \\u751F\\u4EA7\\u73AF\\u5883 \\u{1F30C}\"})}),`\n`,(0,a.jsx)(e.p,{children:\"PM2 \\u4E0D\\u4EC5\\u662F\\u4E00\\u4E2A\\u8FDB\\u7A0B\\u7BA1\\u7406\\u5DE5\\u5177\\uFF0C\\u66F4\\u662F\\u4E00\\u4E2A\\u8BA9\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\u6E38\\u5203\\u6709\\u4F59\\u7684\\u201C\\u9B54\\u6CD5\\u68D2\\u201D\\u3002\\u901A\\u8FC7\\u672C\\u6587\\uFF0C\\u4F60\\u5DF2\\u7ECF\\u638C\\u63E1\\u4E86\\u4ECE\\u5B89\\u88C5\\u5230\\u9AD8\\u7EA7\\u914D\\u7F6E\\u7684\\u5168\\u90E8\\u6280\\u5DE7\\uFF0C\\u5B66\\u4F1A\\u4E86\\u5982\\u4F55\\u7528 PM2 \\u542F\\u52A8\\u5E94\\u7528\\u3001\\u7BA1\\u7406\\u8FDB\\u7A0B\\u3001\\u4F18\\u5316\\u6027\\u80FD\\u3001\\u5904\\u7406\\u65E5\\u5FD7\\u548C\\u76D1\\u63A7\\u7CFB\\u7EDF\\u3002\\u66F4\\u91CD\\u8981\\u7684\\u662F\\uFF0C\\u4F60\\u8FD8\\u4E86\\u89E3\\u4E86 PM2 \\u7684\\u5185\\u90E8\\u539F\\u7406\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u8DB3\\u4EE5\\u5E94\\u5BF9\\u5404\\u79CD\\u751F\\u4EA7\\u73AF\\u5883\\u7684\\u6311\\u6218\\u3002\"}),`\n`,(0,a.jsx)(e.p,{children:\"\\u5C31\\u50CF\\u4E00\\u4F4D\\u5E7D\\u9ED8\\u7684\\u9B54\\u6CD5\\u5E08\\uFF0CPM2 \\u7528\\u7B80\\u5355\\u7684\\u65B9\\u5F0F\\u89E3\\u51B3\\u4E86\\u590D\\u6742\\u7684\\u8FDB\\u7A0B\\u7BA1\\u7406\\u95EE\\u9898\\u3002\\u5B83\\u8BA9\\u4F60\\u7684 Node.js \\u5E94\\u7528\\u50CF\\u4E00\\u9897\\u6052\\u661F\\uFF0C\\u7A33\\u5B9A\\u800C\\u8000\\u773C\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6559\\u7A0B\\u80FD\\u6210\\u4E3A\\u4F60\\u90E8\\u7F72\\u8DEF\\u4E0A\\u7684\\u201C\\u5317\\u6781\\u661F\\u201D\\uFF0C\\u6307\\u5F15\\u4F60\\u8D70\\u5411\\u66F4\\u9AD8\\u6548\\u3001\\u66F4\\u53EF\\u9760\\u7684\\u751F\\u4EA7\\u73AF\\u5883\\uFF01\\u{1F31F}\"}),`\n`,(0,a.jsxs)(e.blockquote,{children:[`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:\"\\u5F69\\u86CB\"}),\"\\uFF1A\\u5982\\u679C\\u4F60\\u89C9\\u5F97 PM2 \\u8FD8\\u4E0D\\u591F\\u70AB\\u9177\\uFF0C\\u4E0D\\u59A8\\u8BD5\\u8BD5\\u5B83\\u7684\\u5144\\u5F1F\\u9879\\u76EE \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2-web\"})})})}),\"\\uFF08\\u4E00\\u4E2A\\u57FA\\u4E8E Web \\u7684\\u76D1\\u63A7\\u9762\\u677F\\uFF09\\uFF0C\\u6216\\u8005\\u81EA\\u5DF1\\u5199\\u4E2A PM2 \\u63D2\\u4EF6\\uFF0C\\u5B9A\\u5236\\u4E13\\u5C5E\\u7684\\u9B54\\u6CD5\\u6548\\u679C\\uFF01\\u{1F609}\"]}),`\n`]}),`\n`,(0,a.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u6709\\u4EFB\\u4F55\\u95EE\\u9898\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u7559\\u8A00\\uFF0C\\u6216\\u8005\\u76F4\\u63A5\\u6572 \",(0,a.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,a.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,a.jsx)(e.span,{\"data-line\":\"\",children:(0,a.jsx)(e.span,{children:\"pm2 --help\"})})})}),\"\\uFF0C\\u8BA9 PM2 \\u4EB2\\u81EA\\u4E3A\\u4F60\\u89E3\\u7B54\\uFF01\\u{1F680}\"]}),`\n`,(0,a.jsx)(e.hr,{})]})}function s(n={}){let{wrapper:e}=n.components||{};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(p,{...n})}):p(n)}return f(x);})();\n;return Component;"
  },
  "_id": "Node.js/æœ€å…¨PM2ä½¿ç”¨æ•™ç¨‹.mdx",
  "_raw": {
    "sourceFilePath": "Node.js/æœ€å…¨PM2ä½¿ç”¨æ•™ç¨‹.mdx",
    "sourceFileName": "æœ€å…¨PM2ä½¿ç”¨æ•™ç¨‹.mdx",
    "sourceFileDir": "Node.js",
    "contentType": "mdx",
    "flattenedPath": "Node.js/æœ€å…¨PM2ä½¿ç”¨æ•™ç¨‹"
  },
  "type": "Post",
  "url": "/blog/Node.js/æœ€å…¨PM2ä½¿ç”¨æ•™ç¨‹"
}
{
  "title": "é¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±é—®é¢˜çš„å¤šç§è§£å†³æ–¹æ³•",
  "date": "2025-04-01T00:00:00.000Z",
  "description": "æ·±å…¥æŽ¢è®¨å‰ç«¯é¡µé¢åˆ·æ–°å¯¼è‡´æ•°æ®ä¸¢å¤±çš„å¤šç§è§£å†³æ–¹æ³•ï¼Œä»ŽåŸºç¡€åˆ°è¿›é˜¶ï¼Œæ¶µç›–åŽŸç†ã€å®žè·µå’Œè¾¹ç¼˜åœºæ™¯ï¼ŒåŠ©ä½ æ‰“é€ å¥å£®çš„å‰ç«¯åº”ç”¨ã€‚",
  "keywords": "é¡µé¢åˆ·æ–°, æ•°æ®ä¸¢å¤±, å‰ç«¯å¼€å‘, localStorage, sessionStorage, URL å‚æ•°, Redux Persist, Service Worker, IndexedDB, History API, WebSocket",
  "author": "æ™“é¾™",
  "image": "/images/hero/refresh-data-loss.jpg",
  "tags": [
    "å‰ç«¯å¼€å‘",
    "JavaScript",
    "çŠ¶æ€ç®¡ç†",
    "æµè§ˆå™¨å­˜å‚¨",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå—¨ï¼Œå‰ç«¯æœ‹å‹ä»¬ï¼æœ‰æ²¡æœ‰è¿™æ ·çš„ç»åŽ†ï¼šç”¨æˆ·åœ¨ä½ çš„ç½‘é¡µä¸Šå¿™å¾—ä¸äº¦ä¹ä¹Žï¼Œå¡«è¡¨å•ã€é€‰å•†å“ï¼Œç»“æžœä¸€ä¸ªæ‰‹æŠ–åˆ·æ–°é¡µé¢ï¼Œæ•°æ®å…¨æ²¡äº†ï¼Œå±å¹•å‰åªå‰©ä¸‹ä¸€è„¸æ‡µé€¼å’Œä¸€å¥â€œç¨‹åºå‘˜ä½ å‡ºæ¥ï¼â€çš„å’†å“® ðŸ˜¤ã€‚ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬çš„ä»»åŠ¡ä¸ä»…æ˜¯ä¿®è¡¥è¿™ä¸ªâ€œå†…å­˜é»‘æ´žâ€ï¼Œè¿˜è¦è®©è§£å†³æ–¹æ¡ˆä¼˜é›…åˆ°è®©ç”¨æˆ·ç‚¹èµžã€è€æ¿åŠ è–ªã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥å½»åº•æ‹†è§£é¡µé¢åˆ·æ–°å¯¼è‡´æ•°æ®ä¸¢å¤±çš„å„ç§è§£å†³æ–¹æ³•ï¼Œä»ŽåŸºç¡€åˆ°ç¡¬æ ¸ï¼Œä»ŽåŽŸç†åˆ°å®žæˆ˜ï¼Œå¸¦ä½ æŠŠè¿™ä¸ªé—®é¢˜è¸©åœ¨è„šä¸‹ã€‚\n\né¡µé¢åˆ·æ–°çš„æœ¬è´¨æ˜¯æµè§ˆå™¨çš„ä¸€æ¬¡â€œå¤§æ‰«é™¤â€ï¼Œå†…å­˜ä¸­çš„ JavaScript çŠ¶æ€ï¼ˆReact çš„ stateã€Vue çš„ dataï¼‰å°±åƒæ²™æ»©ä¸Šçš„åŸŽå ¡ï¼Œè¢«æµªä¸€å†²å°±æ²¡äº† ðŸŒŠã€‚ä½†åˆ«æ€•ï¼Œå’±ä»¬æœ‰çš„æ˜¯å·¥å…·å’Œæ‹›æ•°ï¼Œä¸‹é¢æˆ‘å°†é€ä¸€å±•å¼€ï¼Œé…ä¸Šä»£ç ã€Tips å’Œæœ€ä½³å®žè·µï¼Œè¿˜æœ‰ç‚¹å°å¹½é»˜ï¼Œè®©ä½ è¯»å¾—å¼€å¿ƒã€å­¦å¾—æ‰Žå®žã€‚\n\n## 1. æµè§ˆå™¨å­˜å‚¨ï¼šlocalStorage å’Œ sessionStorage\n\n### åŽŸç†å‰–æž\n`localStorage` å’Œ `sessionStorage` æ˜¯æµè§ˆå™¨å†…ç½®çš„â€œä¿é™©ç®±â€ï¼Œèƒ½æŠŠæ•°æ®å­˜ä¸‹æ¥ï¼Œåˆ·æ–°é¡µé¢ä¹Ÿä¸¢ä¸äº†ã€‚`localStorage` æ˜¯æ°¸ä¹…çš„ï¼Œåƒä¸ªå¿ è¯šçš„ä»“åº“ç®¡ç†å‘˜ï¼›`sessionStorage` åˆ™æ˜¯ä¸´æ—¶çš„ï¼Œæ ‡ç­¾é¡µä¸€å…³å°±æ¸…ç©ºï¼Œåƒä¸ªéšæ‰‹ä¸¢çš„ä¾¿ç­¾ã€‚å®ƒä»¬çš„æ ¸å¿ƒæ˜¯é”®å€¼å¯¹å­˜å‚¨ï¼Œç®€å•ç²—æš´ï¼Œä½†éžå¸¸å¥½ç”¨ã€‚\n\n### ä»£ç å®žæˆ˜\nå‡è®¾ä½ æœ‰ä¸ªè¡¨å•ï¼Œç”¨æˆ·è¾“å…¥äº†ç”¨æˆ·åå’Œé‚®ç®±ï¼Œæƒ³åˆ·æ–°åŽè¿˜èƒ½çœ‹åˆ°ï¼š\n\n```javascript\n// ä¿å­˜æ•°æ®\nconst saveFormData = () => {\n  const formData = {\n    username: document.getElementById('username').value,\n    email: document.getElementById('email').value,\n  };\n  localStorage.setItem('formData', JSON.stringify(formData));\n};\n\n// æ¢å¤æ•°æ®\nconst restoreFormData = () => {\n  const savedData = localStorage.getItem('formData');\n  if (savedData) {\n    const { username, email } = JSON.parse(savedData);\n    document.getElementById('username').value = username || '';\n    document.getElementById('email').value = email || '';\n  }\n};\n\n// å®žæ—¶ä¿å­˜ï¼ˆé˜²æ‰‹æŠ–ï¼‰\ndocument.querySelector('form').addEventListener('input', saveFormData);\nwindow.addEventListener('load', restoreFormData);\n```\n\n### è¾¹ç¼˜åœºæ™¯\n- **å¤šæ ‡ç­¾é¡µå†²çª**ï¼š`localStorage` æ˜¯å…¨å±€å…±äº«çš„ï¼Œå¦‚æžœç”¨æˆ·å¼€äº†å¤šä¸ªæ ‡ç­¾é¡µï¼Œå¯èƒ½ä¼šäº’ç›¸è¦†ç›–æ•°æ®ã€‚å¯ä»¥ç”¨ `window.name` æˆ– `sessionStorage` éš”ç¦»ã€‚\n- **æ•°æ®è¿‡æœŸ**ï¼šæ²¡æœ‰å†…ç½®è¿‡æœŸæœºåˆ¶ï¼Œå¯ä»¥è‡ªå·±åŠ ä¸ªæ—¶é—´æˆ³åˆ¤æ–­ã€‚\n\n### å° Tips\n- **åºåˆ—åŒ–é™·é˜±**ï¼šå­˜å¯¹è±¡å¿…é¡» `JSON.stringify`ï¼Œå–å‡ºæ¥ `JSON.parse`ï¼Œä¸ç„¶ä½ ä¼šæ”¶èŽ·ä¸€å † `[object Object]` çš„â€œæƒŠå–œâ€ã€‚\n- **å®¹é‡è­¦æŠ¥**ï¼šä¸€èˆ¬ 5-10MBï¼Œåˆ«æŠŠè§†é¢‘å¡žè¿›åŽ»ï¼Œæµè§ˆå™¨ä¼šâ€œç½¢å·¥â€ã€‚\n- **æ€§èƒ½ä¼˜åŒ–**ï¼šé¢‘ç¹è¯»å†™å¯ä»¥ç”¨é˜²æŠ–ï¼ˆdebounceï¼‰ï¼Œé¿å…å¡é¡¿ã€‚\n\n### æœ€ä½³å®žè·µ\nå®žæ—¶ä¿å­˜æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œæ¯”å¦‚ç›‘å¬ `input` äº‹ä»¶ï¼Œè€Œä¸æ˜¯ç­‰ç”¨æˆ·ç‚¹å‡»â€œä¿å­˜â€ã€‚å¦å¤–ï¼Œå­˜æ•°æ®æ—¶åŠ ä¸ªç‰ˆæœ¬å·ï¼ˆ`{ version: 1, data: {...} }`ï¼‰ï¼Œé¿å…æ–°ä»£ç è¯»æ—§æ•°æ®æ—¶ç¿»è½¦ã€‚\n\n---\n\n## 2. URL å‚æ•°ï¼šæŠŠçŠ¶æ€å†™åœ¨åœ°å€æ \n\n### åŽŸç†å‰–æž\nURL å‚æ•°å°±åƒç»™æµè§ˆå™¨è´´äº†ä¸ªâ€œä¾¿ç­¾â€ï¼Œåˆ·æ–°åŽé€šè¿‡è§£æž `location.search` å°±èƒ½æ¢å¤çŠ¶æ€ã€‚å®ƒä¸ä»…èƒ½é˜²ä¸¢å¤±ï¼Œè¿˜èƒ½åˆ†äº«é“¾æŽ¥è®©åˆ«äººå¤çŽ°ç›¸åŒçŠ¶æ€ï¼Œæ¯”å¦‚æœç´¢ç»“æžœé¡µã€‚\n\n### ä»£ç å®žæˆ˜\nä¸€ä¸ªæœç´¢æ¡†ï¼Œç”¨æˆ·è¾“å…¥å…³é”®å­—å’Œç­›é€‰æ¡ä»¶ï¼š\n\n```javascript\n// ä¿å­˜åˆ° URL\nconst updateUrl = () => {\n  const searchParams = new URLSearchParams({\n    keyword: document.getElementById('keyword').value,\n    filter: document.getElementById('filter').value,\n  });\n  window.history.pushState({}, '', `?${searchParams.toString()}`);\n};\n\n// æ¢å¤æ•°æ®\nconst restoreFromUrl = () => {\n  const params = new URLSearchParams(window.location.search);\n  document.getElementById('keyword').value = params.get('keyword') || '';\n  document.getElementById('filter').value = params.get('filter') || '';\n};\n\nwindow.addEventListener('load', restoreFromUrl);\ndocument.getElementById('searchBtn').addEventListener('click', updateUrl);\n```\n\n### è¾¹ç¼˜åœºæ™¯\n- **å¤æ‚æ•°æ®**ï¼šURL ä¸é€‚åˆå­˜åµŒå¥—å¯¹è±¡ï¼Œå¯ä»¥ç”¨ Base64 ç¼–ç ï¼Œä½†åˆ«å¤ªé•¿ã€‚\n- **éšç§é—®é¢˜**ï¼šæ•æ„Ÿæ•°æ®ï¼ˆæ¯”å¦‚ç”¨æˆ· IDï¼‰åˆ«æ”¾ URLï¼Œå®¹æ˜“æ³„éœ²ã€‚\n\n### å° Tips\n- **ç¼–ç å®‰å…¨**ï¼šç‰¹æ®Šå­—ç¬¦ç”¨ `encodeURIComponent` å¤„ç†ï¼Œä¸ç„¶ `&` å’Œ `=` ä¼šè®©ä½ å¤´ç–¼ã€‚\n- **é•¿åº¦å±æœº**ï¼šURL ä¸€èˆ¬é™åˆ¶ 2000 å­—ç¬¦ï¼Œè¶…äº†ä¼šè¢«æˆªæ–­ã€‚\n- **æ— åˆ·æ–°æ›´æ–°**ï¼šç”¨ `history.pushState` æ›¿ä»£ `location.href`ï¼Œé¿å…é¡µé¢è·³åŠ¨çš„â€œå°´å°¬â€ã€‚\n\n### æœ€ä½³å®žè·µ\nURL å‚æ•°é€‚åˆè½»é‡çŠ¶æ€ï¼Œæ¯”å¦‚åˆ†é¡µã€ç­›é€‰æ¡ä»¶ã€‚å¦‚æžœæ˜¯å¤æ‚è¡¨å•ï¼Œè¿˜æ˜¯è€è€å®žå®žæ¢å…¶ä»–æ–¹æ¡ˆï¼Œåˆ«è®©åœ°å€æ å˜æˆâ€œè·‘é©¬ç¯â€ã€‚\n\n---\n\n## 3. Redux Persistï¼šçŠ¶æ€ç®¡ç†çš„é«˜çº§æ•‘æ˜Ÿ\n\n### åŽŸç†å‰–æž\nRedux çš„ store æ˜¯ä¸ªå†…å­˜ä¸­çš„â€œä¸­å¤®å¤§è„‘â€ï¼Œåˆ·æ–°å°±æ¸…é›¶ã€‚ä½† `redux-persist` èƒ½æŠŠå®ƒåºåˆ—åŒ–åˆ° `localStorage`ï¼ˆæˆ–å…¶ä»–å­˜å‚¨ï¼‰ï¼Œåˆ·æ–°åŽè‡ªåŠ¨æ¢å¤ã€‚å®ƒå°±åƒç»™ Redux åŠ äº†ä¸ªâ€œäº‘å¤‡ä»½â€ï¼Œæ ¸å¿ƒé ä¸­é—´ä»¶å’Œå­˜å‚¨å¼•æ“Žã€‚\n\n### ä»£ç å®žæˆ˜\nå®‰è£… `redux-persist`ï¼Œç„¶åŽé…ç½®ï¼š\n\n```javascript\nimport { createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nconst initialState = { formData: { username: '', email: '' } };\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'UPDATE_FORM':\n      return { ...state, formData: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['formData'], // åªæŒä¹…åŒ– formData\n};\nconst persistedReducer = persistReducer(persistConfig, reducer);\n\nconst store = createStore(persistedReducer);\nconst persistor = persistStore(store);\n\nexport { store, persistor };\n```\n\nReact é›†æˆï¼š\n\n```javascript\nimport { PersistGate } from 'redux-persist/integration/react';\n\nconst App = () => (\n  <Provider store={store}>\n    <PersistGate loading={<div>åŠ è½½ä¸­...</div>} persistor={persistor}>\n      <YourComponent />\n    </PersistGate>\n  </Provider>\n);\n```\n\n### è¾¹ç¼˜åœºæ™¯\n- **å¤§æ•°æ®é‡**ï¼šåºåˆ—åŒ–å’Œååºåˆ—åŒ–å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œå¯ä»¥ç”¨ `transform` åŽ‹ç¼©æ•°æ®ã€‚\n- **ç‰ˆæœ¬å†²çª**ï¼šæ—§æ•°æ®æ ¼å¼å¯èƒ½å’Œæ–°ä»£ç ä¸å…¼å®¹ï¼ŒåŠ ä¸ª `migrate` å‡½æ•°å¤„ç†ã€‚\n\n### å° Tips\n- **é»‘ç™½åå•**ï¼šç”¨ `whitelist` æˆ– `blacklist` æŽ§åˆ¶æŒä¹…åŒ–èŒƒå›´ï¼Œåˆ«æŠŠä¸´æ—¶çŠ¶æ€ä¹Ÿå­˜äº†ã€‚\n- **è°ƒè¯•åˆ©å™¨**ï¼šç»“åˆ Redux DevToolsï¼Œçœ‹çœ‹æŒä¹…åŒ–å‰åŽçš„çŠ¶æ€å˜åŒ–ã€‚\n- **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤§æ•°æ®å¯ä»¥ç”¨ `redux-persist-transform-compress` åŽ‹ç¼©ã€‚\n\n### æœ€ä½³å®žè·µ\n`redux-persist` é€‚åˆå¤æ‚åº”ç”¨ï¼Œæ¯”å¦‚è´­ç‰©è½¦ã€ç”¨æˆ·åå¥½è®¾ç½®ã€‚ç®€å•é¡¹ç›®ç”¨å®ƒæœ‰ç‚¹â€œé«˜å°„ç‚®æ‰“èšŠå­â€ï¼Œç›´æŽ¥ `localStorage` å°±å¤Ÿäº†ã€‚\n\n---\n\n## 4. Service Workerï¼šç¦»çº¿ç¼“å­˜çš„ç¡¬æ ¸é€‰æ‰‹\n\n### åŽŸç†å‰–æž\nService Worker æ˜¯æµè§ˆå™¨çš„â€œç½‘ç»œä»£ç†â€ï¼Œèƒ½æ‹¦æˆªè¯·æ±‚å¹¶ç¼“å­˜æ•°æ®ã€‚åˆ·æ–°é¡µé¢æ—¶ï¼Œå®ƒå¯ä»¥æä¾›ç¦»çº¿æ•°æ®ï¼Œåƒä¸ªâ€œåŽå°å®ˆæŠ¤ç¥žâ€ã€‚ä¸è¿‡å®ƒæ›´æ“…é•¿é™æ€èµ„æºï¼ŒåŠ¨æ€æ•°æ®éœ€è¦é¢å¤–è®¾è®¡ã€‚\n\n### ä»£ç å®žæˆ˜\næ³¨å†Œå¹¶ç¼“å­˜è¡¨å•æ•°æ®ï¼š\n\n```javascript\n// sw.js\nself.addEventListener('install', (event) => {\n  event.waitUntil(\n    caches.open('form-cache').then((cache) => {\n      return cache.addAll(['/form-data']);\n    })\n  );\n});\n\nself.addEventListener('fetch', (event) => {\n  event.respondWith(\n    caches.match(event.request).then((response) => {\n      return response || fetch(event.request);\n    })\n  );\n});\n\n// main.js\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/sw.js');\n}\n\nconst saveToCache = async () => {\n  const formData = { username: 'æ™“é¾™', email: 'xiaolong@example.com' };\n  const cache = await caches.open('form-cache');\n  await cache.put('/form-data', new Response(JSON.stringify(formData)));\n};\n\nconst restoreFromCache = async () => {\n  const cache = await caches.open('form-cache');\n  const response = await cache.match('/form-data');\n  if (response) {\n    const data = await response.json();\n    console.log('æ¢å¤æ•°æ®:', data);\n  }\n};\n```\n\n### è¾¹ç¼˜åœºæ™¯\n- **åŠ¨æ€æ›´æ–°**ï¼šç¼“å­˜çš„æ•°æ®å¯èƒ½è¿‡æœŸï¼Œéœ€å®šæœŸåˆ·æ–°ã€‚\n- **è°ƒè¯•å¤æ‚**ï¼šå‡ºé”™æ—¶ä¸å¥½å®šä½ï¼Œç”¨ DevTools å¤šæ£€æŸ¥ã€‚\n\n### å° Tips\n- **HTTPS å¿…å¤‡**ï¼šé™¤äº†æœ¬åœ°å¼€å‘ï¼ŒService Worker åªåœ¨ HTTPS ä¸‹å·¥ä½œã€‚\n- **å®¹é‡å¤§**ï¼šæ¯” `localStorage` å®½è£•ï¼Œä½†åˆ«æ»¥ç”¨ã€‚\n- **æ¸…ç†ç­–ç•¥**ï¼šåŠ ä¸ªç‰ˆæœ¬å·ï¼Œå®šæœŸåˆ æ—§ç¼“å­˜ã€‚\n\n### æœ€ä½³å®žè·µ\nService Worker é€‚åˆ PWA åº”ç”¨ï¼Œæ¯”å¦‚ç¦»çº¿ç¬”è®°å·¥å…·ã€‚æ™®é€šè¡¨å•åœºæ™¯ç”¨å®ƒæœ‰ç‚¹â€œç”¨åŠ›è¿‡çŒ›â€ï¼Œæˆæœ¬é«˜æ”¶ç›Šä½Žã€‚\n\n---\n\n## 5. IndexedDBï¼šæµè§ˆå™¨é‡Œçš„â€œå°åž‹æ•°æ®åº“â€\n\n### åŽŸç†å‰–æž\nIndexedDB æ˜¯ä¸ªæµè§ˆå™¨å†…ç½®çš„ NoSQL æ•°æ®åº“ï¼Œæ”¯æŒå¤§å®¹é‡ã€ç»“æž„åŒ–æ•°æ®å’Œå¼‚æ­¥æ“ä½œã€‚å®ƒå°±åƒ `localStorage` çš„â€œè¶…çº§è¿›åŒ–ç‰ˆâ€ï¼Œèƒ½å­˜å¤æ‚å¯¹è±¡ã€æ”¯æŒç´¢å¼•æŸ¥è¯¢ï¼Œåˆ·æ–°åŽæ•°æ®ç¨³ç¨³å½“å½“ã€‚\n\n### ä»£ç å®žæˆ˜\nä¿å­˜å’Œè¯»å–è¡¨å•æ•°æ®ï¼š\n\n```javascript\nconst openDB = () =>\n  new Promise((resolve, reject) => {\n    const request = indexedDB.open('formDB', 1);\n    request.onupgradeneeded = () => {\n      const db = request.result;\n      db.createObjectStore('forms', { keyPath: 'id' });\n    };\n    request.onsuccess = () => resolve(request.result);\n    request.onerror = () => reject(request.error);\n  });\n\nconst saveFormData = async () => {\n  const db = await openDB();\n  const tx = db.transaction('forms', 'readwrite');\n  const store = tx.objectStore('forms');\n  store.put({ id: 'form1', username: 'æ™“é¾™', email: 'xiaolong@example.com' });\n  await tx.done;\n};\n\nconst restoreFormData = async () => {\n  const db = await openDB();\n  const tx = db.transaction('forms', 'readonly');\n  const store = tx.objectStore('forms');\n  const request = store.get('form1');\n  request.onsuccess = () => {\n    const data = request.result;\n    console.log('æ¢å¤æ•°æ®:', data);\n  };\n};\n```\n\n### è¾¹ç¼˜åœºæ™¯\n- **å­¦ä¹ æ›²çº¿**ï¼šAPI æœ‰ç‚¹å¤æ‚ï¼Œæ–°æ‰‹å¯èƒ½å¤´æ™•ã€‚\n- **æµè§ˆå™¨æ”¯æŒ**ï¼šè€æ—§æµè§ˆå™¨ï¼ˆå¦‚ IE9ï¼‰ä¸æ”¯æŒï¼Œéœ€é™çº§æ–¹æ¡ˆã€‚\n\n### å° Tips\n- **å¼‚æ­¥æ“ä½œ**ï¼šç”¨ Promise å°è£…ï¼Œé¿å…å›žè°ƒåœ°ç‹±ã€‚\n- **å®¹é‡æ— å¿§**ï¼šå‡ å MB ä¸åœ¨è¯ä¸‹ï¼Œå­˜å¤§æ–‡ä»¶ä¹Ÿè¡Œã€‚\n- **ç´¢å¼•åŠ é€Ÿ**ï¼šåŠ ä¸ªç´¢å¼•ï¼ˆ`createIndex`ï¼‰ï¼ŒæŸ¥è¯¢æ›´å¿«ã€‚\n\n### æœ€ä½³å®žè·µ\nIndexedDB é€‚åˆå¤§æ•°æ®é‡åœºæ™¯ï¼Œæ¯”å¦‚ç¦»çº¿ç¼–è¾‘å™¨ã€èŠå¤©è®°å½•ã€‚ç®€å•è¡¨å•ç”¨å®ƒæœ‰ç‚¹â€œæ¬å¤§ç‚®æ‰“èšŠå­â€ï¼Œä½†ç¡®å®žç¨³ã€‚\n\n---\n\n## 6. History API çš„ stateï¼šéšå½¢çŠ¶æ€å­˜å‚¨\n\n### åŽŸç†å‰–æž\n`history.pushState` é™¤äº†æ”¹ URLï¼Œè¿˜èƒ½å­˜ä¸ª `state` å¯¹è±¡ï¼Œåˆ·æ–°åŽé€šè¿‡ `popstate` äº‹ä»¶æ¢å¤ã€‚å®ƒåƒä¸ªâ€œéšå½¢å£è¢‹â€ï¼Œä¸æ˜¾å±±ä¸éœ²æ°´ï¼Œä½†å¾ˆå®žç”¨ã€‚\n\n### ä»£ç å®žæˆ˜\nä¿å­˜å’Œæ¢å¤çŠ¶æ€ï¼š\n\n```javascript\nconst saveState = () => {\n  const formData = { username: 'æ™“é¾™', email: 'xiaolong@example.com' };\n  window.history.pushState(formData, '', window.location.href);\n};\n\nconst restoreState = () => {\n  window.addEventListener('popstate', (event) => {\n    if (event.state) {\n      console.log('æ¢å¤æ•°æ®:', event.state);\n    }\n  });\n};\n\ndocument.getElementById('saveBtn').addEventListener('click', saveState);\nrestoreState();\n```\n\n### è¾¹ç¼˜åœºæ™¯\n- **åˆ·æ–°ä¸¢å¤±**ï¼š`state` åªåœ¨å¯¼èˆªåŽ†å²ä¸­æœ‰æ•ˆï¼Œåˆ·æ–°åŽå¾—ç»“åˆå…¶ä»–å­˜å‚¨ã€‚\n- **å¤§å°é™åˆ¶**ï¼šä¸åŒæµè§ˆå™¨é™åˆ¶ä¸åŒï¼Œè°¨æ…Žå­˜å¤§æ•°æ®ã€‚\n\n### å° Tips\n- **ç»“åˆ URL**ï¼šæ­é… URL å‚æ•°ç”¨ï¼Œæ•ˆæžœæ›´ä½³ã€‚\n- **äº‹ä»¶ç›‘å¬**ï¼šåˆ«å¿˜äº† `popstate`ï¼Œä¸ç„¶ç™½å­˜äº†ã€‚\n\n### æœ€ä½³å®žè·µ\né€‚åˆä¸´æ—¶çŠ¶æ€ï¼Œæ¯”å¦‚é¡µé¢å¯¼èˆªæ—¶çš„ä¸Šä¸‹æ–‡ã€‚é•¿æœŸå­˜å‚¨è¿˜æ˜¯å¾—é  `localStorage`ã€‚\n\n---\n\n## 7. WebSocketï¼šå®žæ—¶åŒæ­¥çš„â€œé»‘ç§‘æŠ€â€\n\n### åŽŸç†å‰–æž\nå¦‚æžœä½ çš„åº”ç”¨æœ‰åŽç«¯æ”¯æŒï¼ŒWebSocket èƒ½å®žæ—¶åŒæ­¥æ•°æ®åˆ°æœåŠ¡å™¨ï¼Œåˆ·æ–°åŽä»ŽæœåŠ¡å™¨æ‹‰å›žæ¥ã€‚å®ƒå°±åƒä¸ªâ€œæ•°æ®å¿«é€’å‘˜â€ï¼Œéšæ—¶åœ¨çº¿ï¼Œæ°¸ä¸æŽ‰çº¿ã€‚\n\n### ä»£ç å®žæˆ˜\nç®€å•å®žçŽ°ï¼š\n\n```javascript\nconst socket = new WebSocket('ws://your-server.com');\n\nsocket.onopen = () => {\n  const formData = { username: 'æ™“é¾™', email: 'xiaolong@example.com' };\n  socket.send(JSON.stringify(formData));\n};\n\nsocket.onmessage = (event) => {\n  const restoredData = JSON.parse(event.data);\n  console.log('ä»ŽæœåŠ¡å™¨æ¢å¤:', restoredData);\n};\n```\n\n### è¾¹ç¼˜åœºæ™¯\n- **æ–­ç½‘é—®é¢˜**ï¼šæ²¡ç½‘å°±æ­‡èœï¼Œéœ€æœ¬åœ°å¤‡ä»½ã€‚\n- **åŽç«¯ä¾èµ–**ï¼šæœåŠ¡å™¨å¾—æ”¯æŒ WebSocketã€‚\n\n### å° Tips\n- **å¿ƒè·³æœºåˆ¶**ï¼šåŠ ä¸ª ping-pongï¼Œä¿æŒè¿žæŽ¥ä¸æŽ‰ã€‚\n- **æ•°æ®åŠ å¯†**ï¼šæ•æ„Ÿæ•°æ®ç”¨ `wss://`ï¼Œå®‰å…¨ç¬¬ä¸€ã€‚\n\n### æœ€ä½³å®žè·µ\né€‚åˆå®žæ—¶åä½œå·¥å…·ï¼ˆåƒ Google Docsï¼‰ï¼Œæ™®é€šè¡¨å•ç”¨å®ƒæœ‰ç‚¹â€œè¿‡äºŽè±ªåŽâ€ã€‚\n\n---\n\n## 8. é˜²åˆ·æ–°æç¤ºï¼šä»Žæºå¤´è§£å†³é—®é¢˜\n\n### åŽŸç†å‰–æž\nä¸Žå…¶ä¿®è¡¥ï¼Œä¸å¦‚é¢„é˜²ã€‚ç›‘å¬ `beforeunload` äº‹ä»¶ï¼Œåœ¨åˆ·æ–°å‰å¼¹çª—æé†’ç”¨æˆ·ä¿å­˜ï¼Œå°±åƒå¦ˆå¦ˆå‡ºé—¨å‰å–Šä½ â€œå¸¦ä¼žäº†å—ï¼Ÿâ€ ðŸ˜‚ã€‚\n\n### ä»£ç å®žæˆ˜\nç®€å•å®žçŽ°ï¼š\n\n```javascript\nwindow.addEventListener('beforeunload', (event) => {\n  const formFilled = document.getElementById('username').value !== '';\n  if (formFilled) {\n    event.preventDefault();\n    event.returnValue = 'æ•°æ®è¿˜æ²¡ä¿å­˜ï¼Œç¡®å®šè¦èµ°å—ï¼Ÿ';\n  }\n});\n```\n\n### è¾¹ç¼˜åœºæ™¯\n- **ç”¨æˆ·çƒ¦èº**ï¼šæç¤ºå¤ªå¤šä¼šè¢«å«Œçƒ¦ï¼Œé€‚åº¦ä½¿ç”¨ã€‚\n- **æµè§ˆå™¨é™åˆ¶**ï¼šè‡ªå®šä¹‰æ¶ˆæ¯æ”¯æŒæœ‰é™ã€‚\n\n### å° Tips\n- **æ¡ä»¶è§¦å‘**ï¼šåªåœ¨æ•°æ®æœ‰å˜æ—¶å¼¹çª—ï¼Œåˆ«çžŽæé†’ã€‚\n- **æ­é…å­˜å‚¨**ï¼šæç¤ºåªæ˜¯è¾…åŠ©ï¼Œæœ€å¥½æœ‰å¤‡ä»½æ–¹æ¡ˆã€‚\n\n### æœ€ä½³å®žè·µ\né€‚åˆé•¿è¡¨å•ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªâ€œæ•‘å‘½ç¨»è‰â€ã€‚\n\n---\n\n## æ€»ç»“ä¸Žé€‰æ‹©æŒ‡å—\n\né¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±å°±åƒå‰ç«¯çš„â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä½†æˆ‘ä»¬æœ‰æ»¡æ»¡ä¸€å·¥å…·ç®±ï¼š\n- **ç®€å•åœºæ™¯**ï¼š`localStorage` / `sessionStorage`ï¼Œå¿«å‡†ç‹ ã€‚\n- **è½»é‡çŠ¶æ€**ï¼šURL å‚æ•°ï¼Œåˆ†äº«å‹å¥½ã€‚\n- **å¤æ‚åº”ç”¨**ï¼š`redux-persist`ï¼ŒçŠ¶æ€ç®¡ç†ç¥žå™¨ã€‚\n- **ç¦»çº¿éœ€æ±‚**ï¼šService Worker æˆ– IndexedDBï¼Œç¡¬æ ¸é€‰æ‰‹ã€‚\n- **ä¸´æ—¶çŠ¶æ€**ï¼šHistory API çš„ `state`ï¼Œä½Žè°ƒå®žç”¨ã€‚\n- **å®žæ—¶åŒæ­¥**ï¼šWebSocketï¼Œé«˜ç§‘æŠ€ä½“éªŒã€‚\n- **é¢„é˜²ä¸ºä¸»**ï¼š`beforeunload`ï¼Œé˜²æ‚£æœªç„¶ã€‚\n\næ¯ç§æ–¹æ¡ˆéƒ½æœ‰è‡ªå·±çš„â€œèˆžå°â€ï¼Œé€‰å¯¹å·¥å…·æ‰èƒ½äº‹åŠåŠŸå€ã€‚å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½è®©ä½ å°‘è¸©å‘ï¼Œå¤šå†™å‡ºâ€œç¨³å¦‚è€ç‹—â€çš„ä»£ç ã€‚å¦‚æžœæœ‰å…¶ä»–å¦™æ‹›ï¼Œæ¬¢è¿Žç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æŠŠå‰ç«¯çŽ©å‡ºèŠ±æ¥ï¼ðŸš€\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(s=E(e,a))||s.enumerable});return n};var m=(n,e,r)=>(r=n!=null?p(F(n)):{},d(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>d(c({},\"__esModule\",{value:!0}),n);var o=u((C,i)=>{i.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>x});var l=m(o()),x={type:\"Post\",title:\"\\u9875\\u9762\\u5237\\u65B0\\u6570\\u636E\\u4E22\\u5931\\u95EE\\u9898\\u7684\\u591A\\u79CD\\u89E3\\u51B3\\u65B9\\u6CD5\",date:\"2025-04-01\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u524D\\u7AEF\\u9875\\u9762\\u5237\\u65B0\\u5BFC\\u81F4\\u6570\\u636E\\u4E22\\u5931\\u7684\\u591A\\u79CD\\u89E3\\u51B3\\u65B9\\u6CD5\\uFF0C\\u4ECE\\u57FA\\u7840\\u5230\\u8FDB\\u9636\\uFF0C\\u6DB5\\u76D6\\u539F\\u7406\\u3001\\u5B9E\\u8DF5\\u548C\\u8FB9\\u7F18\\u573A\\u666F\\uFF0C\\u52A9\\u4F60\\u6253\\u9020\\u5065\\u58EE\\u7684\\u524D\\u7AEF\\u5E94\\u7528\\u3002\",keywords:\"\\u9875\\u9762\\u5237\\u65B0, \\u6570\\u636E\\u4E22\\u5931, \\u524D\\u7AEF\\u5F00\\u53D1, localStorage, sessionStorage, URL \\u53C2\\u6570, Redux Persist, Service Worker, IndexedDB, History API, WebSocket\",author:\"\\u6653\\u9F99\",image:\"/images/hero/refresh-data-loss.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"JavaScript\",\"\\u72B6\\u6001\\u7BA1\\u7406\",\"\\u6D4F\\u89C8\\u5668\\u5B58\\u50A8\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function t(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"\\u55E8\\uFF0C\\u524D\\u7AEF\\u670B\\u53CB\\u4EEC\\uFF01\\u6709\\u6CA1\\u6709\\u8FD9\\u6837\\u7684\\u7ECF\\u5386\\uFF1A\\u7528\\u6237\\u5728\\u4F60\\u7684\\u7F51\\u9875\\u4E0A\\u5FD9\\u5F97\\u4E0D\\u4EA6\\u4E50\\u4E4E\\uFF0C\\u586B\\u8868\\u5355\\u3001\\u9009\\u5546\\u54C1\\uFF0C\\u7ED3\\u679C\\u4E00\\u4E2A\\u624B\\u6296\\u5237\\u65B0\\u9875\\u9762\\uFF0C\\u6570\\u636E\\u5168\\u6CA1\\u4E86\\uFF0C\\u5C4F\\u5E55\\u524D\\u53EA\\u5269\\u4E0B\\u4E00\\u8138\\u61F5\\u903C\\u548C\\u4E00\\u53E5\\u201C\\u7A0B\\u5E8F\\u5458\\u4F60\\u51FA\\u6765\\uFF01\\u201D\\u7684\\u5486\\u54EE \\u{1F624}\\u3002\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u6211\\u4EEC\\u7684\\u4EFB\\u52A1\\u4E0D\\u4EC5\\u662F\\u4FEE\\u8865\\u8FD9\\u4E2A\\u201C\\u5185\\u5B58\\u9ED1\\u6D1E\\u201D\\uFF0C\\u8FD8\\u8981\\u8BA9\\u89E3\\u51B3\\u65B9\\u6848\\u4F18\\u96C5\\u5230\\u8BA9\\u7528\\u6237\\u70B9\\u8D5E\\u3001\\u8001\\u677F\\u52A0\\u85AA\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C31\\u6765\\u5F7B\\u5E95\\u62C6\\u89E3\\u9875\\u9762\\u5237\\u65B0\\u5BFC\\u81F4\\u6570\\u636E\\u4E22\\u5931\\u7684\\u5404\\u79CD\\u89E3\\u51B3\\u65B9\\u6CD5\\uFF0C\\u4ECE\\u57FA\\u7840\\u5230\\u786C\\u6838\\uFF0C\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u6218\\uFF0C\\u5E26\\u4F60\\u628A\\u8FD9\\u4E2A\\u95EE\\u9898\\u8E29\\u5728\\u811A\\u4E0B\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9875\\u9762\\u5237\\u65B0\\u7684\\u672C\\u8D28\\u662F\\u6D4F\\u89C8\\u5668\\u7684\\u4E00\\u6B21\\u201C\\u5927\\u626B\\u9664\\u201D\\uFF0C\\u5185\\u5B58\\u4E2D\\u7684 JavaScript \\u72B6\\u6001\\uFF08React \\u7684 state\\u3001Vue \\u7684 data\\uFF09\\u5C31\\u50CF\\u6C99\\u6EE9\\u4E0A\\u7684\\u57CE\\u5821\\uFF0C\\u88AB\\u6D6A\\u4E00\\u51B2\\u5C31\\u6CA1\\u4E86 \\u{1F30A}\\u3002\\u4F46\\u522B\\u6015\\uFF0C\\u54B1\\u4EEC\\u6709\\u7684\\u662F\\u5DE5\\u5177\\u548C\\u62DB\\u6570\\uFF0C\\u4E0B\\u9762\\u6211\\u5C06\\u9010\\u4E00\\u5C55\\u5F00\\uFF0C\\u914D\\u4E0A\\u4EE3\\u7801\\u3001Tips \\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u8FD8\\u6709\\u70B9\\u5C0F\\u5E7D\\u9ED8\\uFF0C\\u8BA9\\u4F60\\u8BFB\\u5F97\\u5F00\\u5FC3\\u3001\\u5B66\\u5F97\\u624E\\u5B9E\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"1-\\u6D4F\\u89C8\\u5668\\u5B58\\u50A8localstorage-\\u548C-sessionstorage\",children:(0,l.jsx)(e.a,{href:\"#1-\\u6D4F\\u89C8\\u5668\\u5B58\\u50A8localstorage-\\u548C-sessionstorage\",children:\"1. \\u6D4F\\u89C8\\u5668\\u5B58\\u50A8\\uFF1AlocalStorage \\u548C sessionStorage\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5256\\u6790\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5256\\u6790\",children:\"\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"sessionStorage\"})})})}),\" \\u662F\\u6D4F\\u89C8\\u5668\\u5185\\u7F6E\\u7684\\u201C\\u4FDD\\u9669\\u7BB1\\u201D\\uFF0C\\u80FD\\u628A\\u6570\\u636E\\u5B58\\u4E0B\\u6765\\uFF0C\\u5237\\u65B0\\u9875\\u9762\\u4E5F\\u4E22\\u4E0D\\u4E86\\u3002\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u662F\\u6C38\\u4E45\\u7684\\uFF0C\\u50CF\\u4E2A\\u5FE0\\u8BDA\\u7684\\u4ED3\\u5E93\\u7BA1\\u7406\\u5458\\uFF1B\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"sessionStorage\"})})})}),\" \\u5219\\u662F\\u4E34\\u65F6\\u7684\\uFF0C\\u6807\\u7B7E\\u9875\\u4E00\\u5173\\u5C31\\u6E05\\u7A7A\\uFF0C\\u50CF\\u4E2A\\u968F\\u624B\\u4E22\\u7684\\u4FBF\\u7B7E\\u3002\\u5B83\\u4EEC\\u7684\\u6838\\u5FC3\\u662F\\u952E\\u503C\\u5BF9\\u5B58\\u50A8\\uFF0C\\u7B80\\u5355\\u7C97\\u66B4\\uFF0C\\u4F46\\u975E\\u5E38\\u597D\\u7528\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5047\\u8BBE\\u4F60\\u6709\\u4E2A\\u8868\\u5355\\uFF0C\\u7528\\u6237\\u8F93\\u5165\\u4E86\\u7528\\u6237\\u540D\\u548C\\u90AE\\u7BB1\\uFF0C\\u60F3\\u5237\\u65B0\\u540E\\u8FD8\\u80FD\\u770B\\u5230\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4FDD\\u5B58\\u6570\\u636E\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveFormData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" formData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    username: document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'username'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value,\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    email: document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'email'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value,\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  localStorage.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'formData'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(formData));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6062\\u590D\\u6570\\u636E\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" restoreFormData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" savedData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'formData'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (savedData) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"username\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"email\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(savedData);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'username'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" username \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'email'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" email \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B9E\\u65F6\\u4FDD\\u5B58\\uFF08\\u9632\\u624B\\u6296\\uFF09\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'form'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'input'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", saveFormData);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'load'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", restoreFormData);\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8FB9\\u7F18\\u573A\\u666F\",children:(0,l.jsx)(e.a,{href:\"#\\u8FB9\\u7F18\\u573A\\u666F\",children:\"\\u8FB9\\u7F18\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u591A\\u6807\\u7B7E\\u9875\\u51B2\\u7A81\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u662F\\u5168\\u5C40\\u5171\\u4EAB\\u7684\\uFF0C\\u5982\\u679C\\u7528\\u6237\\u5F00\\u4E86\\u591A\\u4E2A\\u6807\\u7B7E\\u9875\\uFF0C\\u53EF\\u80FD\\u4F1A\\u4E92\\u76F8\\u8986\\u76D6\\u6570\\u636E\\u3002\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"window.name\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"sessionStorage\"})})})}),\" \\u9694\\u79BB\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6570\\u636E\\u8FC7\\u671F\"}),\"\\uFF1A\\u6CA1\\u6709\\u5185\\u7F6E\\u8FC7\\u671F\\u673A\\u5236\\uFF0C\\u53EF\\u4EE5\\u81EA\\u5DF1\\u52A0\\u4E2A\\u65F6\\u95F4\\u6233\\u5224\\u65AD\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5E8F\\u5217\\u5316\\u9677\\u9631\"}),\"\\uFF1A\\u5B58\\u5BF9\\u8C61\\u5FC5\\u987B \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"JSON.stringify\"})})})}),\"\\uFF0C\\u53D6\\u51FA\\u6765 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"JSON.parse\"})})})}),\"\\uFF0C\\u4E0D\\u7136\\u4F60\\u4F1A\\u6536\\u83B7\\u4E00\\u5806 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"[object Object]\"})})})}),\" \\u7684\\u201C\\u60CA\\u559C\\u201D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5BB9\\u91CF\\u8B66\\u62A5\"}),\"\\uFF1A\\u4E00\\u822C 5-10MB\\uFF0C\\u522B\\u628A\\u89C6\\u9891\\u585E\\u8FDB\\u53BB\\uFF0C\\u6D4F\\u89C8\\u5668\\u4F1A\\u201C\\u7F62\\u5DE5\\u201D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u9891\\u7E41\\u8BFB\\u5199\\u53EF\\u4EE5\\u7528\\u9632\\u6296\\uFF08debounce\\uFF09\\uFF0C\\u907F\\u514D\\u5361\\u987F\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5B9E\\u65F6\\u4FDD\\u5B58\\u662F\\u4E2A\\u597D\\u4E60\\u60EF\\uFF0C\\u6BD4\\u5982\\u76D1\\u542C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"input\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u800C\\u4E0D\\u662F\\u7B49\\u7528\\u6237\\u70B9\\u51FB\\u201C\\u4FDD\\u5B58\\u201D\\u3002\\u53E6\\u5916\\uFF0C\\u5B58\\u6570\\u636E\\u65F6\\u52A0\\u4E2A\\u7248\\u672C\\u53F7\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"{ version: 1, data: {...} }\"})})})}),\"\\uFF09\\uFF0C\\u907F\\u514D\\u65B0\\u4EE3\\u7801\\u8BFB\\u65E7\\u6570\\u636E\\u65F6\\u7FFB\\u8F66\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"2-url-\\u53C2\\u6570\\u628A\\u72B6\\u6001\\u5199\\u5728\\u5730\\u5740\\u680F\",children:(0,l.jsx)(e.a,{href:\"#2-url-\\u53C2\\u6570\\u628A\\u72B6\\u6001\\u5199\\u5728\\u5730\\u5740\\u680F\",children:\"2. URL \\u53C2\\u6570\\uFF1A\\u628A\\u72B6\\u6001\\u5199\\u5728\\u5730\\u5740\\u680F\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5256\\u6790-1\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5256\\u6790-1\",children:\"\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"URL \\u53C2\\u6570\\u5C31\\u50CF\\u7ED9\\u6D4F\\u89C8\\u5668\\u8D34\\u4E86\\u4E2A\\u201C\\u4FBF\\u7B7E\\u201D\\uFF0C\\u5237\\u65B0\\u540E\\u901A\\u8FC7\\u89E3\\u6790 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"location.search\"})})})}),\" \\u5C31\\u80FD\\u6062\\u590D\\u72B6\\u6001\\u3002\\u5B83\\u4E0D\\u4EC5\\u80FD\\u9632\\u4E22\\u5931\\uFF0C\\u8FD8\\u80FD\\u5206\\u4EAB\\u94FE\\u63A5\\u8BA9\\u522B\\u4EBA\\u590D\\u73B0\\u76F8\\u540C\\u72B6\\u6001\\uFF0C\\u6BD4\\u5982\\u641C\\u7D22\\u7ED3\\u679C\\u9875\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218-1\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218-1\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E00\\u4E2A\\u641C\\u7D22\\u6846\\uFF0C\\u7528\\u6237\\u8F93\\u5165\\u5173\\u952E\\u5B57\\u548C\\u7B5B\\u9009\\u6761\\u4EF6\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4FDD\\u5B58\\u5230 URL\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" updateUrl\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" searchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" URLSearchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    keyword: document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'keyword'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value,\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    filter: document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'filter'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value,\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  window.history.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pushState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({}, \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`?${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"searchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toString\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6062\\u590D\\u6570\\u636E\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" restoreFromUrl\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" params\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" URLSearchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(window.location.search);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'keyword'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" params.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'keyword'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'filter'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" params.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'filter'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'load'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", restoreFromUrl);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'searchBtn'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", updateUrl);\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8FB9\\u7F18\\u573A\\u666F-1\",children:(0,l.jsx)(e.a,{href:\"#\\u8FB9\\u7F18\\u573A\\u666F-1\",children:\"\\u8FB9\\u7F18\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u590D\\u6742\\u6570\\u636E\"}),\"\\uFF1AURL \\u4E0D\\u9002\\u5408\\u5B58\\u5D4C\\u5957\\u5BF9\\u8C61\\uFF0C\\u53EF\\u4EE5\\u7528 Base64 \\u7F16\\u7801\\uFF0C\\u4F46\\u522B\\u592A\\u957F\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9690\\u79C1\\u95EE\\u9898\"}),\"\\uFF1A\\u654F\\u611F\\u6570\\u636E\\uFF08\\u6BD4\\u5982\\u7528\\u6237 ID\\uFF09\\u522B\\u653E URL\\uFF0C\\u5BB9\\u6613\\u6CC4\\u9732\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-1\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-1\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F16\\u7801\\u5B89\\u5168\"}),\"\\uFF1A\\u7279\\u6B8A\\u5B57\\u7B26\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"encodeURIComponent\"})})})}),\" \\u5904\\u7406\\uFF0C\\u4E0D\\u7136 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"&\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"=\"})})})}),\" \\u4F1A\\u8BA9\\u4F60\\u5934\\u75BC\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u957F\\u5EA6\\u5371\\u673A\"}),\"\\uFF1AURL \\u4E00\\u822C\\u9650\\u5236 2000 \\u5B57\\u7B26\\uFF0C\\u8D85\\u4E86\\u4F1A\\u88AB\\u622A\\u65AD\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u65E0\\u5237\\u65B0\\u66F4\\u65B0\"}),\"\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"history.pushState\"})})})}),\" \\u66FF\\u4EE3 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"location.href\"})})})}),\"\\uFF0C\\u907F\\u514D\\u9875\\u9762\\u8DF3\\u52A8\\u7684\\u201C\\u5C34\\u5C2C\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5-1\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5-1\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"URL \\u53C2\\u6570\\u9002\\u5408\\u8F7B\\u91CF\\u72B6\\u6001\\uFF0C\\u6BD4\\u5982\\u5206\\u9875\\u3001\\u7B5B\\u9009\\u6761\\u4EF6\\u3002\\u5982\\u679C\\u662F\\u590D\\u6742\\u8868\\u5355\\uFF0C\\u8FD8\\u662F\\u8001\\u8001\\u5B9E\\u5B9E\\u6362\\u5176\\u4ED6\\u65B9\\u6848\\uFF0C\\u522B\\u8BA9\\u5730\\u5740\\u680F\\u53D8\\u6210\\u201C\\u8DD1\\u9A6C\\u706F\\u201D\\u3002\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"3-redux-persist\\u72B6\\u6001\\u7BA1\\u7406\\u7684\\u9AD8\\u7EA7\\u6551\\u661F\",children:(0,l.jsx)(e.a,{href:\"#3-redux-persist\\u72B6\\u6001\\u7BA1\\u7406\\u7684\\u9AD8\\u7EA7\\u6551\\u661F\",children:\"3. Redux Persist\\uFF1A\\u72B6\\u6001\\u7BA1\\u7406\\u7684\\u9AD8\\u7EA7\\u6551\\u661F\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5256\\u6790-2\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5256\\u6790-2\",children:\"\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Redux \\u7684 store \\u662F\\u4E2A\\u5185\\u5B58\\u4E2D\\u7684\\u201C\\u4E2D\\u592E\\u5927\\u8111\\u201D\\uFF0C\\u5237\\u65B0\\u5C31\\u6E05\\u96F6\\u3002\\u4F46 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-persist\"})})})}),\" \\u80FD\\u628A\\u5B83\\u5E8F\\u5217\\u5316\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\"\\uFF08\\u6216\\u5176\\u4ED6\\u5B58\\u50A8\\uFF09\\uFF0C\\u5237\\u65B0\\u540E\\u81EA\\u52A8\\u6062\\u590D\\u3002\\u5B83\\u5C31\\u50CF\\u7ED9 Redux \\u52A0\\u4E86\\u4E2A\\u201C\\u4E91\\u5907\\u4EFD\\u201D\\uFF0C\\u6838\\u5FC3\\u9760\\u4E2D\\u95F4\\u4EF6\\u548C\\u5B58\\u50A8\\u5F15\\u64CE\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218-2\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218-2\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5B89\\u88C5 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-persist\"})})})}),\"\\uFF0C\\u7136\\u540E\\u914D\\u7F6E\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { createStore } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'redux'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { persistStore, persistReducer } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'redux-persist'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" storage \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'redux-persist/lib/storage'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" initialState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { formData: { username: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reducer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" initialState, \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"action\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  switch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (action.type) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    case\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'UPDATE_FORM'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state, formData: action.payload };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" persistConfig\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  key: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'root'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  storage,\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  whitelist: [\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'formData'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u53EA\\u6301\\u4E45\\u5316 formData\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" persistedReducer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" persistReducer\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(persistConfig, reducer);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createStore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(persistedReducer);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" persistor\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" persistStore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(store);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { store, persistor };\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"React \\u96C6\\u6210\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { PersistGate } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'redux-persist/integration/react'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Provider\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" store\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{store}>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PersistGate\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" loading\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u52A0\\u8F7D\\u4E2D...</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"persistor\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{persistor}>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"YourComponent\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PersistGate\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Provider\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8FB9\\u7F18\\u573A\\u666F-2\",children:(0,l.jsx)(e.a,{href:\"#\\u8FB9\\u7F18\\u573A\\u666F-2\",children:\"\\u8FB9\\u7F18\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5927\\u6570\\u636E\\u91CF\"}),\"\\uFF1A\\u5E8F\\u5217\\u5316\\u548C\\u53CD\\u5E8F\\u5217\\u5316\\u53EF\\u80FD\\u6709\\u70B9\\u6162\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"transform\"})})})}),\" \\u538B\\u7F29\\u6570\\u636E\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7248\\u672C\\u51B2\\u7A81\"}),\"\\uFF1A\\u65E7\\u6570\\u636E\\u683C\\u5F0F\\u53EF\\u80FD\\u548C\\u65B0\\u4EE3\\u7801\\u4E0D\\u517C\\u5BB9\\uFF0C\\u52A0\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"migrate\"})})})}),\" \\u51FD\\u6570\\u5904\\u7406\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-2\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-2\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9ED1\\u767D\\u540D\\u5355\"}),\"\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"whitelist\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"blacklist\"})})})}),\" \\u63A7\\u5236\\u6301\\u4E45\\u5316\\u8303\\u56F4\\uFF0C\\u522B\\u628A\\u4E34\\u65F6\\u72B6\\u6001\\u4E5F\\u5B58\\u4E86\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u5229\\u5668\"}),\"\\uFF1A\\u7ED3\\u5408 Redux DevTools\\uFF0C\\u770B\\u770B\\u6301\\u4E45\\u5316\\u524D\\u540E\\u7684\\u72B6\\u6001\\u53D8\\u5316\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u5927\\u6570\\u636E\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-persist-transform-compress\"})})})}),\" \\u538B\\u7F29\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5-2\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5-2\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-persist\"})})})}),\" \\u9002\\u5408\\u590D\\u6742\\u5E94\\u7528\\uFF0C\\u6BD4\\u5982\\u8D2D\\u7269\\u8F66\\u3001\\u7528\\u6237\\u504F\\u597D\\u8BBE\\u7F6E\\u3002\\u7B80\\u5355\\u9879\\u76EE\\u7528\\u5B83\\u6709\\u70B9\\u201C\\u9AD8\\u5C04\\u70AE\\u6253\\u868A\\u5B50\\u201D\\uFF0C\\u76F4\\u63A5 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u5C31\\u591F\\u4E86\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"4-service-worker\\u79BB\\u7EBF\\u7F13\\u5B58\\u7684\\u786C\\u6838\\u9009\\u624B\",children:(0,l.jsx)(e.a,{href:\"#4-service-worker\\u79BB\\u7EBF\\u7F13\\u5B58\\u7684\\u786C\\u6838\\u9009\\u624B\",children:\"4. Service Worker\\uFF1A\\u79BB\\u7EBF\\u7F13\\u5B58\\u7684\\u786C\\u6838\\u9009\\u624B\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5256\\u6790-3\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5256\\u6790-3\",children:\"\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Service Worker \\u662F\\u6D4F\\u89C8\\u5668\\u7684\\u201C\\u7F51\\u7EDC\\u4EE3\\u7406\\u201D\\uFF0C\\u80FD\\u62E6\\u622A\\u8BF7\\u6C42\\u5E76\\u7F13\\u5B58\\u6570\\u636E\\u3002\\u5237\\u65B0\\u9875\\u9762\\u65F6\\uFF0C\\u5B83\\u53EF\\u4EE5\\u63D0\\u4F9B\\u79BB\\u7EBF\\u6570\\u636E\\uFF0C\\u50CF\\u4E2A\\u201C\\u540E\\u53F0\\u5B88\\u62A4\\u795E\\u201D\\u3002\\u4E0D\\u8FC7\\u5B83\\u66F4\\u64C5\\u957F\\u9759\\u6001\\u8D44\\u6E90\\uFF0C\\u52A8\\u6001\\u6570\\u636E\\u9700\\u8981\\u989D\\u5916\\u8BBE\\u8BA1\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218-3\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218-3\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6CE8\\u518C\\u5E76\\u7F13\\u5B58\\u8868\\u5355\\u6570\\u636E\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// sw.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'install'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"waitUntil\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'form-cache'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cache\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addAll\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/form-data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"self.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'fetch'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  event.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"respondWith\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    caches.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"match\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.request).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.request);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// main.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'serviceWorker'\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" in\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" navigator) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  navigator.serviceWorker.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"register\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/sw.js'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveToCache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" formData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { username: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6653\\u9F99'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'xiaolong@example.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" caches.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'form-cache'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"put\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/form-data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Response\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(formData)));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" restoreFromCache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" caches.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'form-cache'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"match\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/form-data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (response) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6062\\u590D\\u6570\\u636E:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8FB9\\u7F18\\u573A\\u666F-3\",children:(0,l.jsx)(e.a,{href:\"#\\u8FB9\\u7F18\\u573A\\u666F-3\",children:\"\\u8FB9\\u7F18\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u52A8\\u6001\\u66F4\\u65B0\"}),\"\\uFF1A\\u7F13\\u5B58\\u7684\\u6570\\u636E\\u53EF\\u80FD\\u8FC7\\u671F\\uFF0C\\u9700\\u5B9A\\u671F\\u5237\\u65B0\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u590D\\u6742\"}),\"\\uFF1A\\u51FA\\u9519\\u65F6\\u4E0D\\u597D\\u5B9A\\u4F4D\\uFF0C\\u7528 DevTools \\u591A\\u68C0\\u67E5\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-3\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-3\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"HTTPS \\u5FC5\\u5907\"}),\"\\uFF1A\\u9664\\u4E86\\u672C\\u5730\\u5F00\\u53D1\\uFF0CService Worker \\u53EA\\u5728 HTTPS \\u4E0B\\u5DE5\\u4F5C\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5BB9\\u91CF\\u5927\"}),\"\\uFF1A\\u6BD4 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u5BBD\\u88D5\\uFF0C\\u4F46\\u522B\\u6EE5\\u7528\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u7B56\\u7565\"}),\"\\uFF1A\\u52A0\\u4E2A\\u7248\\u672C\\u53F7\\uFF0C\\u5B9A\\u671F\\u5220\\u65E7\\u7F13\\u5B58\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5-3\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5-3\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Service Worker \\u9002\\u5408 PWA \\u5E94\\u7528\\uFF0C\\u6BD4\\u5982\\u79BB\\u7EBF\\u7B14\\u8BB0\\u5DE5\\u5177\\u3002\\u666E\\u901A\\u8868\\u5355\\u573A\\u666F\\u7528\\u5B83\\u6709\\u70B9\\u201C\\u7528\\u529B\\u8FC7\\u731B\\u201D\\uFF0C\\u6210\\u672C\\u9AD8\\u6536\\u76CA\\u4F4E\\u3002\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"5-indexeddb\\u6D4F\\u89C8\\u5668\\u91CC\\u7684\\u5C0F\\u578B\\u6570\\u636E\\u5E93\",children:(0,l.jsx)(e.a,{href:\"#5-indexeddb\\u6D4F\\u89C8\\u5668\\u91CC\\u7684\\u5C0F\\u578B\\u6570\\u636E\\u5E93\",children:\"5. IndexedDB\\uFF1A\\u6D4F\\u89C8\\u5668\\u91CC\\u7684\\u201C\\u5C0F\\u578B\\u6570\\u636E\\u5E93\\u201D\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5256\\u6790-4\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5256\\u6790-4\",children:\"\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"IndexedDB \\u662F\\u4E2A\\u6D4F\\u89C8\\u5668\\u5185\\u7F6E\\u7684 NoSQL \\u6570\\u636E\\u5E93\\uFF0C\\u652F\\u6301\\u5927\\u5BB9\\u91CF\\u3001\\u7ED3\\u6784\\u5316\\u6570\\u636E\\u548C\\u5F02\\u6B65\\u64CD\\u4F5C\\u3002\\u5B83\\u5C31\\u50CF \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u7684\\u201C\\u8D85\\u7EA7\\u8FDB\\u5316\\u7248\\u201D\\uFF0C\\u80FD\\u5B58\\u590D\\u6742\\u5BF9\\u8C61\\u3001\\u652F\\u6301\\u7D22\\u5F15\\u67E5\\u8BE2\\uFF0C\\u5237\\u65B0\\u540E\\u6570\\u636E\\u7A33\\u7A33\\u5F53\\u5F53\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218-4\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218-4\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4FDD\\u5B58\\u548C\\u8BFB\\u53D6\\u8868\\u5355\\u6570\\u636E\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" indexedDB.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'formDB'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onupgradeneeded\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" request.result;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectStore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'forms'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { keyPath: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'id'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.result);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.error);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveFormData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tx\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'forms'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'readwrite'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'forms'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  store.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"put\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'form1'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", username: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6653\\u9F99'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'xiaolong@example.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.done;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" restoreFormData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tx\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'forms'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'readonly'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'forms'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'form1'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  request.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" request.result;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6062\\u590D\\u6570\\u636E:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8FB9\\u7F18\\u573A\\u666F-4\",children:(0,l.jsx)(e.a,{href:\"#\\u8FB9\\u7F18\\u573A\\u666F-4\",children:\"\\u8FB9\\u7F18\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5B66\\u4E60\\u66F2\\u7EBF\"}),\"\\uFF1AAPI \\u6709\\u70B9\\u590D\\u6742\\uFF0C\\u65B0\\u624B\\u53EF\\u80FD\\u5934\\u6655\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u652F\\u6301\"}),\"\\uFF1A\\u8001\\u65E7\\u6D4F\\u89C8\\u5668\\uFF08\\u5982 IE9\\uFF09\\u4E0D\\u652F\\u6301\\uFF0C\\u9700\\u964D\\u7EA7\\u65B9\\u6848\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-4\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-4\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5F02\\u6B65\\u64CD\\u4F5C\"}),\"\\uFF1A\\u7528 Promise \\u5C01\\u88C5\\uFF0C\\u907F\\u514D\\u56DE\\u8C03\\u5730\\u72F1\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5BB9\\u91CF\\u65E0\\u5FE7\"}),\"\\uFF1A\\u51E0\\u5341 MB \\u4E0D\\u5728\\u8BDD\\u4E0B\\uFF0C\\u5B58\\u5927\\u6587\\u4EF6\\u4E5F\\u884C\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7D22\\u5F15\\u52A0\\u901F\"}),\"\\uFF1A\\u52A0\\u4E2A\\u7D22\\u5F15\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"createIndex\"})})})}),\"\\uFF09\\uFF0C\\u67E5\\u8BE2\\u66F4\\u5FEB\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5-4\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5-4\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"IndexedDB \\u9002\\u5408\\u5927\\u6570\\u636E\\u91CF\\u573A\\u666F\\uFF0C\\u6BD4\\u5982\\u79BB\\u7EBF\\u7F16\\u8F91\\u5668\\u3001\\u804A\\u5929\\u8BB0\\u5F55\\u3002\\u7B80\\u5355\\u8868\\u5355\\u7528\\u5B83\\u6709\\u70B9\\u201C\\u642C\\u5927\\u70AE\\u6253\\u868A\\u5B50\\u201D\\uFF0C\\u4F46\\u786E\\u5B9E\\u7A33\\u3002\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"6-history-api-\\u7684-state\\u9690\\u5F62\\u72B6\\u6001\\u5B58\\u50A8\",children:(0,l.jsx)(e.a,{href:\"#6-history-api-\\u7684-state\\u9690\\u5F62\\u72B6\\u6001\\u5B58\\u50A8\",children:\"6. History API \\u7684 state\\uFF1A\\u9690\\u5F62\\u72B6\\u6001\\u5B58\\u50A8\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5256\\u6790-5\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5256\\u6790-5\",children:\"\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"history.pushState\"})})})}),\" \\u9664\\u4E86\\u6539 URL\\uFF0C\\u8FD8\\u80FD\\u5B58\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"state\"})})})}),\" \\u5BF9\\u8C61\\uFF0C\\u5237\\u65B0\\u540E\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"popstate\"})})})}),\" \\u4E8B\\u4EF6\\u6062\\u590D\\u3002\\u5B83\\u50CF\\u4E2A\\u201C\\u9690\\u5F62\\u53E3\\u888B\\u201D\\uFF0C\\u4E0D\\u663E\\u5C71\\u4E0D\\u9732\\u6C34\\uFF0C\\u4F46\\u5F88\\u5B9E\\u7528\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218-5\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218-5\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4FDD\\u5B58\\u548C\\u6062\\u590D\\u72B6\\u6001\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" formData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { username: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6653\\u9F99'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'xiaolong@example.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  window.history.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pushState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(formData, \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", window.location.href);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" restoreState\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  window.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'popstate'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (event.state) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6062\\u590D\\u6570\\u636E:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", event.state);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'saveBtn'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", saveState);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"restoreState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8FB9\\u7F18\\u573A\\u666F-5\",children:(0,l.jsx)(e.a,{href:\"#\\u8FB9\\u7F18\\u573A\\u666F-5\",children:\"\\u8FB9\\u7F18\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5237\\u65B0\\u4E22\\u5931\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"state\"})})})}),\" \\u53EA\\u5728\\u5BFC\\u822A\\u5386\\u53F2\\u4E2D\\u6709\\u6548\\uFF0C\\u5237\\u65B0\\u540E\\u5F97\\u7ED3\\u5408\\u5176\\u4ED6\\u5B58\\u50A8\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5927\\u5C0F\\u9650\\u5236\"}),\"\\uFF1A\\u4E0D\\u540C\\u6D4F\\u89C8\\u5668\\u9650\\u5236\\u4E0D\\u540C\\uFF0C\\u8C28\\u614E\\u5B58\\u5927\\u6570\\u636E\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-5\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-5\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7ED3\\u5408 URL\"}),\"\\uFF1A\\u642D\\u914D URL \\u53C2\\u6570\\u7528\\uFF0C\\u6548\\u679C\\u66F4\\u4F73\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4E8B\\u4EF6\\u76D1\\u542C\"}),\"\\uFF1A\\u522B\\u5FD8\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"popstate\"})})})}),\"\\uFF0C\\u4E0D\\u7136\\u767D\\u5B58\\u4E86\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5-5\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5-5\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u9002\\u5408\\u4E34\\u65F6\\u72B6\\u6001\\uFF0C\\u6BD4\\u5982\\u9875\\u9762\\u5BFC\\u822A\\u65F6\\u7684\\u4E0A\\u4E0B\\u6587\\u3002\\u957F\\u671F\\u5B58\\u50A8\\u8FD8\\u662F\\u5F97\\u9760 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"7-websocket\\u5B9E\\u65F6\\u540C\\u6B65\\u7684\\u9ED1\\u79D1\\u6280\",children:(0,l.jsx)(e.a,{href:\"#7-websocket\\u5B9E\\u65F6\\u540C\\u6B65\\u7684\\u9ED1\\u79D1\\u6280\",children:\"7. WebSocket\\uFF1A\\u5B9E\\u65F6\\u540C\\u6B65\\u7684\\u201C\\u9ED1\\u79D1\\u6280\\u201D\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5256\\u6790-6\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5256\\u6790-6\",children:\"\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5982\\u679C\\u4F60\\u7684\\u5E94\\u7528\\u6709\\u540E\\u7AEF\\u652F\\u6301\\uFF0CWebSocket \\u80FD\\u5B9E\\u65F6\\u540C\\u6B65\\u6570\\u636E\\u5230\\u670D\\u52A1\\u5668\\uFF0C\\u5237\\u65B0\\u540E\\u4ECE\\u670D\\u52A1\\u5668\\u62C9\\u56DE\\u6765\\u3002\\u5B83\\u5C31\\u50CF\\u4E2A\\u201C\\u6570\\u636E\\u5FEB\\u9012\\u5458\\u201D\\uFF0C\\u968F\\u65F6\\u5728\\u7EBF\\uFF0C\\u6C38\\u4E0D\\u6389\\u7EBF\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218-6\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218-6\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7B80\\u5355\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" socket\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" WebSocket\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'ws://your-server.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"socket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onopen\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" formData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { username: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6653\\u9F99'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'xiaolong@example.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  socket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(formData));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"socket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" restoredData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" JSON\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"parse\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.data);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4ECE\\u670D\\u52A1\\u5668\\u6062\\u590D:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", restoredData);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8FB9\\u7F18\\u573A\\u666F-6\",children:(0,l.jsx)(e.a,{href:\"#\\u8FB9\\u7F18\\u573A\\u666F-6\",children:\"\\u8FB9\\u7F18\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u65AD\\u7F51\\u95EE\\u9898\"}),\"\\uFF1A\\u6CA1\\u7F51\\u5C31\\u6B47\\u83DC\\uFF0C\\u9700\\u672C\\u5730\\u5907\\u4EFD\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u540E\\u7AEF\\u4F9D\\u8D56\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u5F97\\u652F\\u6301 WebSocket\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-6\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-6\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5FC3\\u8DF3\\u673A\\u5236\"}),\"\\uFF1A\\u52A0\\u4E2A ping-pong\\uFF0C\\u4FDD\\u6301\\u8FDE\\u63A5\\u4E0D\\u6389\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6570\\u636E\\u52A0\\u5BC6\"}),\"\\uFF1A\\u654F\\u611F\\u6570\\u636E\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"wss://\"})})})}),\"\\uFF0C\\u5B89\\u5168\\u7B2C\\u4E00\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5-6\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5-6\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9002\\u5408\\u5B9E\\u65F6\\u534F\\u4F5C\\u5DE5\\u5177\\uFF08\\u50CF Google Docs\\uFF09\\uFF0C\\u666E\\u901A\\u8868\\u5355\\u7528\\u5B83\\u6709\\u70B9\\u201C\\u8FC7\\u4E8E\\u8C6A\\u534E\\u201D\\u3002\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"8-\\u9632\\u5237\\u65B0\\u63D0\\u793A\\u4ECE\\u6E90\\u5934\\u89E3\\u51B3\\u95EE\\u9898\",children:(0,l.jsx)(e.a,{href:\"#8-\\u9632\\u5237\\u65B0\\u63D0\\u793A\\u4ECE\\u6E90\\u5934\\u89E3\\u51B3\\u95EE\\u9898\",children:\"8. \\u9632\\u5237\\u65B0\\u63D0\\u793A\\uFF1A\\u4ECE\\u6E90\\u5934\\u89E3\\u51B3\\u95EE\\u9898\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5256\\u6790-7\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5256\\u6790-7\",children:\"\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4E0E\\u5176\\u4FEE\\u8865\\uFF0C\\u4E0D\\u5982\\u9884\\u9632\\u3002\\u76D1\\u542C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"beforeunload\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u5728\\u5237\\u65B0\\u524D\\u5F39\\u7A97\\u63D0\\u9192\\u7528\\u6237\\u4FDD\\u5B58\\uFF0C\\u5C31\\u50CF\\u5988\\u5988\\u51FA\\u95E8\\u524D\\u558A\\u4F60\\u201C\\u5E26\\u4F1E\\u4E86\\u5417\\uFF1F\\u201D \\u{1F602}\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218-7\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218-7\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7B80\\u5355\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'beforeunload'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" formFilled\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getElementById\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'username'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (formFilled) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    event.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"preventDefault\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    event.returnValue \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '\\u6570\\u636E\\u8FD8\\u6CA1\\u4FDD\\u5B58\\uFF0C\\u786E\\u5B9A\\u8981\\u8D70\\u5417\\uFF1F'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u8FB9\\u7F18\\u573A\\u666F-7\",children:(0,l.jsx)(e.a,{href:\"#\\u8FB9\\u7F18\\u573A\\u666F-7\",children:\"\\u8FB9\\u7F18\\u573A\\u666F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7528\\u6237\\u70E6\\u8E81\"}),\"\\uFF1A\\u63D0\\u793A\\u592A\\u591A\\u4F1A\\u88AB\\u5ACC\\u70E6\\uFF0C\\u9002\\u5EA6\\u4F7F\\u7528\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u9650\\u5236\"}),\"\\uFF1A\\u81EA\\u5B9A\\u4E49\\u6D88\\u606F\\u652F\\u6301\\u6709\\u9650\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-7\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-7\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6761\\u4EF6\\u89E6\\u53D1\"}),\"\\uFF1A\\u53EA\\u5728\\u6570\\u636E\\u6709\\u53D8\\u65F6\\u5F39\\u7A97\\uFF0C\\u522B\\u778E\\u63D0\\u9192\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u642D\\u914D\\u5B58\\u50A8\"}),\"\\uFF1A\\u63D0\\u793A\\u53EA\\u662F\\u8F85\\u52A9\\uFF0C\\u6700\\u597D\\u6709\\u5907\\u4EFD\\u65B9\\u6848\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5-7\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5-7\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9002\\u5408\\u957F\\u8868\\u5355\\uFF0C\\u7ED9\\u7528\\u6237\\u4E00\\u4E2A\\u201C\\u6551\\u547D\\u7A3B\\u8349\\u201D\\u3002\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u4E0E\\u9009\\u62E9\\u6307\\u5357\",children:(0,l.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u4E0E\\u9009\\u62E9\\u6307\\u5357\",children:\"\\u603B\\u7ED3\\u4E0E\\u9009\\u62E9\\u6307\\u5357\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9875\\u9762\\u5237\\u65B0\\u6570\\u636E\\u4E22\\u5931\\u5C31\\u50CF\\u524D\\u7AEF\\u7684\\u201C\\u5B9A\\u65F6\\u70B8\\u5F39\\u201D\\uFF0C\\u4F46\\u6211\\u4EEC\\u6709\\u6EE1\\u6EE1\\u4E00\\u5DE5\\u5177\\u7BB1\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7B80\\u5355\\u573A\\u666F\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localStorage\"})})})}),\" / \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"sessionStorage\"})})})}),\"\\uFF0C\\u5FEB\\u51C6\\u72E0\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8F7B\\u91CF\\u72B6\\u6001\"}),\"\\uFF1AURL \\u53C2\\u6570\\uFF0C\\u5206\\u4EAB\\u53CB\\u597D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u590D\\u6742\\u5E94\\u7528\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"redux-persist\"})})})}),\"\\uFF0C\\u72B6\\u6001\\u7BA1\\u7406\\u795E\\u5668\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u79BB\\u7EBF\\u9700\\u6C42\"}),\"\\uFF1AService Worker \\u6216 IndexedDB\\uFF0C\\u786C\\u6838\\u9009\\u624B\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4E34\\u65F6\\u72B6\\u6001\"}),\"\\uFF1AHistory API \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"state\"})})})}),\"\\uFF0C\\u4F4E\\u8C03\\u5B9E\\u7528\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5B9E\\u65F6\\u540C\\u6B65\"}),\"\\uFF1AWebSocket\\uFF0C\\u9AD8\\u79D1\\u6280\\u4F53\\u9A8C\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9884\\u9632\\u4E3A\\u4E3B\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"beforeunload\"})})})}),\"\\uFF0C\\u9632\\u60A3\\u672A\\u7136\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6BCF\\u79CD\\u65B9\\u6848\\u90FD\\u6709\\u81EA\\u5DF1\\u7684\\u201C\\u821E\\u53F0\\u201D\\uFF0C\\u9009\\u5BF9\\u5DE5\\u5177\\u624D\\u80FD\\u4E8B\\u534A\\u529F\\u500D\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u535A\\u5BA2\\u80FD\\u8BA9\\u4F60\\u5C11\\u8E29\\u5751\\uFF0C\\u591A\\u5199\\u51FA\\u201C\\u7A33\\u5982\\u8001\\u72D7\\u201D\\u7684\\u4EE3\\u7801\\u3002\\u5982\\u679C\\u6709\\u5176\\u4ED6\\u5999\\u62DB\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u628A\\u524D\\u7AEF\\u73A9\\u51FA\\u82B1\\u6765\\uFF01\\u{1F680}\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(t,{...n})}):t(n)}return f(b);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/é¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±é—®é¢˜çš„å¤šç§è§£å†³æ–¹æ³•.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/é¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±é—®é¢˜çš„å¤šç§è§£å†³æ–¹æ³•.mdx",
    "sourceFileName": "é¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±é—®é¢˜çš„å¤šç§è§£å†³æ–¹æ³•.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/é¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±é—®é¢˜çš„å¤šç§è§£å†³æ–¹æ³•"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/é¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±é—®é¢˜çš„å¤šç§è§£å†³æ–¹æ³•"
}
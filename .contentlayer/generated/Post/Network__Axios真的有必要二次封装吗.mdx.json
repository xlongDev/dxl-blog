{
  "title": "Axios çœŸçš„æœ‰å¿…è¦äºŒæ¬¡å°è£…å—ï¼ŸğŸš€",
  "date": "2023-01-22T00:00:00.000Z",
  "description": "æ·±å…¥æ¢è®¨å‰ç«¯å¼€å‘ä¸­æ˜¯å¦éœ€è¦å¯¹ Axios è¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œåˆ†æå…¶åŸç†ã€ä¼˜ç¼ºç‚¹ã€å¸¸è§åœºæ™¯ï¼Œå¹¶æä¾›å®ç”¨æ¡ˆä¾‹ä¸æœ€ä½³å®è·µã€‚",
  "keywords": "Axios, äºŒæ¬¡å°è£…, å‰ç«¯å¼€å‘, HTTP è¯·æ±‚, JavaScript, API è°ƒç”¨, è¯·æ±‚æ‹¦æˆª, é”™è¯¯å¤„ç†",
  "author": "æ™“é¾™",
  "image": "/images/hero/axios-encapsulation.jpg",
  "tags": [
    "Axios",
    "JavaScript",
    "å‰ç«¯å¼€å‘",
    "HTTP"
  ],
  "views": 0,
  "likes": 0,
  "category": "Network",
  "body": {
    "raw": "\nä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨å’Œ API æ‰“äº¤é“ï¼Œè€Œ [Axios](https://axios-http.com/) å‡ ä¹æˆäº† HTTP è¯·æ±‚çš„â€œå›½æ°‘çº§â€å·¥å…·ã€‚å®ƒç®€å•ã€ä¼˜é›…ã€åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒæ‹¦æˆªå™¨ã€å–æ¶ˆè¯·æ±‚ã€è‡ªåŠ¨åºåˆ—åŒ– JSONâ€¦â€¦ç®€ç›´æ˜¯å¼€å‘è€…çš„å¥½ä¼™ä¼´ã€‚ç„¶è€Œï¼Œåœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸å¬åˆ°ä¸€ç§å£°éŸ³ï¼šâ€œç›´æ¥ç”¨ Axios ä¸é¦™å—ï¼Ÿä¸ºä»€ä¹ˆè¦äºŒæ¬¡å°è£…ï¼ŸğŸ¤”â€ è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ æ·±å…¥æ¢è®¨è¿™ä¸ªè¯é¢˜ï¼Œä»åŸç†åˆ°å®è·µï¼Œä»ä¼˜ç¼ºç‚¹åˆ°åœºæ™¯åˆ†æï¼Œå¸®ä½ ææ¸…æ¥šâ€”â€”Axios äºŒæ¬¡å°è£…åˆ°åº•æ˜¯ä¸æ˜¯â€œå¤šæ­¤ä¸€ä¸¾â€ã€‚\n\n> æ³¨ï¼šæœ¬æ–‡é¢å‘æœ‰ä¸€å®šå‰ç«¯ç»éªŒçš„å¼€å‘è€…ï¼Œå°¤å…¶æ˜¯ç†Ÿæ‚‰ Axios å’Œç°ä»£å‰ç«¯å¼€å‘æµç¨‹çš„ä½ ã€‚å¦‚æœä½ æ˜¯ä¸ªå–œæ¬¢â€œå·æ‡’â€åˆè¿½æ±‚ä»£ç ä¼˜é›…çš„ç¨‹åºå‘˜ï¼Œç›¸ä¿¡è¿™ç¯‡ä¼šè®©ä½ æœ‰æ‰€æ”¶è·ï¼ğŸ˜‰\n\n---\n\n## ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°äºŒæ¬¡å°è£…ï¼ŸğŸ§\n\nåœ¨å›ç­”â€œè¦ä¸è¦å°è£…â€ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ææ¸…æ¥šä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§éœ€æ±‚ã€‚Axios è™½ç„¶å¥½ç”¨ï¼Œä½†å®ƒæ¯•ç«Ÿæ˜¯ä¸€ä¸ªé€šç”¨çš„ HTTP å®¢æˆ·ç«¯åº“ï¼Œè®¾è®¡åˆè¡·æ˜¯ä¸ºäº†æ»¡è¶³å¹¿æ³›åœºæ™¯ï¼Œè€Œä¸æ˜¯æŸä¸ªå…·ä½“é¡¹ç›®çš„â€œç§äººè®¢åˆ¶â€ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š\n\n1. **é‡å¤é…ç½®**ï¼šæ¯æ¬¡è¯·æ±‚éƒ½è¦è®¾ç½® `baseURL`ã€è¶…æ—¶æ—¶é—´ã€è¯·æ±‚å¤´ï¼Œä»£ç é‡Œæ»¡æ˜¯é‡å¤çš„ `axios.get('/api/xxx', { headers: {...} })`ã€‚\n2. **é”™è¯¯å¤„ç†**ï¼šåç«¯è¿”å›çš„é”™è¯¯ç äº”èŠ±å…«é—¨ï¼ˆæ¯”å¦‚ 401 æœªæˆæƒã€500 æœåŠ¡å™¨é”™è¯¯ï¼‰ï¼Œæ¯æ¬¡éƒ½è¦æ‰‹åŠ¨å¤„ç†ï¼Œçƒ¦ä¸èƒœçƒ¦ã€‚\n3. **å“åº”æ•°æ®æ ¼å¼ä¸ç»Ÿä¸€**ï¼šæœ‰çš„æ¥å£è¿”å› `{ data: {...}, code: 0 }`ï¼Œæœ‰çš„è¿”å› `{ result: {...}, status: 'success' }`ï¼Œå‰ç«¯éœ€è¦é¢‘ç¹é€‚é…ã€‚\n4. **ä¸šåŠ¡é€»è¾‘è€¦åˆ**ï¼šæ¯”å¦‚ token è¿‡æœŸåè·³è½¬ç™»å½•é¡µï¼Œè¿™ç§é€»è¾‘æ•£è½åœ¨æ¯ä¸ªè¯·æ±‚é‡Œï¼Œç»´æŠ¤èµ·æ¥ç®€ç›´æ˜¯å™©æ¢¦ã€‚\n5. **ç¯å¢ƒåˆ‡æ¢**ï¼šå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒçš„ `baseURL` ä¸åŒï¼Œæ‰‹åŠ¨åˆ‡æ¢å®¹æ˜“å‡ºé”™ã€‚\n\nè¿™äº›é—®é¢˜å°±åƒå¨æˆ¿é‡Œçš„ä¸€å †æ‚ä¹±é£Ÿæ ğŸ…ğŸ¥•ğŸ¥”ï¼ŒAxios æ˜¯æŠŠå¥½åˆ€ï¼Œä½†å…‰æœ‰åˆ€è¿˜ä¸è¡Œï¼Œä½ å¾—æœ‰ä¸ªâ€œé£Ÿè°±â€æ¥è®©çƒ¹é¥ªæ›´çœå¿ƒã€‚äºŒæ¬¡å°è£…çš„æœ¬è´¨ï¼Œå°±æ˜¯æŠŠè¿™äº›é‡å¤ã€ç¹ççš„å·¥ä½œæŠ½è±¡æˆä¸€ä¸ªæ›´è´´åˆé¡¹ç›®éœ€æ±‚çš„å·¥å…·ã€‚\n\n*ğŸ“Œ å° tipsï¼šæ€è€ƒæ˜¯å¦éœ€è¦å°è£…æ—¶ï¼Œå…ˆé—®é—®è‡ªå·±ï¼šæˆ‘çš„é¡¹ç›®ä¸­æœ‰å¤šå°‘é‡å¤çš„è¯·æ±‚é€»è¾‘ï¼Ÿå¦‚æœè¶…è¿‡ 3 å¤„ï¼Œå°è£…å¯èƒ½å°±å€¼å¾—è€ƒè™‘äº†ã€‚*\n\n---\n\n## äºŒæ¬¡å°è£…çš„æ ¸å¿ƒåŸç† ğŸ”\n\nè¦ææ¸…æ¥šäºŒæ¬¡å°è£…çš„æ„ä¹‰ï¼Œæˆ‘ä»¬å¾—å…ˆä» Axios çš„æ ¸å¿ƒæœºåˆ¶è¯´èµ·ã€‚Axios çš„å¼ºå¤§ç¦»ä¸å¼€å®ƒçš„**æ‹¦æˆªå™¨**ï¼ˆInterceptorsï¼‰å’Œ**å®ä¾‹åŒ–**ï¼ˆInstanceï¼‰è®¾è®¡ã€‚\n\n### 1. æ‹¦æˆªå™¨ï¼šè¯·æ±‚ä¸å“åº”çš„â€œé—¨å«â€ ğŸš¨\n\nAxios çš„æ‹¦æˆªå™¨å…è®¸æˆ‘ä»¬åœ¨è¯·æ±‚å‘å‡ºå‰æˆ–å“åº”åˆ°è¾¾åæ’å…¥è‡ªå®šä¹‰é€»è¾‘ã€‚æ¯”å¦‚ï¼š\n\n```javascript\naxios.interceptors.request.use(config => {\n  config.headers.Authorization = `Bearer ${getToken()}`;\n  return config;\n});\n\naxios.interceptors.response.use(\n  response => response,\n  error => {\n    if (error.response.status === 401) {\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n```\n\næ‹¦æˆªå™¨å°±åƒæ˜¯è¯·æ±‚å’Œå“åº”çš„â€œé—¨å«â€ï¼Œå¯ä»¥ç»Ÿä¸€å¤„ç† token æ·»åŠ ã€é”™è¯¯è·³è½¬ç­‰é€»è¾‘ã€‚äºŒæ¬¡å°è£…é€šå¸¸ä¼šåŸºäºæ‹¦æˆªå™¨ï¼ŒæŠŠè¿™äº›é€šç”¨é€»è¾‘å›ºåŒ–ä¸‹æ¥ã€‚\n\n### 2. å®ä¾‹åŒ–ï¼šå®šåˆ¶ä½ çš„ä¸“å± Axios ğŸ› ï¸\n\nAxios æ”¯æŒåˆ›å»ºå®ä¾‹ï¼Œå…è®¸æˆ‘ä»¬é¢„è®¾ä¸€äº›é…ç½®ï¼š\n\n```javascript\nconst instance = axios.create({\n  baseURL: 'https://api.example.com',\n  timeout: 5000,\n  headers: { 'X-Custom-Header': 'foobar' },\n});\n```\n\né€šè¿‡å®ä¾‹åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒåœºæ™¯åˆ›å»ºå¤šä¸ª Axios å®ä¾‹ï¼Œæ¯”å¦‚ä¸€ä¸ªç”¨äºè°ƒç”¨å†…éƒ¨ APIï¼Œä¸€ä¸ªç”¨äºè°ƒç”¨ç¬¬ä¸‰æ–¹æœåŠ¡ã€‚äºŒæ¬¡å°è£…çš„æ ¸å¿ƒï¼Œå¾€å¾€æ˜¯åŸºäº `axios.create` æ‰“é€ ä¸€ä¸ªå®šåˆ¶åŒ–çš„å®ä¾‹ï¼Œå†æ­é…æ‹¦æˆªå™¨å’Œä¸€äº›è¾…åŠ©æ–¹æ³•ã€‚\n\n### 3. å°è£…çš„æœ¬è´¨ï¼šæŠ½è±¡ä¸å¤ç”¨ ğŸ“¦\n\näºŒæ¬¡å°è£…çš„æœ¬è´¨æ˜¯**æŠ½è±¡**å’Œ**å¤ç”¨**ã€‚å®ƒæŠŠåˆ†æ•£åœ¨é¡¹ç›®ä¸­çš„è¯·æ±‚é€»è¾‘é›†ä¸­åˆ°ä¸€ä¸ªæ¨¡å—ï¼Œå‡å°‘é‡å¤ä»£ç ï¼Œæé«˜å¯ç»´æŠ¤æ€§ã€‚å°±åƒä½ ä¸ä¼šæ¯æ¬¡ç‚’èœéƒ½ä»é›¶å¼€å§‹ç£¨åˆ€ã€æ´—é”…ï¼Œå°è£…å°±æ˜¯å¸®ä½ æŠŠâ€œå‰ç½®å·¥ä½œâ€å‡†å¤‡å¥½ã€‚\n\n*ğŸ“Œ å° tipsï¼šå°è£…æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘é¡¹ç›®ä¸­æœ€å¸¸è§çš„è¯·æ±‚åœºæ™¯ï¼Œæ¯”å¦‚ 80% çš„æ¥å£éƒ½éœ€è¦ tokenï¼Œé‚£å°±æŠŠ token å¤„ç†é€»è¾‘æ”¾è¿›æ‹¦æˆªå™¨ï¼Œè€Œä¸æ˜¯å†™åœ¨æ¯ä¸ªè¯·æ±‚é‡Œã€‚*\n\n---\n\n## äºŒæ¬¡å°è£…çš„ä¼˜ç¼ºç‚¹ âš–ï¸\n\nä»»ä½•æŠ€æœ¯å†³ç­–éƒ½æœ‰ä¸¤é¢æ€§ï¼ŒäºŒæ¬¡å°è£…ä¹Ÿä¸ä¾‹å¤–ã€‚è®©æˆ‘ä»¬æ¥æ°æ‰¯æ°æ‰¯ã€‚\n\n### ä¼˜ç‚¹ï¼šä¸ºä»€ä¹ˆå€¼å¾—ä¸€è¯•ï¼ŸğŸ˜\n\n1. **å‡å°‘é‡å¤ä»£ç **ï¼šç»Ÿä¸€é…ç½® `baseURL`ã€è¶…æ—¶æ—¶é—´ã€è¯·æ±‚å¤´ï¼Œä»£ç æ›´ç®€æ´ã€‚\n2. **ç»Ÿä¸€é”™è¯¯å¤„ç†**ï¼šæŠŠ 401ã€500 ç­‰é”™è¯¯é›†ä¸­å¤„ç†ï¼Œå‡å°‘ try-catch çš„ä½¿ç”¨ã€‚\n3. **è§„èŒƒåŒ–å“åº”æ•°æ®**ï¼šä¸ç®¡åç«¯è¿”å›ä»€ä¹ˆæ ¼å¼ï¼Œå‰ç«¯éƒ½èƒ½æ‹¿åˆ°ç»Ÿä¸€çš„ `{ data, code, message }`ã€‚\n4. **ä¸šåŠ¡é€»è¾‘è§£è€¦**ï¼štoken åˆ·æ–°ã€ç¯å¢ƒåˆ‡æ¢ç­‰é€»è¾‘é›†ä¸­åœ¨å°è£…å±‚ï¼Œä¸šåŠ¡ä»£ç æ›´çº¯ç²¹ã€‚\n5. **æ˜“äºç»´æŠ¤å’Œæ‰©å±•**ï¼šæ¥å£åŸŸåå˜äº†ï¼Ÿæ”¹ä¸€å¤„å°±è¡Œï¼Œä¸ç”¨ç¿»éæ•´ä¸ªé¡¹ç›®ã€‚\n\n### ç¼ºç‚¹ï¼šå°è£…çš„â€œå‘â€åœ¨å“ªé‡Œï¼ŸğŸ˜“\n\n1. **å­¦ä¹ æˆæœ¬**ï¼šå›¢é˜Ÿæ–°äººéœ€è¦ç†è§£å°è£…çš„é€»è¾‘ï¼Œå¯èƒ½ä¸€å¼€å§‹ä¼šæ‡µã€‚\n2. **è¿‡åº¦å°è£…çš„é£é™©**ï¼šå¦‚æœå°è£…å¾—å¤ªå¤æ‚ï¼Œå¯èƒ½é€‚å¾—å…¶åï¼Œç»´æŠ¤æˆæœ¬ä¸Šå‡ã€‚\n3. **çµæ´»æ€§ä¸‹é™**ï¼šå°è£…æ˜¯ä¸ºäº†ç»Ÿä¸€ï¼Œä½†æœ‰äº›ç‰¹æ®Šæ¥å£å¯èƒ½éœ€è¦ç»•è¿‡å°è£…å±‚ï¼Œä»£ç å¯èƒ½ä¼šæ˜¾å¾—åˆ«æ‰­ã€‚\n4. **æ€§èƒ½å¼€é”€**ï¼šæ‹¦æˆªå™¨å’Œé¢å¤–é€»è¾‘å¯èƒ½ä¼šå¼•å…¥å¾®å°çš„æ€§èƒ½æŸè€—ï¼ˆä¸è¿‡é€šå¸¸å¯ä»¥å¿½ç•¥ï¼‰ã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼ŒäºŒæ¬¡å°è£…å°±åƒç»™ä½ çš„è·‘è½¦åŠ äº†ä¸ªè‡ªåŠ¨é©¾é©¶ç³»ç»Ÿ ğŸš—ã€‚å®ƒèƒ½è®©ä½ è½»æ¾å·¡èˆªï¼Œä½†å¦‚æœé‡åˆ°å¤æ‚è·¯å†µï¼Œå¯èƒ½è¿˜å¾—åˆ‡å›æ‰‹åŠ¨æ¨¡å¼ã€‚\n\n*ğŸ“Œ å° tipsï¼šå°è£…æ—¶åˆ«è´ªå¤šï¼Œä¼˜å…ˆè§£å†³é¡¹ç›®ä¸­æœ€ç—›çš„ç‚¹ï¼Œæ¯”å¦‚é”™è¯¯å¤„ç†æˆ– token ç®¡ç†ã€‚åˆ«ä¸€ä¸Šæ¥å°±æƒ³æŠŠæ‰€æœ‰åœºæ™¯éƒ½è¦†ç›–ï¼Œå®¹æ˜“æŠŠè‡ªå·±ç»•æ™•ã€‚*\n\n---\n\n## å¸¸è§çš„å°è£…åœºæ™¯ä¸å®ç° ğŸŒŸ\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹äºŒæ¬¡å°è£…çš„å‡ ç§å¸¸è§åœºæ™¯ï¼Œä»¥åŠå¦‚ä½•å®ç°å®ƒä»¬ã€‚æ¯ä¸ªåœºæ™¯éƒ½ä¼šé™„ä¸Šä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼ŒåŠ›æ±‚è®©ä½ æ‹¿æ¥å°±èƒ½ç”¨ï¼\n\n### åœºæ™¯ 1ï¼šç»Ÿä¸€é…ç½®ä¸æ‹¦æˆªå™¨ ğŸ› ï¸\n\næœ€åŸºç¡€çš„å°è£…éœ€æ±‚æ˜¯ç»Ÿä¸€é…ç½® `baseURL`ã€è¶…æ—¶æ—¶é—´ï¼Œå¹¶é€šè¿‡æ‹¦æˆªå™¨æ·»åŠ  token æˆ–å¤„ç†é”™è¯¯ã€‚\n\n```javascript\n// src/utils/request.js\nimport axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'https://api.example.com',\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// è¯·æ±‚æ‹¦æˆªå™¨\ninstance.interceptors.request.use(\n  config => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => Promise.reject(error)\n);\n\n// å“åº”æ‹¦æˆªå™¨\ninstance.interceptors.response.use(\n  response => {\n    // å‡è®¾åç«¯è¿”å›æ ¼å¼ä¸º { code, data, message }\n    const { code, data, message } = response.data;\n    if (code !== 0) {\n      // ä¸šåŠ¡é”™è¯¯\n      return Promise.reject(new Error(message || 'è¯·æ±‚å¤±è´¥'));\n    }\n    return data; // åªè¿”å› data éƒ¨åˆ†ï¼Œç®€åŒ–è°ƒç”¨\n  },\n  error => {\n    if (error.response?.status === 401) {\n      // æœªæˆæƒï¼Œè·³è½¬ç™»å½•\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default instance;\n```\n\nä½¿ç”¨æ–¹å¼ï¼š\n\n```javascript\n// src/api/user.js\nimport request from '../utils/request';\n\nexport const getUserInfo = () => request.get('/user/info');\n```\n\n**æ•ˆæœ**ï¼šæ‰€æœ‰è¯·æ±‚éƒ½è‡ªåŠ¨å¸¦ä¸Š tokenï¼Œå“åº”æ•°æ®è¢«ç»Ÿä¸€å¤„ç†ï¼Œè°ƒç”¨è€…åªéœ€è¦å…³å¿ƒä¸šåŠ¡é€»è¾‘ã€‚\n\n*ğŸ“Œ å° tipsï¼šæ‹¦æˆªå™¨ä¸­å°½é‡é¿å…å¤æ‚çš„é€»è¾‘ï¼Œæ¯”å¦‚ä¸è¦åœ¨è¯·æ±‚æ‹¦æˆªå™¨é‡Œåšè€—æ—¶æ“ä½œï¼ˆå¦‚å¼‚æ­¥è·å– tokenï¼‰ï¼Œå¦åˆ™ä¼šæ‹–æ…¢è¯·æ±‚ã€‚*\n\n### åœºæ™¯ 2ï¼šè§„èŒƒåŒ–å“åº”æ•°æ® ğŸ“‹\n\nåç«¯æ¥å£çš„å“åº”æ ¼å¼å¾€å¾€äº”èŠ±å…«é—¨ï¼Œå‰ç«¯éœ€è¦é¢‘ç¹é€‚é…ã€‚å°è£…æ—¶å¯ä»¥ç»Ÿä¸€å“åº”æ ¼å¼ï¼Œæ¯”å¦‚æŠŠæ‰€æœ‰å“åº”éƒ½è½¬ä¸º `{ data, code, message }`ã€‚\n\n```javascript\n// src/utils/request.js\ninstance.interceptors.response.use(\n  response => {\n    const { data } = response;\n    // å‡è®¾åç«¯å¯èƒ½è¿”å›å¤šç§æ ¼å¼ï¼Œç»Ÿä¸€è½¬ä¸ºæ ‡å‡†ç»“æ„\n    if (typeof data === 'object' && 'code' in data) {\n      return {\n        code: data.code,\n        data: data.data || data.result,\n        message: data.message || '',\n      };\n    }\n    // æ²¡æœ‰ code çš„æ¥å£ï¼Œç›´æ¥è¿”å›æ•°æ®\n    return { code: 0, data, message: 'æˆåŠŸ' };\n  },\n  error => {\n    return Promise.reject({\n      code: error.response?.status || -1,\n      data: null,\n      message: error.message || 'ç½‘ç»œé”™è¯¯',\n    });\n  }\n);\n```\n\nä½¿ç”¨æ–¹å¼ï¼š\n\n```javascript\ntry {\n  const res = await getUserInfo();\n  console.log(res); // { code: 0, data: {...}, message: 'æˆåŠŸ' }\n} catch (err) {\n  console.log(err); // { code: 401, data: null, message: 'æœªæˆæƒ' }\n}\n```\n\n**æ•ˆæœ**ï¼šä¸ç®¡åç«¯è¿”å›ä»€ä¹ˆæ ¼å¼ï¼Œå‰ç«¯æ‹¿åˆ°çš„éƒ½æ˜¯ç»Ÿä¸€çš„ç»“æ„ï¼Œå‡å°‘é€‚é…æˆæœ¬ã€‚\n\n*ğŸ“Œ å° tipsï¼šå’Œåç«¯çº¦å®šå¥½æ¥å£è§„èŒƒæ˜¯ç‹é“ã€‚å¦‚æœåç«¯æ ¼å¼å¤ªä¹±ï¼Œå»ºè®®åœ¨å°è£…å±‚åŠ ä¸ªæ˜ å°„è¡¨ï¼ŒæŠŠå¸¸è§æ ¼å¼éƒ½è½¬ä¸ºæ ‡å‡†ç»“æ„ã€‚*\n\n### åœºæ™¯ 3ï¼šè‡ªåŠ¨ token åˆ·æ–° ğŸ”„\n\ntoken è¿‡æœŸæ˜¯å¸¸è§é—®é¢˜ï¼Œä¼ ç»Ÿçš„åšæ³•æ˜¯åœ¨ 401 æ—¶è·³è½¬ç™»å½•ï¼Œä½†æ›´å¥½çš„æ–¹å¼æ˜¯è‡ªåŠ¨åˆ·æ–° tokenã€‚\n\n```javascript\n// src/utils/request.js\nlet isRefreshing = false;\nlet failedQueue = [];\n\nconst processQueue = (error, token = null) => {\n  failedQueue.forEach(prom => {\n    if (error) {\n      prom.reject(error);\n    } else {\n      prom.resolve(token);\n    }\n  });\n  failedQueue = [];\n};\n\ninstance.interceptors.response.use(\n  response => response,\n  async error => {\n    const { config, response } = error;\n    if (response?.status === 401 && !config._retry) {\n      if (isRefreshing) {\n        // å·²ç»åœ¨åˆ·æ–° tokenï¼ŒåŠ å…¥é˜Ÿåˆ—\n        return new Promise((resolve, reject) => {\n          failedQueue.push({ resolve, reject });\n        })\n          .then(token => {\n            config.headers.Authorization = `Bearer ${token}`;\n            return instance(config);\n          })\n          .catch(err => Promise.reject(err));\n      }\n\n      config._retry = true;\n      isRefreshing = true;\n\n      try {\n        // å‡è®¾æœ‰ refreshToken æ¥å£\n        const { data } = await axios.post('/auth/refresh', {\n          refreshToken: localStorage.getItem('refreshToken'),\n        });\n        const newToken = data.token;\n        localStorage.setItem('token', newToken);\n\n        // æ›´æ–°æ‰€æœ‰æ’é˜Ÿè¯·æ±‚çš„ token\n        processQueue(null, newToken);\n        config.headers.Authorization = `Bearer ${newToken}`;\n        return instance(config);\n      } catch (err) {\n        processQueue(err, null);\n        window.location.href = '/login';\n        return Promise.reject(err);\n      } finally {\n        isRefreshing = false;\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n```\n\n**æ•ˆæœ**ï¼štoken è¿‡æœŸæ—¶ï¼Œè‡ªåŠ¨åˆ·æ–°å¹¶é‡è¯•å¤±è´¥çš„è¯·æ±‚ï¼Œç”¨æˆ·å‡ ä¹æ— æ„ŸçŸ¥ã€‚\n\n*ğŸ“Œ å° tipsï¼šåˆ·æ–° token æ—¶ï¼Œå»ºè®®åŠ ä¸ªæœ€å¤§é‡è¯•æ¬¡æ•°ï¼ˆæ¯”å¦‚ 3 æ¬¡ï¼‰ï¼Œé¿å…æ— é™å¾ªç¯è¯·æ±‚ã€‚*\n\n### åœºæ™¯ 4ï¼šæ”¯æŒå¤šç§è¯·æ±‚æ–¹æ³• ğŸ› ï¸\n\nä¸ºäº†è®©è°ƒç”¨æ›´ç®€æ´ï¼Œå¯ä»¥å°è£…å¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼Œæ¯”å¦‚ `get`ã€`post`ã€`put` ç­‰ã€‚\n\n```javascript\n// src/utils/request.js\nconst http = {\n  get(url, params) {\n    return instance.get(url, { params });\n  },\n  post(url, data, config = {}) {\n    return instance.post(url, data, config);\n  },\n  put(url, data) {\n    return instance.put(url, data);\n  },\n  delete(url, params) {\n    return instance.delete(url, { params });\n  },\n};\n\nexport default http;\n```\n\nä½¿ç”¨æ–¹å¼ï¼š\n\n```javascript\n// src/api/user.js\nimport http from '../utils/request';\n\nexport const getUserInfo = () => http.get('/user/info');\nexport const updateUser = data => http.post('/user/update', data);\n```\n\n**æ•ˆæœ**ï¼šè¯·æ±‚æ–¹æ³•æ›´ç®€æ´ï¼Œè°ƒç”¨è€…ä¸éœ€è¦å…³å¿ƒåº•å±‚å®ç°ã€‚\n\n*ğŸ“Œ å° tipsï¼šå°è£…æ–¹æ³•æ—¶ï¼Œå°½é‡ä¿æŒå‚æ•°ç®€å•ï¼Œæ¯”å¦‚ `get` åªä¼  `url` å’Œ `params`ï¼Œé¿å…è®©è°ƒç”¨è€…è®°å¤ªå¤šé…ç½®é¡¹ã€‚*\n\n---\n\n## æœ€ä½³å®è·µï¼šè®©å°è£…æ›´ä¼˜é›… âœ¨\n\nç»è¿‡ä¸Šé¢çš„åˆ†æå’Œç¤ºä¾‹ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹äºŒæ¬¡å°è£…æœ‰äº†æ›´æ·±çš„ç†è§£ã€‚ä¸‹é¢æ˜¯ä¸€äº›æœ€ä½³å®è·µï¼Œå¸®ä½ æŠŠå°è£…åšå¾—æ›´ä¸“ä¸šã€æ›´å®ç”¨ã€‚\n\n1. **æ¨¡å—åŒ–è®¾è®¡** ğŸ“¦  \n   æŠŠè¯·æ±‚é€»è¾‘æ‹†åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œæ¯”å¦‚ `request.js` è´Ÿè´£æ ¸å¿ƒå°è£…ï¼Œ`api/user.js` è´Ÿè´£å…·ä½“æ¥å£å®šä¹‰ã€‚è¿™æ ·å³ä½¿é¡¹ç›®å¾ˆå¤§ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿå¾ˆæ¸…æ™°ã€‚\n\n   *ğŸ“Œ å° tipsï¼šç”¨ ESM æ¨¡å—åŒ–ç»„ç»‡ä»£ç ï¼Œæ–¹ä¾¿ tree-shakingï¼Œå‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚*\n\n2. **ç±»å‹å®‰å…¨** ğŸ›¡ï¸  \n   å¦‚æœç”¨ TypeScriptï¼Œå®šä¹‰æ¸…æ™°çš„æ¥å£ç±»å‹ï¼Œæ¯”å¦‚ï¼š\n\n   ```typescript\n   interface ApiResponse<T> {\n     code: number;\n     data: T;\n     message: string;\n   }\n\n   export const getUserInfo = (): Promise<ApiResponse<User>> => http.get('/user/info');\n   ```\n\n   è¿™èƒ½è®© IDE æç¤ºæ›´æ™ºèƒ½ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ã€‚\n\n   *ğŸ“Œ å° tipsï¼šå°½é‡ä¸ºæ¯ä¸ªæ¥å£å®šä¹‰å…·ä½“çš„è¿”å›ç±»å‹ï¼Œè€Œä¸æ˜¯ç”¨ anyï¼Œå¦åˆ™ TS çš„ä¼˜åŠ¿å°±æµªè´¹äº†ã€‚*\n\n3. **ç¯å¢ƒåˆ‡æ¢** ğŸŒ  \n   ç”¨ç¯å¢ƒå˜é‡ç®¡ç† `baseURL`ï¼Œæ¯”å¦‚ï¼š\n\n   ```javascript\n   const baseURL =\n     process.env.NODE_ENV === 'production'\n       ? 'https://api.example.com'\n       : 'https://dev-api.example.com';\n   ```\n\n   *ğŸ“Œ å° tipsï¼šå¯ä»¥ç”¨ `dotenv` ç®¡ç†ç¯å¢ƒå˜é‡ï¼Œå¼€å‘æ—¶æ›´çµæ´»ã€‚*\n\n4. **é”™è¯¯æç¤ºå‹å¥½** ğŸš¨  \n   ä¸è¦ç›´æ¥æŠ›å‡ºåŸå§‹é”™è¯¯ï¼Œè€Œæ˜¯è½¬ä¸ºç”¨æˆ·å‹å¥½çš„æç¤ºã€‚æ¯”å¦‚ï¼š\n\n   ```javascript\n   instance.interceptors.response.use(\n     response => response,\n     error => {\n       const message =\n         error.response?.status === 404\n           ? 'èµ„æºä¸å­˜åœ¨ï¼Œè¯·ç¨åå†è¯•'\n           : 'ç½‘ç»œå¼‚å¸¸ï¼Œè¯·æ£€æŸ¥è¿æ¥';\n       alert(message); // æˆ–è€…ç”¨ UI åº“çš„ toast\n       return Promise.reject(error);\n     }\n   );\n   ```\n\n   *ğŸ“Œ å° tipsï¼šé”™è¯¯æç¤ºå°½é‡å…·ä½“ï¼Œæ¯”å¦‚åŒºåˆ†â€œç½‘ç»œæ–­å¼€â€å’Œâ€œæœåŠ¡å™¨é”™è¯¯â€ï¼Œç”¨æˆ·ä½“éªŒä¼šæ›´å¥½ã€‚*\n\n5. **æ—¥å¿—è®°å½•** ğŸ“œ  \n   åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œè®°å½•è¯·æ±‚æ—¥å¿—ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼š\n\n   ```javascript\n   instance.interceptors.request.use(config => {\n     if (process.env.NODE_ENV !== 'production') {\n       console.log(`[Request] ${config.method.toUpperCase()} ${config.url}`, config);\n     }\n     return config;\n   });\n   ```\n\n   *ğŸ“Œ å° tipsï¼šç”Ÿäº§ç¯å¢ƒä¸€å®šè¦å…³é—­æ—¥å¿—ï¼Œé¿å…æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚*\n\n---\n\n## è¦ä¸è¦å°è£…ï¼Ÿæˆ‘çš„åˆ¤æ–­æ ‡å‡† âš–ï¸\n\nè¯´äº†è¿™ä¹ˆå¤šï¼Œåˆ°åº•è¦ä¸è¦äºŒæ¬¡å°è£…ï¼Ÿæˆ‘çš„å»ºè®®æ˜¯åŸºäºä»¥ä¸‹æ ‡å‡†ï¼š\n\n1. **é¡¹ç›®è§„æ¨¡**ï¼šå¦‚æœæ˜¯ä¸ªå°é¡¹ç›®ï¼Œæ¥å£ä¸å¤šï¼Œç›´æ¥ç”¨ Axios ä¹Ÿæ²¡å•¥é—®é¢˜ã€‚ä½†å¦‚æœé¡¹ç›®æœ‰å‡ åä¸ªæ¥å£ï¼Œå°è£…å‡ ä¹æ˜¯å¿…é¡»çš„ã€‚\n2. **å›¢é˜Ÿåä½œ**ï¼šå›¢é˜Ÿè¶Šå¤§ï¼Œè¶Šéœ€è¦ç»Ÿä¸€çš„è¯·æ±‚è§„èŒƒï¼Œå¦åˆ™æ¯ä¸ªäººéƒ½å†™è‡ªå·±çš„è¯·æ±‚é€»è¾‘ï¼Œç»´æŠ¤èµ·æ¥ä¼šå´©æºƒã€‚\n3. **æ¥å£å¤æ‚åº¦**ï¼šå¦‚æœåç«¯æ¥å£æ ¼å¼ä¸ç»Ÿä¸€ï¼Œæˆ–è€…æœ‰å¤æ‚çš„ token ç®¡ç†éœ€æ±‚ï¼Œå°è£…èƒ½çœå¾ˆå¤šå¿ƒã€‚\n4. **ç»´æŠ¤å‘¨æœŸ**ï¼šé•¿æœŸç»´æŠ¤çš„é¡¹ç›®æ›´éœ€è¦å°è£…ï¼Œå› ä¸ºå®ƒèƒ½é™ä½æœªæ¥çš„æ”¹åŠ¨æˆæœ¬ã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼Œå°è£…å°±åƒæ˜¯ç»™ä½ çš„ä»£ç ç©¿ä¸Šâ€œè¥¿è£…â€ ğŸ‘”ã€‚å°é¡¹ç›®å¯èƒ½ç©¿ä¸ª T æ¤å°±å¤Ÿäº†ï¼Œä½†å¤§é¡¹ç›®å¾—ç©¿å¾—ä½“é¢ç‚¹ï¼Œæ‰èƒ½åº”å¯¹å„ç§åœºåˆã€‚\n\n*ğŸ“Œ å° tipsï¼šå¼€å§‹å°è£…å‰ï¼Œå’Œå›¢é˜Ÿè®¨è®ºä¸€ä¸‹éœ€æ±‚ï¼Œåˆ—å‡ºæœ€ç—›çš„ç‚¹ï¼Œä¼˜å…ˆè§£å†³è¿™äº›é—®é¢˜ï¼Œè€Œä¸æ˜¯ä¸€ä¸Šæ¥å°±è¿½æ±‚â€œå¤§è€Œå…¨â€ã€‚*\n\n---\n\n## åæ–¹è§‚ç‚¹ï¼šç›´æ¥ç”¨ Axios ä¸é¦™å—ï¼ŸğŸ˜\n\nä¸ºäº†å…¬å¹³èµ·è§ï¼Œæˆ‘ä»¬ä¹Ÿå¬å¬â€œåæ–¹â€çš„å£°éŸ³ã€‚æœ‰äº›å¼€å‘è€…è§‰å¾—ï¼ŒAxios å·²ç»è¶³å¤Ÿå¥½ç”¨äº†ï¼Œå°è£…åè€Œæ˜¯â€œç”»è›‡æ·»è¶³â€ã€‚ä»–ä»¬çš„ç†ç”±æ˜¯ï¼š\n\n1. **ç®€å•å³ç¾**ï¼šAxios çš„ API å·²ç»å¾ˆç®€æ´ï¼Œå°è£…å¯èƒ½è®©ä»£ç æ›´å¤æ‚ã€‚\n2. **çµæ´»æ€§ä¼˜å…ˆ**ï¼šç›´æ¥ç”¨ Axios å¯ä»¥æ›´çµæ´»åœ°å¤„ç†ç‰¹æ®Šåœºæ™¯ï¼Œä¸ä¼šè¢«å°è£…å±‚é™åˆ¶ã€‚\n3. **ç”Ÿæ€ä¸°å¯Œ**ï¼šAxios æœ‰å¾ˆå¤šæ’ä»¶ï¼ˆæ¯”å¦‚ `axios-retry`ï¼‰ï¼Œç›´æ¥ç”¨ç°æˆçš„ä¸æ˜¯æ›´çœäº‹ï¼Ÿ\n\nè¿™äº›è§‚ç‚¹ä¹Ÿæœ‰é“ç†ï¼Œå°¤å…¶æ˜¯å¯¹å°å‹é¡¹ç›®æˆ–ä¸ªäººå¼€å‘è€…æ¥è¯´ï¼Œç›´æ¥ç”¨ Axios ç¡®å®èƒ½çœä¸å°‘éº»çƒ¦ã€‚ä½†å¯¹ä¸­å¤§å‹é¡¹ç›®ï¼Œé‡å¤ä»£ç å’Œç»´æŠ¤æˆæœ¬ä¼šé€æ¸æš´éœ²é—®é¢˜ï¼Œå°è£…çš„ä»·å€¼æ‰ä¼šæ˜¾ç°ã€‚\n\n*ğŸ“Œ å° tipsï¼šå¦‚æœä½ å†³å®šä¸å°è£…ï¼Œè‡³å°‘å†™ä¸ªå·¥å…·å‡½æ•°æ¥å¤„ç†å¸¸è§çš„é”™è¯¯é€»è¾‘ï¼Œæ¯”å¦‚ç»Ÿä¸€çš„ 401 è·³è½¬ï¼Œçœå¾—æ¯ä¸ªè¯·æ±‚éƒ½å†™ä¸€éã€‚*\n\n---\n\n## æ€»ç»“ï¼šå°è£…çš„è‰ºæœ¯ ğŸ¨\n\nAxios äºŒæ¬¡å°è£…å¹¶ä¸æ˜¯â€œå¿…é¡»çš„â€ï¼Œä½†åœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œå®ƒèƒ½è®©ä½ çš„ä»£ç æ›´ä¼˜é›…ã€æ›´æ˜“ç»´æŠ¤ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯**æŠ½è±¡**å’Œ**å¤ç”¨**ï¼Œé€šè¿‡æ‹¦æˆªå™¨ã€å®ä¾‹åŒ–ç­‰æœºåˆ¶ï¼ŒæŠŠé‡å¤çš„é€»è¾‘æŠ½å–å‡ºæ¥ï¼Œè®©ä¸šåŠ¡ä»£ç æ›´èšç„¦ã€‚é€šè¿‡æœ¬æ–‡çš„åˆ†æå’Œç¤ºä¾‹ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹å°è£…çš„åŸç†ã€åœºæ™¯å’Œå®è·µæœ‰äº†å…¨é¢çš„äº†è§£ã€‚\n\næœ€åï¼Œæˆ‘æƒ³è¯´ï¼Œå°è£…å°±åƒæ³¡èŒ¶ ğŸµã€‚ç›´æ¥ç”¨ Axios æ˜¯æŠŠèŒ¶å¶ä¸¢è¿›æ°´é‡Œï¼Œç®€å•ç²—æš´ï¼›äºŒæ¬¡å°è£…åˆ™æ˜¯é€‰ä¸ªå¥½èŒ¶å…·ï¼Œæ§åˆ¶æ°´æ¸©ï¼Œæ³¡å‡ºæ›´é¦™çš„èŒ¶ã€‚é€‰å“ªç§æ–¹å¼ï¼Œå–å†³äºä½ çš„æ—¶é—´ã€éœ€æ±‚å’Œå¯¹â€œå‘³é“â€çš„è¿½æ±‚ã€‚\n\nå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ç»™ä½ ä¸€äº›å¯å‘ï¼å¦‚æœæœ‰å…¶ä»–å…³äº Axios æˆ–å‰ç«¯å¼€å‘çš„ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºï¼ğŸ˜„\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),B=(l,e)=>{for(var r in e)c(l,r,{get:e[r],enumerable:!0})},o=(l,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(l,a)&&a!==r&&c(l,a,{get:()=>e[a],enumerable:!(s=E(e,a))||s.enumerable});return l};var f=(l,e,r)=>(r=l!=null?p(F(l)):{},o(e||!l||!l.__esModule?c(r,\"default\",{value:l,enumerable:!0}):r,l)),m=l=>o(c({},\"__esModule\",{value:!0}),l);var d=u((b,i)=>{i.exports=_jsx_runtime});var A={};B(A,{default:()=>h,frontmatter:()=>x});var n=f(d()),x={type:\"Post\",title:\"Axios \\u771F\\u7684\\u6709\\u5FC5\\u8981\\u4E8C\\u6B21\\u5C01\\u88C5\\u5417\\uFF1F\\u{1F680}\",date:\"2023-01-22\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u662F\\u5426\\u9700\\u8981\\u5BF9 Axios \\u8FDB\\u884C\\u4E8C\\u6B21\\u5C01\\u88C5\\uFF0C\\u5206\\u6790\\u5176\\u539F\\u7406\\u3001\\u4F18\\u7F3A\\u70B9\\u3001\\u5E38\\u89C1\\u573A\\u666F\\uFF0C\\u5E76\\u63D0\\u4F9B\\u5B9E\\u7528\\u6848\\u4F8B\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\",keywords:\"Axios, \\u4E8C\\u6B21\\u5C01\\u88C5, \\u524D\\u7AEF\\u5F00\\u53D1, HTTP \\u8BF7\\u6C42, JavaScript, API \\u8C03\\u7528, \\u8BF7\\u6C42\\u62E6\\u622A, \\u9519\\u8BEF\\u5904\\u7406\",author:\"\\u6653\\u9F99\",image:\"/images/hero/axios-encapsulation.jpg\",tags:[\"Axios\",\"JavaScript\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"HTTP\"],category:\"Network\"};function t(l){let e={a:\"a\",blockquote:\"blockquote\",br:\"br\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u6211\\u4EEC\\u6BCF\\u5929\\u90FD\\u5728\\u548C API \\u6253\\u4EA4\\u9053\\uFF0C\\u800C \",(0,n.jsx)(e.a,{href:\"https://axios-http.com/\",children:\"Axios\"}),\" \\u51E0\\u4E4E\\u6210\\u4E86 HTTP \\u8BF7\\u6C42\\u7684\\u201C\\u56FD\\u6C11\\u7EA7\\u201D\\u5DE5\\u5177\\u3002\\u5B83\\u7B80\\u5355\\u3001\\u4F18\\u96C5\\u3001\\u529F\\u80FD\\u5F3A\\u5927\\uFF0C\\u652F\\u6301\\u62E6\\u622A\\u5668\\u3001\\u53D6\\u6D88\\u8BF7\\u6C42\\u3001\\u81EA\\u52A8\\u5E8F\\u5217\\u5316 JSON\\u2026\\u2026\\u7B80\\u76F4\\u662F\\u5F00\\u53D1\\u8005\\u7684\\u597D\\u4F19\\u4F34\\u3002\\u7136\\u800C\\uFF0C\\u5728\\u9879\\u76EE\\u4E2D\\uFF0C\\u6211\\u4EEC\\u7ECF\\u5E38\\u542C\\u5230\\u4E00\\u79CD\\u58F0\\u97F3\\uFF1A\\u201C\\u76F4\\u63A5\\u7528 Axios \\u4E0D\\u9999\\u5417\\uFF1F\\u4E3A\\u4EC0\\u4E48\\u8981\\u4E8C\\u6B21\\u5C01\\u88C5\\uFF1F\\u{1F914}\\u201D \\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165\\u63A2\\u8BA8\\u8FD9\\u4E2A\\u8BDD\\u9898\\uFF0C\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u4ECE\\u4F18\\u7F3A\\u70B9\\u5230\\u573A\\u666F\\u5206\\u6790\\uFF0C\\u5E2E\\u4F60\\u641E\\u6E05\\u695A\\u2014\\u2014Axios \\u4E8C\\u6B21\\u5C01\\u88C5\\u5230\\u5E95\\u662F\\u4E0D\\u662F\\u201C\\u591A\\u6B64\\u4E00\\u4E3E\\u201D\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u6CE8\\uFF1A\\u672C\\u6587\\u9762\\u5411\\u6709\\u4E00\\u5B9A\\u524D\\u7AEF\\u7ECF\\u9A8C\\u7684\\u5F00\\u53D1\\u8005\\uFF0C\\u5C24\\u5176\\u662F\\u719F\\u6089 Axios \\u548C\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u6D41\\u7A0B\\u7684\\u4F60\\u3002\\u5982\\u679C\\u4F60\\u662F\\u4E2A\\u559C\\u6B22\\u201C\\u5077\\u61D2\\u201D\\u53C8\\u8FFD\\u6C42\\u4EE3\\u7801\\u4F18\\u96C5\\u7684\\u7A0B\\u5E8F\\u5458\\uFF0C\\u76F8\\u4FE1\\u8FD9\\u7BC7\\u4F1A\\u8BA9\\u4F60\\u6709\\u6240\\u6536\\u83B7\\uFF01\\u{1F609}\"}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u60F3\\u5230\\u4E8C\\u6B21\\u5C01\\u88C5\",children:(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u60F3\\u5230\\u4E8C\\u6B21\\u5C01\\u88C5\",children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u60F3\\u5230\\u4E8C\\u6B21\\u5C01\\u88C5\\uFF1F\\u{1F9D0}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u56DE\\u7B54\\u201C\\u8981\\u4E0D\\u8981\\u5C01\\u88C5\\u201D\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u641E\\u6E05\\u695A\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u6709\\u8FD9\\u79CD\\u9700\\u6C42\\u3002Axios \\u867D\\u7136\\u597D\\u7528\\uFF0C\\u4F46\\u5B83\\u6BD5\\u7ADF\\u662F\\u4E00\\u4E2A\\u901A\\u7528\\u7684 HTTP \\u5BA2\\u6237\\u7AEF\\u5E93\\uFF0C\\u8BBE\\u8BA1\\u521D\\u8877\\u662F\\u4E3A\\u4E86\\u6EE1\\u8DB3\\u5E7F\\u6CDB\\u573A\\u666F\\uFF0C\\u800C\\u4E0D\\u662F\\u67D0\\u4E2A\\u5177\\u4F53\\u9879\\u76EE\\u7684\\u201C\\u79C1\\u4EBA\\u8BA2\\u5236\\u201D\\u3002\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u80FD\\u4F1A\\u9047\\u5230\\u4EE5\\u4E0B\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u91CD\\u590D\\u914D\\u7F6E\"}),\"\\uFF1A\\u6BCF\\u6B21\\u8BF7\\u6C42\\u90FD\\u8981\\u8BBE\\u7F6E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"baseURL\"})})})}),\"\\u3001\\u8D85\\u65F6\\u65F6\\u95F4\\u3001\\u8BF7\\u6C42\\u5934\\uFF0C\\u4EE3\\u7801\\u91CC\\u6EE1\\u662F\\u91CD\\u590D\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"axios.get('/api/xxx', { headers: {...} })\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\"}),\"\\uFF1A\\u540E\\u7AEF\\u8FD4\\u56DE\\u7684\\u9519\\u8BEF\\u7801\\u4E94\\u82B1\\u516B\\u95E8\\uFF08\\u6BD4\\u5982 401 \\u672A\\u6388\\u6743\\u3001500 \\u670D\\u52A1\\u5668\\u9519\\u8BEF\\uFF09\\uFF0C\\u6BCF\\u6B21\\u90FD\\u8981\\u624B\\u52A8\\u5904\\u7406\\uFF0C\\u70E6\\u4E0D\\u80DC\\u70E6\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u54CD\\u5E94\\u6570\\u636E\\u683C\\u5F0F\\u4E0D\\u7EDF\\u4E00\"}),\"\\uFF1A\\u6709\\u7684\\u63A5\\u53E3\\u8FD4\\u56DE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"{ data: {...}, code: 0 }\"})})})}),\"\\uFF0C\\u6709\\u7684\\u8FD4\\u56DE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"{ result: {...}, status: 'success' }\"})})})}),\"\\uFF0C\\u524D\\u7AEF\\u9700\\u8981\\u9891\\u7E41\\u9002\\u914D\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E1A\\u52A1\\u903B\\u8F91\\u8026\\u5408\"}),\"\\uFF1A\\u6BD4\\u5982 token \\u8FC7\\u671F\\u540E\\u8DF3\\u8F6C\\u767B\\u5F55\\u9875\\uFF0C\\u8FD9\\u79CD\\u903B\\u8F91\\u6563\\u843D\\u5728\\u6BCF\\u4E2A\\u8BF7\\u6C42\\u91CC\\uFF0C\\u7EF4\\u62A4\\u8D77\\u6765\\u7B80\\u76F4\\u662F\\u5669\\u68A6\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u73AF\\u5883\\u5207\\u6362\"}),\"\\uFF1A\\u5F00\\u53D1\\u73AF\\u5883\\u3001\\u6D4B\\u8BD5\\u73AF\\u5883\\u3001\\u751F\\u4EA7\\u73AF\\u5883\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"baseURL\"})})})}),\" \\u4E0D\\u540C\\uFF0C\\u624B\\u52A8\\u5207\\u6362\\u5BB9\\u6613\\u51FA\\u9519\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4E9B\\u95EE\\u9898\\u5C31\\u50CF\\u53A8\\u623F\\u91CC\\u7684\\u4E00\\u5806\\u6742\\u4E71\\u98DF\\u6750 \\u{1F345}\\u{1F955}\\u{1F954}\\uFF0CAxios \\u662F\\u628A\\u597D\\u5200\\uFF0C\\u4F46\\u5149\\u6709\\u5200\\u8FD8\\u4E0D\\u884C\\uFF0C\\u4F60\\u5F97\\u6709\\u4E2A\\u201C\\u98DF\\u8C31\\u201D\\u6765\\u8BA9\\u70F9\\u996A\\u66F4\\u7701\\u5FC3\\u3002\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u672C\\u8D28\\uFF0C\\u5C31\\u662F\\u628A\\u8FD9\\u4E9B\\u91CD\\u590D\\u3001\\u7E41\\u7410\\u7684\\u5DE5\\u4F5C\\u62BD\\u8C61\\u6210\\u4E00\\u4E2A\\u66F4\\u8D34\\u5408\\u9879\\u76EE\\u9700\\u6C42\\u7684\\u5DE5\\u5177\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u601D\\u8003\\u662F\\u5426\\u9700\\u8981\\u5C01\\u88C5\\u65F6\\uFF0C\\u5148\\u95EE\\u95EE\\u81EA\\u5DF1\\uFF1A\\u6211\\u7684\\u9879\\u76EE\\u4E2D\\u6709\\u591A\\u5C11\\u91CD\\u590D\\u7684\\u8BF7\\u6C42\\u903B\\u8F91\\uFF1F\\u5982\\u679C\\u8D85\\u8FC7 3 \\u5904\\uFF0C\\u5C01\\u88C5\\u53EF\\u80FD\\u5C31\\u503C\\u5F97\\u8003\\u8651\\u4E86\\u3002\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u6838\\u5FC3\\u539F\\u7406-\",children:(0,n.jsx)(e.a,{href:\"#\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u6838\\u5FC3\\u539F\\u7406-\",children:\"\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u6838\\u5FC3\\u539F\\u7406 \\u{1F50D}\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8981\\u641E\\u6E05\\u695A\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u610F\\u4E49\\uFF0C\\u6211\\u4EEC\\u5F97\\u5148\\u4ECE Axios \\u7684\\u6838\\u5FC3\\u673A\\u5236\\u8BF4\\u8D77\\u3002Axios \\u7684\\u5F3A\\u5927\\u79BB\\u4E0D\\u5F00\\u5B83\\u7684\",(0,n.jsx)(e.strong,{children:\"\\u62E6\\u622A\\u5668\"}),\"\\uFF08Interceptors\\uFF09\\u548C\",(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u4F8B\\u5316\"}),\"\\uFF08Instance\\uFF09\\u8BBE\\u8BA1\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u62E6\\u622A\\u5668\\u8BF7\\u6C42\\u4E0E\\u54CD\\u5E94\\u7684\\u95E8\\u536B-\",children:(0,n.jsx)(e.a,{href:\"#1-\\u62E6\\u622A\\u5668\\u8BF7\\u6C42\\u4E0E\\u54CD\\u5E94\\u7684\\u95E8\\u536B-\",children:\"1. \\u62E6\\u622A\\u5668\\uFF1A\\u8BF7\\u6C42\\u4E0E\\u54CD\\u5E94\\u7684\\u201C\\u95E8\\u536B\\u201D \\u{1F6A8}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Axios \\u7684\\u62E6\\u622A\\u5668\\u5141\\u8BB8\\u6211\\u4EEC\\u5728\\u8BF7\\u6C42\\u53D1\\u51FA\\u524D\\u6216\\u54CD\\u5E94\\u5230\\u8FBE\\u540E\\u63D2\\u5165\\u81EA\\u5B9A\\u4E49\\u903B\\u8F91\\u3002\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"axios.interceptors.request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"config\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  config.headers.Authorization \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `Bearer ${\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getToken\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" config;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"axios.interceptors.response.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  response\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response,\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  error\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error.response.status \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 401\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      window.location.href \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '/login'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u62E6\\u622A\\u5668\\u5C31\\u50CF\\u662F\\u8BF7\\u6C42\\u548C\\u54CD\\u5E94\\u7684\\u201C\\u95E8\\u536B\\u201D\\uFF0C\\u53EF\\u4EE5\\u7EDF\\u4E00\\u5904\\u7406 token \\u6DFB\\u52A0\\u3001\\u9519\\u8BEF\\u8DF3\\u8F6C\\u7B49\\u903B\\u8F91\\u3002\\u4E8C\\u6B21\\u5C01\\u88C5\\u901A\\u5E38\\u4F1A\\u57FA\\u4E8E\\u62E6\\u622A\\u5668\\uFF0C\\u628A\\u8FD9\\u4E9B\\u901A\\u7528\\u903B\\u8F91\\u56FA\\u5316\\u4E0B\\u6765\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u5B9E\\u4F8B\\u5316\\u5B9A\\u5236\\u4F60\\u7684\\u4E13\\u5C5E-axios-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#2-\\u5B9E\\u4F8B\\u5316\\u5B9A\\u5236\\u4F60\\u7684\\u4E13\\u5C5E-axios-\\uFE0F\",children:\"2. \\u5B9E\\u4F8B\\u5316\\uFF1A\\u5B9A\\u5236\\u4F60\\u7684\\u4E13\\u5C5E Axios \\u{1F6E0}\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Axios \\u652F\\u6301\\u521B\\u5EFA\\u5B9E\\u4F8B\\uFF0C\\u5141\\u8BB8\\u6211\\u4EEC\\u9884\\u8BBE\\u4E00\\u4E9B\\u914D\\u7F6E\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" instance\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"create\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  baseURL: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  timeout: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"5000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  headers: { \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'X-Custom-Header'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'foobar'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u5B9E\\u4F8B\\u5316\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u4E3A\\u4E0D\\u540C\\u573A\\u666F\\u521B\\u5EFA\\u591A\\u4E2A Axios \\u5B9E\\u4F8B\\uFF0C\\u6BD4\\u5982\\u4E00\\u4E2A\\u7528\\u4E8E\\u8C03\\u7528\\u5185\\u90E8 API\\uFF0C\\u4E00\\u4E2A\\u7528\\u4E8E\\u8C03\\u7528\\u7B2C\\u4E09\\u65B9\\u670D\\u52A1\\u3002\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u6838\\u5FC3\\uFF0C\\u5F80\\u5F80\\u662F\\u57FA\\u4E8E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"axios.create\"})})})}),\" \\u6253\\u9020\\u4E00\\u4E2A\\u5B9A\\u5236\\u5316\\u7684\\u5B9E\\u4F8B\\uFF0C\\u518D\\u642D\\u914D\\u62E6\\u622A\\u5668\\u548C\\u4E00\\u4E9B\\u8F85\\u52A9\\u65B9\\u6CD5\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5C01\\u88C5\\u7684\\u672C\\u8D28\\u62BD\\u8C61\\u4E0E\\u590D\\u7528-\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5C01\\u88C5\\u7684\\u672C\\u8D28\\u62BD\\u8C61\\u4E0E\\u590D\\u7528-\",children:\"3. \\u5C01\\u88C5\\u7684\\u672C\\u8D28\\uFF1A\\u62BD\\u8C61\\u4E0E\\u590D\\u7528 \\u{1F4E6}\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u672C\\u8D28\\u662F\",(0,n.jsx)(e.strong,{children:\"\\u62BD\\u8C61\"}),\"\\u548C\",(0,n.jsx)(e.strong,{children:\"\\u590D\\u7528\"}),\"\\u3002\\u5B83\\u628A\\u5206\\u6563\\u5728\\u9879\\u76EE\\u4E2D\\u7684\\u8BF7\\u6C42\\u903B\\u8F91\\u96C6\\u4E2D\\u5230\\u4E00\\u4E2A\\u6A21\\u5757\\uFF0C\\u51CF\\u5C11\\u91CD\\u590D\\u4EE3\\u7801\\uFF0C\\u63D0\\u9AD8\\u53EF\\u7EF4\\u62A4\\u6027\\u3002\\u5C31\\u50CF\\u4F60\\u4E0D\\u4F1A\\u6BCF\\u6B21\\u7092\\u83DC\\u90FD\\u4ECE\\u96F6\\u5F00\\u59CB\\u78E8\\u5200\\u3001\\u6D17\\u9505\\uFF0C\\u5C01\\u88C5\\u5C31\\u662F\\u5E2E\\u4F60\\u628A\\u201C\\u524D\\u7F6E\\u5DE5\\u4F5C\\u201D\\u51C6\\u5907\\u597D\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u5C01\\u88C5\\u65F6\\uFF0C\\u4F18\\u5148\\u8003\\u8651\\u9879\\u76EE\\u4E2D\\u6700\\u5E38\\u89C1\\u7684\\u8BF7\\u6C42\\u573A\\u666F\\uFF0C\\u6BD4\\u5982 80% \\u7684\\u63A5\\u53E3\\u90FD\\u9700\\u8981 token\\uFF0C\\u90A3\\u5C31\\u628A token \\u5904\\u7406\\u903B\\u8F91\\u653E\\u8FDB\\u62E6\\u622A\\u5668\\uFF0C\\u800C\\u4E0D\\u662F\\u5199\\u5728\\u6BCF\\u4E2A\\u8BF7\\u6C42\\u91CC\\u3002\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u4F18\\u7F3A\\u70B9-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u4F18\\u7F3A\\u70B9-\\uFE0F\",children:\"\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u4F18\\u7F3A\\u70B9 \\u2696\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4EFB\\u4F55\\u6280\\u672F\\u51B3\\u7B56\\u90FD\\u6709\\u4E24\\u9762\\u6027\\uFF0C\\u4E8C\\u6B21\\u5C01\\u88C5\\u4E5F\\u4E0D\\u4F8B\\u5916\\u3002\\u8BA9\\u6211\\u4EEC\\u6765\\u63B0\\u626F\\u63B0\\u626F\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4F18\\u70B9\\u4E3A\\u4EC0\\u4E48\\u503C\\u5F97\\u4E00\\u8BD5\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u70B9\\u4E3A\\u4EC0\\u4E48\\u503C\\u5F97\\u4E00\\u8BD5\",children:\"\\u4F18\\u70B9\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u503C\\u5F97\\u4E00\\u8BD5\\uFF1F\\u{1F60D}\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u51CF\\u5C11\\u91CD\\u590D\\u4EE3\\u7801\"}),\"\\uFF1A\\u7EDF\\u4E00\\u914D\\u7F6E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"baseURL\"})})})}),\"\\u3001\\u8D85\\u65F6\\u65F6\\u95F4\\u3001\\u8BF7\\u6C42\\u5934\\uFF0C\\u4EE3\\u7801\\u66F4\\u7B80\\u6D01\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7EDF\\u4E00\\u9519\\u8BEF\\u5904\\u7406\"}),\"\\uFF1A\\u628A 401\\u3001500 \\u7B49\\u9519\\u8BEF\\u96C6\\u4E2D\\u5904\\u7406\\uFF0C\\u51CF\\u5C11 try-catch \\u7684\\u4F7F\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u89C4\\u8303\\u5316\\u54CD\\u5E94\\u6570\\u636E\"}),\"\\uFF1A\\u4E0D\\u7BA1\\u540E\\u7AEF\\u8FD4\\u56DE\\u4EC0\\u4E48\\u683C\\u5F0F\\uFF0C\\u524D\\u7AEF\\u90FD\\u80FD\\u62FF\\u5230\\u7EDF\\u4E00\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"{ data, code, message }\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E1A\\u52A1\\u903B\\u8F91\\u89E3\\u8026\"}),\"\\uFF1Atoken \\u5237\\u65B0\\u3001\\u73AF\\u5883\\u5207\\u6362\\u7B49\\u903B\\u8F91\\u96C6\\u4E2D\\u5728\\u5C01\\u88C5\\u5C42\\uFF0C\\u4E1A\\u52A1\\u4EE3\\u7801\\u66F4\\u7EAF\\u7CB9\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6613\\u4E8E\\u7EF4\\u62A4\\u548C\\u6269\\u5C55\"}),\"\\uFF1A\\u63A5\\u53E3\\u57DF\\u540D\\u53D8\\u4E86\\uFF1F\\u6539\\u4E00\\u5904\\u5C31\\u884C\\uFF0C\\u4E0D\\u7528\\u7FFB\\u904D\\u6574\\u4E2A\\u9879\\u76EE\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7F3A\\u70B9\\u5C01\\u88C5\\u7684\\u5751\\u5728\\u54EA\\u91CC\",children:(0,n.jsx)(e.a,{href:\"#\\u7F3A\\u70B9\\u5C01\\u88C5\\u7684\\u5751\\u5728\\u54EA\\u91CC\",children:\"\\u7F3A\\u70B9\\uFF1A\\u5C01\\u88C5\\u7684\\u201C\\u5751\\u201D\\u5728\\u54EA\\u91CC\\uFF1F\\u{1F613}\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B66\\u4E60\\u6210\\u672C\"}),\"\\uFF1A\\u56E2\\u961F\\u65B0\\u4EBA\\u9700\\u8981\\u7406\\u89E3\\u5C01\\u88C5\\u7684\\u903B\\u8F91\\uFF0C\\u53EF\\u80FD\\u4E00\\u5F00\\u59CB\\u4F1A\\u61F5\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FC7\\u5EA6\\u5C01\\u88C5\\u7684\\u98CE\\u9669\"}),\"\\uFF1A\\u5982\\u679C\\u5C01\\u88C5\\u5F97\\u592A\\u590D\\u6742\\uFF0C\\u53EF\\u80FD\\u9002\\u5F97\\u5176\\u53CD\\uFF0C\\u7EF4\\u62A4\\u6210\\u672C\\u4E0A\\u5347\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7075\\u6D3B\\u6027\\u4E0B\\u964D\"}),\"\\uFF1A\\u5C01\\u88C5\\u662F\\u4E3A\\u4E86\\u7EDF\\u4E00\\uFF0C\\u4F46\\u6709\\u4E9B\\u7279\\u6B8A\\u63A5\\u53E3\\u53EF\\u80FD\\u9700\\u8981\\u7ED5\\u8FC7\\u5C01\\u88C5\\u5C42\\uFF0C\\u4EE3\\u7801\\u53EF\\u80FD\\u4F1A\\u663E\\u5F97\\u522B\\u626D\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u5F00\\u9500\"}),\"\\uFF1A\\u62E6\\u622A\\u5668\\u548C\\u989D\\u5916\\u903B\\u8F91\\u53EF\\u80FD\\u4F1A\\u5F15\\u5165\\u5FAE\\u5C0F\\u7684\\u6027\\u80FD\\u635F\\u8017\\uFF08\\u4E0D\\u8FC7\\u901A\\u5E38\\u53EF\\u4EE5\\u5FFD\\u7565\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF0C\\u4E8C\\u6B21\\u5C01\\u88C5\\u5C31\\u50CF\\u7ED9\\u4F60\\u7684\\u8DD1\\u8F66\\u52A0\\u4E86\\u4E2A\\u81EA\\u52A8\\u9A7E\\u9A76\\u7CFB\\u7EDF \\u{1F697}\\u3002\\u5B83\\u80FD\\u8BA9\\u4F60\\u8F7B\\u677E\\u5DE1\\u822A\\uFF0C\\u4F46\\u5982\\u679C\\u9047\\u5230\\u590D\\u6742\\u8DEF\\u51B5\\uFF0C\\u53EF\\u80FD\\u8FD8\\u5F97\\u5207\\u56DE\\u624B\\u52A8\\u6A21\\u5F0F\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u5C01\\u88C5\\u65F6\\u522B\\u8D2A\\u591A\\uFF0C\\u4F18\\u5148\\u89E3\\u51B3\\u9879\\u76EE\\u4E2D\\u6700\\u75DB\\u7684\\u70B9\\uFF0C\\u6BD4\\u5982\\u9519\\u8BEF\\u5904\\u7406\\u6216 token \\u7BA1\\u7406\\u3002\\u522B\\u4E00\\u4E0A\\u6765\\u5C31\\u60F3\\u628A\\u6240\\u6709\\u573A\\u666F\\u90FD\\u8986\\u76D6\\uFF0C\\u5BB9\\u6613\\u628A\\u81EA\\u5DF1\\u7ED5\\u6655\\u3002\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5E38\\u89C1\\u7684\\u5C01\\u88C5\\u573A\\u666F\\u4E0E\\u5B9E\\u73B0-\",children:(0,n.jsx)(e.a,{href:\"#\\u5E38\\u89C1\\u7684\\u5C01\\u88C5\\u573A\\u666F\\u4E0E\\u5B9E\\u73B0-\",children:\"\\u5E38\\u89C1\\u7684\\u5C01\\u88C5\\u573A\\u666F\\u4E0E\\u5B9E\\u73B0 \\u{1F31F}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u6765\\u770B\\u770B\\u4E8C\\u6B21\\u5C01\\u88C5\\u7684\\u51E0\\u79CD\\u5E38\\u89C1\\u573A\\u666F\\uFF0C\\u4EE5\\u53CA\\u5982\\u4F55\\u5B9E\\u73B0\\u5B83\\u4EEC\\u3002\\u6BCF\\u4E2A\\u573A\\u666F\\u90FD\\u4F1A\\u9644\\u4E0A\\u4EE3\\u7801\\u793A\\u4F8B\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u529B\\u6C42\\u8BA9\\u4F60\\u62FF\\u6765\\u5C31\\u80FD\\u7528\\uFF01\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u573A\\u666F-1\\u7EDF\\u4E00\\u914D\\u7F6E\\u4E0E\\u62E6\\u622A\\u5668-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#\\u573A\\u666F-1\\u7EDF\\u4E00\\u914D\\u7F6E\\u4E0E\\u62E6\\u622A\\u5668-\\uFE0F\",children:\"\\u573A\\u666F 1\\uFF1A\\u7EDF\\u4E00\\u914D\\u7F6E\\u4E0E\\u62E6\\u622A\\u5668 \\u{1F6E0}\\uFE0F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6700\\u57FA\\u7840\\u7684\\u5C01\\u88C5\\u9700\\u6C42\\u662F\\u7EDF\\u4E00\\u914D\\u7F6E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"baseURL\"})})})}),\"\\u3001\\u8D85\\u65F6\\u65F6\\u95F4\\uFF0C\\u5E76\\u901A\\u8FC7\\u62E6\\u622A\\u5668\\u6DFB\\u52A0 token \\u6216\\u5904\\u7406\\u9519\\u8BEF\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// src/utils/request.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" axios \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'axios'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" instance\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"create\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  baseURL: process.env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"REACT_APP_API_URL\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ||\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'https://api.example.com'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  timeout: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  headers: {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"    'Content-Type'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'application/json'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8BF7\\u6C42\\u62E6\\u622A\\u5668\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"instance.interceptors.request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  config\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" token\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'token'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (token) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      config.headers.Authorization \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `Bearer ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"token\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" config;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  error\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error)\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u54CD\\u5E94\\u62E6\\u622A\\u5668\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"instance.interceptors.response.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  response\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u5047\\u8BBE\\u540E\\u7AEF\\u8FD4\\u56DE\\u683C\\u5F0F\\u4E3A { code, data, message }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"code\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"message\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.data;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (code \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u4E1A\\u52A1\\u9519\\u8BEF\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(message \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '\\u8BF7\\u6C42\\u5931\\u8D25'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u53EA\\u8FD4\\u56DE data \\u90E8\\u5206\\uFF0C\\u7B80\\u5316\\u8C03\\u7528\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  error\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error.response?.status \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 401\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u672A\\u6388\\u6743\\uFF0C\\u8DF3\\u8F6C\\u767B\\u5F55\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      window.location.href \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '/login'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" instance;\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u65B9\\u5F0F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// src/api/user.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" request \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '../utils/request'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getUserInfo\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/user/info'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6548\\u679C\"}),\"\\uFF1A\\u6240\\u6709\\u8BF7\\u6C42\\u90FD\\u81EA\\u52A8\\u5E26\\u4E0A token\\uFF0C\\u54CD\\u5E94\\u6570\\u636E\\u88AB\\u7EDF\\u4E00\\u5904\\u7406\\uFF0C\\u8C03\\u7528\\u8005\\u53EA\\u9700\\u8981\\u5173\\u5FC3\\u4E1A\\u52A1\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u62E6\\u622A\\u5668\\u4E2D\\u5C3D\\u91CF\\u907F\\u514D\\u590D\\u6742\\u7684\\u903B\\u8F91\\uFF0C\\u6BD4\\u5982\\u4E0D\\u8981\\u5728\\u8BF7\\u6C42\\u62E6\\u622A\\u5668\\u91CC\\u505A\\u8017\\u65F6\\u64CD\\u4F5C\\uFF08\\u5982\\u5F02\\u6B65\\u83B7\\u53D6 token\\uFF09\\uFF0C\\u5426\\u5219\\u4F1A\\u62D6\\u6162\\u8BF7\\u6C42\\u3002\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u573A\\u666F-2\\u89C4\\u8303\\u5316\\u54CD\\u5E94\\u6570\\u636E-\",children:(0,n.jsx)(e.a,{href:\"#\\u573A\\u666F-2\\u89C4\\u8303\\u5316\\u54CD\\u5E94\\u6570\\u636E-\",children:\"\\u573A\\u666F 2\\uFF1A\\u89C4\\u8303\\u5316\\u54CD\\u5E94\\u6570\\u636E \\u{1F4CB}\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u540E\\u7AEF\\u63A5\\u53E3\\u7684\\u54CD\\u5E94\\u683C\\u5F0F\\u5F80\\u5F80\\u4E94\\u82B1\\u516B\\u95E8\\uFF0C\\u524D\\u7AEF\\u9700\\u8981\\u9891\\u7E41\\u9002\\u914D\\u3002\\u5C01\\u88C5\\u65F6\\u53EF\\u4EE5\\u7EDF\\u4E00\\u54CD\\u5E94\\u683C\\u5F0F\\uFF0C\\u6BD4\\u5982\\u628A\\u6240\\u6709\\u54CD\\u5E94\\u90FD\\u8F6C\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"{ data, code, message }\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// src/utils/request.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"instance.interceptors.response.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  response\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u5047\\u8BBE\\u540E\\u7AEF\\u53EF\\u80FD\\u8FD4\\u56DE\\u591A\\u79CD\\u683C\\u5F0F\\uFF0C\\u7EDF\\u4E00\\u8F6C\\u4E3A\\u6807\\u51C6\\u7ED3\\u6784\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"typeof\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'object'\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'code'\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" in\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        code: data.code,\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        data: data.data \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data.result,\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        message: data.message \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6CA1\\u6709 code \\u7684\\u63A5\\u53E3\\uFF0C\\u76F4\\u63A5\\u8FD4\\u56DE\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { code: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data, message: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6210\\u529F'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  error\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      code: error.response?.status \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" -\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      data: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      message: error.message \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '\\u7F51\\u7EDC\\u9519\\u8BEF'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u65B9\\u5F0F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"try\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getUserInfo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(res); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// { code: 0, data: {...}, message: '\\u6210\\u529F' }\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(err); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// { code: 401, data: null, message: '\\u672A\\u6388\\u6743' }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6548\\u679C\"}),\"\\uFF1A\\u4E0D\\u7BA1\\u540E\\u7AEF\\u8FD4\\u56DE\\u4EC0\\u4E48\\u683C\\u5F0F\\uFF0C\\u524D\\u7AEF\\u62FF\\u5230\\u7684\\u90FD\\u662F\\u7EDF\\u4E00\\u7684\\u7ED3\\u6784\\uFF0C\\u51CF\\u5C11\\u9002\\u914D\\u6210\\u672C\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u548C\\u540E\\u7AEF\\u7EA6\\u5B9A\\u597D\\u63A5\\u53E3\\u89C4\\u8303\\u662F\\u738B\\u9053\\u3002\\u5982\\u679C\\u540E\\u7AEF\\u683C\\u5F0F\\u592A\\u4E71\\uFF0C\\u5EFA\\u8BAE\\u5728\\u5C01\\u88C5\\u5C42\\u52A0\\u4E2A\\u6620\\u5C04\\u8868\\uFF0C\\u628A\\u5E38\\u89C1\\u683C\\u5F0F\\u90FD\\u8F6C\\u4E3A\\u6807\\u51C6\\u7ED3\\u6784\\u3002\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u573A\\u666F-3\\u81EA\\u52A8-token-\\u5237\\u65B0-\",children:(0,n.jsx)(e.a,{href:\"#\\u573A\\u666F-3\\u81EA\\u52A8-token-\\u5237\\u65B0-\",children:\"\\u573A\\u666F 3\\uFF1A\\u81EA\\u52A8 token \\u5237\\u65B0 \\u{1F504}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"token \\u8FC7\\u671F\\u662F\\u5E38\\u89C1\\u95EE\\u9898\\uFF0C\\u4F20\\u7EDF\\u7684\\u505A\\u6CD5\\u662F\\u5728 401 \\u65F6\\u8DF3\\u8F6C\\u767B\\u5F55\\uFF0C\\u4F46\\u66F4\\u597D\\u7684\\u65B9\\u5F0F\\u662F\\u81EA\\u52A8\\u5237\\u65B0 token\\u3002\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// src/utils/request.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" isRefreshing \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" failedQueue \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" processQueue\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"token\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  failedQueue.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prom\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      prom.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      prom.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(token);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  failedQueue \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"instance.interceptors.response.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  response\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response,\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" error\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"config\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"response\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" error;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (response?.status \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 401\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"config._retry) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (isRefreshing) {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u5DF2\\u7ECF\\u5728\\u5237\\u65B0 token\\uFF0C\\u52A0\\u5165\\u961F\\u5217\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          failedQueue.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ resolve, reject });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        })\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"token\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            config.headers.Authorization \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `Bearer ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"token\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            return\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" instance\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(config);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          })\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(err));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      config._retry \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      isRefreshing \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      try\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u5047\\u8BBE\\u6709 refreshToken \\u63A5\\u53E3\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/auth/refresh'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          refreshToken: localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'refreshToken'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" newToken\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data.token;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'token'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", newToken);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u66F4\\u65B0\\u6240\\u6709\\u6392\\u961F\\u8BF7\\u6C42\\u7684 token\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        processQueue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", newToken);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        config.headers.Authorization \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `Bearer ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"newToken\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" instance\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(config);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        processQueue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(err, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        window.location.href \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '/login'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(err);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"finally\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        isRefreshing \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6548\\u679C\"}),\"\\uFF1Atoken \\u8FC7\\u671F\\u65F6\\uFF0C\\u81EA\\u52A8\\u5237\\u65B0\\u5E76\\u91CD\\u8BD5\\u5931\\u8D25\\u7684\\u8BF7\\u6C42\\uFF0C\\u7528\\u6237\\u51E0\\u4E4E\\u65E0\\u611F\\u77E5\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u5237\\u65B0 token \\u65F6\\uFF0C\\u5EFA\\u8BAE\\u52A0\\u4E2A\\u6700\\u5927\\u91CD\\u8BD5\\u6B21\\u6570\\uFF08\\u6BD4\\u5982 3 \\u6B21\\uFF09\\uFF0C\\u907F\\u514D\\u65E0\\u9650\\u5FAA\\u73AF\\u8BF7\\u6C42\\u3002\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u573A\\u666F-4\\u652F\\u6301\\u591A\\u79CD\\u8BF7\\u6C42\\u65B9\\u6CD5-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#\\u573A\\u666F-4\\u652F\\u6301\\u591A\\u79CD\\u8BF7\\u6C42\\u65B9\\u6CD5-\\uFE0F\",children:\"\\u573A\\u666F 4\\uFF1A\\u652F\\u6301\\u591A\\u79CD\\u8BF7\\u6C42\\u65B9\\u6CD5 \\u{1F6E0}\\uFE0F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u4E86\\u8BA9\\u8C03\\u7528\\u66F4\\u7B80\\u6D01\\uFF0C\\u53EF\\u4EE5\\u5C01\\u88C5\\u5E38\\u7528\\u7684\\u8BF7\\u6C42\\u65B9\\u6CD5\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"get\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"post\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"put\"})})})}),\" \\u7B49\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// src/utils/request.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" http\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"params\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" instance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url, { params });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  post\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"config\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" instance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url, data, config);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  put\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" instance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"put\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url, data);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  delete\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"params\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" instance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"delete\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url, { params });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" http;\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u65B9\\u5F0F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// src/api/user.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" http \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '../utils/request'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getUserInfo\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" http.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/user/info'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" updateUser\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" http.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/user/update'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6548\\u679C\"}),\"\\uFF1A\\u8BF7\\u6C42\\u65B9\\u6CD5\\u66F4\\u7B80\\u6D01\\uFF0C\\u8C03\\u7528\\u8005\\u4E0D\\u9700\\u8981\\u5173\\u5FC3\\u5E95\\u5C42\\u5B9E\\u73B0\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u5C01\\u88C5\\u65B9\\u6CD5\\u65F6\\uFF0C\\u5C3D\\u91CF\\u4FDD\\u6301\\u53C2\\u6570\\u7B80\\u5355\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"get\"})})})}),\" \\u53EA\\u4F20 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"url\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"params\"})})})}),\"\\uFF0C\\u907F\\u514D\\u8BA9\\u8C03\\u7528\\u8005\\u8BB0\\u592A\\u591A\\u914D\\u7F6E\\u9879\\u3002\"]})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u5C01\\u88C5\\u66F4\\u4F18\\u96C5-\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u5C01\\u88C5\\u66F4\\u4F18\\u96C5-\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u5C01\\u88C5\\u66F4\\u4F18\\u96C5 \\u2728\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7ECF\\u8FC7\\u4E0A\\u9762\\u7684\\u5206\\u6790\\u548C\\u793A\\u4F8B\\uFF0C\\u76F8\\u4FE1\\u4F60\\u5DF2\\u7ECF\\u5BF9\\u4E8C\\u6B21\\u5C01\\u88C5\\u6709\\u4E86\\u66F4\\u6DF1\\u7684\\u7406\\u89E3\\u3002\\u4E0B\\u9762\\u662F\\u4E00\\u4E9B\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E2E\\u4F60\\u628A\\u5C01\\u88C5\\u505A\\u5F97\\u66F4\\u4E13\\u4E1A\\u3001\\u66F4\\u5B9E\\u7528\\u3002\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6A21\\u5757\\u5316\\u8BBE\\u8BA1\"}),\" \\u{1F4E6}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u628A\\u8BF7\\u6C42\\u903B\\u8F91\\u62C6\\u5206\\u6210\\u591A\\u4E2A\\u6A21\\u5757\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"request.js\"})})})}),\" \\u8D1F\\u8D23\\u6838\\u5FC3\\u5C01\\u88C5\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"api/user.js\"})})})}),\" \\u8D1F\\u8D23\\u5177\\u4F53\\u63A5\\u53E3\\u5B9A\\u4E49\\u3002\\u8FD9\\u6837\\u5373\\u4F7F\\u9879\\u76EE\\u5F88\\u5927\\uFF0C\\u7EF4\\u62A4\\u8D77\\u6765\\u4E5F\\u5F88\\u6E05\\u6670\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u7528 ESM \\u6A21\\u5757\\u5316\\u7EC4\\u7EC7\\u4EE3\\u7801\\uFF0C\\u65B9\\u4FBF tree-shaking\\uFF0C\\u51CF\\u5C11\\u6253\\u5305\\u4F53\\u79EF\\u3002\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u578B\\u5B89\\u5168\"}),\" \\u{1F6E1}\\uFE0F\",(0,n.jsx)(e.br,{}),`\n`,\"\\u5982\\u679C\\u7528 TypeScript\\uFF0C\\u5B9A\\u4E49\\u6E05\\u6670\\u7684\\u63A5\\u53E3\\u7C7B\\u578B\\uFF0C\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"interface\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ApiResponse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"T\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"> {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  code\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" number\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" T\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  message\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getUserInfo\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ApiResponse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"User\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">> \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" http.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/user/info'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u80FD\\u8BA9 IDE \\u63D0\\u793A\\u66F4\\u667A\\u80FD\\uFF0C\\u51CF\\u5C11\\u8FD0\\u884C\\u65F6\\u9519\\u8BEF\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u5C3D\\u91CF\\u4E3A\\u6BCF\\u4E2A\\u63A5\\u53E3\\u5B9A\\u4E49\\u5177\\u4F53\\u7684\\u8FD4\\u56DE\\u7C7B\\u578B\\uFF0C\\u800C\\u4E0D\\u662F\\u7528 any\\uFF0C\\u5426\\u5219 TS \\u7684\\u4F18\\u52BF\\u5C31\\u6D6A\\u8D39\\u4E86\\u3002\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u73AF\\u5883\\u5207\\u6362\"}),\" \\u{1F30D}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\u7BA1\\u7406 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"baseURL\"})})})}),\"\\uFF0C\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" baseURL\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  process.env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"NODE_ENV\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'production'\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    ?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'https://api.example.com'\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'https://dev-api.example.com'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.em,{children:[\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"dotenv\"})})})}),\" \\u7BA1\\u7406\\u73AF\\u5883\\u53D8\\u91CF\\uFF0C\\u5F00\\u53D1\\u65F6\\u66F4\\u7075\\u6D3B\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u63D0\\u793A\\u53CB\\u597D\"}),\" \\u{1F6A8}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u4E0D\\u8981\\u76F4\\u63A5\\u629B\\u51FA\\u539F\\u59CB\\u9519\\u8BEF\\uFF0C\\u800C\\u662F\\u8F6C\\u4E3A\\u7528\\u6237\\u53CB\\u597D\\u7684\\u63D0\\u793A\\u3002\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"instance.interceptors.response.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  response\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response,\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  error\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" message\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      error.response?.status \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 404\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        ?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '\\u8D44\\u6E90\\u4E0D\\u5B58\\u5728\\uFF0C\\u8BF7\\u7A0D\\u540E\\u518D\\u8BD5'\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '\\u7F51\\u7EDC\\u5F02\\u5E38\\uFF0C\\u8BF7\\u68C0\\u67E5\\u8FDE\\u63A5'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    alert\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(message); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6216\\u8005\\u7528 UI \\u5E93\\u7684 toast\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u9519\\u8BEF\\u63D0\\u793A\\u5C3D\\u91CF\\u5177\\u4F53\\uFF0C\\u6BD4\\u5982\\u533A\\u5206\\u201C\\u7F51\\u7EDC\\u65AD\\u5F00\\u201D\\u548C\\u201C\\u670D\\u52A1\\u5668\\u9519\\u8BEF\\u201D\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u4F1A\\u66F4\\u597D\\u3002\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u65E5\\u5FD7\\u8BB0\\u5F55\"}),\" \\u{1F4DC}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\uFF0C\\u8BB0\\u5F55\\u8BF7\\u6C42\\u65E5\\u5FD7\\uFF0C\\u65B9\\u4FBF\\u8C03\\u8BD5\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"instance.interceptors.request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"config\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (process.env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"NODE_ENV\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !==\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'production'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`[Request] ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"config\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"method\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toUpperCase\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"config\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"url\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", config);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" config;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u751F\\u4EA7\\u73AF\\u5883\\u4E00\\u5B9A\\u8981\\u5173\\u95ED\\u65E5\\u5FD7\\uFF0C\\u907F\\u514D\\u6CC4\\u9732\\u654F\\u611F\\u4FE1\\u606F\\u3002\"})}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u8981\\u4E0D\\u8981\\u5C01\\u88C5\\u6211\\u7684\\u5224\\u65AD\\u6807\\u51C6-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#\\u8981\\u4E0D\\u8981\\u5C01\\u88C5\\u6211\\u7684\\u5224\\u65AD\\u6807\\u51C6-\\uFE0F\",children:\"\\u8981\\u4E0D\\u8981\\u5C01\\u88C5\\uFF1F\\u6211\\u7684\\u5224\\u65AD\\u6807\\u51C6 \\u2696\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BF4\\u4E86\\u8FD9\\u4E48\\u591A\\uFF0C\\u5230\\u5E95\\u8981\\u4E0D\\u8981\\u4E8C\\u6B21\\u5C01\\u88C5\\uFF1F\\u6211\\u7684\\u5EFA\\u8BAE\\u662F\\u57FA\\u4E8E\\u4EE5\\u4E0B\\u6807\\u51C6\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9879\\u76EE\\u89C4\\u6A21\"}),\"\\uFF1A\\u5982\\u679C\\u662F\\u4E2A\\u5C0F\\u9879\\u76EE\\uFF0C\\u63A5\\u53E3\\u4E0D\\u591A\\uFF0C\\u76F4\\u63A5\\u7528 Axios \\u4E5F\\u6CA1\\u5565\\u95EE\\u9898\\u3002\\u4F46\\u5982\\u679C\\u9879\\u76EE\\u6709\\u51E0\\u5341\\u4E2A\\u63A5\\u53E3\\uFF0C\\u5C01\\u88C5\\u51E0\\u4E4E\\u662F\\u5FC5\\u987B\\u7684\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u56E2\\u961F\\u534F\\u4F5C\"}),\"\\uFF1A\\u56E2\\u961F\\u8D8A\\u5927\\uFF0C\\u8D8A\\u9700\\u8981\\u7EDF\\u4E00\\u7684\\u8BF7\\u6C42\\u89C4\\u8303\\uFF0C\\u5426\\u5219\\u6BCF\\u4E2A\\u4EBA\\u90FD\\u5199\\u81EA\\u5DF1\\u7684\\u8BF7\\u6C42\\u903B\\u8F91\\uFF0C\\u7EF4\\u62A4\\u8D77\\u6765\\u4F1A\\u5D29\\u6E83\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u63A5\\u53E3\\u590D\\u6742\\u5EA6\"}),\"\\uFF1A\\u5982\\u679C\\u540E\\u7AEF\\u63A5\\u53E3\\u683C\\u5F0F\\u4E0D\\u7EDF\\u4E00\\uFF0C\\u6216\\u8005\\u6709\\u590D\\u6742\\u7684 token \\u7BA1\\u7406\\u9700\\u6C42\\uFF0C\\u5C01\\u88C5\\u80FD\\u7701\\u5F88\\u591A\\u5FC3\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7EF4\\u62A4\\u5468\\u671F\"}),\"\\uFF1A\\u957F\\u671F\\u7EF4\\u62A4\\u7684\\u9879\\u76EE\\u66F4\\u9700\\u8981\\u5C01\\u88C5\\uFF0C\\u56E0\\u4E3A\\u5B83\\u80FD\\u964D\\u4F4E\\u672A\\u6765\\u7684\\u6539\\u52A8\\u6210\\u672C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF0C\\u5C01\\u88C5\\u5C31\\u50CF\\u662F\\u7ED9\\u4F60\\u7684\\u4EE3\\u7801\\u7A7F\\u4E0A\\u201C\\u897F\\u88C5\\u201D \\u{1F454}\\u3002\\u5C0F\\u9879\\u76EE\\u53EF\\u80FD\\u7A7F\\u4E2A T \\u6064\\u5C31\\u591F\\u4E86\\uFF0C\\u4F46\\u5927\\u9879\\u76EE\\u5F97\\u7A7F\\u5F97\\u4F53\\u9762\\u70B9\\uFF0C\\u624D\\u80FD\\u5E94\\u5BF9\\u5404\\u79CD\\u573A\\u5408\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u5F00\\u59CB\\u5C01\\u88C5\\u524D\\uFF0C\\u548C\\u56E2\\u961F\\u8BA8\\u8BBA\\u4E00\\u4E0B\\u9700\\u6C42\\uFF0C\\u5217\\u51FA\\u6700\\u75DB\\u7684\\u70B9\\uFF0C\\u4F18\\u5148\\u89E3\\u51B3\\u8FD9\\u4E9B\\u95EE\\u9898\\uFF0C\\u800C\\u4E0D\\u662F\\u4E00\\u4E0A\\u6765\\u5C31\\u8FFD\\u6C42\\u201C\\u5927\\u800C\\u5168\\u201D\\u3002\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u53CD\\u65B9\\u89C2\\u70B9\\u76F4\\u63A5\\u7528-axios-\\u4E0D\\u9999\\u5417\",children:(0,n.jsx)(e.a,{href:\"#\\u53CD\\u65B9\\u89C2\\u70B9\\u76F4\\u63A5\\u7528-axios-\\u4E0D\\u9999\\u5417\",children:\"\\u53CD\\u65B9\\u89C2\\u70B9\\uFF1A\\u76F4\\u63A5\\u7528 Axios \\u4E0D\\u9999\\u5417\\uFF1F\\u{1F60E}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u516C\\u5E73\\u8D77\\u89C1\\uFF0C\\u6211\\u4EEC\\u4E5F\\u542C\\u542C\\u201C\\u53CD\\u65B9\\u201D\\u7684\\u58F0\\u97F3\\u3002\\u6709\\u4E9B\\u5F00\\u53D1\\u8005\\u89C9\\u5F97\\uFF0CAxios \\u5DF2\\u7ECF\\u8DB3\\u591F\\u597D\\u7528\\u4E86\\uFF0C\\u5C01\\u88C5\\u53CD\\u800C\\u662F\\u201C\\u753B\\u86C7\\u6DFB\\u8DB3\\u201D\\u3002\\u4ED6\\u4EEC\\u7684\\u7406\\u7531\\u662F\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B80\\u5355\\u5373\\u7F8E\"}),\"\\uFF1AAxios \\u7684 API \\u5DF2\\u7ECF\\u5F88\\u7B80\\u6D01\\uFF0C\\u5C01\\u88C5\\u53EF\\u80FD\\u8BA9\\u4EE3\\u7801\\u66F4\\u590D\\u6742\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7075\\u6D3B\\u6027\\u4F18\\u5148\"}),\"\\uFF1A\\u76F4\\u63A5\\u7528 Axios \\u53EF\\u4EE5\\u66F4\\u7075\\u6D3B\\u5730\\u5904\\u7406\\u7279\\u6B8A\\u573A\\u666F\\uFF0C\\u4E0D\\u4F1A\\u88AB\\u5C01\\u88C5\\u5C42\\u9650\\u5236\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u751F\\u6001\\u4E30\\u5BCC\"}),\"\\uFF1AAxios \\u6709\\u5F88\\u591A\\u63D2\\u4EF6\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"axios-retry\"})})})}),\"\\uFF09\\uFF0C\\u76F4\\u63A5\\u7528\\u73B0\\u6210\\u7684\\u4E0D\\u662F\\u66F4\\u7701\\u4E8B\\uFF1F\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4E9B\\u89C2\\u70B9\\u4E5F\\u6709\\u9053\\u7406\\uFF0C\\u5C24\\u5176\\u662F\\u5BF9\\u5C0F\\u578B\\u9879\\u76EE\\u6216\\u4E2A\\u4EBA\\u5F00\\u53D1\\u8005\\u6765\\u8BF4\\uFF0C\\u76F4\\u63A5\\u7528 Axios \\u786E\\u5B9E\\u80FD\\u7701\\u4E0D\\u5C11\\u9EBB\\u70E6\\u3002\\u4F46\\u5BF9\\u4E2D\\u5927\\u578B\\u9879\\u76EE\\uFF0C\\u91CD\\u590D\\u4EE3\\u7801\\u548C\\u7EF4\\u62A4\\u6210\\u672C\\u4F1A\\u9010\\u6E10\\u66B4\\u9732\\u95EE\\u9898\\uFF0C\\u5C01\\u88C5\\u7684\\u4EF7\\u503C\\u624D\\u4F1A\\u663E\\u73B0\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u{1F4CC} \\u5C0F tips\\uFF1A\\u5982\\u679C\\u4F60\\u51B3\\u5B9A\\u4E0D\\u5C01\\u88C5\\uFF0C\\u81F3\\u5C11\\u5199\\u4E2A\\u5DE5\\u5177\\u51FD\\u6570\\u6765\\u5904\\u7406\\u5E38\\u89C1\\u7684\\u9519\\u8BEF\\u903B\\u8F91\\uFF0C\\u6BD4\\u5982\\u7EDF\\u4E00\\u7684 401 \\u8DF3\\u8F6C\\uFF0C\\u7701\\u5F97\\u6BCF\\u4E2A\\u8BF7\\u6C42\\u90FD\\u5199\\u4E00\\u904D\\u3002\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u5C01\\u88C5\\u7684\\u827A\\u672F-\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u5C01\\u88C5\\u7684\\u827A\\u672F-\",children:\"\\u603B\\u7ED3\\uFF1A\\u5C01\\u88C5\\u7684\\u827A\\u672F \\u{1F3A8}\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Axios \\u4E8C\\u6B21\\u5C01\\u88C5\\u5E76\\u4E0D\\u662F\\u201C\\u5FC5\\u987B\\u7684\\u201D\\uFF0C\\u4F46\\u5728\\u5F88\\u591A\\u573A\\u666F\\u4E0B\\uFF0C\\u5B83\\u80FD\\u8BA9\\u4F60\\u7684\\u4EE3\\u7801\\u66F4\\u4F18\\u96C5\\u3001\\u66F4\\u6613\\u7EF4\\u62A4\\u3002\\u5B83\\u7684\\u6838\\u5FC3\\u662F\",(0,n.jsx)(e.strong,{children:\"\\u62BD\\u8C61\"}),\"\\u548C\",(0,n.jsx)(e.strong,{children:\"\\u590D\\u7528\"}),\"\\uFF0C\\u901A\\u8FC7\\u62E6\\u622A\\u5668\\u3001\\u5B9E\\u4F8B\\u5316\\u7B49\\u673A\\u5236\\uFF0C\\u628A\\u91CD\\u590D\\u7684\\u903B\\u8F91\\u62BD\\u53D6\\u51FA\\u6765\\uFF0C\\u8BA9\\u4E1A\\u52A1\\u4EE3\\u7801\\u66F4\\u805A\\u7126\\u3002\\u901A\\u8FC7\\u672C\\u6587\\u7684\\u5206\\u6790\\u548C\\u793A\\u4F8B\\uFF0C\\u76F8\\u4FE1\\u4F60\\u5DF2\\u7ECF\\u5BF9\\u5C01\\u88C5\\u7684\\u539F\\u7406\\u3001\\u573A\\u666F\\u548C\\u5B9E\\u8DF5\\u6709\\u4E86\\u5168\\u9762\\u7684\\u4E86\\u89E3\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u540E\\uFF0C\\u6211\\u60F3\\u8BF4\\uFF0C\\u5C01\\u88C5\\u5C31\\u50CF\\u6CE1\\u8336 \\u{1F375}\\u3002\\u76F4\\u63A5\\u7528 Axios \\u662F\\u628A\\u8336\\u53F6\\u4E22\\u8FDB\\u6C34\\u91CC\\uFF0C\\u7B80\\u5355\\u7C97\\u66B4\\uFF1B\\u4E8C\\u6B21\\u5C01\\u88C5\\u5219\\u662F\\u9009\\u4E2A\\u597D\\u8336\\u5177\\uFF0C\\u63A7\\u5236\\u6C34\\u6E29\\uFF0C\\u6CE1\\u51FA\\u66F4\\u9999\\u7684\\u8336\\u3002\\u9009\\u54EA\\u79CD\\u65B9\\u5F0F\\uFF0C\\u53D6\\u51B3\\u4E8E\\u4F60\\u7684\\u65F6\\u95F4\\u3001\\u9700\\u6C42\\u548C\\u5BF9\\u201C\\u5473\\u9053\\u201D\\u7684\\u8FFD\\u6C42\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u7ED9\\u4F60\\u4E00\\u4E9B\\u542F\\u53D1\\uFF01\\u5982\\u679C\\u6709\\u5176\\u4ED6\\u5173\\u4E8E Axios \\u6216\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u7591\\u95EE\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u8BA8\\u8BBA\\uFF01\\u{1F604}\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(t,{...l})}):t(l)}return m(A);})();\n;return Component;"
  },
  "_id": "Network/AxiosçœŸçš„æœ‰å¿…è¦äºŒæ¬¡å°è£…å—.mdx",
  "_raw": {
    "sourceFilePath": "Network/AxiosçœŸçš„æœ‰å¿…è¦äºŒæ¬¡å°è£…å—.mdx",
    "sourceFileName": "AxiosçœŸçš„æœ‰å¿…è¦äºŒæ¬¡å°è£…å—.mdx",
    "sourceFileDir": "Network",
    "contentType": "mdx",
    "flattenedPath": "Network/AxiosçœŸçš„æœ‰å¿…è¦äºŒæ¬¡å°è£…å—"
  },
  "type": "Post",
  "url": "/blog/Network/AxiosçœŸçš„æœ‰å¿…è¦äºŒæ¬¡å°è£…å—"
}
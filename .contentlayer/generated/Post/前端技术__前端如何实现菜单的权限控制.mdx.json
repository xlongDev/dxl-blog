{
  "title": "前端如何实现菜单的权限控制（RBAC）?",
  "date": "2023-06-02T00:00:00.000Z",
  "description": "深入探讨前端如何基于 RBAC（基于角色的权限控制）实现菜单的动态管理，从理论到源码实现，结合实例带你掌握权限控制的核心逻辑。",
  "keywords": "RBAC, 前端权限控制, 菜单管理, React, Vue, 动态路由, 权限校验, 源码解析",
  "author": "晓龙",
  "image": "/images/hero/rbac-menu-control.jpg",
  "tags": [
    "前端开发",
    "权限管理",
    "RBAC",
    "React",
    "Vue"
  ],
  "views": 0,
  "likes": 0,
  "category": "前端技术",
  "body": {
    "raw": "\n在现代 Web 应用中，权限控制几乎是每个中大型项目都绕不开的话题。无论是企业管理系统、电商后台还是 SaaS 平台，用户角色的多样性要求我们必须对功能和界面进行精细化的权限管理。其中，菜单的权限控制尤为重要，因为它直接决定了用户能看到什么、能操作什么。今天，我们就来深入探讨前端如何基于 **RBAC（Role-Based Access Control，基于角色的权限控制）** 实现菜单的动态管理，从理论到源码层面一步步拆解。\n\n## 什么是 RBAC？\n\nRBAC 是一种常见的权限管理模型，核心思想是通过 **角色（Role）** 来桥接 **用户（User）** 和 **权限（Permission）**。简单来说：\n\n- 一个用户可以拥有多个角色（比如“管理员”和“编辑者”）。\n- 一个角色可以关联多个权限（比如“查看报表”和“编辑用户”）。\n- 权限最终决定了用户能访问哪些资源或功能。\n\n在前端，菜单通常是功能的入口，因此基于 RBAC 实现菜单权限控制，实际上就是根据用户的角色动态渲染出他有权访问的菜单项。\n\n## 为什么要在前端做菜单权限控制？\n\n你可能会问：“权限控制不是后端的事吗？前端直接调接口不就行了？”确实，后端是权限的“守门人”，负责校验用户请求的合法性。但前端如果不做权限控制，会带来以下问题：\n\n1. **用户体验差**：如果前端显示了用户无权访问的菜单，用户点击后却收到“无权限”的提示，体验非常糟糕。\n2. **安全隐患**：虽然后端会校验，但前端暴露过多无权限的功能入口，可能诱导用户尝试非法操作，甚至被恶意利用。\n3. **性能浪费**：前端加载了大量无用的组件或数据，增加了不必要的渲染开销。\n\n所以，前端需要根据用户角色动态调整菜单，既提升体验，又优化性能。当然，这一切的前提是后端提供可靠的权限数据。\n\n## 实现菜单权限控制的核心步骤\n\n要实现基于 RBAC 的菜单权限控制，前端通常需要经过以下步骤：\n\n1. **获取权限数据**：从后端接口获取当前用户的角色和权限列表。\n2. **定义菜单结构**：设计静态或动态的菜单数据结构，并为每个菜单项绑定权限标识。\n3. **权限校验逻辑**：根据用户权限动态过滤或渲染菜单。\n4. **路由与组件联动**：确保菜单与路由、页面组件保持一致。\n5. **异常处理**：处理权限不足时的跳转或提示。\n\n下面，我们将从源码层面逐步展开这些步骤，并结合 React 和 Vue 的实例来说明。\n\n## 从源码层面深度解析\n\n### 1. 获取权限数据\n\n权限控制的第一步是从后端获取数据。通常，后端会返回一个类似下面的 JSON 结构：\n\n```json\n{\n  \"userId\": \"12345\",\n  \"roles\": [\"admin\", \"editor\"],\n  \"permissions\": [\"dashboard:view\", \"users:edit\", \"reports:view\"]\n}\n```\n\n前端可以通过一个 API 调用来获取这些数据，比如：\n\n```javascript\n// api/auth.js\nimport axios from 'axios';\n\nexport const fetchUserPermissions = async () => {\n  const response = await axios.get('/api/user/permissions');\n  return response.data;\n};\n```\n\n在 React 中，我们可以用 `useEffect` 获取并存储到状态中：\n\n```javascript\nimport { useState, useEffect } from 'react';\nimport { fetchUserPermissions } from './api/auth';\n\nfunction App() {\n  const [permissions, setPermissions] = useState([]);\n\n  useEffect(() => {\n    fetchUserPermissions().then((data) => {\n      setPermissions(data.permissions);\n    });\n  }, []);\n\n  return <div>{/* 后续菜单渲染 */}</div>;\n}\n```\n\n### 2. 定义菜单结构\n\n菜单通常是一个树形结构，每个节点代表一个菜单项。我们可以为每个菜单项添加一个 `permission` 字段，表示访问该菜单所需的权限。比如：\n\n```javascript\n// menu.config.js\nconst menuConfig = [\n  {\n    id: 'dashboard',\n    title: '仪表盘',\n    path: '/dashboard',\n    permission: 'dashboard:view',\n  },\n  {\n    id: 'users',\n    title: '用户管理',\n    path: '/users',\n    permission: 'users:edit',\n    children: [\n      {\n        id: 'users-list',\n        title: '用户列表',\n        path: '/users/list',\n        permission: 'users:view',\n      },\n    ],\n  },\n  {\n    id: 'reports',\n    title: '报表',\n    path: '/reports',\n    permission: 'reports:view',\n  },\n];\n\nexport default menuConfig;\n```\n\n这里的设计很灵活，`permission` 可以是单一权限，也可以是多个权限的组合（比如用数组表示）。\n\n### 3. 权限校验与菜单过滤\n\n有了菜单结构和用户权限后，我们需要写一个工具函数来过滤菜单，只保留用户有权限的项：\n\n```javascript\n// utils/permission.js\nexport function filterMenuByPermissions(menu, userPermissions) {\n  return menu\n    .filter((item) => {\n      // 如果没有 permission 字段，默认可见\n      if (!item.permission) return true;\n      // 检查用户权限是否包含菜单项所需的权限\n      return userPermissions.includes(item.permission);\n    })\n    .map((item) => {\n      // 递归处理子菜单\n      if (item.children) {\n        return {\n          ...item,\n          children: filterMenuByPermissions(item.children, userPermissions),\n        };\n      }\n      return item;\n    })\n    .filter((item) => {\n      // 如果有子菜单但子菜单为空，则隐藏该菜单项\n      return !item.children || item.children.length > 0;\n    });\n}\n```\n\n使用这个函数，我们可以轻松得到过滤后的菜单：\n\n```javascript\nimport menuConfig from './menu.config';\nimport { filterMenuByPermissions } from './utils/permission';\n\nconst userPermissions = ['dashboard:view', 'users:view'];\nconst accessibleMenu = filterMenuByPermissions(menuConfig, userPermissions);\nconsole.log(accessibleMenu);\n// 输出只有 dashboard 和 users-list 的菜单结构\n```\n\n### 4. 在 React 中渲染动态菜单\n\n假设我们用 React 和 Ant Design 来实现菜单：\n\n```jsx\nimport { Menu } from 'antd';\nimport { useState, useEffect } from 'react';\nimport { fetchUserPermissions } from './api/auth';\nimport menuConfig from './menu.config';\nimport { filterMenuByPermissions } from './utils/permission';\n\nfunction Sidebar() {\n  const [menuItems, setMenuItems] = useState([]);\n\n  useEffect(() => {\n    fetchUserPermissions().then((data) => {\n      const filteredMenu = filterMenuByPermissions(menuConfig, data.permissions);\n      setMenuItems(filteredMenu);\n    });\n  }, []);\n\n  const renderMenu = (items) =>\n    items.map((item) => {\n      if (item.children) {\n        return (\n          <Menu.SubMenu key={item.id} title={item.title}>\n            {renderMenu(item.children)}\n          </Menu.SubMenu>\n        );\n      }\n      return <Menu.Item key={item.id}>{item.title}</Menu.Item>;\n    });\n\n  return <Menu mode=\"inline\">{renderMenu(menuItems)}</Menu>;\n}\n\nexport default Sidebar;\n```\n\n这里我们通过递归渲染支持多级菜单，权限校验完全交给 `filterMenuByPermissions` 函数。\n\n### 5. 在 Vue 中实现动态路由与菜单\n\n在 Vue 中，我们可以结合 `vue-router` 实现动态路由和菜单联动。先定义路由：\n\n```javascript\n// router/index.js\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/dashboard',\n    name: 'Dashboard',\n    component: () => import('../views/Dashboard.vue'),\n    meta: { permission: 'dashboard:view' },\n  },\n  {\n    path: '/users',\n    name: 'Users',\n    component: () => import('../views/Users.vue'),\n    meta: { permission: 'users:edit' },\n  },\n];\n\nconst router = new VueRouter({ routes });\n\nexport default router;\n```\n\n然后在全局路由守卫中校验权限：\n\n```javascript\n// main.js\nimport router from './router';\nimport { fetchUserPermissions } from './api/auth';\n\nrouter.beforeEach(async (to, from, next) => {\n  const userPermissions = await fetchUserPermissions();\n  if (to.meta.permission && !userPermissions.permissions.includes(to.meta.permission)) {\n    next('/403'); // 无权限跳转\n  } else {\n    next();\n  }\n});\n```\n\n菜单组件可以这样写：\n\n```vue\n<!-- Menu.vue -->\n<template>\n  <el-menu>\n    <template v-for=\"item in filteredMenu\">\n      <el-submenu v-if=\"item.children\" :key=\"item.id\" :index=\"item.id\">\n        <template slot=\"title\">{{ item.title }}</template>\n        <el-menu-item v-for=\"child in item.children\" :key=\"child.id\" :index=\"child.path\">\n          {{ child.title }}\n        </el-menu-item>\n      </el-submenu>\n      <el-menu-item v-else :key=\"item.id\" :index=\"item.path\">\n        {{ item.title }}\n      </el-menu-item>\n    </template>\n  </el-menu>\n</template>\n\n<script>\nimport menuConfig from '@/config/menu.config';\nimport { filterMenuByPermissions } from '@/utils/permission';\nimport { fetchUserPermissions } from '@/api/auth';\n\nexport default {\n  data() {\n    return {\n      filteredMenu: [],\n    };\n  },\n  async created() {\n    const { permissions } = await fetchUserPermissions();\n    this.filteredMenu = filterMenuByPermissions(menuConfig, permissions);\n  },\n};\n</script>\n```\n\n### 6. 异常处理与优化\n\n权限控制难免会遇到边界情况，比如用户权限数据为空、接口失败等。我们可以在代码中加入容错逻辑：\n\n```javascript\n// utils/permission.js\nexport async function fetchAndFilterMenu() {\n  try {\n    const { permissions } = await fetchUserPermissions();\n    if (!permissions || permissions.length === 0) {\n      console.warn('用户权限为空，默认显示公共菜单');\n      return menuConfig.filter((item) => !item.permission);\n    }\n    return filterMenuByPermissions(menuConfig, permissions);\n  } catch (error) {\n    console.error('获取权限失败:', error);\n    return []; // 返回空菜单，跳转到错误页\n  }\n}\n```\n\n在 React 中使用：\n\n```jsx\nuseEffect(() => {\n  fetchAndFilterMenu().then(setMenuItems);\n}, []);\n```\n\n## 实战中的注意事项\n\n1. **性能优化**：如果菜单项很多，考虑用 `useMemo`（React）或 `computed`（Vue）缓存过滤结果，避免重复计算。\n2. **动态加载**：对于复杂系统，可以按需加载菜单对应的组件，使用 `React.lazy` 或 Vue 的异步组件。\n3. **权限粒度**：权限设计要细化，比如区分“查看”和“编辑”，避免过于粗放。\n4. **状态管理**：大型项目中，可以用 Redux 或 Pinia 集中管理权限状态。\n\n## 总结\n\n通过 RBAC 实现前端菜单权限控制，核心在于权限数据的获取、菜单结构的定义和动态过滤的实现。无论是 React 还是 Vue，借助现代框架的特性，我们都能优雅地完成这一需求。从源码层面看，这不仅是一个技术问题，更是一个架构设计问题，需要前后端密切配合。\n\n希望这篇文章能为你提供一些灵感。如果你有更好的实现方式，欢迎留言讨论！权限控制的世界很大，我们才刚迈出第一步。\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var m=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),B=(e,l)=>{for(var r in l)c(e,r,{get:l[r],enumerable:!0})},i=(e,l,r,a)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let s of y(l))!u.call(e,s)&&s!==r&&c(e,s,{get:()=>l[s],enumerable:!(a=E(l,s))||a.enumerable});return e};var g=(e,l,r)=>(r=e!=null?p(F(e)):{},i(l||!e||!e.__esModule?c(r,\"default\",{value:e,enumerable:!0}):r,e)),f=e=>i(c({},\"__esModule\",{value:!0}),e);var d=m((A,o)=>{o.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>C});var n=g(d()),C={type:\"Post\",title:\"\\u524D\\u7AEF\\u5982\\u4F55\\u5B9E\\u73B0\\u83DC\\u5355\\u7684\\u6743\\u9650\\u63A7\\u5236\\uFF08RBAC\\uFF09?\",date:\"2023-06-02\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u524D\\u7AEF\\u5982\\u4F55\\u57FA\\u4E8E RBAC\\uFF08\\u57FA\\u4E8E\\u89D2\\u8272\\u7684\\u6743\\u9650\\u63A7\\u5236\\uFF09\\u5B9E\\u73B0\\u83DC\\u5355\\u7684\\u52A8\\u6001\\u7BA1\\u7406\\uFF0C\\u4ECE\\u7406\\u8BBA\\u5230\\u6E90\\u7801\\u5B9E\\u73B0\\uFF0C\\u7ED3\\u5408\\u5B9E\\u4F8B\\u5E26\\u4F60\\u638C\\u63E1\\u6743\\u9650\\u63A7\\u5236\\u7684\\u6838\\u5FC3\\u903B\\u8F91\\u3002\",keywords:\"RBAC, \\u524D\\u7AEF\\u6743\\u9650\\u63A7\\u5236, \\u83DC\\u5355\\u7BA1\\u7406, React, Vue, \\u52A8\\u6001\\u8DEF\\u7531, \\u6743\\u9650\\u6821\\u9A8C, \\u6E90\\u7801\\u89E3\\u6790\",author:\"\\u6653\\u9F99\",image:\"/images/hero/rbac-menu-control.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6743\\u9650\\u7BA1\\u7406\",\"RBAC\",\"React\",\"Vue\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function t(e){let l={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.p,{children:[\"\\u5728\\u73B0\\u4EE3 Web \\u5E94\\u7528\\u4E2D\\uFF0C\\u6743\\u9650\\u63A7\\u5236\\u51E0\\u4E4E\\u662F\\u6BCF\\u4E2A\\u4E2D\\u5927\\u578B\\u9879\\u76EE\\u90FD\\u7ED5\\u4E0D\\u5F00\\u7684\\u8BDD\\u9898\\u3002\\u65E0\\u8BBA\\u662F\\u4F01\\u4E1A\\u7BA1\\u7406\\u7CFB\\u7EDF\\u3001\\u7535\\u5546\\u540E\\u53F0\\u8FD8\\u662F SaaS \\u5E73\\u53F0\\uFF0C\\u7528\\u6237\\u89D2\\u8272\\u7684\\u591A\\u6837\\u6027\\u8981\\u6C42\\u6211\\u4EEC\\u5FC5\\u987B\\u5BF9\\u529F\\u80FD\\u548C\\u754C\\u9762\\u8FDB\\u884C\\u7CBE\\u7EC6\\u5316\\u7684\\u6743\\u9650\\u7BA1\\u7406\\u3002\\u5176\\u4E2D\\uFF0C\\u83DC\\u5355\\u7684\\u6743\\u9650\\u63A7\\u5236\\u5C24\\u4E3A\\u91CD\\u8981\\uFF0C\\u56E0\\u4E3A\\u5B83\\u76F4\\u63A5\\u51B3\\u5B9A\\u4E86\\u7528\\u6237\\u80FD\\u770B\\u5230\\u4EC0\\u4E48\\u3001\\u80FD\\u64CD\\u4F5C\\u4EC0\\u4E48\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C31\\u6765\\u6DF1\\u5165\\u63A2\\u8BA8\\u524D\\u7AEF\\u5982\\u4F55\\u57FA\\u4E8E \",(0,n.jsx)(l.strong,{children:\"RBAC\\uFF08Role-Based Access Control\\uFF0C\\u57FA\\u4E8E\\u89D2\\u8272\\u7684\\u6743\\u9650\\u63A7\\u5236\\uFF09\"}),\" \\u5B9E\\u73B0\\u83DC\\u5355\\u7684\\u52A8\\u6001\\u7BA1\\u7406\\uFF0C\\u4ECE\\u7406\\u8BBA\\u5230\\u6E90\\u7801\\u5C42\\u9762\\u4E00\\u6B65\\u6B65\\u62C6\\u89E3\\u3002\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4EC0\\u4E48\\u662F-rbac\",children:(0,n.jsx)(l.a,{href:\"#\\u4EC0\\u4E48\\u662F-rbac\",children:\"\\u4EC0\\u4E48\\u662F RBAC\\uFF1F\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"RBAC \\u662F\\u4E00\\u79CD\\u5E38\\u89C1\\u7684\\u6743\\u9650\\u7BA1\\u7406\\u6A21\\u578B\\uFF0C\\u6838\\u5FC3\\u601D\\u60F3\\u662F\\u901A\\u8FC7 \",(0,n.jsx)(l.strong,{children:\"\\u89D2\\u8272\\uFF08Role\\uFF09\"}),\" \\u6765\\u6865\\u63A5 \",(0,n.jsx)(l.strong,{children:\"\\u7528\\u6237\\uFF08User\\uFF09\"}),\" \\u548C \",(0,n.jsx)(l.strong,{children:\"\\u6743\\u9650\\uFF08Permission\\uFF09\"}),\"\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF1A\"]}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u4E00\\u4E2A\\u7528\\u6237\\u53EF\\u4EE5\\u62E5\\u6709\\u591A\\u4E2A\\u89D2\\u8272\\uFF08\\u6BD4\\u5982\\u201C\\u7BA1\\u7406\\u5458\\u201D\\u548C\\u201C\\u7F16\\u8F91\\u8005\\u201D\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u4E00\\u4E2A\\u89D2\\u8272\\u53EF\\u4EE5\\u5173\\u8054\\u591A\\u4E2A\\u6743\\u9650\\uFF08\\u6BD4\\u5982\\u201C\\u67E5\\u770B\\u62A5\\u8868\\u201D\\u548C\\u201C\\u7F16\\u8F91\\u7528\\u6237\\u201D\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u6743\\u9650\\u6700\\u7EC8\\u51B3\\u5B9A\\u4E86\\u7528\\u6237\\u80FD\\u8BBF\\u95EE\\u54EA\\u4E9B\\u8D44\\u6E90\\u6216\\u529F\\u80FD\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u524D\\u7AEF\\uFF0C\\u83DC\\u5355\\u901A\\u5E38\\u662F\\u529F\\u80FD\\u7684\\u5165\\u53E3\\uFF0C\\u56E0\\u6B64\\u57FA\\u4E8E RBAC \\u5B9E\\u73B0\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\\uFF0C\\u5B9E\\u9645\\u4E0A\\u5C31\\u662F\\u6839\\u636E\\u7528\\u6237\\u7684\\u89D2\\u8272\\u52A8\\u6001\\u6E32\\u67D3\\u51FA\\u4ED6\\u6709\\u6743\\u8BBF\\u95EE\\u7684\\u83DC\\u5355\\u9879\\u3002\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5728\\u524D\\u7AEF\\u505A\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\",children:(0,n.jsx)(l.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u8981\\u5728\\u524D\\u7AEF\\u505A\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\",children:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5728\\u524D\\u7AEF\\u505A\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\\uFF1F\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4F60\\u53EF\\u80FD\\u4F1A\\u95EE\\uFF1A\\u201C\\u6743\\u9650\\u63A7\\u5236\\u4E0D\\u662F\\u540E\\u7AEF\\u7684\\u4E8B\\u5417\\uFF1F\\u524D\\u7AEF\\u76F4\\u63A5\\u8C03\\u63A5\\u53E3\\u4E0D\\u5C31\\u884C\\u4E86\\uFF1F\\u201D\\u786E\\u5B9E\\uFF0C\\u540E\\u7AEF\\u662F\\u6743\\u9650\\u7684\\u201C\\u5B88\\u95E8\\u4EBA\\u201D\\uFF0C\\u8D1F\\u8D23\\u6821\\u9A8C\\u7528\\u6237\\u8BF7\\u6C42\\u7684\\u5408\\u6CD5\\u6027\\u3002\\u4F46\\u524D\\u7AEF\\u5982\\u679C\\u4E0D\\u505A\\u6743\\u9650\\u63A7\\u5236\\uFF0C\\u4F1A\\u5E26\\u6765\\u4EE5\\u4E0B\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u7528\\u6237\\u4F53\\u9A8C\\u5DEE\"}),\"\\uFF1A\\u5982\\u679C\\u524D\\u7AEF\\u663E\\u793A\\u4E86\\u7528\\u6237\\u65E0\\u6743\\u8BBF\\u95EE\\u7684\\u83DC\\u5355\\uFF0C\\u7528\\u6237\\u70B9\\u51FB\\u540E\\u5374\\u6536\\u5230\\u201C\\u65E0\\u6743\\u9650\\u201D\\u7684\\u63D0\\u793A\\uFF0C\\u4F53\\u9A8C\\u975E\\u5E38\\u7CDF\\u7CD5\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5B89\\u5168\\u9690\\u60A3\"}),\"\\uFF1A\\u867D\\u7136\\u540E\\u7AEF\\u4F1A\\u6821\\u9A8C\\uFF0C\\u4F46\\u524D\\u7AEF\\u66B4\\u9732\\u8FC7\\u591A\\u65E0\\u6743\\u9650\\u7684\\u529F\\u80FD\\u5165\\u53E3\\uFF0C\\u53EF\\u80FD\\u8BF1\\u5BFC\\u7528\\u6237\\u5C1D\\u8BD5\\u975E\\u6CD5\\u64CD\\u4F5C\\uFF0C\\u751A\\u81F3\\u88AB\\u6076\\u610F\\u5229\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6027\\u80FD\\u6D6A\\u8D39\"}),\"\\uFF1A\\u524D\\u7AEF\\u52A0\\u8F7D\\u4E86\\u5927\\u91CF\\u65E0\\u7528\\u7684\\u7EC4\\u4EF6\\u6216\\u6570\\u636E\\uFF0C\\u589E\\u52A0\\u4E86\\u4E0D\\u5FC5\\u8981\\u7684\\u6E32\\u67D3\\u5F00\\u9500\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6240\\u4EE5\\uFF0C\\u524D\\u7AEF\\u9700\\u8981\\u6839\\u636E\\u7528\\u6237\\u89D2\\u8272\\u52A8\\u6001\\u8C03\\u6574\\u83DC\\u5355\\uFF0C\\u65E2\\u63D0\\u5347\\u4F53\\u9A8C\\uFF0C\\u53C8\\u4F18\\u5316\\u6027\\u80FD\\u3002\\u5F53\\u7136\\uFF0C\\u8FD9\\u4E00\\u5207\\u7684\\u524D\\u63D0\\u662F\\u540E\\u7AEF\\u63D0\\u4F9B\\u53EF\\u9760\\u7684\\u6743\\u9650\\u6570\\u636E\\u3002\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u5B9E\\u73B0\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\\u7684\\u6838\\u5FC3\\u6B65\\u9AA4\",children:(0,n.jsx)(l.a,{href:\"#\\u5B9E\\u73B0\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\\u7684\\u6838\\u5FC3\\u6B65\\u9AA4\",children:\"\\u5B9E\\u73B0\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\\u7684\\u6838\\u5FC3\\u6B65\\u9AA4\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8981\\u5B9E\\u73B0\\u57FA\\u4E8E RBAC \\u7684\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\\uFF0C\\u524D\\u7AEF\\u901A\\u5E38\\u9700\\u8981\\u7ECF\\u8FC7\\u4EE5\\u4E0B\\u6B65\\u9AA4\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u83B7\\u53D6\\u6743\\u9650\\u6570\\u636E\"}),\"\\uFF1A\\u4ECE\\u540E\\u7AEF\\u63A5\\u53E3\\u83B7\\u53D6\\u5F53\\u524D\\u7528\\u6237\\u7684\\u89D2\\u8272\\u548C\\u6743\\u9650\\u5217\\u8868\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5B9A\\u4E49\\u83DC\\u5355\\u7ED3\\u6784\"}),\"\\uFF1A\\u8BBE\\u8BA1\\u9759\\u6001\\u6216\\u52A8\\u6001\\u7684\\u83DC\\u5355\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u5E76\\u4E3A\\u6BCF\\u4E2A\\u83DC\\u5355\\u9879\\u7ED1\\u5B9A\\u6743\\u9650\\u6807\\u8BC6\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6743\\u9650\\u6821\\u9A8C\\u903B\\u8F91\"}),\"\\uFF1A\\u6839\\u636E\\u7528\\u6237\\u6743\\u9650\\u52A8\\u6001\\u8FC7\\u6EE4\\u6216\\u6E32\\u67D3\\u83DC\\u5355\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u8DEF\\u7531\\u4E0E\\u7EC4\\u4EF6\\u8054\\u52A8\"}),\"\\uFF1A\\u786E\\u4FDD\\u83DC\\u5355\\u4E0E\\u8DEF\\u7531\\u3001\\u9875\\u9762\\u7EC4\\u4EF6\\u4FDD\\u6301\\u4E00\\u81F4\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5F02\\u5E38\\u5904\\u7406\"}),\"\\uFF1A\\u5904\\u7406\\u6743\\u9650\\u4E0D\\u8DB3\\u65F6\\u7684\\u8DF3\\u8F6C\\u6216\\u63D0\\u793A\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4E0B\\u9762\\uFF0C\\u6211\\u4EEC\\u5C06\\u4ECE\\u6E90\\u7801\\u5C42\\u9762\\u9010\\u6B65\\u5C55\\u5F00\\u8FD9\\u4E9B\\u6B65\\u9AA4\\uFF0C\\u5E76\\u7ED3\\u5408 React \\u548C Vue \\u7684\\u5B9E\\u4F8B\\u6765\\u8BF4\\u660E\\u3002\"}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4ECE\\u6E90\\u7801\\u5C42\\u9762\\u6DF1\\u5EA6\\u89E3\\u6790\",children:(0,n.jsx)(l.a,{href:\"#\\u4ECE\\u6E90\\u7801\\u5C42\\u9762\\u6DF1\\u5EA6\\u89E3\\u6790\",children:\"\\u4ECE\\u6E90\\u7801\\u5C42\\u9762\\u6DF1\\u5EA6\\u89E3\\u6790\"})}),`\n`,(0,n.jsx)(l.h3,{id:\"1-\\u83B7\\u53D6\\u6743\\u9650\\u6570\\u636E\",children:(0,n.jsx)(l.a,{href:\"#1-\\u83B7\\u53D6\\u6743\\u9650\\u6570\\u636E\",children:\"1. \\u83B7\\u53D6\\u6743\\u9650\\u6570\\u636E\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6743\\u9650\\u63A7\\u5236\\u7684\\u7B2C\\u4E00\\u6B65\\u662F\\u4ECE\\u540E\\u7AEF\\u83B7\\u53D6\\u6570\\u636E\\u3002\\u901A\\u5E38\\uFF0C\\u540E\\u7AEF\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2A\\u7C7B\\u4F3C\\u4E0B\\u9762\\u7684 JSON \\u7ED3\\u6784\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"userId\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"12345\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"roles\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": [\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"admin\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"editor\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:'  \"permissions\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": [\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"dashboard:view\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"users:edit\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"reports:view\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u524D\\u7AEF\\u53EF\\u4EE5\\u901A\\u8FC7\\u4E00\\u4E2A API \\u8C03\\u7528\\u6765\\u83B7\\u53D6\\u8FD9\\u4E9B\\u6570\\u636E\\uFF0C\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// api/auth.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" axios \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'axios'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchUserPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/api/user/permissions'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response.data;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5728 React \\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useEffect\"})})})}),\" \\u83B7\\u53D6\\u5E76\\u5B58\\u50A8\\u5230\\u72B6\\u6001\\u4E2D\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { fetchUserPermissions } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './api/auth'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"permissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    fetchUserPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      setPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data.permissions);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">{\"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"/* \\u540E\\u7EED\\u83DC\\u5355\\u6E32\\u67D3 */\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"2-\\u5B9A\\u4E49\\u83DC\\u5355\\u7ED3\\u6784\",children:(0,n.jsx)(l.a,{href:\"#2-\\u5B9A\\u4E49\\u83DC\\u5355\\u7ED3\\u6784\",children:\"2. \\u5B9A\\u4E49\\u83DC\\u5355\\u7ED3\\u6784\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u83DC\\u5355\\u901A\\u5E38\\u662F\\u4E00\\u4E2A\\u6811\\u5F62\\u7ED3\\u6784\\uFF0C\\u6BCF\\u4E2A\\u8282\\u70B9\\u4EE3\\u8868\\u4E00\\u4E2A\\u83DC\\u5355\\u9879\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u4E3A\\u6BCF\\u4E2A\\u83DC\\u5355\\u9879\\u6DFB\\u52A0\\u4E00\\u4E2A \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"permission\"})})})}),\" \\u5B57\\u6BB5\\uFF0C\\u8868\\u793A\\u8BBF\\u95EE\\u8BE5\\u83DC\\u5355\\u6240\\u9700\\u7684\\u6743\\u9650\\u3002\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// menu.config.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" menuConfig\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'dashboard'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4EEA\\u8868\\u76D8'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    path: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/dashboard'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    permission: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'dashboard:view'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'users'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7528\\u6237\\u7BA1\\u7406'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    path: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    permission: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'users:edit'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    children: [\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'users-list'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7528\\u6237\\u5217\\u8868'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        path: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/users/list'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        permission: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'users:view'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    ],\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    id: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'reports'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    title: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u62A5\\u8868'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    path: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/reports'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    permission: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'reports:view'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"];\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" menuConfig;\"})]})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u8FD9\\u91CC\\u7684\\u8BBE\\u8BA1\\u5F88\\u7075\\u6D3B\\uFF0C\",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"permission\"})})})}),\" \\u53EF\\u4EE5\\u662F\\u5355\\u4E00\\u6743\\u9650\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u662F\\u591A\\u4E2A\\u6743\\u9650\\u7684\\u7EC4\\u5408\\uFF08\\u6BD4\\u5982\\u7528\\u6570\\u7EC4\\u8868\\u793A\\uFF09\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"3-\\u6743\\u9650\\u6821\\u9A8C\\u4E0E\\u83DC\\u5355\\u8FC7\\u6EE4\",children:(0,n.jsx)(l.a,{href:\"#3-\\u6743\\u9650\\u6821\\u9A8C\\u4E0E\\u83DC\\u5355\\u8FC7\\u6EE4\",children:\"3. \\u6743\\u9650\\u6821\\u9A8C\\u4E0E\\u83DC\\u5355\\u8FC7\\u6EE4\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6709\\u4E86\\u83DC\\u5355\\u7ED3\\u6784\\u548C\\u7528\\u6237\\u6743\\u9650\\u540E\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5199\\u4E00\\u4E2A\\u5DE5\\u5177\\u51FD\\u6570\\u6765\\u8FC7\\u6EE4\\u83DC\\u5355\\uFF0C\\u53EA\\u4FDD\\u7559\\u7528\\u6237\\u6709\\u6743\\u9650\\u7684\\u9879\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// utils/permission.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" filterMenuByPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"menu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"userPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" menu\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u5982\\u679C\\u6CA1\\u6709 permission \\u5B57\\u6BB5\\uFF0C\\u9ED8\\u8BA4\\u53EF\\u89C1\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item.permission) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u68C0\\u67E5\\u7528\\u6237\\u6743\\u9650\\u662F\\u5426\\u5305\\u542B\\u83DC\\u5355\\u9879\\u6240\\u9700\\u7684\\u6743\\u9650\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" userPermissions.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"includes\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(item.permission);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u9012\\u5F52\\u5904\\u7406\\u5B50\\u83DC\\u5355\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (item.children) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          ...\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item,\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          children: \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"filterMenuByPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(item.children, userPermissions),\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" item;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    })\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"      // \\u5982\\u679C\\u6709\\u5B50\\u83DC\\u5355\\u4F46\\u5B50\\u83DC\\u5355\\u4E3A\\u7A7A\\uFF0C\\u5219\\u9690\\u85CF\\u8BE5\\u83DC\\u5355\\u9879\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item.children \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" item.children.\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" >\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4F7F\\u7528\\u8FD9\\u4E2A\\u51FD\\u6570\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u8F7B\\u677E\\u5F97\\u5230\\u8FC7\\u6EE4\\u540E\\u7684\\u83DC\\u5355\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" menuConfig \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './menu.config'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { filterMenuByPermissions } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './utils/permission'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" userPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'dashboard:view'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'users:view'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" accessibleMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" filterMenuByPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(menuConfig, userPermissions);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(accessibleMenu);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u8F93\\u51FA\\u53EA\\u6709 dashboard \\u548C users-list \\u7684\\u83DC\\u5355\\u7ED3\\u6784\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"4-\\u5728-react-\\u4E2D\\u6E32\\u67D3\\u52A8\\u6001\\u83DC\\u5355\",children:(0,n.jsx)(l.a,{href:\"#4-\\u5728-react-\\u4E2D\\u6E32\\u67D3\\u52A8\\u6001\\u83DC\\u5355\",children:\"4. \\u5728 React \\u4E2D\\u6E32\\u67D3\\u52A8\\u6001\\u83DC\\u5355\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5047\\u8BBE\\u6211\\u4EEC\\u7528 React \\u548C Ant Design \\u6765\\u5B9E\\u73B0\\u83DC\\u5355\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { Menu } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'antd'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { fetchUserPermissions } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './api/auth'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" menuConfig \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './menu.config'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { filterMenuByPermissions } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './utils/permission'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Sidebar\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"menuItems\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setMenuItems\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    fetchUserPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" filteredMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" filterMenuByPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(menuConfig, data.permissions);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      setMenuItems\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(filteredMenu);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" renderMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"items\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    items.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (item.children) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Menu.SubMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{item.id} \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"title\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{item.title}>\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            {\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"renderMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(item.children)}\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          </\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Menu.SubMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Menu.Item\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{item.id}>{item.title}</\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Menu.Item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Menu\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" mode\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"inline\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">{\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"renderMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(menuItems)}</\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"Menu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Sidebar;\"})]})]})})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u8FD9\\u91CC\\u6211\\u4EEC\\u901A\\u8FC7\\u9012\\u5F52\\u6E32\\u67D3\\u652F\\u6301\\u591A\\u7EA7\\u83DC\\u5355\\uFF0C\\u6743\\u9650\\u6821\\u9A8C\\u5B8C\\u5168\\u4EA4\\u7ED9 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"filterMenuByPermissions\"})})})}),\" \\u51FD\\u6570\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"5-\\u5728-vue-\\u4E2D\\u5B9E\\u73B0\\u52A8\\u6001\\u8DEF\\u7531\\u4E0E\\u83DC\\u5355\",children:(0,n.jsx)(l.a,{href:\"#5-\\u5728-vue-\\u4E2D\\u5B9E\\u73B0\\u52A8\\u6001\\u8DEF\\u7531\\u4E0E\\u83DC\\u5355\",children:\"5. \\u5728 Vue \\u4E2D\\u5B9E\\u73B0\\u52A8\\u6001\\u8DEF\\u7531\\u4E0E\\u83DC\\u5355\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5728 Vue \\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u7ED3\\u5408 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"vue-router\"})})})}),\" \\u5B9E\\u73B0\\u52A8\\u6001\\u8DEF\\u7531\\u548C\\u83DC\\u5355\\u8054\\u52A8\\u3002\\u5148\\u5B9A\\u4E49\\u8DEF\\u7531\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// router/index.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Vue \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" VueRouter \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'vue-router'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"Vue.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(VueRouter);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" routes\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    path: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/dashboard'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'Dashboard'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    component\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'../views/Dashboard.vue'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    meta: { permission: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'dashboard:view'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    path: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'Users'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    component\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'../views/Users.vue'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    meta: { permission: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'users:edit'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"];\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" router\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" VueRouter\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ routes });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" router;\"})]})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u7136\\u540E\\u5728\\u5168\\u5C40\\u8DEF\\u7531\\u5B88\\u536B\\u4E2D\\u6821\\u9A8C\\u6743\\u9650\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// main.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" router \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './router'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { fetchUserPermissions } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './api/auth'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"beforeEach\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"to\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" userPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchUserPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (to.meta.permission \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"userPermissions.permissions.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"includes\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(to.meta.permission)) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    next\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/403'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u65E0\\u6743\\u9650\\u8DF3\\u8F6C\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    next\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u83DC\\u5355\\u7EC4\\u4EF6\\u53EF\\u4EE5\\u8FD9\\u6837\\u5199\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"vue\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"vue\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"<!-- Menu.vue -->\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"el-menu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" v-for\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"in\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" filteredMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"el-submenu\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" v-if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item.children\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :key\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item.id\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :index\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item.id\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" slot\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"title\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">{{ item.title }}</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"el-menu-item\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" v-for\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"child in item.children\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :key\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"child.id\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :index\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"child.path\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          {{ child.title }}\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"el-menu-item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"el-submenu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"el-menu-item\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" v-else\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :key\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item.id\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" :index\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"item.path\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        {{ item.title }}\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"el-menu-item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"el-menu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" menuConfig \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@/config/menu.config'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { filterMenuByPermissions } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@/utils/permission'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { fetchUserPermissions } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@/api/auth'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      filteredMenu: [],\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" created\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"permissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchUserPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".filteredMenu \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" filterMenuByPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(menuConfig, permissions);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"6-\\u5F02\\u5E38\\u5904\\u7406\\u4E0E\\u4F18\\u5316\",children:(0,n.jsx)(l.a,{href:\"#6-\\u5F02\\u5E38\\u5904\\u7406\\u4E0E\\u4F18\\u5316\",children:\"6. \\u5F02\\u5E38\\u5904\\u7406\\u4E0E\\u4F18\\u5316\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6743\\u9650\\u63A7\\u5236\\u96BE\\u514D\\u4F1A\\u9047\\u5230\\u8FB9\\u754C\\u60C5\\u51B5\\uFF0C\\u6BD4\\u5982\\u7528\\u6237\\u6743\\u9650\\u6570\\u636E\\u4E3A\\u7A7A\\u3001\\u63A5\\u53E3\\u5931\\u8D25\\u7B49\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u4EE3\\u7801\\u4E2D\\u52A0\\u5165\\u5BB9\\u9519\\u903B\\u8F91\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// utils/permission.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchAndFilterMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"permissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fetchUserPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"permissions \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" permissions.\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" ===\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"warn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7528\\u6237\\u6743\\u9650\\u4E3A\\u7A7A\\uFF0C\\u9ED8\\u8BA4\\u663E\\u793A\\u516C\\u5171\\u83DC\\u5355'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" menuConfig.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item.permission);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" filterMenuByPermissions\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(menuConfig, permissions);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u83B7\\u53D6\\u6743\\u9650\\u5931\\u8D25:'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" []; \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u8FD4\\u56DE\\u7A7A\\u83DC\\u5355\\uFF0C\\u8DF3\\u8F6C\\u5230\\u9519\\u8BEF\\u9875\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728 React \\u4E2D\\u4F7F\\u7528\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  fetchAndFilterMenu\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(setMenuItems);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}, []);\"})})]})})}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u5B9E\\u6218\\u4E2D\\u7684\\u6CE8\\u610F\\u4E8B\\u9879\",children:(0,n.jsx)(l.a,{href:\"#\\u5B9E\\u6218\\u4E2D\\u7684\\u6CE8\\u610F\\u4E8B\\u9879\",children:\"\\u5B9E\\u6218\\u4E2D\\u7684\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u5982\\u679C\\u83DC\\u5355\\u9879\\u5F88\\u591A\\uFF0C\\u8003\\u8651\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useMemo\"})})})}),\"\\uFF08React\\uFF09\\u6216 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"computed\"})})})}),\"\\uFF08Vue\\uFF09\\u7F13\\u5B58\\u8FC7\\u6EE4\\u7ED3\\u679C\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u52A8\\u6001\\u52A0\\u8F7D\"}),\"\\uFF1A\\u5BF9\\u4E8E\\u590D\\u6742\\u7CFB\\u7EDF\\uFF0C\\u53EF\\u4EE5\\u6309\\u9700\\u52A0\\u8F7D\\u83DC\\u5355\\u5BF9\\u5E94\\u7684\\u7EC4\\u4EF6\\uFF0C\\u4F7F\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"React.lazy\"})})})}),\" \\u6216 Vue \\u7684\\u5F02\\u6B65\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6743\\u9650\\u7C92\\u5EA6\"}),\"\\uFF1A\\u6743\\u9650\\u8BBE\\u8BA1\\u8981\\u7EC6\\u5316\\uFF0C\\u6BD4\\u5982\\u533A\\u5206\\u201C\\u67E5\\u770B\\u201D\\u548C\\u201C\\u7F16\\u8F91\\u201D\\uFF0C\\u907F\\u514D\\u8FC7\\u4E8E\\u7C97\\u653E\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u72B6\\u6001\\u7BA1\\u7406\"}),\"\\uFF1A\\u5927\\u578B\\u9879\\u76EE\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u7528 Redux \\u6216 Pinia \\u96C6\\u4E2D\\u7BA1\\u7406\\u6743\\u9650\\u72B6\\u6001\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u603B\\u7ED3\",children:(0,n.jsx)(l.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u901A\\u8FC7 RBAC \\u5B9E\\u73B0\\u524D\\u7AEF\\u83DC\\u5355\\u6743\\u9650\\u63A7\\u5236\\uFF0C\\u6838\\u5FC3\\u5728\\u4E8E\\u6743\\u9650\\u6570\\u636E\\u7684\\u83B7\\u53D6\\u3001\\u83DC\\u5355\\u7ED3\\u6784\\u7684\\u5B9A\\u4E49\\u548C\\u52A8\\u6001\\u8FC7\\u6EE4\\u7684\\u5B9E\\u73B0\\u3002\\u65E0\\u8BBA\\u662F React \\u8FD8\\u662F Vue\\uFF0C\\u501F\\u52A9\\u73B0\\u4EE3\\u6846\\u67B6\\u7684\\u7279\\u6027\\uFF0C\\u6211\\u4EEC\\u90FD\\u80FD\\u4F18\\u96C5\\u5730\\u5B8C\\u6210\\u8FD9\\u4E00\\u9700\\u6C42\\u3002\\u4ECE\\u6E90\\u7801\\u5C42\\u9762\\u770B\\uFF0C\\u8FD9\\u4E0D\\u4EC5\\u662F\\u4E00\\u4E2A\\u6280\\u672F\\u95EE\\u9898\\uFF0C\\u66F4\\u662F\\u4E00\\u4E2A\\u67B6\\u6784\\u8BBE\\u8BA1\\u95EE\\u9898\\uFF0C\\u9700\\u8981\\u524D\\u540E\\u7AEF\\u5BC6\\u5207\\u914D\\u5408\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u4E3A\\u4F60\\u63D0\\u4F9B\\u4E00\\u4E9B\\u7075\\u611F\\u3002\\u5982\\u679C\\u4F60\\u6709\\u66F4\\u597D\\u7684\\u5B9E\\u73B0\\u65B9\\u5F0F\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u8BA8\\u8BBA\\uFF01\\u6743\\u9650\\u63A7\\u5236\\u7684\\u4E16\\u754C\\u5F88\\u5927\\uFF0C\\u6211\\u4EEC\\u624D\\u521A\\u8FC8\\u51FA\\u7B2C\\u4E00\\u6B65\\u3002\"}),`\n`,(0,n.jsx)(l.hr,{})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}return f(b);})();\n;return Component;"
  },
  "_id": "前端技术/前端如何实现菜单的权限控制.mdx",
  "_raw": {
    "sourceFilePath": "前端技术/前端如何实现菜单的权限控制.mdx",
    "sourceFileName": "前端如何实现菜单的权限控制.mdx",
    "sourceFileDir": "前端技术",
    "contentType": "mdx",
    "flattenedPath": "前端技术/前端如何实现菜单的权限控制"
  },
  "type": "Post",
  "url": "/blog/前端技术/前端如何实现菜单的权限控制"
}
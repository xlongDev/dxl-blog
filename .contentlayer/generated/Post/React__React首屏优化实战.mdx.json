{
  "title": "React 首屏优化实战",
  "date": "2024-05-13T00:00:00.000Z",
  "description": "从原理到实践，深入剖析 React 应用首屏优化的各种策略，涵盖代码分割、懒加载、服务端渲染、资源预加载等技术，附带真实案例和代码示例。",
  "keywords": "React, 首屏优化, 代码分割, 懒加载, SSR, 预加载, 前端性能, Web Vitals",
  "author": "晓龙",
  "image": "/images/hero/react-performance.jpg",
  "tags": [
    "React",
    "前端性能",
    "Web 开发"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\n在现代 Web 开发中，用户体验是王道，而首屏加载速度直接决定了用户是否会继续停留在你的页面上。Google 的研究表明，如果页面加载时间超过 3 秒，53% 的移动端用户会选择离开。对于 React 应用来说，由于其组件化特性和虚拟 DOM 的强大功能，开发者很容易专注于功能实现而忽略性能优化。本文将从原理到实践，带你深入 React 首屏优化的各种策略，结合真实案例和代码示例，让你的应用快如闪电。\n\n## 为什么首屏优化如此重要？\n\n首屏时间（First Contentful Paint, FCP）是 Web Vitals 的核心指标之一，它衡量的是用户从打开页面到看到第一个有意义内容的时间。对于单页应用（SPA）如 React 应用，默认情况下，所有 JavaScript 都需要下载、解析并执行后才能渲染页面，这往往导致首屏时间过长。而现代用户对速度的期待越来越高，优化首屏加载不仅能提升用户体验，还能提高 SEO 排名和转化率。\n\nReact 的首屏优化本质上是对以下几个环节的改进：\n- **资源加载**：减少首屏所需的静态资源体积和数量。\n- **执行效率**：降低 JavaScript 的解析和执行时间。\n- **渲染策略**：选择合适的渲染方式（如 CSR、SSR 或 SSG）。\n\n接下来，我们将逐一拆解这些环节，并给出实战方案。\n\n---\n\n## 1. 代码分割：只加载必要的代码\n\nReact SPA 的一个常见问题是“打包成一个大 Bundle”。假设你的应用包含首页、用户中心和博客页面，如果所有代码都打包到一个 `main.js` 文件中，用户访问首页时也会加载其他页面的代码，这显然是浪费。\n\n### 原理\n代码分割的核心思想是按需加载（Lazy Loading）。React 提供了 `React.lazy` 和 `Suspense`，结合 Webpack 或 Vite 的动态导入（Dynamic Import），可以将组件拆分成多个小的 Chunk，只有在需要时才加载。\n\n### 实战示例\n假设你有一个电商应用，包含首页（`Home`）、商品详情页（`ProductDetail`）和购物车（`Cart`）。我们可以这样实现代码分割：\n\n```jsx\nimport React, { Suspense } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\n// 动态导入组件\nconst Home = React.lazy(() => import('./components/Home'));\nconst ProductDetail = React.lazy(() => import('./components/ProductDetail'));\nconst Cart = React.lazy(() => import('./components/Cart'));\n\nfunction App() {\n  return (\n    <Router>\n      <Suspense fallback={<div>加载中...</div>}>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/product/:id\" component={ProductDetail} />\n          <Route path=\"/cart\" component={Cart} />\n        </Switch>\n      </Suspense>\n    </Router>\n  );\n}\n\nexport default App;\n```\n\n### 效果\n- 打包后，`Home`、`ProductDetail` 和 `Cart` 会被拆分成单独的 Chunk 文件。\n- 用户访问 `/` 时，只加载 `Home` 的代码，其他页面的代码不会加载。\n- 通过 Chrome DevTools 的 Network 面板，你会看到 `product-detail.chunk.js` 只有在访问 `/product/123` 时才加载。\n\n### 注意事项\n1. **Fallback 体验**：`Suspense` 的 `fallback` 组件要轻量化，避免加载动画本身拖慢首屏。\n2. **路由级分割**：结合 React Router 是最常见的代码分割场景，但也可以在组件级别分割，比如一个复杂的 Modal。\n\n---\n\n## 2. 懒加载图片和组件\n\n除了路由级别的代码分割，图片和非关键组件的懒加载也能显著提升首屏速度。\n\n### 图片懒加载\n对于图片密集型应用（如电商或博客），首屏外的图片无需立即加载。我们可以使用浏览器的原生 `loading=\"lazy\"` 属性：\n\n```html\n<img src=\"/images/product.jpg\" alt=\"商品图片\" loading=\"lazy\" />\n```\n\n或者用 Intersection Observer 实现自定义懒加载：\n\n```jsx\nimport { useEffect, useRef, useState } from 'react';\n\nfunction LazyImage({ src, alt }) {\n  const imgRef = useRef(null);\n  const [inView, setInView] = useState(false);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setInView(true);\n          observer.disconnect();\n        }\n      },\n      { rootMargin: '50px' }\n    );\n    if (imgRef.current) observer.observe(imgRef.current);\n    return () => observer.disconnect();\n  }, []);\n\n  return inView ? (\n    <img src={src} alt={alt} />\n  ) : (\n    <div ref={imgRef} style={{ height: '200px', background: '#eee' }} />\n  );\n}\n\nexport default LazyImage;\n```\n\n### 非关键组件懒加载\n比如一个复杂的统计图表组件（`Chart`），可以用 `React.lazy` 延迟加载：\n\n```jsx\nconst Chart = React.lazy(() => import('./components/Chart'));\n\nfunction Dashboard() {\n  return (\n    <Suspense fallback={<div>图表加载中...</div>}>\n      <Chart />\n    </Suspense>\n  );\n}\n```\n\n### 效果\n- 首屏只加载可视区域的内容，减少初始 JavaScript 和图片的请求。\n- Lighthouse 评分中的 “Time to Interactive” 会明显缩短。\n\n---\n\n## 3. 服务端渲染（SSR）：加速首屏内容呈现\n\nReact 默认的客户端渲染（CSR）需要等待 JavaScript 执行完成才能显示内容，而服务端渲染（SSR）可以直接返回带有内容的 HTML。\n\n### 原理\nSSR 在服务器端运行 React 组件，生成 HTML 后发送给浏览器，用户能立即看到内容。随后，客户端“接管”页面（Hydration），使其变为交互式应用。\n\n### 实战：Next.js SSR 示例\nNext.js 是实现 React SSR 的利器。以下是一个简单的 SSR 页面：\n\n```jsx\n// pages/index.js\nimport { useEffect } from 'react';\n\nexport async function getServerSideProps() {\n  const res = await fetch('https://api.example.com/data');\n  const data = await res.json();\n  return { props: { data } };\n}\n\nfunction Home({ data }) {\n  useEffect(() => {\n    console.log('客户端已接管');\n  }, []);\n\n  return (\n    <div>\n      <h1>欢迎来到首页</h1>\n      <p>{data.message}</p>\n    </div>\n  );\n}\n\nexport default Home;\n```\n\n### 效果\n- 用户在收到 HTML 时就能看到内容，无需等待 JavaScript。\n- 通过查看源码，你会发现 `<div>` 内的内容已在服务器端渲染完成。\n\n### 注意事项\n1. **Hydration 开销**：SSR 后客户端仍需加载 JS 进行 Hydration，确保组件逻辑尽量简单。\n2. **缓存**：结合 CDN 或 Redis 缓存 API 数据，减少服务器压力。\n\n---\n\n## 4. 资源预加载与预解析\n\n现代浏览器支持 `<link>` 标签的 `rel=\"preload\"` 和 `rel=\"dns-prefetch\"`，可以加速关键资源的加载。\n\n### 示例\n假设你的应用依赖一个字体文件和一个关键脚本：\n\n```html\n<head>\n  <!-- 预加载字体 -->\n  <link rel=\"preload\" href=\"/fonts/myfont.woff2\" as=\"font\" type=\"font/woff2\" crossorigin />\n  <!-- 预解析 API 域名 -->\n  <link rel=\"dns-prefetch\" href=\"https://api.example.com\" />\n</head>\n```\n\n### 原理\n- `preload` 告诉浏览器提前加载资源，但不执行，适用于首屏必需的资源。\n- `dns-prefetch` 提前解析域名 DNS，减少网络请求的延迟。\n\n### 效果\n在 Network 面板中，你会看到字体文件在页面加载早期就被请求，而 API 请求的 DNS 解析时间几乎为 0。\n\n---\n\n## 5. 减少渲染阻塞：Tree Shaking 与 CSS 优化\n\n### Tree Shaking\n现代打包工具（如 Webpack、Rollup）支持 Tree Shaking，移除未使用的代码。例如，使用 Lodash 时只导入需要的函数：\n\n```jsx\nimport { debounce } from 'lodash-es';\n\nfunction Search() {\n  const handleSearch = debounce((value) => {\n    console.log(value);\n  }, 300);\n  return <input onChange={(e) => handleSearch(e.target.value)} />;\n}\n```\n\n### CSS 优化\n- **按需加载 CSS**：使用 CSS-in-JS（如 Emotion）或 CSS Modules，避免全局 CSS 文件过大。\n- **关键 CSS**：提取首屏所需的 CSS，内联到 `<head>` 中，剩余部分异步加载。\n\n```html\n<style>\n  /* 内联关键 CSS */\n  h1 { font-size: 24px; color: #333; }\n</style>\n<link rel=\"stylesheet\" href=\"/styles/async.css\" media=\"print\" onload=\"this.media='all'\" />\n```\n\n---\n\n## 6. 真实案例分析\n\n### 案例：电商首页优化\n某电商首页初始 FCP 为 4.2 秒，经过以下优化后降至 1.8 秒：\n1. **代码分割**：将商品列表组件懒加载，减少 300KB 的 JS。\n2. **图片懒加载**：对非首屏商品图片使用 `loading=\"lazy\"`。\n3. **SSR**：使用 Next.js 实现服务端渲染，首屏内容提前呈现。\n4. **预加载**：对关键商品数据 API 使用 `rel=\"preload\"`。\n\n### 结果\n- FCP 从 4.2s 降至 1.8s。\n- 用户留存率提升 15%（根据埋点数据）。\n\n---\n\n## 总结\n\nReact 首屏优化是一个系统工程，涉及资源加载、代码执行和渲染策略的方方面面。通过代码分割、懒加载、SSR、资源预加载等技术，我们可以在不牺牲功能的前提下大幅提升性能。希望这篇文章能给你带来启发，下次开发 React 应用时，不妨从首屏优化开始，让用户体验更上一层楼！\n\n有什么想补充的优化技巧吗？欢迎在评论区分享你的经验！\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),f=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},s=(n,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return n};var B=(n,e,r)=>(r=n!=null?p(F(n)):{},s(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),m=n=>s(c({},\"__esModule\",{value:!0}),n);var t=u((k,i)=>{i.exports=_jsx_runtime});var b={};f(b,{default:()=>h,frontmatter:()=>S});var l=B(t()),S={type:\"Post\",title:\"React \\u9996\\u5C4F\\u4F18\\u5316\\u5B9E\\u6218\",date:\"2024-05-13\",description:\"\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u6DF1\\u5165\\u5256\\u6790 React \\u5E94\\u7528\\u9996\\u5C4F\\u4F18\\u5316\\u7684\\u5404\\u79CD\\u7B56\\u7565\\uFF0C\\u6DB5\\u76D6\\u4EE3\\u7801\\u5206\\u5272\\u3001\\u61D2\\u52A0\\u8F7D\\u3001\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u3001\\u8D44\\u6E90\\u9884\\u52A0\\u8F7D\\u7B49\\u6280\\u672F\\uFF0C\\u9644\\u5E26\\u771F\\u5B9E\\u6848\\u4F8B\\u548C\\u4EE3\\u7801\\u793A\\u4F8B\\u3002\",keywords:\"React, \\u9996\\u5C4F\\u4F18\\u5316, \\u4EE3\\u7801\\u5206\\u5272, \\u61D2\\u52A0\\u8F7D, SSR, \\u9884\\u52A0\\u8F7D, \\u524D\\u7AEF\\u6027\\u80FD, Web Vitals\",author:\"\\u6653\\u9F99\",image:\"/images/hero/react-performance.jpg\",tags:[\"React\",\"\\u524D\\u7AEF\\u6027\\u80FD\",\"Web \\u5F00\\u53D1\"],category:\"React\"};function o(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"\\u5728\\u73B0\\u4EE3 Web \\u5F00\\u53D1\\u4E2D\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u662F\\u738B\\u9053\\uFF0C\\u800C\\u9996\\u5C4F\\u52A0\\u8F7D\\u901F\\u5EA6\\u76F4\\u63A5\\u51B3\\u5B9A\\u4E86\\u7528\\u6237\\u662F\\u5426\\u4F1A\\u7EE7\\u7EED\\u505C\\u7559\\u5728\\u4F60\\u7684\\u9875\\u9762\\u4E0A\\u3002Google \\u7684\\u7814\\u7A76\\u8868\\u660E\\uFF0C\\u5982\\u679C\\u9875\\u9762\\u52A0\\u8F7D\\u65F6\\u95F4\\u8D85\\u8FC7 3 \\u79D2\\uFF0C53% \\u7684\\u79FB\\u52A8\\u7AEF\\u7528\\u6237\\u4F1A\\u9009\\u62E9\\u79BB\\u5F00\\u3002\\u5BF9\\u4E8E React \\u5E94\\u7528\\u6765\\u8BF4\\uFF0C\\u7531\\u4E8E\\u5176\\u7EC4\\u4EF6\\u5316\\u7279\\u6027\\u548C\\u865A\\u62DF DOM \\u7684\\u5F3A\\u5927\\u529F\\u80FD\\uFF0C\\u5F00\\u53D1\\u8005\\u5F88\\u5BB9\\u6613\\u4E13\\u6CE8\\u4E8E\\u529F\\u80FD\\u5B9E\\u73B0\\u800C\\u5FFD\\u7565\\u6027\\u80FD\\u4F18\\u5316\\u3002\\u672C\\u6587\\u5C06\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u6DF1\\u5165 React \\u9996\\u5C4F\\u4F18\\u5316\\u7684\\u5404\\u79CD\\u7B56\\u7565\\uFF0C\\u7ED3\\u5408\\u771F\\u5B9E\\u6848\\u4F8B\\u548C\\u4EE3\\u7801\\u793A\\u4F8B\\uFF0C\\u8BA9\\u4F60\\u7684\\u5E94\\u7528\\u5FEB\\u5982\\u95EA\\u7535\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9996\\u5C4F\\u4F18\\u5316\\u5982\\u6B64\\u91CD\\u8981\",children:(0,l.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u9996\\u5C4F\\u4F18\\u5316\\u5982\\u6B64\\u91CD\\u8981\",children:\"\\u4E3A\\u4EC0\\u4E48\\u9996\\u5C4F\\u4F18\\u5316\\u5982\\u6B64\\u91CD\\u8981\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9996\\u5C4F\\u65F6\\u95F4\\uFF08First Contentful Paint, FCP\\uFF09\\u662F Web Vitals \\u7684\\u6838\\u5FC3\\u6307\\u6807\\u4E4B\\u4E00\\uFF0C\\u5B83\\u8861\\u91CF\\u7684\\u662F\\u7528\\u6237\\u4ECE\\u6253\\u5F00\\u9875\\u9762\\u5230\\u770B\\u5230\\u7B2C\\u4E00\\u4E2A\\u6709\\u610F\\u4E49\\u5185\\u5BB9\\u7684\\u65F6\\u95F4\\u3002\\u5BF9\\u4E8E\\u5355\\u9875\\u5E94\\u7528\\uFF08SPA\\uFF09\\u5982 React \\u5E94\\u7528\\uFF0C\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C\\u6240\\u6709 JavaScript \\u90FD\\u9700\\u8981\\u4E0B\\u8F7D\\u3001\\u89E3\\u6790\\u5E76\\u6267\\u884C\\u540E\\u624D\\u80FD\\u6E32\\u67D3\\u9875\\u9762\\uFF0C\\u8FD9\\u5F80\\u5F80\\u5BFC\\u81F4\\u9996\\u5C4F\\u65F6\\u95F4\\u8FC7\\u957F\\u3002\\u800C\\u73B0\\u4EE3\\u7528\\u6237\\u5BF9\\u901F\\u5EA6\\u7684\\u671F\\u5F85\\u8D8A\\u6765\\u8D8A\\u9AD8\\uFF0C\\u4F18\\u5316\\u9996\\u5C4F\\u52A0\\u8F7D\\u4E0D\\u4EC5\\u80FD\\u63D0\\u5347\\u7528\\u6237\\u4F53\\u9A8C\\uFF0C\\u8FD8\\u80FD\\u63D0\\u9AD8 SEO \\u6392\\u540D\\u548C\\u8F6C\\u5316\\u7387\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"React \\u7684\\u9996\\u5C4F\\u4F18\\u5316\\u672C\\u8D28\\u4E0A\\u662F\\u5BF9\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u73AF\\u8282\\u7684\\u6539\\u8FDB\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8D44\\u6E90\\u52A0\\u8F7D\"}),\"\\uFF1A\\u51CF\\u5C11\\u9996\\u5C4F\\u6240\\u9700\\u7684\\u9759\\u6001\\u8D44\\u6E90\\u4F53\\u79EF\\u548C\\u6570\\u91CF\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6267\\u884C\\u6548\\u7387\"}),\"\\uFF1A\\u964D\\u4F4E JavaScript \\u7684\\u89E3\\u6790\\u548C\\u6267\\u884C\\u65F6\\u95F4\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6E32\\u67D3\\u7B56\\u7565\"}),\"\\uFF1A\\u9009\\u62E9\\u5408\\u9002\\u7684\\u6E32\\u67D3\\u65B9\\u5F0F\\uFF08\\u5982 CSR\\u3001SSR \\u6216 SSG\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u9010\\u4E00\\u62C6\\u89E3\\u8FD9\\u4E9B\\u73AF\\u8282\\uFF0C\\u5E76\\u7ED9\\u51FA\\u5B9E\\u6218\\u65B9\\u6848\\u3002\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"1-\\u4EE3\\u7801\\u5206\\u5272\\u53EA\\u52A0\\u8F7D\\u5FC5\\u8981\\u7684\\u4EE3\\u7801\",children:(0,l.jsx)(e.a,{href:\"#1-\\u4EE3\\u7801\\u5206\\u5272\\u53EA\\u52A0\\u8F7D\\u5FC5\\u8981\\u7684\\u4EE3\\u7801\",children:\"1. \\u4EE3\\u7801\\u5206\\u5272\\uFF1A\\u53EA\\u52A0\\u8F7D\\u5FC5\\u8981\\u7684\\u4EE3\\u7801\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"React SPA \\u7684\\u4E00\\u4E2A\\u5E38\\u89C1\\u95EE\\u9898\\u662F\\u201C\\u6253\\u5305\\u6210\\u4E00\\u4E2A\\u5927 Bundle\\u201D\\u3002\\u5047\\u8BBE\\u4F60\\u7684\\u5E94\\u7528\\u5305\\u542B\\u9996\\u9875\\u3001\\u7528\\u6237\\u4E2D\\u5FC3\\u548C\\u535A\\u5BA2\\u9875\\u9762\\uFF0C\\u5982\\u679C\\u6240\\u6709\\u4EE3\\u7801\\u90FD\\u6253\\u5305\\u5230\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"main.js\"})})})}),\" \\u6587\\u4EF6\\u4E2D\\uFF0C\\u7528\\u6237\\u8BBF\\u95EE\\u9996\\u9875\\u65F6\\u4E5F\\u4F1A\\u52A0\\u8F7D\\u5176\\u4ED6\\u9875\\u9762\\u7684\\u4EE3\\u7801\\uFF0C\\u8FD9\\u663E\\u7136\\u662F\\u6D6A\\u8D39\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406\",children:\"\\u539F\\u7406\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4EE3\\u7801\\u5206\\u5272\\u7684\\u6838\\u5FC3\\u601D\\u60F3\\u662F\\u6309\\u9700\\u52A0\\u8F7D\\uFF08Lazy Loading\\uFF09\\u3002React \\u63D0\\u4F9B\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.lazy\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Suspense\"})})})}),\"\\uFF0C\\u7ED3\\u5408 Webpack \\u6216 Vite \\u7684\\u52A8\\u6001\\u5BFC\\u5165\\uFF08Dynamic Import\\uFF09\\uFF0C\\u53EF\\u4EE5\\u5C06\\u7EC4\\u4EF6\\u62C6\\u5206\\u6210\\u591A\\u4E2A\\u5C0F\\u7684 Chunk\\uFF0C\\u53EA\\u6709\\u5728\\u9700\\u8981\\u65F6\\u624D\\u52A0\\u8F7D\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5B9E\\u6218\\u793A\\u4F8B\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u6218\\u793A\\u4F8B\",children:\"\\u5B9E\\u6218\\u793A\\u4F8B\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5047\\u8BBE\\u4F60\\u6709\\u4E00\\u4E2A\\u7535\\u5546\\u5E94\\u7528\\uFF0C\\u5305\\u542B\\u9996\\u9875\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Home\"})})})}),\"\\uFF09\\u3001\\u5546\\u54C1\\u8BE6\\u60C5\\u9875\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ProductDetail\"})})})}),\"\\uFF09\\u548C\\u8D2D\\u7269\\u8F66\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Cart\"})})})}),\"\\uFF09\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u8FD9\\u6837\\u5B9E\\u73B0\\u4EE3\\u7801\\u5206\\u5272\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { Suspense } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { BrowserRouter \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Router, Route, Switch } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react-router-dom'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u52A8\\u6001\\u5BFC\\u5165\\u7EC4\\u4EF6\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Home\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"lazy\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./components/Home'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ProductDetail\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"lazy\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./components/ProductDetail'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Cart\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"lazy\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./components/Cart'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Router\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fallback\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u52A0\\u8F7D\\u4E2D...</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Switch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Route\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" exact\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" path\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" component\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{Home} />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Route\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" path\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/product/:id\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" component\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{ProductDetail} />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Route\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" path\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/cart\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" component\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{Cart} />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Switch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Router\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" App;\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6548\\u679C\",children:(0,l.jsx)(e.a,{href:\"#\\u6548\\u679C\",children:\"\\u6548\\u679C\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u6253\\u5305\\u540E\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Home\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ProductDetail\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Cart\"})})})}),\" \\u4F1A\\u88AB\\u62C6\\u5206\\u6210\\u5355\\u72EC\\u7684 Chunk \\u6587\\u4EF6\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u7528\\u6237\\u8BBF\\u95EE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/\"})})})}),\" \\u65F6\\uFF0C\\u53EA\\u52A0\\u8F7D \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Home\"})})})}),\" \\u7684\\u4EE3\\u7801\\uFF0C\\u5176\\u4ED6\\u9875\\u9762\\u7684\\u4EE3\\u7801\\u4E0D\\u4F1A\\u52A0\\u8F7D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u901A\\u8FC7 Chrome DevTools \\u7684 Network \\u9762\\u677F\\uFF0C\\u4F60\\u4F1A\\u770B\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"product-detail.chunk.js\"})})})}),\" \\u53EA\\u6709\\u5728\\u8BBF\\u95EE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/product/123\"})})})}),\" \\u65F6\\u624D\\u52A0\\u8F7D\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6CE8\\u610F\\u4E8B\\u9879\",children:(0,l.jsx)(e.a,{href:\"#\\u6CE8\\u610F\\u4E8B\\u9879\",children:\"\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Fallback \\u4F53\\u9A8C\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Suspense\"})})})}),\" \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"fallback\"})})})}),\" \\u7EC4\\u4EF6\\u8981\\u8F7B\\u91CF\\u5316\\uFF0C\\u907F\\u514D\\u52A0\\u8F7D\\u52A8\\u753B\\u672C\\u8EAB\\u62D6\\u6162\\u9996\\u5C4F\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8DEF\\u7531\\u7EA7\\u5206\\u5272\"}),\"\\uFF1A\\u7ED3\\u5408 React Router \\u662F\\u6700\\u5E38\\u89C1\\u7684\\u4EE3\\u7801\\u5206\\u5272\\u573A\\u666F\\uFF0C\\u4F46\\u4E5F\\u53EF\\u4EE5\\u5728\\u7EC4\\u4EF6\\u7EA7\\u522B\\u5206\\u5272\\uFF0C\\u6BD4\\u5982\\u4E00\\u4E2A\\u590D\\u6742\\u7684 Modal\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"2-\\u61D2\\u52A0\\u8F7D\\u56FE\\u7247\\u548C\\u7EC4\\u4EF6\",children:(0,l.jsx)(e.a,{href:\"#2-\\u61D2\\u52A0\\u8F7D\\u56FE\\u7247\\u548C\\u7EC4\\u4EF6\",children:\"2. \\u61D2\\u52A0\\u8F7D\\u56FE\\u7247\\u548C\\u7EC4\\u4EF6\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9664\\u4E86\\u8DEF\\u7531\\u7EA7\\u522B\\u7684\\u4EE3\\u7801\\u5206\\u5272\\uFF0C\\u56FE\\u7247\\u548C\\u975E\\u5173\\u952E\\u7EC4\\u4EF6\\u7684\\u61D2\\u52A0\\u8F7D\\u4E5F\\u80FD\\u663E\\u8457\\u63D0\\u5347\\u9996\\u5C4F\\u901F\\u5EA6\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\",children:(0,l.jsx)(e.a,{href:\"#\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\",children:\"\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5BF9\\u4E8E\\u56FE\\u7247\\u5BC6\\u96C6\\u578B\\u5E94\\u7528\\uFF08\\u5982\\u7535\\u5546\\u6216\\u535A\\u5BA2\\uFF09\\uFF0C\\u9996\\u5C4F\\u5916\\u7684\\u56FE\\u7247\\u65E0\\u9700\\u7ACB\\u5373\\u52A0\\u8F7D\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528\\u6D4F\\u89C8\\u5668\\u7684\\u539F\\u751F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'loading=\"lazy\"'})})})}),\" \\u5C5E\\u6027\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"img\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" src\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/images/product.jpg\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" alt\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5546\\u54C1\\u56FE\\u7247\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" loading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"lazy\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]})})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6216\\u8005\\u7528 Intersection Observer \\u5B9E\\u73B0\\u81EA\\u5B9A\\u4E49\\u61D2\\u52A0\\u8F7D\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useEffect, useRef, useState } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" LazyImage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"src\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"alt\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" imgRef\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"inView\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setInView\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" observer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" IntersectionObserver\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ([\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"entry\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (entry.isIntersecting) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          setInView\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          observer.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"disconnect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      { rootMargin: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'50px'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (imgRef.current) observer.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"observe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(imgRef.current);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" observer.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"disconnect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" inView \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"img\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" src\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{src} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"alt\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{alt} />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{imgRef} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ height: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'200px'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", background: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#eee'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }} />\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" LazyImage;\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u975E\\u5173\\u952E\\u7EC4\\u4EF6\\u61D2\\u52A0\\u8F7D\",children:(0,l.jsx)(e.a,{href:\"#\\u975E\\u5173\\u952E\\u7EC4\\u4EF6\\u61D2\\u52A0\\u8F7D\",children:\"\\u975E\\u5173\\u952E\\u7EC4\\u4EF6\\u61D2\\u52A0\\u8F7D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6BD4\\u5982\\u4E00\\u4E2A\\u590D\\u6742\\u7684\\u7EDF\\u8BA1\\u56FE\\u8868\\u7EC4\\u4EF6\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Chart\"})})})}),\"\\uFF09\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.lazy\"})})})}),\" \\u5EF6\\u8FDF\\u52A0\\u8F7D\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Chart\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"lazy\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./components/Chart'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Dashboard\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fallback\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u56FE\\u8868\\u52A0\\u8F7D\\u4E2D...</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Chart\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6548\\u679C-1\",children:(0,l.jsx)(e.a,{href:\"#\\u6548\\u679C-1\",children:\"\\u6548\\u679C\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u9996\\u5C4F\\u53EA\\u52A0\\u8F7D\\u53EF\\u89C6\\u533A\\u57DF\\u7684\\u5185\\u5BB9\\uFF0C\\u51CF\\u5C11\\u521D\\u59CB JavaScript \\u548C\\u56FE\\u7247\\u7684\\u8BF7\\u6C42\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"Lighthouse \\u8BC4\\u5206\\u4E2D\\u7684 \\u201CTime to Interactive\\u201D \\u4F1A\\u660E\\u663E\\u7F29\\u77ED\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"3-\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3ssr\\u52A0\\u901F\\u9996\\u5C4F\\u5185\\u5BB9\\u5448\\u73B0\",children:(0,l.jsx)(e.a,{href:\"#3-\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3ssr\\u52A0\\u901F\\u9996\\u5C4F\\u5185\\u5BB9\\u5448\\u73B0\",children:\"3. \\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF08SSR\\uFF09\\uFF1A\\u52A0\\u901F\\u9996\\u5C4F\\u5185\\u5BB9\\u5448\\u73B0\"})}),`\n`,(0,l.jsx)(e.p,{children:\"React \\u9ED8\\u8BA4\\u7684\\u5BA2\\u6237\\u7AEF\\u6E32\\u67D3\\uFF08CSR\\uFF09\\u9700\\u8981\\u7B49\\u5F85 JavaScript \\u6267\\u884C\\u5B8C\\u6210\\u624D\\u80FD\\u663E\\u793A\\u5185\\u5BB9\\uFF0C\\u800C\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF08SSR\\uFF09\\u53EF\\u4EE5\\u76F4\\u63A5\\u8FD4\\u56DE\\u5E26\\u6709\\u5185\\u5BB9\\u7684 HTML\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406-1\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406-1\",children:\"\\u539F\\u7406\"})}),`\n`,(0,l.jsx)(e.p,{children:\"SSR \\u5728\\u670D\\u52A1\\u5668\\u7AEF\\u8FD0\\u884C React \\u7EC4\\u4EF6\\uFF0C\\u751F\\u6210 HTML \\u540E\\u53D1\\u9001\\u7ED9\\u6D4F\\u89C8\\u5668\\uFF0C\\u7528\\u6237\\u80FD\\u7ACB\\u5373\\u770B\\u5230\\u5185\\u5BB9\\u3002\\u968F\\u540E\\uFF0C\\u5BA2\\u6237\\u7AEF\\u201C\\u63A5\\u7BA1\\u201D\\u9875\\u9762\\uFF08Hydration\\uFF09\\uFF0C\\u4F7F\\u5176\\u53D8\\u4E3A\\u4EA4\\u4E92\\u5F0F\\u5E94\\u7528\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5B9E\\u6218nextjs-ssr-\\u793A\\u4F8B\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u6218nextjs-ssr-\\u793A\\u4F8B\",children:\"\\u5B9E\\u6218\\uFF1ANext.js SSR \\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Next.js \\u662F\\u5B9E\\u73B0 React SSR \\u7684\\u5229\\u5668\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 SSR \\u9875\\u9762\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// pages/index.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useEffect } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getServerSideProps\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'https://api.example.com/data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { props: { data } };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Home\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5BA2\\u6237\\u7AEF\\u5DF2\\u63A5\\u7BA1'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u6B22\\u8FCE\\u6765\\u5230\\u9996\\u9875</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{data.message}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Home;\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6548\\u679C-2\",children:(0,l.jsx)(e.a,{href:\"#\\u6548\\u679C-2\",children:\"\\u6548\\u679C\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u7528\\u6237\\u5728\\u6536\\u5230 HTML \\u65F6\\u5C31\\u80FD\\u770B\\u5230\\u5185\\u5BB9\\uFF0C\\u65E0\\u9700\\u7B49\\u5F85 JavaScript\\u3002\"}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u901A\\u8FC7\\u67E5\\u770B\\u6E90\\u7801\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<div>\"})})})}),\" \\u5185\\u7684\\u5185\\u5BB9\\u5DF2\\u5728\\u670D\\u52A1\\u5668\\u7AEF\\u6E32\\u67D3\\u5B8C\\u6210\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6CE8\\u610F\\u4E8B\\u9879-1\",children:(0,l.jsx)(e.a,{href:\"#\\u6CE8\\u610F\\u4E8B\\u9879-1\",children:\"\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Hydration \\u5F00\\u9500\"}),\"\\uFF1ASSR \\u540E\\u5BA2\\u6237\\u7AEF\\u4ECD\\u9700\\u52A0\\u8F7D JS \\u8FDB\\u884C Hydration\\uFF0C\\u786E\\u4FDD\\u7EC4\\u4EF6\\u903B\\u8F91\\u5C3D\\u91CF\\u7B80\\u5355\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F13\\u5B58\"}),\"\\uFF1A\\u7ED3\\u5408 CDN \\u6216 Redis \\u7F13\\u5B58 API \\u6570\\u636E\\uFF0C\\u51CF\\u5C11\\u670D\\u52A1\\u5668\\u538B\\u529B\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"4-\\u8D44\\u6E90\\u9884\\u52A0\\u8F7D\\u4E0E\\u9884\\u89E3\\u6790\",children:(0,l.jsx)(e.a,{href:\"#4-\\u8D44\\u6E90\\u9884\\u52A0\\u8F7D\\u4E0E\\u9884\\u89E3\\u6790\",children:\"4. \\u8D44\\u6E90\\u9884\\u52A0\\u8F7D\\u4E0E\\u9884\\u89E3\\u6790\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u652F\\u6301 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<link>\"})})})}),\" \\u6807\\u7B7E\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'rel=\"preload\"'})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'rel=\"dns-prefetch\"'})})})}),\"\\uFF0C\\u53EF\\u4EE5\\u52A0\\u901F\\u5173\\u952E\\u8D44\\u6E90\\u7684\\u52A0\\u8F7D\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u793A\\u4F8B\",children:(0,l.jsx)(e.a,{href:\"#\\u793A\\u4F8B\",children:\"\\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5047\\u8BBE\\u4F60\\u7684\\u5E94\\u7528\\u4F9D\\u8D56\\u4E00\\u4E2A\\u5B57\\u4F53\\u6587\\u4EF6\\u548C\\u4E00\\u4E2A\\u5173\\u952E\\u811A\\u672C\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"head\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  <!-- \\u9884\\u52A0\\u8F7D\\u5B57\\u4F53 -->\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"link\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" rel\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"preload\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" href\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/fonts/myfont.woff2\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" as\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"font\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" type\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"font/woff2\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" crossorigin\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  <!-- \\u9884\\u89E3\\u6790 API \\u57DF\\u540D -->\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"link\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" rel\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"dns-prefetch\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" href\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"head\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u539F\\u7406-2\",children:(0,l.jsx)(e.a,{href:\"#\\u539F\\u7406-2\",children:\"\\u539F\\u7406\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"preload\"})})})}),\" \\u544A\\u8BC9\\u6D4F\\u89C8\\u5668\\u63D0\\u524D\\u52A0\\u8F7D\\u8D44\\u6E90\\uFF0C\\u4F46\\u4E0D\\u6267\\u884C\\uFF0C\\u9002\\u7528\\u4E8E\\u9996\\u5C4F\\u5FC5\\u9700\\u7684\\u8D44\\u6E90\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"dns-prefetch\"})})})}),\" \\u63D0\\u524D\\u89E3\\u6790\\u57DF\\u540D DNS\\uFF0C\\u51CF\\u5C11\\u7F51\\u7EDC\\u8BF7\\u6C42\\u7684\\u5EF6\\u8FDF\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6548\\u679C-3\",children:(0,l.jsx)(e.a,{href:\"#\\u6548\\u679C-3\",children:\"\\u6548\\u679C\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728 Network \\u9762\\u677F\\u4E2D\\uFF0C\\u4F60\\u4F1A\\u770B\\u5230\\u5B57\\u4F53\\u6587\\u4EF6\\u5728\\u9875\\u9762\\u52A0\\u8F7D\\u65E9\\u671F\\u5C31\\u88AB\\u8BF7\\u6C42\\uFF0C\\u800C API \\u8BF7\\u6C42\\u7684 DNS \\u89E3\\u6790\\u65F6\\u95F4\\u51E0\\u4E4E\\u4E3A 0\\u3002\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"5-\\u51CF\\u5C11\\u6E32\\u67D3\\u963B\\u585Etree-shaking-\\u4E0E-css-\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#5-\\u51CF\\u5C11\\u6E32\\u67D3\\u963B\\u585Etree-shaking-\\u4E0E-css-\\u4F18\\u5316\",children:\"5. \\u51CF\\u5C11\\u6E32\\u67D3\\u963B\\u585E\\uFF1ATree Shaking \\u4E0E CSS \\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"tree-shaking\",children:(0,l.jsx)(e.a,{href:\"#tree-shaking\",children:\"Tree Shaking\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u73B0\\u4EE3\\u6253\\u5305\\u5DE5\\u5177\\uFF08\\u5982 Webpack\\u3001Rollup\\uFF09\\u652F\\u6301 Tree Shaking\\uFF0C\\u79FB\\u9664\\u672A\\u4F7F\\u7528\\u7684\\u4EE3\\u7801\\u3002\\u4F8B\\u5982\\uFF0C\\u4F7F\\u7528 Lodash \\u65F6\\u53EA\\u5BFC\\u5165\\u9700\\u8981\\u7684\\u51FD\\u6570\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { debounce } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'lodash-es'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Search\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" handleSearch\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" debounce\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"300\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onChange\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleSearch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value)} />;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"css-\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#css-\\u4F18\\u5316\",children:\"CSS \\u4F18\\u5316\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6309\\u9700\\u52A0\\u8F7D CSS\"}),\"\\uFF1A\\u4F7F\\u7528 CSS-in-JS\\uFF08\\u5982 Emotion\\uFF09\\u6216 CSS Modules\\uFF0C\\u907F\\u514D\\u5168\\u5C40 CSS \\u6587\\u4EF6\\u8FC7\\u5927\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5173\\u952E CSS\"}),\"\\uFF1A\\u63D0\\u53D6\\u9996\\u5C4F\\u6240\\u9700\\u7684 CSS\\uFF0C\\u5185\\u8054\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<head>\"})})})}),\" \\u4E2D\\uFF0C\\u5269\\u4F59\\u90E8\\u5206\\u5F02\\u6B65\\u52A0\\u8F7D\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  /* \\u5185\\u8054\\u5173\\u952E CSS */\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"  h1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"font-size\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"24\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"color\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"#333\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; }\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"link\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" rel\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"stylesheet\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" href\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/styles/async.css\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" media\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"print\"'}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onload\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"media\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:`'all'\"`}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]})]})})}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"6-\\u771F\\u5B9E\\u6848\\u4F8B\\u5206\\u6790\",children:(0,l.jsx)(e.a,{href:\"#6-\\u771F\\u5B9E\\u6848\\u4F8B\\u5206\\u6790\",children:\"6. \\u771F\\u5B9E\\u6848\\u4F8B\\u5206\\u6790\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u6848\\u4F8B\\u7535\\u5546\\u9996\\u9875\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#\\u6848\\u4F8B\\u7535\\u5546\\u9996\\u9875\\u4F18\\u5316\",children:\"\\u6848\\u4F8B\\uFF1A\\u7535\\u5546\\u9996\\u9875\\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u67D0\\u7535\\u5546\\u9996\\u9875\\u521D\\u59CB FCP \\u4E3A 4.2 \\u79D2\\uFF0C\\u7ECF\\u8FC7\\u4EE5\\u4E0B\\u4F18\\u5316\\u540E\\u964D\\u81F3 1.8 \\u79D2\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4EE3\\u7801\\u5206\\u5272\"}),\"\\uFF1A\\u5C06\\u5546\\u54C1\\u5217\\u8868\\u7EC4\\u4EF6\\u61D2\\u52A0\\u8F7D\\uFF0C\\u51CF\\u5C11 300KB \\u7684 JS\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\"}),\"\\uFF1A\\u5BF9\\u975E\\u9996\\u5C4F\\u5546\\u54C1\\u56FE\\u7247\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'loading=\"lazy\"'})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"SSR\"}),\"\\uFF1A\\u4F7F\\u7528 Next.js \\u5B9E\\u73B0\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF0C\\u9996\\u5C4F\\u5185\\u5BB9\\u63D0\\u524D\\u5448\\u73B0\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9884\\u52A0\\u8F7D\"}),\"\\uFF1A\\u5BF9\\u5173\\u952E\\u5546\\u54C1\\u6570\\u636E API \\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'rel=\"preload\"'})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u7ED3\\u679C\",children:(0,l.jsx)(e.a,{href:\"#\\u7ED3\\u679C\",children:\"\\u7ED3\\u679C\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"FCP \\u4ECE 4.2s \\u964D\\u81F3 1.8s\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u7528\\u6237\\u7559\\u5B58\\u7387\\u63D0\\u5347 15%\\uFF08\\u6839\\u636E\\u57CB\\u70B9\\u6570\\u636E\\uFF09\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u603B\\u7ED3\",children:(0,l.jsx)(e.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,l.jsx)(e.p,{children:\"React \\u9996\\u5C4F\\u4F18\\u5316\\u662F\\u4E00\\u4E2A\\u7CFB\\u7EDF\\u5DE5\\u7A0B\\uFF0C\\u6D89\\u53CA\\u8D44\\u6E90\\u52A0\\u8F7D\\u3001\\u4EE3\\u7801\\u6267\\u884C\\u548C\\u6E32\\u67D3\\u7B56\\u7565\\u7684\\u65B9\\u65B9\\u9762\\u9762\\u3002\\u901A\\u8FC7\\u4EE3\\u7801\\u5206\\u5272\\u3001\\u61D2\\u52A0\\u8F7D\\u3001SSR\\u3001\\u8D44\\u6E90\\u9884\\u52A0\\u8F7D\\u7B49\\u6280\\u672F\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u4E0D\\u727A\\u7272\\u529F\\u80FD\\u7684\\u524D\\u63D0\\u4E0B\\u5927\\u5E45\\u63D0\\u5347\\u6027\\u80FD\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u7ED9\\u4F60\\u5E26\\u6765\\u542F\\u53D1\\uFF0C\\u4E0B\\u6B21\\u5F00\\u53D1 React \\u5E94\\u7528\\u65F6\\uFF0C\\u4E0D\\u59A8\\u4ECE\\u9996\\u5C4F\\u4F18\\u5316\\u5F00\\u59CB\\uFF0C\\u8BA9\\u7528\\u6237\\u4F53\\u9A8C\\u66F4\\u4E0A\\u4E00\\u5C42\\u697C\\uFF01\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6709\\u4EC0\\u4E48\\u60F3\\u8865\\u5145\\u7684\\u4F18\\u5316\\u6280\\u5DE7\\u5417\\uFF1F\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u5206\\u4EAB\\u4F60\\u7684\\u7ECF\\u9A8C\\uFF01\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}return m(b);})();\n;return Component;"
  },
  "_id": "React/React首屏优化实战.mdx",
  "_raw": {
    "sourceFilePath": "React/React首屏优化实战.mdx",
    "sourceFileName": "React首屏优化实战.mdx",
    "sourceFileDir": "React",
    "contentType": "mdx",
    "flattenedPath": "React/React首屏优化实战"
  },
  "type": "Post",
  "url": "/blog/React/React首屏优化实战"
}
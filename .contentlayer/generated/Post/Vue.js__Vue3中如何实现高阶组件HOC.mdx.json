{
  "title": "Vue3 中如何实现高阶组件 HOC？",
  "date": "2023-03-23T00:00:00.000Z",
  "description": "深入探讨 Vue3 中高阶组件（HOC）的实现方式，包含多种使用场景、示例代码和最佳实践。",
  "keywords": "Vue3, 高阶组件, HOC, 组件复用, Composition API, 前端开发",
  "author": "晓龙",
  "image": "/images/hero/vue3-hoc.jpg",
  "tags": [
    "Vue3",
    "前端开发",
    "组件化"
  ],
  "views": 0,
  "likes": 0,
  "category": "Vue.js",
  "body": {
    "raw": "\nVue3 作为 Vue.js 的最新版本，带来了许多强大的新特性，例如 Composition API、Teleport 和 Fragments 等。虽然在 React 生态中，高阶组件（Higher-Order Components, HOC）是一种常见的模式，用于复用组件逻辑，但在 Vue3 中，官方更推荐使用 Composition API 来实现类似的逻辑复用。然而，HOC 在某些场景下仍然有其独特的价值，尤其是在需要封装组件、增强功能或与现有代码集成时。\n\n本文将详细讲解在 Vue3 中如何实现高阶组件，探讨其适用场景，并通过多个示例帮助你理解其用法和注意事项。\n\n## 什么是高阶组件（HOC）？\n\n高阶组件是一个函数，它接收一个组件作为参数，并返回一个新的增强组件。HOC 的核心思想是通过封装和抽象来复用逻辑，通常用于添加额外的功能（如数据获取、权限控制、日志记录等），而无需修改原始组件的代码。\n\n在 Vue3 中，虽然 Composition API 提供了更灵活的逻辑复用方式，但 HOC 仍然可以通过组合选项式 API 或 Composition API 来实现。接下来，我们将从基础到高级逐步讲解。\n\n## Vue3 中实现 HOC 的基本思路\n\n在 Vue3 中实现 HOC 有以下几种方式：\n1. **基于选项式 API 的 HOC**：通过操作组件的选项（如 `props`、`data`、`methods`）来增强功能。\n2. **基于 Composition API 的 HOC**：利用 `setup` 函数或脚本式 `<script setup>` 封装逻辑。\n3. **动态组件与 HOC 的结合**：通过动态组件和渲染函数实现更复杂的增强。\n\n### 实现 HOC 的步骤\n1. 定义一个高阶函数，接收原始组件作为参数。\n2. 创建一个新组件，继承或增强原始组件的功能。\n3. 返回新组件。\n\n## 示例 1：简单的日志记录 HOC\n\n假设我们希望为组件添加日志功能，记录组件的生命周期事件。我们可以使用选项式 API 来实现。\n\n```javascript\n// withLogger.js\nimport { defineComponent } from 'vue';\n\nexport function withLogger(WrappedComponent) {\n  return defineComponent({\n    name: `WithLogger${WrappedComponent.name || 'Component'}`,\n    setup(props, context) {\n      console.log(`[${WrappedComponent.name}] Component initialized`);\n\n      // 监听生命周期\n      onMounted(() => {\n        console.log(`[${WrappedComponent.name}] Component mounted`);\n      });\n      onUnmounted(() => {\n        console.log(`[${WrappedComponent.name}] Component unmounted`);\n      });\n\n      // 调用原始组件的 setup（如果有）\n      const wrappedSetup = WrappedComponent.setup;\n      if (wrappedSetup) {\n        return wrappedSetup(props, context);\n      }\n    },\n    // 继承原始组件的选项\n    ...WrappedComponent,\n  });\n}\n\n// 使用示例\n// MyComponent.vue\n<script>\nimport { defineComponent } from 'vue';\nimport { withLogger } from './withLogger';\n\nexport default defineComponent({\n  name: 'MyComponent',\n  setup() {\n    return {\n      message: 'Hello, Vue3 HOC!',\n    };\n  },\n});\n</script>\n\n<template>\n  <div>{{ message }}</div>\n</template>\n\n// 应用 HOC\n<script>\nimport MyComponent from './MyComponent.vue';\nimport { withLogger } from './withLogger';\n\nexport default withLogger(MyComponent);\n</script>\n```\n\n在这个例子中，`withLogger` 是一个 HOC，它为原始组件添加了生命周期日志功能。运行后，你会在控制台看到类似以下输出：\n```\n[MyComponent] Component initialized\n[MyComponent] Component mounted\n[MyComponent] Component unmounted\n```\n\n## 示例 2：带参数的 HOC（权限控制）\n\n假设我们需要一个权限控制 HOC，只有特定权限的用户才能看到组件内容。我们可以通过参数化 HOC 来实现。\n\n```javascript\n// withPermission.js\nimport { defineComponent, h } from 'vue';\n\nexport function withPermission(WrappedComponent, requiredPermission) {\n  return defineComponent({\n    name: `WithPermission${WrappedComponent.name || 'Component'}`,\n    props: {\n      userPermissions: {\n        type: Array,\n        default: () => [],\n      },\n    },\n    setup(props, context) {\n      const hasPermission = computed(() =>\n        props.userPermissions.includes(requiredPermission)\n      );\n\n      return () => {\n        if (hasPermission.value) {\n          // 渲染原始组件\n          return h(WrappedComponent, {\n            props: context.attrs,\n            on: context.listeners,\n          });\n        } else {\n          return h('div', '无权限访问此组件');\n        }\n      };\n    },\n  });\n}\n\n// 使用示例\n// SecretContent.vue\n<script>\nimport { defineComponent } from 'vue';\nimport { withPermission } from './withPermission';\n\nexport default defineComponent({\n  name: 'SecretContent',\n  setup() {\n    return {\n      secret: '这是机密信息',\n    };\n  },\n});\n</script>\n\n<template>\n  <div>{{ secret }}</div>\n</template>\n\n// 应用 HOC\n<script>\nimport SecretContent from './SecretContent.vue';\nimport { withPermission } from './withPermission';\n\nexport default withPermission(SecretContent, 'admin');\n</script>\n\n<template>\n  <with-permission-secret-content :user-permissions=\"['user', 'admin']\" />\n</template>\n```\n\n在这个例子中，`withPermission` 接收一个权限字符串作为参数，并根据 `userPermissions` 属性动态决定是否渲染原始组件。如果用户没有所需权限，将显示“无权限访问此组件”。\n\n## 示例 3：基于 Composition API 的 HOC（鼠标位置跟踪）\n\n我们可以用 Composition API 创建一个 HOC，增强组件以跟踪鼠标位置。\n\n```javascript\n// withMouseTracker.js\nimport { defineComponent, h, ref } from 'vue';\n\nexport function withMouseTracker(WrappedComponent) {\n  return defineComponent({\n    name: `WithMouseTracker${WrappedComponent.name || 'Component'}`,\n    setup(props, context) {\n      const mouseX = ref(0);\n      const mouseY = ref(0);\n\n      const updateMousePosition = (event) => {\n        mouseX.value = event.clientX;\n        mouseY.value = event.clientY;\n      };\n\n      onMounted(() => {\n        window.addEventListener('mousemove', updateMousePosition);\n      });\n      onUnmounted(() => {\n        window.removeEventListener('mousemove', updateMousePosition);\n      });\n\n      return () =>\n        h(WrappedComponent, {\n          props: {\n            ...context.attrs,\n            mouseX: mouseX.value,\n            mouseY: mouseY.value,\n          },\n          on: context.listeners,\n        });\n    },\n  });\n}\n\n// 使用示例\n// MouseDisplay.vue\n<script>\nimport { defineComponent } from 'vue';\nimport { withMouseTracker } from './withMouseTracker';\n\nexport default defineComponent({\n  name: 'MouseDisplay',\n  props: ['mouseX', 'mouseY'],\n});\n</script>\n\n<template>\n  <div>\n    鼠标位置: ({{ mouseX }}, {{ mouseY }})\n  </div>\n</template>\n\n// 应用 HOC\n<script>\nimport MouseDisplay from './MouseDisplay.vue';\nimport { withMouseTracker } from './withMouseTracker';\n\nexport default withMouseTracker(MouseDisplay);\n</script>\n```\n\n这个 HOC 为组件添加了鼠标位置跟踪功能，并通过 `props` 将 `mouseX` 和 `mouseY` 传递给原始组件。\n\n## HOC 与 Composition API 的对比\n\n在 Vue3 中，Composition API 是官方推荐的复用逻辑方式。例如，上面的鼠标跟踪功能可以用 `useMouseTracker` 组合函数实现：\n\n```javascript\n// useMouseTracker.js\nimport { ref, onMounted, onUnmounted } from 'vue';\n\nexport function useMouseTracker() {\n  const mouseX = ref(0);\n  const mouseY = ref(0);\n\n  const updateMousePosition = (event) => {\n    mouseX.value = event.clientX;\n    mouseY.value = event.clientY;\n  };\n\n  onMounted(() => {\n    window.addEventListener('mousemove', updateMousePosition);\n  });\n  onUnmounted(() => {\n    window.removeEventListener('mousemove', updateMousePosition);\n  });\n\n  return { mouseX, mouseY };\n}\n\n// 使用\n<script>\nimport { defineComponent } from 'vue';\nimport { useMouseTracker } from './useMouseTracker';\n\nexport default defineComponent({\n  name: 'MouseDisplay',\n  setup() {\n    const { mouseX, mouseY } = useMouseTracker();\n    return { mouseX, mouseY };\n  },\n});\n</script>\n\n<template>\n  <div>鼠标位置: ({{ mouseX }}, {{ mouseY }})</div>\n</template>\n```\n\n### HOC vs Composition API\n- **HOC**：适合封装整个组件，适用于需要增强渲染逻辑或动态控制组件显示的场景。\n- **Composition API**：更灵活，适合复用独立逻辑，代码更直观，易于调试。\n\n## 注意事项\n\n1. **命名冲突**：HOC 创建的新组件可能会覆盖原始组件的名称或属性，建议在 HOC 中显式设置 `name`。\n2. **Props 传递**：确保 HOC 正确传递 `props` 和事件监听器给原始组件。\n3. **性能问题**：过度使用 HOC 可能导致组件层级复杂化，影响渲染性能。\n4. **类型支持**：在 TypeScript 项目中，需要为 HOC 定义类型以确保类型安全。\n\n## 高级用法：组合多个 HOC\n\n我们可以组合多个 HOC 来实现更复杂的功能。例如，组合 `withLogger` 和 `withPermission`：\n\n```javascript\nimport { withLogger } from './withLogger';\nimport { withPermission } from './withPermission';\nimport MyComponent from './MyComponent.vue';\n\nexport default withLogger(withPermission(MyComponent, 'admin'));\n```\n\n这种方式类似于函数组合，但要注意 HOC 的执行顺序会影响最终效果。\n\n## 结论\n\n在 Vue3 中，虽然 Composition API 是更现代的逻辑复用方式，但高阶组件依然是一个强大的工具，适用于特定场景，如封装组件、动态渲染或与遗留代码集成。通过本文的示例，我们展示了如何使用选项式 API 和 Composition API 实现 HOC，并探讨了其优缺点和注意事项。\n\n希望这篇博客能帮助你更好地理解 Vue3 中的 HOC，并在项目中找到适合的复用方案。如果你有其他创意或问题，欢迎在评论区交流！",
    "code": "var Component=(()=>{var h=Object.create;var s=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var m=(l,n)=>()=>(n||l((n={exports:{}}).exports,n),n.exports),g=(l,n)=>{for(var r in n)s(l,r,{get:n[r],enumerable:!0})},o=(l,n,r,c)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let a of y(n))!F.call(l,a)&&a!==r&&s(l,a,{get:()=>n[a],enumerable:!(c=E(n,a))||c.enumerable});return l};var C=(l,n,r)=>(r=l!=null?h(u(l)):{},o(n||!l||!l.__esModule?s(r,\"default\",{value:l,enumerable:!0}):r,l)),B=l=>o(s({},\"__esModule\",{value:!0}),l);var d=m((x,i)=>{i.exports=_jsx_runtime});var v={};g(v,{default:()=>p,frontmatter:()=>f});var e=C(d()),f={type:\"Post\",title:\"Vue3 \\u4E2D\\u5982\\u4F55\\u5B9E\\u73B0\\u9AD8\\u9636\\u7EC4\\u4EF6 HOC\\uFF1F\",date:\"2023-03-23\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8 Vue3 \\u4E2D\\u9AD8\\u9636\\u7EC4\\u4EF6\\uFF08HOC\\uFF09\\u7684\\u5B9E\\u73B0\\u65B9\\u5F0F\\uFF0C\\u5305\\u542B\\u591A\\u79CD\\u4F7F\\u7528\\u573A\\u666F\\u3001\\u793A\\u4F8B\\u4EE3\\u7801\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\",keywords:\"Vue3, \\u9AD8\\u9636\\u7EC4\\u4EF6, HOC, \\u7EC4\\u4EF6\\u590D\\u7528, Composition API, \\u524D\\u7AEF\\u5F00\\u53D1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/vue3-hoc.jpg\",tags:[\"Vue3\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u7EC4\\u4EF6\\u5316\"],category:\"Vue.js\"};function t(l){let n={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"Vue3 \\u4F5C\\u4E3A Vue.js \\u7684\\u6700\\u65B0\\u7248\\u672C\\uFF0C\\u5E26\\u6765\\u4E86\\u8BB8\\u591A\\u5F3A\\u5927\\u7684\\u65B0\\u7279\\u6027\\uFF0C\\u4F8B\\u5982 Composition API\\u3001Teleport \\u548C Fragments \\u7B49\\u3002\\u867D\\u7136\\u5728 React \\u751F\\u6001\\u4E2D\\uFF0C\\u9AD8\\u9636\\u7EC4\\u4EF6\\uFF08Higher-Order Components, HOC\\uFF09\\u662F\\u4E00\\u79CD\\u5E38\\u89C1\\u7684\\u6A21\\u5F0F\\uFF0C\\u7528\\u4E8E\\u590D\\u7528\\u7EC4\\u4EF6\\u903B\\u8F91\\uFF0C\\u4F46\\u5728 Vue3 \\u4E2D\\uFF0C\\u5B98\\u65B9\\u66F4\\u63A8\\u8350\\u4F7F\\u7528 Composition API \\u6765\\u5B9E\\u73B0\\u7C7B\\u4F3C\\u7684\\u903B\\u8F91\\u590D\\u7528\\u3002\\u7136\\u800C\\uFF0CHOC \\u5728\\u67D0\\u4E9B\\u573A\\u666F\\u4E0B\\u4ECD\\u7136\\u6709\\u5176\\u72EC\\u7279\\u7684\\u4EF7\\u503C\\uFF0C\\u5C24\\u5176\\u662F\\u5728\\u9700\\u8981\\u5C01\\u88C5\\u7EC4\\u4EF6\\u3001\\u589E\\u5F3A\\u529F\\u80FD\\u6216\\u4E0E\\u73B0\\u6709\\u4EE3\\u7801\\u96C6\\u6210\\u65F6\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u672C\\u6587\\u5C06\\u8BE6\\u7EC6\\u8BB2\\u89E3\\u5728 Vue3 \\u4E2D\\u5982\\u4F55\\u5B9E\\u73B0\\u9AD8\\u9636\\u7EC4\\u4EF6\\uFF0C\\u63A2\\u8BA8\\u5176\\u9002\\u7528\\u573A\\u666F\\uFF0C\\u5E76\\u901A\\u8FC7\\u591A\\u4E2A\\u793A\\u4F8B\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u5176\\u7528\\u6CD5\\u548C\\u6CE8\\u610F\\u4E8B\\u9879\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u9AD8\\u9636\\u7EC4\\u4EF6hoc\",children:(0,e.jsx)(n.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u9AD8\\u9636\\u7EC4\\u4EF6hoc\",children:\"\\u4EC0\\u4E48\\u662F\\u9AD8\\u9636\\u7EC4\\u4EF6\\uFF08HOC\\uFF09\\uFF1F\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u9AD8\\u9636\\u7EC4\\u4EF6\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u5B83\\u63A5\\u6536\\u4E00\\u4E2A\\u7EC4\\u4EF6\\u4F5C\\u4E3A\\u53C2\\u6570\\uFF0C\\u5E76\\u8FD4\\u56DE\\u4E00\\u4E2A\\u65B0\\u7684\\u589E\\u5F3A\\u7EC4\\u4EF6\\u3002HOC \\u7684\\u6838\\u5FC3\\u601D\\u60F3\\u662F\\u901A\\u8FC7\\u5C01\\u88C5\\u548C\\u62BD\\u8C61\\u6765\\u590D\\u7528\\u903B\\u8F91\\uFF0C\\u901A\\u5E38\\u7528\\u4E8E\\u6DFB\\u52A0\\u989D\\u5916\\u7684\\u529F\\u80FD\\uFF08\\u5982\\u6570\\u636E\\u83B7\\u53D6\\u3001\\u6743\\u9650\\u63A7\\u5236\\u3001\\u65E5\\u5FD7\\u8BB0\\u5F55\\u7B49\\uFF09\\uFF0C\\u800C\\u65E0\\u9700\\u4FEE\\u6539\\u539F\\u59CB\\u7EC4\\u4EF6\\u7684\\u4EE3\\u7801\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728 Vue3 \\u4E2D\\uFF0C\\u867D\\u7136 Composition API \\u63D0\\u4F9B\\u4E86\\u66F4\\u7075\\u6D3B\\u7684\\u903B\\u8F91\\u590D\\u7528\\u65B9\\u5F0F\\uFF0C\\u4F46 HOC \\u4ECD\\u7136\\u53EF\\u4EE5\\u901A\\u8FC7\\u7EC4\\u5408\\u9009\\u9879\\u5F0F API \\u6216 Composition API \\u6765\\u5B9E\\u73B0\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u4ECE\\u57FA\\u7840\\u5230\\u9AD8\\u7EA7\\u9010\\u6B65\\u8BB2\\u89E3\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"vue3-\\u4E2D\\u5B9E\\u73B0-hoc-\\u7684\\u57FA\\u672C\\u601D\\u8DEF\",children:(0,e.jsx)(n.a,{href:\"#vue3-\\u4E2D\\u5B9E\\u73B0-hoc-\\u7684\\u57FA\\u672C\\u601D\\u8DEF\",children:\"Vue3 \\u4E2D\\u5B9E\\u73B0 HOC \\u7684\\u57FA\\u672C\\u601D\\u8DEF\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728 Vue3 \\u4E2D\\u5B9E\\u73B0 HOC \\u6709\\u4EE5\\u4E0B\\u51E0\\u79CD\\u65B9\\u5F0F\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u57FA\\u4E8E\\u9009\\u9879\\u5F0F API \\u7684 HOC\"}),\"\\uFF1A\\u901A\\u8FC7\\u64CD\\u4F5C\\u7EC4\\u4EF6\\u7684\\u9009\\u9879\\uFF08\\u5982 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"props\"})})})}),\"\\u3001\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"data\"})})})}),\"\\u3001\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"methods\"})})})}),\"\\uFF09\\u6765\\u589E\\u5F3A\\u529F\\u80FD\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u57FA\\u4E8E Composition API \\u7684 HOC\"}),\"\\uFF1A\\u5229\\u7528 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"setup\"})})})}),\" \\u51FD\\u6570\\u6216\\u811A\\u672C\\u5F0F \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"<script setup>\"})})})}),\" \\u5C01\\u88C5\\u903B\\u8F91\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u52A8\\u6001\\u7EC4\\u4EF6\\u4E0E HOC \\u7684\\u7ED3\\u5408\"}),\"\\uFF1A\\u901A\\u8FC7\\u52A8\\u6001\\u7EC4\\u4EF6\\u548C\\u6E32\\u67D3\\u51FD\\u6570\\u5B9E\\u73B0\\u66F4\\u590D\\u6742\\u7684\\u589E\\u5F3A\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u5B9E\\u73B0-hoc-\\u7684\\u6B65\\u9AA4\",children:(0,e.jsx)(n.a,{href:\"#\\u5B9E\\u73B0-hoc-\\u7684\\u6B65\\u9AA4\",children:\"\\u5B9E\\u73B0 HOC \\u7684\\u6B65\\u9AA4\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u5B9A\\u4E49\\u4E00\\u4E2A\\u9AD8\\u9636\\u51FD\\u6570\\uFF0C\\u63A5\\u6536\\u539F\\u59CB\\u7EC4\\u4EF6\\u4F5C\\u4E3A\\u53C2\\u6570\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7EC4\\u4EF6\\uFF0C\\u7EE7\\u627F\\u6216\\u589E\\u5F3A\\u539F\\u59CB\\u7EC4\\u4EF6\\u7684\\u529F\\u80FD\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8FD4\\u56DE\\u65B0\\u7EC4\\u4EF6\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u793A\\u4F8B-1\\u7B80\\u5355\\u7684\\u65E5\\u5FD7\\u8BB0\\u5F55-hoc\",children:(0,e.jsx)(n.a,{href:\"#\\u793A\\u4F8B-1\\u7B80\\u5355\\u7684\\u65E5\\u5FD7\\u8BB0\\u5F55-hoc\",children:\"\\u793A\\u4F8B 1\\uFF1A\\u7B80\\u5355\\u7684\\u65E5\\u5FD7\\u8BB0\\u5F55 HOC\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5047\\u8BBE\\u6211\\u4EEC\\u5E0C\\u671B\\u4E3A\\u7EC4\\u4EF6\\u6DFB\\u52A0\\u65E5\\u5FD7\\u529F\\u80FD\\uFF0C\\u8BB0\\u5F55\\u7EC4\\u4EF6\\u7684\\u751F\\u547D\\u5468\\u671F\\u4E8B\\u4EF6\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528\\u9009\\u9879\\u5F0F API \\u6765\\u5B9E\\u73B0\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// withLogger.js\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { defineComponent } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" withLogger\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" defineComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`WithLogger${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" ||\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'Component'}`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"    setup\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"context\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`[${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}] Component initialized`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"      // \\u76D1\\u542C\\u751F\\u547D\\u5468\\u671F\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      onMounted\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`[${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}] Component mounted`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      onUnmounted\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`[${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}] Component unmounted`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"      // \\u8C03\\u7528\\u539F\\u59CB\\u7EC4\\u4EF6\\u7684 setup\\uFF08\\u5982\\u679C\\u6709\\uFF09\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" wrappedSetup\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" WrappedComponent.setup;\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (wrappedSetup) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" wrappedSetup\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(props, context);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u7EE7\\u627F\\u539F\\u59CB\\u7EC4\\u4EF6\\u7684\\u9009\\u9879\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    ...\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"WrappedComponent,\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// MyComponent.vue\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { defineComponent } from 'vue';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { withLogger } from './withLogger';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"export default defineComponent({\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'MyComponent'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    return {\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      message\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Hello, Vue3 HOC!'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">{{ message }}</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5E94\\u7528 HOC\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import MyComponent from './MyComponent.vue';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { withLogger } from './withLogger';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"export default withLogger(MyComponent);\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"withLogger\"})})})}),\" \\u662F\\u4E00\\u4E2A HOC\\uFF0C\\u5B83\\u4E3A\\u539F\\u59CB\\u7EC4\\u4EF6\\u6DFB\\u52A0\\u4E86\\u751F\\u547D\\u5468\\u671F\\u65E5\\u5FD7\\u529F\\u80FD\\u3002\\u8FD0\\u884C\\u540E\\uFF0C\\u4F60\\u4F1A\\u5728\\u63A7\\u5236\\u53F0\\u770B\\u5230\\u7C7B\\u4F3C\\u4EE5\\u4E0B\\u8F93\\u51FA\\uFF1A\"]}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"[MyComponent] Component initialized\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"[MyComponent] Component mounted\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"[MyComponent] Component unmounted\"})})]})})}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u793A\\u4F8B-2\\u5E26\\u53C2\\u6570\\u7684-hoc\\u6743\\u9650\\u63A7\\u5236\",children:(0,e.jsx)(n.a,{href:\"#\\u793A\\u4F8B-2\\u5E26\\u53C2\\u6570\\u7684-hoc\\u6743\\u9650\\u63A7\\u5236\",children:\"\\u793A\\u4F8B 2\\uFF1A\\u5E26\\u53C2\\u6570\\u7684 HOC\\uFF08\\u6743\\u9650\\u63A7\\u5236\\uFF09\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5047\\u8BBE\\u6211\\u4EEC\\u9700\\u8981\\u4E00\\u4E2A\\u6743\\u9650\\u63A7\\u5236 HOC\\uFF0C\\u53EA\\u6709\\u7279\\u5B9A\\u6743\\u9650\\u7684\\u7528\\u6237\\u624D\\u80FD\\u770B\\u5230\\u7EC4\\u4EF6\\u5185\\u5BB9\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\\u53C2\\u6570\\u5316 HOC \\u6765\\u5B9E\\u73B0\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// withPermission.js\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { defineComponent, h } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" withPermission\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"requiredPermission\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" defineComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`WithPermission${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" ||\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'Component'}`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    props: {\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      userPermissions: {\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        type: Array,\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"        default\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [],\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"    setup\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"context\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" hasPermission\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" computed\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        props.userPermissions.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"includes\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(requiredPermission)\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      );\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (hasPermission.value) {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"          // \\u6E32\\u67D3\\u539F\\u59CB\\u7EC4\\u4EF6\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"          return\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" h\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(WrappedComponent, {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"            props: context.attrs,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"            on: context.listeners,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          });\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"          return\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" h\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'div'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'\\u65E0\\u6743\\u9650\\u8BBF\\u95EE\\u6B64\\u7EC4\\u4EF6'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// SecretContent.vue\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { defineComponent } from 'vue';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { withPermission } from './withPermission';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"export default defineComponent({\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'SecretContent'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    return {\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      secret\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8FD9\\u662F\\u673A\\u5BC6\\u4FE1\\u606F'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">{{ secret }}</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5E94\\u7528 HOC\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import SecretContent from './SecretContent.vue';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { withPermission } from './withPermission';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"export default withPermission(SecretContent, 'admin');\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"with-permission-secret-content\"}),(0,e.jsx)(n.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:` :user-permissions=\"['user',`}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'admin'\"}),(0,e.jsx)(n.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:']\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"withPermission\"})})})}),\" \\u63A5\\u6536\\u4E00\\u4E2A\\u6743\\u9650\\u5B57\\u7B26\\u4E32\\u4F5C\\u4E3A\\u53C2\\u6570\\uFF0C\\u5E76\\u6839\\u636E \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"userPermissions\"})})})}),\" \\u5C5E\\u6027\\u52A8\\u6001\\u51B3\\u5B9A\\u662F\\u5426\\u6E32\\u67D3\\u539F\\u59CB\\u7EC4\\u4EF6\\u3002\\u5982\\u679C\\u7528\\u6237\\u6CA1\\u6709\\u6240\\u9700\\u6743\\u9650\\uFF0C\\u5C06\\u663E\\u793A\\u201C\\u65E0\\u6743\\u9650\\u8BBF\\u95EE\\u6B64\\u7EC4\\u4EF6\\u201D\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u793A\\u4F8B-3\\u57FA\\u4E8E-composition-api-\\u7684-hoc\\u9F20\\u6807\\u4F4D\\u7F6E\\u8DDF\\u8E2A\",children:(0,e.jsx)(n.a,{href:\"#\\u793A\\u4F8B-3\\u57FA\\u4E8E-composition-api-\\u7684-hoc\\u9F20\\u6807\\u4F4D\\u7F6E\\u8DDF\\u8E2A\",children:\"\\u793A\\u4F8B 3\\uFF1A\\u57FA\\u4E8E Composition API \\u7684 HOC\\uFF08\\u9F20\\u6807\\u4F4D\\u7F6E\\u8DDF\\u8E2A\\uFF09\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528 Composition API \\u521B\\u5EFA\\u4E00\\u4E2A HOC\\uFF0C\\u589E\\u5F3A\\u7EC4\\u4EF6\\u4EE5\\u8DDF\\u8E2A\\u9F20\\u6807\\u4F4D\\u7F6E\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// withMouseTracker.js\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { defineComponent, h, ref } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" withMouseTracker\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" defineComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`WithMouseTracker${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"WrappedComponent\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" ||\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'Component'}`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"    setup\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"context\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" mouseX\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" mouseY\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" updateMousePosition\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        mouseX.value \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" event.clientX;\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        mouseY.value \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" event.clientY;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      onMounted\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        window.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'mousemove'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", updateMousePosition);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      onUnmounted\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        window.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"removeEventListener\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'mousemove'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", updateMousePosition);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"        h\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(WrappedComponent, {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          props: {\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"            ...\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"context.attrs,\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"            mouseX: mouseX.value,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"            mouseY: mouseY.value,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          },\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          on: context.listeners,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// MouseDisplay.vue\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { defineComponent } from 'vue';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { withMouseTracker } from './withMouseTracker';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"export default defineComponent({\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'MouseDisplay'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  props: [\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'mouseX'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'mouseY'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \\u9F20\\u6807\\u4F4D\\u7F6E: ({{ mouseX }}, {{ mouseY }})\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  </\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5E94\\u7528 HOC\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import MouseDisplay from './MouseDisplay.vue';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { withMouseTracker } from './withMouseTracker';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"export default withMouseTracker(MouseDisplay);\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u4E2A HOC \\u4E3A\\u7EC4\\u4EF6\\u6DFB\\u52A0\\u4E86\\u9F20\\u6807\\u4F4D\\u7F6E\\u8DDF\\u8E2A\\u529F\\u80FD\\uFF0C\\u5E76\\u901A\\u8FC7 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"props\"})})})}),\" \\u5C06 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"mouseX\"})})})}),\" \\u548C \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"mouseY\"})})})}),\" \\u4F20\\u9012\\u7ED9\\u539F\\u59CB\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,e.jsx)(n.h2,{id:\"hoc-\\u4E0E-composition-api-\\u7684\\u5BF9\\u6BD4\",children:(0,e.jsx)(n.a,{href:\"#hoc-\\u4E0E-composition-api-\\u7684\\u5BF9\\u6BD4\",children:\"HOC \\u4E0E Composition API \\u7684\\u5BF9\\u6BD4\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728 Vue3 \\u4E2D\\uFF0CComposition API \\u662F\\u5B98\\u65B9\\u63A8\\u8350\\u7684\\u590D\\u7528\\u903B\\u8F91\\u65B9\\u5F0F\\u3002\\u4F8B\\u5982\\uFF0C\\u4E0A\\u9762\\u7684\\u9F20\\u6807\\u8DDF\\u8E2A\\u529F\\u80FD\\u53EF\\u4EE5\\u7528 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"useMouseTracker\"})})})}),\" \\u7EC4\\u5408\\u51FD\\u6570\\u5B9E\\u73B0\\uFF1A\"]}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// useMouseTracker.js\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { ref, onMounted, onUnmounted } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useMouseTracker\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" mouseX\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" mouseY\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" updateMousePosition\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    mouseX.value \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" event.clientX;\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    mouseY.value \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" event.clientY;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  onMounted\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    window.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'mousemove'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", updateMousePosition);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  onUnmounted\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    window.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"removeEventListener\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'mousemove'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", updateMousePosition);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { mouseX, mouseY };\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { defineComponent } from 'vue';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"import { useMouseTracker } from './useMouseTracker';\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"export default defineComponent({\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'MouseDisplay'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    const { mouseX, mouseY } = \"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"useMouseTracker\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    return { mouseX, mouseY };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\\u9F20\\u6807\\u4F4D\\u7F6E: ({{ mouseX }}, {{ mouseY }})</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsx)(n.h3,{id:\"hoc-vs-composition-api\",children:(0,e.jsx)(n.a,{href:\"#hoc-vs-composition-api\",children:\"HOC vs Composition API\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"HOC\"}),\"\\uFF1A\\u9002\\u5408\\u5C01\\u88C5\\u6574\\u4E2A\\u7EC4\\u4EF6\\uFF0C\\u9002\\u7528\\u4E8E\\u9700\\u8981\\u589E\\u5F3A\\u6E32\\u67D3\\u903B\\u8F91\\u6216\\u52A8\\u6001\\u63A7\\u5236\\u7EC4\\u4EF6\\u663E\\u793A\\u7684\\u573A\\u666F\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Composition API\"}),\"\\uFF1A\\u66F4\\u7075\\u6D3B\\uFF0C\\u9002\\u5408\\u590D\\u7528\\u72EC\\u7ACB\\u903B\\u8F91\\uFF0C\\u4EE3\\u7801\\u66F4\\u76F4\\u89C2\\uFF0C\\u6613\\u4E8E\\u8C03\\u8BD5\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u6CE8\\u610F\\u4E8B\\u9879\",children:(0,e.jsx)(n.a,{href:\"#\\u6CE8\\u610F\\u4E8B\\u9879\",children:\"\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u547D\\u540D\\u51B2\\u7A81\"}),\"\\uFF1AHOC \\u521B\\u5EFA\\u7684\\u65B0\\u7EC4\\u4EF6\\u53EF\\u80FD\\u4F1A\\u8986\\u76D6\\u539F\\u59CB\\u7EC4\\u4EF6\\u7684\\u540D\\u79F0\\u6216\\u5C5E\\u6027\\uFF0C\\u5EFA\\u8BAE\\u5728 HOC \\u4E2D\\u663E\\u5F0F\\u8BBE\\u7F6E \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"name\"})})})}),\"\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Props \\u4F20\\u9012\"}),\"\\uFF1A\\u786E\\u4FDD HOC \\u6B63\\u786E\\u4F20\\u9012 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"props\"})})})}),\" \\u548C\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\u7ED9\\u539F\\u59CB\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6027\\u80FD\\u95EE\\u9898\"}),\"\\uFF1A\\u8FC7\\u5EA6\\u4F7F\\u7528 HOC \\u53EF\\u80FD\\u5BFC\\u81F4\\u7EC4\\u4EF6\\u5C42\\u7EA7\\u590D\\u6742\\u5316\\uFF0C\\u5F71\\u54CD\\u6E32\\u67D3\\u6027\\u80FD\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7C7B\\u578B\\u652F\\u6301\"}),\"\\uFF1A\\u5728 TypeScript \\u9879\\u76EE\\u4E2D\\uFF0C\\u9700\\u8981\\u4E3A HOC \\u5B9A\\u4E49\\u7C7B\\u578B\\u4EE5\\u786E\\u4FDD\\u7C7B\\u578B\\u5B89\\u5168\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u9AD8\\u7EA7\\u7528\\u6CD5\\u7EC4\\u5408\\u591A\\u4E2A-hoc\",children:(0,e.jsx)(n.a,{href:\"#\\u9AD8\\u7EA7\\u7528\\u6CD5\\u7EC4\\u5408\\u591A\\u4E2A-hoc\",children:\"\\u9AD8\\u7EA7\\u7528\\u6CD5\\uFF1A\\u7EC4\\u5408\\u591A\\u4E2A HOC\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u7EC4\\u5408\\u591A\\u4E2A HOC \\u6765\\u5B9E\\u73B0\\u66F4\\u590D\\u6742\\u7684\\u529F\\u80FD\\u3002\\u4F8B\\u5982\\uFF0C\\u7EC4\\u5408 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"withLogger\"})})})}),\" \\u548C \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"withPermission\"})})})}),\"\\uFF1A\"]}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { withLogger } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" './withLogger'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { withPermission } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" './withPermission'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" MyComponent \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" './MyComponent.vue'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" withLogger\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"withPermission\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(MyComponent, \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'admin'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u79CD\\u65B9\\u5F0F\\u7C7B\\u4F3C\\u4E8E\\u51FD\\u6570\\u7EC4\\u5408\\uFF0C\\u4F46\\u8981\\u6CE8\\u610F HOC \\u7684\\u6267\\u884C\\u987A\\u5E8F\\u4F1A\\u5F71\\u54CD\\u6700\\u7EC8\\u6548\\u679C\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u7ED3\\u8BBA\",children:(0,e.jsx)(n.a,{href:\"#\\u7ED3\\u8BBA\",children:\"\\u7ED3\\u8BBA\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728 Vue3 \\u4E2D\\uFF0C\\u867D\\u7136 Composition API \\u662F\\u66F4\\u73B0\\u4EE3\\u7684\\u903B\\u8F91\\u590D\\u7528\\u65B9\\u5F0F\\uFF0C\\u4F46\\u9AD8\\u9636\\u7EC4\\u4EF6\\u4F9D\\u7136\\u662F\\u4E00\\u4E2A\\u5F3A\\u5927\\u7684\\u5DE5\\u5177\\uFF0C\\u9002\\u7528\\u4E8E\\u7279\\u5B9A\\u573A\\u666F\\uFF0C\\u5982\\u5C01\\u88C5\\u7EC4\\u4EF6\\u3001\\u52A8\\u6001\\u6E32\\u67D3\\u6216\\u4E0E\\u9057\\u7559\\u4EE3\\u7801\\u96C6\\u6210\\u3002\\u901A\\u8FC7\\u672C\\u6587\\u7684\\u793A\\u4F8B\\uFF0C\\u6211\\u4EEC\\u5C55\\u793A\\u4E86\\u5982\\u4F55\\u4F7F\\u7528\\u9009\\u9879\\u5F0F API \\u548C Composition API \\u5B9E\\u73B0 HOC\\uFF0C\\u5E76\\u63A2\\u8BA8\\u4E86\\u5176\\u4F18\\u7F3A\\u70B9\\u548C\\u6CE8\\u610F\\u4E8B\\u9879\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u535A\\u5BA2\\u80FD\\u5E2E\\u52A9\\u4F60\\u66F4\\u597D\\u5730\\u7406\\u89E3 Vue3 \\u4E2D\\u7684 HOC\\uFF0C\\u5E76\\u5728\\u9879\\u76EE\\u4E2D\\u627E\\u5230\\u9002\\u5408\\u7684\\u590D\\u7528\\u65B9\\u6848\\u3002\\u5982\\u679C\\u4F60\\u6709\\u5176\\u4ED6\\u521B\\u610F\\u6216\\u95EE\\u9898\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u4EA4\\u6D41\\uFF01\"})]})}function p(l={}){let{wrapper:n}=l.components||{};return n?(0,e.jsx)(n,{...l,children:(0,e.jsx)(t,{...l})}):t(l)}return B(v);})();\n;return Component;"
  },
  "_id": "Vue.js/Vue3中如何实现高阶组件HOC.mdx",
  "_raw": {
    "sourceFilePath": "Vue.js/Vue3中如何实现高阶组件HOC.mdx",
    "sourceFileName": "Vue3中如何实现高阶组件HOC.mdx",
    "sourceFileDir": "Vue.js",
    "contentType": "mdx",
    "flattenedPath": "Vue.js/Vue3中如何实现高阶组件HOC"
  },
  "type": "Post",
  "url": "/blog/Vue.js/Vue3中如何实现高阶组件HOC"
}
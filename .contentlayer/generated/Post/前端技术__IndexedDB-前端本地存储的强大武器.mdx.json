{
  "title": "IndexedDBï¼šå‰ç«¯æœ¬åœ°å­˜å‚¨çš„å¼ºå¤§æ­¦å™¨ ðŸš€",
  "date": "2023-05-17T00:00:00.000Z",
  "description": "æ·±å…¥æŽ¢ç´¢ IndexedDB çš„æ ¸å¿ƒæ¦‚å¿µã€å®žçŽ°åŽŸç†å’Œæœ€ä½³å®žè·µï¼Œå¸¦ä½ è§£é”å‰ç«¯æœ¬åœ°å­˜å‚¨çš„å¼ºå¤§æ½œåŠ›ï¼ŒåŠ©åŠ›æ‰“é€ é«˜æ€§èƒ½ã€ç¦»çº¿å‹å¥½çš„ Web åº”ç”¨ã€‚",
  "keywords": "IndexedDB, æœ¬åœ°å­˜å‚¨, å‰ç«¯å¼€å‘, Web å­˜å‚¨, æ•°æ®åº“, ç¦»çº¿åº”ç”¨, æµè§ˆå™¨å­˜å‚¨, JavaScript",
  "author": "æ™“é¾™",
  "image": "/images/hero/indexeddb.jpg",
  "tags": [
    "IndexedDB",
    "å‰ç«¯å¼€å‘",
    "JavaScript",
    "Web å­˜å‚¨"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nåœ¨å‰ç«¯å¼€å‘çš„ä¸–ç•Œé‡Œï¼Œæœ¬åœ°å­˜å‚¨å°±åƒæ˜¯å¼€å‘è€…çš„â€œç§äººä»“åº“â€ï¼Œç”¨æ¥å­˜æ”¾ç”¨æˆ·æ•°æ®ã€ç¼“å­˜èµ„æºï¼Œç”šè‡³æ”¯æ’‘ç¦»çº¿åº”ç”¨ã€‚æåˆ°æœ¬åœ°å­˜å‚¨ï¼Œå¤§å®¶å¯èƒ½é¦–å…ˆæƒ³åˆ° `localStorage` æˆ– `sessionStorage`ï¼Œä½†è¿™äº›å·¥å…·å°±åƒæ˜¯â€œç®€æ˜“å‚¨ç‰©æŸœâ€ï¼Œå®¹é‡å°ã€åŠŸèƒ½å•ä¸€ã€‚è€Œ **IndexedDB**ï¼Ÿå®ƒæ›´åƒæ˜¯ä¸€ä¸ªâ€œçŽ°ä»£åŒ–ä»“å‚¨ä¸­å¿ƒâ€ï¼Œå®¹é‡å¤§ã€åŠŸèƒ½å¼ºï¼Œè¿˜æ”¯æŒå¤æ‚æŸ¥è¯¢å’Œäº‹åŠ¡æ“ä½œï¼ðŸ”§\n\nä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œå¦‚æžœä½ è¿˜æ²¡ç”¨è¿‡ IndexedDBï¼Œæˆ–è€…åªå¬è¿‡å®ƒçš„åå­—å´è§‰å¾—å®ƒâ€œé«˜å†·éš¾æ‡‚â€ï¼Œåˆ«æ‹…å¿ƒï¼è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ ä»Žé›¶åˆ°ä¸€ï¼Œæ·±å…¥æµ…å‡ºåœ°æŽ¢ç´¢ IndexedDB çš„æ ¸å¿ƒåŽŸç†ã€å®žç”¨åœºæ™¯ã€æœ€ä½³å®žè·µï¼Œç”šè‡³è¿˜ä¼šå¤¹æ‚ä¸€äº›å¹½é»˜çš„å°æ•…äº‹å’Œç±»æ¯”ï¼Œè®©ä½ è¯»å®Œä¸ä»…èƒ½â€œå“‡å¡žï¼ŒåŽŸæ¥è¿™ä¹ˆç®€å•â€ï¼Œè¿˜èƒ½ç«‹åˆ»ä¸Šæ‰‹ç”¨å®ƒæ‰“é€ æ›´ç‰›çš„ Web åº”ç”¨ï¼ðŸ˜Ž\n\n## ä¸ºä»€ä¹ˆéœ€è¦ IndexedDBï¼ŸðŸ¤”\n\nåœ¨èŠ IndexedDB çš„ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥æžæ¸…æ¥šï¼šä¸ºä»€ä¹ˆå®ƒè¿™ä¹ˆé‡è¦ï¼Ÿæœ¬åœ°å­˜å‚¨çš„éœ€æ±‚æ— å¤„ä¸åœ¨ï¼Œæ¯”å¦‚ï¼š\n\n- **ç¦»çº¿åº”ç”¨**ï¼šåƒ Gmail è¿™æ ·çš„ PWAï¼ˆæ¸è¿›å¼ Web åº”ç”¨ï¼‰ï¼Œå¯ä»¥åœ¨æ²¡ç½‘æ—¶ç…§å¸¸åŠ è½½é‚®ä»¶ã€‚\n- **æ€§èƒ½ä¼˜åŒ–**ï¼šç¼“å­˜å¤§æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ï¼‰æˆ–é¢‘ç¹è¯·æ±‚çš„ API æ•°æ®ï¼Œå‡å°‘æœåŠ¡å™¨åŽ‹åŠ›ã€‚\n- **å¤æ‚æ•°æ®ç®¡ç†**ï¼šæ¯”å¦‚ä¸€ä¸ªä»»åŠ¡ç®¡ç†å·¥å…·ï¼Œéœ€è¦å­˜å‚¨ç”¨æˆ·çš„ä»»åŠ¡åˆ—è¡¨ã€æ ‡ç­¾ã€ä¼˜å…ˆçº§ç­‰ç»“æž„åŒ–æ•°æ®ã€‚\n\n`localStorage` å’Œ `sessionStorage` è™½ç„¶ç®€å•ï¼Œä½†å®ƒä»¬æœ‰è‡´å‘½çš„çŸ­æ¿ï¼š\n- **å®¹é‡é™åˆ¶**ï¼šé€šå¸¸åªæœ‰ 5-10MBï¼Œå­˜ç‚¹å°æ•°æ®è¿˜è¡Œï¼Œå¤§æ–‡ä»¶ç›´æŽ¥æ­‡èœã€‚\n- **æ•°æ®ç»“æž„å•ä¸€**ï¼šåªèƒ½å­˜å­—ç¬¦ä¸²ï¼Œæƒ³å­˜å¯¹è±¡è¿˜å¾—æ‰‹åŠ¨åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼Œçƒ¦ä¸çƒ¦ï¼Ÿ\n- **åŒæ­¥æ“ä½œ**ï¼šé˜»å¡žä¸»çº¿ç¨‹ï¼Œæ•°æ®é‡ä¸€å¤§å°±å¡é¡¿ã€‚\n\nIndexedDB å°±åƒæ˜¯ä¸ºè§£å†³è¿™äº›ç—›ç‚¹è€Œç”Ÿçš„â€œè¶…çº§è‹±é›„â€ï¼š\n- **å¤§å®¹é‡**ï¼šç†è®ºä¸Šå¯ä»¥å ç”¨ç”¨æˆ·ç¡¬ç›˜çš„ 50%ï¼ˆæµè§ˆå™¨ä¼šåŠ¨æ€é™åˆ¶ï¼‰ï¼Œå­˜ä¸ªå‡ ç™¾ MB ä¸åœ¨è¯ä¸‹ã€‚\n- **ç»“æž„åŒ–å­˜å‚¨**ï¼šæ”¯æŒå¤æ‚å¯¹è±¡ã€æ•°ç»„ï¼Œç”šè‡³äºŒè¿›åˆ¶æ•°æ®ï¼ˆBlobã€ArrayBufferï¼‰ã€‚\n- **å¼‚æ­¥æ“ä½œ**ï¼šä¸ä¼šé˜»å¡žä¸»çº¿ç¨‹ï¼Œæ€§èƒ½æ›´å‹å¥½ã€‚\n- **äº‹åŠ¡æ”¯æŒ**ï¼šåƒåŽç«¯æ•°æ®åº“ä¸€æ ·ï¼Œä¿è¯æ•°æ®æ“ä½œçš„åŽŸå­æ€§ã€‚\n- **ç´¢å¼•æŸ¥è¯¢**ï¼šå¯ä»¥åƒ SQL æ•°æ®åº“é‚£æ ·é«˜æ•ˆæŸ¥æ‰¾æ•°æ®ã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼Œå¦‚æžœ `localStorage` æ˜¯ä½ å®¶é‡Œçš„å°æŠ½å±‰ï¼ŒIndexedDB å°±æ˜¯ä¸ªå¸¦æœç´¢åŠŸèƒ½çš„æ™ºèƒ½æ•°æ®åº“ï¼Œå­˜å•¥éƒ½èƒ½å¿«é€Ÿæ‰¾å‡ºæ¥ï¼ðŸ“¦\n\n## IndexedDB æ ¸å¿ƒæ¦‚å¿µï¼šä»Žâ€œä»“åº“â€åˆ°â€œè´§æž¶â€ ðŸ“š\n\nè¦ç”¨å¥½ IndexedDBï¼Œå¾—å…ˆæžæ‡‚å®ƒçš„å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚åˆ«æ…Œï¼Œæˆ‘ä¼šç”¨ç±»æ¯”å’Œä¾‹å­è®©ä½ ç§’æ‡‚ã€‚\n\n### 1. æ•°æ®åº“ï¼ˆDatabaseï¼‰\nIndexedDB çš„â€œæ•°æ®åº“â€å°±åƒä¸€ä¸ªå¤§ä»“åº“ï¼Œé‡Œé¢å¯ä»¥å­˜æ”¾å¤šä¸ªæ•°æ®é›†ã€‚æ¯ä¸ª Web åº”ç”¨ï¼ˆåŸŸå + åè®®ï¼‰å¯ä»¥æœ‰å¤šä¸ªæ•°æ®åº“ï¼Œä½†ä¸€èˆ¬ä¸€ä¸ªåº”ç”¨åªç”¨ä¸€ä¸ªã€‚\n\n**Tips** ðŸ’¡ï¼šç»™æ•°æ®åº“èµ·ä¸ªæœ‰æ„ä¹‰çš„åå­—ï¼Œæ¯”å¦‚ `MyAppData`ï¼Œé¿å…ç”¨ `test` è¿™ç§æ¨¡ç³Šçš„åå­—ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚\n\n### 2. å¯¹è±¡å­˜å‚¨ï¼ˆObject Storeï¼‰\nå¯¹è±¡å­˜å‚¨æ˜¯æ•°æ®åº“é‡Œçš„â€œè´§æž¶â€ï¼Œæ¯ä¸ªè´§æž¶å­˜æ”¾ä¸€ç±»æ•°æ®ã€‚æ¯”å¦‚ï¼Œä½ å¯èƒ½æœ‰ä¸€ä¸ª `users` è´§æž¶å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œä¸€ä¸ª `tasks` è´§æž¶å­˜ä»»åŠ¡æ•°æ®ã€‚æ¯ä¸ªå¯¹è±¡å­˜å‚¨ç±»ä¼¼ä¸€ä¸ª NoSQL è¡¨ï¼Œé‡Œé¢å­˜çš„æ˜¯ JavaScript å¯¹è±¡ã€‚\n\n**Tips** ðŸ’¡ï¼šå¯¹è±¡å­˜å‚¨çš„åå­—è¦ç›´è§‚ï¼Œæ¯”å¦‚ `products` è€Œä¸æ˜¯ `data1`ï¼Œå¦åˆ™ç»´æŠ¤ä»£ç çš„æ—¶å€™ä½ ä¼šæƒ³æ‰“è‡ªå·±ã€‚\n\n### 3. é”®ï¼ˆKeyï¼‰\næ¯ä¸ªå¯¹è±¡å­˜å‚¨é‡Œçš„æ•°æ®éƒ½éœ€è¦ä¸€ä¸ªå”¯ä¸€çš„â€œé”®â€æ¥æ ‡è¯†ï¼Œå°±åƒè´§æž¶ä¸Šçš„â€œæ ‡ç­¾â€ã€‚é”®å¯ä»¥æ˜¯å¯¹è±¡çš„ä¸€ä¸ªå±žæ€§ï¼ˆæ¯”å¦‚ `id`ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„é€’å¢žæ•´æ•°ã€‚\n\n**Tips** ðŸ’¡ï¼šä¼˜å…ˆä½¿ç”¨ `{ autoIncrement: true }` è‡ªåŠ¨ç”Ÿæˆé”®ï¼Œçœå¾—è‡ªå·±æ‰‹åŠ¨ç»´æŠ¤å”¯ä¸€æ€§ã€‚\n\n### 4. ç´¢å¼•ï¼ˆIndexï¼‰\nç´¢å¼•å°±åƒè´§æž¶ä¸Šçš„â€œå¿«é€ŸæŸ¥æ‰¾æ ‡ç­¾â€ã€‚æ¯”å¦‚ï¼Œä½ æƒ³æŒ‰ç”¨æˆ·çš„ `email` å­—æ®µå¿«é€ŸæŸ¥æ‰¾æ•°æ®ï¼Œå°±å¯ä»¥åœ¨ `users` å¯¹è±¡å­˜å‚¨ä¸Šå»ºä¸€ä¸ª `email` ç´¢å¼•ã€‚\n\n**Tips** ðŸ’¡ï¼šç´¢å¼•è™½å¥½ï¼Œä½†åˆ«æ»¥ç”¨ï¼Œè¿‡å¤šç´¢å¼•ä¼šå¢žåŠ å­˜å‚¨å’Œç»´æŠ¤æˆæœ¬ï¼Œå½±å“æ€§èƒ½ã€‚\n\n### 5. äº‹åŠ¡ï¼ˆTransactionï¼‰\näº‹åŠ¡æ˜¯ IndexedDB çš„â€œæ“ä½œæµæ°´çº¿â€ï¼Œä¿è¯ä¸€ç»„æ“ä½œè¦ä¹ˆå…¨æˆåŠŸï¼Œè¦ä¹ˆå…¨å¤±è´¥ã€‚æ¯”å¦‚ï¼Œä½ åœ¨æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œä¸èƒ½æ”¹äº†ä¸€åŠå°±å´©äº†ã€‚äº‹åŠ¡è¿˜æœ‰è¯»å†™æƒé™ï¼ˆ`readonly` æˆ– `readwrite`ï¼‰ï¼Œå¾—æ˜Žç¡®æŒ‡å®šã€‚\n\n**Tips** ðŸ’¡ï¼šå°½é‡ç”¨ `readonly` äº‹åŠ¡æŸ¥è¯¢æ•°æ®ï¼Œæ€§èƒ½æ¯” `readwrite` æ›´é«˜ã€‚\n\n### 6. ç‰ˆæœ¬ï¼ˆVersionï¼‰\nIndexedDB çš„æ•°æ®åº“æœ‰ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡ä¿®æ”¹ç»“æž„ï¼ˆæ¯”å¦‚æ–°å¢žå¯¹è±¡å­˜å‚¨æˆ–ç´¢å¼•ï¼‰éƒ½è¦å‡çº§ç‰ˆæœ¬ã€‚ç‰ˆæœ¬å·å¿…é¡»æ˜¯æ•´æ•°ï¼Œé€’å¢žä½¿ç”¨ã€‚\n\n**Tips** ðŸ’¡ï¼šç‰ˆæœ¬å·ä»Ž 1 å¼€å§‹ï¼Œåˆ«ä¸€å¼€å§‹å°±ç”¨ `1000` è¿™ç§â€œç•™ä½™é‡â€çš„éªšæ“ä½œï¼ŒåŽæœŸç»´æŠ¤ä¼šå¾ˆç—›è‹¦ã€‚\n\n## åŠ¨æ‰‹å†™ä»£ç ï¼šä»Žé›¶å¼€å§‹ç”¨ IndexedDB ðŸ› ï¸\n\nç†è®ºè®²å®Œäº†ï¼Œå’±ä»¬ç›´æŽ¥ä¸Šä»£ç ï¼ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼šå®žçŽ°ä¸€ä¸ªç®€å•çš„ä»»åŠ¡ç®¡ç†åº”ç”¨ï¼Œå…è®¸ç”¨æˆ·æ·»åŠ ã€æŸ¥è¯¢å’Œåˆ é™¤ä»»åŠ¡ã€‚\n\n### 1. æ‰“å¼€/åˆ›å»ºæ•°æ®åº“\n```javascript\nfunction openDB() {\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open(\"TaskManager\", 1); // æ•°æ®åº“åå’Œç‰ˆæœ¬\n\n    // æ•°æ®åº“ç»“æž„åˆå§‹åŒ–æˆ–å‡çº§\n    request.onupgradeneeded = (event) => {\n      const db = event.target.result;\n      if (!db.objectStoreNames.contains(\"tasks\")) {\n        const store = db.createObjectStore(\"tasks\", { keyPath: \"id\", autoIncrement: true });\n        store.createIndex(\"by_title\", \"title\", { unique: false }); // æŒ‰æ ‡é¢˜ç´¢å¼•\n      }\n    };\n\n    request.onsuccess = (event) => resolve(event.target.result);\n    request.onerror = (event) => reject(event.target.error);\n  });\n}\n```\n\n**è®²è§£**ï¼š\n- `indexedDB.open` æ‰“å¼€æˆ–åˆ›å»ºæ•°æ®åº“ï¼Œç‰ˆæœ¬å·è®¾ä¸º 1ã€‚\n- `onupgradeneeded` åœ¨é¦–æ¬¡åˆ›å»ºæˆ–ç‰ˆæœ¬å‡çº§æ—¶è§¦å‘ï¼Œç”¨æ¥å®šä¹‰å¯¹è±¡å­˜å‚¨å’Œç´¢å¼•ã€‚\n- `keyPath: \"id\"` æŒ‡å®šä¸»é”®ï¼Œ`autoIncrement: true` è‡ªåŠ¨ç”Ÿæˆé€’å¢ž IDã€‚\n- åˆ›å»ºä¸€ä¸ª `by_title` ç´¢å¼•ï¼Œæ–¹ä¾¿æŒ‰ä»»åŠ¡æ ‡é¢˜æŸ¥è¯¢ã€‚\n\n**Tips** ðŸ’¡ï¼šå§‹ç»ˆç›‘å¬ `onerror`ï¼Œå¦åˆ™è°ƒè¯•æ—¶å‡ºé”™ä¼šä¸€è„¸æ‡µã€‚\n\n### 2. æ·»åŠ ä»»åŠ¡\n```javascript\nasync function addTask(task) {\n  const db = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = db.transaction([\"tasks\"], \"readwrite\");\n    const store = transaction.objectStore(\"tasks\");\n    const request = store.add(task);\n\n    request.onsuccess = () => resolve(request.result); // è¿”å›žæ–°ä»»åŠ¡çš„ ID\n    request.onerror = () => reject(request.error);\n  });\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\naddTask({ title: \"å­¦ IndexedDB\", completed: false })\n  .then((id) => console.log(`ä»»åŠ¡ ${id} æ·»åŠ æˆåŠŸï¼`))\n  .catch((err) => console.error(\"æ·»åŠ å¤±è´¥ï¼š\", err));\n```\n\n**è®²è§£**ï¼š\n- äº‹åŠ¡æŒ‡å®šäº† `readwrite` æ¨¡å¼ï¼Œå› ä¸ºæˆ‘ä»¬è¦å†™å…¥æ•°æ®ã€‚\n- `store.add` æ·»åŠ ä¸€æ¡è®°å½•ï¼Œè¿”å›žæ–°ç”Ÿæˆçš„ä¸»é”®ã€‚\n\n**Tips** ðŸ’¡ï¼šæ‰¹é‡æ·»åŠ æ•°æ®æ—¶ï¼Œå¤ç”¨åŒä¸€ä¸ªäº‹åŠ¡ï¼Œå‡å°‘å¼€é”€ã€‚\n\n### 3. æŸ¥è¯¢æ‰€æœ‰ä»»åŠ¡\n```javascript\nasync function getAllTasks() {\n  const db = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = db.transaction([\"tasks\"], \"readonly\");\n    const store = transaction.objectStore(\"tasks\");\n    const request = store.getAll();\n\n    request.onsuccess = () => resolve(request.result);\n    request.onerror = () => reject(request.error);\n  });\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\ngetAllTasks()\n  .then((tasks) => console.log(\"æ‰€æœ‰ä»»åŠ¡ï¼š\", tasks))\n  .catch((err) => console.error(\"æŸ¥è¯¢å¤±è´¥ï¼š\", err));\n```\n\n**è®²è§£**ï¼š\n- ç”¨ `readonly` äº‹åŠ¡æŸ¥è¯¢æ•°æ®ï¼Œæ€§èƒ½æ›´ä¼˜ã€‚\n- `store.getAll()` è¿”å›žå¯¹è±¡å­˜å‚¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚\n\n**Tips** ðŸ’¡ï¼šå¦‚æžœæ•°æ®é‡å¾ˆå¤§ï¼Œè€ƒè™‘ç”¨ `cursor` åˆ†é¡µæŸ¥è¯¢ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šæ•°æ®ã€‚\n\n### 4. æŒ‰æ ‡é¢˜æŸ¥è¯¢ä»»åŠ¡\n```javascript\nasync function getTasksByTitle(title) {\n  const db = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = db.transaction([\"tasks\"], \"readonly\");\n    const store = transaction.objectStore(\"tasks\");\n    const index = store.index(\"by_title\");\n    const request = index.getAll(title);\n\n    request.onsuccess = () => resolve(request.result);\n    request.onerror = () => reject(request.error);\n  });\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\ngetTasksByTitle(\"å­¦ IndexedDB\")\n  .then((tasks) => console.log(\"åŒ¹é…çš„ä»»åŠ¡ï¼š\", tasks))\n  .catch((err) => console.error(\"æŸ¥è¯¢å¤±è´¥ï¼š\", err));\n```\n\n**è®²è§£**ï¼š\n- é€šè¿‡ `index(\"by_title\")` ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢ï¼Œæ•ˆçŽ‡æ›´é«˜ã€‚\n- `getAll(title)` è¿”å›žæ‰€æœ‰æ ‡é¢˜åŒ¹é…çš„è®°å½•ã€‚\n\n**Tips** ðŸ’¡ï¼šç´¢å¼•æŸ¥è¯¢æ—¶ï¼Œå°½é‡é¿å…å…¨è¡¨æ‰«æï¼ˆæ¯”å¦‚ `getAll()` è€Œä¸æŒ‡å®šæ¡ä»¶ï¼‰ï¼Œå¦åˆ™æ€§èƒ½ä¼šä¸‹é™ã€‚\n\n### 5. åˆ é™¤ä»»åŠ¡\n```javascript\nasync function deleteTask(id) {\n  const db = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = db.transaction([\"tasks\"], \"readwrite\");\n    const store = transaction.objectStore(\"tasks\");\n    const request = store.delete(id);\n\n    request.onsuccess = () => resolve();\n    request.onerror = () => reject(request.error);\n  });\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\ndeleteTask(1)\n  .then(() => console.log(\"ä»»åŠ¡åˆ é™¤æˆåŠŸï¼\"))\n  .catch((err) => console.error(\"åˆ é™¤å¤±è´¥ï¼š\", err));\n```\n\n**è®²è§£**ï¼š\n- `store.delete(id)` åˆ é™¤æŒ‡å®šä¸»é”®çš„è®°å½•ã€‚\n- åˆ é™¤æ“ä½œéœ€è¦ `readwrite` äº‹åŠ¡ã€‚\n\n**Tips** ðŸ’¡ï¼šåˆ é™¤å‰æœ€å¥½å…ˆç¡®è®¤è®°å½•å­˜åœ¨ï¼ˆç”¨ `get` æŸ¥ä¸€ä¸‹ï¼‰ï¼Œé¿å…æ— æ•ˆæ“ä½œã€‚\n\n## æœ€ä½³å®žè·µï¼šè®© IndexedDB æ›´é«˜æ•ˆã€æ›´å¯é  ðŸ†\n\nç”¨ IndexedDB å°±åƒå¼€ä¸€è¾†è·‘è½¦ï¼Œçˆ½æ˜¯çˆ½ï¼Œä½†å¾—æ³¨æ„â€œé©¾é©¶æŠ€å·§â€ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å®žç”¨å»ºè®®ï¼Œå¸®ä½ å°‘è¸©å‘ã€å¤šçœå¿ƒï¼š\n\n1. **å°è£…æ“ä½œé€»è¾‘** ðŸ”§  \n   åŽŸç”Ÿçš„ IndexedDB API æœ‰ç‚¹å•°å—¦ï¼ˆå›žè°ƒåœ°ç‹±è­¦å‘Šâš ï¸ï¼‰ï¼Œå»ºè®®ç”¨ Promise å°è£…ï¼Œæˆ–è€…ç›´æŽ¥ç”¨çŽ°æˆçš„åº“ï¼ˆå¦‚ `idb`ï¼‰ã€‚  \n   **Tips** ðŸ’¡ï¼š`idb` æ˜¯ä¸€ä¸ªè½»é‡å°è£…åº“ï¼ŒAPI æ›´ç®€æ´ï¼ŒæŽ¨èåœ¨ç”Ÿäº§çŽ¯å¢ƒä½¿ç”¨ã€‚\n\n2. **åˆç†è®¾è®¡å¯¹è±¡å­˜å‚¨** ðŸ“¦  \n   ä¸è¦æŠŠæ‰€æœ‰æ•°æ®å¡žåˆ°ä¸€ä¸ªå¯¹è±¡å­˜å‚¨é‡Œï¼ŒæŒ‰ä¸šåŠ¡æ¨¡å—æ‹†åˆ†ï¼ˆå¦‚ `users`ã€`orders`ï¼‰ã€‚  \n   **Tips** ðŸ’¡ï¼šå¯¹è±¡å­˜å‚¨çš„è®¾è®¡è¦è€ƒè™‘æŸ¥è¯¢éœ€æ±‚ï¼Œæ¯”å¦‚éœ€è¦æŒ‰æ—¶é—´æŽ’åºçš„æ•°æ®ï¼Œå¯ä»¥åŠ ä¸ª `createdAt` å­—æ®µã€‚\n\n3. **æŽ§åˆ¶äº‹åŠ¡èŒƒå›´** ðŸ”’  \n   äº‹åŠ¡çš„ç²’åº¦è¦å°½é‡å°ï¼ŒåªåŒ…å«å¿…è¦çš„å¯¹è±¡å­˜å‚¨ï¼Œå‡å°‘é”å†²çªã€‚  \n   **Tips** ðŸ’¡ï¼šäº‹åŠ¡æœªå®Œæˆæ—¶ä¸è¦æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼ˆæ¯”å¦‚ `setTimeout`ï¼‰ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´äº‹åŠ¡è‡ªåŠ¨å…³é—­ã€‚\n\n4. **å¤„ç†é”™è¯¯å’Œè¾¹ç•Œæƒ…å†µ** ðŸš¨  \n   IndexedDB çš„é”™è¯¯ä¿¡æ¯æœ‰æ—¶å¾ˆâ€œç¥žç§˜â€ï¼Œä¸€å®šè¦ç›‘å¬ `onerror` å’Œ `onblocked` äº‹ä»¶ã€‚  \n   **Tips** ðŸ’¡ï¼šç”¨æˆ·æ¸…ç©ºæµè§ˆå™¨æ•°æ®æ—¶ï¼ŒIndexedDB ä¼šè¢«æ¸…ç©ºï¼Œä»£ç é‡Œè¦åšå¥½é™çº§å¤„ç†ï¼ˆæ¯”å¦‚ fallback åˆ° `localStorage`ï¼‰ã€‚\n\n5. **ä¼˜åŒ–å¤§æ•°æ®é‡æ“ä½œ** ðŸ“ˆ  \n   å¯¹äºŽå¤§æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰ï¼Œç”¨ Blob å­˜å‚¨ï¼Œå¹¶åˆ†ç‰‡å†™å…¥ï¼Œé¿å…ä¸€æ¬¡æ€§æ“ä½œè¿‡å¤šæ•°æ®ã€‚  \n   **Tips** ðŸ’¡ï¼šå¯ä»¥ç”¨ `cursor` éåŽ†å¤§æ•°æ®ï¼Œåˆ†æ‰¹å¤„ç†ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºã€‚\n\n6. **ç‰ˆæœ¬ç®¡ç†è¦è°¨æ…Ž** ðŸ”¢  \n   æ•°æ®åº“ç»“æž„å˜æ›´æ—¶ï¼Œ`onupgradeneeded` é‡Œçš„é€»è¾‘è¦å…¼å®¹æ—§ç‰ˆæœ¬æ•°æ®ã€‚  \n   **Tips** ðŸ’¡ï¼šè®°å½•æ¯æ¬¡ç‰ˆæœ¬å˜æ›´çš„è„šæœ¬ï¼Œæ–¹ä¾¿å›žæº¯å’Œè°ƒè¯•ã€‚\n\n7. **ç›‘æŽ§å­˜å‚¨é…é¢** ðŸ“  \n   æµè§ˆå™¨å¯¹ IndexedDB çš„å­˜å‚¨ç©ºé—´æœ‰é™åˆ¶ï¼Œå»ºè®®å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®ã€‚  \n   **Tips** ðŸ’¡ï¼šå¯ä»¥ç”¨ `navigator.storage.estimate()` æ£€æŸ¥å‰©ä½™ç©ºé—´ï¼ŒåŠ¨æ€è°ƒæ•´å­˜å‚¨ç­–ç•¥ã€‚\n\n## å®žé™…åœºæ™¯ï¼šIndexedDB çš„â€œé«˜å…‰æ—¶åˆ»â€ ðŸŒŸ\n\nIndexedDB çš„ç”¨æ­¦ä¹‹åœ°éžå¸¸å¤šï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªçœŸå®žæ¡ˆä¾‹ï¼Œå±•ç¤ºå®ƒçš„å¼ºå¤§ï¼š\n\n1. **ç¦»çº¿è¡¨å•ä¿å­˜**  \n   åœºæ™¯ï¼šç”¨æˆ·åœ¨å¡«å†™ä¸€ä¸ªå¤æ‚è¡¨å•æ—¶ç½‘ç»œæ–­äº†ï¼Œæ•°æ®ä¸èƒ½ä¸¢ï¼  \n   æ–¹æ¡ˆï¼šç”¨ IndexedDB ä¿å­˜è¡¨å•æ•°æ®ï¼Œç½‘ç»œæ¢å¤åŽè‡ªåŠ¨åŒæ­¥åˆ°æœåŠ¡å™¨ã€‚  \n   **ä»£ç ç‰‡æ®µ**ï¼š\n   ```javascript\n   async function saveFormData(formData) {\n     const db = await openDB();\n     const tx = db.transaction(\"forms\", \"readwrite\");\n     const store = tx.objectStore(\"forms\");\n     await store.put(formData, \"currentForm\");\n   }\n   ```\n\n2. **å›¾ç‰‡ç¼“å­˜**  \n   åœºæ™¯ï¼šä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘å™¨éœ€è¦ç¼“å­˜ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡ï¼Œå‡å°‘é‡å¤åŠ è½½ã€‚  \n   æ–¹æ¡ˆï¼šå°†å›¾ç‰‡å­˜ä¸º Blobï¼Œé…åˆ Service Worker å®žçŽ°ç¦»çº¿è®¿é—®ã€‚  \n   **ä»£ç ç‰‡æ®µ**ï¼š\n   ```javascript\n   async function cacheImage(imageBlob) {\n     const db = await openDB();\n     const tx = db.transaction(\"images\", \"readwrite\");\n     const store = tx.objectStore(\"images\");\n     await store.add({ blob: imageBlob, timestamp: Date.now() });\n   }\n   ```\n\n3. **å®žæ—¶åä½œå·¥å…·**  \n   åœºæ™¯ï¼šä¸€ä¸ªç±»ä¼¼ Notion çš„åä½œå·¥å…·ï¼Œéœ€è¦ä¸´æ—¶ä¿å­˜ç”¨æˆ·è¾“å…¥ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚  \n   æ–¹æ¡ˆï¼šç”¨ IndexedDB å­˜å‚¨æ“ä½œæ—¥å¿—ï¼Œå®šæœŸåŒæ­¥åˆ°æœåŠ¡å™¨ã€‚  \n   **ä»£ç ç‰‡æ®µ**ï¼š\n   ```javascript\n   async function logOperation(op) {\n     const db = await openDB();\n     const tx = db.transaction(\"operations\", \"readwrite\");\n     const store = tx.objectStore(\"operations\");\n     await store.add(op);\n   }\n   ```\n\n## é‡åˆ°é—®é¢˜ï¼Ÿåˆ«æ…Œï¼å¸¸è§å‘å’Œè§£å†³åŠžæ³• ðŸž\n\nIndexedDB è™½ç„¶å¼ºå¤§ï¼Œä½†ä¹Ÿæœ‰ç‚¹â€œè„¾æ°”â€ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§é—®é¢˜å’Œè§£å†³åŠžæ³•ï¼š\n\n1. **â€œæ•°æ®åº“è¢«é”ä½äº†ï¼â€**  \n   åŽŸå› ï¼šå¤šä¸ªæ ‡ç­¾é¡µåŒæ—¶æ“ä½œæ•°æ®åº“ï¼Œæˆ–è€…äº‹åŠ¡æ²¡æ­£ç¡®å…³é—­ã€‚  \n   è§£å†³ï¼šç¡®ä¿äº‹åŠ¡åŠæ—¶æäº¤ï¼Œç›‘å¬ `onblocked` äº‹ä»¶ï¼Œå¿…è¦æ—¶æç¤ºç”¨æˆ·å…³é—­å…¶ä»–æ ‡ç­¾é¡µã€‚\n\n2. **â€œå­˜ä¸äº†å¤§æ–‡ä»¶ï¼â€**  \n   åŽŸå› ï¼šæµè§ˆå™¨é…é¢é™åˆ¶ï¼Œæˆ–è€…ä¸€æ¬¡æ€§å†™å…¥æ•°æ®è¿‡å¤šã€‚  \n   è§£å†³ï¼šåˆ†ç‰‡å­˜å‚¨å¤§æ–‡ä»¶ï¼Œæ£€æŸ¥ `navigator.storage.estimate()`ã€‚\n\n3. **â€œæ•°æ®æ²¡æ›´æ–°ï¼â€**  \n   åŽŸå› ï¼šäº‹åŠ¡æ˜¯åªè¯»çš„ï¼Œæˆ–è€…æ“ä½œé¡ºåºé”™è¯¯ã€‚  \n   è§£å†³ï¼šç¡®è®¤äº‹åŠ¡æ¨¡å¼ä¸º `readwrite`ï¼Œæ£€æŸ¥ä»£ç é€»è¾‘ã€‚\n\n4. **â€œè°ƒè¯•å¥½éº»çƒ¦ï¼â€**  \n   è§£å†³ï¼šç”¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼ˆæ¯”å¦‚ Chrome çš„ Application é¢æ¿ï¼‰æŸ¥çœ‹ IndexedDB æ•°æ®ï¼Œæˆ–è€…ç”¨ `idb` åº“ç®€åŒ–æ“ä½œã€‚\n\n## ç»“è¯­ï¼šIndexedDBï¼Œå€¼å¾—ä¸€è¯•ï¼ðŸŽ‰\n\nIndexedDB å°±åƒä¸€ä¸ªè—åœ¨æµè§ˆå™¨é‡Œçš„â€œå®è—â€ï¼Œè™½ç„¶ä¸Šæ‰‹éœ€è¦ç‚¹è€å¿ƒï¼Œä½†ä¸€æ—¦æŽŒæ¡ï¼Œå®ƒå°±èƒ½å¸®ä½ è§£é”æ— æ•°å¯èƒ½æ€§ï¼šä»Žç¦»çº¿åº”ç”¨åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œä»Žå¤æ‚æ•°æ®ç®¡ç†åˆ°å®žæ—¶åä½œï¼ŒIndexedDB éƒ½æ˜¯ä½ çš„å¾—åŠ›åŠ©æ‰‹ã€‚ðŸŒˆ\n\nå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ å¯¹ IndexedDB ä»Žâ€œæœ‰ç‚¹æ€•â€å˜æˆâ€œçœŸé¦™â€ï¼å¦‚æžœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œæˆ–è€…æƒ³åˆ†äº«è‡ªå·±çš„ä½¿ç”¨ç»éªŒï¼Œæ¬¢è¿Žåœ¨è¯„è®ºåŒºäº¤æµï½žæ¯•ç«Ÿï¼Œå‰ç«¯å¼€å‘è€…çš„æˆé•¿ï¼Œå°±æ˜¯åœ¨ä¸€æ¬¡æ¬¡è¸©å‘å’Œå¡«å‘ä¸­å®Œæˆçš„ï¼Œå¯¹å§ï¼ŸðŸ˜œ\n\nå¿«åŽ»è¯•è¯• IndexedDB å§ï¼Œç›¸ä¿¡å®ƒä¼šæˆä¸ºä½ å·¥å…·ç®±é‡Œçš„ä¸€æŠŠâ€œåˆ©å™¨â€ï¼ðŸ”¥\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),B=(l,e)=>{for(var r in e)c(l,r,{get:e[r],enumerable:!0})},s=(l,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(l,a)&&a!==r&&c(l,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return l};var b=(l,e,r)=>(r=l!=null?p(F(l)):{},s(e||!l||!l.__esModule?c(r,\"default\",{value:l,enumerable:!0}):r,l)),x=l=>s(c({},\"__esModule\",{value:!0}),l);var i=u((D,t)=>{t.exports=_jsx_runtime});var m={};B(m,{default:()=>h,frontmatter:()=>f});var n=b(i()),f={type:\"Post\",title:\"IndexedDB\\uFF1A\\u524D\\u7AEF\\u672C\\u5730\\u5B58\\u50A8\\u7684\\u5F3A\\u5927\\u6B66\\u5668 \\u{1F680}\",date:\"2023-05-17\",description:\"\\u6DF1\\u5165\\u63A2\\u7D22 IndexedDB \\u7684\\u6838\\u5FC3\\u6982\\u5FF5\\u3001\\u5B9E\\u73B0\\u539F\\u7406\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u89E3\\u9501\\u524D\\u7AEF\\u672C\\u5730\\u5B58\\u50A8\\u7684\\u5F3A\\u5927\\u6F5C\\u529B\\uFF0C\\u52A9\\u529B\\u6253\\u9020\\u9AD8\\u6027\\u80FD\\u3001\\u79BB\\u7EBF\\u53CB\\u597D\\u7684 Web \\u5E94\\u7528\\u3002\",keywords:\"IndexedDB, \\u672C\\u5730\\u5B58\\u50A8, \\u524D\\u7AEF\\u5F00\\u53D1, Web \\u5B58\\u50A8, \\u6570\\u636E\\u5E93, \\u79BB\\u7EBF\\u5E94\\u7528, \\u6D4F\\u89C8\\u5668\\u5B58\\u50A8, JavaScript\",author:\"\\u6653\\u9F99\",image:\"/images/hero/indexeddb.jpg\",tags:[\"IndexedDB\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"JavaScript\",\"Web \\u5B58\\u50A8\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function o(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u5728\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u4E16\\u754C\\u91CC\\uFF0C\\u672C\\u5730\\u5B58\\u50A8\\u5C31\\u50CF\\u662F\\u5F00\\u53D1\\u8005\\u7684\\u201C\\u79C1\\u4EBA\\u4ED3\\u5E93\\u201D\\uFF0C\\u7528\\u6765\\u5B58\\u653E\\u7528\\u6237\\u6570\\u636E\\u3001\\u7F13\\u5B58\\u8D44\\u6E90\\uFF0C\\u751A\\u81F3\\u652F\\u6491\\u79BB\\u7EBF\\u5E94\\u7528\\u3002\\u63D0\\u5230\\u672C\\u5730\\u5B58\\u50A8\\uFF0C\\u5927\\u5BB6\\u53EF\\u80FD\\u9996\\u5148\\u60F3\\u5230 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"sessionStorage\"})})})}),\"\\uFF0C\\u4F46\\u8FD9\\u4E9B\\u5DE5\\u5177\\u5C31\\u50CF\\u662F\\u201C\\u7B80\\u6613\\u50A8\\u7269\\u67DC\\u201D\\uFF0C\\u5BB9\\u91CF\\u5C0F\\u3001\\u529F\\u80FD\\u5355\\u4E00\\u3002\\u800C \",(0,n.jsx)(e.strong,{children:\"IndexedDB\"}),\"\\uFF1F\\u5B83\\u66F4\\u50CF\\u662F\\u4E00\\u4E2A\\u201C\\u73B0\\u4EE3\\u5316\\u4ED3\\u50A8\\u4E2D\\u5FC3\\u201D\\uFF0C\\u5BB9\\u91CF\\u5927\\u3001\\u529F\\u80FD\\u5F3A\\uFF0C\\u8FD8\\u652F\\u6301\\u590D\\u6742\\u67E5\\u8BE2\\u548C\\u4E8B\\u52A1\\u64CD\\u4F5C\\uFF01\\u{1F527}\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F5C\\u4E3A\\u4E00\\u540D\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u5982\\u679C\\u4F60\\u8FD8\\u6CA1\\u7528\\u8FC7 IndexedDB\\uFF0C\\u6216\\u8005\\u53EA\\u542C\\u8FC7\\u5B83\\u7684\\u540D\\u5B57\\u5374\\u89C9\\u5F97\\u5B83\\u201C\\u9AD8\\u51B7\\u96BE\\u61C2\\u201D\\uFF0C\\u522B\\u62C5\\u5FC3\\uFF01\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u4ECE\\u96F6\\u5230\\u4E00\\uFF0C\\u6DF1\\u5165\\u6D45\\u51FA\\u5730\\u63A2\\u7D22 IndexedDB \\u7684\\u6838\\u5FC3\\u539F\\u7406\\u3001\\u5B9E\\u7528\\u573A\\u666F\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u751A\\u81F3\\u8FD8\\u4F1A\\u5939\\u6742\\u4E00\\u4E9B\\u5E7D\\u9ED8\\u7684\\u5C0F\\u6545\\u4E8B\\u548C\\u7C7B\\u6BD4\\uFF0C\\u8BA9\\u4F60\\u8BFB\\u5B8C\\u4E0D\\u4EC5\\u80FD\\u201C\\u54C7\\u585E\\uFF0C\\u539F\\u6765\\u8FD9\\u4E48\\u7B80\\u5355\\u201D\\uFF0C\\u8FD8\\u80FD\\u7ACB\\u523B\\u4E0A\\u624B\\u7528\\u5B83\\u6253\\u9020\\u66F4\\u725B\\u7684 Web \\u5E94\\u7528\\uFF01\\u{1F60E}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-indexeddb\",children:(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-indexeddb\",children:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981 IndexedDB\\uFF1F\\u{1F914}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u804A IndexedDB \\u7684\\u7EC6\\u8282\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u641E\\u6E05\\u695A\\uFF1A\\u4E3A\\u4EC0\\u4E48\\u5B83\\u8FD9\\u4E48\\u91CD\\u8981\\uFF1F\\u672C\\u5730\\u5B58\\u50A8\\u7684\\u9700\\u6C42\\u65E0\\u5904\\u4E0D\\u5728\\uFF0C\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u79BB\\u7EBF\\u5E94\\u7528\"}),\"\\uFF1A\\u50CF Gmail \\u8FD9\\u6837\\u7684 PWA\\uFF08\\u6E10\\u8FDB\\u5F0F Web \\u5E94\\u7528\\uFF09\\uFF0C\\u53EF\\u4EE5\\u5728\\u6CA1\\u7F51\\u65F6\\u7167\\u5E38\\u52A0\\u8F7D\\u90AE\\u4EF6\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u7F13\\u5B58\\u5927\\u6587\\u4EF6\\uFF08\\u5982\\u56FE\\u7247\\u3001\\u89C6\\u9891\\uFF09\\u6216\\u9891\\u7E41\\u8BF7\\u6C42\\u7684 API \\u6570\\u636E\\uFF0C\\u51CF\\u5C11\\u670D\\u52A1\\u5668\\u538B\\u529B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u590D\\u6742\\u6570\\u636E\\u7BA1\\u7406\"}),\"\\uFF1A\\u6BD4\\u5982\\u4E00\\u4E2A\\u4EFB\\u52A1\\u7BA1\\u7406\\u5DE5\\u5177\\uFF0C\\u9700\\u8981\\u5B58\\u50A8\\u7528\\u6237\\u7684\\u4EFB\\u52A1\\u5217\\u8868\\u3001\\u6807\\u7B7E\\u3001\\u4F18\\u5148\\u7EA7\\u7B49\\u7ED3\\u6784\\u5316\\u6570\\u636E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"sessionStorage\"})})})}),\" \\u867D\\u7136\\u7B80\\u5355\\uFF0C\\u4F46\\u5B83\\u4EEC\\u6709\\u81F4\\u547D\\u7684\\u77ED\\u677F\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5BB9\\u91CF\\u9650\\u5236\"}),\"\\uFF1A\\u901A\\u5E38\\u53EA\\u6709 5-10MB\\uFF0C\\u5B58\\u70B9\\u5C0F\\u6570\\u636E\\u8FD8\\u884C\\uFF0C\\u5927\\u6587\\u4EF6\\u76F4\\u63A5\\u6B47\\u83DC\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6570\\u636E\\u7ED3\\u6784\\u5355\\u4E00\"}),\"\\uFF1A\\u53EA\\u80FD\\u5B58\\u5B57\\u7B26\\u4E32\\uFF0C\\u60F3\\u5B58\\u5BF9\\u8C61\\u8FD8\\u5F97\\u624B\\u52A8\\u5E8F\\u5217\\u5316/\\u53CD\\u5E8F\\u5217\\u5316\\uFF0C\\u70E6\\u4E0D\\u70E6\\uFF1F\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u540C\\u6B65\\u64CD\\u4F5C\"}),\"\\uFF1A\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\uFF0C\\u6570\\u636E\\u91CF\\u4E00\\u5927\\u5C31\\u5361\\u987F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"IndexedDB \\u5C31\\u50CF\\u662F\\u4E3A\\u89E3\\u51B3\\u8FD9\\u4E9B\\u75DB\\u70B9\\u800C\\u751F\\u7684\\u201C\\u8D85\\u7EA7\\u82F1\\u96C4\\u201D\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5927\\u5BB9\\u91CF\"}),\"\\uFF1A\\u7406\\u8BBA\\u4E0A\\u53EF\\u4EE5\\u5360\\u7528\\u7528\\u6237\\u786C\\u76D8\\u7684 50%\\uFF08\\u6D4F\\u89C8\\u5668\\u4F1A\\u52A8\\u6001\\u9650\\u5236\\uFF09\\uFF0C\\u5B58\\u4E2A\\u51E0\\u767E MB \\u4E0D\\u5728\\u8BDD\\u4E0B\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7ED3\\u6784\\u5316\\u5B58\\u50A8\"}),\"\\uFF1A\\u652F\\u6301\\u590D\\u6742\\u5BF9\\u8C61\\u3001\\u6570\\u7EC4\\uFF0C\\u751A\\u81F3\\u4E8C\\u8FDB\\u5236\\u6570\\u636E\\uFF08Blob\\u3001ArrayBuffer\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5F02\\u6B65\\u64CD\\u4F5C\"}),\"\\uFF1A\\u4E0D\\u4F1A\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\uFF0C\\u6027\\u80FD\\u66F4\\u53CB\\u597D\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E8B\\u52A1\\u652F\\u6301\"}),\"\\uFF1A\\u50CF\\u540E\\u7AEF\\u6570\\u636E\\u5E93\\u4E00\\u6837\\uFF0C\\u4FDD\\u8BC1\\u6570\\u636E\\u64CD\\u4F5C\\u7684\\u539F\\u5B50\\u6027\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7D22\\u5F15\\u67E5\\u8BE2\"}),\"\\uFF1A\\u53EF\\u4EE5\\u50CF SQL \\u6570\\u636E\\u5E93\\u90A3\\u6837\\u9AD8\\u6548\\u67E5\\u627E\\u6570\\u636E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF0C\\u5982\\u679C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u662F\\u4F60\\u5BB6\\u91CC\\u7684\\u5C0F\\u62BD\\u5C49\\uFF0CIndexedDB \\u5C31\\u662F\\u4E2A\\u5E26\\u641C\\u7D22\\u529F\\u80FD\\u7684\\u667A\\u80FD\\u6570\\u636E\\u5E93\\uFF0C\\u5B58\\u5565\\u90FD\\u80FD\\u5FEB\\u901F\\u627E\\u51FA\\u6765\\uFF01\\u{1F4E6}\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"indexeddb-\\u6838\\u5FC3\\u6982\\u5FF5\\u4ECE\\u4ED3\\u5E93\\u5230\\u8D27\\u67B6-\",children:(0,n.jsx)(e.a,{href:\"#indexeddb-\\u6838\\u5FC3\\u6982\\u5FF5\\u4ECE\\u4ED3\\u5E93\\u5230\\u8D27\\u67B6-\",children:\"IndexedDB \\u6838\\u5FC3\\u6982\\u5FF5\\uFF1A\\u4ECE\\u201C\\u4ED3\\u5E93\\u201D\\u5230\\u201C\\u8D27\\u67B6\\u201D \\u{1F4DA}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8981\\u7528\\u597D IndexedDB\\uFF0C\\u5F97\\u5148\\u641E\\u61C2\\u5B83\\u7684\\u51E0\\u4E2A\\u6838\\u5FC3\\u6982\\u5FF5\\u3002\\u522B\\u614C\\uFF0C\\u6211\\u4F1A\\u7528\\u7C7B\\u6BD4\\u548C\\u4F8B\\u5B50\\u8BA9\\u4F60\\u79D2\\u61C2\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u6570\\u636E\\u5E93database\",children:(0,n.jsx)(e.a,{href:\"#1-\\u6570\\u636E\\u5E93database\",children:\"1. \\u6570\\u636E\\u5E93\\uFF08Database\\uFF09\"})}),`\n`,(0,n.jsx)(e.p,{children:\"IndexedDB \\u7684\\u201C\\u6570\\u636E\\u5E93\\u201D\\u5C31\\u50CF\\u4E00\\u4E2A\\u5927\\u4ED3\\u5E93\\uFF0C\\u91CC\\u9762\\u53EF\\u4EE5\\u5B58\\u653E\\u591A\\u4E2A\\u6570\\u636E\\u96C6\\u3002\\u6BCF\\u4E2A Web \\u5E94\\u7528\\uFF08\\u57DF\\u540D + \\u534F\\u8BAE\\uFF09\\u53EF\\u4EE5\\u6709\\u591A\\u4E2A\\u6570\\u636E\\u5E93\\uFF0C\\u4F46\\u4E00\\u822C\\u4E00\\u4E2A\\u5E94\\u7528\\u53EA\\u7528\\u4E00\\u4E2A\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u7ED9\\u6570\\u636E\\u5E93\\u8D77\\u4E2A\\u6709\\u610F\\u4E49\\u7684\\u540D\\u5B57\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"MyAppData\"})})})}),\"\\uFF0C\\u907F\\u514D\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"test\"})})})}),\" \\u8FD9\\u79CD\\u6A21\\u7CCA\\u7684\\u540D\\u5B57\\uFF0C\\u65B9\\u4FBF\\u8C03\\u8BD5\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u5BF9\\u8C61\\u5B58\\u50A8object-store\",children:(0,n.jsx)(e.a,{href:\"#2-\\u5BF9\\u8C61\\u5B58\\u50A8object-store\",children:\"2. \\u5BF9\\u8C61\\u5B58\\u50A8\\uFF08Object Store\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5BF9\\u8C61\\u5B58\\u50A8\\u662F\\u6570\\u636E\\u5E93\\u91CC\\u7684\\u201C\\u8D27\\u67B6\\u201D\\uFF0C\\u6BCF\\u4E2A\\u8D27\\u67B6\\u5B58\\u653E\\u4E00\\u7C7B\\u6570\\u636E\\u3002\\u6BD4\\u5982\\uFF0C\\u4F60\\u53EF\\u80FD\\u6709\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"users\"})})})}),\" \\u8D27\\u67B6\\u5B58\\u7528\\u6237\\u4FE1\\u606F\\uFF0C\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"tasks\"})})})}),\" \\u8D27\\u67B6\\u5B58\\u4EFB\\u52A1\\u6570\\u636E\\u3002\\u6BCF\\u4E2A\\u5BF9\\u8C61\\u5B58\\u50A8\\u7C7B\\u4F3C\\u4E00\\u4E2A NoSQL \\u8868\\uFF0C\\u91CC\\u9762\\u5B58\\u7684\\u662F JavaScript \\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u5BF9\\u8C61\\u5B58\\u50A8\\u7684\\u540D\\u5B57\\u8981\\u76F4\\u89C2\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"products\"})})})}),\" \\u800C\\u4E0D\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"data1\"})})})}),\"\\uFF0C\\u5426\\u5219\\u7EF4\\u62A4\\u4EE3\\u7801\\u7684\\u65F6\\u5019\\u4F60\\u4F1A\\u60F3\\u6253\\u81EA\\u5DF1\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u952Ekey\",children:(0,n.jsx)(e.a,{href:\"#3-\\u952Ekey\",children:\"3. \\u952E\\uFF08Key\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6BCF\\u4E2A\\u5BF9\\u8C61\\u5B58\\u50A8\\u91CC\\u7684\\u6570\\u636E\\u90FD\\u9700\\u8981\\u4E00\\u4E2A\\u552F\\u4E00\\u7684\\u201C\\u952E\\u201D\\u6765\\u6807\\u8BC6\\uFF0C\\u5C31\\u50CF\\u8D27\\u67B6\\u4E0A\\u7684\\u201C\\u6807\\u7B7E\\u201D\\u3002\\u952E\\u53EF\\u4EE5\\u662F\\u5BF9\\u8C61\\u7684\\u4E00\\u4E2A\\u5C5E\\u6027\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"id\"})})})}),\"\\uFF09\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u662F\\u81EA\\u52A8\\u751F\\u6210\\u7684\\u9012\\u589E\\u6574\\u6570\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u4F18\\u5148\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"{ autoIncrement: true }\"})})})}),\" \\u81EA\\u52A8\\u751F\\u6210\\u952E\\uFF0C\\u7701\\u5F97\\u81EA\\u5DF1\\u624B\\u52A8\\u7EF4\\u62A4\\u552F\\u4E00\\u6027\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u7D22\\u5F15index\",children:(0,n.jsx)(e.a,{href:\"#4-\\u7D22\\u5F15index\",children:\"4. \\u7D22\\u5F15\\uFF08Index\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7D22\\u5F15\\u5C31\\u50CF\\u8D27\\u67B6\\u4E0A\\u7684\\u201C\\u5FEB\\u901F\\u67E5\\u627E\\u6807\\u7B7E\\u201D\\u3002\\u6BD4\\u5982\\uFF0C\\u4F60\\u60F3\\u6309\\u7528\\u6237\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"email\"})})})}),\" \\u5B57\\u6BB5\\u5FEB\\u901F\\u67E5\\u627E\\u6570\\u636E\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"users\"})})})}),\" \\u5BF9\\u8C61\\u5B58\\u50A8\\u4E0A\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"email\"})})})}),\" \\u7D22\\u5F15\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u7D22\\u5F15\\u867D\\u597D\\uFF0C\\u4F46\\u522B\\u6EE5\\u7528\\uFF0C\\u8FC7\\u591A\\u7D22\\u5F15\\u4F1A\\u589E\\u52A0\\u5B58\\u50A8\\u548C\\u7EF4\\u62A4\\u6210\\u672C\\uFF0C\\u5F71\\u54CD\\u6027\\u80FD\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"5-\\u4E8B\\u52A1transaction\",children:(0,n.jsx)(e.a,{href:\"#5-\\u4E8B\\u52A1transaction\",children:\"5. \\u4E8B\\u52A1\\uFF08Transaction\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E8B\\u52A1\\u662F IndexedDB \\u7684\\u201C\\u64CD\\u4F5C\\u6D41\\u6C34\\u7EBF\\u201D\\uFF0C\\u4FDD\\u8BC1\\u4E00\\u7EC4\\u64CD\\u4F5C\\u8981\\u4E48\\u5168\\u6210\\u529F\\uFF0C\\u8981\\u4E48\\u5168\\u5931\\u8D25\\u3002\\u6BD4\\u5982\\uFF0C\\u4F60\\u5728\\u66F4\\u65B0\\u7528\\u6237\\u4FE1\\u606F\\u65F6\\uFF0C\\u4E0D\\u80FD\\u6539\\u4E86\\u4E00\\u534A\\u5C31\\u5D29\\u4E86\\u3002\\u4E8B\\u52A1\\u8FD8\\u6709\\u8BFB\\u5199\\u6743\\u9650\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"readonly\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"readwrite\"})})})}),\"\\uFF09\\uFF0C\\u5F97\\u660E\\u786E\\u6307\\u5B9A\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u5C3D\\u91CF\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"readonly\"})})})}),\" \\u4E8B\\u52A1\\u67E5\\u8BE2\\u6570\\u636E\\uFF0C\\u6027\\u80FD\\u6BD4 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"readwrite\"})})})}),\" \\u66F4\\u9AD8\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"6-\\u7248\\u672Cversion\",children:(0,n.jsx)(e.a,{href:\"#6-\\u7248\\u672Cversion\",children:\"6. \\u7248\\u672C\\uFF08Version\\uFF09\"})}),`\n`,(0,n.jsx)(e.p,{children:\"IndexedDB \\u7684\\u6570\\u636E\\u5E93\\u6709\\u7248\\u672C\\u53F7\\uFF0C\\u6BCF\\u6B21\\u4FEE\\u6539\\u7ED3\\u6784\\uFF08\\u6BD4\\u5982\\u65B0\\u589E\\u5BF9\\u8C61\\u5B58\\u50A8\\u6216\\u7D22\\u5F15\\uFF09\\u90FD\\u8981\\u5347\\u7EA7\\u7248\\u672C\\u3002\\u7248\\u672C\\u53F7\\u5FC5\\u987B\\u662F\\u6574\\u6570\\uFF0C\\u9012\\u589E\\u4F7F\\u7528\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u7248\\u672C\\u53F7\\u4ECE 1 \\u5F00\\u59CB\\uFF0C\\u522B\\u4E00\\u5F00\\u59CB\\u5C31\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"1000\"})})})}),\" \\u8FD9\\u79CD\\u201C\\u7559\\u4F59\\u91CF\\u201D\\u7684\\u9A9A\\u64CD\\u4F5C\\uFF0C\\u540E\\u671F\\u7EF4\\u62A4\\u4F1A\\u5F88\\u75DB\\u82E6\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u52A8\\u624B\\u5199\\u4EE3\\u7801\\u4ECE\\u96F6\\u5F00\\u59CB\\u7528-indexeddb-\\uFE0F\",children:(0,n.jsx)(e.a,{href:\"#\\u52A8\\u624B\\u5199\\u4EE3\\u7801\\u4ECE\\u96F6\\u5F00\\u59CB\\u7528-indexeddb-\\uFE0F\",children:\"\\u52A8\\u624B\\u5199\\u4EE3\\u7801\\uFF1A\\u4ECE\\u96F6\\u5F00\\u59CB\\u7528 IndexedDB \\u{1F6E0}\\uFE0F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7406\\u8BBA\\u8BB2\\u5B8C\\u4E86\\uFF0C\\u54B1\\u4EEC\\u76F4\\u63A5\\u4E0A\\u4EE3\\u7801\\uFF01\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684\\u4F8B\\u5B50\\uFF1A\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4EFB\\u52A1\\u7BA1\\u7406\\u5E94\\u7528\\uFF0C\\u5141\\u8BB8\\u7528\\u6237\\u6DFB\\u52A0\\u3001\\u67E5\\u8BE2\\u548C\\u5220\\u9664\\u4EFB\\u52A1\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u6253\\u5F00\\u521B\\u5EFA\\u6570\\u636E\\u5E93\",children:(0,n.jsx)(e.a,{href:\"#1-\\u6253\\u5F00\\u521B\\u5EFA\\u6570\\u636E\\u5E93\",children:\"1. \\u6253\\u5F00/\\u521B\\u5EFA\\u6570\\u636E\\u5E93\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" indexedDB.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"TaskManager\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6570\\u636E\\u5E93\\u540D\\u548C\\u7248\\u672C\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6570\\u636E\\u5E93\\u7ED3\\u6784\\u521D\\u59CB\\u5316\\u6216\\u5347\\u7EA7\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onupgradeneeded\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" event.target.result;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"db.objectStoreNames.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"contains\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { keyPath: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", autoIncrement: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createIndex\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"by_title\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"title\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { unique: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6309\\u6807\\u9898\\u7D22\\u5F15\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.target.result);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.target.error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8BB2\\u89E3\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"indexedDB.open\"})})})}),\" \\u6253\\u5F00\\u6216\\u521B\\u5EFA\\u6570\\u636E\\u5E93\\uFF0C\\u7248\\u672C\\u53F7\\u8BBE\\u4E3A 1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onupgradeneeded\"})})})}),\" \\u5728\\u9996\\u6B21\\u521B\\u5EFA\\u6216\\u7248\\u672C\\u5347\\u7EA7\\u65F6\\u89E6\\u53D1\\uFF0C\\u7528\\u6765\\u5B9A\\u4E49\\u5BF9\\u8C61\\u5B58\\u50A8\\u548C\\u7D22\\u5F15\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'keyPath: \"id\"'})})})}),\" \\u6307\\u5B9A\\u4E3B\\u952E\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"autoIncrement: true\"})})})}),\" \\u81EA\\u52A8\\u751F\\u6210\\u9012\\u589E ID\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"by_title\"})})})}),\" \\u7D22\\u5F15\\uFF0C\\u65B9\\u4FBF\\u6309\\u4EFB\\u52A1\\u6807\\u9898\\u67E5\\u8BE2\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u59CB\\u7EC8\\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onerror\"})})})}),\"\\uFF0C\\u5426\\u5219\\u8C03\\u8BD5\\u65F6\\u51FA\\u9519\\u4F1A\\u4E00\\u8138\\u61F5\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u6DFB\\u52A0\\u4EFB\\u52A1\",children:(0,n.jsx)(e.a,{href:\"#2-\\u6DFB\\u52A0\\u4EFB\\u52A1\",children:\"2. \\u6DFB\\u52A0\\u4EFB\\u52A1\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" addTask\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"task\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readwrite\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" transaction.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(task);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.result); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8FD4\\u56DE\\u65B0\\u4EFB\\u52A1\\u7684 ID\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addTask\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ title: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5B66 IndexedDB\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", completed: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" })\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u4EFB\\u52A1 ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u6DFB\\u52A0\\u6210\\u529F\\uFF01`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6DFB\\u52A0\\u5931\\u8D25\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8BB2\\u89E3\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u4E8B\\u52A1\\u6307\\u5B9A\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"readwrite\"})})})}),\" \\u6A21\\u5F0F\\uFF0C\\u56E0\\u4E3A\\u6211\\u4EEC\\u8981\\u5199\\u5165\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"store.add\"})})})}),\" \\u6DFB\\u52A0\\u4E00\\u6761\\u8BB0\\u5F55\\uFF0C\\u8FD4\\u56DE\\u65B0\\u751F\\u6210\\u7684\\u4E3B\\u952E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u6279\\u91CF\\u6DFB\\u52A0\\u6570\\u636E\\u65F6\\uFF0C\\u590D\\u7528\\u540C\\u4E00\\u4E2A\\u4E8B\\u52A1\\uFF0C\\u51CF\\u5C11\\u5F00\\u9500\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u67E5\\u8BE2\\u6240\\u6709\\u4EFB\\u52A1\",children:(0,n.jsx)(e.a,{href:\"#3-\\u67E5\\u8BE2\\u6240\\u6709\\u4EFB\\u52A1\",children:\"3. \\u67E5\\u8BE2\\u6240\\u6709\\u4EFB\\u52A1\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getAllTasks\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readonly\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" transaction.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getAll\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.result);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getAllTasks\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"tasks\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6240\\u6709\\u4EFB\\u52A1\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", tasks))\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u67E5\\u8BE2\\u5931\\u8D25\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8BB2\\u89E3\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"readonly\"})})})}),\" \\u4E8B\\u52A1\\u67E5\\u8BE2\\u6570\\u636E\\uFF0C\\u6027\\u80FD\\u66F4\\u4F18\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"store.getAll()\"})})})}),\" \\u8FD4\\u56DE\\u5BF9\\u8C61\\u5B58\\u50A8\\u4E2D\\u7684\\u6240\\u6709\\u8BB0\\u5F55\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u5982\\u679C\\u6570\\u636E\\u91CF\\u5F88\\u5927\\uFF0C\\u8003\\u8651\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cursor\"})})})}),\" \\u5206\\u9875\\u67E5\\u8BE2\\uFF0C\\u907F\\u514D\\u4E00\\u6B21\\u6027\\u52A0\\u8F7D\\u8FC7\\u591A\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u6309\\u6807\\u9898\\u67E5\\u8BE2\\u4EFB\\u52A1\",children:(0,n.jsx)(e.a,{href:\"#4-\\u6309\\u6807\\u9898\\u67E5\\u8BE2\\u4EFB\\u52A1\",children:\"4. \\u6309\\u6807\\u9898\\u67E5\\u8BE2\\u4EFB\\u52A1\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getTasksByTitle\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"title\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readonly\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" transaction.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" index\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"index\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"by_title\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" index.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getAll\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(title);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.result);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getTasksByTitle\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5B66 IndexedDB\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"tasks\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5339\\u914D\\u7684\\u4EFB\\u52A1\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", tasks))\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u67E5\\u8BE2\\u5931\\u8D25\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8BB2\\u89E3\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'index(\"by_title\")'})})})}),\" \\u4F7F\\u7528\\u7D22\\u5F15\\u67E5\\u8BE2\\uFF0C\\u6548\\u7387\\u66F4\\u9AD8\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getAll(title)\"})})})}),\" \\u8FD4\\u56DE\\u6240\\u6709\\u6807\\u9898\\u5339\\u914D\\u7684\\u8BB0\\u5F55\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u7D22\\u5F15\\u67E5\\u8BE2\\u65F6\\uFF0C\\u5C3D\\u91CF\\u907F\\u514D\\u5168\\u8868\\u626B\\u63CF\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getAll()\"})})})}),\" \\u800C\\u4E0D\\u6307\\u5B9A\\u6761\\u4EF6\\uFF09\\uFF0C\\u5426\\u5219\\u6027\\u80FD\\u4F1A\\u4E0B\\u964D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"5-\\u5220\\u9664\\u4EFB\\u52A1\",children:(0,n.jsx)(e.a,{href:\"#5-\\u5220\\u9664\\u4EFB\\u52A1\",children:\"5. \\u5220\\u9664\\u4EFB\\u52A1\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" deleteTask\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readwrite\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" transaction.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tasks\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"delete\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(id);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(request.error);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"deleteTask\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4EFB\\u52A1\\u5220\\u9664\\u6210\\u529F\\uFF01\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  .\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5220\\u9664\\u5931\\u8D25\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8BB2\\u89E3\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"store.delete(id)\"})})})}),\" \\u5220\\u9664\\u6307\\u5B9A\\u4E3B\\u952E\\u7684\\u8BB0\\u5F55\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5220\\u9664\\u64CD\\u4F5C\\u9700\\u8981 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"readwrite\"})})})}),\" \\u4E8B\\u52A1\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u5220\\u9664\\u524D\\u6700\\u597D\\u5148\\u786E\\u8BA4\\u8BB0\\u5F55\\u5B58\\u5728\\uFF08\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"get\"})})})}),\" \\u67E5\\u4E00\\u4E0B\\uFF09\\uFF0C\\u907F\\u514D\\u65E0\\u6548\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-indexeddb-\\u66F4\\u9AD8\\u6548\\u66F4\\u53EF\\u9760-\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9-indexeddb-\\u66F4\\u9AD8\\u6548\\u66F4\\u53EF\\u9760-\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9 IndexedDB \\u66F4\\u9AD8\\u6548\\u3001\\u66F4\\u53EF\\u9760 \\u{1F3C6}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7528 IndexedDB \\u5C31\\u50CF\\u5F00\\u4E00\\u8F86\\u8DD1\\u8F66\\uFF0C\\u723D\\u662F\\u723D\\uFF0C\\u4F46\\u5F97\\u6CE8\\u610F\\u201C\\u9A7E\\u9A76\\u6280\\u5DE7\\u201D\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5B9E\\u7528\\u5EFA\\u8BAE\\uFF0C\\u5E2E\\u4F60\\u5C11\\u8E29\\u5751\\u3001\\u591A\\u7701\\u5FC3\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5C01\\u88C5\\u64CD\\u4F5C\\u903B\\u8F91\"}),\" \\u{1F527}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u539F\\u751F\\u7684 IndexedDB API \\u6709\\u70B9\\u5570\\u55E6\\uFF08\\u56DE\\u8C03\\u5730\\u72F1\\u8B66\\u544A\\u26A0\\uFE0F\\uFF09\\uFF0C\\u5EFA\\u8BAE\\u7528 Promise \\u5C01\\u88C5\\uFF0C\\u6216\\u8005\\u76F4\\u63A5\\u7528\\u73B0\\u6210\\u7684\\u5E93\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"idb\"})})})}),\"\\uFF09\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"idb\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u8F7B\\u91CF\\u5C01\\u88C5\\u5E93\\uFF0CAPI \\u66F4\\u7B80\\u6D01\\uFF0C\\u63A8\\u8350\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4F7F\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5408\\u7406\\u8BBE\\u8BA1\\u5BF9\\u8C61\\u5B58\\u50A8\"}),\" \\u{1F4E6}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u4E0D\\u8981\\u628A\\u6240\\u6709\\u6570\\u636E\\u585E\\u5230\\u4E00\\u4E2A\\u5BF9\\u8C61\\u5B58\\u50A8\\u91CC\\uFF0C\\u6309\\u4E1A\\u52A1\\u6A21\\u5757\\u62C6\\u5206\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"users\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"orders\"})})})}),\"\\uFF09\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u5BF9\\u8C61\\u5B58\\u50A8\\u7684\\u8BBE\\u8BA1\\u8981\\u8003\\u8651\\u67E5\\u8BE2\\u9700\\u6C42\\uFF0C\\u6BD4\\u5982\\u9700\\u8981\\u6309\\u65F6\\u95F4\\u6392\\u5E8F\\u7684\\u6570\\u636E\\uFF0C\\u53EF\\u4EE5\\u52A0\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"createdAt\"})})})}),\" \\u5B57\\u6BB5\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u63A7\\u5236\\u4E8B\\u52A1\\u8303\\u56F4\"}),\" \\u{1F512}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u4E8B\\u52A1\\u7684\\u7C92\\u5EA6\\u8981\\u5C3D\\u91CF\\u5C0F\\uFF0C\\u53EA\\u5305\\u542B\\u5FC5\\u8981\\u7684\\u5BF9\\u8C61\\u5B58\\u50A8\\uFF0C\\u51CF\\u5C11\\u9501\\u51B2\\u7A81\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u4E8B\\u52A1\\u672A\\u5B8C\\u6210\\u65F6\\u4E0D\\u8981\\u6267\\u884C\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\"\\uFF09\\uFF0C\\u5426\\u5219\\u53EF\\u80FD\\u5BFC\\u81F4\\u4E8B\\u52A1\\u81EA\\u52A8\\u5173\\u95ED\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5904\\u7406\\u9519\\u8BEF\\u548C\\u8FB9\\u754C\\u60C5\\u51B5\"}),\" \\u{1F6A8}\",(0,n.jsx)(e.br,{}),`\n`,\"IndexedDB \\u7684\\u9519\\u8BEF\\u4FE1\\u606F\\u6709\\u65F6\\u5F88\\u201C\\u795E\\u79D8\\u201D\\uFF0C\\u4E00\\u5B9A\\u8981\\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onerror\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onblocked\"})})})}),\" \\u4E8B\\u4EF6\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u7528\\u6237\\u6E05\\u7A7A\\u6D4F\\u89C8\\u5668\\u6570\\u636E\\u65F6\\uFF0CIndexedDB \\u4F1A\\u88AB\\u6E05\\u7A7A\\uFF0C\\u4EE3\\u7801\\u91CC\\u8981\\u505A\\u597D\\u964D\\u7EA7\\u5904\\u7406\\uFF08\\u6BD4\\u5982 fallback \\u5230 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\"\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5316\\u5927\\u6570\\u636E\\u91CF\\u64CD\\u4F5C\"}),\" \\u{1F4C8}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u5BF9\\u4E8E\\u5927\\u6587\\u4EF6\\uFF08\\u6BD4\\u5982\\u56FE\\u7247\\uFF09\\uFF0C\\u7528 Blob \\u5B58\\u50A8\\uFF0C\\u5E76\\u5206\\u7247\\u5199\\u5165\\uFF0C\\u907F\\u514D\\u4E00\\u6B21\\u6027\\u64CD\\u4F5C\\u8FC7\\u591A\\u6570\\u636E\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cursor\"})})})}),\" \\u904D\\u5386\\u5927\\u6570\\u636E\\uFF0C\\u5206\\u6279\\u5904\\u7406\\uFF0C\\u9632\\u6B62\\u5185\\u5B58\\u6EA2\\u51FA\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7248\\u672C\\u7BA1\\u7406\\u8981\\u8C28\\u614E\"}),\" \\u{1F522}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u6570\\u636E\\u5E93\\u7ED3\\u6784\\u53D8\\u66F4\\u65F6\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onupgradeneeded\"})})})}),\" \\u91CC\\u7684\\u903B\\u8F91\\u8981\\u517C\\u5BB9\\u65E7\\u7248\\u672C\\u6570\\u636E\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u8BB0\\u5F55\\u6BCF\\u6B21\\u7248\\u672C\\u53D8\\u66F4\\u7684\\u811A\\u672C\\uFF0C\\u65B9\\u4FBF\\u56DE\\u6EAF\\u548C\\u8C03\\u8BD5\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u76D1\\u63A7\\u5B58\\u50A8\\u914D\\u989D\"}),\" \\u{1F4CF}\",(0,n.jsx)(e.br,{}),`\n`,\"\\u6D4F\\u89C8\\u5668\\u5BF9 IndexedDB \\u7684\\u5B58\\u50A8\\u7A7A\\u95F4\\u6709\\u9650\\u5236\\uFF0C\\u5EFA\\u8BAE\\u5B9A\\u671F\\u6E05\\u7406\\u8FC7\\u671F\\u6570\\u636E\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"Tips\"}),\" \\u{1F4A1}\\uFF1A\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"navigator.storage.estimate()\"})})})}),\" \\u68C0\\u67E5\\u5269\\u4F59\\u7A7A\\u95F4\\uFF0C\\u52A8\\u6001\\u8C03\\u6574\\u5B58\\u50A8\\u7B56\\u7565\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5B9E\\u9645\\u573A\\u666Findexeddb-\\u7684\\u9AD8\\u5149\\u65F6\\u523B-\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u9645\\u573A\\u666Findexeddb-\\u7684\\u9AD8\\u5149\\u65F6\\u523B-\",children:\"\\u5B9E\\u9645\\u573A\\u666F\\uFF1AIndexedDB \\u7684\\u201C\\u9AD8\\u5149\\u65F6\\u523B\\u201D \\u{1F31F}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"IndexedDB \\u7684\\u7528\\u6B66\\u4E4B\\u5730\\u975E\\u5E38\\u591A\\uFF0C\\u4EE5\\u4E0B\\u662F\\u51E0\\u4E2A\\u771F\\u5B9E\\u6848\\u4F8B\\uFF0C\\u5C55\\u793A\\u5B83\\u7684\\u5F3A\\u5927\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u79BB\\u7EBF\\u8868\\u5355\\u4FDD\\u5B58\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u573A\\u666F\\uFF1A\\u7528\\u6237\\u5728\\u586B\\u5199\\u4E00\\u4E2A\\u590D\\u6742\\u8868\\u5355\\u65F6\\u7F51\\u7EDC\\u65AD\\u4E86\\uFF0C\\u6570\\u636E\\u4E0D\\u80FD\\u4E22\\uFF01\",(0,n.jsx)(e.br,{}),`\n`,\"\\u65B9\\u6848\\uFF1A\\u7528 IndexedDB \\u4FDD\\u5B58\\u8868\\u5355\\u6570\\u636E\\uFF0C\\u7F51\\u7EDC\\u6062\\u590D\\u540E\\u81EA\\u52A8\\u540C\\u6B65\\u5230\\u670D\\u52A1\\u5668\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveFormData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"formData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tx\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"forms\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readwrite\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"forms\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"put\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(formData, \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"currentForm\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u56FE\\u7247\\u7F13\\u5B58\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u573A\\u666F\\uFF1A\\u4E00\\u4E2A\\u56FE\\u7247\\u7F16\\u8F91\\u5668\\u9700\\u8981\\u7F13\\u5B58\\u7528\\u6237\\u4E0A\\u4F20\\u7684\\u56FE\\u7247\\uFF0C\\u51CF\\u5C11\\u91CD\\u590D\\u52A0\\u8F7D\\u3002\",(0,n.jsx)(e.br,{}),`\n`,\"\\u65B9\\u6848\\uFF1A\\u5C06\\u56FE\\u7247\\u5B58\\u4E3A Blob\\uFF0C\\u914D\\u5408 Service Worker \\u5B9E\\u73B0\\u79BB\\u7EBF\\u8BBF\\u95EE\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" cacheImage\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"imageBlob\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tx\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"images\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readwrite\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"images\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ blob: imageBlob, timestamp: Date.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u65F6\\u534F\\u4F5C\\u5DE5\\u5177\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u573A\\u666F\\uFF1A\\u4E00\\u4E2A\\u7C7B\\u4F3C Notion \\u7684\\u534F\\u4F5C\\u5DE5\\u5177\\uFF0C\\u9700\\u8981\\u4E34\\u65F6\\u4FDD\\u5B58\\u7528\\u6237\\u8F93\\u5165\\uFF0C\\u9632\\u6B62\\u6570\\u636E\\u4E22\\u5931\\u3002\",(0,n.jsx)(e.br,{}),`\n`,\"\\u65B9\\u6848\\uFF1A\\u7528 IndexedDB \\u5B58\\u50A8\\u64CD\\u4F5C\\u65E5\\u5FD7\\uFF0C\\u5B9A\\u671F\\u540C\\u6B65\\u5230\\u670D\\u52A1\\u5668\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u4EE3\\u7801\\u7247\\u6BB5\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" logOperation\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"op\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tx\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"operations\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readwrite\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"operations\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(op);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u9047\\u5230\\u95EE\\u9898\\u522B\\u614C\\u5E38\\u89C1\\u5751\\u548C\\u89E3\\u51B3\\u529E\\u6CD5-\",children:(0,n.jsx)(e.a,{href:\"#\\u9047\\u5230\\u95EE\\u9898\\u522B\\u614C\\u5E38\\u89C1\\u5751\\u548C\\u89E3\\u51B3\\u529E\\u6CD5-\",children:\"\\u9047\\u5230\\u95EE\\u9898\\uFF1F\\u522B\\u614C\\uFF01\\u5E38\\u89C1\\u5751\\u548C\\u89E3\\u51B3\\u529E\\u6CD5 \\u{1F41E}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"IndexedDB \\u867D\\u7136\\u5F3A\\u5927\\uFF0C\\u4F46\\u4E5F\\u6709\\u70B9\\u201C\\u813E\\u6C14\\u201D\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u4E2A\\u5E38\\u89C1\\u95EE\\u9898\\u548C\\u89E3\\u51B3\\u529E\\u6CD5\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u201C\\u6570\\u636E\\u5E93\\u88AB\\u9501\\u4F4F\\u4E86\\uFF01\\u201D\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u539F\\u56E0\\uFF1A\\u591A\\u4E2A\\u6807\\u7B7E\\u9875\\u540C\\u65F6\\u64CD\\u4F5C\\u6570\\u636E\\u5E93\\uFF0C\\u6216\\u8005\\u4E8B\\u52A1\\u6CA1\\u6B63\\u786E\\u5173\\u95ED\\u3002\",(0,n.jsx)(e.br,{}),`\n`,\"\\u89E3\\u51B3\\uFF1A\\u786E\\u4FDD\\u4E8B\\u52A1\\u53CA\\u65F6\\u63D0\\u4EA4\\uFF0C\\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onblocked\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u5FC5\\u8981\\u65F6\\u63D0\\u793A\\u7528\\u6237\\u5173\\u95ED\\u5176\\u4ED6\\u6807\\u7B7E\\u9875\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u201C\\u5B58\\u4E0D\\u4E86\\u5927\\u6587\\u4EF6\\uFF01\\u201D\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u539F\\u56E0\\uFF1A\\u6D4F\\u89C8\\u5668\\u914D\\u989D\\u9650\\u5236\\uFF0C\\u6216\\u8005\\u4E00\\u6B21\\u6027\\u5199\\u5165\\u6570\\u636E\\u8FC7\\u591A\\u3002\",(0,n.jsx)(e.br,{}),`\n`,\"\\u89E3\\u51B3\\uFF1A\\u5206\\u7247\\u5B58\\u50A8\\u5927\\u6587\\u4EF6\\uFF0C\\u68C0\\u67E5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"navigator.storage.estimate()\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u201C\\u6570\\u636E\\u6CA1\\u66F4\\u65B0\\uFF01\\u201D\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u539F\\u56E0\\uFF1A\\u4E8B\\u52A1\\u662F\\u53EA\\u8BFB\\u7684\\uFF0C\\u6216\\u8005\\u64CD\\u4F5C\\u987A\\u5E8F\\u9519\\u8BEF\\u3002\",(0,n.jsx)(e.br,{}),`\n`,\"\\u89E3\\u51B3\\uFF1A\\u786E\\u8BA4\\u4E8B\\u52A1\\u6A21\\u5F0F\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"readwrite\"})})})}),\"\\uFF0C\\u68C0\\u67E5\\u4EE3\\u7801\\u903B\\u8F91\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u201C\\u8C03\\u8BD5\\u597D\\u9EBB\\u70E6\\uFF01\\u201D\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u89E3\\u51B3\\uFF1A\\u7528\\u6D4F\\u89C8\\u5668\\u7684\\u5F00\\u53D1\\u8005\\u5DE5\\u5177\\uFF08\\u6BD4\\u5982 Chrome \\u7684 Application \\u9762\\u677F\\uFF09\\u67E5\\u770B IndexedDB \\u6570\\u636E\\uFF0C\\u6216\\u8005\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"idb\"})})})}),\" \\u5E93\\u7B80\\u5316\\u64CD\\u4F5C\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u7ED3\\u8BEDindexeddb\\u503C\\u5F97\\u4E00\\u8BD5\",children:(0,n.jsx)(e.a,{href:\"#\\u7ED3\\u8BEDindexeddb\\u503C\\u5F97\\u4E00\\u8BD5\",children:\"\\u7ED3\\u8BED\\uFF1AIndexedDB\\uFF0C\\u503C\\u5F97\\u4E00\\u8BD5\\uFF01\\u{1F389}\"})}),`\n`,(0,n.jsx)(e.p,{children:\"IndexedDB \\u5C31\\u50CF\\u4E00\\u4E2A\\u85CF\\u5728\\u6D4F\\u89C8\\u5668\\u91CC\\u7684\\u201C\\u5B9D\\u85CF\\u201D\\uFF0C\\u867D\\u7136\\u4E0A\\u624B\\u9700\\u8981\\u70B9\\u8010\\u5FC3\\uFF0C\\u4F46\\u4E00\\u65E6\\u638C\\u63E1\\uFF0C\\u5B83\\u5C31\\u80FD\\u5E2E\\u4F60\\u89E3\\u9501\\u65E0\\u6570\\u53EF\\u80FD\\u6027\\uFF1A\\u4ECE\\u79BB\\u7EBF\\u5E94\\u7528\\u5230\\u6027\\u80FD\\u4F18\\u5316\\uFF0C\\u4ECE\\u590D\\u6742\\u6570\\u636E\\u7BA1\\u7406\\u5230\\u5B9E\\u65F6\\u534F\\u4F5C\\uFF0CIndexedDB \\u90FD\\u662F\\u4F60\\u7684\\u5F97\\u529B\\u52A9\\u624B\\u3002\\u{1F308}\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u8BA9\\u4F60\\u5BF9 IndexedDB \\u4ECE\\u201C\\u6709\\u70B9\\u6015\\u201D\\u53D8\\u6210\\u201C\\u771F\\u9999\\u201D\\uFF01\\u5982\\u679C\\u4F60\\u6709\\u4EFB\\u4F55\\u7591\\u95EE\\uFF0C\\u6216\\u8005\\u60F3\\u5206\\u4EAB\\u81EA\\u5DF1\\u7684\\u4F7F\\u7528\\u7ECF\\u9A8C\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u4EA4\\u6D41\\uFF5E\\u6BD5\\u7ADF\\uFF0C\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7684\\u6210\\u957F\\uFF0C\\u5C31\\u662F\\u5728\\u4E00\\u6B21\\u6B21\\u8E29\\u5751\\u548C\\u586B\\u5751\\u4E2D\\u5B8C\\u6210\\u7684\\uFF0C\\u5BF9\\u5427\\uFF1F\\u{1F61C}\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5FEB\\u53BB\\u8BD5\\u8BD5 IndexedDB \\u5427\\uFF0C\\u76F8\\u4FE1\\u5B83\\u4F1A\\u6210\\u4E3A\\u4F60\\u5DE5\\u5177\\u7BB1\\u91CC\\u7684\\u4E00\\u628A\\u201C\\u5229\\u5668\\u201D\\uFF01\\u{1F525}\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return x(m);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/IndexedDB-å‰ç«¯æœ¬åœ°å­˜å‚¨çš„å¼ºå¤§æ­¦å™¨.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/IndexedDB-å‰ç«¯æœ¬åœ°å­˜å‚¨çš„å¼ºå¤§æ­¦å™¨.mdx",
    "sourceFileName": "IndexedDB-å‰ç«¯æœ¬åœ°å­˜å‚¨çš„å¼ºå¤§æ­¦å™¨.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/IndexedDB-å‰ç«¯æœ¬åœ°å­˜å‚¨çš„å¼ºå¤§æ­¦å™¨"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/IndexedDB-å‰ç«¯æœ¬åœ°å­˜å‚¨çš„å¼ºå¤§æ­¦å™¨"
}
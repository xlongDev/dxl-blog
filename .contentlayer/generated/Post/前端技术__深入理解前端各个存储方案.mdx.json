{
  "title": "æ·±å…¥ç†è§£å‰ç«¯å„ä¸ªå­˜å‚¨æ–¹æ¡ˆ",
  "date": "2023-02-03T00:00:00.000Z",
  "description": "å…¨é¢å‰–æžå‰ç«¯å­˜å‚¨æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ localStorageã€sessionStorageã€IndexedDBã€Cookies ç­‰ï¼Œæ·±å…¥åŽŸç†ã€é€‚ç”¨åœºæ™¯ã€æœ€ä½³å®žè·µï¼Œå¸¦ä½ ä»Žå…¥é—¨åˆ°ç²¾é€šã€‚",
  "keywords": "å‰ç«¯å­˜å‚¨, localStorage, sessionStorage, IndexedDB, Cookies, Web Storage, å‰ç«¯å¼€å‘, æ•°æ®æŒä¹…åŒ–",
  "author": "æ™“é¾™",
  "image": "/images/hero/web-storage.jpg",
  "tags": [
    "å‰ç«¯å¼€å‘",
    "JavaScript",
    "Web Storage",
    "æ•°æ®ç®¡ç†"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œä½ ä¸€å®šé‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šç”¨æˆ·åˆ·æ–°é¡µé¢åŽï¼Œè¡¨å•æ•°æ®æ²¡äº†ï¼›æˆ–è€…ä½ éœ€è¦ç¼“å­˜ä¸€äº›æ•°æ®ï¼Œä½†ä¸çŸ¥é“ç”¨ä»€ä¹ˆå­˜å‚¨æ–¹å¼æœ€åˆé€‚ã€‚å‰ç«¯çš„å­˜å‚¨æ–¹æ¡ˆå°±åƒä¸€ä¸ªå·¥å…·ç®± ðŸ§°ï¼Œé‡Œé¢è£…æ»¡äº†å„ç§â€œé”¤å­â€å’Œâ€œèžºä¸åˆ€â€ï¼Œä½†ä½ å¾—çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨å“ªæŠŠã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æŠŠè¿™ä¸ªå·¥å…·ç®±ç¿»ä¸ªåº•æœå¤©ï¼ŒèŠèŠ **localStorage**ã€**sessionStorage**ã€**IndexedDB**ã€**Cookies**ï¼Œè¿˜æœ‰ä¸€äº›å†·é—¨ä½†å®žç”¨çš„å°ä¼—æ–¹æ¡ˆã€‚ä¸ä»…è®²ç”¨æ³•ï¼Œè¿˜è¦æ·±å…¥åŽŸç†ï¼Œé…ä¸Šä¾‹å­å’Œæœ€ä½³å®žè·µï¼Œå¶å°”è¿˜æ’’ç‚¹å¹½é»˜ï¼ˆä¿è¯ä¸æ˜¯â€œç¨‹åºå‘˜å–å’–å•¡â€é‚£ç§è€æ¢— ðŸ˜‚ï¼‰ã€‚\n\n## ä¸ºä»€ä¹ˆéœ€è¦å‰ç«¯å­˜å‚¨ï¼Ÿ\n\nåœ¨ Web å¼€å‘ä¸­ï¼ŒHTTP æ˜¯æ— çŠ¶æ€çš„ï¼Œåˆ·æ–°é¡µé¢å°±åƒå¤±å¿†ï¼Œæ¯æ¬¡éƒ½å¾—é‡æ–°å¼€å§‹ã€‚ä½†ç”¨æˆ·ä½“éªŒå¯ä¸èƒ½è¿™ä¹ˆâ€œå¥å¿˜â€ã€‚å‰ç«¯å­˜å‚¨çš„æœ¬è´¨å°±æ˜¯ç»™æµè§ˆå™¨è£…ä¸ªâ€œå°æœ¬æœ¬â€ ðŸ“ï¼Œè®°å½•ä¸‹å…³é”®ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€åå¥½è®¾ç½®ï¼Œç”šè‡³æ˜¯è´­ç‰©è½¦æ•°æ®ã€‚ä¸åŒçš„å­˜å‚¨æ–¹æ¡ˆå°±åƒä¸åŒç±»åž‹çš„ç¬”è®°æœ¬ï¼šæœ‰çš„åªèƒ½è®°ä¸€é¡µï¼Œæœ‰çš„èƒ½å­˜åŽšåŽšä¸€æœ¬ä¹¦ï¼Œæœ‰çš„è¿˜å¸¦å¯†ç é” ðŸ”’ã€‚\n\næŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€ä¸€æ‹†è§£è¿™äº›æ–¹æ¡ˆï¼Œå¸¦ä½ ä»Žâ€œæ˜¯ä»€ä¹ˆâ€åˆ°â€œæ€Žä¹ˆç”¨â€ï¼Œå†åˆ°â€œç”¨å¾—å¥½â€ã€‚\n\n---\n\n## 1. localStorageï¼šç®€å•ç²—æš´çš„â€œæ°¸ä¹…è®°äº‹æœ¬â€\n\n### æ˜¯ä»€ä¹ˆï¼Ÿ\n`localStorage` æ˜¯ HTML5 å¼•å…¥çš„ Web Storage API ä¹‹ä¸€ï¼Œå®¹é‡ä¸€èˆ¬åœ¨ **5-10MB**ï¼ˆè§†æµè§ˆå™¨è€Œå®šï¼‰ï¼Œæ•°æ®æŒä¹…å­˜å‚¨ï¼Œé™¤éžä¸»åŠ¨åˆ é™¤ï¼Œå¦åˆ™ä¸€ç›´å­˜åœ¨ã€‚å®ƒçš„è®¾è®¡åˆè¡·æ˜¯å–ä»£ Cookies çš„ä¸€äº›ç®€å•å­˜å‚¨éœ€æ±‚ï¼Œæ“ä½œç®€å•åˆ°â€œç¨‹åºå‘˜çœ‹äº†éƒ½æƒ³å·æ‡’â€ã€‚\n\n### åŽŸç†\n`localStorage` å­˜å‚¨åœ¨æµè§ˆå™¨çš„å®¢æˆ·ç«¯ï¼Œä»¥é”®å€¼å¯¹ï¼ˆkey-valueï¼‰å½¢å¼å­˜åœ¨ï¼Œæ•°æ®æ˜¯çº¯å­—ç¬¦ä¸²ã€‚åº•å±‚å®žçŽ°ä¸Šï¼Œå®ƒé€šå¸¸è¢«æµè§ˆå™¨ä¿å­˜åœ¨ä¸€ä¸ªè½»é‡çº§æ•°æ®åº“æˆ–æ–‡ä»¶ä¸­ï¼ˆæ¯”å¦‚ SQLite æˆ–æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œä½†å…·ä½“ç»†èŠ‚å„å®¶æµè§ˆå™¨ä¸å…¬å¼€ã€‚æ•°æ®æŒ‰åŸŸåéš”ç¦»ï¼Œè·¨åŸŸè®¿é—®ï¼Ÿé—¨éƒ½æ²¡æœ‰ ðŸšªã€‚\n\n### ç”¨æ³•\n```javascript\n// å­˜æ•°æ®\nlocalStorage.setItem(\"user\", \"Xiaolong\");\n\n// å–æ•°æ®\nconst user = localStorage.getItem(\"user\"); // \"Xiaolong\"\n\n// åˆ é™¤\nlocalStorage.removeItem(\"user\");\n\n// æ¸…ç©ºæ‰€æœ‰\nlocalStorage.clear();\n```\n\n### é€‚ç”¨åœºæ™¯\n- **ç”¨æˆ·åå¥½è®¾ç½®**ï¼šæ¯”å¦‚ä¸»é¢˜æ¨¡å¼ï¼ˆæš—é»‘è¿˜æ˜¯æ˜Žäº®ï¼‰ã€‚\n- **è¡¨å•è‰ç¨¿**ï¼šç”¨æˆ·å¡«å†™ä¸€åŠè·‘åŽ»å–å’–å•¡ â˜•ï¼Œå›žæ¥è¿˜èƒ½ç»§ç»­ã€‚\n- **ç®€å•çš„ç¼“å­˜**ï¼šæ¯”å¦‚ API è¿”å›žçš„é™æ€æ•°æ®ã€‚\n\n### ä¼˜ç¼ºç‚¹\n**ä¼˜ç‚¹**ï¼šç®€å•æ˜“ç”¨ï¼ŒæŒä¹…åŒ–ï¼Œå®¹é‡æ¯” Cookies å¤§å¾—å¤šã€‚  \n**ç¼ºç‚¹**ï¼šåªèƒ½å­˜å­—ç¬¦ä¸²ï¼ˆå¯¹è±¡å¾—å…ˆåºåˆ—åŒ–ï¼‰ï¼ŒåŒæ­¥æ“ä½œä¼šé˜»å¡žä¸»çº¿ç¨‹ï¼ˆæ•°æ®é‡å¤§æ—¶å°å¿ƒå¡é¡¿ï¼‰ï¼Œä¸æ”¯æŒå¤æ‚æŸ¥è¯¢ã€‚\n\n### ç¤ºä¾‹ï¼šä¿å­˜ä¸»é¢˜æ¨¡å¼\n```javascript\nfunction toggleTheme() {\n  const currentTheme = localStorage.getItem(\"theme\") || \"light\";\n  const newTheme = currentTheme === \"light\" ? \"dark\" : \"light\";\n  localStorage.setItem(\"theme\", newTheme);\n  document.body.className = newTheme;\n}\n```\n\n### å° Tips\n- **åºåˆ—åŒ–å¤æ‚æ•°æ®**ï¼šå­˜å¯¹è±¡æ—¶ç”¨ `JSON.stringify`ï¼Œå–æ—¶ç”¨ `JSON.parse`ï¼Œåˆ«ç›´æŽ¥æ‰”ä¸ªå¯¹è±¡è¿›åŽ»ï¼Œä¸ç„¶ä½ ä¼šæ”¶èŽ·ä¸€å † `[object Object]` çš„å°´å°¬ã€‚\n- **å®¹é‡æ£€æµ‹**ï¼šå†™å…¥å‰å¯ä»¥ç”¨ try-catch æ£€æŸ¥æ˜¯å¦è¶…å‡ºé™åˆ¶ï¼Œå…å¾—é»˜é»˜å¤±è´¥ã€‚\n  ```javascript\n  try {\n    localStorage.setItem(\"test\", \"bigData\");\n  } catch (e) {\n    console.error(\"å­˜å‚¨æ»¡äº†ï¼Œæ¸…ç†ä¸€ä¸‹å§ï¼\", e);\n  }\n  ```\n- **å‘½åè§„èŒƒ**ï¼škey åŠ ä¸ªå‰ç¼€ï¼ˆæ¯”å¦‚ `app_user`ï¼‰ï¼Œé¿å…å’Œå…¶ä»–åº“å†²çªã€‚\n\n---\n\n## 2. sessionStorageï¼šçŸ­å‘½çš„â€œä¸´æ—¶ä¾¿ç­¾â€\n\n### æ˜¯ä»€ä¹ˆï¼Ÿ\n`sessionStorage` å’Œ `localStorage` æ˜¯åŒèƒžèƒŽå…„å¼Ÿï¼ŒAPI ä¸€æ¨¡ä¸€æ ·ï¼Œä½†å¯¿å‘½çŸ­å¾—å¤šã€‚å®ƒåªåœ¨å½“å‰ä¼šè¯ï¼ˆTab é¡µï¼‰æœ‰æ•ˆï¼Œå…³é—­æ ‡ç­¾é¡µå°±æ¸…ç©ºï¼Œåƒä¸ªâ€œç”¨å®Œå³ä¸¢â€çš„ä¾¿ç­¾çº¸ã€‚\n\n### åŽŸç†\nåº•å±‚å®žçŽ°å’Œ `localStorage` ç±»ä¼¼ï¼Œä½†æ•°æ®ç”Ÿå‘½å‘¨æœŸç»‘å®šåˆ°ä¼šè¯ï¼ˆsessionï¼‰ã€‚æ¯ä¸ª Tab é¡µç‹¬ç«‹å­˜å‚¨ï¼Œäº’ä¸å¹²æ‰°ã€‚åˆ·æ–°é¡µé¢æ²¡äº‹ï¼Œå…³äº†æ ‡ç­¾é¡µå°±æ‹œæ‹œ ðŸ‘‹ã€‚\n\n### ç”¨æ³•\nå’Œ `localStorage` å®Œå…¨ä¸€è‡´ï¼Œåªæ˜¯æ¢ä¸ªå¯¹è±¡ï¼š\n```javascript\nsessionStorage.setItem(\"tempData\", \"ä¸´æ—¶æ•°æ®\");\nconst data = sessionStorage.getItem(\"tempData\");\n```\n\n### é€‚ç”¨åœºæ™¯\n- **ä¸€æ¬¡æ€§æ•°æ®**ï¼šæ¯”å¦‚è¡¨å•çš„ä¸´æ—¶çŠ¶æ€ï¼Œç”¨æˆ·æäº¤åŽå°±æ²¡ç”¨äº†ã€‚\n- **å¤š Tab éš”ç¦»**ï¼šä¸åŒæ ‡ç­¾é¡µéœ€è¦ç‹¬ç«‹çš„æ•°æ®ï¼Œæ¯”å¦‚å¤šä¸ªç¼–è¾‘å™¨å®žä¾‹ã€‚\n\n### ä¼˜ç¼ºç‚¹\n**ä¼˜ç‚¹**ï¼šéš”ç¦»æ€§å¼ºï¼Œé€‚åˆçŸ­æœŸå­˜å‚¨ï¼Œå…³é—­å³æ¸…ç©ºä¸å ç©ºé—´ã€‚  \n**ç¼ºç‚¹**ï¼šå®¹é‡å’Œ `localStorage` å·®ä¸å¤šï¼Œä½†ç”Ÿå‘½å‘¨æœŸå¤ªçŸ­ï¼Œè·¨ Tab æ— èƒ½ä¸ºåŠ›ã€‚\n\n### ç¤ºä¾‹ï¼šè®°å½•é¡µé¢æ»šåŠ¨ä½ç½®\n```javascript\nwindow.addEventListener(\"scroll\", () => {\n  sessionStorage.setItem(\"scrollPos\", window.scrollY);\n});\n\nwindow.addEventListener(\"load\", () => {\n  const pos = sessionStorage.getItem(\"scrollPos\");\n  if (pos) window.scrollTo(0, pos);\n});\n```\n\n### å° Tips\n- **çŸ­å‘½ç‰¹æ€§åˆ©ç”¨**ï¼šé€‚åˆå­˜æ•æ„Ÿä½†ä¸´æ—¶çš„ä¸œè¥¿ï¼Œæ¯”å¦‚éªŒè¯ç è¾“å…¥çŠ¶æ€ã€‚\n- **é¿å…æ»¥ç”¨**ï¼šåˆ«æ‹¿å®ƒå½“ `localStorage` ç”¨ï¼Œä¸ç„¶ç”¨æˆ·å¼€æ–° Tab å°±ä¸€è„¸æ‡µã€‚\n- **è°ƒè¯•åˆ©å™¨**ï¼šå¼€å‘æ—¶å¯ä»¥ç”¨å®ƒä¸´æ—¶å­˜æ•°æ®ï¼Œä¸ç”¨æ‹…å¿ƒæ±¡æŸ“æŒä¹…å­˜å‚¨ã€‚\n\n---\n\n## 3. IndexedDBï¼šå‰ç«¯çš„â€œå°åž‹æ•°æ®åº“â€\n\n### æ˜¯ä»€ä¹ˆï¼Ÿ\n`IndexedDB` æ˜¯ä¸€ä¸ªå†…ç½®äºŽæµè§ˆå™¨çš„ NoSQL æ•°æ®åº“ï¼Œå®¹é‡å¤§ï¼ˆé€šå¸¸å‡ ååˆ°å‡ ç™¾ MBï¼Œç”šè‡³æ— ä¸Šé™ï¼‰ï¼Œæ”¯æŒå¼‚æ­¥æ“ä½œå’Œå¤æ‚æŸ¥è¯¢ã€‚å®ƒå°±åƒå‰ç«¯çš„â€œMongoDBâ€ï¼Œèƒ½å­˜ç»“æž„åŒ–æ•°æ®ã€‚\n\n### åŽŸç†\n`IndexedDB` æ˜¯åŸºäºŽé”®å€¼å¯¹çš„æ•°æ®åº“ï¼Œæ”¯æŒç´¢å¼•ï¼ˆindexï¼‰å’Œäº‹åŠ¡ï¼ˆtransactionï¼‰ã€‚æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨æä¾›çš„ç‹¬ç«‹ç©ºé—´ä¸­ï¼ˆé€šå¸¸æ˜¯æ–‡ä»¶ç³»ç»Ÿæˆ–ä¸“ç”¨å­˜å‚¨å¼•æ“Žï¼‰ï¼ŒæŒ‰åŸŸåéš”ç¦»ã€‚å®ƒé€šè¿‡äº‹ä»¶é©±åŠ¨çš„å¼‚æ­¥ API æ“ä½œï¼Œé¿å…é˜»å¡žä¸»çº¿ç¨‹ã€‚\n\n### ç”¨æ³•\nç®€å•ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ªæ•°æ®åº“å¹¶å­˜å–æ•°æ®ã€‚\n```javascript\n// æ‰“å¼€æ•°æ®åº“\nconst request = indexedDB.open(\"myDB\", 1);\n\nrequest.onupgradeneeded = (event) => {\n  const db = event.target.result;\n  db.createObjectStore(\"users\", { keyPath: \"id\" });\n};\n\nrequest.onsuccess = (event) => {\n  const db = event.target.result;\n  const tx = db.transaction(\"users\", \"readwrite\");\n  const store = tx.objectStore(\"users\");\n\n  // å­˜æ•°æ®\n  store.put({ id: 1, name: \"Xiaolong\", age: 28 });\n\n  // å–æ•°æ®\n  store.get(1).onsuccess = (e) => {\n    console.log(e.target.result); // { id: 1, name: \"Xiaolong\", age: 28 }\n  };\n};\n```\n\n### é€‚ç”¨åœºæ™¯\n- **å¤§æ•°æ®å­˜å‚¨**ï¼šæ¯”å¦‚ç¦»çº¿åº”ç”¨çš„å…¨éƒ¨èµ„æºã€‚\n- **å¤æ‚æ•°æ®ç®¡ç†**ï¼šéœ€è¦æœç´¢ã€æŽ’åºçš„ç”¨æˆ·åˆ—è¡¨ã€‚\n- **PWA**ï¼šæ¸è¿›å¼ Web åº”ç”¨çš„ç¼“å­˜éœ€æ±‚ã€‚\n\n### ä¼˜ç¼ºç‚¹\n**ä¼˜ç‚¹**ï¼šå®¹é‡å¤§ï¼Œå¼‚æ­¥æ“ä½œï¼Œæ”¯æŒç´¢å¼•å’Œäº‹åŠ¡ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚  \n**ç¼ºç‚¹**ï¼šAPI å¤æ‚ï¼Œä¸Šæ‰‹é—¨æ§›é«˜ï¼Œè°ƒè¯•éº»çƒ¦ã€‚\n\n### ç¤ºä¾‹ï¼šç¼“å­˜ API æ•°æ®\n```javascript\nfunction saveToIndexedDB(data) {\n  const request = indexedDB.open(\"cacheDB\", 1);\n  request.onupgradeneeded = (e) => {\n    e.target.result.createObjectStore(\"apiCache\", { keyPath: \"url\" });\n  };\n  request.onsuccess = (e) => {\n    const db = e.target.result;\n    const tx = db.transaction(\"apiCache\", \"readwrite\");\n    tx.objectStore(\"apiCache\").put({ url: \"/api/data\", data });\n  };\n}\n```\n\n### å° Tips\n- **ç”¨å°è£…åº“**ï¼šç›´æŽ¥ç”¨åŽŸç”Ÿ API å¤ªç—›è‹¦ï¼Œè¯•è¯• `idb` æˆ– `Dexie`ï¼Œèƒ½çœä¸å°‘å¤´å‘ã€‚\n- **äº‹åŠ¡ç®¡ç†**ï¼šæ“ä½œæ—¶åˆ«å¿˜äº†äº‹åŠ¡ï¼Œä¸ç„¶æ•°æ®å¯èƒ½ä¼šä¸¢å¤±ã€‚\n- **é”™è¯¯å¤„ç†**ï¼šå¼‚æ­¥æ“ä½œå¤šï¼Œè®°å¾—åŠ  `onerror` ç›‘å¬ï¼Œåˆ«è®© bug æ‚„æ‚„æºœèµ°ã€‚\n\n---\n\n## 4. Cookiesï¼šå¤è€ä½†é¡½å¼ºçš„â€œä¿¡ä½¿â€\n\n### æ˜¯ä»€ä¹ˆï¼Ÿ\n`Cookies` æ˜¯ Web è¯žç”Ÿä¹‹åˆå°±æœ‰çš„å­˜å‚¨æœºåˆ¶ï¼Œå®¹é‡å°ï¼ˆé€šå¸¸ 4KBï¼‰ï¼Œä¼šåœ¨æ¯æ¬¡ HTTP è¯·æ±‚ä¸­è‡ªåŠ¨æºå¸¦ç»™æœåŠ¡å™¨ã€‚å®ƒåƒä¸ªé€ä¿¡çš„å°é‚®å·® ðŸƒâ€â™‚ï¸ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é—´è·‘æ¥è·‘åŽ»ã€‚\n\n### åŽŸç†\n`Cookies` å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼ä¿å­˜ï¼ˆ`key=value`ï¼‰ï¼Œç”±æœåŠ¡å™¨é€šè¿‡ `Set-Cookie` å¤´è®¾ç½®ï¼Œæˆ–å®¢æˆ·ç«¯é€šè¿‡ `document.cookie` æ“ä½œã€‚æ•°æ®æŒ‰åŸŸåå’Œè·¯å¾„éš”ç¦»ï¼Œé»˜è®¤è·Ÿéšè¯·æ±‚å‘é€ã€‚\n\n### ç”¨æ³•\n```javascript\n// è®¾ç½® Cookie\ndocument.cookie = \"user=Xiaolong; max-age=3600; path=/\";\n\n// èŽ·å– Cookie\nconst cookies = document.cookie; // \"user=Xiaolong\"\n```\n\n### é€‚ç”¨åœºæ™¯\n- **èº«ä»½éªŒè¯**ï¼šå­˜ token æˆ– session IDã€‚\n- **è·Ÿè¸ªç”¨æˆ·**ï¼šæ¯”å¦‚å¹¿å‘Šç³»ç»Ÿçš„ç”¨æˆ·æ ‡è¯†ã€‚\n- **æœåŠ¡å™¨é€šä¿¡**ï¼šéœ€è¦å’ŒåŽç«¯åŒæ­¥çš„æ•°æ®ã€‚\n\n### ä¼˜ç¼ºç‚¹\n**ä¼˜ç‚¹**ï¼šæœåŠ¡å™¨å¯æŽ§ï¼Œè·¨é¡µé¢å…±äº«ï¼Œè‡ªåŠ¨å‘é€ã€‚  \n**ç¼ºç‚¹**ï¼šå®¹é‡å°ï¼Œå®‰å…¨æ€§å·®ï¼ˆæ˜“è¢« XSS æ”»å‡»ï¼‰ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å¸¦ä¸Šæµªè´¹å¸¦å®½ã€‚\n\n### ç¤ºä¾‹ï¼šç®€å•ç™»å½•çŠ¶æ€\n```javascript\nfunction setLoginCookie(token) {\n  document.cookie = `token=${token}; max-age=86400; secure; samesite=strict`;\n}\n```\n\n### å° Tips\n- **å®‰å…¨ç¬¬ä¸€**ï¼šåŠ  `Secure` å’Œ `HttpOnly` å±žæ€§ï¼Œé˜² XSS å’Œ CSRFã€‚\n- **å®¹é‡ä¼˜åŒ–**ï¼šåªå­˜å…³é”®æ•°æ®ï¼Œåˆ«æŠŠ Cookie å½“ä»“åº“ã€‚\n- **è¿‡æœŸæ—¶é—´**ï¼šç”¨ `max-age` æˆ– `expires` è®¾ç½®ï¼Œåˆ«è®©å®ƒå˜æˆâ€œåƒµå°¸ Cookieâ€ã€‚\n\n---\n\n## 5. å†·é—¨ä½†å®žç”¨ï¼šWeb SQL å’Œ Cache API\n\n### Web SQL\nå·²ç»è¢«åºŸå¼ƒï¼Œä½†æœ‰äº›è€é¡¹ç›®è¿˜åœ¨ç”¨ã€‚å®ƒæ˜¯ä¸ªå…³ç³»åž‹æ•°æ®åº“ï¼Œæ”¯æŒ SQL æŸ¥è¯¢ã€‚çŽ°åœ¨æŽ¨èç”¨ `IndexedDB` æ›¿ä»£ã€‚\n\n### Cache API\nå±žäºŽ Service Worker çš„èŒƒç•´ï¼Œé€‚åˆç¼“å­˜ç½‘ç»œèµ„æºï¼ˆæ¯”å¦‚å›¾ç‰‡ã€JS æ–‡ä»¶ï¼‰ã€‚å®¹é‡å¤§ï¼Œé€‚åˆ PWAã€‚\n```javascript\ncaches.open(\"my-cache\").then((cache) => {\n  cache.add(\"/image.jpg\");\n});\n```\n\n---\n\n## æœ€ä½³å®žè·µï¼šå¦‚ä½•é€‰æ‹©å­˜å‚¨æ–¹æ¡ˆï¼Ÿ\n\n1. **çŸ­æœŸæ•°æ®**ï¼šç”¨ `sessionStorage`ï¼Œæ¯”å¦‚é¡µé¢çŠ¶æ€ã€‚\n2. **ç®€å•æŒä¹…åŒ–**ï¼šç”¨ `localStorage`ï¼Œæ¯”å¦‚ç”¨æˆ·è®¾ç½®ã€‚\n3. **å¤§æ•°æ®å¤æ‚æŸ¥è¯¢**ï¼šç”¨ `IndexedDB`ï¼Œæ¯”å¦‚ç¦»çº¿åº”ç”¨ã€‚\n4. **æœåŠ¡å™¨åŒæ­¥**ï¼šç”¨ `Cookies`ï¼Œæ¯”å¦‚è®¤è¯ã€‚\n5. **èµ„æºç¼“å­˜**ï¼šç”¨ `Cache API`ï¼Œæ¯”å¦‚ PWAã€‚\n\n**ç±»æ¯”**ï¼šå¦‚æžœæŠŠå‰ç«¯å­˜å‚¨æ¯”ä½œåŽ¨æˆ¿ï¼Œ`localStorage` æ˜¯å†°ç®±ï¼Œ`sessionStorage` æ˜¯ç §æ¿ï¼Œ`IndexedDB` æ˜¯ pantryï¼Œ`Cookies` æ˜¯å¿«é€’å‘˜ï¼Œ`Cache API` æ˜¯å‚¨ç‰©æŸœã€‚é€‰å¯¹å·¥å…·ï¼Œåšé¥­æ‰é¦™ ðŸ³ã€‚\n\n---\n\n## ç»“è¯­\n\nå‰ç«¯å­˜å‚¨æ–¹æ¡ˆæ²¡æœ‰â€œé“¶å¼¹â€ï¼Œå…³é”®æ˜¯ç†è§£éœ€æ±‚å’Œåœºæ™¯ã€‚`localStorage` ç®€å•ä½†æœ‰é™ï¼Œ`IndexedDB` å¼ºå¤§ä½†å¤æ‚ï¼Œ`Cookies` å¤è€å´å®žç”¨ã€‚å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¸®ä½ æŠŠå·¥å…·ç®±ç”¨å¾—å¾—å¿ƒåº”æ‰‹ï¼Œä¸‹æ¬¡é‡åˆ°å­˜å‚¨é—®é¢˜ï¼Œåˆ«å†æŠ“è€³æŒ è…®äº†ï¼Œç›´æŽ¥å¼€å¹²å§ï¼æœ‰ä»€ä¹ˆç–‘é—®ï¼Œæ¬¢è¿Žç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æŽ¢è®¨ ðŸ‘‡ã€‚\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),B=(l,e)=>{for(var r in e)d(l,r,{get:e[r],enumerable:!0})},i=(l,e,r,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!u.call(l,a)&&a!==r&&d(l,a,{get:()=>e[a],enumerable:!(c=E(e,a))||c.enumerable});return l};var b=(l,e,r)=>(r=l!=null?p(g(l)):{},i(e||!l||!l.__esModule?d(r,\"default\",{value:l,enumerable:!0}):r,l)),f=l=>i(d({},\"__esModule\",{value:!0}),l);var s=F((C,t)=>{t.exports=_jsx_runtime});var k={};B(k,{default:()=>o,frontmatter:()=>m});var n=b(s()),m={type:\"Post\",title:\"\\u6DF1\\u5165\\u7406\\u89E3\\u524D\\u7AEF\\u5404\\u4E2A\\u5B58\\u50A8\\u65B9\\u6848\",date:\"2023-02-03\",description:\"\\u5168\\u9762\\u5256\\u6790\\u524D\\u7AEF\\u5B58\\u50A8\\u65B9\\u6848\\uFF0C\\u5305\\u62EC localStorage\\u3001sessionStorage\\u3001IndexedDB\\u3001Cookies \\u7B49\\uFF0C\\u6DF1\\u5165\\u539F\\u7406\\u3001\\u9002\\u7528\\u573A\\u666F\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u4ECE\\u5165\\u95E8\\u5230\\u7CBE\\u901A\\u3002\",keywords:\"\\u524D\\u7AEF\\u5B58\\u50A8, localStorage, sessionStorage, IndexedDB, Cookies, Web Storage, \\u524D\\u7AEF\\u5F00\\u53D1, \\u6570\\u636E\\u6301\\u4E45\\u5316\",author:\"\\u6653\\u9F99\",image:\"/images/hero/web-storage.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"JavaScript\",\"Web Storage\",\"\\u6570\\u636E\\u7BA1\\u7406\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function h(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u4F60\\u4E00\\u5B9A\\u9047\\u5230\\u8FC7\\u8FD9\\u6837\\u7684\\u573A\\u666F\\uFF1A\\u7528\\u6237\\u5237\\u65B0\\u9875\\u9762\\u540E\\uFF0C\\u8868\\u5355\\u6570\\u636E\\u6CA1\\u4E86\\uFF1B\\u6216\\u8005\\u4F60\\u9700\\u8981\\u7F13\\u5B58\\u4E00\\u4E9B\\u6570\\u636E\\uFF0C\\u4F46\\u4E0D\\u77E5\\u9053\\u7528\\u4EC0\\u4E48\\u5B58\\u50A8\\u65B9\\u5F0F\\u6700\\u5408\\u9002\\u3002\\u524D\\u7AEF\\u7684\\u5B58\\u50A8\\u65B9\\u6848\\u5C31\\u50CF\\u4E00\\u4E2A\\u5DE5\\u5177\\u7BB1 \\u{1F9F0}\\uFF0C\\u91CC\\u9762\\u88C5\\u6EE1\\u4E86\\u5404\\u79CD\\u201C\\u9524\\u5B50\\u201D\\u548C\\u201C\\u87BA\\u4E1D\\u5200\\u201D\\uFF0C\\u4F46\\u4F60\\u5F97\\u77E5\\u9053\\u4EC0\\u4E48\\u65F6\\u5019\\u7528\\u54EA\\u628A\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C31\\u6765\\u628A\\u8FD9\\u4E2A\\u5DE5\\u5177\\u7BB1\\u7FFB\\u4E2A\\u5E95\\u671D\\u5929\\uFF0C\\u804A\\u804A \",(0,n.jsx)(e.strong,{children:\"localStorage\"}),\"\\u3001\",(0,n.jsx)(e.strong,{children:\"sessionStorage\"}),\"\\u3001\",(0,n.jsx)(e.strong,{children:\"IndexedDB\"}),\"\\u3001\",(0,n.jsx)(e.strong,{children:\"Cookies\"}),\"\\uFF0C\\u8FD8\\u6709\\u4E00\\u4E9B\\u51B7\\u95E8\\u4F46\\u5B9E\\u7528\\u7684\\u5C0F\\u4F17\\u65B9\\u6848\\u3002\\u4E0D\\u4EC5\\u8BB2\\u7528\\u6CD5\\uFF0C\\u8FD8\\u8981\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u914D\\u4E0A\\u4F8B\\u5B50\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5076\\u5C14\\u8FD8\\u6492\\u70B9\\u5E7D\\u9ED8\\uFF08\\u4FDD\\u8BC1\\u4E0D\\u662F\\u201C\\u7A0B\\u5E8F\\u5458\\u559D\\u5496\\u5561\\u201D\\u90A3\\u79CD\\u8001\\u6897 \\u{1F602}\\uFF09\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u524D\\u7AEF\\u5B58\\u50A8\",children:(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u524D\\u7AEF\\u5B58\\u50A8\",children:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u524D\\u7AEF\\u5B58\\u50A8\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728 Web \\u5F00\\u53D1\\u4E2D\\uFF0CHTTP \\u662F\\u65E0\\u72B6\\u6001\\u7684\\uFF0C\\u5237\\u65B0\\u9875\\u9762\\u5C31\\u50CF\\u5931\\u5FC6\\uFF0C\\u6BCF\\u6B21\\u90FD\\u5F97\\u91CD\\u65B0\\u5F00\\u59CB\\u3002\\u4F46\\u7528\\u6237\\u4F53\\u9A8C\\u53EF\\u4E0D\\u80FD\\u8FD9\\u4E48\\u201C\\u5065\\u5FD8\\u201D\\u3002\\u524D\\u7AEF\\u5B58\\u50A8\\u7684\\u672C\\u8D28\\u5C31\\u662F\\u7ED9\\u6D4F\\u89C8\\u5668\\u88C5\\u4E2A\\u201C\\u5C0F\\u672C\\u672C\\u201D \\u{1F4DD}\\uFF0C\\u8BB0\\u5F55\\u4E0B\\u5173\\u952E\\u4FE1\\u606F\\uFF0C\\u6BD4\\u5982\\u7528\\u6237\\u7684\\u767B\\u5F55\\u72B6\\u6001\\u3001\\u504F\\u597D\\u8BBE\\u7F6E\\uFF0C\\u751A\\u81F3\\u662F\\u8D2D\\u7269\\u8F66\\u6570\\u636E\\u3002\\u4E0D\\u540C\\u7684\\u5B58\\u50A8\\u65B9\\u6848\\u5C31\\u50CF\\u4E0D\\u540C\\u7C7B\\u578B\\u7684\\u7B14\\u8BB0\\u672C\\uFF1A\\u6709\\u7684\\u53EA\\u80FD\\u8BB0\\u4E00\\u9875\\uFF0C\\u6709\\u7684\\u80FD\\u5B58\\u539A\\u539A\\u4E00\\u672C\\u4E66\\uFF0C\\u6709\\u7684\\u8FD8\\u5E26\\u5BC6\\u7801\\u9501 \\u{1F512}\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u9010\\u4E00\\u62C6\\u89E3\\u8FD9\\u4E9B\\u65B9\\u6848\\uFF0C\\u5E26\\u4F60\\u4ECE\\u201C\\u662F\\u4EC0\\u4E48\\u201D\\u5230\\u201C\\u600E\\u4E48\\u7528\\u201D\\uFF0C\\u518D\\u5230\\u201C\\u7528\\u5F97\\u597D\\u201D\\u3002\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"1-localstorage\\u7B80\\u5355\\u7C97\\u66B4\\u7684\\u6C38\\u4E45\\u8BB0\\u4E8B\\u672C\",children:(0,n.jsx)(e.a,{href:\"#1-localstorage\\u7B80\\u5355\\u7C97\\u66B4\\u7684\\u6C38\\u4E45\\u8BB0\\u4E8B\\u672C\",children:\"1. localStorage\\uFF1A\\u7B80\\u5355\\u7C97\\u66B4\\u7684\\u201C\\u6C38\\u4E45\\u8BB0\\u4E8B\\u672C\\u201D\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u662F\\u4EC0\\u4E48\",children:(0,n.jsx)(e.a,{href:\"#\\u662F\\u4EC0\\u4E48\",children:\"\\u662F\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u662F HTML5 \\u5F15\\u5165\\u7684 Web Storage API \\u4E4B\\u4E00\\uFF0C\\u5BB9\\u91CF\\u4E00\\u822C\\u5728 \",(0,n.jsx)(e.strong,{children:\"5-10MB\"}),\"\\uFF08\\u89C6\\u6D4F\\u89C8\\u5668\\u800C\\u5B9A\\uFF09\\uFF0C\\u6570\\u636E\\u6301\\u4E45\\u5B58\\u50A8\\uFF0C\\u9664\\u975E\\u4E3B\\u52A8\\u5220\\u9664\\uFF0C\\u5426\\u5219\\u4E00\\u76F4\\u5B58\\u5728\\u3002\\u5B83\\u7684\\u8BBE\\u8BA1\\u521D\\u8877\\u662F\\u53D6\\u4EE3 Cookies \\u7684\\u4E00\\u4E9B\\u7B80\\u5355\\u5B58\\u50A8\\u9700\\u6C42\\uFF0C\\u64CD\\u4F5C\\u7B80\\u5355\\u5230\\u201C\\u7A0B\\u5E8F\\u5458\\u770B\\u4E86\\u90FD\\u60F3\\u5077\\u61D2\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u5B58\\u50A8\\u5728\\u6D4F\\u89C8\\u5668\\u7684\\u5BA2\\u6237\\u7AEF\\uFF0C\\u4EE5\\u952E\\u503C\\u5BF9\\uFF08key-value\\uFF09\\u5F62\\u5F0F\\u5B58\\u5728\\uFF0C\\u6570\\u636E\\u662F\\u7EAF\\u5B57\\u7B26\\u4E32\\u3002\\u5E95\\u5C42\\u5B9E\\u73B0\\u4E0A\\uFF0C\\u5B83\\u901A\\u5E38\\u88AB\\u6D4F\\u89C8\\u5668\\u4FDD\\u5B58\\u5728\\u4E00\\u4E2A\\u8F7B\\u91CF\\u7EA7\\u6570\\u636E\\u5E93\\u6216\\u6587\\u4EF6\\u4E2D\\uFF08\\u6BD4\\u5982 SQLite \\u6216\\u6587\\u4EF6\\u7CFB\\u7EDF\\uFF09\\uFF0C\\u4F46\\u5177\\u4F53\\u7EC6\\u8282\\u5404\\u5BB6\\u6D4F\\u89C8\\u5668\\u4E0D\\u516C\\u5F00\\u3002\\u6570\\u636E\\u6309\\u57DF\\u540D\\u9694\\u79BB\\uFF0C\\u8DE8\\u57DF\\u8BBF\\u95EE\\uFF1F\\u95E8\\u90FD\\u6CA1\\u6709 \\u{1F6AA}\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7528\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#\\u7528\\u6CD5\",children:\"\\u7528\\u6CD5\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B58\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"user\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Xiaolong\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u53D6\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"user\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"Xiaolong\"'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5220\\u9664\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"user\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6E05\\u7A7A\\u6240\\u6709\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"clear\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u9002\\u7528\\u573A\\u666F\",children:(0,n.jsx)(e.a,{href:\"#\\u9002\\u7528\\u573A\\u666F\",children:\"\\u9002\\u7528\\u573A\\u666F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7528\\u6237\\u504F\\u597D\\u8BBE\\u7F6E\"}),\"\\uFF1A\\u6BD4\\u5982\\u4E3B\\u9898\\u6A21\\u5F0F\\uFF08\\u6697\\u9ED1\\u8FD8\\u662F\\u660E\\u4EAE\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8868\\u5355\\u8349\\u7A3F\"}),\"\\uFF1A\\u7528\\u6237\\u586B\\u5199\\u4E00\\u534A\\u8DD1\\u53BB\\u559D\\u5496\\u5561 \\u2615\\uFF0C\\u56DE\\u6765\\u8FD8\\u80FD\\u7EE7\\u7EED\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B80\\u5355\\u7684\\u7F13\\u5B58\"}),\"\\uFF1A\\u6BD4\\u5982 API \\u8FD4\\u56DE\\u7684\\u9759\\u6001\\u6570\\u636E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4F18\\u7F3A\\u70B9\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u7B80\\u5355\\u6613\\u7528\\uFF0C\\u6301\\u4E45\\u5316\\uFF0C\\u5BB9\\u91CF\\u6BD4 Cookies \\u5927\\u5F97\\u591A\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u53EA\\u80FD\\u5B58\\u5B57\\u7B26\\u4E32\\uFF08\\u5BF9\\u8C61\\u5F97\\u5148\\u5E8F\\u5217\\u5316\\uFF09\\uFF0C\\u540C\\u6B65\\u64CD\\u4F5C\\u4F1A\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\uFF08\\u6570\\u636E\\u91CF\\u5927\\u65F6\\u5C0F\\u5FC3\\u5361\\u987F\\uFF09\\uFF0C\\u4E0D\\u652F\\u6301\\u590D\\u6742\\u67E5\\u8BE2\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u793A\\u4F8B\\u4FDD\\u5B58\\u4E3B\\u9898\\u6A21\\u5F0F\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u4FDD\\u5B58\\u4E3B\\u9898\\u6A21\\u5F0F\",children:\"\\u793A\\u4F8B\\uFF1A\\u4FDD\\u5B58\\u4E3B\\u9898\\u6A21\\u5F0F\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" toggleTheme\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" currentTheme\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"theme\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"light\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" newTheme\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" currentTheme \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"light\"'}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"dark\"'}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"light\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"theme\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", newTheme);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.body.className \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" newTheme;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5C0F-tips\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5E8F\\u5217\\u5316\\u590D\\u6742\\u6570\\u636E\"}),\"\\uFF1A\\u5B58\\u5BF9\\u8C61\\u65F6\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"JSON.stringify\"})})})}),\"\\uFF0C\\u53D6\\u65F6\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"JSON.parse\"})})})}),\"\\uFF0C\\u522B\\u76F4\\u63A5\\u6254\\u4E2A\\u5BF9\\u8C61\\u8FDB\\u53BB\\uFF0C\\u4E0D\\u7136\\u4F60\\u4F1A\\u6536\\u83B7\\u4E00\\u5806 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"[object Object]\"})})})}),\" \\u7684\\u5C34\\u5C2C\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5BB9\\u91CF\\u68C0\\u6D4B\"}),\"\\uFF1A\\u5199\\u5165\\u524D\\u53EF\\u4EE5\\u7528 try-catch \\u68C0\\u67E5\\u662F\\u5426\\u8D85\\u51FA\\u9650\\u5236\\uFF0C\\u514D\\u5F97\\u9ED8\\u9ED8\\u5931\\u8D25\\u3002\",`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"try\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"test\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"bigData\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (e) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5B58\\u50A8\\u6EE1\\u4E86\\uFF0C\\u6E05\\u7406\\u4E00\\u4E0B\\u5427\\uFF01\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", e);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u547D\\u540D\\u89C4\\u8303\"}),\"\\uFF1Akey \\u52A0\\u4E2A\\u524D\\u7F00\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"app_user\"})})})}),\"\\uFF09\\uFF0C\\u907F\\u514D\\u548C\\u5176\\u4ED6\\u5E93\\u51B2\\u7A81\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"2-sessionstorage\\u77ED\\u547D\\u7684\\u4E34\\u65F6\\u4FBF\\u7B7E\",children:(0,n.jsx)(e.a,{href:\"#2-sessionstorage\\u77ED\\u547D\\u7684\\u4E34\\u65F6\\u4FBF\\u7B7E\",children:\"2. sessionStorage\\uFF1A\\u77ED\\u547D\\u7684\\u201C\\u4E34\\u65F6\\u4FBF\\u7B7E\\u201D\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u662F\\u4EC0\\u4E48-1\",children:(0,n.jsx)(e.a,{href:\"#\\u662F\\u4EC0\\u4E48-1\",children:\"\\u662F\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"sessionStorage\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u662F\\u53CC\\u80DE\\u80CE\\u5144\\u5F1F\\uFF0CAPI \\u4E00\\u6A21\\u4E00\\u6837\\uFF0C\\u4F46\\u5BFF\\u547D\\u77ED\\u5F97\\u591A\\u3002\\u5B83\\u53EA\\u5728\\u5F53\\u524D\\u4F1A\\u8BDD\\uFF08Tab \\u9875\\uFF09\\u6709\\u6548\\uFF0C\\u5173\\u95ED\\u6807\\u7B7E\\u9875\\u5C31\\u6E05\\u7A7A\\uFF0C\\u50CF\\u4E2A\\u201C\\u7528\\u5B8C\\u5373\\u4E22\\u201D\\u7684\\u4FBF\\u7B7E\\u7EB8\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u539F\\u7406-1\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406-1\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5E95\\u5C42\\u5B9E\\u73B0\\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u7C7B\\u4F3C\\uFF0C\\u4F46\\u6570\\u636E\\u751F\\u547D\\u5468\\u671F\\u7ED1\\u5B9A\\u5230\\u4F1A\\u8BDD\\uFF08session\\uFF09\\u3002\\u6BCF\\u4E2A Tab \\u9875\\u72EC\\u7ACB\\u5B58\\u50A8\\uFF0C\\u4E92\\u4E0D\\u5E72\\u6270\\u3002\\u5237\\u65B0\\u9875\\u9762\\u6CA1\\u4E8B\\uFF0C\\u5173\\u4E86\\u6807\\u7B7E\\u9875\\u5C31\\u62DC\\u62DC \\u{1F44B}\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7528\\u6CD5-1\",children:(0,n.jsx)(e.a,{href:\"#\\u7528\\u6CD5-1\",children:\"\\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u5B8C\\u5168\\u4E00\\u81F4\\uFF0C\\u53EA\\u662F\\u6362\\u4E2A\\u5BF9\\u8C61\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"sessionStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tempData\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4E34\\u65F6\\u6570\\u636E\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" sessionStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"tempData\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u9002\\u7528\\u573A\\u666F-1\",children:(0,n.jsx)(e.a,{href:\"#\\u9002\\u7528\\u573A\\u666F-1\",children:\"\\u9002\\u7528\\u573A\\u666F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E00\\u6B21\\u6027\\u6570\\u636E\"}),\"\\uFF1A\\u6BD4\\u5982\\u8868\\u5355\\u7684\\u4E34\\u65F6\\u72B6\\u6001\\uFF0C\\u7528\\u6237\\u63D0\\u4EA4\\u540E\\u5C31\\u6CA1\\u7528\\u4E86\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u591A Tab \\u9694\\u79BB\"}),\"\\uFF1A\\u4E0D\\u540C\\u6807\\u7B7E\\u9875\\u9700\\u8981\\u72EC\\u7ACB\\u7684\\u6570\\u636E\\uFF0C\\u6BD4\\u5982\\u591A\\u4E2A\\u7F16\\u8F91\\u5668\\u5B9E\\u4F8B\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4F18\\u7F3A\\u70B9-1\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-1\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u9694\\u79BB\\u6027\\u5F3A\\uFF0C\\u9002\\u5408\\u77ED\\u671F\\u5B58\\u50A8\\uFF0C\\u5173\\u95ED\\u5373\\u6E05\\u7A7A\\u4E0D\\u5360\\u7A7A\\u95F4\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u5BB9\\u91CF\\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u5DEE\\u4E0D\\u591A\\uFF0C\\u4F46\\u751F\\u547D\\u5468\\u671F\\u592A\\u77ED\\uFF0C\\u8DE8 Tab \\u65E0\\u80FD\\u4E3A\\u529B\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u793A\\u4F8B\\u8BB0\\u5F55\\u9875\\u9762\\u6EDA\\u52A8\\u4F4D\\u7F6E\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u8BB0\\u5F55\\u9875\\u9762\\u6EDA\\u52A8\\u4F4D\\u7F6E\",children:\"\\u793A\\u4F8B\\uFF1A\\u8BB0\\u5F55\\u9875\\u9762\\u6EDA\\u52A8\\u4F4D\\u7F6E\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"scroll\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  sessionStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"scrollPos\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", window.scrollY);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"load\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" pos\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" sessionStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"scrollPos\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (pos) window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"scrollTo\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", pos);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5C0F-tips-1\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-1\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u77ED\\u547D\\u7279\\u6027\\u5229\\u7528\"}),\"\\uFF1A\\u9002\\u5408\\u5B58\\u654F\\u611F\\u4F46\\u4E34\\u65F6\\u7684\\u4E1C\\u897F\\uFF0C\\u6BD4\\u5982\\u9A8C\\u8BC1\\u7801\\u8F93\\u5165\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u907F\\u514D\\u6EE5\\u7528\"}),\"\\uFF1A\\u522B\\u62FF\\u5B83\\u5F53 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u7528\\uFF0C\\u4E0D\\u7136\\u7528\\u6237\\u5F00\\u65B0 Tab \\u5C31\\u4E00\\u8138\\u61F5\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u5229\\u5668\"}),\"\\uFF1A\\u5F00\\u53D1\\u65F6\\u53EF\\u4EE5\\u7528\\u5B83\\u4E34\\u65F6\\u5B58\\u6570\\u636E\\uFF0C\\u4E0D\\u7528\\u62C5\\u5FC3\\u6C61\\u67D3\\u6301\\u4E45\\u5B58\\u50A8\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"3-indexeddb\\u524D\\u7AEF\\u7684\\u5C0F\\u578B\\u6570\\u636E\\u5E93\",children:(0,n.jsx)(e.a,{href:\"#3-indexeddb\\u524D\\u7AEF\\u7684\\u5C0F\\u578B\\u6570\\u636E\\u5E93\",children:\"3. IndexedDB\\uFF1A\\u524D\\u7AEF\\u7684\\u201C\\u5C0F\\u578B\\u6570\\u636E\\u5E93\\u201D\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u662F\\u4EC0\\u4E48-2\",children:(0,n.jsx)(e.a,{href:\"#\\u662F\\u4EC0\\u4E48-2\",children:\"\\u662F\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IndexedDB\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u5185\\u7F6E\\u4E8E\\u6D4F\\u89C8\\u5668\\u7684 NoSQL \\u6570\\u636E\\u5E93\\uFF0C\\u5BB9\\u91CF\\u5927\\uFF08\\u901A\\u5E38\\u51E0\\u5341\\u5230\\u51E0\\u767E MB\\uFF0C\\u751A\\u81F3\\u65E0\\u4E0A\\u9650\\uFF09\\uFF0C\\u652F\\u6301\\u5F02\\u6B65\\u64CD\\u4F5C\\u548C\\u590D\\u6742\\u67E5\\u8BE2\\u3002\\u5B83\\u5C31\\u50CF\\u524D\\u7AEF\\u7684\\u201CMongoDB\\u201D\\uFF0C\\u80FD\\u5B58\\u7ED3\\u6784\\u5316\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u539F\\u7406-2\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406-2\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IndexedDB\"})})})}),\" \\u662F\\u57FA\\u4E8E\\u952E\\u503C\\u5BF9\\u7684\\u6570\\u636E\\u5E93\\uFF0C\\u652F\\u6301\\u7D22\\u5F15\\uFF08index\\uFF09\\u548C\\u4E8B\\u52A1\\uFF08transaction\\uFF09\\u3002\\u6570\\u636E\\u5B58\\u50A8\\u5728\\u6D4F\\u89C8\\u5668\\u63D0\\u4F9B\\u7684\\u72EC\\u7ACB\\u7A7A\\u95F4\\u4E2D\\uFF08\\u901A\\u5E38\\u662F\\u6587\\u4EF6\\u7CFB\\u7EDF\\u6216\\u4E13\\u7528\\u5B58\\u50A8\\u5F15\\u64CE\\uFF09\\uFF0C\\u6309\\u57DF\\u540D\\u9694\\u79BB\\u3002\\u5B83\\u901A\\u8FC7\\u4E8B\\u4EF6\\u9A71\\u52A8\\u7684\\u5F02\\u6B65 API \\u64CD\\u4F5C\\uFF0C\\u907F\\u514D\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7528\\u6CD5-2\",children:(0,n.jsx)(e.a,{href:\"#\\u7528\\u6CD5-2\",children:\"\\u7528\\u6CD5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7B80\\u5355\\u793A\\u4F8B\\uFF1A\\u521B\\u5EFA\\u4E00\\u4E2A\\u6570\\u636E\\u5E93\\u5E76\\u5B58\\u53D6\\u6570\\u636E\\u3002\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6253\\u5F00\\u6570\\u636E\\u5E93\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" indexedDB.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"myDB\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onupgradeneeded\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" event.target.result;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"users\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { keyPath: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"id\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" event.target.result;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tx\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"users\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readwrite\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"users\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5B58\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"put\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ id: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Xiaolong\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", age: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"28\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u53D6\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  store.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.result); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// { id: 1, name: \"Xiaolong\", age: 28 }'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u9002\\u7528\\u573A\\u666F-2\",children:(0,n.jsx)(e.a,{href:\"#\\u9002\\u7528\\u573A\\u666F-2\",children:\"\\u9002\\u7528\\u573A\\u666F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5927\\u6570\\u636E\\u5B58\\u50A8\"}),\"\\uFF1A\\u6BD4\\u5982\\u79BB\\u7EBF\\u5E94\\u7528\\u7684\\u5168\\u90E8\\u8D44\\u6E90\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u590D\\u6742\\u6570\\u636E\\u7BA1\\u7406\"}),\"\\uFF1A\\u9700\\u8981\\u641C\\u7D22\\u3001\\u6392\\u5E8F\\u7684\\u7528\\u6237\\u5217\\u8868\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"PWA\"}),\"\\uFF1A\\u6E10\\u8FDB\\u5F0F Web \\u5E94\\u7528\\u7684\\u7F13\\u5B58\\u9700\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4F18\\u7F3A\\u70B9-2\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-2\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u5BB9\\u91CF\\u5927\\uFF0C\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF0C\\u652F\\u6301\\u7D22\\u5F15\\u548C\\u4E8B\\u52A1\\uFF0C\\u529F\\u80FD\\u5F3A\\u5927\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1AAPI \\u590D\\u6742\\uFF0C\\u4E0A\\u624B\\u95E8\\u69DB\\u9AD8\\uFF0C\\u8C03\\u8BD5\\u9EBB\\u70E6\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u793A\\u4F8B\\u7F13\\u5B58-api-\\u6570\\u636E\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u7F13\\u5B58-api-\\u6570\\u636E\",children:\"\\u793A\\u4F8B\\uFF1A\\u7F13\\u5B58 API \\u6570\\u636E\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveToIndexedDB\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" indexedDB.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"cacheDB\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onupgradeneeded\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    e.target.result.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"apiCache\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { keyPath: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"url\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  request.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onsuccess\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.target.result;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tx\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"apiCache\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"readwrite\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    tx.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"objectStore\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"apiCache\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"put\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ url: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/api/data\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5C0F-tips-2\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-2\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7528\\u5C01\\u88C5\\u5E93\"}),\"\\uFF1A\\u76F4\\u63A5\\u7528\\u539F\\u751F API \\u592A\\u75DB\\u82E6\\uFF0C\\u8BD5\\u8BD5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"idb\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Dexie\"})})})}),\"\\uFF0C\\u80FD\\u7701\\u4E0D\\u5C11\\u5934\\u53D1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E8B\\u52A1\\u7BA1\\u7406\"}),\"\\uFF1A\\u64CD\\u4F5C\\u65F6\\u522B\\u5FD8\\u4E86\\u4E8B\\u52A1\\uFF0C\\u4E0D\\u7136\\u6570\\u636E\\u53EF\\u80FD\\u4F1A\\u4E22\\u5931\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\"}),\"\\uFF1A\\u5F02\\u6B65\\u64CD\\u4F5C\\u591A\\uFF0C\\u8BB0\\u5F97\\u52A0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onerror\"})})})}),\" \\u76D1\\u542C\\uFF0C\\u522B\\u8BA9 bug \\u6084\\u6084\\u6E9C\\u8D70\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"4-cookies\\u53E4\\u8001\\u4F46\\u987D\\u5F3A\\u7684\\u4FE1\\u4F7F\",children:(0,n.jsx)(e.a,{href:\"#4-cookies\\u53E4\\u8001\\u4F46\\u987D\\u5F3A\\u7684\\u4FE1\\u4F7F\",children:\"4. Cookies\\uFF1A\\u53E4\\u8001\\u4F46\\u987D\\u5F3A\\u7684\\u201C\\u4FE1\\u4F7F\\u201D\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u662F\\u4EC0\\u4E48-3\",children:(0,n.jsx)(e.a,{href:\"#\\u662F\\u4EC0\\u4E48-3\",children:\"\\u662F\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Cookies\"})})})}),\" \\u662F Web \\u8BDE\\u751F\\u4E4B\\u521D\\u5C31\\u6709\\u7684\\u5B58\\u50A8\\u673A\\u5236\\uFF0C\\u5BB9\\u91CF\\u5C0F\\uFF08\\u901A\\u5E38 4KB\\uFF09\\uFF0C\\u4F1A\\u5728\\u6BCF\\u6B21 HTTP \\u8BF7\\u6C42\\u4E2D\\u81EA\\u52A8\\u643A\\u5E26\\u7ED9\\u670D\\u52A1\\u5668\\u3002\\u5B83\\u50CF\\u4E2A\\u9001\\u4FE1\\u7684\\u5C0F\\u90AE\\u5DEE \\u{1F3C3}\\u200D\\u2642\\uFE0F\\uFF0C\\u5728\\u5BA2\\u6237\\u7AEF\\u548C\\u670D\\u52A1\\u5668\\u95F4\\u8DD1\\u6765\\u8DD1\\u53BB\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u539F\\u7406-3\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406-3\",children:\"\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Cookies\"})})})}),\" \\u5B58\\u50A8\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\uFF0C\\u4EE5\\u5B57\\u7B26\\u4E32\\u5F62\\u5F0F\\u4FDD\\u5B58\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"key=value\"})})})}),\"\\uFF09\\uFF0C\\u7531\\u670D\\u52A1\\u5668\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Set-Cookie\"})})})}),\" \\u5934\\u8BBE\\u7F6E\\uFF0C\\u6216\\u5BA2\\u6237\\u7AEF\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"document.cookie\"})})})}),\" \\u64CD\\u4F5C\\u3002\\u6570\\u636E\\u6309\\u57DF\\u540D\\u548C\\u8DEF\\u5F84\\u9694\\u79BB\\uFF0C\\u9ED8\\u8BA4\\u8DDF\\u968F\\u8BF7\\u6C42\\u53D1\\u9001\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7528\\u6CD5-3\",children:(0,n.jsx)(e.a,{href:\"#\\u7528\\u6CD5-3\",children:\"\\u7528\\u6CD5\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8BBE\\u7F6E Cookie\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"document.cookie \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"user=Xiaolong; max-age=3600; path=/\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u83B7\\u53D6 Cookie\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cookies\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.cookie; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"user=Xiaolong\"'})]})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u9002\\u7528\\u573A\\u666F-3\",children:(0,n.jsx)(e.a,{href:\"#\\u9002\\u7528\\u573A\\u666F-3\",children:\"\\u9002\\u7528\\u573A\\u666F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8EAB\\u4EFD\\u9A8C\\u8BC1\"}),\"\\uFF1A\\u5B58 token \\u6216 session ID\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8DDF\\u8E2A\\u7528\\u6237\"}),\"\\uFF1A\\u6BD4\\u5982\\u5E7F\\u544A\\u7CFB\\u7EDF\\u7684\\u7528\\u6237\\u6807\\u8BC6\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u670D\\u52A1\\u5668\\u901A\\u4FE1\"}),\"\\uFF1A\\u9700\\u8981\\u548C\\u540E\\u7AEF\\u540C\\u6B65\\u7684\\u6570\\u636E\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4F18\\u7F3A\\u70B9-3\",children:(0,n.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-3\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u53EF\\u63A7\\uFF0C\\u8DE8\\u9875\\u9762\\u5171\\u4EAB\\uFF0C\\u81EA\\u52A8\\u53D1\\u9001\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u5BB9\\u91CF\\u5C0F\\uFF0C\\u5B89\\u5168\\u6027\\u5DEE\\uFF08\\u6613\\u88AB XSS \\u653B\\u51FB\\uFF09\\uFF0C\\u6BCF\\u6B21\\u8BF7\\u6C42\\u90FD\\u5E26\\u4E0A\\u6D6A\\u8D39\\u5E26\\u5BBD\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u793A\\u4F8B\\u7B80\\u5355\\u767B\\u5F55\\u72B6\\u6001\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u7B80\\u5355\\u767B\\u5F55\\u72B6\\u6001\",children:\"\\u793A\\u4F8B\\uFF1A\\u7B80\\u5355\\u767B\\u5F55\\u72B6\\u6001\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setLoginCookie\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"token\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.cookie \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `token=${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"token\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}; max-age=86400; secure; samesite=strict`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5C0F-tips-3\",children:(0,n.jsx)(e.a,{href:\"#\\u5C0F-tips-3\",children:\"\\u5C0F Tips\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B89\\u5168\\u7B2C\\u4E00\"}),\"\\uFF1A\\u52A0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Secure\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"HttpOnly\"})})})}),\" \\u5C5E\\u6027\\uFF0C\\u9632 XSS \\u548C CSRF\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5BB9\\u91CF\\u4F18\\u5316\"}),\"\\uFF1A\\u53EA\\u5B58\\u5173\\u952E\\u6570\\u636E\\uFF0C\\u522B\\u628A Cookie \\u5F53\\u4ED3\\u5E93\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FC7\\u671F\\u65F6\\u95F4\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"max-age\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"expires\"})})})}),\" \\u8BBE\\u7F6E\\uFF0C\\u522B\\u8BA9\\u5B83\\u53D8\\u6210\\u201C\\u50F5\\u5C38 Cookie\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"5-\\u51B7\\u95E8\\u4F46\\u5B9E\\u7528web-sql-\\u548C-cache-api\",children:(0,n.jsx)(e.a,{href:\"#5-\\u51B7\\u95E8\\u4F46\\u5B9E\\u7528web-sql-\\u548C-cache-api\",children:\"5. \\u51B7\\u95E8\\u4F46\\u5B9E\\u7528\\uFF1AWeb SQL \\u548C Cache API\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"web-sql\",children:(0,n.jsx)(e.a,{href:\"#web-sql\",children:\"Web SQL\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5DF2\\u7ECF\\u88AB\\u5E9F\\u5F03\\uFF0C\\u4F46\\u6709\\u4E9B\\u8001\\u9879\\u76EE\\u8FD8\\u5728\\u7528\\u3002\\u5B83\\u662F\\u4E2A\\u5173\\u7CFB\\u578B\\u6570\\u636E\\u5E93\\uFF0C\\u652F\\u6301 SQL \\u67E5\\u8BE2\\u3002\\u73B0\\u5728\\u63A8\\u8350\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IndexedDB\"})})})}),\" \\u66FF\\u4EE3\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"cache-api\",children:(0,n.jsx)(e.a,{href:\"#cache-api\",children:\"Cache API\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C5E\\u4E8E Service Worker \\u7684\\u8303\\u7574\\uFF0C\\u9002\\u5408\\u7F13\\u5B58\\u7F51\\u7EDC\\u8D44\\u6E90\\uFF08\\u6BD4\\u5982\\u56FE\\u7247\\u3001JS \\u6587\\u4EF6\\uFF09\\u3002\\u5BB9\\u91CF\\u5927\\uFF0C\\u9002\\u5408 PWA\\u3002\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"caches.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"my-cache\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cache\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  cache.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/image.jpg\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u5982\\u4F55\\u9009\\u62E9\\u5B58\\u50A8\\u65B9\\u6848\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u5982\\u4F55\\u9009\\u62E9\\u5B58\\u50A8\\u65B9\\u6848\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u5982\\u4F55\\u9009\\u62E9\\u5B58\\u50A8\\u65B9\\u6848\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u77ED\\u671F\\u6570\\u636E\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"sessionStorage\"})})})}),\"\\uFF0C\\u6BD4\\u5982\\u9875\\u9762\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B80\\u5355\\u6301\\u4E45\\u5316\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\"\\uFF0C\\u6BD4\\u5982\\u7528\\u6237\\u8BBE\\u7F6E\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5927\\u6570\\u636E\\u590D\\u6742\\u67E5\\u8BE2\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IndexedDB\"})})})}),\"\\uFF0C\\u6BD4\\u5982\\u79BB\\u7EBF\\u5E94\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u670D\\u52A1\\u5668\\u540C\\u6B65\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Cookies\"})})})}),\"\\uFF0C\\u6BD4\\u5982\\u8BA4\\u8BC1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8D44\\u6E90\\u7F13\\u5B58\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Cache API\"})})})}),\"\\uFF0C\\u6BD4\\u5982 PWA\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\"}),\"\\uFF1A\\u5982\\u679C\\u628A\\u524D\\u7AEF\\u5B58\\u50A8\\u6BD4\\u4F5C\\u53A8\\u623F\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u662F\\u51B0\\u7BB1\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"sessionStorage\"})})})}),\" \\u662F\\u7827\\u677F\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IndexedDB\"})})})}),\" \\u662F pantry\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Cookies\"})})})}),\" \\u662F\\u5FEB\\u9012\\u5458\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Cache API\"})})})}),\" \\u662F\\u50A8\\u7269\\u67DC\\u3002\\u9009\\u5BF9\\u5DE5\\u5177\\uFF0C\\u505A\\u996D\\u624D\\u9999 \\u{1F373}\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u7ED3\\u8BED\",children:(0,n.jsx)(e.a,{href:\"#\\u7ED3\\u8BED\",children:\"\\u7ED3\\u8BED\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u524D\\u7AEF\\u5B58\\u50A8\\u65B9\\u6848\\u6CA1\\u6709\\u201C\\u94F6\\u5F39\\u201D\\uFF0C\\u5173\\u952E\\u662F\\u7406\\u89E3\\u9700\\u6C42\\u548C\\u573A\\u666F\\u3002\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u7B80\\u5355\\u4F46\\u6709\\u9650\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IndexedDB\"})})})}),\" \\u5F3A\\u5927\\u4F46\\u590D\\u6742\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Cookies\"})})})}),\" \\u53E4\\u8001\\u5374\\u5B9E\\u7528\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u535A\\u5BA2\\u80FD\\u5E2E\\u4F60\\u628A\\u5DE5\\u5177\\u7BB1\\u7528\\u5F97\\u5F97\\u5FC3\\u5E94\\u624B\\uFF0C\\u4E0B\\u6B21\\u9047\\u5230\\u5B58\\u50A8\\u95EE\\u9898\\uFF0C\\u522B\\u518D\\u6293\\u8033\\u6320\\u816E\\u4E86\\uFF0C\\u76F4\\u63A5\\u5F00\\u5E72\\u5427\\uFF01\\u6709\\u4EC0\\u4E48\\u7591\\u95EE\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u63A2\\u8BA8 \\u{1F447}\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(h,{...l})}):h(l)}return f(k);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/æ·±å…¥ç†è§£å‰ç«¯å„ä¸ªå­˜å‚¨æ–¹æ¡ˆ.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/æ·±å…¥ç†è§£å‰ç«¯å„ä¸ªå­˜å‚¨æ–¹æ¡ˆ.mdx",
    "sourceFileName": "æ·±å…¥ç†è§£å‰ç«¯å„ä¸ªå­˜å‚¨æ–¹æ¡ˆ.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/æ·±å…¥ç†è§£å‰ç«¯å„ä¸ªå­˜å‚¨æ–¹æ¡ˆ"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/æ·±å…¥ç†è§£å‰ç«¯å„ä¸ªå­˜å‚¨æ–¹æ¡ˆ"
}
{
  "title": "å¤§æ–‡ä»¶ä¸Šä¼ çš„è‰ºæœ¯ä¸å“²å­¦ ğŸ¨ | React + NestJS å®ç°åˆ†ç‰‡ã€æ–­ç‚¹ç»­ä¼ ä¸ç§’ä¼  ğŸš€",
  "date": "2024-07-10T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æå¤§æ–‡ä»¶ä¸Šä¼ çš„å®ç°åŸç†ï¼Œç»“åˆ React å’Œ NestJSï¼Œæ¢ç´¢åˆ†ç‰‡ä¸Šä¼ ã€æ–­ç‚¹ç»­ä¼ ä¸ç§’ä¼ çš„æè‡´å®è·µï¼Œå…¼å…·æŠ€æœ¯æ·±åº¦ä¸å“²å­¦æ€è€ƒï¼Œé€‚åˆå‰ç«¯å¼€å‘è€…è¿›é˜¶ã€‚",
  "keywords": "å¤§æ–‡ä»¶ä¸Šä¼ , React, NestJS, åˆ†ç‰‡ä¸Šä¼ , æ–­ç‚¹ç»­ä¼ , ç§’ä¼ , å‰ç«¯å¼€å‘, ç³»ç»Ÿæ¶æ„, æ€§èƒ½ä¼˜åŒ–",
  "author": "æ™“é¾™",
  "image": "/images/hero/large-file-upload.jpg",
  "tags": [
    "React",
    "NestJS",
    "å‰ç«¯å¼€å‘",
    "æ–‡ä»¶ä¸Šä¼ ",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\n> â€œæˆ‘ä»¬ä¸æ˜¯åœ¨ä¸Šä¼ æ–‡ä»¶ï¼Œè€Œæ˜¯åœ¨ä¸æ—¶é—´ã€ç©ºé—´å’Œå¤æ‚æ€§åšå¼ˆã€‚â€ â€”â€” çµæ„Ÿæ¥è‡ªã€Šé»‘å®¢å¸å›½ã€‹\n\nå¤§æ–‡ä»¶ä¸Šä¼ ï¼Œè¿™ä¸ªçœ‹ä¼¼å¹³å‡¡çš„åŠŸèƒ½ï¼Œå´è•´è—ç€æŠ€æœ¯çš„æ·±åº¦ä¸å“²å­¦çš„å¹¿åº¦ã€‚æ— è®ºæ˜¯è§†é¢‘å¹³å°çš„4Kç´ æã€äº‘ç›˜çš„TBçº§å¤‡ä»½ï¼Œè¿˜æ˜¯ä¼ä¸šçº§åº”ç”¨çš„å¤æ‚æ•°æ®è¿ç§»ï¼Œå¤§æ–‡ä»¶ä¸Šä¼ æ—©å·²æˆä¸ºç°ä»£Webå¼€å‘çš„æ ‡é…ã€‚ç„¶è€Œï¼Œå¦‚ä½•ä¼˜é›…ã€é«˜æ•ˆã€å¥å£®åœ°å®ç°å®ƒï¼Ÿå¦‚ä½•è®©ç”¨æˆ·ä½“éªŒåˆ°â€œå¿«å¦‚é—ªç”µâ€âš¡ï¸çš„ç§’ä¼ ï¼Ÿå¦‚ä½•åœ¨ä¸Šä¼ ä¸­æ–­åâ€œä»å®¹ç»­ä¼ â€ï¼Ÿè¿™äº›é—®é¢˜ä¸ä»…è€ƒéªŒæŠ€æœ¯åŠŸåº•ï¼Œæ›´æ˜¯ä¸€åœºå¯¹æ¶æ„è®¾è®¡ã€ç”¨æˆ·ä½“éªŒå’Œç³»ç»Ÿå“²å­¦çš„ç»¼åˆè¾ƒé‡ã€‚\n\nåœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥ **React** å’Œ **NestJS** ä¸ºæŠ€æœ¯æ ˆï¼Œæ·±å…¥å‰–æå¤§æ–‡ä»¶ä¸Šä¼ çš„ä¸‰å¤§æ ¸å¿ƒåœºæ™¯ï¼š**åˆ†ç‰‡ä¸Šä¼ **ã€**æ–­ç‚¹ç»­ä¼ ** å’Œ **ç§’ä¼ **ã€‚æˆ‘ä»¬ä¼šä»åŸç†åˆ°å®è·µï¼Œä»ä»£ç åˆ°å“²å­¦ï¼Œä»æŠ€æœ¯ç»†èŠ‚åˆ°æœ€ä½³å®è·µï¼Œå¸¦ä½ é¢†ç•¥å¤§æ–‡ä»¶ä¸Šä¼ çš„æè‡´ä¹‹ç¾ ğŸŒŒã€‚æ— è®ºä½ æ˜¯å‰ç«¯æ–°æ‰‹è¿˜æ˜¯èµ„æ·±å¼€å‘è€…ï¼Œè¿™ç¯‡æ–‡ç« éƒ½å°†ä¸ºä½ æä¾›æ¸…æ™°çš„æ€ç»´é“¾ã€å®ç”¨çš„ä»£ç ç¤ºä¾‹å’Œæ·±åˆ»çš„æ´è§ã€‚\n\n> **æ–‡ç« ç›®æ ‡**ï¼šé€šè¿‡æ¸…æ™°çš„è¡¨æ ¼ã€ä¸°å¯Œçš„ç¤ºä¾‹å’Œæ·±å…¥çš„åŸç†åˆ†æï¼Œè®©ä½ ä¸ä»…â€œçŸ¥å…¶ç„¶â€ï¼Œæ›´â€œçŸ¥å…¶æ‰€ä»¥ç„¶â€ï¼Œå¹¶åœ¨å®é™…é¡¹ç›®ä¸­æ¸¸åˆƒæœ‰ä½™åœ°å®ç°å¤§æ–‡ä»¶ä¸Šä¼ ã€‚\n\n## 1. å¤§æ–‡ä»¶ä¸Šä¼ çš„æœ¬è´¨ï¼šä¸€åœºä¸å¤æ‚æ€§çš„åšå¼ˆ ğŸ§©\n\nå¤§æ–‡ä»¶ä¸Šä¼ ä¸ºä½•å¤æ‚ï¼Ÿè¡¨é¢ä¸Šçœ‹ï¼Œå®ƒåªæ˜¯â€œæŠŠæ–‡ä»¶ä»å®¢æˆ·ç«¯ä¼ åˆ°æœåŠ¡ç«¯â€ã€‚ä½†æ·±å…¥æ€è€ƒï¼Œä½ ä¼šå‘ç°å®ƒæ¶‰åŠå¤šæ–¹åä½œï¼š**å®¢æˆ·ç«¯**ï¼ˆæµè§ˆå™¨æ€§èƒ½ã€ç”¨æˆ·äº¤äº’ï¼‰ã€**æœåŠ¡ç«¯**ï¼ˆå­˜å‚¨ã€å¹¶å‘å¤„ç†ï¼‰ã€**ç½‘ç»œ**ï¼ˆå¸¦å®½ã€ç¨³å®šæ€§ï¼‰ä»¥åŠ**ç”¨æˆ·ä½“éªŒ**ï¼ˆè¿›åº¦åé¦ˆã€é”™è¯¯å¤„ç†ï¼‰ã€‚è¿™äº›å› ç´ äº¤ç»‡åœ¨ä¸€èµ·ï¼Œç¨æœ‰ä¸æ…ä¾¿å¯èƒ½å¯¼è‡´ä¸Šä¼ å¤±è´¥ã€æ€§èƒ½ç“¶é¢ˆæˆ–ç”¨æˆ·æµå¤±ã€‚\n\n### 1.1 ä¸ºä»€ä¹ˆéœ€è¦åˆ†ç‰‡ä¸Šä¼ ï¼Ÿ\nä¼ ç»Ÿçš„å°æ–‡ä»¶ä¸Šä¼ ï¼ˆå‡ MBï¼‰å¯ä»¥é€šè¿‡ç®€å•çš„ `multipart/form-data` æå®šã€‚ä½†å½“æ–‡ä»¶è¾¾åˆ°GBç”šè‡³TBçº§åˆ«ï¼Œé—®é¢˜æ¥è¸µè€Œè‡³ï¼š\n- **ç½‘ç»œä¸ç¨³å®š**ï¼šä¸Šä¼ ä¸­æ–­åéœ€è¦ä»å¤´å¼€å§‹ï¼Œç”¨æˆ·ä½“éªŒæå·®ã€‚\n- **æµè§ˆå™¨é™åˆ¶**ï¼šå¤§æ–‡ä»¶å¯èƒ½è€—å°½å†…å­˜ï¼Œç”šè‡³è§¦å‘æµè§ˆå™¨å´©æºƒã€‚\n- **æœåŠ¡ç«¯å‹åŠ›**ï¼šä¸€æ¬¡æ€§æ¥æ”¶å¤§æ–‡ä»¶å¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºæˆ–å­˜å‚¨ç“¶é¢ˆã€‚\n\n**åˆ†ç‰‡ä¸Šä¼ **ï¼ˆChunked Uploadï¼‰åº”è¿è€Œç”Ÿã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š**å°†å¤§æ–‡ä»¶åˆ‡å‰²æˆå°å—ï¼Œé€å—ä¸Šä¼ ï¼Œæ¯å—ç‹¬ç«‹å¤„ç†**ã€‚è¿™ä¸ä»…é™ä½äº†å•æ¬¡ä¼ è¾“çš„å‹åŠ›ï¼Œè¿˜ä¸ºæ–­ç‚¹ç»­ä¼ å’Œå¹¶è¡Œä¸Šä¼ å¥ å®šäº†åŸºç¡€ã€‚\n\n> *å°Tipsï¼šåˆ†ç‰‡å¤§å°é€šå¸¸è®¾ç½®ä¸º 5MB~10MBï¼Œæ—¢èƒ½ä¿è¯ä¼ è¾“æ•ˆç‡ï¼Œåˆèƒ½å…¼å®¹å¤§å¤šæ•°ç½‘ç»œç¯å¢ƒã€‚*\n\n### 1.2 æ–­ç‚¹ç»­ä¼ ï¼šä»â€œå…¨ç›˜é‡æ¥â€åˆ°â€œä»å®¹ç»­æ¥â€\næ–­ç‚¹ç»­ä¼ ï¼ˆResumable Uploadï¼‰æ˜¯åˆ†ç‰‡ä¸Šä¼ çš„è‡ªç„¶å»¶ä¼¸ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯ï¼š**è®°å½•å·²ä¸Šä¼ çš„åˆ†ç‰‡çŠ¶æ€ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸­æ–­åä»ä¸Šæ¬¡è¿›åº¦ç»§ç»­ä¸Šä¼ **ã€‚è¿™éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ååŒä¿å­˜ä¸Šä¼ è¿›åº¦ï¼Œé€šå¸¸é€šè¿‡æ•°æ®åº“æˆ–æ–‡ä»¶ç³»ç»Ÿè®°å½•åˆ†ç‰‡å…ƒæ•°æ®ã€‚\n\n> *å°Tipsï¼šä½¿ç”¨ Redis æˆ–æ•°æ®åº“å­˜å‚¨åˆ†ç‰‡çŠ¶æ€æ—¶ï¼Œæ³¨æ„è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œé¿å…å…ƒæ•°æ®æ— é™å †ç§¯ã€‚*\n\n### 1.3 ç§’ä¼ ï¼šæ•ˆç‡çš„æè‡´è¿½æ±‚ âš¡ï¸\nç§’ä¼ ï¼ˆInstant Uploadï¼‰æ˜¯å¤§æ–‡ä»¶ä¸Šä¼ çš„â€œé»‘é­”æ³•â€ã€‚å®ƒçš„åŸç†æ˜¯ï¼š**é€šè¿‡æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼ˆé€šå¸¸æ˜¯ Hash å€¼ï¼‰åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å·²å­˜åœ¨äºæœåŠ¡ç«¯ï¼Œè‹¥å­˜åœ¨åˆ™ç›´æ¥è¿”å›æˆåŠŸï¼Œæ— éœ€å®é™…ä¸Šä¼ **ã€‚è¿™åœ¨äº‘ç›˜æˆ–è§†é¢‘å¹³å°ä¸­å°¤ä¸ºå¸¸è§ï¼Œæ¯”å¦‚ä¸Šä¼ ä¸€éƒ¨çƒ­é—¨ç”µå½±ï¼Œå¯èƒ½æœåŠ¡ç«¯æ—©å·²æœ‰å‰¯æœ¬ã€‚\n\n> *å°Tipsï¼šè®¡ç®—æ–‡ä»¶ Hash æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ MD5 æˆ– SHA-256ï¼Œä½†è¦æ³¨æ„æ€§èƒ½å¼€é”€ï¼Œå»ºè®®åœ¨ Web Worker ä¸­å¼‚æ­¥è®¡ç®—ã€‚*\n\n## 2. ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼šä»å®è§‚åˆ°å¾®è§‚ ğŸ›ï¸\n\nå®ç°å¤§æ–‡ä»¶ä¸Šä¼ ï¼Œä¸ä»…éœ€è¦å†™ä»£ç ï¼Œæ›´éœ€è¦ç«™åœ¨æ¶æ„çš„é«˜åº¦æ€è€ƒã€‚æˆ‘ä»¬å°†ä»**å®¢æˆ·ç«¯**ï¼ˆReactï¼‰ã€**æœåŠ¡ç«¯**ï¼ˆNestJSï¼‰å’Œ**å­˜å‚¨å±‚**ä¸‰ä¸ªå±‚é¢è®¾è®¡ä¸€ä¸ªå¥å£®çš„ç³»ç»Ÿã€‚\n\n### 2.1 æ¶æ„æ¦‚è§ˆ\nä»¥ä¸‹æ˜¯æˆ‘ä»¬çš„ç³»ç»Ÿæ¶æ„å›¾ï¼ˆä»¥æ–‡å­—æè¿°ï¼Œå®é™…é¡¹ç›®å¯æ­é… UML å·¥å…·å¦‚ Draw.ioï¼‰ï¼š\n- **å®¢æˆ·ç«¯ï¼ˆReactï¼‰**ï¼šè´Ÿè´£æ–‡ä»¶åˆ†ç‰‡ã€Hash è®¡ç®—ã€ä¸Šä¼ è¿›åº¦ç®¡ç†ã€ç”¨æˆ·äº¤äº’ã€‚\n- **æœåŠ¡ç«¯ï¼ˆNestJSï¼‰**ï¼šå¤„ç†åˆ†ç‰‡æ¥æ”¶ã€å…ƒæ•°æ®ç®¡ç†ã€ç§’ä¼ æ ¡éªŒã€æ–‡ä»¶åˆå¹¶ã€‚\n- **å­˜å‚¨å±‚**ï¼šæ”¯æŒæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€äº‘å­˜å‚¨ï¼ˆå¦‚ AWS S3ï¼‰æˆ–åˆ†å¸ƒå¼å­˜å‚¨ã€‚\n- **æ•°æ®åº“/ç¼“å­˜**ï¼šè®°å½•åˆ†ç‰‡çŠ¶æ€ã€æ–‡ä»¶å…ƒæ•°æ®ï¼Œæ¨è Redis æˆ– MongoDBã€‚\n- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼ˆå¯é€‰ï¼‰ï¼šå¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼Œå¦‚æ–‡ä»¶åˆå¹¶æˆ–é€šçŸ¥ã€‚\n\nä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¸…æ™°çš„è¡¨æ ¼ï¼Œæ€»ç»“å„ç»„ä»¶çš„èŒè´£ï¼š\n\n| **ç»„ä»¶**         | **èŒè´£**                                                                 | **æŠ€æœ¯é€‰å‹**                     |\n|------------------|--------------------------------------------------------------------------|----------------------------------|\n| å®¢æˆ·ç«¯           | æ–‡ä»¶åˆ†ç‰‡ã€Hash è®¡ç®—ã€ä¸Šä¼ è¿›åº¦å±•ç¤ºã€é”™è¯¯é‡è¯•                              | React, Web Worker, Axios         |\n| æœåŠ¡ç«¯           | åˆ†ç‰‡æ¥æ”¶ã€ç§’ä¼ æ ¡éªŒã€æ–‡ä»¶åˆå¹¶ã€å…ƒæ•°æ®ç®¡ç†                                | NestJS, TypeORM, Multer          |\n| å­˜å‚¨å±‚           | æ–‡ä»¶åˆ†ç‰‡å­˜å‚¨ã€æœ€ç»ˆæ–‡ä»¶å­˜å‚¨                                              | AWS S3, MinIO, æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ      |\n| æ•°æ®åº“/ç¼“å­˜      | è®°å½•ä¸Šä¼ è¿›åº¦ã€åˆ†ç‰‡çŠ¶æ€ã€æ–‡ä»¶å…ƒæ•°æ®                                      | MongoDB, Redis                   |\n| æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¯é€‰ï¼‰ | å¼‚æ­¥å¤„ç†æ–‡ä»¶åˆå¹¶ã€é€šçŸ¥ç”¨æˆ·                                              | RabbitMQ, Kafka                  |\n\n> *å°Tipsï¼šæ¶æ„è®¾è®¡æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘è§£è€¦å’Œå¯æ‰©å±•æ€§ã€‚æ¯”å¦‚ï¼Œå­˜å‚¨å±‚å¯ä»¥æŠ½è±¡ä¸ºæ¥å£ï¼Œæ–¹ä¾¿åˆ‡æ¢ S3 æˆ–æœ¬åœ°å­˜å‚¨ã€‚*\n\n### 2.2 è®¾è®¡å“²å­¦ï¼šç®€å•å³æ˜¯ç¾\n> â€œå¤§é“è‡³ç®€ï¼Œå¤æ‚é—®é¢˜éœ€ç®€å•è§£ã€‚â€ â€”â€” è€å­\n\nå¤§æ–‡ä»¶ä¸Šä¼ çš„å®ç°çœ‹ä¼¼å¤æ‚ï¼Œä½†ä¼˜ç§€çš„æ¶æ„æ€»æ˜¯ä»¥ç®€å•ä¸ºå†…æ ¸ã€‚æˆ‘ä»¬å¯ä»¥ä»ä»¥ä¸‹å“²å­¦è§’åº¦ä¼˜åŒ–è®¾è®¡ï¼š\n- **å•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªæ¨¡å—ï¼ˆå¦‚åˆ†ç‰‡ã€æ ¡éªŒã€å­˜å‚¨ï¼‰åªåšä¸€ä»¶äº‹ã€‚\n- **çŠ¶æ€æ— å¤„ä¸åœ¨**ï¼šé€šè¿‡æ¸…æ™°çš„çŠ¶æ€ç®¡ç†ï¼ˆReduxã€Zustandï¼‰è®©å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¿æŒåŒæ­¥ã€‚\n- **æ‹¥æŠ±å¼‚æ­¥**ï¼šæ— è®ºæ˜¯æ–‡ä»¶ Hash è®¡ç®—è¿˜æ˜¯åˆ†ç‰‡ä¸Šä¼ ï¼Œå¼‚æ­¥æ˜¯æ€§èƒ½çš„åŸºçŸ³ã€‚\n\n> *å°Tipsï¼šä½¿ç”¨çŠ¶æ€æœºï¼ˆState Machineï¼‰ç®¡ç†ä¸Šä¼ æµç¨‹ï¼Œèƒ½æ˜¾è‘—æå‡ä»£ç å¯ç»´æŠ¤æ€§ã€‚*\n\n## 3. å®ç°åŸç†ä¸ä»£ç å®è·µï¼šä»ç†è®ºåˆ°è½åœ° ğŸ› ï¸\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡è¯¦ç»†çš„ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•åœ¨ React å’Œ NestJS ä¸­å®ç°å¤§æ–‡ä»¶ä¸Šä¼ ã€‚æˆ‘ä»¬ä¼šåˆ†ä¸º**å®¢æˆ·ç«¯**å’Œ**æœåŠ¡ç«¯**ä¸¤éƒ¨åˆ†ï¼Œé€æ­¥å®ç°åˆ†ç‰‡ä¸Šä¼ ã€æ–­ç‚¹ç»­ä¼ å’Œç§’ä¼ ã€‚\n\n### 3.1 å®¢æˆ·ç«¯ï¼ˆReactï¼‰ï¼šä¼˜é›…åœ°å¤„ç†æ–‡ä»¶åˆ†ç‰‡\n\n#### 3.1.1 æ–‡ä»¶åˆ†ç‰‡é€»è¾‘\næˆ‘ä»¬éœ€è¦å°†æ–‡ä»¶åˆ‡å‰²ä¸ºå›ºå®šå¤§å°çš„åˆ†ç‰‡ï¼ˆå‡è®¾ 5MBï¼‰ã€‚React ç«¯å¯ä»¥ä½¿ç”¨ `File.slice` æ–¹æ³•å®ç°åˆ†ç‰‡ï¼Œå¹¶é€šè¿‡ Web Worker å¼‚æ­¥è®¡ç®—æ–‡ä»¶ Hashã€‚\n\n```jsx\nimport React, { useState, useCallback } from 'react';\nimport axios from 'axios';\nimport SparkMD5 from 'spark-md5';\n\nconst CHUNK_SIZE = 5 * 1024 * 1024; // 5MB\n\nconst FileUploader: React.FC = () => {\n  const [file, setFile] = useState<File | null>(null);\n  const [progress, setProgress] = useState(0);\n  const [fileHash, setFileHash] = useState<string>('');\n\n  // å¤„ç†æ–‡ä»¶é€‰æ‹©\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      setFile(e.target.files[0]);\n    }\n  };\n\n  // è®¡ç®—æ–‡ä»¶ Hashï¼ˆåœ¨ Web Worker ä¸­è¿è¡Œï¼‰\n  const calculateHash = useCallback(async (file: File): Promise<string> => {\n    return new Promise((resolve) => {\n      const worker = new Worker(URL.createObjectURL(new Blob([`\n        importScripts('https://cdnjs.cloudflare.com/ajax/libs/spark-md5/3.0.2/spark-md5.min.js');\n        self.onmessage = (e) => {\n          const file = e.data;\n          const spark = new SparkMD5.ArrayBuffer();\n          const reader = new FileReader();\n          reader.onload = (event) => {\n            spark.append(event.target.result);\n            self.postMessage(spark.end());\n          };\n          reader.readAsArrayBuffer(file);\n        };\n      `], { type: 'application/javascript' })));\n\n      worker.onmessage = (e) => {\n        resolve(e.data);\n        worker.terminate();\n      };\n\n      worker.postMessage(file);\n    });\n  }, []);\n\n  // åˆ†ç‰‡ä¸Šä¼ \n  const uploadFile = useCallback(async () => {\n    if (!file) return;\n\n    // è®¡ç®—æ–‡ä»¶ Hash\n    const hash = await calculateHash(file);\n    setFileHash(hash);\n\n    // æ£€æŸ¥æ˜¯å¦æ”¯æŒç§’ä¼ \n    const { data: isExist } = await axios.post('/api/upload/check', { hash });\n    if (isExist) {\n      alert('æ–‡ä»¶å·²å­˜åœ¨ï¼Œç§’ä¼ æˆåŠŸï¼');\n      return;\n    }\n\n    // åˆ†ç‰‡é€»è¾‘\n    const totalChunks = Math.ceil(file.size / CHUNK_SIZE);\n    for (let i = 0; i < totalChunks; i++) {\n      const start = i * CHUNK_SIZE;\n      const end = Math.min(start + CHUNK_SIZE, file.size);\n      const chunk = file.slice(start, end);\n\n      const formData = new FormData();\n      formData.append('chunk', chunk);\n      formData.append('hash', hash);\n      formData.append('index', i.toString());\n      formData.append('total', totalChunks.toString());\n\n      await axios.post('/api/upload/chunk', formData, {\n        onUploadProgress: (progressEvent) => {\n          if (progressEvent.total) {\n            setProgress((i / totalChunks) * 100);\n          }\n        },\n      });\n    }\n\n    // é€šçŸ¥æœåŠ¡ç«¯åˆå¹¶åˆ†ç‰‡\n    await axios.post('/api/upload/merge', { hash, name: file.name });\n    alert('ä¸Šä¼ æˆåŠŸï¼');\n  }, [file]);\n\n  return (\n    <div className=\"p-4\">\n      <input type=\"file\" onChange={handleFileChange} className=\"mb-4\" />\n      <button\n        onClick={uploadFile}\n        disabled={!file}\n        className=\"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400\"\n      >\n        ä¸Šä¼ æ–‡ä»¶\n      </button>\n      <div className=\"mt-4\">\n        ä¸Šä¼ è¿›åº¦ï¼š{progress.toFixed(2)}%\n      </div>\n    </div>\n  );\n};\n\nexport default FileUploader;\n```\n\n> *å°Tipsï¼šä½¿ç”¨ Web Worker è®¡ç®— Hash å¯ä»¥é¿å…ä¸»çº¿ç¨‹é˜»å¡ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚*\n\n#### 3.1.2 è¿›åº¦ç®¡ç†ä¸é”™è¯¯é‡è¯•\nä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬éœ€è¦ï¼š\n- **å®æ—¶è¿›åº¦åé¦ˆ**ï¼šé€šè¿‡ `onUploadProgress` äº‹ä»¶æ›´æ–°è¿›åº¦æ¡ã€‚\n- **é”™è¯¯é‡è¯•æœºåˆ¶**ï¼šä¸ºæ¯ä¸ªåˆ†ç‰‡è®¾ç½®é‡è¯•æ¬¡æ•°ï¼ˆå»ºè®® 3 æ¬¡ï¼‰ã€‚\n- **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨ Redux æˆ– Zustand ç®¡ç†ä¸Šä¼ çŠ¶æ€ã€‚\n\nä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„é”™è¯¯é‡è¯•é€»è¾‘ï¼š\n\n```typescript\nexport async function uploadWithRetry(\n  url: string,\n  data: FormData,\n  maxRetries: number = 3\n): Promise<any> {\n  let retries = 0;\n  while (retries < maxRetries) {\n    try {\n      const response = await axios.post(url, data);\n      return response.data;\n    } catch (error) {\n      retries++;\n      if (retries === maxRetries) {\n        throw new Error(`ä¸Šä¼ å¤±è´¥ï¼Œå·²é‡è¯• ${maxRetries} æ¬¡`);\n      }\n      await new Promise((resolve) => setTimeout(resolve, 1000 * retries));\n    }\n  }\n}\n```\n\n> *å°Tipsï¼šæŒ‡æ•°é€€é¿ï¼ˆExponential Backoffï¼‰æ˜¯é”™è¯¯é‡è¯•çš„æœ€ä½³å®è·µï¼Œèƒ½æœ‰æ•ˆé™ä½æœåŠ¡ç«¯å‹åŠ›ã€‚*\n\n### 3.2 æœåŠ¡ç«¯ï¼ˆNestJSï¼‰ï¼šå¥å£®åœ°å¤„ç†åˆ†ç‰‡\n\n#### 3.2.1 ç§’ä¼ æ ¡éªŒ\næœåŠ¡ç«¯é¦–å…ˆéœ€è¦æ ¡éªŒæ–‡ä»¶æ˜¯å¦å·²å­˜åœ¨ã€‚æˆ‘ä»¬é€šè¿‡æ–‡ä»¶ Hash æŸ¥è¯¢æ•°æ®åº“ï¼Œè‹¥å­˜åœ¨åˆ™ç›´æ¥è¿”å›æˆåŠŸã€‚\n\n```typescript\nimport { Controller, Post, Body, UploadedFile, UseInterceptors } from '@nestjs/common';\nimport { FileInterceptor } from '@nestjs/platform-express';\nimport { UploadService } from './upload.service';\n\n@Controller('upload')\nexport class UploadController {\n  constructor(private readonly uploadService: UploadService) {}\n\n  @Post('check')\n  async checkFile(@Body('hash') hash: string) {\n    return this.uploadService.checkFile(hash);\n  }\n\n  @Post('chunk')\n  @UseInterceptors(FileInterceptor('chunk'))\n  async uploadChunk(\n    @UploadedFile() file: Express.Multer.File,\n    @Body('hash') hash: string,\n    @Body('index') index: string,\n    @Body('total') total: string,\n  ) {\n    return this.uploadService.uploadChunk(file, hash, parseInt(index), parseInt(total));\n  }\n\n  @Post('merge')\n  async mergeChunks(@Body('hash') hash: string, @Body('name') name: string) {\n    return this.uploadService.mergeChunks(hash, name);\n  }\n}\n```\n\n#### 3.2.2 åˆ†ç‰‡å­˜å‚¨ä¸åˆå¹¶\nåˆ†ç‰‡ä¸Šä¼ æ—¶ï¼ŒæœåŠ¡ç«¯å°†æ¯ä¸ªåˆ†ç‰‡å­˜å‚¨ä¸ºä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶è®°å½•å…ƒæ•°æ®ã€‚åˆå¹¶æ—¶ï¼Œå°†æ‰€æœ‰åˆ†ç‰‡æŒ‰é¡ºåºæ‹¼æ¥ä¸ºå®Œæ•´æ–‡ä»¶ã€‚\n\n```typescript\nimport { Injectable } from '@nestjs/common';\nimport { join } from 'path';\nimport { createWriteStream, promises as fs } from 'fs';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { File, FileDocument } from './schemas/file.schema';\n\n@Injectable()\nexport class UploadService {\n  constructor(@InjectModel(File.name) private fileModel: Model<FileDocument>) {}\n\n  async checkFile(hash: string): Promise<boolean> {\n    const file = await this.fileModel.findOne({ hash });\n    return !!file;\n  }\n\n  async uploadChunk(file: Express.Multer.File, hash: string, index: number, total: number) {\n    const chunkPath = join('uploads', 'chunks', `${hash}-${index}`);\n    await fs.writeFile(chunkPath, file.buffer);\n\n    // æ›´æ–°åˆ†ç‰‡çŠ¶æ€\n    await this.fileModel.updateOne(\n      { hash },\n      { $push: { chunks: { index, path: chunkPath } } },\n      { upsert: true },\n    );\n  }\n\n  async mergeChunks(hash: string, name: string) {\n    const file = await this.fileModel.findOne({ hash });\n    if (!file) throw new Error('æ–‡ä»¶ä¸å­˜åœ¨');\n\n    const chunks = file.chunks.sort((a, b) => a.index - b.index);\n    const finalPath = join('uploads', 'files', `${hash}-${name}`);\n    const writeStream = createWriteStream(finalPath);\n\n    for (const chunk of chunks) {\n      const data = await fs.readFile(chunk.path);\n      writeStream.write(data);\n      await fs.unlink(chunk.path); // åˆ é™¤ä¸´æ—¶åˆ†ç‰‡\n    }\n\n    writeStream.end();\n    await this.fileModel.updateOne({ hash }, { $set: { path: finalPath, name } });\n  }\n}\n```\n\n> *å°Tipsï¼šåˆå¹¶åˆ†ç‰‡æ—¶ï¼Œä½¿ç”¨æµå¼å†™å…¥ï¼ˆStreamï¼‰èƒ½æ˜¾è‘—é™ä½å†…å­˜å ç”¨ï¼Œé€‚åˆè¶…å¤§æ–‡ä»¶ã€‚*\n\n### 3.3 æ•°æ®åº“Schemaè®¾è®¡\næˆ‘ä»¬ä½¿ç”¨ MongoDB å­˜å‚¨æ–‡ä»¶å…ƒæ•°æ®å’Œåˆ†ç‰‡çŠ¶æ€ï¼š\n\n```typescript\nimport { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\n\n@Schema()\nexport class Chunk {\n  @Prop()\n  index: number;\n\n  @Prop()\n  path: string;\n}\n\n@Schema()\nexport class File extends Document {\n  @Prop({ required: true, unique: true })\n  hash: string;\n\n  @Prop()\n  name: string;\n\n  @Prop()\n  path: string;\n\n  @Prop([Chunk])\n  chunks: Chunk[];\n}\n\nexport const FileSchema = SchemaFactory.createForClass(File);\n```\n\n> *å°Tipsï¼šä¸º Hash å­—æ®µæ·»åŠ å”¯ä¸€ç´¢å¼•ï¼Œèƒ½åŠ é€Ÿç§’ä¼ æ ¡éªŒã€‚*\n\n## 4. æœ€ä½³å®è·µä¸æ€§èƒ½ä¼˜åŒ– ğŸš€\n\nå®ç°å¤§æ–‡ä»¶ä¸Šä¼ åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œå¦‚ä½•è®©å®ƒæ›´å¿«ã€æ›´ç¨³ã€æ›´ä¼˜é›…ï¼Ÿä»¥ä¸‹æ˜¯ä¸€äº›å®æˆ˜ç»éªŒï¼š\n\n### 4.1 å®¢æˆ·ç«¯ä¼˜åŒ–\n- **å¹¶è¡Œä¸Šä¼ **ï¼šåŒæ—¶ä¸Šä¼ å¤šä¸ªåˆ†ç‰‡ï¼ˆå»ºè®® 3~5 ä¸ªï¼‰ï¼Œåˆ©ç”¨æµè§ˆå™¨å¤šçº¿ç¨‹èƒ½åŠ›ã€‚\n- **åŠ¨æ€åˆ†ç‰‡å¤§å°**ï¼šæ ¹æ®ç½‘ç»œçŠ¶å†µè°ƒæ•´åˆ†ç‰‡å¤§å°ï¼ˆæ¯”å¦‚å¼±ç½‘ç¯å¢ƒä¸‹å‡å°åˆ†ç‰‡ï¼‰ã€‚\n- **é¢„ä¸Šä¼ æ ¡éªŒ**ï¼šä¸Šä¼ å‰æ£€æŸ¥æ–‡ä»¶æ ¼å¼ã€å¤§å°ï¼Œå‡å°‘æ— æ•ˆè¯·æ±‚ã€‚\n\n> *å°Tipsï¼šä½¿ç”¨ `navigator.connection` API æ£€æµ‹ç½‘ç»œçŠ¶å†µï¼ŒåŠ¨æ€ä¼˜åŒ–ä¸Šä¼ ç­–ç•¥ã€‚*\n\n### 4.2 æœåŠ¡ç«¯ä¼˜åŒ–\n- **é™æµä¸è´Ÿè½½å‡è¡¡**ï¼šä¸ºä¸Šä¼ æ¥å£è®¾ç½® QPS é™åˆ¶ï¼Œé¿å…æœåŠ¡ç«¯è¿‡è½½ã€‚\n- **å¼‚æ­¥åˆå¹¶**ï¼šå°†åˆ†ç‰‡åˆå¹¶ä»»åŠ¡æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå‡è½»ä¸»çº¿ç¨‹å‹åŠ›ã€‚\n- **åˆ†å¸ƒå¼å­˜å‚¨**ï¼šä½¿ç”¨ S3 æˆ– MinIO å­˜å‚¨å¤§æ–‡ä»¶ï¼Œæ”¯æŒé«˜å¹¶å‘ã€‚\n\n> *å°Tipsï¼šä¸ºä¸Šä¼ æ¥å£å¯ç”¨ Gzip å‹ç¼©ï¼Œèƒ½æœ‰æ•ˆé™ä½ç½‘ç»œä¼ è¾“æˆæœ¬ã€‚*\n\n### 4.3 ç”¨æˆ·ä½“éªŒä¼˜åŒ–\n- **è¿›åº¦åŠ¨ç”»**ï¼šä½¿ç”¨ CSS åŠ¨ç”»æˆ– Lottie åˆ¶ä½œä¸æ»‘çš„è¿›åº¦æ¡ã€‚\n- **é”™è¯¯æç¤º**ï¼šæä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚â€œç½‘ç»œä¸­æ–­ï¼Œè¯·æ£€æŸ¥è¿æ¥â€ã€‚\n- **æ‹–æ‹½ä¸Šä¼ **ï¼šæ”¯æŒ HTML5 Drag & Drop APIï¼Œæå‡äº¤äº’å‹å¥½æ€§ã€‚\n\n> *å°Tipsï¼šä¸ºè¿›åº¦æ¡æ·»åŠ å¾®å¦™çš„â€œå‡è¿›åº¦â€åŠ¨ç”»ï¼Œèƒ½è®©ç”¨æˆ·æ„ŸçŸ¥æ›´å¿«ã€‚*\n\n## 5. å“²å­¦æ€è€ƒï¼šæŠ€æœ¯ä¸äººæ€§çš„äº¤æ±‡ ğŸŒŒ\n\nå¤§æ–‡ä»¶ä¸Šä¼ ä¸ä»…æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œæ›´æ˜¯å¯¹äººæ€§éœ€æ±‚çš„æ·±åˆ»å›åº”ã€‚ç”¨æˆ·å¸Œæœ›â€œå¿«â€ã€å¸Œæœ›â€œç¨³â€ã€å¸Œæœ›â€œç®€å•â€ï¼Œè€Œæˆ‘ä»¬ä½œä¸ºå¼€å‘è€…ï¼Œéœ€è¦åœ¨å¤æ‚æ€§ä¸­å¯»æ‰¾å¹³è¡¡ã€‚è¿™è®©æˆ‘æƒ³èµ·ã€Šé“å¾·ç»ã€‹ä¸­çš„ä¸€å¥è¯ï¼š\n\n> â€œä¸ºå­¦æ—¥ç›Šï¼Œä¸ºé“æ—¥æŸï¼ŒæŸä¹‹åˆæŸï¼Œä»¥è‡³äºæ— ä¸ºã€‚â€\n\næŠ€æœ¯çš„è¿›æ­¥ï¼Œå¾€å¾€æ˜¯ä»â€œå¤æ‚â€èµ°å‘â€œç®€å•â€ã€‚åˆ†ç‰‡ä¸Šä¼ ã€æ–­ç‚¹ç»­ä¼ ã€ç§’ä¼ ï¼Œè¿™äº›æŠ€æœ¯æ‰‹æ®µçš„èƒŒåï¼Œæ˜¯å¯¹ç”¨æˆ·æ—¶é—´çš„å°Šé‡ã€å¯¹ç³»ç»Ÿèµ„æºçš„çè§†ã€‚ç«™åœ¨æ›´é«˜çš„æ ¼å±€ï¼Œæˆ‘ä»¬å¯ä»¥æ€è€ƒï¼š\n- **æŠ€æœ¯çš„è¾¹ç•Œ**ï¼šå¤§æ–‡ä»¶ä¸Šä¼ çš„æè‡´ä¼˜åŒ–ï¼Œæ˜¯å¦ä¼šè®©æˆ‘ä»¬å¿½ç•¥å…¶ä»–ä½“éªŒï¼Ÿ\n- **äººæ€§çš„éœ€æ±‚**ï¼šç”¨æˆ·çœŸæ­£æƒ³è¦çš„ï¼Œæ˜¯é€Ÿåº¦ï¼Œè¿˜æ˜¯æŒæ§æ„Ÿï¼Ÿ\n- **è®¾è®¡çš„å“²å­¦**ï¼šå¦‚ä½•åœ¨åŠŸèƒ½ä¸ç¾å­¦ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ï¼Ÿ\n\nè¿™äº›é—®é¢˜æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œä½†å®ƒä»¬æé†’æˆ‘ä»¬ï¼š**æŠ€æœ¯ä¸ä»…æ˜¯å·¥å…·ï¼Œæ›´æ˜¯è¿æ¥äººä¸ä¸–ç•Œçš„æ¡¥æ¢**ã€‚\n\n## 6. æ€»ç»“ä¸å±•æœ›ï¼šè¿ˆå‘æ›´å¹¿é˜”çš„æœªæ¥ ğŸŒ\n\nå¤§æ–‡ä»¶ä¸Šä¼ æ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œä¹Ÿæ˜¯ä¸€åœºå“²å­¦çš„ä¿®è¡Œã€‚é€šè¿‡ React å’Œ NestJSï¼Œæˆ‘ä»¬å®ç°äº†åˆ†ç‰‡ä¸Šä¼ ã€æ–­ç‚¹ç»­ä¼ å’Œç§’ä¼ ï¼Œæ¢ç´¢äº†ä»åŸç†åˆ°å®è·µçš„å®Œæ•´è·¯å¾„ã€‚ä½†è¿™åªæ˜¯å¼€å§‹ã€‚æœªæ¥ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š\n- **å¼•å…¥ AI ä¼˜åŒ–**ï¼šé€šè¿‡æœºå™¨å­¦ä¹ é¢„æµ‹ç½‘ç»œçŠ¶å†µï¼ŒåŠ¨æ€è°ƒæ•´ä¸Šä¼ ç­–ç•¥ã€‚\n- **æ‹¥æŠ± Web3**ï¼šç»“åˆ IPFS å®ç°å»ä¸­å¿ƒåŒ–æ–‡ä»¶ä¸Šä¼ ã€‚\n- **æ¢ç´¢æ–°åè®®**ï¼šåˆ©ç”¨ WebTransport æˆ– QUIC æå‡ä¼ è¾“æ•ˆç‡ã€‚\n\n> â€œæŠ€æœ¯æ˜¯çŸ­æš‚çš„ï¼Œæ€æƒ³æ˜¯æ°¸æ’çš„ã€‚â€ â€”â€” çµæ„Ÿæ¥è‡ªã€Šæ˜Ÿé™…ç©¿è¶Šã€‹\n\nå¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸ä»…ä¸ºä½ æä¾›äº†å®ç”¨çš„ä»£ç å’Œå®è·µï¼Œæ›´ç‚¹ç‡ƒäº†ä½ å¯¹æŠ€æœ¯ä¸å“²å­¦çš„æ€è€ƒç«èŠ± ğŸ”¥ã€‚å¤§æ–‡ä»¶ä¸Šä¼ çš„æ—…ç¨‹ï¼Œå°±åƒä¸€åœºæ˜Ÿé™…ç©¿è¶Šï¼Œæˆ‘ä»¬åœ¨ä»£ç çš„å®‡å®™ä¸­å¯»æ‰¾æ„ä¹‰ï¼Œåœ¨å¤æ‚æ€§ä¸­è¿½é€ç®€å•ã€‚æ„¿ä½ åœ¨è¿™æ¡è·¯ä¸Šï¼Œä»£ç ä¼˜é›…ï¼Œæ€æƒ³è‡ªç”±ï¼\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var u=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),g=(e,l)=>{for(var r in l)s(e,r,{get:l[r],enumerable:!0})},a=(e,l,r,o)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let c of y(l))!B.call(e,c)&&c!==r&&s(e,c,{get:()=>l[c],enumerable:!(o=E(l,c))||o.enumerable});return e};var m=(e,l,r)=>(r=e!=null?p(F(e)):{},a(l||!e||!e.__esModule?s(r,\"default\",{value:e,enumerable:!0}):r,e)),f=e=>a(s({},\"__esModule\",{value:!0}),e);var d=u((x,i)=>{i.exports=_jsx_runtime});var k={};g(k,{default:()=>h,frontmatter:()=>C});var n=m(d()),C={type:\"Post\",title:\"\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u827A\\u672F\\u4E0E\\u54F2\\u5B66 \\u{1F3A8} | React + NestJS \\u5B9E\\u73B0\\u5206\\u7247\\u3001\\u65AD\\u70B9\\u7EED\\u4F20\\u4E0E\\u79D2\\u4F20 \\u{1F680}\",date:\"2024-07-10\",description:\"\\u6DF1\\u5165\\u5256\\u6790\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u7ED3\\u5408 React \\u548C NestJS\\uFF0C\\u63A2\\u7D22\\u5206\\u7247\\u4E0A\\u4F20\\u3001\\u65AD\\u70B9\\u7EED\\u4F20\\u4E0E\\u79D2\\u4F20\\u7684\\u6781\\u81F4\\u5B9E\\u8DF5\\uFF0C\\u517C\\u5177\\u6280\\u672F\\u6DF1\\u5EA6\\u4E0E\\u54F2\\u5B66\\u601D\\u8003\\uFF0C\\u9002\\u5408\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u8FDB\\u9636\\u3002\",keywords:\"\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20, React, NestJS, \\u5206\\u7247\\u4E0A\\u4F20, \\u65AD\\u70B9\\u7EED\\u4F20, \\u79D2\\u4F20, \\u524D\\u7AEF\\u5F00\\u53D1, \\u7CFB\\u7EDF\\u67B6\\u6784, \\u6027\\u80FD\\u4F18\\u5316\",author:\"\\u6653\\u9F99\",image:\"/images/hero/large-file-upload.jpg\",tags:[\"React\",\"NestJS\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6587\\u4EF6\\u4E0A\\u4F20\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function t(e){let l={a:\"a\",blockquote:\"blockquote\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:\"\\u201C\\u6211\\u4EEC\\u4E0D\\u662F\\u5728\\u4E0A\\u4F20\\u6587\\u4EF6\\uFF0C\\u800C\\u662F\\u5728\\u4E0E\\u65F6\\u95F4\\u3001\\u7A7A\\u95F4\\u548C\\u590D\\u6742\\u6027\\u535A\\u5F08\\u3002\\u201D \\u2014\\u2014 \\u7075\\u611F\\u6765\\u81EA\\u300A\\u9ED1\\u5BA2\\u5E1D\\u56FD\\u300B\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\uFF0C\\u8FD9\\u4E2A\\u770B\\u4F3C\\u5E73\\u51E1\\u7684\\u529F\\u80FD\\uFF0C\\u5374\\u8574\\u85CF\\u7740\\u6280\\u672F\\u7684\\u6DF1\\u5EA6\\u4E0E\\u54F2\\u5B66\\u7684\\u5E7F\\u5EA6\\u3002\\u65E0\\u8BBA\\u662F\\u89C6\\u9891\\u5E73\\u53F0\\u76844K\\u7D20\\u6750\\u3001\\u4E91\\u76D8\\u7684TB\\u7EA7\\u5907\\u4EFD\\uFF0C\\u8FD8\\u662F\\u4F01\\u4E1A\\u7EA7\\u5E94\\u7528\\u7684\\u590D\\u6742\\u6570\\u636E\\u8FC1\\u79FB\\uFF0C\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u65E9\\u5DF2\\u6210\\u4E3A\\u73B0\\u4EE3Web\\u5F00\\u53D1\\u7684\\u6807\\u914D\\u3002\\u7136\\u800C\\uFF0C\\u5982\\u4F55\\u4F18\\u96C5\\u3001\\u9AD8\\u6548\\u3001\\u5065\\u58EE\\u5730\\u5B9E\\u73B0\\u5B83\\uFF1F\\u5982\\u4F55\\u8BA9\\u7528\\u6237\\u4F53\\u9A8C\\u5230\\u201C\\u5FEB\\u5982\\u95EA\\u7535\\u201D\\u26A1\\uFE0F\\u7684\\u79D2\\u4F20\\uFF1F\\u5982\\u4F55\\u5728\\u4E0A\\u4F20\\u4E2D\\u65AD\\u540E\\u201C\\u4ECE\\u5BB9\\u7EED\\u4F20\\u201D\\uFF1F\\u8FD9\\u4E9B\\u95EE\\u9898\\u4E0D\\u4EC5\\u8003\\u9A8C\\u6280\\u672F\\u529F\\u5E95\\uFF0C\\u66F4\\u662F\\u4E00\\u573A\\u5BF9\\u67B6\\u6784\\u8BBE\\u8BA1\\u3001\\u7528\\u6237\\u4F53\\u9A8C\\u548C\\u7CFB\\u7EDF\\u54F2\\u5B66\\u7684\\u7EFC\\u5408\\u8F83\\u91CF\\u3002\"}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5728\\u8FD9\\u7BC7\\u535A\\u5BA2\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u4EE5 \",(0,n.jsx)(l.strong,{children:\"React\"}),\" \\u548C \",(0,n.jsx)(l.strong,{children:\"NestJS\"}),\" \\u4E3A\\u6280\\u672F\\u6808\\uFF0C\\u6DF1\\u5165\\u5256\\u6790\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u4E09\\u5927\\u6838\\u5FC3\\u573A\\u666F\\uFF1A\",(0,n.jsx)(l.strong,{children:\"\\u5206\\u7247\\u4E0A\\u4F20\"}),\"\\u3001\",(0,n.jsx)(l.strong,{children:\"\\u65AD\\u70B9\\u7EED\\u4F20\"}),\" \\u548C \",(0,n.jsx)(l.strong,{children:\"\\u79D2\\u4F20\"}),\"\\u3002\\u6211\\u4EEC\\u4F1A\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u4ECE\\u4EE3\\u7801\\u5230\\u54F2\\u5B66\\uFF0C\\u4ECE\\u6280\\u672F\\u7EC6\\u8282\\u5230\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u9886\\u7565\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u6781\\u81F4\\u4E4B\\u7F8E \\u{1F30C}\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u524D\\u7AEF\\u65B0\\u624B\\u8FD8\\u662F\\u8D44\\u6DF1\\u5F00\\u53D1\\u8005\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u90FD\\u5C06\\u4E3A\\u4F60\\u63D0\\u4F9B\\u6E05\\u6670\\u7684\\u601D\\u7EF4\\u94FE\\u3001\\u5B9E\\u7528\\u7684\\u4EE3\\u7801\\u793A\\u4F8B\\u548C\\u6DF1\\u523B\\u7684\\u6D1E\\u89C1\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u6587\\u7AE0\\u76EE\\u6807\"}),\"\\uFF1A\\u901A\\u8FC7\\u6E05\\u6670\\u7684\\u8868\\u683C\\u3001\\u4E30\\u5BCC\\u7684\\u793A\\u4F8B\\u548C\\u6DF1\\u5165\\u7684\\u539F\\u7406\\u5206\\u6790\\uFF0C\\u8BA9\\u4F60\\u4E0D\\u4EC5\\u201C\\u77E5\\u5176\\u7136\\u201D\\uFF0C\\u66F4\\u201C\\u77E5\\u5176\\u6240\\u4EE5\\u7136\\u201D\\uFF0C\\u5E76\\u5728\\u5B9E\\u9645\\u9879\\u76EE\\u4E2D\\u6E38\\u5203\\u6709\\u4F59\\u5730\\u5B9E\\u73B0\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"1-\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u672C\\u8D28\\u4E00\\u573A\\u4E0E\\u590D\\u6742\\u6027\\u7684\\u535A\\u5F08-\",children:(0,n.jsx)(l.a,{href:\"#1-\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u672C\\u8D28\\u4E00\\u573A\\u4E0E\\u590D\\u6742\\u6027\\u7684\\u535A\\u5F08-\",children:\"1. \\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u672C\\u8D28\\uFF1A\\u4E00\\u573A\\u4E0E\\u590D\\u6742\\u6027\\u7684\\u535A\\u5F08 \\u{1F9E9}\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u4E3A\\u4F55\\u590D\\u6742\\uFF1F\\u8868\\u9762\\u4E0A\\u770B\\uFF0C\\u5B83\\u53EA\\u662F\\u201C\\u628A\\u6587\\u4EF6\\u4ECE\\u5BA2\\u6237\\u7AEF\\u4F20\\u5230\\u670D\\u52A1\\u7AEF\\u201D\\u3002\\u4F46\\u6DF1\\u5165\\u601D\\u8003\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0\\u5B83\\u6D89\\u53CA\\u591A\\u65B9\\u534F\\u4F5C\\uFF1A\",(0,n.jsx)(l.strong,{children:\"\\u5BA2\\u6237\\u7AEF\"}),\"\\uFF08\\u6D4F\\u89C8\\u5668\\u6027\\u80FD\\u3001\\u7528\\u6237\\u4EA4\\u4E92\\uFF09\\u3001\",(0,n.jsx)(l.strong,{children:\"\\u670D\\u52A1\\u7AEF\"}),\"\\uFF08\\u5B58\\u50A8\\u3001\\u5E76\\u53D1\\u5904\\u7406\\uFF09\\u3001\",(0,n.jsx)(l.strong,{children:\"\\u7F51\\u7EDC\"}),\"\\uFF08\\u5E26\\u5BBD\\u3001\\u7A33\\u5B9A\\u6027\\uFF09\\u4EE5\\u53CA\",(0,n.jsx)(l.strong,{children:\"\\u7528\\u6237\\u4F53\\u9A8C\"}),\"\\uFF08\\u8FDB\\u5EA6\\u53CD\\u9988\\u3001\\u9519\\u8BEF\\u5904\\u7406\\uFF09\\u3002\\u8FD9\\u4E9B\\u56E0\\u7D20\\u4EA4\\u7EC7\\u5728\\u4E00\\u8D77\\uFF0C\\u7A0D\\u6709\\u4E0D\\u614E\\u4FBF\\u53EF\\u80FD\\u5BFC\\u81F4\\u4E0A\\u4F20\\u5931\\u8D25\\u3001\\u6027\\u80FD\\u74F6\\u9888\\u6216\\u7528\\u6237\\u6D41\\u5931\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"11-\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5206\\u7247\\u4E0A\\u4F20\",children:(0,n.jsx)(l.a,{href:\"#11-\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5206\\u7247\\u4E0A\\u4F20\",children:\"1.1 \\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5206\\u7247\\u4E0A\\u4F20\\uFF1F\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u4F20\\u7EDF\\u7684\\u5C0F\\u6587\\u4EF6\\u4E0A\\u4F20\\uFF08\\u51E0MB\\uFF09\\u53EF\\u4EE5\\u901A\\u8FC7\\u7B80\\u5355\\u7684 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"multipart/form-data\"})})})}),\" \\u641E\\u5B9A\\u3002\\u4F46\\u5F53\\u6587\\u4EF6\\u8FBE\\u5230GB\\u751A\\u81F3TB\\u7EA7\\u522B\\uFF0C\\u95EE\\u9898\\u63A5\\u8E35\\u800C\\u81F3\\uFF1A\"]}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u7F51\\u7EDC\\u4E0D\\u7A33\\u5B9A\"}),\"\\uFF1A\\u4E0A\\u4F20\\u4E2D\\u65AD\\u540E\\u9700\\u8981\\u4ECE\\u5934\\u5F00\\u59CB\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u6781\\u5DEE\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u9650\\u5236\"}),\"\\uFF1A\\u5927\\u6587\\u4EF6\\u53EF\\u80FD\\u8017\\u5C3D\\u5185\\u5B58\\uFF0C\\u751A\\u81F3\\u89E6\\u53D1\\u6D4F\\u89C8\\u5668\\u5D29\\u6E83\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u670D\\u52A1\\u7AEF\\u538B\\u529B\"}),\"\\uFF1A\\u4E00\\u6B21\\u6027\\u63A5\\u6536\\u5927\\u6587\\u4EF6\\u53EF\\u80FD\\u5BFC\\u81F4\\u5185\\u5B58\\u6EA2\\u51FA\\u6216\\u5B58\\u50A8\\u74F6\\u9888\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.strong,{children:\"\\u5206\\u7247\\u4E0A\\u4F20\"}),\"\\uFF08Chunked Upload\\uFF09\\u5E94\\u8FD0\\u800C\\u751F\\u3002\\u5B83\\u7684\\u6838\\u5FC3\\u601D\\u60F3\\u662F\\uFF1A\",(0,n.jsx)(l.strong,{children:\"\\u5C06\\u5927\\u6587\\u4EF6\\u5207\\u5272\\u6210\\u5C0F\\u5757\\uFF0C\\u9010\\u5757\\u4E0A\\u4F20\\uFF0C\\u6BCF\\u5757\\u72EC\\u7ACB\\u5904\\u7406\"}),\"\\u3002\\u8FD9\\u4E0D\\u4EC5\\u964D\\u4F4E\\u4E86\\u5355\\u6B21\\u4F20\\u8F93\\u7684\\u538B\\u529B\\uFF0C\\u8FD8\\u4E3A\\u65AD\\u70B9\\u7EED\\u4F20\\u548C\\u5E76\\u884C\\u4E0A\\u4F20\\u5960\\u5B9A\\u4E86\\u57FA\\u7840\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u5206\\u7247\\u5927\\u5C0F\\u901A\\u5E38\\u8BBE\\u7F6E\\u4E3A 5MB~10MB\\uFF0C\\u65E2\\u80FD\\u4FDD\\u8BC1\\u4F20\\u8F93\\u6548\\u7387\\uFF0C\\u53C8\\u80FD\\u517C\\u5BB9\\u5927\\u591A\\u6570\\u7F51\\u7EDC\\u73AF\\u5883\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"12-\\u65AD\\u70B9\\u7EED\\u4F20\\u4ECE\\u5168\\u76D8\\u91CD\\u6765\\u5230\\u4ECE\\u5BB9\\u7EED\\u63A5\",children:(0,n.jsx)(l.a,{href:\"#12-\\u65AD\\u70B9\\u7EED\\u4F20\\u4ECE\\u5168\\u76D8\\u91CD\\u6765\\u5230\\u4ECE\\u5BB9\\u7EED\\u63A5\",children:\"1.2 \\u65AD\\u70B9\\u7EED\\u4F20\\uFF1A\\u4ECE\\u201C\\u5168\\u76D8\\u91CD\\u6765\\u201D\\u5230\\u201C\\u4ECE\\u5BB9\\u7EED\\u63A5\\u201D\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u65AD\\u70B9\\u7EED\\u4F20\\uFF08Resumable Upload\\uFF09\\u662F\\u5206\\u7247\\u4E0A\\u4F20\\u7684\\u81EA\\u7136\\u5EF6\\u4F38\\u3002\\u5B83\\u7684\\u6838\\u5FC3\\u662F\\uFF1A\",(0,n.jsx)(l.strong,{children:\"\\u8BB0\\u5F55\\u5DF2\\u4E0A\\u4F20\\u7684\\u5206\\u7247\\u72B6\\u6001\\uFF0C\\u5141\\u8BB8\\u7528\\u6237\\u5728\\u4E2D\\u65AD\\u540E\\u4ECE\\u4E0A\\u6B21\\u8FDB\\u5EA6\\u7EE7\\u7EED\\u4E0A\\u4F20\"}),\"\\u3002\\u8FD9\\u9700\\u8981\\u5BA2\\u6237\\u7AEF\\u548C\\u670D\\u52A1\\u7AEF\\u534F\\u540C\\u4FDD\\u5B58\\u4E0A\\u4F20\\u8FDB\\u5EA6\\uFF0C\\u901A\\u5E38\\u901A\\u8FC7\\u6570\\u636E\\u5E93\\u6216\\u6587\\u4EF6\\u7CFB\\u7EDF\\u8BB0\\u5F55\\u5206\\u7247\\u5143\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u4F7F\\u7528 Redis \\u6216\\u6570\\u636E\\u5E93\\u5B58\\u50A8\\u5206\\u7247\\u72B6\\u6001\\u65F6\\uFF0C\\u6CE8\\u610F\\u8BBE\\u7F6E\\u8FC7\\u671F\\u65F6\\u95F4\\uFF0C\\u907F\\u514D\\u5143\\u6570\\u636E\\u65E0\\u9650\\u5806\\u79EF\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"13-\\u79D2\\u4F20\\u6548\\u7387\\u7684\\u6781\\u81F4\\u8FFD\\u6C42-\\uFE0F\",children:(0,n.jsx)(l.a,{href:\"#13-\\u79D2\\u4F20\\u6548\\u7387\\u7684\\u6781\\u81F4\\u8FFD\\u6C42-\\uFE0F\",children:\"1.3 \\u79D2\\u4F20\\uFF1A\\u6548\\u7387\\u7684\\u6781\\u81F4\\u8FFD\\u6C42 \\u26A1\\uFE0F\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u79D2\\u4F20\\uFF08Instant Upload\\uFF09\\u662F\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u201C\\u9ED1\\u9B54\\u6CD5\\u201D\\u3002\\u5B83\\u7684\\u539F\\u7406\\u662F\\uFF1A\",(0,n.jsx)(l.strong,{children:\"\\u901A\\u8FC7\\u6587\\u4EF6\\u7684\\u552F\\u4E00\\u6807\\u8BC6\\uFF08\\u901A\\u5E38\\u662F Hash \\u503C\\uFF09\\u5224\\u65AD\\u6587\\u4EF6\\u662F\\u5426\\u5DF2\\u5B58\\u5728\\u4E8E\\u670D\\u52A1\\u7AEF\\uFF0C\\u82E5\\u5B58\\u5728\\u5219\\u76F4\\u63A5\\u8FD4\\u56DE\\u6210\\u529F\\uFF0C\\u65E0\\u9700\\u5B9E\\u9645\\u4E0A\\u4F20\"}),\"\\u3002\\u8FD9\\u5728\\u4E91\\u76D8\\u6216\\u89C6\\u9891\\u5E73\\u53F0\\u4E2D\\u5C24\\u4E3A\\u5E38\\u89C1\\uFF0C\\u6BD4\\u5982\\u4E0A\\u4F20\\u4E00\\u90E8\\u70ED\\u95E8\\u7535\\u5F71\\uFF0C\\u53EF\\u80FD\\u670D\\u52A1\\u7AEF\\u65E9\\u5DF2\\u6709\\u526F\\u672C\\u3002\"]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u8BA1\\u7B97\\u6587\\u4EF6 Hash \\u65F6\\uFF0C\\u4F18\\u5148\\u4F7F\\u7528 MD5 \\u6216 SHA-256\\uFF0C\\u4F46\\u8981\\u6CE8\\u610F\\u6027\\u80FD\\u5F00\\u9500\\uFF0C\\u5EFA\\u8BAE\\u5728 Web Worker \\u4E2D\\u5F02\\u6B65\\u8BA1\\u7B97\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"2-\\u7CFB\\u7EDF\\u67B6\\u6784\\u8BBE\\u8BA1\\u4ECE\\u5B8F\\u89C2\\u5230\\u5FAE\\u89C2-\\uFE0F\",children:(0,n.jsx)(l.a,{href:\"#2-\\u7CFB\\u7EDF\\u67B6\\u6784\\u8BBE\\u8BA1\\u4ECE\\u5B8F\\u89C2\\u5230\\u5FAE\\u89C2-\\uFE0F\",children:\"2. \\u7CFB\\u7EDF\\u67B6\\u6784\\u8BBE\\u8BA1\\uFF1A\\u4ECE\\u5B8F\\u89C2\\u5230\\u5FAE\\u89C2 \\u{1F3DB}\\uFE0F\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5B9E\\u73B0\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\uFF0C\\u4E0D\\u4EC5\\u9700\\u8981\\u5199\\u4EE3\\u7801\\uFF0C\\u66F4\\u9700\\u8981\\u7AD9\\u5728\\u67B6\\u6784\\u7684\\u9AD8\\u5EA6\\u601D\\u8003\\u3002\\u6211\\u4EEC\\u5C06\\u4ECE\",(0,n.jsx)(l.strong,{children:\"\\u5BA2\\u6237\\u7AEF\"}),\"\\uFF08React\\uFF09\\u3001\",(0,n.jsx)(l.strong,{children:\"\\u670D\\u52A1\\u7AEF\"}),\"\\uFF08NestJS\\uFF09\\u548C\",(0,n.jsx)(l.strong,{children:\"\\u5B58\\u50A8\\u5C42\"}),\"\\u4E09\\u4E2A\\u5C42\\u9762\\u8BBE\\u8BA1\\u4E00\\u4E2A\\u5065\\u58EE\\u7684\\u7CFB\\u7EDF\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"21-\\u67B6\\u6784\\u6982\\u89C8\",children:(0,n.jsx)(l.a,{href:\"#21-\\u67B6\\u6784\\u6982\\u89C8\",children:\"2.1 \\u67B6\\u6784\\u6982\\u89C8\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u6211\\u4EEC\\u7684\\u7CFB\\u7EDF\\u67B6\\u6784\\u56FE\\uFF08\\u4EE5\\u6587\\u5B57\\u63CF\\u8FF0\\uFF0C\\u5B9E\\u9645\\u9879\\u76EE\\u53EF\\u642D\\u914D UML \\u5DE5\\u5177\\u5982 Draw.io\\uFF09\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5BA2\\u6237\\u7AEF\\uFF08React\\uFF09\"}),\"\\uFF1A\\u8D1F\\u8D23\\u6587\\u4EF6\\u5206\\u7247\\u3001Hash \\u8BA1\\u7B97\\u3001\\u4E0A\\u4F20\\u8FDB\\u5EA6\\u7BA1\\u7406\\u3001\\u7528\\u6237\\u4EA4\\u4E92\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u670D\\u52A1\\u7AEF\\uFF08NestJS\\uFF09\"}),\"\\uFF1A\\u5904\\u7406\\u5206\\u7247\\u63A5\\u6536\\u3001\\u5143\\u6570\\u636E\\u7BA1\\u7406\\u3001\\u79D2\\u4F20\\u6821\\u9A8C\\u3001\\u6587\\u4EF6\\u5408\\u5E76\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5B58\\u50A8\\u5C42\"}),\"\\uFF1A\\u652F\\u6301\\u672C\\u5730\\u6587\\u4EF6\\u7CFB\\u7EDF\\u3001\\u4E91\\u5B58\\u50A8\\uFF08\\u5982 AWS S3\\uFF09\\u6216\\u5206\\u5E03\\u5F0F\\u5B58\\u50A8\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6570\\u636E\\u5E93/\\u7F13\\u5B58\"}),\"\\uFF1A\\u8BB0\\u5F55\\u5206\\u7247\\u72B6\\u6001\\u3001\\u6587\\u4EF6\\u5143\\u6570\\u636E\\uFF0C\\u63A8\\u8350 Redis \\u6216 MongoDB\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6D88\\u606F\\u961F\\u5217\"}),\"\\uFF08\\u53EF\\u9009\\uFF09\\uFF1A\\u5904\\u7406\\u5F02\\u6B65\\u4EFB\\u52A1\\uFF0C\\u5982\\u6587\\u4EF6\\u5408\\u5E76\\u6216\\u901A\\u77E5\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u6E05\\u6670\\u7684\\u8868\\u683C\\uFF0C\\u603B\\u7ED3\\u5404\\u7EC4\\u4EF6\\u7684\\u804C\\u8D23\\uFF1A\"}),`\n`,(0,n.jsxs)(l.table,{children:[(0,n.jsx)(l.thead,{children:(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.th,{children:(0,n.jsx)(l.strong,{children:\"\\u7EC4\\u4EF6\"})}),(0,n.jsx)(l.th,{children:(0,n.jsx)(l.strong,{children:\"\\u804C\\u8D23\"})}),(0,n.jsx)(l.th,{children:(0,n.jsx)(l.strong,{children:\"\\u6280\\u672F\\u9009\\u578B\"})})]})}),(0,n.jsxs)(l.tbody,{children:[(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:\"\\u5BA2\\u6237\\u7AEF\"}),(0,n.jsx)(l.td,{children:\"\\u6587\\u4EF6\\u5206\\u7247\\u3001Hash \\u8BA1\\u7B97\\u3001\\u4E0A\\u4F20\\u8FDB\\u5EA6\\u5C55\\u793A\\u3001\\u9519\\u8BEF\\u91CD\\u8BD5\"}),(0,n.jsx)(l.td,{children:\"React, Web Worker, Axios\"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:\"\\u670D\\u52A1\\u7AEF\"}),(0,n.jsx)(l.td,{children:\"\\u5206\\u7247\\u63A5\\u6536\\u3001\\u79D2\\u4F20\\u6821\\u9A8C\\u3001\\u6587\\u4EF6\\u5408\\u5E76\\u3001\\u5143\\u6570\\u636E\\u7BA1\\u7406\"}),(0,n.jsx)(l.td,{children:\"NestJS, TypeORM, Multer\"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:\"\\u5B58\\u50A8\\u5C42\"}),(0,n.jsx)(l.td,{children:\"\\u6587\\u4EF6\\u5206\\u7247\\u5B58\\u50A8\\u3001\\u6700\\u7EC8\\u6587\\u4EF6\\u5B58\\u50A8\"}),(0,n.jsx)(l.td,{children:\"AWS S3, MinIO, \\u672C\\u5730\\u6587\\u4EF6\\u7CFB\\u7EDF\"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:\"\\u6570\\u636E\\u5E93/\\u7F13\\u5B58\"}),(0,n.jsx)(l.td,{children:\"\\u8BB0\\u5F55\\u4E0A\\u4F20\\u8FDB\\u5EA6\\u3001\\u5206\\u7247\\u72B6\\u6001\\u3001\\u6587\\u4EF6\\u5143\\u6570\\u636E\"}),(0,n.jsx)(l.td,{children:\"MongoDB, Redis\"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:\"\\u6D88\\u606F\\u961F\\u5217\\uFF08\\u53EF\\u9009\\uFF09\"}),(0,n.jsx)(l.td,{children:\"\\u5F02\\u6B65\\u5904\\u7406\\u6587\\u4EF6\\u5408\\u5E76\\u3001\\u901A\\u77E5\\u7528\\u6237\"}),(0,n.jsx)(l.td,{children:\"RabbitMQ, Kafka\"})]})]})]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u67B6\\u6784\\u8BBE\\u8BA1\\u65F6\\uFF0C\\u4F18\\u5148\\u8003\\u8651\\u89E3\\u8026\\u548C\\u53EF\\u6269\\u5C55\\u6027\\u3002\\u6BD4\\u5982\\uFF0C\\u5B58\\u50A8\\u5C42\\u53EF\\u4EE5\\u62BD\\u8C61\\u4E3A\\u63A5\\u53E3\\uFF0C\\u65B9\\u4FBF\\u5207\\u6362 S3 \\u6216\\u672C\\u5730\\u5B58\\u50A8\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"22-\\u8BBE\\u8BA1\\u54F2\\u5B66\\u7B80\\u5355\\u5373\\u662F\\u7F8E\",children:(0,n.jsx)(l.a,{href:\"#22-\\u8BBE\\u8BA1\\u54F2\\u5B66\\u7B80\\u5355\\u5373\\u662F\\u7F8E\",children:\"2.2 \\u8BBE\\u8BA1\\u54F2\\u5B66\\uFF1A\\u7B80\\u5355\\u5373\\u662F\\u7F8E\"})}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:\"\\u201C\\u5927\\u9053\\u81F3\\u7B80\\uFF0C\\u590D\\u6742\\u95EE\\u9898\\u9700\\u7B80\\u5355\\u89E3\\u3002\\u201D \\u2014\\u2014 \\u8001\\u5B50\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u5B9E\\u73B0\\u770B\\u4F3C\\u590D\\u6742\\uFF0C\\u4F46\\u4F18\\u79C0\\u7684\\u67B6\\u6784\\u603B\\u662F\\u4EE5\\u7B80\\u5355\\u4E3A\\u5185\\u6838\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u4ECE\\u4EE5\\u4E0B\\u54F2\\u5B66\\u89D2\\u5EA6\\u4F18\\u5316\\u8BBE\\u8BA1\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5355\\u4E00\\u804C\\u8D23\\u539F\\u5219\"}),\"\\uFF1A\\u6BCF\\u4E2A\\u6A21\\u5757\\uFF08\\u5982\\u5206\\u7247\\u3001\\u6821\\u9A8C\\u3001\\u5B58\\u50A8\\uFF09\\u53EA\\u505A\\u4E00\\u4EF6\\u4E8B\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u72B6\\u6001\\u65E0\\u5904\\u4E0D\\u5728\"}),\"\\uFF1A\\u901A\\u8FC7\\u6E05\\u6670\\u7684\\u72B6\\u6001\\u7BA1\\u7406\\uFF08Redux\\u3001Zustand\\uFF09\\u8BA9\\u5BA2\\u6237\\u7AEF\\u548C\\u670D\\u52A1\\u7AEF\\u4FDD\\u6301\\u540C\\u6B65\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u62E5\\u62B1\\u5F02\\u6B65\"}),\"\\uFF1A\\u65E0\\u8BBA\\u662F\\u6587\\u4EF6 Hash \\u8BA1\\u7B97\\u8FD8\\u662F\\u5206\\u7247\\u4E0A\\u4F20\\uFF0C\\u5F02\\u6B65\\u662F\\u6027\\u80FD\\u7684\\u57FA\\u77F3\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u4F7F\\u7528\\u72B6\\u6001\\u673A\\uFF08State Machine\\uFF09\\u7BA1\\u7406\\u4E0A\\u4F20\\u6D41\\u7A0B\\uFF0C\\u80FD\\u663E\\u8457\\u63D0\\u5347\\u4EE3\\u7801\\u53EF\\u7EF4\\u62A4\\u6027\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"3-\\u5B9E\\u73B0\\u539F\\u7406\\u4E0E\\u4EE3\\u7801\\u5B9E\\u8DF5\\u4ECE\\u7406\\u8BBA\\u5230\\u843D\\u5730-\\uFE0F\",children:(0,n.jsx)(l.a,{href:\"#3-\\u5B9E\\u73B0\\u539F\\u7406\\u4E0E\\u4EE3\\u7801\\u5B9E\\u8DF5\\u4ECE\\u7406\\u8BBA\\u5230\\u843D\\u5730-\\uFE0F\",children:\"3. \\u5B9E\\u73B0\\u539F\\u7406\\u4E0E\\u4EE3\\u7801\\u5B9E\\u8DF5\\uFF1A\\u4ECE\\u7406\\u8BBA\\u5230\\u843D\\u5730 \\u{1F6E0}\\uFE0F\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u901A\\u8FC7\\u8BE6\\u7EC6\\u7684\\u4EE3\\u7801\\u793A\\u4F8B\\uFF0C\\u5C55\\u793A\\u5982\\u4F55\\u5728 React \\u548C NestJS \\u4E2D\\u5B9E\\u73B0\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u3002\\u6211\\u4EEC\\u4F1A\\u5206\\u4E3A\",(0,n.jsx)(l.strong,{children:\"\\u5BA2\\u6237\\u7AEF\"}),\"\\u548C\",(0,n.jsx)(l.strong,{children:\"\\u670D\\u52A1\\u7AEF\"}),\"\\u4E24\\u90E8\\u5206\\uFF0C\\u9010\\u6B65\\u5B9E\\u73B0\\u5206\\u7247\\u4E0A\\u4F20\\u3001\\u65AD\\u70B9\\u7EED\\u4F20\\u548C\\u79D2\\u4F20\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"31-\\u5BA2\\u6237\\u7AEFreact\\u4F18\\u96C5\\u5730\\u5904\\u7406\\u6587\\u4EF6\\u5206\\u7247\",children:(0,n.jsx)(l.a,{href:\"#31-\\u5BA2\\u6237\\u7AEFreact\\u4F18\\u96C5\\u5730\\u5904\\u7406\\u6587\\u4EF6\\u5206\\u7247\",children:\"3.1 \\u5BA2\\u6237\\u7AEF\\uFF08React\\uFF09\\uFF1A\\u4F18\\u96C5\\u5730\\u5904\\u7406\\u6587\\u4EF6\\u5206\\u7247\"})}),`\n`,(0,n.jsx)(l.h4,{id:\"311-\\u6587\\u4EF6\\u5206\\u7247\\u903B\\u8F91\",children:(0,n.jsx)(l.a,{href:\"#311-\\u6587\\u4EF6\\u5206\\u7247\\u903B\\u8F91\",children:\"3.1.1 \\u6587\\u4EF6\\u5206\\u7247\\u903B\\u8F91\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u6211\\u4EEC\\u9700\\u8981\\u5C06\\u6587\\u4EF6\\u5207\\u5272\\u4E3A\\u56FA\\u5B9A\\u5927\\u5C0F\\u7684\\u5206\\u7247\\uFF08\\u5047\\u8BBE 5MB\\uFF09\\u3002React \\u7AEF\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"File.slice\"})})})}),\" \\u65B9\\u6CD5\\u5B9E\\u73B0\\u5206\\u7247\\uFF0C\\u5E76\\u901A\\u8FC7 Web Worker \\u5F02\\u6B65\\u8BA1\\u7B97\\u6587\\u4EF6 Hash\\u3002\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useCallback } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" axios \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'axios'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" SparkMD5 \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'spark-md5'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" CHUNK_SIZE\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// 5MB\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" FileUploader\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" React\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"FC\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"file\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"File\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" |\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"progress\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setProgress\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"fileHash\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setFileHash\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u5904\\u7406\\u6587\\u4EF6\\u9009\\u62E9\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" handleFileChange\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" React\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ChangeEvent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"HTMLInputElement\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (e.target.files) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      setFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.files[\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u8BA1\\u7B97\\u6587\\u4EF6 Hash\\uFF08\\u5728 Web Worker \\u4E2D\\u8FD0\\u884C\\uFF09\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" calculateHash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useCallback\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" File\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"> \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" worker\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Worker\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"URL\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createObjectURL\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Blob\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"        importScripts('https://cdnjs.cloudflare.com/ajax/libs/spark-md5/3.0.2/spark-md5.min.js');\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"        self.onmessage = (e) => {\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"          const file = e.data;\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"          const spark = new SparkMD5.ArrayBuffer();\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"          const reader = new FileReader();\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"          reader.onload = (event) => {\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"            spark.append(event.target.result);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"            self.postMessage(spark.end());\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"          };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"          reader.readAsArrayBuffer(file);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"        };\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"      `\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"], { type: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'application/javascript'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      worker.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        resolve\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(e.data);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        worker.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"terminate\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      worker.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"postMessage\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(file);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u5206\\u7247\\u4E0A\\u4F20\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" uploadFile\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useCallback\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"file) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u8BA1\\u7B97\\u6587\\u4EF6 Hash\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" calculateHash\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(file);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    setFileHash\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(hash);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u68C0\\u67E5\\u662F\\u5426\\u652F\\u6301\\u79D2\\u4F20\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"isExist\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/api/upload/check'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", { hash });\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (isExist) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      alert\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6587\\u4EF6\\u5DF2\\u5B58\\u5728\\uFF0C\\u79D2\\u4F20\\u6210\\u529F\\uFF01'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u5206\\u7247\\u903B\\u8F91\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" totalChunks\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ceil\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(file.size \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" CHUNK_SIZE\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    for\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" totalChunks; i\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" start\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" CHUNK_SIZE\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" end\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"min\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(start \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" CHUNK_SIZE\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", file.size);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" chunk\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" file.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"slice\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(start, end);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" formData\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" FormData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      formData.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"append\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'chunk'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", chunk);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      formData.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"append\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'hash'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", hash);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      formData.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"append\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'index'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", i.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toString\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      formData.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"append\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'total'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", totalChunks.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toString\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/api/upload/chunk'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", formData, {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        onUploadProgress\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"progressEvent\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"          if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (progressEvent.total) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            setProgress\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((i \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" totalChunks) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 100\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u901A\\u77E5\\u670D\\u52A1\\u7AEF\\u5408\\u5E76\\u5206\\u7247\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'/api/upload/merge'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", { hash, name: file.name });\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    alert\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4E0A\\u4F20\\u6210\\u529F\\uFF01'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [file]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" className\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"p-4\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" type\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"file\"'}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" onChange\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{handleFileChange} \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"className\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"mb-4\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        onClick\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{uploadFile}\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        disabled\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"file}\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        className\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400\"'})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      >\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        \\u4E0A\\u4F20\\u6587\\u4EF6\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" className\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"mt-4\"'}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        \\u4E0A\\u4F20\\u8FDB\\u5EA6\\uFF1A{progress.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toFixed\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")}%\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" FileUploader;\"})]})]})})}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u4F7F\\u7528 Web Worker \\u8BA1\\u7B97 Hash \\u53EF\\u4EE5\\u907F\\u514D\\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\\uFF0C\\u63D0\\u5347\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h4,{id:\"312-\\u8FDB\\u5EA6\\u7BA1\\u7406\\u4E0E\\u9519\\u8BEF\\u91CD\\u8BD5\",children:(0,n.jsx)(l.a,{href:\"#312-\\u8FDB\\u5EA6\\u7BA1\\u7406\\u4E0E\\u9519\\u8BEF\\u91CD\\u8BD5\",children:\"3.1.2 \\u8FDB\\u5EA6\\u7BA1\\u7406\\u4E0E\\u9519\\u8BEF\\u91CD\\u8BD5\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4E3A\\u4E86\\u63D0\\u5347\\u7528\\u6237\\u4F53\\u9A8C\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5B9E\\u65F6\\u8FDB\\u5EA6\\u53CD\\u9988\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"onUploadProgress\"})})})}),\" \\u4E8B\\u4EF6\\u66F4\\u65B0\\u8FDB\\u5EA6\\u6761\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9519\\u8BEF\\u91CD\\u8BD5\\u673A\\u5236\"}),\"\\uFF1A\\u4E3A\\u6BCF\\u4E2A\\u5206\\u7247\\u8BBE\\u7F6E\\u91CD\\u8BD5\\u6B21\\u6570\\uFF08\\u5EFA\\u8BAE 3 \\u6B21\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u72B6\\u6001\\u7BA1\\u7406\"}),\"\\uFF1A\\u4F7F\\u7528 Redux \\u6216 Zustand \\u7BA1\\u7406\\u4E0A\\u4F20\\u72B6\\u6001\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u9519\\u8BEF\\u91CD\\u8BD5\\u903B\\u8F91\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" uploadWithRetry\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  url\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  data\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" FormData\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  maxRetries\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" number\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 3\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"any\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"> {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" retries \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  while\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (retries \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" maxRetries) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(url, data);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" response.data;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      retries\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (retries \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" maxRetries) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"        throw\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\\u4E0A\\u4F20\\u5931\\u8D25\\uFF0C\\u5DF2\\u91CD\\u8BD5 ${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"maxRetries\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"} \\u6B21`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      await\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(resolve, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" retries));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u6307\\u6570\\u9000\\u907F\\uFF08Exponential Backoff\\uFF09\\u662F\\u9519\\u8BEF\\u91CD\\u8BD5\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u80FD\\u6709\\u6548\\u964D\\u4F4E\\u670D\\u52A1\\u7AEF\\u538B\\u529B\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"32-\\u670D\\u52A1\\u7AEFnestjs\\u5065\\u58EE\\u5730\\u5904\\u7406\\u5206\\u7247\",children:(0,n.jsx)(l.a,{href:\"#32-\\u670D\\u52A1\\u7AEFnestjs\\u5065\\u58EE\\u5730\\u5904\\u7406\\u5206\\u7247\",children:\"3.2 \\u670D\\u52A1\\u7AEF\\uFF08NestJS\\uFF09\\uFF1A\\u5065\\u58EE\\u5730\\u5904\\u7406\\u5206\\u7247\"})}),`\n`,(0,n.jsx)(l.h4,{id:\"321-\\u79D2\\u4F20\\u6821\\u9A8C\",children:(0,n.jsx)(l.a,{href:\"#321-\\u79D2\\u4F20\\u6821\\u9A8C\",children:\"3.2.1 \\u79D2\\u4F20\\u6821\\u9A8C\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u670D\\u52A1\\u7AEF\\u9996\\u5148\\u9700\\u8981\\u6821\\u9A8C\\u6587\\u4EF6\\u662F\\u5426\\u5DF2\\u5B58\\u5728\\u3002\\u6211\\u4EEC\\u901A\\u8FC7\\u6587\\u4EF6 Hash \\u67E5\\u8BE2\\u6570\\u636E\\u5E93\\uFF0C\\u82E5\\u5B58\\u5728\\u5219\\u76F4\\u63A5\\u8FD4\\u56DE\\u6210\\u529F\\u3002\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { Controller, Post, Body, UploadedFile, UseInterceptors } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@nestjs/common'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { FileInterceptor } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@nestjs/platform-express'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { UploadService } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './upload.service'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"@\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Controller\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'upload'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" UploadController\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"private\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" readonly\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\" uploadService\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" UploadService\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {}\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Post\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'check'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" checkFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(@\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Body\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'hash'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".uploadService.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"checkFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(hash);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Post\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'chunk'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"UseInterceptors\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"FileInterceptor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'chunk'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" uploadChunk\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"UploadedFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Express\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Multer\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"File\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Body\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'hash'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Body\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'index'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Body\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'total'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"total\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ) {\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".uploadService.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"uploadChunk\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(file, hash, \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"parseInt\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(index), \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"parseInt\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(total));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Post\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'merge'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" mergeChunks\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(@\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Body\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'hash'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Body\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'name'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"name\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".uploadService.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"mergeChunks\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(hash, name);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h4,{id:\"322-\\u5206\\u7247\\u5B58\\u50A8\\u4E0E\\u5408\\u5E76\",children:(0,n.jsx)(l.a,{href:\"#322-\\u5206\\u7247\\u5B58\\u50A8\\u4E0E\\u5408\\u5E76\",children:\"3.2.2 \\u5206\\u7247\\u5B58\\u50A8\\u4E0E\\u5408\\u5E76\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5206\\u7247\\u4E0A\\u4F20\\u65F6\\uFF0C\\u670D\\u52A1\\u7AEF\\u5C06\\u6BCF\\u4E2A\\u5206\\u7247\\u5B58\\u50A8\\u4E3A\\u4E34\\u65F6\\u6587\\u4EF6\\uFF0C\\u5E76\\u8BB0\\u5F55\\u5143\\u6570\\u636E\\u3002\\u5408\\u5E76\\u65F6\\uFF0C\\u5C06\\u6240\\u6709\\u5206\\u7247\\u6309\\u987A\\u5E8F\\u62FC\\u63A5\\u4E3A\\u5B8C\\u6574\\u6587\\u4EF6\\u3002\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { Injectable } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@nestjs/common'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { join } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'path'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { createWriteStream, promises \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" fs } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'fs'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { InjectModel } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@nestjs/mongoose'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { Model } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'mongoose'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { File, FileDocument } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './schemas/file.schema'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"@\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Injectable\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" UploadService\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(@\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"InjectModel\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(File.name) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"private\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\" fileModel\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Model\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"FileDocument\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">) {}\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" checkFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Promise\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"boolean\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"> {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" file\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".fileModel.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"findOne\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ hash });\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" !!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"file;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" uploadChunk\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Express\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Multer\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"File\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" number\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"total\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" number\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" chunkPath\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" join\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'uploads'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'chunks'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}-${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"index\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" fs.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"writeFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(chunkPath, file.buffer);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u66F4\\u65B0\\u5206\\u7247\\u72B6\\u6001\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".fileModel.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"updateOne\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      { hash },\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      { $push: { chunks: { index, path: chunkPath } } },\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      { upsert: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" mergeChunks\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"name\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" file\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".fileModel.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"findOne\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ hash });\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"file) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"throw\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6587\\u4EF6\\u4E0D\\u5B58\\u5728'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" chunks\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" file.chunks.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"sort\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"a\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"b\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" a.index \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" b.index);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" finalPath\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" join\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'uploads'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'files'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"hash\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}-${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" writeStream\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" createWriteStream\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(finalPath);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    for\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" chunk\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" of\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" chunks) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" fs.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"readFile\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(chunk.path);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      writeStream.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"write\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(data);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      await\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" fs.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"unlink\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(chunk.path); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u5220\\u9664\\u4E34\\u65F6\\u5206\\u7247\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    writeStream.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"end\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\".fileModel.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"updateOne\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ hash }, { $set: { path: finalPath, name } });\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u5408\\u5E76\\u5206\\u7247\\u65F6\\uFF0C\\u4F7F\\u7528\\u6D41\\u5F0F\\u5199\\u5165\\uFF08Stream\\uFF09\\u80FD\\u663E\\u8457\\u964D\\u4F4E\\u5185\\u5B58\\u5360\\u7528\\uFF0C\\u9002\\u5408\\u8D85\\u5927\\u6587\\u4EF6\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"33-\\u6570\\u636E\\u5E93schema\\u8BBE\\u8BA1\",children:(0,n.jsx)(l.a,{href:\"#33-\\u6570\\u636E\\u5E93schema\\u8BBE\\u8BA1\",children:\"3.3 \\u6570\\u636E\\u5E93Schema\\u8BBE\\u8BA1\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6211\\u4EEC\\u4F7F\\u7528 MongoDB \\u5B58\\u50A8\\u6587\\u4EF6\\u5143\\u6570\\u636E\\u548C\\u5206\\u7247\\u72B6\\u6001\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { Prop, Schema, SchemaFactory } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" '@nestjs/mongoose'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { Document } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'mongoose'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"@\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Schema\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Chunk\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Prop\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  index\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" number\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Prop\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  path\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"@\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Schema\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" File\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Document\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Prop\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ required: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", unique: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" })\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  hash\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Prop\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  name\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Prop\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  path\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Prop\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([Chunk])\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"  chunks\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Chunk\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"[];\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" FileSchema\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" SchemaFactory.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"createForClass\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(File);\"})]})]})})}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u4E3A Hash \\u5B57\\u6BB5\\u6DFB\\u52A0\\u552F\\u4E00\\u7D22\\u5F15\\uFF0C\\u80FD\\u52A0\\u901F\\u79D2\\u4F20\\u6821\\u9A8C\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"4-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6027\\u80FD\\u4F18\\u5316-\",children:(0,n.jsx)(l.a,{href:\"#4-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6027\\u80FD\\u4F18\\u5316-\",children:\"4. \\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u6027\\u80FD\\u4F18\\u5316 \\u{1F680}\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5B9E\\u73B0\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u53EA\\u662F\\u7B2C\\u4E00\\u6B65\\uFF0C\\u5982\\u4F55\\u8BA9\\u5B83\\u66F4\\u5FEB\\u3001\\u66F4\\u7A33\\u3001\\u66F4\\u4F18\\u96C5\\uFF1F\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5B9E\\u6218\\u7ECF\\u9A8C\\uFF1A\"}),`\n`,(0,n.jsx)(l.h3,{id:\"41-\\u5BA2\\u6237\\u7AEF\\u4F18\\u5316\",children:(0,n.jsx)(l.a,{href:\"#41-\\u5BA2\\u6237\\u7AEF\\u4F18\\u5316\",children:\"4.1 \\u5BA2\\u6237\\u7AEF\\u4F18\\u5316\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5E76\\u884C\\u4E0A\\u4F20\"}),\"\\uFF1A\\u540C\\u65F6\\u4E0A\\u4F20\\u591A\\u4E2A\\u5206\\u7247\\uFF08\\u5EFA\\u8BAE 3~5 \\u4E2A\\uFF09\\uFF0C\\u5229\\u7528\\u6D4F\\u89C8\\u5668\\u591A\\u7EBF\\u7A0B\\u80FD\\u529B\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u52A8\\u6001\\u5206\\u7247\\u5927\\u5C0F\"}),\"\\uFF1A\\u6839\\u636E\\u7F51\\u7EDC\\u72B6\\u51B5\\u8C03\\u6574\\u5206\\u7247\\u5927\\u5C0F\\uFF08\\u6BD4\\u5982\\u5F31\\u7F51\\u73AF\\u5883\\u4E0B\\u51CF\\u5C0F\\u5206\\u7247\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9884\\u4E0A\\u4F20\\u6821\\u9A8C\"}),\"\\uFF1A\\u4E0A\\u4F20\\u524D\\u68C0\\u67E5\\u6587\\u4EF6\\u683C\\u5F0F\\u3001\\u5927\\u5C0F\\uFF0C\\u51CF\\u5C11\\u65E0\\u6548\\u8BF7\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsxs)(l.em,{children:[\"\\u5C0FTips\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"navigator.connection\"})})})}),\" API \\u68C0\\u6D4B\\u7F51\\u7EDC\\u72B6\\u51B5\\uFF0C\\u52A8\\u6001\\u4F18\\u5316\\u4E0A\\u4F20\\u7B56\\u7565\\u3002\"]})}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"42-\\u670D\\u52A1\\u7AEF\\u4F18\\u5316\",children:(0,n.jsx)(l.a,{href:\"#42-\\u670D\\u52A1\\u7AEF\\u4F18\\u5316\",children:\"4.2 \\u670D\\u52A1\\u7AEF\\u4F18\\u5316\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9650\\u6D41\\u4E0E\\u8D1F\\u8F7D\\u5747\\u8861\"}),\"\\uFF1A\\u4E3A\\u4E0A\\u4F20\\u63A5\\u53E3\\u8BBE\\u7F6E QPS \\u9650\\u5236\\uFF0C\\u907F\\u514D\\u670D\\u52A1\\u7AEF\\u8FC7\\u8F7D\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5F02\\u6B65\\u5408\\u5E76\"}),\"\\uFF1A\\u5C06\\u5206\\u7247\\u5408\\u5E76\\u4EFB\\u52A1\\u653E\\u5165\\u6D88\\u606F\\u961F\\u5217\\uFF0C\\u51CF\\u8F7B\\u4E3B\\u7EBF\\u7A0B\\u538B\\u529B\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5206\\u5E03\\u5F0F\\u5B58\\u50A8\"}),\"\\uFF1A\\u4F7F\\u7528 S3 \\u6216 MinIO \\u5B58\\u50A8\\u5927\\u6587\\u4EF6\\uFF0C\\u652F\\u6301\\u9AD8\\u5E76\\u53D1\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u4E3A\\u4E0A\\u4F20\\u63A5\\u53E3\\u542F\\u7528 Gzip \\u538B\\u7F29\\uFF0C\\u80FD\\u6709\\u6548\\u964D\\u4F4E\\u7F51\\u7EDC\\u4F20\\u8F93\\u6210\\u672C\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h3,{id:\"43-\\u7528\\u6237\\u4F53\\u9A8C\\u4F18\\u5316\",children:(0,n.jsx)(l.a,{href:\"#43-\\u7528\\u6237\\u4F53\\u9A8C\\u4F18\\u5316\",children:\"4.3 \\u7528\\u6237\\u4F53\\u9A8C\\u4F18\\u5316\"})}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u8FDB\\u5EA6\\u52A8\\u753B\"}),\"\\uFF1A\\u4F7F\\u7528 CSS \\u52A8\\u753B\\u6216 Lottie \\u5236\\u4F5C\\u4E1D\\u6ED1\\u7684\\u8FDB\\u5EA6\\u6761\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9519\\u8BEF\\u63D0\\u793A\"}),\"\\uFF1A\\u63D0\\u4F9B\\u6E05\\u6670\\u7684\\u9519\\u8BEF\\u4FE1\\u606F\\uFF0C\\u6BD4\\u5982\\u201C\\u7F51\\u7EDC\\u4E2D\\u65AD\\uFF0C\\u8BF7\\u68C0\\u67E5\\u8FDE\\u63A5\\u201D\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u62D6\\u62FD\\u4E0A\\u4F20\"}),\"\\uFF1A\\u652F\\u6301 HTML5 Drag & Drop API\\uFF0C\\u63D0\\u5347\\u4EA4\\u4E92\\u53CB\\u597D\\u6027\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:(0,n.jsx)(l.em,{children:\"\\u5C0FTips\\uFF1A\\u4E3A\\u8FDB\\u5EA6\\u6761\\u6DFB\\u52A0\\u5FAE\\u5999\\u7684\\u201C\\u5047\\u8FDB\\u5EA6\\u201D\\u52A8\\u753B\\uFF0C\\u80FD\\u8BA9\\u7528\\u6237\\u611F\\u77E5\\u66F4\\u5FEB\\u3002\"})}),`\n`]}),`\n`,(0,n.jsx)(l.h2,{id:\"5-\\u54F2\\u5B66\\u601D\\u8003\\u6280\\u672F\\u4E0E\\u4EBA\\u6027\\u7684\\u4EA4\\u6C47-\",children:(0,n.jsx)(l.a,{href:\"#5-\\u54F2\\u5B66\\u601D\\u8003\\u6280\\u672F\\u4E0E\\u4EBA\\u6027\\u7684\\u4EA4\\u6C47-\",children:\"5. \\u54F2\\u5B66\\u601D\\u8003\\uFF1A\\u6280\\u672F\\u4E0E\\u4EBA\\u6027\\u7684\\u4EA4\\u6C47 \\u{1F30C}\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u4E0D\\u4EC5\\u662F\\u6280\\u672F\\u95EE\\u9898\\uFF0C\\u66F4\\u662F\\u5BF9\\u4EBA\\u6027\\u9700\\u6C42\\u7684\\u6DF1\\u523B\\u56DE\\u5E94\\u3002\\u7528\\u6237\\u5E0C\\u671B\\u201C\\u5FEB\\u201D\\u3001\\u5E0C\\u671B\\u201C\\u7A33\\u201D\\u3001\\u5E0C\\u671B\\u201C\\u7B80\\u5355\\u201D\\uFF0C\\u800C\\u6211\\u4EEC\\u4F5C\\u4E3A\\u5F00\\u53D1\\u8005\\uFF0C\\u9700\\u8981\\u5728\\u590D\\u6742\\u6027\\u4E2D\\u5BFB\\u627E\\u5E73\\u8861\\u3002\\u8FD9\\u8BA9\\u6211\\u60F3\\u8D77\\u300A\\u9053\\u5FB7\\u7ECF\\u300B\\u4E2D\\u7684\\u4E00\\u53E5\\u8BDD\\uFF1A\"}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:\"\\u201C\\u4E3A\\u5B66\\u65E5\\u76CA\\uFF0C\\u4E3A\\u9053\\u65E5\\u635F\\uFF0C\\u635F\\u4E4B\\u53C8\\u635F\\uFF0C\\u4EE5\\u81F3\\u4E8E\\u65E0\\u4E3A\\u3002\\u201D\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6280\\u672F\\u7684\\u8FDB\\u6B65\\uFF0C\\u5F80\\u5F80\\u662F\\u4ECE\\u201C\\u590D\\u6742\\u201D\\u8D70\\u5411\\u201C\\u7B80\\u5355\\u201D\\u3002\\u5206\\u7247\\u4E0A\\u4F20\\u3001\\u65AD\\u70B9\\u7EED\\u4F20\\u3001\\u79D2\\u4F20\\uFF0C\\u8FD9\\u4E9B\\u6280\\u672F\\u624B\\u6BB5\\u7684\\u80CC\\u540E\\uFF0C\\u662F\\u5BF9\\u7528\\u6237\\u65F6\\u95F4\\u7684\\u5C0A\\u91CD\\u3001\\u5BF9\\u7CFB\\u7EDF\\u8D44\\u6E90\\u7684\\u73CD\\u89C6\\u3002\\u7AD9\\u5728\\u66F4\\u9AD8\\u7684\\u683C\\u5C40\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u601D\\u8003\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6280\\u672F\\u7684\\u8FB9\\u754C\"}),\"\\uFF1A\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u6781\\u81F4\\u4F18\\u5316\\uFF0C\\u662F\\u5426\\u4F1A\\u8BA9\\u6211\\u4EEC\\u5FFD\\u7565\\u5176\\u4ED6\\u4F53\\u9A8C\\uFF1F\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u4EBA\\u6027\\u7684\\u9700\\u6C42\"}),\"\\uFF1A\\u7528\\u6237\\u771F\\u6B63\\u60F3\\u8981\\u7684\\uFF0C\\u662F\\u901F\\u5EA6\\uFF0C\\u8FD8\\u662F\\u638C\\u63A7\\u611F\\uFF1F\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u8BBE\\u8BA1\\u7684\\u54F2\\u5B66\"}),\"\\uFF1A\\u5982\\u4F55\\u5728\\u529F\\u80FD\\u4E0E\\u7F8E\\u5B66\\u4E4B\\u95F4\\u627E\\u5230\\u5E73\\u8861\\uFF1F\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u8FD9\\u4E9B\\u95EE\\u9898\\u6CA1\\u6709\\u6807\\u51C6\\u7B54\\u6848\\uFF0C\\u4F46\\u5B83\\u4EEC\\u63D0\\u9192\\u6211\\u4EEC\\uFF1A\",(0,n.jsx)(l.strong,{children:\"\\u6280\\u672F\\u4E0D\\u4EC5\\u662F\\u5DE5\\u5177\\uFF0C\\u66F4\\u662F\\u8FDE\\u63A5\\u4EBA\\u4E0E\\u4E16\\u754C\\u7684\\u6865\\u6881\"}),\"\\u3002\"]}),`\n`,(0,n.jsx)(l.h2,{id:\"6-\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\\u8FC8\\u5411\\u66F4\\u5E7F\\u9614\\u7684\\u672A\\u6765-\",children:(0,n.jsx)(l.a,{href:\"#6-\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\\u8FC8\\u5411\\u66F4\\u5E7F\\u9614\\u7684\\u672A\\u6765-\",children:\"6. \\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\\uFF1A\\u8FC8\\u5411\\u66F4\\u5E7F\\u9614\\u7684\\u672A\\u6765 \\u{1F30D}\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u662F\\u4E00\\u95E8\\u827A\\u672F\\uFF0C\\u4E5F\\u662F\\u4E00\\u573A\\u54F2\\u5B66\\u7684\\u4FEE\\u884C\\u3002\\u901A\\u8FC7 React \\u548C NestJS\\uFF0C\\u6211\\u4EEC\\u5B9E\\u73B0\\u4E86\\u5206\\u7247\\u4E0A\\u4F20\\u3001\\u65AD\\u70B9\\u7EED\\u4F20\\u548C\\u79D2\\u4F20\\uFF0C\\u63A2\\u7D22\\u4E86\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u7684\\u5B8C\\u6574\\u8DEF\\u5F84\\u3002\\u4F46\\u8FD9\\u53EA\\u662F\\u5F00\\u59CB\\u3002\\u672A\\u6765\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5F15\\u5165 AI \\u4F18\\u5316\"}),\"\\uFF1A\\u901A\\u8FC7\\u673A\\u5668\\u5B66\\u4E60\\u9884\\u6D4B\\u7F51\\u7EDC\\u72B6\\u51B5\\uFF0C\\u52A8\\u6001\\u8C03\\u6574\\u4E0A\\u4F20\\u7B56\\u7565\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u62E5\\u62B1 Web3\"}),\"\\uFF1A\\u7ED3\\u5408 IPFS \\u5B9E\\u73B0\\u53BB\\u4E2D\\u5FC3\\u5316\\u6587\\u4EF6\\u4E0A\\u4F20\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u63A2\\u7D22\\u65B0\\u534F\\u8BAE\"}),\"\\uFF1A\\u5229\\u7528 WebTransport \\u6216 QUIC \\u63D0\\u5347\\u4F20\\u8F93\\u6548\\u7387\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(l.blockquote,{children:[`\n`,(0,n.jsx)(l.p,{children:\"\\u201C\\u6280\\u672F\\u662F\\u77ED\\u6682\\u7684\\uFF0C\\u601D\\u60F3\\u662F\\u6C38\\u6052\\u7684\\u3002\\u201D \\u2014\\u2014 \\u7075\\u611F\\u6765\\u81EA\\u300A\\u661F\\u9645\\u7A7F\\u8D8A\\u300B\"}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4E0D\\u4EC5\\u4E3A\\u4F60\\u63D0\\u4F9B\\u4E86\\u5B9E\\u7528\\u7684\\u4EE3\\u7801\\u548C\\u5B9E\\u8DF5\\uFF0C\\u66F4\\u70B9\\u71C3\\u4E86\\u4F60\\u5BF9\\u6280\\u672F\\u4E0E\\u54F2\\u5B66\\u7684\\u601D\\u8003\\u706B\\u82B1 \\u{1F525}\\u3002\\u5927\\u6587\\u4EF6\\u4E0A\\u4F20\\u7684\\u65C5\\u7A0B\\uFF0C\\u5C31\\u50CF\\u4E00\\u573A\\u661F\\u9645\\u7A7F\\u8D8A\\uFF0C\\u6211\\u4EEC\\u5728\\u4EE3\\u7801\\u7684\\u5B87\\u5B99\\u4E2D\\u5BFB\\u627E\\u610F\\u4E49\\uFF0C\\u5728\\u590D\\u6742\\u6027\\u4E2D\\u8FFD\\u9010\\u7B80\\u5355\\u3002\\u613F\\u4F60\\u5728\\u8FD9\\u6761\\u8DEF\\u4E0A\\uFF0C\\u4EE3\\u7801\\u4F18\\u96C5\\uFF0C\\u601D\\u60F3\\u81EA\\u7531\\uFF01\"}),`\n`,(0,n.jsx)(l.hr,{})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}return f(k);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/å¤§æ–‡ä»¶ä¸Šä¼ çš„è‰ºæœ¯ä¸å“²å­¦.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/å¤§æ–‡ä»¶ä¸Šä¼ çš„è‰ºæœ¯ä¸å“²å­¦.mdx",
    "sourceFileName": "å¤§æ–‡ä»¶ä¸Šä¼ çš„è‰ºæœ¯ä¸å“²å­¦.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/å¤§æ–‡ä»¶ä¸Šä¼ çš„è‰ºæœ¯ä¸å“²å­¦"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/å¤§æ–‡ä»¶ä¸Šä¼ çš„è‰ºæœ¯ä¸å“²å­¦"
}
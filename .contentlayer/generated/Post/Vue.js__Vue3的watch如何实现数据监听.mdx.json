{
  "title": "Vue3 的 watch 如何实现数据监听?",
  "date": "2023-09-17T00:00:00.000Z",
  "description": "深入解析 Vue3 中 watch 的实现原理，从源码层面剖析其数据监听机制，结合实例带你掌握 watch 的使用与底层逻辑。",
  "keywords": "Vue3, watch, 数据监听, 响应式系统, 源码解析, reactive, effect",
  "author": "晓龙",
  "image": "/images/hero/vue3-watch.jpg",
  "tags": [
    "Vue3",
    "前端开发",
    "响应式编程"
  ],
  "views": 0,
  "likes": 0,
  "category": "Vue.js",
  "body": {
    "raw": "\nVue3 的 `watch` 是前端开发者在处理数据变化时最常用的 API 之一。无论是监听用户输入、响应状态变化，还是触发副作用，`watch` 都以其灵活性和易用性深受喜爱。但你是否想过，这个看似简单的功能背后，Vue3 是如何实现数据监听的？本文将带你从源码层面深入剖析 `watch` 的实现原理，结合实例和个人理解，解锁它的“魔法”。\n\n## 从使用开始：watch 的基本面貌\n\n在深入源码之前，我们先从 `watch` 的使用场景入手，感受一下它的魅力。\n\n### 简单示例：监听单个数据\n\n```javascript\nimport { ref, watch } from \"vue\";\n\nexport default {\n  setup() {\n    const count = ref(0);\n\n    watch(count, (newValue, oldValue) => {\n      console.log(`count 从 ${oldValue} 变为 ${newValue}`);\n    });\n\n    return { count };\n  },\n};\n```\n\n在这个例子中，我们用 `ref` 创建了一个响应式变量 `count`，然后通过 `watch` 监听它的变化。每次 `count` 更新时，回调函数都会被触发，打印新旧值。简单直观，对吧？\n\n### 复杂一点：监听对象属性\n\n```javascript\nimport { reactive, watch } from \"vue\";\n\nexport default {\n  setup() {\n    const state = reactive({ name: \"Vue\", age: 3 });\n\n    watch(\n      () => state.age,\n      (newAge, oldAge) => {\n        console.log(`age 从 ${oldAge} 变为 ${newAge}`);\n      }\n    );\n\n    return { state };\n  },\n};\n```\n\n这里我们用 `reactive` 创建了一个响应式对象，并通过 `watch` 监听 `state.age` 的变化。注意，为了监听对象的某个属性，我们传入了一个 getter 函数 `() => state.age`。\n\n通过这两个例子，你可能已经感受到 `watch` 的灵活性：它既能监听简单变量，也能处理复杂对象。那么，Vue3 是如何实现这种监听的呢？接下来，我们将进入源码的世界。\n\n## 源码解析：watch 的底层逻辑\n\nVue3 的响应式系统建立在 `reactive`、`ref` 和 `effect` 三大支柱之上，而 `watch` 正是基于这些核心模块构建的。要理解 `watch` 的实现，我们需要先搞清楚它的“幕后英雄”——`effect`。\n\n### 核心依赖：Reactive Effect\n\n在 Vue3 中，`effect` 是响应式系统的基石。它本质上是一个副作用函数，当依赖的响应式数据发生变化时，`effect` 会重新执行。`watch` 的实现正是基于 `effect` 的封装。\n\n我们先看看 `watch` 的源码入口（简化版，基于 Vue 3.4.x）：\n\n```javascript\n// vue/src/reactivity/watch.ts\nexport function watch(source, cb, options = {}) {\n  let getter;\n  let oldValue;\n  let newValue;\n\n  // 处理 source 是 ref 或 reactive 对象的情况\n  if (isRef(source)) {\n    getter = () => source.value;\n  } else if (isReactive(source)) {\n    getter = () => source;\n  } else if (isFunction(source)) {\n    getter = source;\n  } else {\n    warn(\"`watch` 只支持 ref、reactive 对象或函数作为 source\");\n    return;\n  }\n\n  // 创建 effect\n  const effect = new ReactiveEffect(getter, () => {\n    newValue = effect.run();\n    cb(newValue, oldValue, onCleanup);\n    oldValue = newValue;\n  });\n\n  // 处理 immediate 和 deep 选项\n  if (options.immediate) {\n    effect.run();\n  } else {\n    oldValue = effect.run();\n  }\n\n  return () => {\n    effect.stop();\n  };\n}\n```\n\n这段代码是 `watch` 的核心逻辑，我们逐步拆解：\n\n1. **参数处理**\n\n   - `source`：监听的目标，可以是 `ref`、`reactive` 对象或 getter 函数。\n   - `cb`：数据变化时的回调函数。\n   - `options`：配置项，如 `immediate`（立即执行）、`deep`（深度监听）等。\n\n2. **getter 的构造**  \n   根据 `source` 的类型，`watch` 会构造一个 `getter` 函数，用于获取监听的值。比如：\n\n   - 如果是 `ref`，则返回 `ref.value`。\n   - 如果是 `reactive` 对象，则直接返回整个对象（配合 `deep` 选项处理）。\n   - 如果是函数，则直接使用用户提供的 getter。\n\n3. **effect 的创建**  \n   `watch` 通过 `ReactiveEffect` 创建一个副作用函数。`effect` 的第一个参数是 `getter`，第二个参数是调度器（scheduler），在数据变化时触发回调。\n\n4. **初始化与执行**\n\n   - 如果设置了 `immediate`，立即运行 `effect`，触发回调。\n   - 否则，先运行一次 `getter` 获取初始值 `oldValue`，等待后续变化。\n\n5. **返回清理函数**  \n   `watch` 返回一个停止监听的函数，调用时会销毁对应的 `effect`。\n\n### 与 effect 的关系\n\n`ReactiveEffect` 是 Vue3 响应式系统的核心类，定义如下（简化版）：\n\n```javascript\nclass ReactiveEffect {\n  constructor(fn, scheduler) {\n    this.fn = fn; // getter 函数\n    this.scheduler = scheduler; // 调度器\n    this.deps = []; // 依赖集合\n    this.active = true; // 是否激活\n  }\n\n  run() {\n    if (!this.active) return;\n    activeEffect = this; // 设置当前 effect\n    const result = this.fn(); // 执行 getter，触发依赖收集\n    return result;\n  }\n\n  stop() {\n    if (this.active) {\n      cleanupEffect(this);\n      this.active = false;\n    }\n  }\n}\n```\n\n当 `getter` 执行时，会触发响应式数据的 `get` 操作（通过 Proxy），从而将当前的 `effect` 收集到依赖列表中。一旦数据变化，`effect` 的 `scheduler` 会被触发，执行回调。\n\n### deep 选项的实现\n\n如果设置了 `deep: true`，`watch` 会递归遍历 `reactive` 对象的所有属性，确保深层嵌套的变化也能触发回调。源码中通过 `traverse` 函数实现：\n\n```javascript\nfunction traverse(value, seen = new Set()) {\n  if (!isObject(value) || seen.has(value)) return value;\n  seen.add(value);\n  for (const key in value) {\n    traverse(value[key], seen);\n  }\n  return value;\n}\n```\n\n在 `getter` 中，`traverse` 会访问对象的每个属性，触发依赖收集，从而实现深度监听。\n\n## 实例进阶：从简单到复杂\n\n为了加深理解，我们来看几个更有代表性的例子。\n\n### 示例 1：表单验证与异步提交\n\n```javascript\nimport { reactive, watch } from \"vue\";\n\nexport default {\n  setup() {\n    const form = reactive({\n      username: \"\",\n      email: \"\",\n      errors: { username: \"\", email: \"\" },\n    });\n\n    // 监听表单字段变化，实时验证\n    watch(\n      () => ({ username: form.username, email: form.email }),\n      async (newValue) => {\n        // 用户名验证\n        if (newValue.username.length < 3) {\n          form.errors.username = \"用户名至少需要3个字符\";\n        } else {\n          // 异步检查用户名是否已存在\n          const isAvailable = await checkUsernameAvailability(\n            newValue.username\n          );\n          form.errors.username = isAvailable ? \"\" : \"用户名已被占用\";\n        }\n\n        // 邮箱验证\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        form.errors.email = emailRegex.test(newValue.email)\n          ? \"\"\n          : \"请输入有效的邮箱地址\";\n      },\n      { deep: true }\n    );\n\n    return { form };\n  },\n};\n```\n\n这里我们监听一个 `reactive` 数组，并设置 `deep: true`。当数组新增元素时，`watch` 会捕获变化并触发回调。注意，`oldList` 和 `newList` 是同一个引用，因为 `reactive` 是代理对象。\n\n### 示例 2：性能优化与防抖\n\n```javascript\nimport { ref, watch } from \"vue\";\n\nexport default {\n  setup() {\n    const searchQuery = ref(\"\");\n    const searchResults = ref([]);\n    const isLoading = ref(false);\n\n    // 使用防抖优化搜索性能\n    let debounceTimer = null;\n\n    watch(searchQuery, async (newQuery) => {\n      if (debounceTimer) clearTimeout(debounceTimer);\n\n      if (newQuery.trim() === \"\") {\n        searchResults.value = [];\n        return;\n      }\n\n      isLoading.value = true;\n\n      // 延迟300ms执行搜索，避免频繁请求\n      debounceTimer = setTimeout(async () => {\n        try {\n          const results = await searchAPI(newQuery);\n          searchResults.value = results;\n        } catch (error) {\n          console.error(\"搜索失败：\", error);\n          searchResults.value = [];\n        } finally {\n          isLoading.value = false;\n        }\n      }, 300);\n    });\n\n    return { searchQuery, searchResults, isLoading };\n  },\n};\n```\n\n在这个例子中，`watch` 只在 `count` 超过某个阈值时触发逻辑，展示了条件触发的灵活性。\n\n### 示例 3：监听多个数据源\n\n```javascript\nimport { ref, watch } from \"vue\";\n\nexport default {\n  setup() {\n    const name = ref(\"Vue\");\n    const age = ref(3);\n\n    watch([name, age], ([newName, newAge], [oldName, oldAge]) => {\n      console.log(\n        `name: ${oldName} -> ${newName}, age: ${oldAge} -> ${newAge}`\n      );\n    });\n\n    setTimeout(() => {\n      name.value = \"React\";\n      age.value = 18;\n    }, 1000);\n\n    return { name, age };\n  },\n};\n```\n\n通过数组形式，`watch` 可以同时监听多个数据源，并在回调中获取所有新旧值。\n\n## 个人理解与心得\n\n从源码和实例中可以看出，`watch` 的设计非常优雅。它不仅复用了 `effect` 的响应式能力，还通过 `getter` 和 `scheduler` 提供了高度的灵活性。相比 Vue2 的 `watch`，Vue3 的实现更模块化、更高效，同时支持更丰富的场景。\n\n在我看来，`watch` 的强大之处在于它将“监听”和“副作用”解耦。你可以把它想象成一个“观察者”，默默等待数据的变化，然后以你指定的方式作出反应。这种设计非常符合现代前端开发的需求，尤其是在状态管理和复杂交互场景中。\n\n当然，`watch` 也有局限性。比如，监听大型对象时，`deep: true` 可能会带来性能开销。这时，合理设计 getter 函数（只监听必要的数据）就显得尤为重要。\n\n## 总结与展望\n\n通过深入探讨 Vue3 的 `watch` 实现原理，我们不仅理解了它的技术架构，更领略到了 Vue 团队在设计 API 时的匠心。从 `effect` 到 `scheduler`，从依赖收集到调度执行，每一个环节都经过精心设计，共同构建出一个优雅而强大的数据监听系统。\n\n### 实践建议\n\n基于实际开发经验，我总结了几点使用建议：\n\n1. **选择合适的监听方式**：根据数据结构和业务需求，合理选择 `watch` 还是 `watchEffect`。前者更适合特定数据的监听，后者则更适合副作用管理。\n\n2. **注意性能影响**：在监听大型对象或频繁变化的数据时，合理使用 `deep` 和 `immediate` 选项，必要时结合防抖和节流优化性能。\n\n3. **资源管理**：养成良好的清理习惯，特别是在处理异步操作和定时器时，确保组件卸载时正确清理所有副作用。\n\n### 未来展望\n\n随着前端技术的发展，数据监听的场景会越来越复杂。Vue3 的 `watch` 实现为我们提供了一个很好的范例：如何在保持 API 简洁的同时，提供足够的灵活性和性能。这种设计思路值得我们在日常开发中借鉴。\n\n最后，我想说的是，理解 `watch` 的实现原理不仅能帮助我们更好地使用它，更重要的是能启发我们思考如何设计出优秀的响应式系统。期待看到更多开发者在这个领域的探索和创新！\n\n---\n",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var a in e)c(l,a,{get:e[a],enumerable:!0})},t=(l,e,a,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!u.call(l,r)&&r!==a&&c(l,r,{get:()=>e[r],enumerable:!(d=E(e,r))||d.enumerable});return l};var m=(l,e,a)=>(a=l!=null?p(g(l)):{},t(e||!l||!l.__esModule?c(a,\"default\",{value:l,enumerable:!0}):a,l)),B=l=>t(c({},\"__esModule\",{value:!0}),l);var s=F((w,i)=>{i.exports=_jsx_runtime});var x={};f(x,{default:()=>o,frontmatter:()=>b});var n=m(s()),b={type:\"Post\",title:\"Vue3 \\u7684 watch \\u5982\\u4F55\\u5B9E\\u73B0\\u6570\\u636E\\u76D1\\u542C?\",date:\"2023-09-17\",description:\"\\u6DF1\\u5165\\u89E3\\u6790 Vue3 \\u4E2D watch \\u7684\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u4ECE\\u6E90\\u7801\\u5C42\\u9762\\u5256\\u6790\\u5176\\u6570\\u636E\\u76D1\\u542C\\u673A\\u5236\\uFF0C\\u7ED3\\u5408\\u5B9E\\u4F8B\\u5E26\\u4F60\\u638C\\u63E1 watch \\u7684\\u4F7F\\u7528\\u4E0E\\u5E95\\u5C42\\u903B\\u8F91\\u3002\",keywords:\"Vue3, watch, \\u6570\\u636E\\u76D1\\u542C, \\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF, \\u6E90\\u7801\\u89E3\\u6790, reactive, effect\",author:\"\\u6653\\u9F99\",image:\"/images/hero/vue3-watch.jpg\",tags:[\"Vue3\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u54CD\\u5E94\\u5F0F\\u7F16\\u7A0B\"],category:\"Vue.js\"};function h(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"Vue3 \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u662F\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u5728\\u5904\\u7406\\u6570\\u636E\\u53D8\\u5316\\u65F6\\u6700\\u5E38\\u7528\\u7684 API \\u4E4B\\u4E00\\u3002\\u65E0\\u8BBA\\u662F\\u76D1\\u542C\\u7528\\u6237\\u8F93\\u5165\\u3001\\u54CD\\u5E94\\u72B6\\u6001\\u53D8\\u5316\\uFF0C\\u8FD8\\u662F\\u89E6\\u53D1\\u526F\\u4F5C\\u7528\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u90FD\\u4EE5\\u5176\\u7075\\u6D3B\\u6027\\u548C\\u6613\\u7528\\u6027\\u6DF1\\u53D7\\u559C\\u7231\\u3002\\u4F46\\u4F60\\u662F\\u5426\\u60F3\\u8FC7\\uFF0C\\u8FD9\\u4E2A\\u770B\\u4F3C\\u7B80\\u5355\\u7684\\u529F\\u80FD\\u80CC\\u540E\\uFF0CVue3 \\u662F\\u5982\\u4F55\\u5B9E\\u73B0\\u6570\\u636E\\u76D1\\u542C\\u7684\\uFF1F\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u4ECE\\u6E90\\u7801\\u5C42\\u9762\\u6DF1\\u5165\\u5256\\u6790 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u7ED3\\u5408\\u5B9E\\u4F8B\\u548C\\u4E2A\\u4EBA\\u7406\\u89E3\\uFF0C\\u89E3\\u9501\\u5B83\\u7684\\u201C\\u9B54\\u6CD5\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4ECE\\u4F7F\\u7528\\u5F00\\u59CBwatch-\\u7684\\u57FA\\u672C\\u9762\\u8C8C\",children:(0,n.jsx)(e.a,{href:\"#\\u4ECE\\u4F7F\\u7528\\u5F00\\u59CBwatch-\\u7684\\u57FA\\u672C\\u9762\\u8C8C\",children:\"\\u4ECE\\u4F7F\\u7528\\u5F00\\u59CB\\uFF1Awatch \\u7684\\u57FA\\u672C\\u9762\\u8C8C\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u6DF1\\u5165\\u6E90\\u7801\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u4ECE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u4F7F\\u7528\\u573A\\u666F\\u5165\\u624B\\uFF0C\\u611F\\u53D7\\u4E00\\u4E0B\\u5B83\\u7684\\u9B45\\u529B\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u7B80\\u5355\\u793A\\u4F8B\\u76D1\\u542C\\u5355\\u4E2A\\u6570\\u636E\",children:(0,n.jsx)(e.a,{href:\"#\\u7B80\\u5355\\u793A\\u4F8B\\u76D1\\u542C\\u5355\\u4E2A\\u6570\\u636E\",children:\"\\u7B80\\u5355\\u793A\\u4F8B\\uFF1A\\u76D1\\u542C\\u5355\\u4E2A\\u6570\\u636E\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { ref, watch } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" count\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count, (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"oldValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`count \\u4ECE ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"oldValue\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u53D8\\u4E3A ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"newValue\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { count };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\\u6211\\u4EEC\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref\"})})})}),\" \\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A\\u54CD\\u5E94\\u5F0F\\u53D8\\u91CF \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\"\\uFF0C\\u7136\\u540E\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u76D1\\u542C\\u5B83\\u7684\\u53D8\\u5316\\u3002\\u6BCF\\u6B21 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\" \\u66F4\\u65B0\\u65F6\\uFF0C\\u56DE\\u8C03\\u51FD\\u6570\\u90FD\\u4F1A\\u88AB\\u89E6\\u53D1\\uFF0C\\u6253\\u5370\\u65B0\\u65E7\\u503C\\u3002\\u7B80\\u5355\\u76F4\\u89C2\\uFF0C\\u5BF9\\u5427\\uFF1F\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u590D\\u6742\\u4E00\\u70B9\\u76D1\\u542C\\u5BF9\\u8C61\\u5C5E\\u6027\",children:(0,n.jsx)(e.a,{href:\"#\\u590D\\u6742\\u4E00\\u70B9\\u76D1\\u542C\\u5BF9\\u8C61\\u5C5E\\u6027\",children:\"\\u590D\\u6742\\u4E00\\u70B9\\uFF1A\\u76D1\\u542C\\u5BF9\\u8C61\\u5C5E\\u6027\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { reactive, watch } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" state\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", age: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state.age,\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newAge\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"oldAge\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`age \\u4ECE ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"oldAge\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u53D8\\u4E3A ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"newAge\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { state };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\u6211\\u4EEC\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A\\u54CD\\u5E94\\u5F0F\\u5BF9\\u8C61\\uFF0C\\u5E76\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"state.age\"})})})}),\" \\u7684\\u53D8\\u5316\\u3002\\u6CE8\\u610F\\uFF0C\\u4E3A\\u4E86\\u76D1\\u542C\\u5BF9\\u8C61\\u7684\\u67D0\\u4E2A\\u5C5E\\u6027\\uFF0C\\u6211\\u4EEC\\u4F20\\u5165\\u4E86\\u4E00\\u4E2A getter \\u51FD\\u6570 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"() => state.age\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u8FD9\\u4E24\\u4E2A\\u4F8B\\u5B50\\uFF0C\\u4F60\\u53EF\\u80FD\\u5DF2\\u7ECF\\u611F\\u53D7\\u5230 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u7075\\u6D3B\\u6027\\uFF1A\\u5B83\\u65E2\\u80FD\\u76D1\\u542C\\u7B80\\u5355\\u53D8\\u91CF\\uFF0C\\u4E5F\\u80FD\\u5904\\u7406\\u590D\\u6742\\u5BF9\\u8C61\\u3002\\u90A3\\u4E48\\uFF0CVue3 \\u662F\\u5982\\u4F55\\u5B9E\\u73B0\\u8FD9\\u79CD\\u76D1\\u542C\\u7684\\u5462\\uFF1F\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u8FDB\\u5165\\u6E90\\u7801\\u7684\\u4E16\\u754C\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6E90\\u7801\\u89E3\\u6790watch-\\u7684\\u5E95\\u5C42\\u903B\\u8F91\",children:(0,n.jsx)(e.a,{href:\"#\\u6E90\\u7801\\u89E3\\u6790watch-\\u7684\\u5E95\\u5C42\\u903B\\u8F91\",children:\"\\u6E90\\u7801\\u89E3\\u6790\\uFF1Awatch \\u7684\\u5E95\\u5C42\\u903B\\u8F91\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Vue3 \\u7684\\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u5EFA\\u7ACB\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u4E09\\u5927\\u652F\\u67F1\\u4E4B\\u4E0A\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u6B63\\u662F\\u57FA\\u4E8E\\u8FD9\\u4E9B\\u6838\\u5FC3\\u6A21\\u5757\\u6784\\u5EFA\\u7684\\u3002\\u8981\\u7406\\u89E3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u5B9E\\u73B0\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5148\\u641E\\u6E05\\u695A\\u5B83\\u7684\\u201C\\u5E55\\u540E\\u82F1\\u96C4\\u201D\\u2014\\u2014\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u6838\\u5FC3\\u4F9D\\u8D56reactive-effect\",children:(0,n.jsx)(e.a,{href:\"#\\u6838\\u5FC3\\u4F9D\\u8D56reactive-effect\",children:\"\\u6838\\u5FC3\\u4F9D\\u8D56\\uFF1AReactive Effect\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 Vue3 \\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u662F\\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u7684\\u57FA\\u77F3\\u3002\\u5B83\\u672C\\u8D28\\u4E0A\\u662F\\u4E00\\u4E2A\\u526F\\u4F5C\\u7528\\u51FD\\u6570\\uFF0C\\u5F53\\u4F9D\\u8D56\\u7684\\u54CD\\u5E94\\u5F0F\\u6570\\u636E\\u53D1\\u751F\\u53D8\\u5316\\u65F6\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u4F1A\\u91CD\\u65B0\\u6267\\u884C\\u3002\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u6B63\\u662F\\u57FA\\u4E8E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u7684\\u5C01\\u88C5\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u5148\\u770B\\u770B \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u6E90\\u7801\\u5165\\u53E3\\uFF08\\u7B80\\u5316\\u7248\\uFF0C\\u57FA\\u4E8E Vue 3.4.x\\uFF09\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// vue/src/reactivity/watch.ts\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"source\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cb\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" getter;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" oldValue;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" newValue;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5904\\u7406 source \\u662F ref \\u6216 reactive \\u5BF9\\u8C61\\u7684\\u60C5\\u51B5\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(source)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    getter\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" source.value;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isReactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(source)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    getter\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" source;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isFunction\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(source)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    getter \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" source;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    warn\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"`watch` \\u53EA\\u652F\\u6301 ref\\u3001reactive \\u5BF9\\u8C61\\u6216\\u51FD\\u6570\\u4F5C\\u4E3A source\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u521B\\u5EFA effect\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" effect\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ReactiveEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(getter, () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    newValue \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" effect.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"run\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    cb\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newValue, oldValue, onCleanup);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    oldValue \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" newValue;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5904\\u7406 immediate \\u548C deep \\u9009\\u9879\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (options.immediate) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    effect.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"run\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    oldValue \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" effect.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"run\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    effect.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6BB5\\u4EE3\\u7801\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u6838\\u5FC3\\u903B\\u8F91\\uFF0C\\u6211\\u4EEC\\u9010\\u6B65\\u62C6\\u89E3\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u53C2\\u6570\\u5904\\u7406\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"source\"})})})}),\"\\uFF1A\\u76D1\\u542C\\u7684\\u76EE\\u6807\\uFF0C\\u53EF\\u4EE5\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u5BF9\\u8C61\\u6216 getter \\u51FD\\u6570\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cb\"})})})}),\"\\uFF1A\\u6570\\u636E\\u53D8\\u5316\\u65F6\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"options\"})})})}),\"\\uFF1A\\u914D\\u7F6E\\u9879\\uFF0C\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"immediate\"})})})}),\"\\uFF08\\u7ACB\\u5373\\u6267\\u884C\\uFF09\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"deep\"})})})}),\"\\uFF08\\u6DF1\\u5EA6\\u76D1\\u542C\\uFF09\\u7B49\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"getter \\u7684\\u6784\\u9020\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u6839\\u636E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"source\"})})})}),\" \\u7684\\u7C7B\\u578B\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u4F1A\\u6784\\u9020\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getter\"})})})}),\" \\u51FD\\u6570\\uFF0C\\u7528\\u4E8E\\u83B7\\u53D6\\u76D1\\u542C\\u7684\\u503C\\u3002\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref\"})})})}),\"\\uFF0C\\u5219\\u8FD4\\u56DE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref.value\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u5BF9\\u8C61\\uFF0C\\u5219\\u76F4\\u63A5\\u8FD4\\u56DE\\u6574\\u4E2A\\u5BF9\\u8C61\\uFF08\\u914D\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"deep\"})})})}),\" \\u9009\\u9879\\u5904\\u7406\\uFF09\\u3002\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5982\\u679C\\u662F\\u51FD\\u6570\\uFF0C\\u5219\\u76F4\\u63A5\\u4F7F\\u7528\\u7528\\u6237\\u63D0\\u4F9B\\u7684 getter\\u3002\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"effect \\u7684\\u521B\\u5EFA\"}),(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ReactiveEffect\"})})})}),\" \\u521B\\u5EFA\\u4E00\\u4E2A\\u526F\\u4F5C\\u7528\\u51FD\\u6570\\u3002\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u7684\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getter\"})})})}),\"\\uFF0C\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u662F\\u8C03\\u5EA6\\u5668\\uFF08scheduler\\uFF09\\uFF0C\\u5728\\u6570\\u636E\\u53D8\\u5316\\u65F6\\u89E6\\u53D1\\u56DE\\u8C03\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u521D\\u59CB\\u5316\\u4E0E\\u6267\\u884C\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u8BBE\\u7F6E\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"immediate\"})})})}),\"\\uFF0C\\u7ACB\\u5373\\u8FD0\\u884C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\"\\uFF0C\\u89E6\\u53D1\\u56DE\\u8C03\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5426\\u5219\\uFF0C\\u5148\\u8FD0\\u884C\\u4E00\\u6B21 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getter\"})})})}),\" \\u83B7\\u53D6\\u521D\\u59CB\\u503C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"oldValue\"})})})}),\"\\uFF0C\\u7B49\\u5F85\\u540E\\u7EED\\u53D8\\u5316\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FD4\\u56DE\\u6E05\\u7406\\u51FD\\u6570\"}),(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u8FD4\\u56DE\\u4E00\\u4E2A\\u505C\\u6B62\\u76D1\\u542C\\u7684\\u51FD\\u6570\\uFF0C\\u8C03\\u7528\\u65F6\\u4F1A\\u9500\\u6BC1\\u5BF9\\u5E94\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4E0E-effect-\\u7684\\u5173\\u7CFB\",children:(0,n.jsx)(e.a,{href:\"#\\u4E0E-effect-\\u7684\\u5173\\u7CFB\",children:\"\\u4E0E effect \\u7684\\u5173\\u7CFB\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ReactiveEffect\"})})})}),\" \\u662F Vue3 \\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u7684\\u6838\\u5FC3\\u7C7B\\uFF0C\\u5B9A\\u4E49\\u5982\\u4E0B\\uFF08\\u7B80\\u5316\\u7248\\uFF09\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ReactiveEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"scheduler\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".fn \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" fn; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// getter \\u51FD\\u6570\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".scheduler \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" scheduler; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8C03\\u5EA6\\u5668\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".deps \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" []; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F9D\\u8D56\\u96C6\\u5408\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".active \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u662F\\u5426\\u6FC0\\u6D3B\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  run\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".active) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    activeEffect \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8BBE\\u7F6E\\u5F53\\u524D effect\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" result\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fn\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6267\\u884C getter\\uFF0C\\u89E6\\u53D1\\u4F9D\\u8D56\\u6536\\u96C6\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" result;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  stop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".active) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      cleanupEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".active \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getter\"})})})}),\" \\u6267\\u884C\\u65F6\\uFF0C\\u4F1A\\u89E6\\u53D1\\u54CD\\u5E94\\u5F0F\\u6570\\u636E\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"get\"})})})}),\" \\u64CD\\u4F5C\\uFF08\\u901A\\u8FC7 Proxy\\uFF09\\uFF0C\\u4ECE\\u800C\\u5C06\\u5F53\\u524D\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u6536\\u96C6\\u5230\\u4F9D\\u8D56\\u5217\\u8868\\u4E2D\\u3002\\u4E00\\u65E6\\u6570\\u636E\\u53D8\\u5316\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scheduler\"})})})}),\" \\u4F1A\\u88AB\\u89E6\\u53D1\\uFF0C\\u6267\\u884C\\u56DE\\u8C03\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"deep-\\u9009\\u9879\\u7684\\u5B9E\\u73B0\",children:(0,n.jsx)(e.a,{href:\"#deep-\\u9009\\u9879\\u7684\\u5B9E\\u73B0\",children:\"deep \\u9009\\u9879\\u7684\\u5B9E\\u73B0\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u8BBE\\u7F6E\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"deep: true\"})})})}),\"\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u4F1A\\u9012\\u5F52\\u904D\\u5386 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u5BF9\\u8C61\\u7684\\u6240\\u6709\\u5C5E\\u6027\\uFF0C\\u786E\\u4FDD\\u6DF1\\u5C42\\u5D4C\\u5957\\u7684\\u53D8\\u5316\\u4E5F\\u80FD\\u89E6\\u53D1\\u56DE\\u8C03\\u3002\\u6E90\\u7801\\u4E2D\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"traverse\"})})})}),\" \\u51FD\\u6570\\u5B9E\\u73B0\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" traverse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"seen\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Set\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isObject\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" seen.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"has\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value)) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" value;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  seen.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" key\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" in\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" value) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    traverse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(value[key], seen);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" value;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getter\"})})})}),\" \\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"traverse\"})})})}),\" \\u4F1A\\u8BBF\\u95EE\\u5BF9\\u8C61\\u7684\\u6BCF\\u4E2A\\u5C5E\\u6027\\uFF0C\\u89E6\\u53D1\\u4F9D\\u8D56\\u6536\\u96C6\\uFF0C\\u4ECE\\u800C\\u5B9E\\u73B0\\u6DF1\\u5EA6\\u76D1\\u542C\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5B9E\\u4F8B\\u8FDB\\u9636\\u4ECE\\u7B80\\u5355\\u5230\\u590D\\u6742\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u4F8B\\u8FDB\\u9636\\u4ECE\\u7B80\\u5355\\u5230\\u590D\\u6742\",children:\"\\u5B9E\\u4F8B\\u8FDB\\u9636\\uFF1A\\u4ECE\\u7B80\\u5355\\u5230\\u590D\\u6742\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u52A0\\u6DF1\\u7406\\u89E3\\uFF0C\\u6211\\u4EEC\\u6765\\u770B\\u51E0\\u4E2A\\u66F4\\u6709\\u4EE3\\u8868\\u6027\\u7684\\u4F8B\\u5B50\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u793A\\u4F8B-1\\u8868\\u5355\\u9A8C\\u8BC1\\u4E0E\\u5F02\\u6B65\\u63D0\\u4EA4\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-1\\u8868\\u5355\\u9A8C\\u8BC1\\u4E0E\\u5F02\\u6B65\\u63D0\\u4EA4\",children:\"\\u793A\\u4F8B 1\\uFF1A\\u8868\\u5355\\u9A8C\\u8BC1\\u4E0E\\u5F02\\u6B65\\u63D0\\u4EA4\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { reactive, watch } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" form\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      email: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      errors: { username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", email: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u76D1\\u542C\\u8868\\u5355\\u5B57\\u6BB5\\u53D8\\u5316\\uFF0C\\u5B9E\\u65F6\\u9A8C\\u8BC1\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ username: form.username, email: form.email }),\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u7528\\u6237\\u540D\\u9A8C\\u8BC1\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (newValue.username.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 3\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          form.errors.username \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\\u7528\\u6237\\u540D\\u81F3\\u5C11\\u9700\\u89813\\u4E2A\\u5B57\\u7B26\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"          // \\u5F02\\u6B65\\u68C0\\u67E5\\u7528\\u6237\\u540D\\u662F\\u5426\\u5DF2\\u5B58\\u5728\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" isAvailable\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" checkUsernameAvailability\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            newValue.username\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          );\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          form.errors.username \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" isAvailable \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\"'}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\\u7528\\u6237\\u540D\\u5DF2\\u88AB\\u5360\\u7528\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u90AE\\u7BB1\\u9A8C\\u8BC1\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" emailRegex\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"^\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"[\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"^\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"\\\\s@]\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\"@\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"[\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"^\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"\\\\s@]\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\",fontWeight:\"bold\"},children:\"\\\\.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"[\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"^\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"\\\\s@]\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+$\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        form.errors.email \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" emailRegex.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"test\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newValue.email)\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          ?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\\u8BF7\\u8F93\\u5165\\u6709\\u6548\\u7684\\u90AE\\u7BB1\\u5730\\u5740\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      { deep: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { form };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\u6211\\u4EEC\\u76D1\\u542C\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u6570\\u7EC4\\uFF0C\\u5E76\\u8BBE\\u7F6E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"deep: true\"})})})}),\"\\u3002\\u5F53\\u6570\\u7EC4\\u65B0\\u589E\\u5143\\u7D20\\u65F6\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u4F1A\\u6355\\u83B7\\u53D8\\u5316\\u5E76\\u89E6\\u53D1\\u56DE\\u8C03\\u3002\\u6CE8\\u610F\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"oldList\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"newList\"})})})}),\" \\u662F\\u540C\\u4E00\\u4E2A\\u5F15\\u7528\\uFF0C\\u56E0\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u662F\\u4EE3\\u7406\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u793A\\u4F8B-2\\u6027\\u80FD\\u4F18\\u5316\\u4E0E\\u9632\\u6296\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-2\\u6027\\u80FD\\u4F18\\u5316\\u4E0E\\u9632\\u6296\",children:\"\\u793A\\u4F8B 2\\uFF1A\\u6027\\u80FD\\u4F18\\u5316\\u4E0E\\u9632\\u6296\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { ref, watch } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" searchQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" searchResults\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" isLoading\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u4F7F\\u7528\\u9632\\u6296\\u4F18\\u5316\\u641C\\u7D22\\u6027\\u80FD\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" debounceTimer \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(searchQuery, \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (debounceTimer) \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"clearTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(debounceTimer);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (newQuery.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"trim\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        searchResults.value \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      isLoading.value \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"      // \\u5EF6\\u8FDF300ms\\u6267\\u884C\\u641C\\u7D22\\uFF0C\\u907F\\u514D\\u9891\\u7E41\\u8BF7\\u6C42\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      debounceTimer \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        try\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" results\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" searchAPI\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newQuery);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          searchResults.value \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" results;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u641C\\u7D22\\u5931\\u8D25\\uFF1A\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          searchResults.value \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"finally\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          isLoading.value \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"300\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { searchQuery, searchResults, isLoading };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u53EA\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\" \\u8D85\\u8FC7\\u67D0\\u4E2A\\u9608\\u503C\\u65F6\\u89E6\\u53D1\\u903B\\u8F91\\uFF0C\\u5C55\\u793A\\u4E86\\u6761\\u4EF6\\u89E6\\u53D1\\u7684\\u7075\\u6D3B\\u6027\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u793A\\u4F8B-3\\u76D1\\u542C\\u591A\\u4E2A\\u6570\\u636E\\u6E90\",children:(0,n.jsx)(e.a,{href:\"#\\u793A\\u4F8B-3\\u76D1\\u542C\\u591A\\u4E2A\\u6570\\u636E\\u6E90\",children:\"\\u793A\\u4F8B 3\\uFF1A\\u76D1\\u542C\\u591A\\u4E2A\\u6570\\u636E\\u6E90\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { ref, watch } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" name\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Vue\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" age\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([name, age], ([\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newName\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newAge\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"], [\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"oldName\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"oldAge\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"        `name: ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"oldName\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} -> ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"newName\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}, age: ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"oldAge\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} -> ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"newAge\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      name.value \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"React\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      age.value \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 18\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { name, age };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u6570\\u7EC4\\u5F62\\u5F0F\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u53EF\\u4EE5\\u540C\\u65F6\\u76D1\\u542C\\u591A\\u4E2A\\u6570\\u636E\\u6E90\\uFF0C\\u5E76\\u5728\\u56DE\\u8C03\\u4E2D\\u83B7\\u53D6\\u6240\\u6709\\u65B0\\u65E7\\u503C\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E2A\\u4EBA\\u7406\\u89E3\\u4E0E\\u5FC3\\u5F97\",children:(0,n.jsx)(e.a,{href:\"#\\u4E2A\\u4EBA\\u7406\\u89E3\\u4E0E\\u5FC3\\u5F97\",children:\"\\u4E2A\\u4EBA\\u7406\\u89E3\\u4E0E\\u5FC3\\u5F97\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4ECE\\u6E90\\u7801\\u548C\\u5B9E\\u4F8B\\u4E2D\\u53EF\\u4EE5\\u770B\\u51FA\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u8BBE\\u8BA1\\u975E\\u5E38\\u4F18\\u96C5\\u3002\\u5B83\\u4E0D\\u4EC5\\u590D\\u7528\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u7684\\u54CD\\u5E94\\u5F0F\\u80FD\\u529B\\uFF0C\\u8FD8\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getter\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scheduler\"})})})}),\" \\u63D0\\u4F9B\\u4E86\\u9AD8\\u5EA6\\u7684\\u7075\\u6D3B\\u6027\\u3002\\u76F8\\u6BD4 Vue2 \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\"\\uFF0CVue3 \\u7684\\u5B9E\\u73B0\\u66F4\\u6A21\\u5757\\u5316\\u3001\\u66F4\\u9AD8\\u6548\\uFF0C\\u540C\\u65F6\\u652F\\u6301\\u66F4\\u4E30\\u5BCC\\u7684\\u573A\\u666F\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u6211\\u770B\\u6765\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u5F3A\\u5927\\u4E4B\\u5904\\u5728\\u4E8E\\u5B83\\u5C06\\u201C\\u76D1\\u542C\\u201D\\u548C\\u201C\\u526F\\u4F5C\\u7528\\u201D\\u89E3\\u8026\\u3002\\u4F60\\u53EF\\u4EE5\\u628A\\u5B83\\u60F3\\u8C61\\u6210\\u4E00\\u4E2A\\u201C\\u89C2\\u5BDF\\u8005\\u201D\\uFF0C\\u9ED8\\u9ED8\\u7B49\\u5F85\\u6570\\u636E\\u7684\\u53D8\\u5316\\uFF0C\\u7136\\u540E\\u4EE5\\u4F60\\u6307\\u5B9A\\u7684\\u65B9\\u5F0F\\u4F5C\\u51FA\\u53CD\\u5E94\\u3002\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u975E\\u5E38\\u7B26\\u5408\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u9700\\u6C42\\uFF0C\\u5C24\\u5176\\u662F\\u5728\\u72B6\\u6001\\u7BA1\\u7406\\u548C\\u590D\\u6742\\u4EA4\\u4E92\\u573A\\u666F\\u4E2D\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u7136\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u4E5F\\u6709\\u5C40\\u9650\\u6027\\u3002\\u6BD4\\u5982\\uFF0C\\u76D1\\u542C\\u5927\\u578B\\u5BF9\\u8C61\\u65F6\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"deep: true\"})})})}),\" \\u53EF\\u80FD\\u4F1A\\u5E26\\u6765\\u6027\\u80FD\\u5F00\\u9500\\u3002\\u8FD9\\u65F6\\uFF0C\\u5408\\u7406\\u8BBE\\u8BA1 getter \\u51FD\\u6570\\uFF08\\u53EA\\u76D1\\u542C\\u5FC5\\u8981\\u7684\\u6570\\u636E\\uFF09\\u5C31\\u663E\\u5F97\\u5C24\\u4E3A\\u91CD\\u8981\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\",children:\"\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u6DF1\\u5165\\u63A2\\u8BA8 Vue3 \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u6211\\u4EEC\\u4E0D\\u4EC5\\u7406\\u89E3\\u4E86\\u5B83\\u7684\\u6280\\u672F\\u67B6\\u6784\\uFF0C\\u66F4\\u9886\\u7565\\u5230\\u4E86 Vue \\u56E2\\u961F\\u5728\\u8BBE\\u8BA1 API \\u65F6\\u7684\\u5320\\u5FC3\\u3002\\u4ECE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\" \\u5230 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"scheduler\"})})})}),\"\\uFF0C\\u4ECE\\u4F9D\\u8D56\\u6536\\u96C6\\u5230\\u8C03\\u5EA6\\u6267\\u884C\\uFF0C\\u6BCF\\u4E00\\u4E2A\\u73AF\\u8282\\u90FD\\u7ECF\\u8FC7\\u7CBE\\u5FC3\\u8BBE\\u8BA1\\uFF0C\\u5171\\u540C\\u6784\\u5EFA\\u51FA\\u4E00\\u4E2A\\u4F18\\u96C5\\u800C\\u5F3A\\u5927\\u7684\\u6570\\u636E\\u76D1\\u542C\\u7CFB\\u7EDF\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u5B9E\\u8DF5\\u5EFA\\u8BAE\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u8DF5\\u5EFA\\u8BAE\",children:\"\\u5B9E\\u8DF5\\u5EFA\\u8BAE\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u57FA\\u4E8E\\u5B9E\\u9645\\u5F00\\u53D1\\u7ECF\\u9A8C\\uFF0C\\u6211\\u603B\\u7ED3\\u4E86\\u51E0\\u70B9\\u4F7F\\u7528\\u5EFA\\u8BAE\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u9009\\u62E9\\u5408\\u9002\\u7684\\u76D1\\u542C\\u65B9\\u5F0F\"}),\"\\uFF1A\\u6839\\u636E\\u6570\\u636E\\u7ED3\\u6784\\u548C\\u4E1A\\u52A1\\u9700\\u6C42\\uFF0C\\u5408\\u7406\\u9009\\u62E9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u8FD8\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\"\\u3002\\u524D\\u8005\\u66F4\\u9002\\u5408\\u7279\\u5B9A\\u6570\\u636E\\u7684\\u76D1\\u542C\\uFF0C\\u540E\\u8005\\u5219\\u66F4\\u9002\\u5408\\u526F\\u4F5C\\u7528\\u7BA1\\u7406\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6CE8\\u610F\\u6027\\u80FD\\u5F71\\u54CD\"}),\"\\uFF1A\\u5728\\u76D1\\u542C\\u5927\\u578B\\u5BF9\\u8C61\\u6216\\u9891\\u7E41\\u53D8\\u5316\\u7684\\u6570\\u636E\\u65F6\\uFF0C\\u5408\\u7406\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"deep\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"immediate\"})})})}),\" \\u9009\\u9879\\uFF0C\\u5FC5\\u8981\\u65F6\\u7ED3\\u5408\\u9632\\u6296\\u548C\\u8282\\u6D41\\u4F18\\u5316\\u6027\\u80FD\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8D44\\u6E90\\u7BA1\\u7406\"}),\"\\uFF1A\\u517B\\u6210\\u826F\\u597D\\u7684\\u6E05\\u7406\\u4E60\\u60EF\\uFF0C\\u7279\\u522B\\u662F\\u5728\\u5904\\u7406\\u5F02\\u6B65\\u64CD\\u4F5C\\u548C\\u5B9A\\u65F6\\u5668\\u65F6\\uFF0C\\u786E\\u4FDD\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u6B63\\u786E\\u6E05\\u7406\\u6240\\u6709\\u526F\\u4F5C\\u7528\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u672A\\u6765\\u5C55\\u671B\",children:(0,n.jsx)(e.a,{href:\"#\\u672A\\u6765\\u5C55\\u671B\",children:\"\\u672A\\u6765\\u5C55\\u671B\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u968F\\u7740\\u524D\\u7AEF\\u6280\\u672F\\u7684\\u53D1\\u5C55\\uFF0C\\u6570\\u636E\\u76D1\\u542C\\u7684\\u573A\\u666F\\u4F1A\\u8D8A\\u6765\\u8D8A\\u590D\\u6742\\u3002Vue3 \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u5B9E\\u73B0\\u4E3A\\u6211\\u4EEC\\u63D0\\u4F9B\\u4E86\\u4E00\\u4E2A\\u5F88\\u597D\\u7684\\u8303\\u4F8B\\uFF1A\\u5982\\u4F55\\u5728\\u4FDD\\u6301 API \\u7B80\\u6D01\\u7684\\u540C\\u65F6\\uFF0C\\u63D0\\u4F9B\\u8DB3\\u591F\\u7684\\u7075\\u6D3B\\u6027\\u548C\\u6027\\u80FD\\u3002\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u601D\\u8DEF\\u503C\\u5F97\\u6211\\u4EEC\\u5728\\u65E5\\u5E38\\u5F00\\u53D1\\u4E2D\\u501F\\u9274\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6700\\u540E\\uFF0C\\u6211\\u60F3\\u8BF4\\u7684\\u662F\\uFF0C\\u7406\\u89E3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u5B9E\\u73B0\\u539F\\u7406\\u4E0D\\u4EC5\\u80FD\\u5E2E\\u52A9\\u6211\\u4EEC\\u66F4\\u597D\\u5730\\u4F7F\\u7528\\u5B83\\uFF0C\\u66F4\\u91CD\\u8981\\u7684\\u662F\\u80FD\\u542F\\u53D1\\u6211\\u4EEC\\u601D\\u8003\\u5982\\u4F55\\u8BBE\\u8BA1\\u51FA\\u4F18\\u79C0\\u7684\\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u3002\\u671F\\u5F85\\u770B\\u5230\\u66F4\\u591A\\u5F00\\u53D1\\u8005\\u5728\\u8FD9\\u4E2A\\u9886\\u57DF\\u7684\\u63A2\\u7D22\\u548C\\u521B\\u65B0\\uFF01\"]}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(h,{...l})}):h(l)}return B(x);})();\n;return Component;"
  },
  "_id": "Vue.js/Vue3的watch如何实现数据监听.mdx",
  "_raw": {
    "sourceFilePath": "Vue.js/Vue3的watch如何实现数据监听.mdx",
    "sourceFileName": "Vue3的watch如何实现数据监听.mdx",
    "sourceFileDir": "Vue.js",
    "contentType": "mdx",
    "flattenedPath": "Vue.js/Vue3的watch如何实现数据监听"
  },
  "type": "Post",
  "url": "/blog/Vue.js/Vue3的watch如何实现数据监听"
}
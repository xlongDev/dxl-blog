{
  "title": "Next.js 避坑指南",
  "date": "2024-10-04T00:00:00.000Z",
  "description": "深入探讨 Next.js 开发中常见的坑点与解决方案，涵盖路由、数据获取、性能优化、部署等方面，结合原理和实例帮你少走弯路。",
  "keywords": "Next.js, React, 服务端渲染, SSR, 数据获取, 性能优化, 部署, 前端开发",
  "author": "晓龙",
  "image": "/images/hero/nextjs-pitfalls.jpg",
  "tags": [
    "Next.js",
    "React",
    "前端开发"
  ],
  "views": 0,
  "likes": 0,
  "category": "Next.js",
  "body": {
    "raw": "\nNext.js 是现代前端开发中最流行的 React 框架之一，凭借其强大的服务端渲染（SSR）、静态站点生成（SSG）和开箱即用的功能，赢得了无数开发者的青睐。然而，正如任何工具一样，Next.js 也有它的“坑”。这些坑可能是框架设计的权衡，也可能是开发者对原理理解不足导致的误用。本文将带你深入剖析 Next.js 开发中的常见陷阱，并提供解决方案和最佳实践，帮你在项目中少走弯路。\n\n## 1. 路由与页面管理的那些坑\n\n### 1.1 动态路由的“未定义”噩梦\n\nNext.js 的动态路由（如 `[id].js`）非常强大，但稍不注意就会踩坑。假设你有一个动态路由文件 `pages/posts/[id].js`，代码如下：\n\n```javascript\nexport async function getServerSideProps({ params }) {\n  const post = await fetchPost(params.id);\n  return { props: { post } };\n}\n\nexport default function Post({ post }) {\n  return <div>{post.title}</div>;\n}\n```\n\n表面上看没问题，但如果 `params.id` 是未定义（比如用户直接访问 `/posts/` 而不是 `/posts/123`），`fetchPost` 可能会抛出异常，甚至导致页面崩溃。\n\n**为什么会这样？**  \nNext.js 的文件系统路由严格依赖文件名约定，`[id].js` 表示 `id` 是必需参数。如果请求路径不匹配，Next.js 不会自动抛出 404，而是将 `params.id` 设为 `undefined`，交给开发者处理。\n\n**解决方案：**  \n在 `getServerSideProps` 中显式检查参数：\n\n```javascript\nexport async function getServerSideProps({ params }) {\n  if (!params?.id) {\n    return { notFound: true }; // 返回 404\n  }\n  const post = await fetchPost(params.id);\n  return { props: { post } };\n}\n```\n\n**最佳实践：**  \n对于可选参数，使用嵌套路由（如 `pages/posts/[id]/index.js` 和 `pages/posts/index.js`）来区分必选和可选场景。\n\n### 1.2 页面刷新后客户端状态丢失\n\nNext.js 的混合渲染模式（SSR + CSR）让很多人误以为页面刷新后客户端状态会自动保留。比如你在客户端用 `useState` 保存了一个表单数据：\n\n```javascript\nimport { useState } from \"react\";\n\nexport default function Form() {\n  const [input, setInput] = useState(\"\");\n  return (\n    <input value={input} onChange={(e) => setInput(e.target.value)} />\n  );\n}\n```\n\n用户输入后刷新页面，`input` 会被重置为 `\"\"`。\n\n**为什么会这样？**  \nNext.js 的客户端状态仅存在于内存中，页面刷新会触发新的 SSR 或 SSG 渲染，客户端状态不会持久化。\n\n**解决方案：**  \n使用 `localStorage` 或 URL 查询参数保存状态：\n\n```javascript\nimport { useState, useEffect } from \"react\";\n\nexport default function Form() {\n  const [input, setInput] = useState(() => {\n    return typeof window !== \"undefined\" ? localStorage.getItem(\"input\") || \"\" : \"\";\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"input\", input);\n  }, [input]);\n\n  return (\n    <input value={input} onChange={(e) => setInput(e.target.value)} />\n  );\n}\n```\n\n**深入思考：**  \nNext.js 的设计哲学是“服务端优先”，客户端状态管理更适合交给状态库（如 Redux）或浏览器的持久化机制。\n\n## 2. 数据获取的陷阱\n\n### 2.1 `getStaticProps` 和 `getServerSideProps` 的混淆\n\n新手常搞不清什么时候用 `getStaticProps`（SSG）还是 `getServerSideProps`（SSR）。假设你用 `getStaticProps` 获取实时数据：\n\n```javascript\nexport async function getStaticProps() {\n  const data = await fetch(\"https://api.example.com/realtime\");\n  return { props: { data } };\n}\n```\n\n部署后你发现数据永远是构建时的快照，不会更新。\n\n**为什么会这样？**  \n`getStaticProps` 在构建时运行，生成静态 HTML，适合内容不频繁更新的场景。而 `getServerSideProps` 在每次请求时运行，适合实时数据。\n\n**解决方案：**  \n根据需求选择正确方法，或者结合 `revalidate` 实现增量静态再生（ISR）：\n\n```javascript\nexport async function getStaticProps() {\n  const data = await fetch(\"https://api.example.com/realtime\");\n  return {\n    props: { data },\n    revalidate: 10, // 每 10 秒更新一次\n  };\n}\n```\n\n**实例：**  \n一个博客用 `getStaticProps` + ISR 获取文章列表，一个股票仪表盘用 `getServerSideProps` 获取实时价格。\n\n### 2.2 Hydration 失败的“鬼魂” bug\n\n在 SSR 中，你可能会遇到这样的错误：`Hydration failed because the initial UI does not match what was rendered on the server`。比如：\n\n```javascript\nexport async function getServerSideProps() {\n  const data = await fetchData();\n  return { props: { data } };\n}\n\nexport default function Page({ data }) {\n  const [time, setTime] = useState(new Date().toLocaleTimeString());\n  return <div>{time} - {data}</div>;\n}\n```\n\n页面加载后报错。\n\n**为什么会这样？**  \nHydration 是客户端接管 SSR 渲染的过程，要求服务端和客户端首次渲染的 HTML 一致。但 `new Date()` 在服务端和客户端执行时时间不同，导致 DOM 不匹配。\n\n**解决方案：**  \n将动态内容移到 `useEffect` 中：\n\n```javascript\nimport { useState, useEffect } from \"react\";\n\nexport default function Page({ data }) {\n  const [time, setTime] = useState(\"\");\n  useEffect(() => {\n    setTime(new Date().toLocaleTimeString());\n  }, []);\n  return <div>{time} - {data}</div>;\n}\n```\n\n**深入原理：**  \nHydration 的核心是“一致性”，任何客户端独有的逻辑（如 `window`、`Math.random()`）都应推迟到挂载后执行。\n\n## 3. 性能优化的雷区\n\n### 3.1 CSS-in-JS 的性能陷阱\n\nNext.js 支持多种 CSS 方案，但用 CSS-in-JS（如 Emotion 或 Styled-Components）时，可能会导致服务端渲染性能下降。例如：\n\n```javascript\nimport styled from \"styled-components\";\n\nconst Title = styled.h1`\n  color: red;\n`;\n\nexport default function Home() {\n  return <Title>Hello World</Title>;\n}\n```\n\n在高并发场景下，服务端生成大量样式可能拖慢响应。\n\n**为什么会这样？**  \nCSS-in-JS 在运行时生成样式，服务端需要额外计算并嵌入 `<style>` 标签，增加了渲染开销。\n\n**解决方案：**  \n优先使用 CSS Modules 或 Tailwind CSS：\n\n```javascript\n// styles/Home.module.css\n.title {\n  color: red;\n}\n\n// pages/index.js\nimport styles from \"../styles/Home.module.css\";\n\nexport default function Home() {\n  return <h1 className={styles.title}>Hello World</h1>;\n}\n```\n\n**实例：**  \n一个大型电商首页用 CSS Modules 比 Styled-Components 快了约 20% 的首屏渲染时间。\n\n### 3.2 图片优化的“懒加载”误区\n\nNext.js 的 `<Image>` 组件默认支持懒加载，但很多人直接这样用：\n\n```javascript\nimport Image from \"next/image\";\n\nexport default function Gallery() {\n  return (\n    <div>\n      {Array(100).fill().map((_, i) => (\n        <Image key={i} src={`/img-${i}.jpg`} width={500} height={500} />\n      ))}\n    </div>\n  );\n}\n```\n\n结果页面加载时仍然卡顿。\n\n**为什么会这样？**  \n`<Image>` 的懒加载基于浏览器原生 `loading=\"lazy\"`，但如果图片在视口中（比如列表顶部），依然会立即加载，导致性能瓶颈。\n\n**解决方案：**  \n结合 `priority` 和自定义懒加载：\n\n```javascript\nimport Image from \"next/image\";\n\nexport default function Gallery() {\n  return (\n    <div>\n      {Array(100).fill().map((_, i) => (\n        <Image\n          key={i}\n          src={`/img-${i}.jpg`}\n          width={500}\n          height={500}\n          priority={i < 3} // 前 3 张优先加载\n          loading={i >= 3 ? \"lazy\" : \"eager\"}\n        />\n      ))}\n    </div>\n  );\n}\n```\n\n**深入思考：**  \n图片优化不仅是懒加载，还需考虑 CDN、格式（如 WebP）和响应式尺寸。\n\n## 4. 部署与环境的隐藏风险\n\n### 4.1 环境变量的“泄露”危机\n\nNext.js 支持 `.env` 文件，但很多人直接在客户端代码中使用服务端变量：\n\n```javascript\nexport default function Home() {\n  return <div>{process.env.DB_PASSWORD}</div>;\n}\n```\n\n部署后，敏感信息暴露在浏览器中。\n\n**为什么会这样？**  \nNext.js 默认将 `process.env` 中的变量注入客户端，只有以 `NEXT_PUBLIC_` 开头的变量才会被暴露。\n\n**解决方案：**  \n区分客户端和服务端变量：\n\n```javascript\n// .env\nDB_PASSWORD=secret\nNEXT_PUBLIC_API_URL=https://api.example.com\n\n// pages/index.js\nexport async function getServerSideProps() {\n  console.log(process.env.DB_PASSWORD); // 服务端可用\n  return { props: {} };\n}\n\nexport default function Home() {\n  return <div>{process.env.NEXT_PUBLIC_API_URL}</div>; // 客户端可用\n}\n```\n\n### 4.2 Vercel 部署的“冷启动”问题\n\n在 Vercel 上部署 Serverless 函数（如 API 路由）时，首次请求可能很慢。比如：\n\n```javascript\n// pages/api/hello.js\nexport default function handler(req, res) {\n  res.status(200).json({ message: \"Hello\" });\n}\n```\n\n**为什么会这样？**  \nVercel 的 Serverless 架构在无请求时会“休眠”，首次请求触发“冷启动”，延迟可能高达数秒。\n\n**解决方案：**  \n使用边缘函数或预热机制：\n\n```javascript\n// pages/api/hello.js\nexport const config = {\n  runtime: \"edge\",\n};\n\nexport default function handler(req) {\n  return new Response(JSON.stringify({ message: \"Hello\" }), {\n    status: 200,\n    headers: { \"Content-Type\": \"application/json\" },\n  });\n}\n```\n\n## 5. 小结与心得\n\nNext.js 是一个功能强大但需要细心打磨的框架。避坑的关键在于理解其核心原理：文件系统路由、混合渲染、构建时与运行时的分工。每次踩坑都是一次学习的机会。比如，我曾在动态路由上吃了大亏，后来通过日志调试和文档查阅，才意识到参数校验的重要性。\n\n希望这篇指南能帮你在 Next.js 的世界里少走弯路。如果你有其他坑点或经验，欢迎留言交流！\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var u=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var r in e)c(l,r,{get:e[r],enumerable:!0})},t=(l,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!F.call(l,a)&&a!==r&&c(l,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return l};var m=(l,e,r)=>(r=l!=null?p(g(l)):{},t(e||!l||!l.__esModule?c(r,\"default\",{value:l,enumerable:!0}):r,l)),B=l=>t(c({},\"__esModule\",{value:!0}),l);var i=u((k,s)=>{s.exports=_jsx_runtime});var x={};f(x,{default:()=>h,frontmatter:()=>b});var n=m(i()),b={type:\"Post\",title:\"Next.js \\u907F\\u5751\\u6307\\u5357\",date:\"2024-10-04\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8 Next.js \\u5F00\\u53D1\\u4E2D\\u5E38\\u89C1\\u7684\\u5751\\u70B9\\u4E0E\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u6DB5\\u76D6\\u8DEF\\u7531\\u3001\\u6570\\u636E\\u83B7\\u53D6\\u3001\\u6027\\u80FD\\u4F18\\u5316\\u3001\\u90E8\\u7F72\\u7B49\\u65B9\\u9762\\uFF0C\\u7ED3\\u5408\\u539F\\u7406\\u548C\\u5B9E\\u4F8B\\u5E2E\\u4F60\\u5C11\\u8D70\\u5F2F\\u8DEF\\u3002\",keywords:\"Next.js, React, \\u670D\\u52A1\\u7AEF\\u6E32\\u67D3, SSR, \\u6570\\u636E\\u83B7\\u53D6, \\u6027\\u80FD\\u4F18\\u5316, \\u90E8\\u7F72, \\u524D\\u7AEF\\u5F00\\u53D1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/nextjs-pitfalls.jpg\",tags:[\"Next.js\",\"React\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"Next.js\"};function o(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Next.js \\u662F\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\u6700\\u6D41\\u884C\\u7684 React \\u6846\\u67B6\\u4E4B\\u4E00\\uFF0C\\u51ED\\u501F\\u5176\\u5F3A\\u5927\\u7684\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\uFF08SSR\\uFF09\\u3001\\u9759\\u6001\\u7AD9\\u70B9\\u751F\\u6210\\uFF08SSG\\uFF09\\u548C\\u5F00\\u7BB1\\u5373\\u7528\\u7684\\u529F\\u80FD\\uFF0C\\u8D62\\u5F97\\u4E86\\u65E0\\u6570\\u5F00\\u53D1\\u8005\\u7684\\u9752\\u7750\\u3002\\u7136\\u800C\\uFF0C\\u6B63\\u5982\\u4EFB\\u4F55\\u5DE5\\u5177\\u4E00\\u6837\\uFF0CNext.js \\u4E5F\\u6709\\u5B83\\u7684\\u201C\\u5751\\u201D\\u3002\\u8FD9\\u4E9B\\u5751\\u53EF\\u80FD\\u662F\\u6846\\u67B6\\u8BBE\\u8BA1\\u7684\\u6743\\u8861\\uFF0C\\u4E5F\\u53EF\\u80FD\\u662F\\u5F00\\u53D1\\u8005\\u5BF9\\u539F\\u7406\\u7406\\u89E3\\u4E0D\\u8DB3\\u5BFC\\u81F4\\u7684\\u8BEF\\u7528\\u3002\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165\\u5256\\u6790 Next.js \\u5F00\\u53D1\\u4E2D\\u7684\\u5E38\\u89C1\\u9677\\u9631\\uFF0C\\u5E76\\u63D0\\u4F9B\\u89E3\\u51B3\\u65B9\\u6848\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E2E\\u4F60\\u5728\\u9879\\u76EE\\u4E2D\\u5C11\\u8D70\\u5F2F\\u8DEF\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"1-\\u8DEF\\u7531\\u4E0E\\u9875\\u9762\\u7BA1\\u7406\\u7684\\u90A3\\u4E9B\\u5751\",children:(0,n.jsx)(e.a,{href:\"#1-\\u8DEF\\u7531\\u4E0E\\u9875\\u9762\\u7BA1\\u7406\\u7684\\u90A3\\u4E9B\\u5751\",children:\"1. \\u8DEF\\u7531\\u4E0E\\u9875\\u9762\\u7BA1\\u7406\\u7684\\u90A3\\u4E9B\\u5751\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"11-\\u52A8\\u6001\\u8DEF\\u7531\\u7684\\u672A\\u5B9A\\u4E49\\u5669\\u68A6\",children:(0,n.jsx)(e.a,{href:\"#11-\\u52A8\\u6001\\u8DEF\\u7531\\u7684\\u672A\\u5B9A\\u4E49\\u5669\\u68A6\",children:\"1.1 \\u52A8\\u6001\\u8DEF\\u7531\\u7684\\u201C\\u672A\\u5B9A\\u4E49\\u201D\\u5669\\u68A6\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Next.js \\u7684\\u52A8\\u6001\\u8DEF\\u7531\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"[id].js\"})})})}),\"\\uFF09\\u975E\\u5E38\\u5F3A\\u5927\\uFF0C\\u4F46\\u7A0D\\u4E0D\\u6CE8\\u610F\\u5C31\\u4F1A\\u8E29\\u5751\\u3002\\u5047\\u8BBE\\u4F60\\u6709\\u4E00\\u4E2A\\u52A8\\u6001\\u8DEF\\u7531\\u6587\\u4EF6 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"pages/posts/[id].js\"})})})}),\"\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getServerSideProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"params\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" post\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchPost\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(params.id);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { props: { post } };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Post\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"post\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{post.title}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8868\\u9762\\u4E0A\\u770B\\u6CA1\\u95EE\\u9898\\uFF0C\\u4F46\\u5982\\u679C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"params.id\"})})})}),\" \\u662F\\u672A\\u5B9A\\u4E49\\uFF08\\u6BD4\\u5982\\u7528\\u6237\\u76F4\\u63A5\\u8BBF\\u95EE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"/posts/\"})})})}),\" \\u800C\\u4E0D\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"/posts/123\"})})})}),\"\\uFF09\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"fetchPost\"})})})}),\" \\u53EF\\u80FD\\u4F1A\\u629B\\u51FA\\u5F02\\u5E38\\uFF0C\\u751A\\u81F3\\u5BFC\\u81F4\\u9875\\u9762\\u5D29\\u6E83\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u8FD9\\u6837\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,\"Next.js \\u7684\\u6587\\u4EF6\\u7CFB\\u7EDF\\u8DEF\\u7531\\u4E25\\u683C\\u4F9D\\u8D56\\u6587\\u4EF6\\u540D\\u7EA6\\u5B9A\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"[id].js\"})})})}),\" \\u8868\\u793A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"id\"})})})}),\" \\u662F\\u5FC5\\u9700\\u53C2\\u6570\\u3002\\u5982\\u679C\\u8BF7\\u6C42\\u8DEF\\u5F84\\u4E0D\\u5339\\u914D\\uFF0CNext.js \\u4E0D\\u4F1A\\u81EA\\u52A8\\u629B\\u51FA 404\\uFF0C\\u800C\\u662F\\u5C06 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"params.id\"})})})}),\" \\u8BBE\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"undefined\"})})})}),\"\\uFF0C\\u4EA4\\u7ED9\\u5F00\\u53D1\\u8005\\u5904\\u7406\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getServerSideProps\"})})})}),\" \\u4E2D\\u663E\\u5F0F\\u68C0\\u67E5\\u53C2\\u6570\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getServerSideProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"params\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"params?.id) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { notFound: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8FD4\\u56DE 404\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" post\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchPost\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(params.id);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { props: { post } };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5BF9\\u4E8E\\u53EF\\u9009\\u53C2\\u6570\\uFF0C\\u4F7F\\u7528\\u5D4C\\u5957\\u8DEF\\u7531\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"pages/posts/[id]/index.js\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"pages/posts/index.js\"})})})}),\"\\uFF09\\u6765\\u533A\\u5206\\u5FC5\\u9009\\u548C\\u53EF\\u9009\\u573A\\u666F\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"12-\\u9875\\u9762\\u5237\\u65B0\\u540E\\u5BA2\\u6237\\u7AEF\\u72B6\\u6001\\u4E22\\u5931\",children:(0,n.jsx)(e.a,{href:\"#12-\\u9875\\u9762\\u5237\\u65B0\\u540E\\u5BA2\\u6237\\u7AEF\\u72B6\\u6001\\u4E22\\u5931\",children:\"1.2 \\u9875\\u9762\\u5237\\u65B0\\u540E\\u5BA2\\u6237\\u7AEF\\u72B6\\u6001\\u4E22\\u5931\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Next.js \\u7684\\u6DF7\\u5408\\u6E32\\u67D3\\u6A21\\u5F0F\\uFF08SSR + CSR\\uFF09\\u8BA9\\u5F88\\u591A\\u4EBA\\u8BEF\\u4EE5\\u4E3A\\u9875\\u9762\\u5237\\u65B0\\u540E\\u5BA2\\u6237\\u7AEF\\u72B6\\u6001\\u4F1A\\u81EA\\u52A8\\u4FDD\\u7559\\u3002\\u6BD4\\u5982\\u4F60\\u5728\\u5BA2\\u6237\\u7AEF\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useState\"})})})}),\" \\u4FDD\\u5B58\\u4E86\\u4E00\\u4E2A\\u8868\\u5355\\u6570\\u636E\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Form\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setInput\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{input} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInput\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value)} />\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7528\\u6237\\u8F93\\u5165\\u540E\\u5237\\u65B0\\u9875\\u9762\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"input\"})})})}),\" \\u4F1A\\u88AB\\u91CD\\u7F6E\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'\"\"'})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u8FD9\\u6837\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,\"Next.js \\u7684\\u5BA2\\u6237\\u7AEF\\u72B6\\u6001\\u4EC5\\u5B58\\u5728\\u4E8E\\u5185\\u5B58\\u4E2D\\uFF0C\\u9875\\u9762\\u5237\\u65B0\\u4F1A\\u89E6\\u53D1\\u65B0\\u7684 SSR \\u6216 SSG \\u6E32\\u67D3\\uFF0C\\u5BA2\\u6237\\u7AEF\\u72B6\\u6001\\u4E0D\\u4F1A\\u6301\\u4E45\\u5316\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"localStorage\"})})})}),\" \\u6216 URL \\u67E5\\u8BE2\\u53C2\\u6570\\u4FDD\\u5B58\\u72B6\\u6001\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Form\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setInput\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" typeof\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"undefined\"'}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"input\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\"'}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    localStorage.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"input\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", input);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [input]);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{input} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onChange\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInput\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value)} />\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6DF1\\u5165\\u601D\\u8003\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"Next.js \\u7684\\u8BBE\\u8BA1\\u54F2\\u5B66\\u662F\\u201C\\u670D\\u52A1\\u7AEF\\u4F18\\u5148\\u201D\\uFF0C\\u5BA2\\u6237\\u7AEF\\u72B6\\u6001\\u7BA1\\u7406\\u66F4\\u9002\\u5408\\u4EA4\\u7ED9\\u72B6\\u6001\\u5E93\\uFF08\\u5982 Redux\\uFF09\\u6216\\u6D4F\\u89C8\\u5668\\u7684\\u6301\\u4E45\\u5316\\u673A\\u5236\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"2-\\u6570\\u636E\\u83B7\\u53D6\\u7684\\u9677\\u9631\",children:(0,n.jsx)(e.a,{href:\"#2-\\u6570\\u636E\\u83B7\\u53D6\\u7684\\u9677\\u9631\",children:\"2. \\u6570\\u636E\\u83B7\\u53D6\\u7684\\u9677\\u9631\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"21-getstaticprops-\\u548C-getserversideprops-\\u7684\\u6DF7\\u6DC6\",children:(0,n.jsxs)(e.a,{href:\"#21-getstaticprops-\\u548C-getserversideprops-\\u7684\\u6DF7\\u6DC6\",children:[\"2.1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getStaticProps\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getServerSideProps\"})})})}),\" \\u7684\\u6DF7\\u6DC6\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u65B0\\u624B\\u5E38\\u641E\\u4E0D\\u6E05\\u4EC0\\u4E48\\u65F6\\u5019\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getStaticProps\"})})})}),\"\\uFF08SSG\\uFF09\\u8FD8\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getServerSideProps\"})})})}),\"\\uFF08SSR\\uFF09\\u3002\\u5047\\u8BBE\\u4F60\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getStaticProps\"})})})}),\" \\u83B7\\u53D6\\u5B9E\\u65F6\\u6570\\u636E\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getStaticProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/realtime\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { props: { data } };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u90E8\\u7F72\\u540E\\u4F60\\u53D1\\u73B0\\u6570\\u636E\\u6C38\\u8FDC\\u662F\\u6784\\u5EFA\\u65F6\\u7684\\u5FEB\\u7167\\uFF0C\\u4E0D\\u4F1A\\u66F4\\u65B0\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u8FD9\\u6837\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getStaticProps\"})})})}),\" \\u5728\\u6784\\u5EFA\\u65F6\\u8FD0\\u884C\\uFF0C\\u751F\\u6210\\u9759\\u6001 HTML\\uFF0C\\u9002\\u5408\\u5185\\u5BB9\\u4E0D\\u9891\\u7E41\\u66F4\\u65B0\\u7684\\u573A\\u666F\\u3002\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getServerSideProps\"})})})}),\" \\u5728\\u6BCF\\u6B21\\u8BF7\\u6C42\\u65F6\\u8FD0\\u884C\\uFF0C\\u9002\\u5408\\u5B9E\\u65F6\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u6839\\u636E\\u9700\\u6C42\\u9009\\u62E9\\u6B63\\u786E\\u65B9\\u6CD5\\uFF0C\\u6216\\u8005\\u7ED3\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"revalidate\"})})})}),\" \\u5B9E\\u73B0\\u589E\\u91CF\\u9759\\u6001\\u518D\\u751F\\uFF08ISR\\uFF09\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getStaticProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"https://api.example.com/realtime\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    props: { data },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    revalidate: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF 10 \\u79D2\\u66F4\\u65B0\\u4E00\\u6B21\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u4F8B\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u4E00\\u4E2A\\u535A\\u5BA2\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getStaticProps\"})})})}),\" + ISR \\u83B7\\u53D6\\u6587\\u7AE0\\u5217\\u8868\\uFF0C\\u4E00\\u4E2A\\u80A1\\u7968\\u4EEA\\u8868\\u76D8\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"getServerSideProps\"})})})}),\" \\u83B7\\u53D6\\u5B9E\\u65F6\\u4EF7\\u683C\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"22-hydration-\\u5931\\u8D25\\u7684\\u9B3C\\u9B42-bug\",children:(0,n.jsx)(e.a,{href:\"#22-hydration-\\u5931\\u8D25\\u7684\\u9B3C\\u9B42-bug\",children:\"2.2 Hydration \\u5931\\u8D25\\u7684\\u201C\\u9B3C\\u9B42\\u201D bug\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 SSR \\u4E2D\\uFF0C\\u4F60\\u53EF\\u80FD\\u4F1A\\u9047\\u5230\\u8FD9\\u6837\\u7684\\u9519\\u8BEF\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Hydration failed because the initial UI does not match what was rendered on the server\"})})})}),\"\\u3002\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getServerSideProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { props: { data } };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Page\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"time\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setTime\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Date\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toLocaleTimeString\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{time} - {data}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9875\\u9762\\u52A0\\u8F7D\\u540E\\u62A5\\u9519\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u8FD9\\u6837\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,\"Hydration \\u662F\\u5BA2\\u6237\\u7AEF\\u63A5\\u7BA1 SSR \\u6E32\\u67D3\\u7684\\u8FC7\\u7A0B\\uFF0C\\u8981\\u6C42\\u670D\\u52A1\\u7AEF\\u548C\\u5BA2\\u6237\\u7AEF\\u9996\\u6B21\\u6E32\\u67D3\\u7684 HTML \\u4E00\\u81F4\\u3002\\u4F46 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"new Date()\"})})})}),\" \\u5728\\u670D\\u52A1\\u7AEF\\u548C\\u5BA2\\u6237\\u7AEF\\u6267\\u884C\\u65F6\\u65F6\\u95F4\\u4E0D\\u540C\\uFF0C\\u5BFC\\u81F4 DOM \\u4E0D\\u5339\\u914D\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5C06\\u52A8\\u6001\\u5185\\u5BB9\\u79FB\\u5230 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u4E2D\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useState, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Page\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"time\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setTime\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setTime\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Date\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toLocaleTimeString\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{time} - {data}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6DF1\\u5165\\u539F\\u7406\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"Hydration \\u7684\\u6838\\u5FC3\\u662F\\u201C\\u4E00\\u81F4\\u6027\\u201D\\uFF0C\\u4EFB\\u4F55\\u5BA2\\u6237\\u7AEF\\u72EC\\u6709\\u7684\\u903B\\u8F91\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Math.random()\"})})})}),\"\\uFF09\\u90FD\\u5E94\\u63A8\\u8FDF\\u5230\\u6302\\u8F7D\\u540E\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"3-\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u96F7\\u533A\",children:(0,n.jsx)(e.a,{href:\"#3-\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u96F7\\u533A\",children:\"3. \\u6027\\u80FD\\u4F18\\u5316\\u7684\\u96F7\\u533A\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"31-css-in-js-\\u7684\\u6027\\u80FD\\u9677\\u9631\",children:(0,n.jsx)(e.a,{href:\"#31-css-in-js-\\u7684\\u6027\\u80FD\\u9677\\u9631\",children:\"3.1 CSS-in-JS \\u7684\\u6027\\u80FD\\u9677\\u9631\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Next.js \\u652F\\u6301\\u591A\\u79CD CSS \\u65B9\\u6848\\uFF0C\\u4F46\\u7528 CSS-in-JS\\uFF08\\u5982 Emotion \\u6216 Styled-Components\\uFF09\\u65F6\\uFF0C\\u53EF\\u80FD\\u4F1A\\u5BFC\\u81F4\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u6027\\u80FD\\u4E0B\\u964D\\u3002\\u4F8B\\u5982\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" styled \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"styled-components\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Title\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" styled.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"  color: red;\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Home\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Title\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Hello World</\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Title\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u9AD8\\u5E76\\u53D1\\u573A\\u666F\\u4E0B\\uFF0C\\u670D\\u52A1\\u7AEF\\u751F\\u6210\\u5927\\u91CF\\u6837\\u5F0F\\u53EF\\u80FD\\u62D6\\u6162\\u54CD\\u5E94\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u8FD9\\u6837\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,\"CSS-in-JS \\u5728\\u8FD0\\u884C\\u65F6\\u751F\\u6210\\u6837\\u5F0F\\uFF0C\\u670D\\u52A1\\u7AEF\\u9700\\u8981\\u989D\\u5916\\u8BA1\\u7B97\\u5E76\\u5D4C\\u5165 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<style>\"})})})}),\" \\u6807\\u7B7E\\uFF0C\\u589E\\u52A0\\u4E86\\u6E32\\u67D3\\u5F00\\u9500\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u4F18\\u5148\\u4F7F\\u7528 CSS Modules \\u6216 Tailwind CSS\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// styles/Home.module.css\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".title {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  color\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": red;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// pages/index.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" styles \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"../styles/Home.module.css\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Home\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" className\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{styles.title}>Hello World</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u4F8B\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u4E00\\u4E2A\\u5927\\u578B\\u7535\\u5546\\u9996\\u9875\\u7528 CSS Modules \\u6BD4 Styled-Components \\u5FEB\\u4E86\\u7EA6 20% \\u7684\\u9996\\u5C4F\\u6E32\\u67D3\\u65F6\\u95F4\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"32-\\u56FE\\u7247\\u4F18\\u5316\\u7684\\u61D2\\u52A0\\u8F7D\\u8BEF\\u533A\",children:(0,n.jsx)(e.a,{href:\"#32-\\u56FE\\u7247\\u4F18\\u5316\\u7684\\u61D2\\u52A0\\u8F7D\\u8BEF\\u533A\",children:\"3.2 \\u56FE\\u7247\\u4F18\\u5316\\u7684\\u201C\\u61D2\\u52A0\\u8F7D\\u201D\\u8BEF\\u533A\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Next.js \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<Image>\"})})})}),\" \\u7EC4\\u4EF6\\u9ED8\\u8BA4\\u652F\\u6301\\u61D2\\u52A0\\u8F7D\\uFF0C\\u4F46\\u5F88\\u591A\\u4EBA\\u76F4\\u63A5\\u8FD9\\u6837\\u7528\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Image \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next/image\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Gallery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Array\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Image\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{i} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"src\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`/img-${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}.jpg`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"width\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"height\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} />\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7ED3\\u679C\\u9875\\u9762\\u52A0\\u8F7D\\u65F6\\u4ECD\\u7136\\u5361\\u987F\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u8FD9\\u6837\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<Image>\"})})})}),\" \\u7684\\u61D2\\u52A0\\u8F7D\\u57FA\\u4E8E\\u6D4F\\u89C8\\u5668\\u539F\\u751F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'loading=\"lazy\"'})})})}),\"\\uFF0C\\u4F46\\u5982\\u679C\\u56FE\\u7247\\u5728\\u89C6\\u53E3\\u4E2D\\uFF08\\u6BD4\\u5982\\u5217\\u8868\\u9876\\u90E8\\uFF09\\uFF0C\\u4F9D\\u7136\\u4F1A\\u7ACB\\u5373\\u52A0\\u8F7D\\uFF0C\\u5BFC\\u81F4\\u6027\\u80FD\\u74F6\\u9888\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u7ED3\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"priority\"})})})}),\" \\u548C\\u81EA\\u5B9A\\u4E49\\u61D2\\u52A0\\u8F7D\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Image \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"next/image\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Gallery\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Array\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Image\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          key\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{i}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          src\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`/img-${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}.jpg`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          width\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          height\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          priority\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{i \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 3\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u524D 3 \\u5F20\\u4F18\\u5148\\u52A0\\u8F7D\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          loading\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{i \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 3\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"lazy\"'}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"eager\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        />\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6DF1\\u5165\\u601D\\u8003\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u56FE\\u7247\\u4F18\\u5316\\u4E0D\\u4EC5\\u662F\\u61D2\\u52A0\\u8F7D\\uFF0C\\u8FD8\\u9700\\u8003\\u8651 CDN\\u3001\\u683C\\u5F0F\\uFF08\\u5982 WebP\\uFF09\\u548C\\u54CD\\u5E94\\u5F0F\\u5C3A\\u5BF8\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"4-\\u90E8\\u7F72\\u4E0E\\u73AF\\u5883\\u7684\\u9690\\u85CF\\u98CE\\u9669\",children:(0,n.jsx)(e.a,{href:\"#4-\\u90E8\\u7F72\\u4E0E\\u73AF\\u5883\\u7684\\u9690\\u85CF\\u98CE\\u9669\",children:\"4. \\u90E8\\u7F72\\u4E0E\\u73AF\\u5883\\u7684\\u9690\\u85CF\\u98CE\\u9669\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"41-\\u73AF\\u5883\\u53D8\\u91CF\\u7684\\u6CC4\\u9732\\u5371\\u673A\",children:(0,n.jsx)(e.a,{href:\"#41-\\u73AF\\u5883\\u53D8\\u91CF\\u7684\\u6CC4\\u9732\\u5371\\u673A\",children:\"4.1 \\u73AF\\u5883\\u53D8\\u91CF\\u7684\\u201C\\u6CC4\\u9732\\u201D\\u5371\\u673A\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Next.js \\u652F\\u6301 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".env\"})})})}),\" \\u6587\\u4EF6\\uFF0C\\u4F46\\u5F88\\u591A\\u4EBA\\u76F4\\u63A5\\u5728\\u5BA2\\u6237\\u7AEF\\u4EE3\\u7801\\u4E2D\\u4F7F\\u7528\\u670D\\u52A1\\u7AEF\\u53D8\\u91CF\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Home\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{process.env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"DB_PASSWORD\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u90E8\\u7F72\\u540E\\uFF0C\\u654F\\u611F\\u4FE1\\u606F\\u66B4\\u9732\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u8FD9\\u6837\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,\"Next.js \\u9ED8\\u8BA4\\u5C06 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"process.env\"})})})}),\" \\u4E2D\\u7684\\u53D8\\u91CF\\u6CE8\\u5165\\u5BA2\\u6237\\u7AEF\\uFF0C\\u53EA\\u6709\\u4EE5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"NEXT_PUBLIC_\"})})})}),\" \\u5F00\\u5934\\u7684\\u53D8\\u91CF\\u624D\\u4F1A\\u88AB\\u66B4\\u9732\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u533A\\u5206\\u5BA2\\u6237\\u7AEF\\u548C\\u670D\\u52A1\\u7AEF\\u53D8\\u91CF\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// .env\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"DB_PASSWORD\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"secret\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"NEXT_PUBLIC_API_URL\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"https\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"//api.example.com\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// pages/index.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getServerSideProps\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(process.env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"DB_PASSWORD\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u670D\\u52A1\\u7AEF\\u53EF\\u7528\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { props: {} };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Home\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{process.env.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"NEXT_PUBLIC_API_URL\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5BA2\\u6237\\u7AEF\\u53EF\\u7528\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"42-vercel-\\u90E8\\u7F72\\u7684\\u51B7\\u542F\\u52A8\\u95EE\\u9898\",children:(0,n.jsx)(e.a,{href:\"#42-vercel-\\u90E8\\u7F72\\u7684\\u51B7\\u542F\\u52A8\\u95EE\\u9898\",children:\"4.2 Vercel \\u90E8\\u7F72\\u7684\\u201C\\u51B7\\u542F\\u52A8\\u201D\\u95EE\\u9898\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728 Vercel \\u4E0A\\u90E8\\u7F72 Serverless \\u51FD\\u6570\\uFF08\\u5982 API \\u8DEF\\u7531\\uFF09\\u65F6\\uFF0C\\u9996\\u6B21\\u8BF7\\u6C42\\u53EF\\u80FD\\u5F88\\u6162\\u3002\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// pages/api/hello.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handler\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ message: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hello\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u4F1A\\u8FD9\\u6837\\uFF1F\"}),(0,n.jsx)(e.br,{}),`\n`,\"Vercel \\u7684 Serverless \\u67B6\\u6784\\u5728\\u65E0\\u8BF7\\u6C42\\u65F6\\u4F1A\\u201C\\u4F11\\u7720\\u201D\\uFF0C\\u9996\\u6B21\\u8BF7\\u6C42\\u89E6\\u53D1\\u201C\\u51B7\\u542F\\u52A8\\u201D\\uFF0C\\u5EF6\\u8FDF\\u53EF\\u80FD\\u9AD8\\u8FBE\\u6570\\u79D2\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u4F7F\\u7528\\u8FB9\\u7F18\\u51FD\\u6570\\u6216\\u9884\\u70ED\\u673A\\u5236\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// pages/api/hello.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" config\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  runtime: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"edge\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handler\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Response\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ message: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hello\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }), {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    status: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    headers: { \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Content-Type\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"application/json\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"5-\\u5C0F\\u7ED3\\u4E0E\\u5FC3\\u5F97\",children:(0,n.jsx)(e.a,{href:\"#5-\\u5C0F\\u7ED3\\u4E0E\\u5FC3\\u5F97\",children:\"5. \\u5C0F\\u7ED3\\u4E0E\\u5FC3\\u5F97\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Next.js \\u662F\\u4E00\\u4E2A\\u529F\\u80FD\\u5F3A\\u5927\\u4F46\\u9700\\u8981\\u7EC6\\u5FC3\\u6253\\u78E8\\u7684\\u6846\\u67B6\\u3002\\u907F\\u5751\\u7684\\u5173\\u952E\\u5728\\u4E8E\\u7406\\u89E3\\u5176\\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u6587\\u4EF6\\u7CFB\\u7EDF\\u8DEF\\u7531\\u3001\\u6DF7\\u5408\\u6E32\\u67D3\\u3001\\u6784\\u5EFA\\u65F6\\u4E0E\\u8FD0\\u884C\\u65F6\\u7684\\u5206\\u5DE5\\u3002\\u6BCF\\u6B21\\u8E29\\u5751\\u90FD\\u662F\\u4E00\\u6B21\\u5B66\\u4E60\\u7684\\u673A\\u4F1A\\u3002\\u6BD4\\u5982\\uFF0C\\u6211\\u66FE\\u5728\\u52A8\\u6001\\u8DEF\\u7531\\u4E0A\\u5403\\u4E86\\u5927\\u4E8F\\uFF0C\\u540E\\u6765\\u901A\\u8FC7\\u65E5\\u5FD7\\u8C03\\u8BD5\\u548C\\u6587\\u6863\\u67E5\\u9605\\uFF0C\\u624D\\u610F\\u8BC6\\u5230\\u53C2\\u6570\\u6821\\u9A8C\\u7684\\u91CD\\u8981\\u6027\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6307\\u5357\\u80FD\\u5E2E\\u4F60\\u5728 Next.js \\u7684\\u4E16\\u754C\\u91CC\\u5C11\\u8D70\\u5F2F\\u8DEF\\u3002\\u5982\\u679C\\u4F60\\u6709\\u5176\\u4ED6\\u5751\\u70B9\\u6216\\u7ECF\\u9A8C\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u4EA4\\u6D41\\uFF01\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return B(x);})();\n;return Component;"
  },
  "_id": "Next.js/Nextjs避坑指南.mdx",
  "_raw": {
    "sourceFilePath": "Next.js/Nextjs避坑指南.mdx",
    "sourceFileName": "Nextjs避坑指南.mdx",
    "sourceFileDir": "Next.js",
    "contentType": "mdx",
    "flattenedPath": "Next.js/Nextjs避坑指南"
  },
  "type": "Post",
  "url": "/blog/Next.js/Nextjs避坑指南"
}
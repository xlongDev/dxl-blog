{
  "title": "çº¯å‰ç«¯å¦‚ä½•å®ç°ã€Œç”¨æˆ·æ— æ„ŸçŸ¥å½•å±ã€ï¼Ÿ",
  "date": "2023-11-06T00:00:00.000Z",
  "description": "æ·±å…¥æ¢è®¨å¦‚ä½•åœ¨çº¯å‰ç«¯å®ç°ç”¨æˆ·æ— æ„ŸçŸ¥çš„å±å¹•å½•åˆ¶åŠŸèƒ½ï¼Œæ¶µç›–åŸç†ã€å®ç°æ–¹å¼ã€ä¿å­˜åˆ°æœ¬åœ°ã€æ€§èƒ½ä¼˜åŒ–ã€æœ€ä½³å®è·µå’Œæ³¨æ„äº‹é¡¹ï¼Œå¸¦ä½ æ‰“é€ ä¸€ä¸ªéšç§˜åˆå¼ºå¤§çš„å½•å±ç¥å™¨ã€‚",
  "keywords": "å‰ç«¯å¼€å‘, å±å¹•å½•åˆ¶, MediaRecorder, WebRTC, ç”¨æˆ·æ— æ„ŸçŸ¥, æ€§èƒ½ä¼˜åŒ–, æ–‡ä»¶ä¿å­˜, JavaScript",
  "author": "æ™“é¾™",
  "image": "/images/hero/screen-recording.jpg",
  "tags": [
    "å‰ç«¯å¼€å‘",
    "JavaScript",
    "WebRTC",
    "æ€§èƒ½ä¼˜åŒ–",
    "æ–‡ä»¶å¤„ç†"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå—¨ï¼Œå‰ç«¯æœ‹å‹ä»¬ï¼ğŸ‘‹ ä»Šå¤©æˆ‘ä»¬è¦èŠä¸€ä¸ªæœ‰ç‚¹â€œå·å·æ‘¸æ‘¸â€ä½†è¶…çº§é…·ç‚«çš„è¯é¢˜â€”â€”å¦‚ä½•åœ¨çº¯å‰ç«¯å®ç°**ç”¨æˆ·æ— æ„ŸçŸ¥çš„å±å¹•å½•åˆ¶**ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ çš„ Web åº”ç”¨èƒ½åœ¨ç”¨æˆ·å®Œå…¨ä¸å¯Ÿè§‰çš„æƒ…å†µä¸‹ï¼Œæ‚„æ‚„å½•ä¸‹ä»–ä»¬çš„å±å¹•æ“ä½œï¼Œç”Ÿæˆä¸€æ®µè§†é¢‘ï¼Œç„¶åä¿å­˜åˆ°æœ¬åœ°ï¼Œæˆ–è€…å·å·å¹²ç‚¹åˆ«çš„ï¼ˆå½“ç„¶æ˜¯åˆæ³•çš„ç”¨é€”å•¦ï¼‰ã€‚è¿™ä¸æ˜¯ä»€ä¹ˆâ€œé»‘å®¢å¸å›½â€çš„å‰§æœ¬ï¼Œè€Œæ˜¯å¯ä»¥ç”¨åœ¨å®¢æœæ”¯æŒã€ç”¨æˆ·è¡Œä¸ºåˆ†æï¼Œç”šè‡³æ˜¯â€œå¸®ç”¨æˆ·ç´§æ€¥å­˜æ¡£æ“ä½œè®°å½•â€çš„åœºæ™¯ã€‚åˆ«è¯¯ä¼šï¼Œæˆ‘å¯æ²¡é¼“åŠ±ä½ å»å½•è€æ¿å¼€ä¼šç„¶åæ‹¿å»å–ç»™å¯¹æ‰‹å…¬å¸å“¦ï¼ˆç¬‘ï¼‰ã€‚ğŸ˜\n\nè¿™ç¯‡æ–‡ç« ä¼šå¸¦ä½ ä»é›¶å¼€å§‹ï¼Œæ·±å…¥å‰–æå®ç°è¿™ä¸ªåŠŸèƒ½çš„åŸç†ã€æŠ€æœ¯é€‰å‹ã€ä»£ç å®ç°ï¼Œä»¥åŠä¸€å¤§å †å®ç”¨çš„å°æŠ€å·§å’Œè¸©å‘ç»éªŒã€‚æˆ‘ä»¬è¿˜ä¼šç‰¹åˆ«èšç„¦å¦‚ä½•ä¼˜é›…åœ°ä¿å­˜å½•åˆ¶çš„è§†é¢‘åˆ°æœ¬åœ°ï¼Œæ¶µç›–å¤šç§æ–¹æ¡ˆå’Œç»†èŠ‚ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·æ½œå…¥è¿™ä¸ªâ€œéšç§˜çš„å‰ç«¯è§’è½â€å§ï¼\n\n## ä»€ä¹ˆæ˜¯â€œç”¨æˆ·æ— æ„ŸçŸ¥å½•å±â€ï¼Ÿ\n\nå…ˆæ˜ç¡®æ¦‚å¿µï¼šæ‰€è°“â€œç”¨æˆ·æ— æ„ŸçŸ¥å½•å±â€ï¼Œå°±æ˜¯åœ¨ä¸æ‰“æ‰°ç”¨æˆ·ã€ä¸å¼¹å‡ºæ˜¾çœ¼æç¤ºï¼ˆæˆ–è€…å¹²è„†ä¸æç¤ºï¼‰çš„æƒ…å†µä¸‹ï¼Œæ•è·å±å¹•å†…å®¹å¹¶ç”Ÿæˆè§†é¢‘ã€‚è¿™å¬èµ·æ¥æœ‰ç‚¹åƒâ€œé—´è°è½¯ä»¶â€ï¼Œä½†åœ¨åˆæ³•æˆæƒçš„åœºæ™¯ä¸‹ï¼Œå®ƒå¯æ˜¯ä¸ªå®è—åŠŸèƒ½ã€‚æ¯”å¦‚ï¼š\n\n- **å®¢æœæ”¯æŒ**ï¼šç”¨æˆ·æŠ¥ Bug æ—¶ï¼Œè‡ªåŠ¨å½•ä¸‹æ“ä½œè¿‡ç¨‹ï¼Œçœå»â€œè¯·æè¿°ä¸€ä¸‹ä½ ç‚¹äº†å•¥â€çš„æŠ“ç‹‚æ—¶åˆ»ã€‚\n- **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šåˆ†æç”¨æˆ·å¦‚ä½•ä¸ä½ çš„åº”ç”¨äº’åŠ¨ï¼Œæ‰¾å‡ºå“ªé‡Œè®¾è®¡å¾—ä¸å¤Ÿâ€œäººæ€§åŒ–â€ã€‚\n- **æ•™è‚²å·¥å…·**ï¼šè‡ªåŠ¨ä¿å­˜ç”¨æˆ·çš„æ“ä½œè®°å½•ï¼Œç”Ÿæˆæ•™å­¦è§†é¢‘æˆ–å›æ”¾ã€‚\n\nä½†è¦åšåˆ°â€œæ— æ„ŸçŸ¥â€ï¼Œæˆ‘ä»¬å¾—ç»•è¿‡æµè§ˆå™¨çš„â€œå®‰å…¨é˜²çº¿â€ï¼ˆæ¯”å¦‚æƒé™å¼¹çª—ï¼‰ï¼ŒåŒæ—¶ä¿è¯æ€§èƒ½å’Œéšè”½æ€§ã€‚è¿™å¯ä¸æ˜¯éšä¾¿å†™ä¸ª `alert('å¼€å§‹å½•å±å•¦')` å°±èƒ½ç³Šå¼„è¿‡å»çš„æ´»å„¿ã€‚ğŸ˜…\n\n## æ ¸å¿ƒæŠ€æœ¯æ ˆï¼šWebRTC å’Œ MediaRecorder\n\nå®ç°å±å¹•å½•åˆ¶çš„æ ¸å¿ƒæ­¦å™¨æ˜¯æµè§ˆå™¨çš„ä¸¤å¤§ APIï¼š**WebRTC** å’Œ **MediaRecorder**ã€‚è¿™ä¸¤ä¸ªå®¶ä¼™å°±åƒå‰ç«¯ç•Œçš„â€œéšç§˜ç‰¹å·¥â€ï¼Œèƒ½è®©æˆ‘ä»¬æ•è·å±å¹•ã€å¤„ç†æµæ•°æ®ï¼Œè¿˜èƒ½æŠŠç»“æœæ‰“åŒ…æˆè§†é¢‘æ–‡ä»¶ã€‚è®©æˆ‘ä»¬æ‹†å¼€çœ‹çœ‹å®ƒä»¬æ˜¯æ€ä¹ˆç©çš„ã€‚\n\n### 1. WebRTCï¼šå±å¹•æ•è·çš„â€œçœ¼ç›â€ ğŸ‘€\n\nWebRTCï¼ˆWeb Real-Time Communicationï¼‰æœ¬æ¥æ˜¯ä¸ºå®æ—¶éŸ³è§†é¢‘é€šä¿¡è®¾è®¡çš„ï¼Œä½†å®ƒçš„ `getDisplayMedia` æ–¹æ³•æ˜¯æˆ‘ä»¬å½•å±çš„â€œå¤§æ€å™¨â€ã€‚å®ƒèƒ½æ•è·ç”¨æˆ·çš„å±å¹•ã€çª—å£æˆ–æ ‡ç­¾é¡µå†…å®¹ï¼Œè¿”å›ä¸€ä¸ª `MediaStream` å¯¹è±¡ã€‚\n\n```javascript\nasync function startScreenCapture() {\n  try {\n    const stream = await navigator.mediaDevices.getDisplayMedia({\n      video: {\n        cursor: 'always', // å½•åˆ¶é¼ æ ‡å…‰æ ‡ï¼Œå¯é€‰ 'never' æˆ– 'motion'\n      },\n      audio: false, // å¯é€‰ï¼šæ˜¯å¦å½•åˆ¶ç³»ç»Ÿå£°éŸ³\n    });\n    console.log('å±å¹•æ•è·æˆåŠŸï¼', stream);\n    return stream;\n  } catch (err) {\n    console.error('å±å¹•æ•è·å¤±è´¥ï¼š', err);\n    throw err; // ä¸ŠæŠ›é”™è¯¯ï¼Œæ–¹ä¾¿è°ƒç”¨è€…å¤„ç†\n  }\n}\n```\n\nè°ƒç”¨ `getDisplayMedia` æ—¶ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºä¸€ä¸ªé€‰æ‹©æ¡†ï¼Œç”¨æˆ·å¾—æ‰‹åŠ¨é€‰å½•åˆ¶èŒƒå›´ã€‚è¿™æ˜¯â€œæ— æ„ŸçŸ¥â€çš„ç¬¬ä¸€ä¸ªæ‹¦è·¯è™ï¼Œåé¢æˆ‘ä¼šæ•™ä½ å¦‚ä½•â€œä¼˜é›…åœ°éšè—â€è¿™ä¸ªè¿‡ç¨‹ã€‚\n\n**å° Tips**ï¼š\n- å‚æ•°é‡Œå¯ä»¥ç»†åŒ–è¦æ±‚ï¼Œæ¯”å¦‚ `video: { width: 1280, height: 720 }`ï¼Œé™åˆ¶å½•åˆ¶åˆ†è¾¨ç‡ï¼ŒèŠ‚çœæ€§èƒ½ã€‚\n- å¦‚æœåªå…³å¿ƒæŸä¸ªåŒºåŸŸï¼ˆæ¯”å¦‚ canvasï¼‰ï¼Œå¯ä»¥ç”¨ `getUserMedia` é…åˆ `canvas.captureStream()`ï¼Œå®Œå…¨ç»•è¿‡å¼¹çª—ã€‚\n- æ£€æŸ¥å…¼å®¹æ€§ï¼šChrome å’Œ Firefox æ”¯æŒè‰¯å¥½ï¼Œä½† Safari å¯¹ `getDisplayMedia` çš„æ”¯æŒæœ‰ç‚¹â€œæŒ‘é£Ÿâ€ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„é€‚é…ã€‚\n\n### 2. MediaRecorderï¼šæµè½¬è§†é¢‘çš„â€œæ‰“åŒ…å·¥â€ ğŸ“¦\n\næœ‰äº† `MediaStream`ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒå˜æˆè§†é¢‘æ–‡ä»¶ã€‚è¿™æ—¶å€™ `MediaRecorder` ä¸Šåœºäº†ã€‚å®ƒèƒ½æŠŠæµæ•°æ®åˆ†ç‰‡å½•åˆ¶ï¼Œè¾“å‡ºä¸º Blob å¯¹è±¡ï¼Œæœ€ç»ˆåˆæˆ MP4 æˆ– WebM æ–‡ä»¶ã€‚\n\n```javascript\nfunction recordStream(stream) {\n  const options = { mimeType: 'video/webm;codecs=vp9' }; // VP9 ç¼–ç ï¼Œè´¨é‡æ›´é«˜\n  const recorder = new MediaRecorder(stream, options);\n  const chunks = [];\n\n  recorder.ondataavailable = (event) => {\n    if (event.data.size > 0) chunks.push(event.data); // é¿å…ç©ºæ•°æ®\n  };\n\n  recorder.onstop = () => {\n    const blob = new Blob(chunks, { type: options.mimeType });\n    const url = URL.createObjectURL(blob);\n    console.log('å½•åˆ¶å®Œæˆï¼è§†é¢‘åœ°å€ï¼š', url);\n    // è¿™é‡Œå¯ä»¥ä¸‹è½½æˆ–æ’­æ”¾\n  };\n\n  recorder.onerror = (err) => console.error('å½•åˆ¶å‡ºé”™ï¼š', err);\n\n  recorder.start(1000); // æ¯ç§’ç”Ÿæˆä¸€ä¸ªåˆ†ç‰‡\n  return recorder;\n}\n```\n\n**å° Tips**ï¼š\n- `mimeType` æ”¯æŒå¤šç§æ ¼å¼ï¼Œæ¯”å¦‚ `video/webm;codecs=h264`ï¼ˆH.264 ç¼–ç ï¼‰ï¼Œä½† WebM + VP9 æ˜¯é»˜è®¤æ¨èï¼Œå…¼å®¹æ€§å’Œä½“ç§¯éƒ½å¾ˆä¼˜ç§€ã€‚\n- ç”¨ `timeslice`ï¼ˆå¦‚ `start(1000)`ï¼‰åˆ†ç‰‡å½•åˆ¶ï¼Œæ–¹ä¾¿å®æ—¶ä¿å­˜æˆ–ä¸­æ–­åæ¢å¤ã€‚\n- ç›‘å¬ `onerror`ï¼Œé˜²æ­¢å½•åˆ¶è¿‡ç¨‹ä¸­å´©æºƒæ— å£°æ— æ¯ã€‚\n\n## å¦‚ä½•åšåˆ°â€œæ— æ„ŸçŸ¥â€ï¼Ÿ\n\næŠ€æœ¯åŸºç¡€æ‰“å¥½äº†ï¼Œç°åœ¨è¿›å…¥æ­£é¢˜ï¼šæ€ä¹ˆè®©ç”¨æˆ·â€œæ„Ÿè§‰ä¸åˆ°â€æˆ‘ä»¬åœ¨å½•å±ï¼Ÿè¿™é‡Œæœ‰å‡ ä¸ªå…³é”®ç‚¹è¦æ”»å…‹ã€‚\n\n### 1. ç»•è¿‡æƒé™å¼¹çª—çš„â€œéšœçœ¼æ³•â€ ğŸ­\n\n`getDisplayMedia` çš„æƒé™å¼¹çª—æ— æ³•å®Œå…¨æ¶ˆé™¤ï¼Œè¿™æ˜¯æµè§ˆå™¨çš„å®‰å…¨æœºåˆ¶ã€‚ä½†æˆ‘ä»¬å¯ä»¥â€œä¼ªè£…â€è§¦å‘æ—¶æœºï¼Œè®©ç”¨æˆ·ä»¥ä¸ºè¿™æ˜¯æ­£å¸¸æ“ä½œã€‚æ¯”å¦‚ï¼Œåœ¨ç”¨æˆ·ç‚¹å‡»â€œå¼€å§‹ä½¿ç”¨â€æˆ–â€œæäº¤åé¦ˆâ€æ—¶ï¼Œæ‚„ç„¶å¯åŠ¨å½•å±ã€‚\n\n```javascript\ndocument.querySelector('#startButton').addEventListener('click', async () => {\n  const stream = await startScreenCapture();\n  const recorder = recordStream(stream);\n  console.log('ç”¨æˆ·ç‚¹äº†å¼€å§‹ï¼Œæˆ‘ä»¬å·å·å½•å±å•¦ï½');\n  // å‡è£…ä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿï¼Œç»§ç»­ä¸šåŠ¡é€»è¾‘\n});\n```\n\n**æœ€ä½³å®è·µ**ï¼š\n- UI ä¸ŠåŠ ä¸ªæ¨¡ç³Šæç¤ºï¼Œæ¯”å¦‚â€œç‚¹å‡»å¼€å§‹ä»¥è®°å½•ä½ çš„æ“ä½œï¼ˆå¯é€‰ï¼‰â€ï¼Œæ—¢é“å¾·åˆæ©ç›–æ„å›¾ã€‚\n- å¦‚æœæ˜¯å†…éƒ¨å·¥å…·ï¼Œå¯ä»¥æå‰è®©ç”¨æˆ·æˆæƒâ€œå§‹ç»ˆå…è®¸â€ï¼Œå‡å°‘å¼¹çª—ã€‚\n- ç”¨ try-catch åŒ…è£¹ï¼Œä¼˜é›…å¤„ç†ç”¨æˆ·æ‹’ç»æƒé™çš„æƒ…å†µã€‚\n\n### 2. éšè—å½•å±çŠ¶æ€çš„â€œéšœçœ¼æ³•â€ ğŸ•µï¸â€â™‚ï¸\n\næµè§ˆå™¨é»˜è®¤ä¼šåœ¨å½•å±æ—¶æ˜¾ç¤ºâ€œæ­£åœ¨å…±äº«å±å¹•â€çš„æç¤ºï¼ˆæ¯”å¦‚ Chrome çš„å°çº¢ç‚¹ï¼‰ã€‚æˆ‘ä»¬æ— æ³•ç§»é™¤ï¼Œä½†å¯ä»¥æ§åˆ¶å½•åˆ¶æ—¶é—´å’Œåœºæ™¯é™ä½å¯Ÿè§‰ã€‚æ¯”å¦‚ï¼Œåªåœ¨å…³é”®æ“ä½œæ—¶çŸ­æ—¶å½•åˆ¶ï¼Œè€Œä¸æ˜¯å…¨ç¨‹å¼€ç€ã€‚\n\n```javascript\nfunction stealthRecord(stream, duration = 5000) {\n  const recorder = recordStream(stream);\n  setTimeout(() => {\n    recorder.stop();\n    stream.getTracks().forEach(track => track.stop());\n    console.log('5ç§’å½•åˆ¶å®Œæˆï¼Œç”¨æˆ·åº”è¯¥æ²¡å‘ç°å§ï¼Ÿ');\n  }, duration);\n}\n```\n\n**å° Tips**ï¼š\n- ç”¨ `requestAnimationFrame` æ£€æµ‹ç”¨æˆ·æ“ä½œï¼Œåªåœ¨â€œæœ‰æ„ä¹‰â€çš„æ—¶åˆ»å½•åˆ¶ï¼ˆæ¯”å¦‚æ‹–æ‹½æˆ–ç‚¹å‡»ï¼‰ã€‚\n- ç›‘å¬ `stream.oninactive`ï¼Œç”¨æˆ·å…³é—­å½•å±çª—å£æ—¶åŠæ—¶æ¸…ç†ã€‚\n\n### 3. æ€§èƒ½ä¼˜åŒ–ï¼šåˆ«è®©é¡µé¢å¡æˆâ€œPPTâ€ âš¡\n\nå½•å±å¾ˆâ€œåƒæ€§èƒ½â€ï¼Œå°¤å…¶åœ¨é«˜åˆ†è¾¨ç‡å±å¹•ä¸Šã€‚æˆ‘ä»¬å¾—ä¿è¯é¡µé¢æµç•…ï¼Œä¸ç„¶ç”¨æˆ·ä¼šæ€€ç–‘â€œæ€ä¹ˆçªç„¶å˜æ…¢äº†â€ã€‚ä¼˜åŒ–ç‚¹å¦‚ä¸‹ï¼š\n\n- **é™ä½å¸§ç‡**ï¼š60fps å¤ªå¥¢ä¾ˆï¼Œ15-30fps å¤Ÿç”¨ã€‚\n  ```javascript\n  const stream = await navigator.mediaDevices.getDisplayMedia({\n    video: { frameRate: { ideal: 15, max: 30 } },\n  });\n  ```\n- **å‹ç¼©åˆ†è¾¨ç‡**ï¼šæŒ‡å®šå½•åˆ¶åŒºåŸŸçš„åˆ†è¾¨ç‡ï¼Œé¿å… 4K å…¨å±ã€‚\n- **å¼‚æ­¥å¤„ç†**ï¼šç”¨ Web Worker å¤„ç† Blob åˆå¹¶ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚\n\n**æœ€ä½³å®è·µ**ï¼š\n- ç”¨ `performance.mark` å’Œ `performance.measure` ç›‘æ§å½•åˆ¶æ€§èƒ½ï¼ŒåŠ¨æ€è°ƒæ•´å¸§ç‡ã€‚\n- å¦‚æœæœ‰ canvasï¼Œç›´æ¥ç”¨ `canvas.captureStream(15)`ï¼Œæ€§èƒ½æ¯”å…¨å±å½•åˆ¶é«˜å¾—å¤šã€‚\n\n## ä¿å­˜åˆ°æœ¬åœ°ï¼šå¤šç§å§¿åŠ¿ä»»ä½ æŒ‘\n\nå½•å®Œå±åï¼Œæ€ä¹ˆä¿å­˜åˆ°æœ¬åœ°æ˜¯ä¸ªå¤§é—®é¢˜ã€‚æˆ‘ä»¬ä¸èƒ½æŒ‡æœ›ç”¨æˆ·æ‰‹åŠ¨ä¸‹è½½ï¼Œå¾—è®©å®ƒå°½å¯èƒ½è‡ªåŠ¨åŒ–ã€ä¼˜é›…åŒ–ã€‚è¿™é‡Œæˆ‘æ•´ç†äº†ä¸‰ç§ä¸»æµæ–¹æ¡ˆï¼Œå¸¦ä½ ä»ç®€å•åˆ°é«˜çº§ç©ä¸€éã€‚\n\n### 1. åŸºç¡€ç‰ˆï¼šè§¦å‘è‡ªåŠ¨ä¸‹è½½ ğŸ“¥\n\næœ€ç®€å•çš„æ–¹å¼æ˜¯ç”Ÿæˆ Blob åï¼Œæ¨¡æ‹Ÿ `<a>` æ ‡ç­¾ç‚¹å‡»ï¼Œè§¦å‘ä¸‹è½½ã€‚\n\n```javascript\nfunction saveToLocal(blob) {\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `recording-${new Date().toISOString().replace(/:/g, '-')}.webm`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url); // é‡Šæ”¾å†…å­˜\n}\n```\n\n**ç»†èŠ‚è¡¥å……**ï¼š\n- æ–‡ä»¶åç”¨ `toISOString()` ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„åå­—ï¼Œé¿å…è¦†ç›–ã€‚\n- `replace(/:/g, '-')` æ˜¯å› ä¸º Windows ä¸å…è®¸æ–‡ä»¶åå¸¦å†’å·ã€‚\n- åŠ ä¸ªé”™è¯¯å¤„ç†ï¼š\n  ```javascript\n  try {\n    a.click();\n  } catch (err) {\n    console.error('ä¸‹è½½å¤±è´¥ï¼š', err);\n    alert('ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æƒé™ï¼');\n  }\n  ```\n\n**å° Tips**ï¼š\n- å¦‚æœç”¨æˆ·ç‚¹äº†â€œå–æ¶ˆä¸‹è½½â€ï¼Œå¯ä»¥ç”¨ `window.confirm` å†ç»™ä¸€æ¬¡æœºä¼šã€‚\n- æ–‡ä»¶åå¯ä»¥åŠ ä¸ªå‰ç¼€ï¼ˆæ¯”å¦‚ `appName-recording-`ï¼‰ï¼Œæ–¹ä¾¿åŒºåˆ†æ¥æºã€‚\n\n### 2. ä¸­çº§ç‰ˆï¼šæ‰¹é‡ä¿å­˜ + æ–‡ä»¶ç®¡ç† ğŸ“‚\n\nå¦‚æœå½•å±åˆ†ç‰‡å¾ˆå¤šï¼ˆæ¯”å¦‚æ¯ç§’ä¸€ä¸ª chunkï¼‰ï¼Œå¯ä»¥æ‰¹é‡ä¿å­˜ï¼Œæˆ–è€…è®©ç”¨æˆ·é€‰æ‹©ä¿å­˜è·¯å¾„ï¼ˆå€ŸåŠ© Filesystem APIï¼Œè™½ç„¶ç›®å‰å…¼å®¹æ€§æœ‰é™ï¼‰ã€‚\n\n```javascript\nasync function saveBatchRecordings(chunks) {\n  const timestamp = new Date().toISOString().replace(/:/g, '-');\n  for (let i = 0; i < chunks.length; i++) {\n    const blob = new Blob([chunks[i]], { type: 'video/webm' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `recording-part${i + 1}-${timestamp}.webm`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    await new Promise(resolve => setTimeout(resolve, 100)); // é¿å…æµè§ˆå™¨å¡é¡¿\n  }\n  console.log('æ‰¹é‡ä¿å­˜å®Œæˆï¼');\n}\n```\n\n**ç»†èŠ‚è¡¥å……**ï¼š\n- åŠ äº†ä¸ª `setTimeout` é—´éš”ï¼Œé¿å…æµè§ˆå™¨ä¸€æ¬¡æ€§å¤„ç†å¤ªå¤šä¸‹è½½ä»»åŠ¡ã€‚\n- å¦‚æœæ”¯æŒ Filesystem APIï¼ˆChrome 86+ï¼‰ï¼Œå¯ä»¥ç”¨ï¼š\n  ```javascript\n  async function saveWithFilesystem(blob) {\n    const handle = await window.showSaveFilePicker({\n      suggestedName: `recording-${Date.now()}.webm`,\n      types: [{ description: 'Video File', accept: { 'video/webm': ['.webm'] } }],\n    });\n    const writable = await handle.createWritable();\n    await writable.write(blob);\n    await writable.close();\n    console.log('æ–‡ä»¶å·²ä¿å­˜åˆ°ç”¨æˆ·é€‰æ‹©çš„ä½ç½®ï¼');\n  }\n  ```\n\n**æœ€ä½³å®è·µ**ï¼š\n- æ£€æŸ¥ `window.showSaveFilePicker` æ˜¯å¦å¯ç”¨ï¼Œä¸æ”¯æŒæ—¶å›é€€åˆ°è‡ªåŠ¨ä¸‹è½½ã€‚\n- åˆ†ç‰‡ä¿å­˜æ—¶ï¼ŒåŠ ä¸ªè¿›åº¦æç¤ºï¼ˆæ¯”å¦‚ `console.log('å·²ä¿å­˜ ${i + 1}/${chunks.length}')`ï¼‰ã€‚\n\n### 3. é«˜çº§ç‰ˆï¼šæœ¬åœ°ç¼“å­˜ + å»¶è¿Ÿä¿å­˜ ğŸ’¾\n\nå¦‚æœä¸æƒ³ç«‹åˆ»ä¸‹è½½ï¼Œå¯ä»¥å…ˆå­˜åˆ° IndexedDBï¼Œç­‰ç”¨æˆ·ä¸»åŠ¨è§¦å‘ä¿å­˜ï¼Œæˆ–è€…åœ¨é¡µé¢å…³é—­å‰è‡ªåŠ¨ä¿å­˜ã€‚\n\n```javascript\nimport { openDB } from 'idb'; // å¼•å…¥ idb åº“\n\nasync function saveToIndexedDB(blob) {\n  const db = await openDB('StealthRecorderDB', 1, {\n    upgrade(db) {\n      db.createObjectStore('recordings', { autoIncrement: true });\n    },\n  });\n  const tx = db.transaction('recordings', 'readwrite');\n  await tx.store.add(blob);\n  await tx.done;\n  console.log('å½•å±å·²ç¼“å­˜åˆ° IndexedDBï¼');\n}\n\nasync function exportFromIndexedDB() {\n  const db = await openDB('StealthRecorderDB', 1);\n  const recordings = await db.getAll('recordings');\n  recordings.forEach((blob, index) => {\n    saveToLocal(blob); // è°ƒç”¨åŸºç¡€ç‰ˆä¿å­˜\n  });\n  console.log('æ‰€æœ‰ç¼“å­˜å½•å±å·²å¯¼å‡ºï¼');\n}\n\n// ç¤ºä¾‹ï¼šé¡µé¢å…³é—­å‰ä¿å­˜\nwindow.addEventListener('beforeunload', () => exportFromIndexedDB());\n```\n\n**ç»†èŠ‚è¡¥å……**ï¼š\n- IndexedDB é€‚åˆå­˜å¤§æ–‡ä»¶ï¼Œæ¯” localStorage é è°±ã€‚\n- å¯ä»¥åŠ ä¸ªæ¸…ç†é€»è¾‘ï¼š\n  ```javascript\n  async function clearIndexedDB() {\n    const db = await openDB('StealthRecorderDB', 1);\n    await db.clear('recordings');\n    console.log('ç¼“å­˜å·²æ¸…ç†ï¼');\n  }\n  ```\n\n**å° Tips**ï¼š\n- åŠ ä¸ªç®€å•çš„ UIï¼Œæ¯”å¦‚ `<button onclick=\"exportFromIndexedDB()\">å¯¼å‡ºå½•å±</button>`ã€‚\n- ç”¨ `blob.size` æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼Œæé†’ç”¨æˆ·æ¸…ç†ç¼“å­˜ã€‚\n\n## å®Œæ•´å®ç°ï¼šä»æ•è·åˆ°ä¿å­˜\n\næŠŠè¿™äº›æ‹¼èµ·æ¥ï¼Œå†™ä¸€ä¸ªå®Œæ•´çš„â€œæ— æ„ŸçŸ¥å½•å±â€å·¥å…·ï¼š\n\n```javascript\nclass StealthRecorder {\n  constructor(options = {}) {\n    this.stream = null;\n    this.recorder = null;\n    this.chunks = [];\n    this.options = {\n      frameRate: 15,\n      duration: options.duration || 10000,\n      mimeType: 'video/webm;codecs=vp9',\n      ...options,\n    };\n  }\n\n  async start() {\n    try {\n      this.stream = await navigator.mediaDevices.getDisplayMedia({\n        video: { frameRate: { ideal: this.options.frameRate } },\n        audio: false,\n      });\n      this.recorder = new MediaRecorder(this.stream, {\n        mimeType: this.options.mimeType,\n      });\n\n      this.recorder.ondataavailable = (event) => {\n        if (event.data.size > 0) this.chunks.push(event.data);\n      };\n\n      this.recorder.onstop = () => {\n        const blob = new Blob(this.chunks, { type: this.options.mimeType });\n        this.save(blob);\n      };\n\n      this.recorder.start(1000);\n      setTimeout(() => this.stop(), this.options.duration);\n    } catch (err) {\n      console.error('å½•å±å¯åŠ¨å¤±è´¥ï¼š', err);\n    }\n  }\n\n  stop() {\n    if (this.recorder?.state !== 'inactive') {\n      this.recorder.stop();\n      this.stream.getTracks().forEach(track => track.stop());\n    }\n  }\n\n  save(blob) {\n    if (this.options.saveTo === 'indexeddb') {\n      saveToIndexedDB(blob);\n    } else if (this.options.saveTo === 'filesystem' && window.showSaveFilePicker) {\n      saveWithFilesystem(blob);\n    } else {\n      saveToLocal(blob);\n    }\n  }\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\ndocument.querySelector('#stealthButton').addEventListener('click', () => {\n  const recorder = new StealthRecorder({\n    duration: 5000,\n    saveTo: 'local', // å¯é€‰ï¼š'indexeddb', 'filesystem'\n  });\n  recorder.start();\n  console.log('å·å·å½•å±å¼€å§‹ï¼Œç”¨æˆ·è¿˜åœ¨ä¸“å¿ƒç©é¡µé¢å‘¢ï½');\n});\n```\n\nè¿™ä¸ªç±»æ”¯æŒå¤šç§ä¿å­˜æ–¹å¼ï¼Œé»˜è®¤è‡ªåŠ¨ä¸‹è½½ï¼Œè¿˜èƒ½åˆ‡æ¢åˆ° IndexedDB æˆ– Filesystem APIã€‚\n\n## è¿›é˜¶ç©æ³•ï¼šæ›´å¤šåˆ›æ„åœºæ™¯\n\nå…‰ä¼šå½•å±å’Œä¿å­˜è¿˜ä¸å¤Ÿï¼Œå‰ç«¯er çš„è„‘æ´å¾—æ›´å¤§ï¼è¿™é‡Œæ˜¯ä¸€äº›è¿›é˜¶ç‚¹å­ï¼š\n\n### 1. å®æ—¶é¢„è§ˆ + ç¼–è¾‘ âœ‚ï¸\n\næŠŠ Blob åˆ†ç‰‡ä¸¢åˆ° `<video>` é‡Œå®æ—¶é¢„è§ˆï¼Œç”¨ `MediaStreamTrackProcessor` åŠ æ°´å°æˆ–è£å‰ªã€‚\n\n### 2. é…åˆ Canvas å®ç°â€œå±€éƒ¨å½•å±â€ ğŸ¨\n\nåªå½•åˆ¶ç‰¹å®šåŒºåŸŸï¼š\n```javascript\nconst canvas = document.querySelector('#myCanvas');\nconst stream = canvas.captureStream(15);\nconst recorder = recordStream(stream);\n```\n\n### 3. ä¸Šä¼ åˆ°æœåŠ¡å™¨ + è¿›åº¦åé¦ˆ â˜ï¸\n\nå½•å®Œç”¨ `fetch` ä¸Šä¼ ï¼š\n```javascript\nasync function uploadRecording(blob) {\n  const response = await fetch('/upload', {\n    method: 'POST',\n    body: blob,\n    headers: { 'Content-Type': 'video/webm' },\n  });\n  console.log('ä¸Šä¼ ç»“æœï¼š', await response.json());\n}\n```\n\n## æ³¨æ„äº‹é¡¹ï¼šæ³•å¾‹å’Œé“å¾·çš„çº¢çº¿ âš–ï¸\n\nåˆ«å¿˜äº†éšç§é—®é¢˜ï¼š\n- æ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·å¹¶è·å¾—åŒæ„ï¼ˆç”¨æˆ·åè®®é‡Œå†™æ¸…æ¥šï¼‰ã€‚\n- éµå®ˆ GDPRã€CCPA ç­‰æ³•å¾‹æ³•è§„ã€‚\n- æä¾›å…³é—­é€‰é¡¹ï¼Œåˆ«ææˆâ€œå¼ºåˆ¶å·çª¥â€ã€‚\n\n**å° Tips**ï¼š\n- åŠ ä¸ªå¼€å…³ `<input type=\"checkbox\" id=\"disableRecording\">`ã€‚\n- å¼€å‘æ—¶ç”¨ `console.time` æ‰“ç‚¹ï¼Œç¡®ä¿é€»è¾‘é€æ˜ã€‚\n\n## æ€»ç»“ï¼šéšç§˜è€Œå¼ºå¤§çš„å‰ç«¯é­”æ³•\n\né€šè¿‡ WebRTC å’Œ MediaRecorderï¼Œæˆ‘ä»¬å¯ä»¥åœ¨çº¯å‰ç«¯å®ç°éšç§˜ã€é«˜æ•ˆçš„å±å¹•å½•åˆ¶ã€‚ä»æƒé™ä¼ªè£…åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œå†åˆ°å¤šç§ä¿å­˜æ–¹æ¡ˆï¼Œè¿™ç¯‡æ–‡ç« åº”è¯¥ç»™äº†ä½ æ»¡æ»¡çš„å¹²è´§ã€‚æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—å‰ç«¯åˆå¤šäº†ä¸€ç‚¹â€œé»‘é­”æ³•â€çš„å‘³é“ï¼Ÿä¸‹æ¬¡è€æ¿é—®â€œèƒ½ä¸èƒ½å·å·å½•ä¸ªå±â€ï¼Œä½ å¯ä»¥æ‹èƒ¸è„¯è¯´ï¼šâ€œèƒ½ï¼Œä½†å¾—å…ˆç­¾æˆæƒä¹¦ï¼â€ ğŸ˜‚\n\næœ‰å•¥é—®é¢˜æˆ–æ›´å¥½çš„ç‚¹å­ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºèŠèŠï¼Œæˆ‘ç­‰ç€è¢«ä½ ä»¬â€œåŠæ‰“â€å‘¢ï¼âœŒï¸\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var B=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),u=(n,e)=>{for(var r in e)a(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of y(e))!g.call(n,c)&&c!==r&&a(n,c,{get:()=>e[c],enumerable:!(s=E(e,c))||s.enumerable});return n};var m=(n,e,r)=>(r=n!=null?p(F(n)):{},d(e||!n||!n.__esModule?a(r,\"default\",{value:n,enumerable:!0}):r,n)),b=n=>d(a({},\"__esModule\",{value:!0}),n);var i=B((C,o)=>{o.exports=_jsx_runtime});var k={};u(k,{default:()=>h,frontmatter:()=>f});var l=m(i()),f={type:\"Post\",title:\"\\u7EAF\\u524D\\u7AEF\\u5982\\u4F55\\u5B9E\\u73B0\\u300C\\u7528\\u6237\\u65E0\\u611F\\u77E5\\u5F55\\u5C4F\\u300D\\uFF1F\",date:\"2023-11-06\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u5982\\u4F55\\u5728\\u7EAF\\u524D\\u7AEF\\u5B9E\\u73B0\\u7528\\u6237\\u65E0\\u611F\\u77E5\\u7684\\u5C4F\\u5E55\\u5F55\\u5236\\u529F\\u80FD\\uFF0C\\u6DB5\\u76D6\\u539F\\u7406\\u3001\\u5B9E\\u73B0\\u65B9\\u5F0F\\u3001\\u4FDD\\u5B58\\u5230\\u672C\\u5730\\u3001\\u6027\\u80FD\\u4F18\\u5316\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\u548C\\u6CE8\\u610F\\u4E8B\\u9879\\uFF0C\\u5E26\\u4F60\\u6253\\u9020\\u4E00\\u4E2A\\u9690\\u79D8\\u53C8\\u5F3A\\u5927\\u7684\\u5F55\\u5C4F\\u795E\\u5668\\u3002\",keywords:\"\\u524D\\u7AEF\\u5F00\\u53D1, \\u5C4F\\u5E55\\u5F55\\u5236, MediaRecorder, WebRTC, \\u7528\\u6237\\u65E0\\u611F\\u77E5, \\u6027\\u80FD\\u4F18\\u5316, \\u6587\\u4EF6\\u4FDD\\u5B58, JavaScript\",author:\"\\u6653\\u9F99\",image:\"/images/hero/screen-recording.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"JavaScript\",\"WebRTC\",\"\\u6027\\u80FD\\u4F18\\u5316\",\"\\u6587\\u4EF6\\u5904\\u7406\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function t(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:[\"\\u55E8\\uFF0C\\u524D\\u7AEF\\u670B\\u53CB\\u4EEC\\uFF01\\u{1F44B} \\u4ECA\\u5929\\u6211\\u4EEC\\u8981\\u804A\\u4E00\\u4E2A\\u6709\\u70B9\\u201C\\u5077\\u5077\\u6478\\u6478\\u201D\\u4F46\\u8D85\\u7EA7\\u9177\\u70AB\\u7684\\u8BDD\\u9898\\u2014\\u2014\\u5982\\u4F55\\u5728\\u7EAF\\u524D\\u7AEF\\u5B9E\\u73B0\",(0,l.jsx)(e.strong,{children:\"\\u7528\\u6237\\u65E0\\u611F\\u77E5\\u7684\\u5C4F\\u5E55\\u5F55\\u5236\"}),\"\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4F60\\u7684 Web \\u5E94\\u7528\\u80FD\\u5728\\u7528\\u6237\\u5B8C\\u5168\\u4E0D\\u5BDF\\u89C9\\u7684\\u60C5\\u51B5\\u4E0B\\uFF0C\\u6084\\u6084\\u5F55\\u4E0B\\u4ED6\\u4EEC\\u7684\\u5C4F\\u5E55\\u64CD\\u4F5C\\uFF0C\\u751F\\u6210\\u4E00\\u6BB5\\u89C6\\u9891\\uFF0C\\u7136\\u540E\\u4FDD\\u5B58\\u5230\\u672C\\u5730\\uFF0C\\u6216\\u8005\\u5077\\u5077\\u5E72\\u70B9\\u522B\\u7684\\uFF08\\u5F53\\u7136\\u662F\\u5408\\u6CD5\\u7684\\u7528\\u9014\\u5566\\uFF09\\u3002\\u8FD9\\u4E0D\\u662F\\u4EC0\\u4E48\\u201C\\u9ED1\\u5BA2\\u5E1D\\u56FD\\u201D\\u7684\\u5267\\u672C\\uFF0C\\u800C\\u662F\\u53EF\\u4EE5\\u7528\\u5728\\u5BA2\\u670D\\u652F\\u6301\\u3001\\u7528\\u6237\\u884C\\u4E3A\\u5206\\u6790\\uFF0C\\u751A\\u81F3\\u662F\\u201C\\u5E2E\\u7528\\u6237\\u7D27\\u6025\\u5B58\\u6863\\u64CD\\u4F5C\\u8BB0\\u5F55\\u201D\\u7684\\u573A\\u666F\\u3002\\u522B\\u8BEF\\u4F1A\\uFF0C\\u6211\\u53EF\\u6CA1\\u9F13\\u52B1\\u4F60\\u53BB\\u5F55\\u8001\\u677F\\u5F00\\u4F1A\\u7136\\u540E\\u62FF\\u53BB\\u5356\\u7ED9\\u5BF9\\u624B\\u516C\\u53F8\\u54E6\\uFF08\\u7B11\\uFF09\\u3002\\u{1F60F}\"]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4F1A\\u5E26\\u4F60\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u6DF1\\u5165\\u5256\\u6790\\u5B9E\\u73B0\\u8FD9\\u4E2A\\u529F\\u80FD\\u7684\\u539F\\u7406\\u3001\\u6280\\u672F\\u9009\\u578B\\u3001\\u4EE3\\u7801\\u5B9E\\u73B0\\uFF0C\\u4EE5\\u53CA\\u4E00\\u5927\\u5806\\u5B9E\\u7528\\u7684\\u5C0F\\u6280\\u5DE7\\u548C\\u8E29\\u5751\\u7ECF\\u9A8C\\u3002\\u6211\\u4EEC\\u8FD8\\u4F1A\\u7279\\u522B\\u805A\\u7126\\u5982\\u4F55\\u4F18\\u96C5\\u5730\\u4FDD\\u5B58\\u5F55\\u5236\\u7684\\u89C6\\u9891\\u5230\\u672C\\u5730\\uFF0C\\u6DB5\\u76D6\\u591A\\u79CD\\u65B9\\u6848\\u548C\\u7EC6\\u8282\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u6F5C\\u5165\\u8FD9\\u4E2A\\u201C\\u9690\\u79D8\\u7684\\u524D\\u7AEF\\u89D2\\u843D\\u201D\\u5427\\uFF01\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u7528\\u6237\\u65E0\\u611F\\u77E5\\u5F55\\u5C4F\",children:(0,l.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u7528\\u6237\\u65E0\\u611F\\u77E5\\u5F55\\u5C4F\",children:\"\\u4EC0\\u4E48\\u662F\\u201C\\u7528\\u6237\\u65E0\\u611F\\u77E5\\u5F55\\u5C4F\\u201D\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5148\\u660E\\u786E\\u6982\\u5FF5\\uFF1A\\u6240\\u8C13\\u201C\\u7528\\u6237\\u65E0\\u611F\\u77E5\\u5F55\\u5C4F\\u201D\\uFF0C\\u5C31\\u662F\\u5728\\u4E0D\\u6253\\u6270\\u7528\\u6237\\u3001\\u4E0D\\u5F39\\u51FA\\u663E\\u773C\\u63D0\\u793A\\uFF08\\u6216\\u8005\\u5E72\\u8106\\u4E0D\\u63D0\\u793A\\uFF09\\u7684\\u60C5\\u51B5\\u4E0B\\uFF0C\\u6355\\u83B7\\u5C4F\\u5E55\\u5185\\u5BB9\\u5E76\\u751F\\u6210\\u89C6\\u9891\\u3002\\u8FD9\\u542C\\u8D77\\u6765\\u6709\\u70B9\\u50CF\\u201C\\u95F4\\u8C0D\\u8F6F\\u4EF6\\u201D\\uFF0C\\u4F46\\u5728\\u5408\\u6CD5\\u6388\\u6743\\u7684\\u573A\\u666F\\u4E0B\\uFF0C\\u5B83\\u53EF\\u662F\\u4E2A\\u5B9D\\u85CF\\u529F\\u80FD\\u3002\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5BA2\\u670D\\u652F\\u6301\"}),\"\\uFF1A\\u7528\\u6237\\u62A5 Bug \\u65F6\\uFF0C\\u81EA\\u52A8\\u5F55\\u4E0B\\u64CD\\u4F5C\\u8FC7\\u7A0B\\uFF0C\\u7701\\u53BB\\u201C\\u8BF7\\u63CF\\u8FF0\\u4E00\\u4E0B\\u4F60\\u70B9\\u4E86\\u5565\\u201D\\u7684\\u6293\\u72C2\\u65F6\\u523B\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7528\\u6237\\u4F53\\u9A8C\\u4F18\\u5316\"}),\"\\uFF1A\\u5206\\u6790\\u7528\\u6237\\u5982\\u4F55\\u4E0E\\u4F60\\u7684\\u5E94\\u7528\\u4E92\\u52A8\\uFF0C\\u627E\\u51FA\\u54EA\\u91CC\\u8BBE\\u8BA1\\u5F97\\u4E0D\\u591F\\u201C\\u4EBA\\u6027\\u5316\\u201D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6559\\u80B2\\u5DE5\\u5177\"}),\"\\uFF1A\\u81EA\\u52A8\\u4FDD\\u5B58\\u7528\\u6237\\u7684\\u64CD\\u4F5C\\u8BB0\\u5F55\\uFF0C\\u751F\\u6210\\u6559\\u5B66\\u89C6\\u9891\\u6216\\u56DE\\u653E\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4F46\\u8981\\u505A\\u5230\\u201C\\u65E0\\u611F\\u77E5\\u201D\\uFF0C\\u6211\\u4EEC\\u5F97\\u7ED5\\u8FC7\\u6D4F\\u89C8\\u5668\\u7684\\u201C\\u5B89\\u5168\\u9632\\u7EBF\\u201D\\uFF08\\u6BD4\\u5982\\u6743\\u9650\\u5F39\\u7A97\\uFF09\\uFF0C\\u540C\\u65F6\\u4FDD\\u8BC1\\u6027\\u80FD\\u548C\\u9690\\u853D\\u6027\\u3002\\u8FD9\\u53EF\\u4E0D\\u662F\\u968F\\u4FBF\\u5199\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"alert('\\u5F00\\u59CB\\u5F55\\u5C4F\\u5566')\"})})})}),\" \\u5C31\\u80FD\\u7CCA\\u5F04\\u8FC7\\u53BB\\u7684\\u6D3B\\u513F\\u3002\\u{1F605}\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6838\\u5FC3\\u6280\\u672F\\u6808webrtc-\\u548C-mediarecorder\",children:(0,l.jsx)(e.a,{href:\"#\\u6838\\u5FC3\\u6280\\u672F\\u6808webrtc-\\u548C-mediarecorder\",children:\"\\u6838\\u5FC3\\u6280\\u672F\\u6808\\uFF1AWebRTC \\u548C MediaRecorder\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5B9E\\u73B0\\u5C4F\\u5E55\\u5F55\\u5236\\u7684\\u6838\\u5FC3\\u6B66\\u5668\\u662F\\u6D4F\\u89C8\\u5668\\u7684\\u4E24\\u5927 API\\uFF1A\",(0,l.jsx)(e.strong,{children:\"WebRTC\"}),\" \\u548C \",(0,l.jsx)(e.strong,{children:\"MediaRecorder\"}),\"\\u3002\\u8FD9\\u4E24\\u4E2A\\u5BB6\\u4F19\\u5C31\\u50CF\\u524D\\u7AEF\\u754C\\u7684\\u201C\\u9690\\u79D8\\u7279\\u5DE5\\u201D\\uFF0C\\u80FD\\u8BA9\\u6211\\u4EEC\\u6355\\u83B7\\u5C4F\\u5E55\\u3001\\u5904\\u7406\\u6D41\\u6570\\u636E\\uFF0C\\u8FD8\\u80FD\\u628A\\u7ED3\\u679C\\u6253\\u5305\\u6210\\u89C6\\u9891\\u6587\\u4EF6\\u3002\\u8BA9\\u6211\\u4EEC\\u62C6\\u5F00\\u770B\\u770B\\u5B83\\u4EEC\\u662F\\u600E\\u4E48\\u73A9\\u7684\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"1-webrtc\\u5C4F\\u5E55\\u6355\\u83B7\\u7684\\u773C\\u775B-\",children:(0,l.jsx)(e.a,{href:\"#1-webrtc\\u5C4F\\u5E55\\u6355\\u83B7\\u7684\\u773C\\u775B-\",children:\"1. WebRTC\\uFF1A\\u5C4F\\u5E55\\u6355\\u83B7\\u7684\\u201C\\u773C\\u775B\\u201D \\u{1F440}\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"WebRTC\\uFF08Web Real-Time Communication\\uFF09\\u672C\\u6765\\u662F\\u4E3A\\u5B9E\\u65F6\\u97F3\\u89C6\\u9891\\u901A\\u4FE1\\u8BBE\\u8BA1\\u7684\\uFF0C\\u4F46\\u5B83\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"getDisplayMedia\"})})})}),\" \\u65B9\\u6CD5\\u662F\\u6211\\u4EEC\\u5F55\\u5C4F\\u7684\\u201C\\u5927\\u6740\\u5668\\u201D\\u3002\\u5B83\\u80FD\\u6355\\u83B7\\u7528\\u6237\\u7684\\u5C4F\\u5E55\\u3001\\u7A97\\u53E3\\u6216\\u6807\\u7B7E\\u9875\\u5185\\u5BB9\\uFF0C\\u8FD4\\u56DE\\u4E00\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MediaStream\"})})})}),\" \\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" startScreenCapture\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" stream\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" navigator.mediaDevices.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getDisplayMedia\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      video: {\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        cursor: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'always'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5F55\\u5236\\u9F20\\u6807\\u5149\\u6807\\uFF0C\\u53EF\\u9009 'never' \\u6216 'motion'\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      audio: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u53EF\\u9009\\uFF1A\\u662F\\u5426\\u5F55\\u5236\\u7CFB\\u7EDF\\u58F0\\u97F3\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5C4F\\u5E55\\u6355\\u83B7\\u6210\\u529F\\uFF01'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", stream);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" stream;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5C4F\\u5E55\\u6355\\u83B7\\u5931\\u8D25\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    throw\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" err; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4E0A\\u629B\\u9519\\u8BEF\\uFF0C\\u65B9\\u4FBF\\u8C03\\u7528\\u8005\\u5904\\u7406\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8C03\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"getDisplayMedia\"})})})}),\" \\u65F6\\uFF0C\\u6D4F\\u89C8\\u5668\\u4F1A\\u5F39\\u51FA\\u4E00\\u4E2A\\u9009\\u62E9\\u6846\\uFF0C\\u7528\\u6237\\u5F97\\u624B\\u52A8\\u9009\\u5F55\\u5236\\u8303\\u56F4\\u3002\\u8FD9\\u662F\\u201C\\u65E0\\u611F\\u77E5\\u201D\\u7684\\u7B2C\\u4E00\\u4E2A\\u62E6\\u8DEF\\u864E\\uFF0C\\u540E\\u9762\\u6211\\u4F1A\\u6559\\u4F60\\u5982\\u4F55\\u201C\\u4F18\\u96C5\\u5730\\u9690\\u85CF\\u201D\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u53C2\\u6570\\u91CC\\u53EF\\u4EE5\\u7EC6\\u5316\\u8981\\u6C42\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"video: { width: 1280, height: 720 }\"})})})}),\"\\uFF0C\\u9650\\u5236\\u5F55\\u5236\\u5206\\u8FA8\\u7387\\uFF0C\\u8282\\u7701\\u6027\\u80FD\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u53EA\\u5173\\u5FC3\\u67D0\\u4E2A\\u533A\\u57DF\\uFF08\\u6BD4\\u5982 canvas\\uFF09\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"getUserMedia\"})})})}),\" \\u914D\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"canvas.captureStream()\"})})})}),\"\\uFF0C\\u5B8C\\u5168\\u7ED5\\u8FC7\\u5F39\\u7A97\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u68C0\\u67E5\\u517C\\u5BB9\\u6027\\uFF1AChrome \\u548C Firefox \\u652F\\u6301\\u826F\\u597D\\uFF0C\\u4F46 Safari \\u5BF9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"getDisplayMedia\"})})})}),\" \\u7684\\u652F\\u6301\\u6709\\u70B9\\u201C\\u6311\\u98DF\\u201D\\uFF0C\\u53EF\\u80FD\\u9700\\u8981\\u989D\\u5916\\u7684\\u9002\\u914D\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"2-mediarecorder\\u6D41\\u8F6C\\u89C6\\u9891\\u7684\\u6253\\u5305\\u5DE5-\",children:(0,l.jsx)(e.a,{href:\"#2-mediarecorder\\u6D41\\u8F6C\\u89C6\\u9891\\u7684\\u6253\\u5305\\u5DE5-\",children:\"2. MediaRecorder\\uFF1A\\u6D41\\u8F6C\\u89C6\\u9891\\u7684\\u201C\\u6253\\u5305\\u5DE5\\u201D \\u{1F4E6}\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6709\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MediaStream\"})})})}),\"\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u628A\\u5B83\\u53D8\\u6210\\u89C6\\u9891\\u6587\\u4EF6\\u3002\\u8FD9\\u65F6\\u5019 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MediaRecorder\"})})})}),\" \\u4E0A\\u573A\\u4E86\\u3002\\u5B83\\u80FD\\u628A\\u6D41\\u6570\\u636E\\u5206\\u7247\\u5F55\\u5236\\uFF0C\\u8F93\\u51FA\\u4E3A Blob \\u5BF9\\u8C61\\uFF0C\\u6700\\u7EC8\\u5408\\u6210 MP4 \\u6216 WebM \\u6587\\u4EF6\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" recordStream\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"stream\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" options\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { mimeType: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'video/webm;codecs=vp9'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// VP9 \\u7F16\\u7801\\uFF0C\\u8D28\\u91CF\\u66F4\\u9AD8\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" recorder\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MediaRecorder\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(stream, options);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" chunks\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ondataavailable\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (event.data.size \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") chunks.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.data); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u907F\\u514D\\u7A7A\\u6570\\u636E\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onstop\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" blob\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(chunks, { type: options.mimeType });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" URL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectURL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5F55\\u5236\\u5B8C\\u6210\\uFF01\\u89C6\\u9891\\u5730\\u5740\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", url);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u8FD9\\u91CC\\u53EF\\u4EE5\\u4E0B\\u8F7D\\u6216\\u64AD\\u653E\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onerror\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5F55\\u5236\\u51FA\\u9519\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"start\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF\\u79D2\\u751F\\u6210\\u4E00\\u4E2A\\u5206\\u7247\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" recorder;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"mimeType\"})})})}),\" \\u652F\\u6301\\u591A\\u79CD\\u683C\\u5F0F\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"video/webm;codecs=h264\"})})})}),\"\\uFF08H.264 \\u7F16\\u7801\\uFF09\\uFF0C\\u4F46 WebM + VP9 \\u662F\\u9ED8\\u8BA4\\u63A8\\u8350\\uFF0C\\u517C\\u5BB9\\u6027\\u548C\\u4F53\\u79EF\\u90FD\\u5F88\\u4F18\\u79C0\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"timeslice\"})})})}),\"\\uFF08\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"start(1000)\"})})})}),\"\\uFF09\\u5206\\u7247\\u5F55\\u5236\\uFF0C\\u65B9\\u4FBF\\u5B9E\\u65F6\\u4FDD\\u5B58\\u6216\\u4E2D\\u65AD\\u540E\\u6062\\u590D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u76D1\\u542C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onerror\"})})})}),\"\\uFF0C\\u9632\\u6B62\\u5F55\\u5236\\u8FC7\\u7A0B\\u4E2D\\u5D29\\u6E83\\u65E0\\u58F0\\u65E0\\u606F\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5982\\u4F55\\u505A\\u5230\\u65E0\\u611F\\u77E5\",children:(0,l.jsx)(e.a,{href:\"#\\u5982\\u4F55\\u505A\\u5230\\u65E0\\u611F\\u77E5\",children:\"\\u5982\\u4F55\\u505A\\u5230\\u201C\\u65E0\\u611F\\u77E5\\u201D\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6280\\u672F\\u57FA\\u7840\\u6253\\u597D\\u4E86\\uFF0C\\u73B0\\u5728\\u8FDB\\u5165\\u6B63\\u9898\\uFF1A\\u600E\\u4E48\\u8BA9\\u7528\\u6237\\u201C\\u611F\\u89C9\\u4E0D\\u5230\\u201D\\u6211\\u4EEC\\u5728\\u5F55\\u5C4F\\uFF1F\\u8FD9\\u91CC\\u6709\\u51E0\\u4E2A\\u5173\\u952E\\u70B9\\u8981\\u653B\\u514B\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"1-\\u7ED5\\u8FC7\\u6743\\u9650\\u5F39\\u7A97\\u7684\\u969C\\u773C\\u6CD5-\",children:(0,l.jsx)(e.a,{href:\"#1-\\u7ED5\\u8FC7\\u6743\\u9650\\u5F39\\u7A97\\u7684\\u969C\\u773C\\u6CD5-\",children:\"1. \\u7ED5\\u8FC7\\u6743\\u9650\\u5F39\\u7A97\\u7684\\u201C\\u969C\\u773C\\u6CD5\\u201D \\u{1F3AD}\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"getDisplayMedia\"})})})}),\" \\u7684\\u6743\\u9650\\u5F39\\u7A97\\u65E0\\u6CD5\\u5B8C\\u5168\\u6D88\\u9664\\uFF0C\\u8FD9\\u662F\\u6D4F\\u89C8\\u5668\\u7684\\u5B89\\u5168\\u673A\\u5236\\u3002\\u4F46\\u6211\\u4EEC\\u53EF\\u4EE5\\u201C\\u4F2A\\u88C5\\u201D\\u89E6\\u53D1\\u65F6\\u673A\\uFF0C\\u8BA9\\u7528\\u6237\\u4EE5\\u4E3A\\u8FD9\\u662F\\u6B63\\u5E38\\u64CD\\u4F5C\\u3002\\u6BD4\\u5982\\uFF0C\\u5728\\u7528\\u6237\\u70B9\\u51FB\\u201C\\u5F00\\u59CB\\u4F7F\\u7528\\u201D\\u6216\\u201C\\u63D0\\u4EA4\\u53CD\\u9988\\u201D\\u65F6\\uFF0C\\u6084\\u7136\\u542F\\u52A8\\u5F55\\u5C4F\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#startButton'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" stream\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" startScreenCapture\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" recorder\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" recordStream\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(stream);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7528\\u6237\\u70B9\\u4E86\\u5F00\\u59CB\\uFF0C\\u6211\\u4EEC\\u5077\\u5077\\u5F55\\u5C4F\\u5566\\uFF5E'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5047\\u88C5\\u4EC0\\u4E48\\u90FD\\u6CA1\\u53D1\\u751F\\uFF0C\\u7EE7\\u7EED\\u4E1A\\u52A1\\u903B\\u8F91\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"UI \\u4E0A\\u52A0\\u4E2A\\u6A21\\u7CCA\\u63D0\\u793A\\uFF0C\\u6BD4\\u5982\\u201C\\u70B9\\u51FB\\u5F00\\u59CB\\u4EE5\\u8BB0\\u5F55\\u4F60\\u7684\\u64CD\\u4F5C\\uFF08\\u53EF\\u9009\\uFF09\\u201D\\uFF0C\\u65E2\\u9053\\u5FB7\\u53C8\\u63A9\\u76D6\\u610F\\u56FE\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u5982\\u679C\\u662F\\u5185\\u90E8\\u5DE5\\u5177\\uFF0C\\u53EF\\u4EE5\\u63D0\\u524D\\u8BA9\\u7528\\u6237\\u6388\\u6743\\u201C\\u59CB\\u7EC8\\u5141\\u8BB8\\u201D\\uFF0C\\u51CF\\u5C11\\u5F39\\u7A97\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u7528 try-catch \\u5305\\u88F9\\uFF0C\\u4F18\\u96C5\\u5904\\u7406\\u7528\\u6237\\u62D2\\u7EDD\\u6743\\u9650\\u7684\\u60C5\\u51B5\\u3002\"}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"2-\\u9690\\u85CF\\u5F55\\u5C4F\\u72B6\\u6001\\u7684\\u969C\\u773C\\u6CD5-\\uFE0F\\uFE0F\",children:(0,l.jsx)(e.a,{href:\"#2-\\u9690\\u85CF\\u5F55\\u5C4F\\u72B6\\u6001\\u7684\\u969C\\u773C\\u6CD5-\\uFE0F\\uFE0F\",children:\"2. \\u9690\\u85CF\\u5F55\\u5C4F\\u72B6\\u6001\\u7684\\u201C\\u969C\\u773C\\u6CD5\\u201D \\u{1F575}\\uFE0F\\u200D\\u2642\\uFE0F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6D4F\\u89C8\\u5668\\u9ED8\\u8BA4\\u4F1A\\u5728\\u5F55\\u5C4F\\u65F6\\u663E\\u793A\\u201C\\u6B63\\u5728\\u5171\\u4EAB\\u5C4F\\u5E55\\u201D\\u7684\\u63D0\\u793A\\uFF08\\u6BD4\\u5982 Chrome \\u7684\\u5C0F\\u7EA2\\u70B9\\uFF09\\u3002\\u6211\\u4EEC\\u65E0\\u6CD5\\u79FB\\u9664\\uFF0C\\u4F46\\u53EF\\u4EE5\\u63A7\\u5236\\u5F55\\u5236\\u65F6\\u95F4\\u548C\\u573A\\u666F\\u964D\\u4F4E\\u5BDF\\u89C9\\u3002\\u6BD4\\u5982\\uFF0C\\u53EA\\u5728\\u5173\\u952E\\u64CD\\u4F5C\\u65F6\\u77ED\\u65F6\\u5F55\\u5236\\uFF0C\\u800C\\u4E0D\\u662F\\u5168\\u7A0B\\u5F00\\u7740\\u3002\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" stealthRecord\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"stream\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"duration\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" recorder\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" recordStream\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(stream);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    stream.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getTracks\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"track\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" track.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'5\\u79D2\\u5F55\\u5236\\u5B8C\\u6210\\uFF0C\\u7528\\u6237\\u5E94\\u8BE5\\u6CA1\\u53D1\\u73B0\\u5427\\uFF1F'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, duration);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"requestAnimationFrame\"})})})}),\" \\u68C0\\u6D4B\\u7528\\u6237\\u64CD\\u4F5C\\uFF0C\\u53EA\\u5728\\u201C\\u6709\\u610F\\u4E49\\u201D\\u7684\\u65F6\\u523B\\u5F55\\u5236\\uFF08\\u6BD4\\u5982\\u62D6\\u62FD\\u6216\\u70B9\\u51FB\\uFF09\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u76D1\\u542C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"stream.oninactive\"})})})}),\"\\uFF0C\\u7528\\u6237\\u5173\\u95ED\\u5F55\\u5C4F\\u7A97\\u53E3\\u65F6\\u53CA\\u65F6\\u6E05\\u7406\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"3-\\u6027\\u80FD\\u4F18\\u5316\\u522B\\u8BA9\\u9875\\u9762\\u5361\\u6210ppt-\",children:(0,l.jsx)(e.a,{href:\"#3-\\u6027\\u80FD\\u4F18\\u5316\\u522B\\u8BA9\\u9875\\u9762\\u5361\\u6210ppt-\",children:\"3. \\u6027\\u80FD\\u4F18\\u5316\\uFF1A\\u522B\\u8BA9\\u9875\\u9762\\u5361\\u6210\\u201CPPT\\u201D \\u26A1\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5F55\\u5C4F\\u5F88\\u201C\\u5403\\u6027\\u80FD\\u201D\\uFF0C\\u5C24\\u5176\\u5728\\u9AD8\\u5206\\u8FA8\\u7387\\u5C4F\\u5E55\\u4E0A\\u3002\\u6211\\u4EEC\\u5F97\\u4FDD\\u8BC1\\u9875\\u9762\\u6D41\\u7545\\uFF0C\\u4E0D\\u7136\\u7528\\u6237\\u4F1A\\u6000\\u7591\\u201C\\u600E\\u4E48\\u7A81\\u7136\\u53D8\\u6162\\u4E86\\u201D\\u3002\\u4F18\\u5316\\u70B9\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u964D\\u4F4E\\u5E27\\u7387\"}),\"\\uFF1A60fps \\u592A\\u5962\\u4F88\\uFF0C15-30fps \\u591F\\u7528\\u3002\",`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" stream\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" navigator.mediaDevices.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getDisplayMedia\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  video: { frameRate: { ideal: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"15\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", max: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"30\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } },\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u538B\\u7F29\\u5206\\u8FA8\\u7387\"}),\"\\uFF1A\\u6307\\u5B9A\\u5F55\\u5236\\u533A\\u57DF\\u7684\\u5206\\u8FA8\\u7387\\uFF0C\\u907F\\u514D 4K \\u5168\\u5C4F\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5F02\\u6B65\\u5904\\u7406\"}),\"\\uFF1A\\u7528 Web Worker \\u5904\\u7406 Blob \\u5408\\u5E76\\uFF0C\\u907F\\u514D\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"performance.mark\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"performance.measure\"})})})}),\" \\u76D1\\u63A7\\u5F55\\u5236\\u6027\\u80FD\\uFF0C\\u52A8\\u6001\\u8C03\\u6574\\u5E27\\u7387\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u6709 canvas\\uFF0C\\u76F4\\u63A5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"canvas.captureStream(15)\"})})})}),\"\\uFF0C\\u6027\\u80FD\\u6BD4\\u5168\\u5C4F\\u5F55\\u5236\\u9AD8\\u5F97\\u591A\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4FDD\\u5B58\\u5230\\u672C\\u5730\\u591A\\u79CD\\u59FF\\u52BF\\u4EFB\\u4F60\\u6311\",children:(0,l.jsx)(e.a,{href:\"#\\u4FDD\\u5B58\\u5230\\u672C\\u5730\\u591A\\u79CD\\u59FF\\u52BF\\u4EFB\\u4F60\\u6311\",children:\"\\u4FDD\\u5B58\\u5230\\u672C\\u5730\\uFF1A\\u591A\\u79CD\\u59FF\\u52BF\\u4EFB\\u4F60\\u6311\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5F55\\u5B8C\\u5C4F\\u540E\\uFF0C\\u600E\\u4E48\\u4FDD\\u5B58\\u5230\\u672C\\u5730\\u662F\\u4E2A\\u5927\\u95EE\\u9898\\u3002\\u6211\\u4EEC\\u4E0D\\u80FD\\u6307\\u671B\\u7528\\u6237\\u624B\\u52A8\\u4E0B\\u8F7D\\uFF0C\\u5F97\\u8BA9\\u5B83\\u5C3D\\u53EF\\u80FD\\u81EA\\u52A8\\u5316\\u3001\\u4F18\\u96C5\\u5316\\u3002\\u8FD9\\u91CC\\u6211\\u6574\\u7406\\u4E86\\u4E09\\u79CD\\u4E3B\\u6D41\\u65B9\\u6848\\uFF0C\\u5E26\\u4F60\\u4ECE\\u7B80\\u5355\\u5230\\u9AD8\\u7EA7\\u73A9\\u4E00\\u904D\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"1-\\u57FA\\u7840\\u7248\\u89E6\\u53D1\\u81EA\\u52A8\\u4E0B\\u8F7D-\",children:(0,l.jsx)(e.a,{href:\"#1-\\u57FA\\u7840\\u7248\\u89E6\\u53D1\\u81EA\\u52A8\\u4E0B\\u8F7D-\",children:\"1. \\u57FA\\u7840\\u7248\\uFF1A\\u89E6\\u53D1\\u81EA\\u52A8\\u4E0B\\u8F7D \\u{1F4E5}\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6700\\u7B80\\u5355\\u7684\\u65B9\\u5F0F\\u662F\\u751F\\u6210 Blob \\u540E\\uFF0C\\u6A21\\u62DF \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<a>\"})})})}),\" \\u6807\\u7B7E\\u70B9\\u51FB\\uFF0C\\u89E6\\u53D1\\u4E0B\\u8F7D\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveToLocal\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" URL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectURL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" a\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'a'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  a.href \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" url;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  a.download \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `recording-${\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Date\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toISOString\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"replace\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"g\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'-'\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\")\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}.webm`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.body.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(a);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  a.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"click\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.body.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeChild\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(a);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"  URL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"revokeObjectURL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u91CA\\u653E\\u5185\\u5B58\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7EC6\\u8282\\u8865\\u5145\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u6587\\u4EF6\\u540D\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"toISOString()\"})})})}),\" \\u751F\\u6210\\u5E26\\u65F6\\u95F4\\u6233\\u7684\\u540D\\u5B57\\uFF0C\\u907F\\u514D\\u8986\\u76D6\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"replace(/:/g, '-')\"})})})}),\" \\u662F\\u56E0\\u4E3A Windows \\u4E0D\\u5141\\u8BB8\\u6587\\u4EF6\\u540D\\u5E26\\u5192\\u53F7\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u52A0\\u4E2A\\u9519\\u8BEF\\u5904\\u7406\\uFF1A\",`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  a.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"click\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4E0B\\u8F7D\\u5931\\u8D25\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  alert\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4FDD\\u5B58\\u5931\\u8D25\\uFF0C\\u8BF7\\u68C0\\u67E5\\u6D4F\\u89C8\\u5668\\u6743\\u9650\\uFF01'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u7528\\u6237\\u70B9\\u4E86\\u201C\\u53D6\\u6D88\\u4E0B\\u8F7D\\u201D\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"window.confirm\"})})})}),\" \\u518D\\u7ED9\\u4E00\\u6B21\\u673A\\u4F1A\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u6587\\u4EF6\\u540D\\u53EF\\u4EE5\\u52A0\\u4E2A\\u524D\\u7F00\\uFF08\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"appName-recording-\"})})})}),\"\\uFF09\\uFF0C\\u65B9\\u4FBF\\u533A\\u5206\\u6765\\u6E90\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"2-\\u4E2D\\u7EA7\\u7248\\u6279\\u91CF\\u4FDD\\u5B58--\\u6587\\u4EF6\\u7BA1\\u7406-\",children:(0,l.jsx)(e.a,{href:\"#2-\\u4E2D\\u7EA7\\u7248\\u6279\\u91CF\\u4FDD\\u5B58--\\u6587\\u4EF6\\u7BA1\\u7406-\",children:\"2. \\u4E2D\\u7EA7\\u7248\\uFF1A\\u6279\\u91CF\\u4FDD\\u5B58 + \\u6587\\u4EF6\\u7BA1\\u7406 \\u{1F4C2}\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5982\\u679C\\u5F55\\u5C4F\\u5206\\u7247\\u5F88\\u591A\\uFF08\\u6BD4\\u5982\\u6BCF\\u79D2\\u4E00\\u4E2A chunk\\uFF09\\uFF0C\\u53EF\\u4EE5\\u6279\\u91CF\\u4FDD\\u5B58\\uFF0C\\u6216\\u8005\\u8BA9\\u7528\\u6237\\u9009\\u62E9\\u4FDD\\u5B58\\u8DEF\\u5F84\\uFF08\\u501F\\u52A9 Filesystem API\\uFF0C\\u867D\\u7136\\u76EE\\u524D\\u517C\\u5BB9\\u6027\\u6709\\u9650\\uFF09\\u3002\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveBatchRecordings\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"chunks\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" timestamp\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Date\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toISOString\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"replace\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"g\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'-'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" chunks.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" blob\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([chunks[i]], { type: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'video/webm'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" URL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectURL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" a\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'a'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    a.href \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" url;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    a.download \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `recording-part${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}-${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"timestamp\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}.webm`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    document.body.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(a);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    a.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"click\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    document.body.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeChild\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(a);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    URL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"revokeObjectURL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(resolve, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u907F\\u514D\\u6D4F\\u89C8\\u5668\\u5361\\u987F\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6279\\u91CF\\u4FDD\\u5B58\\u5B8C\\u6210\\uFF01'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7EC6\\u8282\\u8865\\u5145\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u52A0\\u4E86\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u95F4\\u9694\\uFF0C\\u907F\\u514D\\u6D4F\\u89C8\\u5668\\u4E00\\u6B21\\u6027\\u5904\\u7406\\u592A\\u591A\\u4E0B\\u8F7D\\u4EFB\\u52A1\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u652F\\u6301 Filesystem API\\uFF08Chrome 86+\\uFF09\\uFF0C\\u53EF\\u4EE5\\u7528\\uFF1A\",`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveWithFilesystem\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" handle\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"showSaveFilePicker\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    suggestedName: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`recording-${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"Date\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}.webm`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    types: [{ description: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Video File'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", accept: { \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'video/webm'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": [\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'.webm'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] } }],\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" writable\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" handle.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createWritable\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" writable.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"write\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" writable.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"close\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6587\\u4EF6\\u5DF2\\u4FDD\\u5B58\\u5230\\u7528\\u6237\\u9009\\u62E9\\u7684\\u4F4D\\u7F6E\\uFF01'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u68C0\\u67E5 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"window.showSaveFilePicker\"})})})}),\" \\u662F\\u5426\\u53EF\\u7528\\uFF0C\\u4E0D\\u652F\\u6301\\u65F6\\u56DE\\u9000\\u5230\\u81EA\\u52A8\\u4E0B\\u8F7D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5206\\u7247\\u4FDD\\u5B58\\u65F6\\uFF0C\\u52A0\\u4E2A\\u8FDB\\u5EA6\\u63D0\\u793A\\uFF08\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"console.log('\\u5DF2\\u4FDD\\u5B58 ${i + 1}/${chunks.length}')\"})})})}),\"\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"3-\\u9AD8\\u7EA7\\u7248\\u672C\\u5730\\u7F13\\u5B58--\\u5EF6\\u8FDF\\u4FDD\\u5B58-\",children:(0,l.jsx)(e.a,{href:\"#3-\\u9AD8\\u7EA7\\u7248\\u672C\\u5730\\u7F13\\u5B58--\\u5EF6\\u8FDF\\u4FDD\\u5B58-\",children:\"3. \\u9AD8\\u7EA7\\u7248\\uFF1A\\u672C\\u5730\\u7F13\\u5B58 + \\u5EF6\\u8FDF\\u4FDD\\u5B58 \\u{1F4BE}\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5982\\u679C\\u4E0D\\u60F3\\u7ACB\\u523B\\u4E0B\\u8F7D\\uFF0C\\u53EF\\u4EE5\\u5148\\u5B58\\u5230 IndexedDB\\uFF0C\\u7B49\\u7528\\u6237\\u4E3B\\u52A8\\u89E6\\u53D1\\u4FDD\\u5B58\\uFF0C\\u6216\\u8005\\u5728\\u9875\\u9762\\u5173\\u95ED\\u524D\\u81EA\\u52A8\\u4FDD\\u5B58\\u3002\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { openDB } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'idb'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5F15\\u5165 idb \\u5E93\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" saveToIndexedDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'StealthRecorderDB'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    upgrade\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"db\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectStore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'recordings'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { autoIncrement: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    },\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tx\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transaction\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'recordings'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'readwrite'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.store.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" tx.done;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5F55\\u5C4F\\u5DF2\\u7F13\\u5B58\\u5230 IndexedDB\\uFF01'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" exportFromIndexedDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'StealthRecorderDB'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" recordings\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getAll\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'recordings'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  recordings.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    saveToLocal\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8C03\\u7528\\u57FA\\u7840\\u7248\\u4FDD\\u5B58\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6240\\u6709\\u7F13\\u5B58\\u5F55\\u5C4F\\u5DF2\\u5BFC\\u51FA\\uFF01'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u793A\\u4F8B\\uFF1A\\u9875\\u9762\\u5173\\u95ED\\u524D\\u4FDD\\u5B58\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'beforeunload'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" exportFromIndexedDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7EC6\\u8282\\u8865\\u5145\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"IndexedDB \\u9002\\u5408\\u5B58\\u5927\\u6587\\u4EF6\\uFF0C\\u6BD4 localStorage \\u9760\\u8C31\\u3002\"}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u53EF\\u4EE5\\u52A0\\u4E2A\\u6E05\\u7406\\u903B\\u8F91\\uFF1A\",`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" clearIndexedDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" db\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" openDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'StealthRecorderDB'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"clear\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'recordings'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7F13\\u5B58\\u5DF2\\u6E05\\u7406\\uFF01'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u52A0\\u4E2A\\u7B80\\u5355\\u7684 UI\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'<button onclick=\"exportFromIndexedDB()\">\\u5BFC\\u51FA\\u5F55\\u5C4F</button>'})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"blob.size\"})})})}),\" \\u68C0\\u67E5\\u6587\\u4EF6\\u5927\\u5C0F\\uFF0C\\u63D0\\u9192\\u7528\\u6237\\u6E05\\u7406\\u7F13\\u5B58\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5B8C\\u6574\\u5B9E\\u73B0\\u4ECE\\u6355\\u83B7\\u5230\\u4FDD\\u5B58\",children:(0,l.jsx)(e.a,{href:\"#\\u5B8C\\u6574\\u5B9E\\u73B0\\u4ECE\\u6355\\u83B7\\u5230\\u4FDD\\u5B58\",children:\"\\u5B8C\\u6574\\u5B9E\\u73B0\\uFF1A\\u4ECE\\u6355\\u83B7\\u5230\\u4FDD\\u5B58\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u628A\\u8FD9\\u4E9B\\u62FC\\u8D77\\u6765\\uFF0C\\u5199\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684\\u201C\\u65E0\\u611F\\u77E5\\u5F55\\u5C4F\\u201D\\u5DE5\\u5177\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" StealthRecorder\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".stream \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".recorder \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".chunks \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".options \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      frameRate: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"15\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      duration: options.duration \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 10000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      mimeType: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'video/webm;codecs=vp9'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      ...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"options,\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" start\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".stream \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" navigator.mediaDevices.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getDisplayMedia\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        video: { frameRate: { ideal: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".options.frameRate } },\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        audio: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".recorder \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MediaRecorder\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".stream, {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        mimeType: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".options.mimeType,\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ondataavailable\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"event\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (event.data.size \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".chunks.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(event.data);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onstop\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" blob\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".chunks, { type: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".options.mimeType });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"save\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"start\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".options.duration);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5F55\\u5C4F\\u542F\\u52A8\\u5931\\u8D25\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  stop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".recorder?.state \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'inactive'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".stream.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getTracks\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"track\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" track.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  save\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".options.saveTo \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'indexeddb'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      saveToIndexedDB\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".options.saveTo \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'filesystem'\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window.showSaveFilePicker) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      saveWithFilesystem\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      saveToLocal\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(blob);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\\u793A\\u4F8B\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#stealthButton'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'click'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" recorder\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" StealthRecorder\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    duration: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"5000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    saveTo: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'local'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u53EF\\u9009\\uFF1A'indexeddb', 'filesystem'\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  recorder.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"start\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5077\\u5077\\u5F55\\u5C4F\\u5F00\\u59CB\\uFF0C\\u7528\\u6237\\u8FD8\\u5728\\u4E13\\u5FC3\\u73A9\\u9875\\u9762\\u5462\\uFF5E'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u4E2A\\u7C7B\\u652F\\u6301\\u591A\\u79CD\\u4FDD\\u5B58\\u65B9\\u5F0F\\uFF0C\\u9ED8\\u8BA4\\u81EA\\u52A8\\u4E0B\\u8F7D\\uFF0C\\u8FD8\\u80FD\\u5207\\u6362\\u5230 IndexedDB \\u6216 Filesystem API\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u8FDB\\u9636\\u73A9\\u6CD5\\u66F4\\u591A\\u521B\\u610F\\u573A\\u666F\",children:(0,l.jsx)(e.a,{href:\"#\\u8FDB\\u9636\\u73A9\\u6CD5\\u66F4\\u591A\\u521B\\u610F\\u573A\\u666F\",children:\"\\u8FDB\\u9636\\u73A9\\u6CD5\\uFF1A\\u66F4\\u591A\\u521B\\u610F\\u573A\\u666F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5149\\u4F1A\\u5F55\\u5C4F\\u548C\\u4FDD\\u5B58\\u8FD8\\u4E0D\\u591F\\uFF0C\\u524D\\u7AEFer \\u7684\\u8111\\u6D1E\\u5F97\\u66F4\\u5927\\uFF01\\u8FD9\\u91CC\\u662F\\u4E00\\u4E9B\\u8FDB\\u9636\\u70B9\\u5B50\\uFF1A\"}),`\n`,(0,l.jsx)(e.h3,{id:\"1-\\u5B9E\\u65F6\\u9884\\u89C8--\\u7F16\\u8F91-\\uFE0F\",children:(0,l.jsx)(e.a,{href:\"#1-\\u5B9E\\u65F6\\u9884\\u89C8--\\u7F16\\u8F91-\\uFE0F\",children:\"1. \\u5B9E\\u65F6\\u9884\\u89C8 + \\u7F16\\u8F91 \\u2702\\uFE0F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u628A Blob \\u5206\\u7247\\u4E22\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<video>\"})})})}),\" \\u91CC\\u5B9E\\u65F6\\u9884\\u89C8\\uFF0C\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MediaStreamTrackProcessor\"})})})}),\" \\u52A0\\u6C34\\u5370\\u6216\\u88C1\\u526A\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"2-\\u914D\\u5408-canvas-\\u5B9E\\u73B0\\u5C40\\u90E8\\u5F55\\u5C4F-\",children:(0,l.jsx)(e.a,{href:\"#2-\\u914D\\u5408-canvas-\\u5B9E\\u73B0\\u5C40\\u90E8\\u5F55\\u5C4F-\",children:\"2. \\u914D\\u5408 Canvas \\u5B9E\\u73B0\\u201C\\u5C40\\u90E8\\u5F55\\u5C4F\\u201D \\u{1F3A8}\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u53EA\\u5F55\\u5236\\u7279\\u5B9A\\u533A\\u57DF\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" canvas\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'#myCanvas'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" stream\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" canvas.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"captureStream\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"15\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" recorder\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" recordStream\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(stream);\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"3-\\u4E0A\\u4F20\\u5230\\u670D\\u52A1\\u5668--\\u8FDB\\u5EA6\\u53CD\\u9988-\\uFE0F\",children:(0,l.jsx)(e.a,{href:\"#3-\\u4E0A\\u4F20\\u5230\\u670D\\u52A1\\u5668--\\u8FDB\\u5EA6\\u53CD\\u9988-\\uFE0F\",children:\"3. \\u4E0A\\u4F20\\u5230\\u670D\\u52A1\\u5668 + \\u8FDB\\u5EA6\\u53CD\\u9988 \\u2601\\uFE0F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5F55\\u5B8C\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"fetch\"})})})}),\" \\u4E0A\\u4F20\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" uploadRecording\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"blob\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/upload'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    method: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'POST'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    body: blob,\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    headers: { \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Content-Type'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'video/webm'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4E0A\\u4F20\\u7ED3\\u679C\\uFF1A'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6CE8\\u610F\\u4E8B\\u9879\\u6CD5\\u5F8B\\u548C\\u9053\\u5FB7\\u7684\\u7EA2\\u7EBF-\\uFE0F\",children:(0,l.jsx)(e.a,{href:\"#\\u6CE8\\u610F\\u4E8B\\u9879\\u6CD5\\u5F8B\\u548C\\u9053\\u5FB7\\u7684\\u7EA2\\u7EBF-\\uFE0F\",children:\"\\u6CE8\\u610F\\u4E8B\\u9879\\uFF1A\\u6CD5\\u5F8B\\u548C\\u9053\\u5FB7\\u7684\\u7EA2\\u7EBF \\u2696\\uFE0F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u522B\\u5FD8\\u4E86\\u9690\\u79C1\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u660E\\u786E\\u544A\\u77E5\\u7528\\u6237\\u5E76\\u83B7\\u5F97\\u540C\\u610F\\uFF08\\u7528\\u6237\\u534F\\u8BAE\\u91CC\\u5199\\u6E05\\u695A\\uFF09\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u9075\\u5B88 GDPR\\u3001CCPA \\u7B49\\u6CD5\\u5F8B\\u6CD5\\u89C4\\u3002\"}),`\n`,(0,l.jsx)(e.li,{children:\"\\u63D0\\u4F9B\\u5173\\u95ED\\u9009\\u9879\\uFF0C\\u522B\\u641E\\u6210\\u201C\\u5F3A\\u5236\\u5077\\u7AA5\\u201D\\u3002\"}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C0F Tips\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u52A0\\u4E2A\\u5F00\\u5173 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'<input type=\"checkbox\" id=\"disableRecording\">'})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5F00\\u53D1\\u65F6\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"console.time\"})})})}),\" \\u6253\\u70B9\\uFF0C\\u786E\\u4FDD\\u903B\\u8F91\\u900F\\u660E\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u9690\\u79D8\\u800C\\u5F3A\\u5927\\u7684\\u524D\\u7AEF\\u9B54\\u6CD5\",children:(0,l.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u9690\\u79D8\\u800C\\u5F3A\\u5927\\u7684\\u524D\\u7AEF\\u9B54\\u6CD5\",children:\"\\u603B\\u7ED3\\uFF1A\\u9690\\u79D8\\u800C\\u5F3A\\u5927\\u7684\\u524D\\u7AEF\\u9B54\\u6CD5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u901A\\u8FC7 WebRTC \\u548C MediaRecorder\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u7EAF\\u524D\\u7AEF\\u5B9E\\u73B0\\u9690\\u79D8\\u3001\\u9AD8\\u6548\\u7684\\u5C4F\\u5E55\\u5F55\\u5236\\u3002\\u4ECE\\u6743\\u9650\\u4F2A\\u88C5\\u5230\\u6027\\u80FD\\u4F18\\u5316\\uFF0C\\u518D\\u5230\\u591A\\u79CD\\u4FDD\\u5B58\\u65B9\\u6848\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5E94\\u8BE5\\u7ED9\\u4E86\\u4F60\\u6EE1\\u6EE1\\u7684\\u5E72\\u8D27\\u3002\\u600E\\u4E48\\u6837\\uFF0C\\u662F\\u4E0D\\u662F\\u89C9\\u5F97\\u524D\\u7AEF\\u53C8\\u591A\\u4E86\\u4E00\\u70B9\\u201C\\u9ED1\\u9B54\\u6CD5\\u201D\\u7684\\u5473\\u9053\\uFF1F\\u4E0B\\u6B21\\u8001\\u677F\\u95EE\\u201C\\u80FD\\u4E0D\\u80FD\\u5077\\u5077\\u5F55\\u4E2A\\u5C4F\\u201D\\uFF0C\\u4F60\\u53EF\\u4EE5\\u62CD\\u80F8\\u812F\\u8BF4\\uFF1A\\u201C\\u80FD\\uFF0C\\u4F46\\u5F97\\u5148\\u7B7E\\u6388\\u6743\\u4E66\\uFF01\\u201D \\u{1F602}\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6709\\u5565\\u95EE\\u9898\\u6216\\u66F4\\u597D\\u7684\\u70B9\\u5B50\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u804A\\u804A\\uFF0C\\u6211\\u7B49\\u7740\\u88AB\\u4F60\\u4EEC\\u201C\\u540A\\u6253\\u201D\\u5462\\uFF01\\u270C\\uFE0F\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(t,{...n})}):t(n)}return b(k);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/çº¯å‰ç«¯å¦‚ä½•å®ç°ç”¨æˆ·æ— æ„ŸçŸ¥å½•å±.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/çº¯å‰ç«¯å¦‚ä½•å®ç°ç”¨æˆ·æ— æ„ŸçŸ¥å½•å±.mdx",
    "sourceFileName": "çº¯å‰ç«¯å¦‚ä½•å®ç°ç”¨æˆ·æ— æ„ŸçŸ¥å½•å±.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/çº¯å‰ç«¯å¦‚ä½•å®ç°ç”¨æˆ·æ— æ„ŸçŸ¥å½•å±"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/çº¯å‰ç«¯å¦‚ä½•å®ç°ç”¨æˆ·æ— æ„ŸçŸ¥å½•å±"
}
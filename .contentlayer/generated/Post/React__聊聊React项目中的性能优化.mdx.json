{
  "title": "聊聊 React 项目中的性能优化",
  "date": "2024-07-18T00:00:00.000Z",
  "description": "从 React 的底层机制出发，深入探讨性能优化的各种策略，结合源码解析和实际案例，带你全面提升 React 项目的性能表现。",
  "keywords": "React, 性能优化, 虚拟 DOM, React.memo, useMemo, useCallback, 源码解析, 前端优化",
  "author": "晓龙",
  "image": "/images/hero/react-performance.jpg",
  "tags": [
    "React",
    "性能优化",
    "前端开发"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\nReact 作为现代前端开发的“顶流”框架，以声明式编程和组件化开发赢得了无数开发者的青睐。然而，随着项目规模的增长，性能问题逐渐浮出水面：列表渲染卡顿、组件重复渲染、页面加载缓慢……这些问题如果不加以优化，会直接影响用户体验。性能优化从来不是小打小闹的修补，而是需要从 React 的底层机制出发，结合实际场景制定策略。\n\n这篇文章将带你深入 React 的性能优化世界，从虚拟 DOM 的工作原理到 Hooks 的使用技巧，再到源码层面的解析，配上实际案例，帮你全面掌握优化之道。无论你是初学者还是有一定经验的开发者，相信都能从中有所收获。\n\n## React 性能问题的根源\n\n在聊优化之前，我们先搞清楚性能问题从何而来。React 的核心是虚拟 DOM 和 diff 算法，它通过对比新旧虚拟 DOM 来决定哪些部分需要更新到真实 DOM。这种机制虽然高效，但并不意味着它没有开销。以下是几个常见的性能瓶颈：\n\n1. **不必要的组件重渲染**：父组件更新时，子组件即使 props 没变也会跟着重新渲染。\n2. **昂贵的计算或操作**：比如在渲染时执行复杂的计算或处理大数据。\n3. **事件监听的滥用**：频繁绑定和解绑事件监听器，导致内存占用上升。\n4. **大数据量渲染**：一次性渲染数百甚至上千个列表项，阻塞主线程。\n\n明白了这些，我们就可以对症下药。下面从多个角度切入，逐步展开优化策略。\n\n## 1. 从虚拟 DOM 和 diff 算法说起\n\nReact 的性能优化离不开对虚拟 DOM 的理解。虚拟 DOM 本质上是一个 JavaScript 对象树，React 通过 `react-reconciler` 包来管理和更新它。我们可以简单看一下源码中虚拟 DOM 的创建过程（简化版）：\n\n```javascript\n// react/src/ReactElement.js\nfunction createElement(type, config, children) {\n  const props = {};\n  let key = null;\n  let ref = null;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      ref = config.ref;\n    }\n    if (hasValidKey(config)) {\n      key = '' + config.key;\n    }\n    // 将 config 中的属性赋值到 props\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    }\n  }\n\n  // 处理 children\n  const childrenLength = arguments.length - 2;\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    const childArray = Array(childrenLength);\n    for (let i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type,\n    key,\n    ref,\n    props,\n  };\n}\n```\n\n这段代码展示了 React 如何通过 `createElement` 创建虚拟 DOM 节点。每次调用 JSX（本质上是 `createElement` 的语法糖），都会生成一个新的虚拟 DOM 对象。React 会在更新时通过 diff 算法对比新旧虚拟 DOM，找出变化的部分。\n\n### diff 算法的优化点\n\nReact 的 diff 算法有几个关键特性：\n- **同层比较**：只比较同一层级的节点，跨层移动效率较低。\n- **key 的作用**：通过 `key` 属性快速匹配子节点，避免逐个比较。\n\n#### 案例：列表渲染中的 key 优化\n\n假设我们有一个动态列表：\n\n```javascript\nfunction List({ items }) {\n  return (\n    <ul>\n      {items.map(item => (\n        <li>{item.name}</li>\n      ))}\n    </ul>\n  );\n}\n```\n\n如果没有给每个 `li` 添加 `key`，React 在更新时会逐个对比所有子节点，时间复杂度为 O(n)。加上 `key` 后：\n\n```javascript\nfunction List({ items }) {\n  return (\n    <ul>\n      {items.map(item => (\n        <li key={item.id}>{item.name}</li>\n      ))}\n    </ul>\n  );\n}\n```\n\nReact 会直接通过 `key` 找到对应的节点，时间复杂度降到 O(1)。这在大数据量列表中尤为重要，比如渲染一个 1000 项的表格，没加 `key` 时可能导致明显的卡顿。\n\n**优化建议**：始终为动态列表中的每个子项提供唯一且稳定的 `key`，避免使用数组索引（index），因为数据顺序变化时索引会失效。\n\n## 2. 组件层面的优化：React.memo 和 PureComponent\n\nReact 的默认行为是，只要父组件更新，子组件就会跟着重新渲染，即使 props 没变。这在复杂组件树中会带来不小的性能开销。\n\n### React.memo\n\n`React.memo` 是一个高阶组件，用于记忆函数组件的渲染结果。它通过浅比较 props 来决定是否需要重新渲染：\n\n```javascript\nconst Child = React.memo(function Child({ data }) {\n  console.log('Child rendered');\n  return <div>{data.name}</div>;\n});\n\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  const data = { name: 'React' }; // 对象引用不变\n  return (\n    <>\n      <button onClick={() => setCount(count + 1)}>Count: {count}</button>\n      <Child data={data} />\n    </>\n  );\n}\n```\n\n在这个例子中，点击按钮更新 `count`，但 `Child` 的 `data` 没变。由于 `React.memo` 的浅比较，`Child` 不会重新渲染。\n\n**源码解析**：\n\n```javascript\n// react/src/ReactMemo.js（简化版）\nfunction memo(type, compare) {\n  const elementType = {\n    $$typeof: REACT_MEMO_TYPE,\n    type,\n    compare: compare === undefined ? null : compare,\n  };\n  return elementType;\n}\n\nfunction areEqual(prevProps, nextProps) {\n  if (prevProps === nextProps) return true;\n  for (let key in prevProps) {\n    if (prevProps[key] !== nextProps[key]) return false;\n  }\n  return true;\n}\n```\n\n`React.memo` 的默认比较逻辑是浅比较。如果需要深比较，可以传入自定义的 `compare` 函数，但要注意深比较本身的性能开销。\n\n### PureComponent\n\n对于类组件，可以使用 `PureComponent`，它内置了 `shouldComponentUpdate` 的浅比较逻辑：\n\n```javascript\nclass Child extends React.PureComponent {\n  render() {\n    console.log('Child rendered');\n    return <div>{this.props.data.name}</div>;\n  }\n}\n```\n\n**注意事项**：\n- `React.memo` 和 `PureComponent` 只适合 props 变化不频繁的组件。\n- 如果 props 是复杂对象，确保引用稳定（可以用 `useMemo` 控制）。\n\n## 3. Hooks 层面的优化：useMemo 和 useCallback\n\n函数组件的普及让 Hooks 成为优化的新战场。`useMemo` 和 `useCallback` 是两个利器，能有效减少不必要的计算和引用变化。\n\n### useMemo：缓存昂贵计算\n\n假设我们要渲染一个大数据量的过滤列表：\n\n```javascript\nfunction FilterList({ items }) {\n  const filteredItems = items.filter(item => item.value > 100); // 每次渲染都重新计算\n  return (\n    <ul>\n      {filteredItems.map(item => (\n        <li key={item.id}>{item.name}</li>\n      ))}\n    </ul>\n  );\n}\n```\n\n如果 `items` 没变，`filteredItems` 的计算却是多余的。使用 `useMemo` 优化：\n\n```javascript\nfunction FilterList({ items }) {\n  const filteredItems = useMemo(() => {\n    return items.filter(item => item.value > 100);\n  }, [items]);\n  return (\n    <ul>\n      {filteredItems.map(item => (\n        <li key={item.id}>{item.name}</li>\n      ))}\n    </ul>\n  );\n}\n```\n\n`useMemo` 会缓存计算结果，只有当依赖项 `items` 变化时才会重新执行。\n\n**源码解析**：\n\n```javascript\n// react/src/ReactHooks.js（简化版）\nfunction useMemo(factory, deps) {\n  const hook = mountWorkInProgressHook();\n  const nextDeps = deps === undefined ? null : deps;\n  const prevDeps = hook.memoizedState?.[1];\n\n  if (areHookInputsEqual(nextDeps, prevDeps)) {\n    return hook.memoizedState[0];\n  }\n\n  const nextValue = factory();\n  hook.memoizedState = [nextValue, nextDeps];\n  return nextValue;\n}\n```\n\n`useMemo` 的核心是比较依赖数组，只有依赖变化时才重新计算。\n\n### useCallback：稳定函数引用\n\n事件处理函数的频繁创建会导致子组件重复渲染：\n\n```javascript\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  const handleClick = () => setCount(count + 1); // 每次渲染生成新函数\n  return <Child onClick={handleClick} />;\n}\n\nconst Child = React.memo(function Child({ onClick }) {\n  console.log('Child rendered');\n  return <button onClick={onClick}>Click me</button>;\n});\n```\n\n尽管用了 `React.memo`，但 `handleClick` 每次都是新引用，导致 `Child` 仍然重渲染。使用 `useCallback`：\n\n```javascript\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  const handleClick = useCallback(() => setCount(c => c + 1), []);\n  return <Child onClick={handleClick} />;\n}\n```\n\n`useCallback` 确保函数引用稳定，`Child` 不再重复渲染。\n\n**小贴士**：`useMemo` 和 `useCallback` 都有内存开销，不要滥用，只在必要时使用。\n\n## 4. 列表虚拟化：应对大数据量渲染\n\n当列表项达到数百甚至上千时，即使加了 `key` 和 `React.memo`，一次性渲染仍然会卡顿。这时可以用虚拟化技术，只渲染可视区域的内容。\n\n### 使用 react-virtualized\n\n```javascript\nimport { List } from 'react-virtualized';\n\nfunction VirtualList({ items }) {\n  const rowRenderer = ({ index, key, style }) => (\n    <div key={key} style={style}>\n      {items[index].name}\n    </div>\n  );\n\n  return (\n    <List\n      width={300}\n      height={400}\n      rowCount={items.length}\n      rowHeight={50}\n      rowRenderer={rowRenderer}\n    />\n  );\n}\n```\n\n`react-virtualized` 会根据滚动位置动态渲染 DOM，大幅减少内存和计算开销。类似的库还有 `react-window`，更轻量。\n\n## 5. 代码分割与懒加载\n\nReact 提供了 `React.lazy` 和 `Suspense`，可以按需加载组件：\n\n```javascript\nconst HeavyComponent = React.lazy(() => import('./HeavyComponent'));\n\nfunction App() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <HeavyComponent />\n    </Suspense>\n  );\n}\n```\n\n结合 Webpack 的动态导入，能有效减少首屏加载时间。\n\n## 6. 其他实用技巧\n\n- **避免内联对象和函数**：`<div style={{ color: 'red' }}>` 每次渲染都会创建新对象，改为提取到常量。\n- **使用 Profiler 工具**：React DevTools 的 Profiler 可以定位渲染瓶颈。\n- **批量更新**：利用 `unstable_batchedUpdates` 合并多次状态更新。\n\n## 结语\n\nReact 的性能优化是一个从微观到宏观的过程，既需要理解虚拟 DOM 和 diff 算法的底层原理，也需要掌握 `React.memo`、`useMemo` 等工具的正确用法，还要在大数据场景下引入虚拟化等高级策略。优化不是一蹴而就的，需要结合具体场景反复调试。\n\n希望这篇文章能给你一些启发。有什么优化经验或疑问，欢迎留言交流！让我们一起打造更高效的 React 应用吧！\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),m=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},s=(n,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!u.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return n};var f=(n,e,r)=>(r=n!=null?p(F(n)):{},s(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),B=n=>s(c({},\"__esModule\",{value:!0}),n);var i=g((C,t)=>{t.exports=_jsx_runtime});var b={};m(b,{default:()=>h,frontmatter:()=>k});var l=f(i()),k={type:\"Post\",title:\"\\u804A\\u804A React \\u9879\\u76EE\\u4E2D\\u7684\\u6027\\u80FD\\u4F18\\u5316\",date:\"2024-07-18\",description:\"\\u4ECE React \\u7684\\u5E95\\u5C42\\u673A\\u5236\\u51FA\\u53D1\\uFF0C\\u6DF1\\u5165\\u63A2\\u8BA8\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u5404\\u79CD\\u7B56\\u7565\\uFF0C\\u7ED3\\u5408\\u6E90\\u7801\\u89E3\\u6790\\u548C\\u5B9E\\u9645\\u6848\\u4F8B\\uFF0C\\u5E26\\u4F60\\u5168\\u9762\\u63D0\\u5347 React \\u9879\\u76EE\\u7684\\u6027\\u80FD\\u8868\\u73B0\\u3002\",keywords:\"React, \\u6027\\u80FD\\u4F18\\u5316, \\u865A\\u62DF DOM, React.memo, useMemo, useCallback, \\u6E90\\u7801\\u89E3\\u6790, \\u524D\\u7AEF\\u4F18\\u5316\",author:\"\\u6653\\u9F99\",image:\"/images/hero/react-performance.jpg\",tags:[\"React\",\"\\u6027\\u80FD\\u4F18\\u5316\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"React\"};function o(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"React \\u4F5C\\u4E3A\\u73B0\\u4EE3\\u524D\\u7AEF\\u5F00\\u53D1\\u7684\\u201C\\u9876\\u6D41\\u201D\\u6846\\u67B6\\uFF0C\\u4EE5\\u58F0\\u660E\\u5F0F\\u7F16\\u7A0B\\u548C\\u7EC4\\u4EF6\\u5316\\u5F00\\u53D1\\u8D62\\u5F97\\u4E86\\u65E0\\u6570\\u5F00\\u53D1\\u8005\\u7684\\u9752\\u7750\\u3002\\u7136\\u800C\\uFF0C\\u968F\\u7740\\u9879\\u76EE\\u89C4\\u6A21\\u7684\\u589E\\u957F\\uFF0C\\u6027\\u80FD\\u95EE\\u9898\\u9010\\u6E10\\u6D6E\\u51FA\\u6C34\\u9762\\uFF1A\\u5217\\u8868\\u6E32\\u67D3\\u5361\\u987F\\u3001\\u7EC4\\u4EF6\\u91CD\\u590D\\u6E32\\u67D3\\u3001\\u9875\\u9762\\u52A0\\u8F7D\\u7F13\\u6162\\u2026\\u2026\\u8FD9\\u4E9B\\u95EE\\u9898\\u5982\\u679C\\u4E0D\\u52A0\\u4EE5\\u4F18\\u5316\\uFF0C\\u4F1A\\u76F4\\u63A5\\u5F71\\u54CD\\u7528\\u6237\\u4F53\\u9A8C\\u3002\\u6027\\u80FD\\u4F18\\u5316\\u4ECE\\u6765\\u4E0D\\u662F\\u5C0F\\u6253\\u5C0F\\u95F9\\u7684\\u4FEE\\u8865\\uFF0C\\u800C\\u662F\\u9700\\u8981\\u4ECE React \\u7684\\u5E95\\u5C42\\u673A\\u5236\\u51FA\\u53D1\\uFF0C\\u7ED3\\u5408\\u5B9E\\u9645\\u573A\\u666F\\u5236\\u5B9A\\u7B56\\u7565\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u6DF1\\u5165 React \\u7684\\u6027\\u80FD\\u4F18\\u5316\\u4E16\\u754C\\uFF0C\\u4ECE\\u865A\\u62DF DOM \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u5230 Hooks \\u7684\\u4F7F\\u7528\\u6280\\u5DE7\\uFF0C\\u518D\\u5230\\u6E90\\u7801\\u5C42\\u9762\\u7684\\u89E3\\u6790\\uFF0C\\u914D\\u4E0A\\u5B9E\\u9645\\u6848\\u4F8B\\uFF0C\\u5E2E\\u4F60\\u5168\\u9762\\u638C\\u63E1\\u4F18\\u5316\\u4E4B\\u9053\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521D\\u5B66\\u8005\\u8FD8\\u662F\\u6709\\u4E00\\u5B9A\\u7ECF\\u9A8C\\u7684\\u5F00\\u53D1\\u8005\\uFF0C\\u76F8\\u4FE1\\u90FD\\u80FD\\u4ECE\\u4E2D\\u6709\\u6240\\u6536\\u83B7\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"react-\\u6027\\u80FD\\u95EE\\u9898\\u7684\\u6839\\u6E90\",children:(0,l.jsx)(e.a,{href:\"#react-\\u6027\\u80FD\\u95EE\\u9898\\u7684\\u6839\\u6E90\",children:\"React \\u6027\\u80FD\\u95EE\\u9898\\u7684\\u6839\\u6E90\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u804A\\u4F18\\u5316\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u641E\\u6E05\\u695A\\u6027\\u80FD\\u95EE\\u9898\\u4ECE\\u4F55\\u800C\\u6765\\u3002React \\u7684\\u6838\\u5FC3\\u662F\\u865A\\u62DF DOM \\u548C diff \\u7B97\\u6CD5\\uFF0C\\u5B83\\u901A\\u8FC7\\u5BF9\\u6BD4\\u65B0\\u65E7\\u865A\\u62DF DOM \\u6765\\u51B3\\u5B9A\\u54EA\\u4E9B\\u90E8\\u5206\\u9700\\u8981\\u66F4\\u65B0\\u5230\\u771F\\u5B9E DOM\\u3002\\u8FD9\\u79CD\\u673A\\u5236\\u867D\\u7136\\u9AD8\\u6548\\uFF0C\\u4F46\\u5E76\\u4E0D\\u610F\\u5473\\u7740\\u5B83\\u6CA1\\u6709\\u5F00\\u9500\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u4E2A\\u5E38\\u89C1\\u7684\\u6027\\u80FD\\u74F6\\u9888\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4E0D\\u5FC5\\u8981\\u7684\\u7EC4\\u4EF6\\u91CD\\u6E32\\u67D3\"}),\"\\uFF1A\\u7236\\u7EC4\\u4EF6\\u66F4\\u65B0\\u65F6\\uFF0C\\u5B50\\u7EC4\\u4EF6\\u5373\\u4F7F props \\u6CA1\\u53D8\\u4E5F\\u4F1A\\u8DDF\\u7740\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6602\\u8D35\\u7684\\u8BA1\\u7B97\\u6216\\u64CD\\u4F5C\"}),\"\\uFF1A\\u6BD4\\u5982\\u5728\\u6E32\\u67D3\\u65F6\\u6267\\u884C\\u590D\\u6742\\u7684\\u8BA1\\u7B97\\u6216\\u5904\\u7406\\u5927\\u6570\\u636E\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4E8B\\u4EF6\\u76D1\\u542C\\u7684\\u6EE5\\u7528\"}),\"\\uFF1A\\u9891\\u7E41\\u7ED1\\u5B9A\\u548C\\u89E3\\u7ED1\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\uFF0C\\u5BFC\\u81F4\\u5185\\u5B58\\u5360\\u7528\\u4E0A\\u5347\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5927\\u6570\\u636E\\u91CF\\u6E32\\u67D3\"}),\"\\uFF1A\\u4E00\\u6B21\\u6027\\u6E32\\u67D3\\u6570\\u767E\\u751A\\u81F3\\u4E0A\\u5343\\u4E2A\\u5217\\u8868\\u9879\\uFF0C\\u963B\\u585E\\u4E3B\\u7EBF\\u7A0B\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u660E\\u767D\\u4E86\\u8FD9\\u4E9B\\uFF0C\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u5BF9\\u75C7\\u4E0B\\u836F\\u3002\\u4E0B\\u9762\\u4ECE\\u591A\\u4E2A\\u89D2\\u5EA6\\u5207\\u5165\\uFF0C\\u9010\\u6B65\\u5C55\\u5F00\\u4F18\\u5316\\u7B56\\u7565\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"1-\\u4ECE\\u865A\\u62DF-dom-\\u548C-diff-\\u7B97\\u6CD5\\u8BF4\\u8D77\",children:(0,l.jsx)(e.a,{href:\"#1-\\u4ECE\\u865A\\u62DF-dom-\\u548C-diff-\\u7B97\\u6CD5\\u8BF4\\u8D77\",children:\"1. \\u4ECE\\u865A\\u62DF DOM \\u548C diff \\u7B97\\u6CD5\\u8BF4\\u8D77\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"React \\u7684\\u6027\\u80FD\\u4F18\\u5316\\u79BB\\u4E0D\\u5F00\\u5BF9\\u865A\\u62DF DOM \\u7684\\u7406\\u89E3\\u3002\\u865A\\u62DF DOM \\u672C\\u8D28\\u4E0A\\u662F\\u4E00\\u4E2A JavaScript \\u5BF9\\u8C61\\u6811\\uFF0CReact \\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"react-reconciler\"})})})}),\" \\u5305\\u6765\\u7BA1\\u7406\\u548C\\u66F4\\u65B0\\u5B83\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u7B80\\u5355\\u770B\\u4E00\\u4E0B\\u6E90\\u7801\\u4E2D\\u865A\\u62DF DOM \\u7684\\u521B\\u5EFA\\u8FC7\\u7A0B\\uFF08\\u7B80\\u5316\\u7248\\uFF09\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// react/src/ReactElement.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" createElement\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"type\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"config\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"children\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" props\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" key \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ref \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (config \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"hasValidRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(config)) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ref \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" config.ref;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"hasValidKey\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(config)) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      key \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ''\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" config.key;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u5C06 config \\u4E2D\\u7684\\u5C5E\\u6027\\u8D4B\\u503C\\u5230 props\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (propName \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"in\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" config) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (hasOwnProperty.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"call\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(config, propName) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"RESERVED_PROPS\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"hasOwnProperty\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(propName)) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        props[propName] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" config[propName];\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u5904\\u7406 children\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" childrenLength\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" arguments\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" -\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (childrenLength \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    props.children \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" children;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (childrenLength \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" childArray\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(childrenLength);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" childrenLength; i\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      childArray[i] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" arguments\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"[i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    props.children \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" childArray;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    $$typeof: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"REACT_ELEMENT_TYPE\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    type,\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    key,\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ref,\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    props,\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8FD9\\u6BB5\\u4EE3\\u7801\\u5C55\\u793A\\u4E86 React \\u5982\\u4F55\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"createElement\"})})})}),\" \\u521B\\u5EFA\\u865A\\u62DF DOM \\u8282\\u70B9\\u3002\\u6BCF\\u6B21\\u8C03\\u7528 JSX\\uFF08\\u672C\\u8D28\\u4E0A\\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"createElement\"})})})}),\" \\u7684\\u8BED\\u6CD5\\u7CD6\\uFF09\\uFF0C\\u90FD\\u4F1A\\u751F\\u6210\\u4E00\\u4E2A\\u65B0\\u7684\\u865A\\u62DF DOM \\u5BF9\\u8C61\\u3002React \\u4F1A\\u5728\\u66F4\\u65B0\\u65F6\\u901A\\u8FC7 diff \\u7B97\\u6CD5\\u5BF9\\u6BD4\\u65B0\\u65E7\\u865A\\u62DF DOM\\uFF0C\\u627E\\u51FA\\u53D8\\u5316\\u7684\\u90E8\\u5206\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"diff-\\u7B97\\u6CD5\\u7684\\u4F18\\u5316\\u70B9\",children:(0,l.jsx)(e.a,{href:\"#diff-\\u7B97\\u6CD5\\u7684\\u4F18\\u5316\\u70B9\",children:\"diff \\u7B97\\u6CD5\\u7684\\u4F18\\u5316\\u70B9\"})}),`\n`,(0,l.jsx)(e.p,{children:\"React \\u7684 diff \\u7B97\\u6CD5\\u6709\\u51E0\\u4E2A\\u5173\\u952E\\u7279\\u6027\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u540C\\u5C42\\u6BD4\\u8F83\"}),\"\\uFF1A\\u53EA\\u6BD4\\u8F83\\u540C\\u4E00\\u5C42\\u7EA7\\u7684\\u8282\\u70B9\\uFF0C\\u8DE8\\u5C42\\u79FB\\u52A8\\u6548\\u7387\\u8F83\\u4F4E\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"key \\u7684\\u4F5C\\u7528\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"key\"})})})}),\" \\u5C5E\\u6027\\u5FEB\\u901F\\u5339\\u914D\\u5B50\\u8282\\u70B9\\uFF0C\\u907F\\u514D\\u9010\\u4E2A\\u6BD4\\u8F83\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h4,{id:\"\\u6848\\u4F8B\\u5217\\u8868\\u6E32\\u67D3\\u4E2D\\u7684-key-\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#\\u6848\\u4F8B\\u5217\\u8868\\u6E32\\u67D3\\u4E2D\\u7684-key-\\u4F18\\u5316\",children:\"\\u6848\\u4F8B\\uFF1A\\u5217\\u8868\\u6E32\\u67D3\\u4E2D\\u7684 key \\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5047\\u8BBE\\u6211\\u4EEC\\u6709\\u4E00\\u4E2A\\u52A8\\u6001\\u5217\\u8868\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" List\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {items.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{item.name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u6CA1\\u6709\\u7ED9\\u6BCF\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"li\"})})})}),\" \\u6DFB\\u52A0 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"key\"})})})}),\"\\uFF0CReact \\u5728\\u66F4\\u65B0\\u65F6\\u4F1A\\u9010\\u4E2A\\u5BF9\\u6BD4\\u6240\\u6709\\u5B50\\u8282\\u70B9\\uFF0C\\u65F6\\u95F4\\u590D\\u6742\\u5EA6\\u4E3A O(n)\\u3002\\u52A0\\u4E0A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"key\"})})})}),\" \\u540E\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" List\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {items.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{item.id}>{item.name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"React \\u4F1A\\u76F4\\u63A5\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"key\"})})})}),\" \\u627E\\u5230\\u5BF9\\u5E94\\u7684\\u8282\\u70B9\\uFF0C\\u65F6\\u95F4\\u590D\\u6742\\u5EA6\\u964D\\u5230 O(1)\\u3002\\u8FD9\\u5728\\u5927\\u6570\\u636E\\u91CF\\u5217\\u8868\\u4E2D\\u5C24\\u4E3A\\u91CD\\u8981\\uFF0C\\u6BD4\\u5982\\u6E32\\u67D3\\u4E00\\u4E2A 1000 \\u9879\\u7684\\u8868\\u683C\\uFF0C\\u6CA1\\u52A0 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"key\"})})})}),\" \\u65F6\\u53EF\\u80FD\\u5BFC\\u81F4\\u660E\\u663E\\u7684\\u5361\\u987F\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u4F18\\u5316\\u5EFA\\u8BAE\"}),\"\\uFF1A\\u59CB\\u7EC8\\u4E3A\\u52A8\\u6001\\u5217\\u8868\\u4E2D\\u7684\\u6BCF\\u4E2A\\u5B50\\u9879\\u63D0\\u4F9B\\u552F\\u4E00\\u4E14\\u7A33\\u5B9A\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"key\"})})})}),\"\\uFF0C\\u907F\\u514D\\u4F7F\\u7528\\u6570\\u7EC4\\u7D22\\u5F15\\uFF08index\\uFF09\\uFF0C\\u56E0\\u4E3A\\u6570\\u636E\\u987A\\u5E8F\\u53D8\\u5316\\u65F6\\u7D22\\u5F15\\u4F1A\\u5931\\u6548\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"2-\\u7EC4\\u4EF6\\u5C42\\u9762\\u7684\\u4F18\\u5316reactmemo-\\u548C-purecomponent\",children:(0,l.jsx)(e.a,{href:\"#2-\\u7EC4\\u4EF6\\u5C42\\u9762\\u7684\\u4F18\\u5316reactmemo-\\u548C-purecomponent\",children:\"2. \\u7EC4\\u4EF6\\u5C42\\u9762\\u7684\\u4F18\\u5316\\uFF1AReact.memo \\u548C PureComponent\"})}),`\n`,(0,l.jsx)(e.p,{children:\"React \\u7684\\u9ED8\\u8BA4\\u884C\\u4E3A\\u662F\\uFF0C\\u53EA\\u8981\\u7236\\u7EC4\\u4EF6\\u66F4\\u65B0\\uFF0C\\u5B50\\u7EC4\\u4EF6\\u5C31\\u4F1A\\u8DDF\\u7740\\u91CD\\u65B0\\u6E32\\u67D3\\uFF0C\\u5373\\u4F7F props \\u6CA1\\u53D8\\u3002\\u8FD9\\u5728\\u590D\\u6742\\u7EC4\\u4EF6\\u6811\\u4E2D\\u4F1A\\u5E26\\u6765\\u4E0D\\u5C0F\\u7684\\u6027\\u80FD\\u5F00\\u9500\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"reactmemo\",children:(0,l.jsx)(e.a,{href:\"#reactmemo\",children:\"React.memo\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.memo\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u9AD8\\u9636\\u7EC4\\u4EF6\\uFF0C\\u7528\\u4E8E\\u8BB0\\u5FC6\\u51FD\\u6570\\u7EC4\\u4EF6\\u7684\\u6E32\\u67D3\\u7ED3\\u679C\\u3002\\u5B83\\u901A\\u8FC7\\u6D45\\u6BD4\\u8F83 props \\u6765\\u51B3\\u5B9A\\u662F\\u5426\\u9700\\u8981\\u91CD\\u65B0\\u6E32\\u67D3\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Child\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"memo\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Child\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Child rendered'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{data.name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Parent\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'React'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5BF9\\u8C61\\u5F15\\u7528\\u4E0D\\u53D8\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <>\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}>Count: {count}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Child\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{data} />\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </>\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\\u70B9\\u51FB\\u6309\\u94AE\\u66F4\\u65B0 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"count\"})})})}),\"\\uFF0C\\u4F46 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Child\"})})})}),\" \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"data\"})})})}),\" \\u6CA1\\u53D8\\u3002\\u7531\\u4E8E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.memo\"})})})}),\" \\u7684\\u6D45\\u6BD4\\u8F83\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Child\"})})})}),\" \\u4E0D\\u4F1A\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6E90\\u7801\\u89E3\\u6790\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// react/src/ReactMemo.js\\uFF08\\u7B80\\u5316\\u7248\\uFF09\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" memo\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"type\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"compare\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" elementType\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    $$typeof: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"REACT_MEMO_TYPE\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    type,\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    compare: compare \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" compare,\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" elementType;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" areEqual\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prevProps\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"nextProps\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (prevProps \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" nextProps) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" key \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"in\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prevProps) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (prevProps[key] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" nextProps[key]) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.memo\"})})})}),\" \\u7684\\u9ED8\\u8BA4\\u6BD4\\u8F83\\u903B\\u8F91\\u662F\\u6D45\\u6BD4\\u8F83\\u3002\\u5982\\u679C\\u9700\\u8981\\u6DF1\\u6BD4\\u8F83\\uFF0C\\u53EF\\u4EE5\\u4F20\\u5165\\u81EA\\u5B9A\\u4E49\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"compare\"})})})}),\" \\u51FD\\u6570\\uFF0C\\u4F46\\u8981\\u6CE8\\u610F\\u6DF1\\u6BD4\\u8F83\\u672C\\u8EAB\\u7684\\u6027\\u80FD\\u5F00\\u9500\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"purecomponent\",children:(0,l.jsx)(e.a,{href:\"#purecomponent\",children:\"PureComponent\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5BF9\\u4E8E\\u7C7B\\u7EC4\\u4EF6\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"PureComponent\"})})})}),\"\\uFF0C\\u5B83\\u5185\\u7F6E\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"shouldComponentUpdate\"})})})}),\" \\u7684\\u6D45\\u6BD4\\u8F83\\u903B\\u8F91\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Child\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" React\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"PureComponent\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  render\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Child rendered'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">{\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".props.data.name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6CE8\\u610F\\u4E8B\\u9879\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.memo\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"PureComponent\"})})})}),\" \\u53EA\\u9002\\u5408 props \\u53D8\\u5316\\u4E0D\\u9891\\u7E41\\u7684\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5982\\u679C props \\u662F\\u590D\\u6742\\u5BF9\\u8C61\\uFF0C\\u786E\\u4FDD\\u5F15\\u7528\\u7A33\\u5B9A\\uFF08\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u63A7\\u5236\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"3-hooks-\\u5C42\\u9762\\u7684\\u4F18\\u5316usememo-\\u548C-usecallback\",children:(0,l.jsx)(e.a,{href:\"#3-hooks-\\u5C42\\u9762\\u7684\\u4F18\\u5316usememo-\\u548C-usecallback\",children:\"3. Hooks \\u5C42\\u9762\\u7684\\u4F18\\u5316\\uFF1AuseMemo \\u548C useCallback\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u51FD\\u6570\\u7EC4\\u4EF6\\u7684\\u666E\\u53CA\\u8BA9 Hooks \\u6210\\u4E3A\\u4F18\\u5316\\u7684\\u65B0\\u6218\\u573A\\u3002\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u662F\\u4E24\\u4E2A\\u5229\\u5668\\uFF0C\\u80FD\\u6709\\u6548\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u8BA1\\u7B97\\u548C\\u5F15\\u7528\\u53D8\\u5316\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"usememo\\u7F13\\u5B58\\u6602\\u8D35\\u8BA1\\u7B97\",children:(0,l.jsx)(e.a,{href:\"#usememo\\u7F13\\u5B58\\u6602\\u8D35\\u8BA1\\u7B97\",children:\"useMemo\\uFF1A\\u7F13\\u5B58\\u6602\\u8D35\\u8BA1\\u7B97\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u6E32\\u67D3\\u4E00\\u4E2A\\u5927\\u6570\\u636E\\u91CF\\u7684\\u8FC7\\u6EE4\\u5217\\u8868\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" FilterList\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" filteredItems\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" items.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" item.value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u91CD\\u65B0\\u8BA1\\u7B97\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {filteredItems.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{item.id}>{item.name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"items\"})})})}),\" \\u6CA1\\u53D8\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"filteredItems\"})})})}),\" \\u7684\\u8BA1\\u7B97\\u5374\\u662F\\u591A\\u4F59\\u7684\\u3002\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u4F18\\u5316\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" FilterList\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" filteredItems\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useMemo\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" items.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"filter\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" item.value \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [items]);\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {filteredItems.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{item.id}>{item.name}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"li\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"ul\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u4F1A\\u7F13\\u5B58\\u8BA1\\u7B97\\u7ED3\\u679C\\uFF0C\\u53EA\\u6709\\u5F53\\u4F9D\\u8D56\\u9879 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"items\"})})})}),\" \\u53D8\\u5316\\u65F6\\u624D\\u4F1A\\u91CD\\u65B0\\u6267\\u884C\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6E90\\u7801\\u89E3\\u6790\"}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// react/src/ReactHooks.js\\uFF08\\u7B80\\u5316\\u7248\\uFF09\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useMemo\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"factory\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"deps\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" hook\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" mountWorkInProgressHook\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" nextDeps\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" deps \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" deps;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" prevDeps\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hook.memoizedState?.[\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"areHookInputsEqual\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(nextDeps, prevDeps)) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hook.memoizedState[\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" nextValue\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" factory\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  hook.memoizedState \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [nextValue, nextDeps];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" nextValue;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u7684\\u6838\\u5FC3\\u662F\\u6BD4\\u8F83\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u53EA\\u6709\\u4F9D\\u8D56\\u53D8\\u5316\\u65F6\\u624D\\u91CD\\u65B0\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"usecallback\\u7A33\\u5B9A\\u51FD\\u6570\\u5F15\\u7528\",children:(0,l.jsx)(e.a,{href:\"#usecallback\\u7A33\\u5B9A\\u51FD\\u6570\\u5F15\\u7528\",children:\"useCallback\\uFF1A\\u7A33\\u5B9A\\u51FD\\u6570\\u5F15\\u7528\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E8B\\u4EF6\\u5904\\u7406\\u51FD\\u6570\\u7684\\u9891\\u7E41\\u521B\\u5EFA\\u4F1A\\u5BFC\\u81F4\\u5B50\\u7EC4\\u4EF6\\u91CD\\u590D\\u6E32\\u67D3\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Parent\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleClick\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF\\u6B21\\u6E32\\u67D3\\u751F\\u6210\\u65B0\\u51FD\\u6570\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Child\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleClick} />;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Child\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"memo\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Child\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"onClick\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Child rendered'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{onClick}>Click me</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5C3D\\u7BA1\\u7528\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.memo\"})})})}),\"\\uFF0C\\u4F46 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"handleClick\"})})})}),\" \\u6BCF\\u6B21\\u90FD\\u662F\\u65B0\\u5F15\\u7528\\uFF0C\\u5BFC\\u81F4 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Child\"})})})}),\" \\u4ECD\\u7136\\u91CD\\u6E32\\u67D3\\u3002\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useCallback\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Parent\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"count\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setCount\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" handleClick\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useCallback\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setCount\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"c\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" c \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), []);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Child\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleClick} />;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u786E\\u4FDD\\u51FD\\u6570\\u5F15\\u7528\\u7A33\\u5B9A\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Child\"})})})}),\" \\u4E0D\\u518D\\u91CD\\u590D\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C0F\\u8D34\\u58EB\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u90FD\\u6709\\u5185\\u5B58\\u5F00\\u9500\\uFF0C\\u4E0D\\u8981\\u6EE5\\u7528\\uFF0C\\u53EA\\u5728\\u5FC5\\u8981\\u65F6\\u4F7F\\u7528\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"4-\\u5217\\u8868\\u865A\\u62DF\\u5316\\u5E94\\u5BF9\\u5927\\u6570\\u636E\\u91CF\\u6E32\\u67D3\",children:(0,l.jsx)(e.a,{href:\"#4-\\u5217\\u8868\\u865A\\u62DF\\u5316\\u5E94\\u5BF9\\u5927\\u6570\\u636E\\u91CF\\u6E32\\u67D3\",children:\"4. \\u5217\\u8868\\u865A\\u62DF\\u5316\\uFF1A\\u5E94\\u5BF9\\u5927\\u6570\\u636E\\u91CF\\u6E32\\u67D3\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5F53\\u5217\\u8868\\u9879\\u8FBE\\u5230\\u6570\\u767E\\u751A\\u81F3\\u4E0A\\u5343\\u65F6\\uFF0C\\u5373\\u4F7F\\u52A0\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"key\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.memo\"})})})}),\"\\uFF0C\\u4E00\\u6B21\\u6027\\u6E32\\u67D3\\u4ECD\\u7136\\u4F1A\\u5361\\u987F\\u3002\\u8FD9\\u65F6\\u53EF\\u4EE5\\u7528\\u865A\\u62DF\\u5316\\u6280\\u672F\\uFF0C\\u53EA\\u6E32\\u67D3\\u53EF\\u89C6\\u533A\\u57DF\\u7684\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4F7F\\u7528-react-virtualized\",children:(0,l.jsx)(e.a,{href:\"#\\u4F7F\\u7528-react-virtualized\",children:\"\\u4F7F\\u7528 react-virtualized\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { List } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react-virtualized'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" VirtualList\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" rowRenderer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{key} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{style}>\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {items[index].name}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"List\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      width\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"300\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      height\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"400\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      rowCount\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{items.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      rowHeight\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"50\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      rowRenderer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{rowRenderer}\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    />\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"react-virtualized\"})})})}),\" \\u4F1A\\u6839\\u636E\\u6EDA\\u52A8\\u4F4D\\u7F6E\\u52A8\\u6001\\u6E32\\u67D3 DOM\\uFF0C\\u5927\\u5E45\\u51CF\\u5C11\\u5185\\u5B58\\u548C\\u8BA1\\u7B97\\u5F00\\u9500\\u3002\\u7C7B\\u4F3C\\u7684\\u5E93\\u8FD8\\u6709 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"react-window\"})})})}),\"\\uFF0C\\u66F4\\u8F7B\\u91CF\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"5-\\u4EE3\\u7801\\u5206\\u5272\\u4E0E\\u61D2\\u52A0\\u8F7D\",children:(0,l.jsx)(e.a,{href:\"#5-\\u4EE3\\u7801\\u5206\\u5272\\u4E0E\\u61D2\\u52A0\\u8F7D\",children:\"5. \\u4EE3\\u7801\\u5206\\u5272\\u4E0E\\u61D2\\u52A0\\u8F7D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"React \\u63D0\\u4F9B\\u4E86 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.lazy\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Suspense\"})})})}),\"\\uFF0C\\u53EF\\u4EE5\\u6309\\u9700\\u52A0\\u8F7D\\u7EC4\\u4EF6\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" HeavyComponent\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"lazy\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./HeavyComponent'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fallback\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{<\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Loading...</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"HeavyComponent\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Suspense\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7ED3\\u5408 Webpack \\u7684\\u52A8\\u6001\\u5BFC\\u5165\\uFF0C\\u80FD\\u6709\\u6548\\u51CF\\u5C11\\u9996\\u5C4F\\u52A0\\u8F7D\\u65F6\\u95F4\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"6-\\u5176\\u4ED6\\u5B9E\\u7528\\u6280\\u5DE7\",children:(0,l.jsx)(e.a,{href:\"#6-\\u5176\\u4ED6\\u5B9E\\u7528\\u6280\\u5DE7\",children:\"6. \\u5176\\u4ED6\\u5B9E\\u7528\\u6280\\u5DE7\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u907F\\u514D\\u5185\\u8054\\u5BF9\\u8C61\\u548C\\u51FD\\u6570\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"<div style={{ color: 'red' }}>\"})})})}),\" \\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4F1A\\u521B\\u5EFA\\u65B0\\u5BF9\\u8C61\\uFF0C\\u6539\\u4E3A\\u63D0\\u53D6\\u5230\\u5E38\\u91CF\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4F7F\\u7528 Profiler \\u5DE5\\u5177\"}),\"\\uFF1AReact DevTools \\u7684 Profiler \\u53EF\\u4EE5\\u5B9A\\u4F4D\\u6E32\\u67D3\\u74F6\\u9888\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6279\\u91CF\\u66F4\\u65B0\"}),\"\\uFF1A\\u5229\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"unstable_batchedUpdates\"})})})}),\" \\u5408\\u5E76\\u591A\\u6B21\\u72B6\\u6001\\u66F4\\u65B0\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u7ED3\\u8BED\",children:(0,l.jsx)(e.a,{href:\"#\\u7ED3\\u8BED\",children:\"\\u7ED3\\u8BED\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"React \\u7684\\u6027\\u80FD\\u4F18\\u5316\\u662F\\u4E00\\u4E2A\\u4ECE\\u5FAE\\u89C2\\u5230\\u5B8F\\u89C2\\u7684\\u8FC7\\u7A0B\\uFF0C\\u65E2\\u9700\\u8981\\u7406\\u89E3\\u865A\\u62DF DOM \\u548C diff \\u7B97\\u6CD5\\u7684\\u5E95\\u5C42\\u539F\\u7406\\uFF0C\\u4E5F\\u9700\\u8981\\u638C\\u63E1 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.memo\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u7B49\\u5DE5\\u5177\\u7684\\u6B63\\u786E\\u7528\\u6CD5\\uFF0C\\u8FD8\\u8981\\u5728\\u5927\\u6570\\u636E\\u573A\\u666F\\u4E0B\\u5F15\\u5165\\u865A\\u62DF\\u5316\\u7B49\\u9AD8\\u7EA7\\u7B56\\u7565\\u3002\\u4F18\\u5316\\u4E0D\\u662F\\u4E00\\u8E74\\u800C\\u5C31\\u7684\\uFF0C\\u9700\\u8981\\u7ED3\\u5408\\u5177\\u4F53\\u573A\\u666F\\u53CD\\u590D\\u8C03\\u8BD5\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u7ED9\\u4F60\\u4E00\\u4E9B\\u542F\\u53D1\\u3002\\u6709\\u4EC0\\u4E48\\u4F18\\u5316\\u7ECF\\u9A8C\\u6216\\u7591\\u95EE\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u4EA4\\u6D41\\uFF01\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u6253\\u9020\\u66F4\\u9AD8\\u6548\\u7684 React \\u5E94\\u7528\\u5427\\uFF01\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}return B(b);})();\n;return Component;"
  },
  "_id": "React/聊聊React项目中的性能优化.mdx",
  "_raw": {
    "sourceFilePath": "React/聊聊React项目中的性能优化.mdx",
    "sourceFileName": "聊聊React项目中的性能优化.mdx",
    "sourceFileDir": "React",
    "contentType": "mdx",
    "flattenedPath": "React/聊聊React项目中的性能优化"
  },
  "type": "Post",
  "url": "/blog/React/聊聊React项目中的性能优化"
}
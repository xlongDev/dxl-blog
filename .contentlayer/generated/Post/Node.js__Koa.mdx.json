{
  "title": "èŠèŠ Koaï¼šè½»é‡ä¼˜é›…çš„ Node.js Web æ¡†æž¶æŽ¢ç§˜",
  "date": "2024-01-22T00:00:00.000Z",
  "description": "ä¸€ç¯‡æ·±å…¥å‰–æž Koa çš„åšå®¢ï¼Œå¸¦ä½ èµ°è¿›å®ƒçš„æ ¸å¿ƒåŽŸç†ã€ä¸­é—´ä»¶æœºåˆ¶ã€ä¸Šä¸‹æ–‡è®¾è®¡ä»¥åŠå®žæˆ˜æŠ€å·§ï¼Œè§£é”ä¸‹ä¸€ä»£ Web å¼€å‘çš„ç§˜å¯†ã€‚",
  "keywords": "Koa, Node.js, Web å¼€å‘, ä¸­é—´ä»¶, ä¸Šä¸‹æ–‡, Async/Await, è½»é‡æ¡†æž¶, RESTful API",
  "author": "æ™“é¾™",
  "image": "/images/hero/koa.jpg",
  "tags": [
    "Koa",
    "Node.js",
    "åŽç«¯å¼€å‘"
  ],
  "views": 0,
  "likes": 0,
  "category": "Node.js",
  "body": {
    "raw": "\nå˜¿ï¼Œæœ‹å‹ï¼ä»Šå¤©å’±ä»¬æ¥èŠèŠ Koaâ€”â€”è¿™ä¸ª Node.js ç”Ÿæ€é‡Œçš„â€œå°æ¸…æ–°â€ã€‚ç›¸æ¯” Express çš„â€œè€å¤§å“¥â€æ°”è´¨ï¼ŒKoa æ›´åƒæ˜¯ä¸ªâ€œæ–‡è‰ºé’å¹´â€ï¼Œè½»é‡ã€ä¼˜é›…ï¼Œè¿˜å¸¦ç€ç‚¹æœªæ¥æ„Ÿã€‚å®ƒæ˜¯ Express åŽŸç­äººé©¬ï¼ˆTJ Holowaychuk å’Œä»–çš„å°ä¼™ä¼´ä»¬ï¼‰åœ¨ 2014 å¹´æžå‡ºæ¥çš„â€œä¸‹ä¸€ä»£â€æ¡†æž¶ï¼Œä¸»æ‰“ç®€æ´å’ŒçŽ°ä»£åŒ–ã€‚æƒ³çŸ¥é“å®ƒä¸ºå•¥èƒ½åœ¨ä¼—å¤šæ¡†æž¶é‡Œè„±é¢–è€Œå‡ºï¼Ÿä»Šå¤©æˆ‘å°±å¸¦ä½ ä»ŽåŽŸç†åˆ°å®žæˆ˜ï¼ŒæŒ–ä¸€æŒ–å®ƒçš„â€œå†…åŠŸå¿ƒæ³•â€ï¼Œé¡ºä¾¿èŠç‚¹æˆ‘çš„ä½¿ç”¨å¿ƒå¾—å’Œâ€œè¸©å‘æ—¥è®°â€ ðŸ˜„ã€‚\n\n## Koa æ˜¯å•¥ï¼Ÿä»Ž Express çš„â€œè¿›åŒ–â€è¯´èµ·\n\nKoa çš„å…¨ç§°æ˜¯â€œKoa.jsâ€ï¼Œä½†åˆ«è¢«åå­—éª—äº†ï¼Œå®ƒå…¶å®žæ²¡å•¥å¤æ‚çš„â€œjsâ€èŠ±æ ·ï¼Œå°±æ˜¯ä¸€ä¸ªè½»é‡çº§ Web æ¡†æž¶ã€‚å®ƒçš„å£å·æ˜¯â€œä¸‹ä¸€ä»£ Node.js Web æ¡†æž¶â€ï¼Œå¬èµ·æ¥æœ‰ç‚¹ç‹‚ï¼Œä½†ç¡®å®žæœ‰ä¸¤æŠŠåˆ·å­ã€‚\n\nå¦‚æžœä½ ç”¨è¿‡ Expressï¼Œè‚¯å®šä¼šè§‰å¾— Koa æœ‰ç‚¹â€œä¼¼æ›¾ç›¸è¯†â€ã€‚æ²¡é”™ï¼ŒKoa çš„è®¾è®¡çµæ„Ÿç¡®å®žæ¥è‡ª Expressï¼Œä½†å®ƒæŠŠ Express çš„â€œè‡ƒè‚¿å¤–å¥—â€è„±æŽ‰ï¼Œæ¢ä¸Šäº†â€œç´§èº«è¿åŠ¨æœâ€ã€‚Express å†…ç½®äº†ä¸€å †ä¸œè¥¿ï¼ˆè·¯ç”±ã€ä¸­é—´ä»¶å•¥çš„ï¼‰ï¼Œè€Œ Koa å‡ ä¹Žå•¥éƒ½ä¸å¸¦ï¼Œåªç»™ä½ ä¸€ä¸ªâ€œéª¨æž¶â€ï¼Œå…¶ä»–å…¨é è‡ªå·±æ­ã€‚\n\næœ€ç®€å•çš„ Koa æœåŠ¡å™¨é•¿è¿™æ ·ï¼š\n\n```javascript\nconst Koa = require(\"koa\");\nconst app = new Koa();\n\napp.use(async (ctx) => {\n    ctx.body = \"Hello Koa\";\n});\n\napp.listen(3000, () => console.log(\"Server running on port 3000\"));\n```\n\næ˜¯ä¸æ˜¯ç®€æ´å¾—è®©äººæƒ³é¼“æŽŒï¼Ÿæ¯”èµ· Express çš„ `req` å’Œ `res`ï¼ŒKoa ç›´æŽ¥ç”¨ `ctx`ï¼ˆä¸Šä¸‹æ–‡ï¼‰æŠŠè¯·æ±‚å’Œå“åº”æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œå¹²å‡€åˆ©è½ã€‚è¿™å°±æ˜¯ Koa çš„å“²å­¦ï¼šå°‘å³æ˜¯å¤šã€‚\n\n## ä¸­é—´ä»¶ï¼šKoa çš„â€œæ´‹è‘±åœˆâ€é­”æ³•\n\nKoa çš„æ ¸å¿ƒäº®ç‚¹æ˜¯å®ƒçš„**ä¸­é—´ä»¶æœºåˆ¶**ï¼Œå·ç§°â€œæ´‹è‘±æ¨¡åž‹â€ã€‚å•¥æ„æ€ï¼Ÿæƒ³è±¡ä¸€ä¸‹å‰¥æ´‹è‘±ï¼šè¯·æ±‚è¿›æ¥ï¼Œä»Žå¤–å±‚ä¸­é—´ä»¶è·‘åˆ°å†…å±‚ï¼Œç„¶åŽå“åº”å‡ºåŽ»ï¼Œåˆä»Žå†…å±‚è·‘å›žå¤–å±‚ï¼Œåƒå‰¥æ´‹è‘±ä¸€æ ·ä¸€åœˆåœˆèµ°å®Œã€‚\n\nExpress çš„ä¸­é—´ä»¶æ˜¯â€œç›´çº¿åž‹â€ï¼Œé  `next()` å•å‘æŽ¨è¿›ï¼Œè€Œ Koa ç”¨ `async/await` è®©ä¸­é—´ä»¶å¯ä»¥â€œåŒå‘æµåŠ¨â€ã€‚çœ‹ä¸ªä¾‹å­ï¼š\n\n```javascript\nconst Koa = require(\"koa\");\nconst app = new Koa();\n\napp.use(async (ctx, next) => {\n    console.log(\"è¿›å…¥ä¸­é—´ä»¶ 1\");\n    await next();\n    console.log(\"ç¦»å¼€ä¸­é—´ä»¶ 1\");\n});\n\napp.use(async (ctx, next) => {\n    console.log(\"è¿›å…¥ä¸­é—´ä»¶ 2\");\n    await next();\n    console.log(\"ç¦»å¼€ä¸­é—´ä»¶ 2\");\n});\n\napp.use(async (ctx) => {\n    console.log(\"åˆ°è¾¾æ ¸å¿ƒ\");\n    ctx.body = \"Hello from Koa\";\n});\n\napp.listen(3000);\n```\n\nè·‘èµ·æ¥ï¼Œè¾“å‡ºæ˜¯ï¼š\n\n```\nè¿›å…¥ä¸­é—´ä»¶ 1\nè¿›å…¥ä¸­é—´ä»¶ 2\nåˆ°è¾¾æ ¸å¿ƒ\nç¦»å¼€ä¸­é—´ä»¶ 2\nç¦»å¼€ä¸­é—´ä»¶ 1\n```\n\nè¿™é¡ºåºå¤šä¼˜é›…ï¼å› ä¸º `await next()` ä¼šç­‰ä¸‹æ¸¸ä¸­é—´ä»¶æ‰§è¡Œå®Œå†å›žæ¥ï¼Œé€»è¾‘æ¸…æ™°å¾—åƒåœ¨è®²æ•…äº‹ã€‚ç›¸æ¯” Express çš„å›žè°ƒåµŒå¥—ï¼ŒKoa çš„å¼‚æ­¥å¤„ç†ç®€ç›´æ˜¯â€œæ•‘å‘½è‰¯è¯â€ï¼Œå°¤å…¶é€‚åˆçŽ°ä»£ JS çš„ async/await é£Žæ ¼ã€‚\n\n## ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰ï¼šKoa çš„â€œç‘žå£«å†›åˆ€â€\n\nKoa çš„å¦ä¸€ä¸ªå¤§æ‹›æ˜¯ `ctx`ï¼ˆä¸Šä¸‹æ–‡å¯¹è±¡ï¼‰ã€‚å®ƒæŠŠ `req` å’Œ `res` æ‰“åŒ…æˆä¸€ä¸ªå¯¹è±¡ï¼Œè¿˜é¡ºæ‰‹å¡žäº†ç‚¹å¥½ç”¨çš„å±žæ€§å’Œæ–¹æ³•ã€‚æ¯”å¦‚ï¼š\n\n- `ctx.request`ï¼šè¯·æ±‚ç›¸å…³ä¿¡æ¯ï¼ˆURLã€æ–¹æ³•ã€å¤´ç­‰ï¼‰ã€‚\n- `ctx.response`ï¼šå“åº”ç›¸å…³æ“ä½œï¼ˆçŠ¶æ€ç ã€body ç­‰ï¼‰ã€‚\n- `ctx.body`ï¼šç›´æŽ¥è®¾ç½®å“åº”å†…å®¹ï¼Œçœå¾—å†™ `res.end`ã€‚\n- `ctx.state`ï¼šä¸­é—´ä»¶ä¹‹é—´ä¼ æ•°æ®çš„â€œå…±äº«ç©ºé—´â€ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼š\n\n```javascript\napp.use(async (ctx, next) => {\n    ctx.state.user = \"æ™“é¾™\"; // å­˜ç‚¹æ•°æ®\n    await next();\n});\n\napp.use(async (ctx) => {\n    ctx.body = `Hello, ${ctx.state.user}!`;\n});\n```\n\nè®¿é—® `localhost:3000`ï¼Œè¾“å‡º `Hello, æ™“é¾™!`ã€‚è¿™ `ctx.state` å°±åƒä¸ªâ€œä¾¿ç­¾æœ¬â€ï¼Œä¸­é—´ä»¶ä¹‹é—´éšä¾¿ä¼ ä¸œè¥¿ï¼Œæ–¹ä¾¿å¾—ä¸è¡Œã€‚\n\n## è·¯ç”±ï¼šè‡ªå·±åŠ¨æ‰‹ï¼Œä¸°è¡£è¶³é£Ÿ\n\nè·Ÿ Express ä¸åŒï¼ŒKoa æ²¡å†…ç½®è·¯ç”±ã€‚ä½ å¾—è‡ªå·±è£…ä¸ª `@koa/router`ï¼š\n\n```javascript\nconst Koa = require(\"koa\");\nconst Router = require(\"@koa/router\");\nconst app = new Koa();\nconst router = new Router();\n\nrouter.get(\"/users\", async (ctx) => {\n    ctx.body = \"List of users\";\n});\n\nrouter.post(\"/users\", async (ctx) => {\n    ctx.body = \"Create a user\";\n});\n\napp.use(router.routes()).use(router.allowedMethods());\n\napp.listen(3000);\n```\n\n`allowedMethods()` æ˜¯å¹²å•¥çš„ï¼Ÿå®ƒä¼šè‡ªåŠ¨å¤„ç† HTTP æ–¹æ³•ä¸æ”¯æŒçš„æƒ…å†µï¼Œæ¯”å¦‚ç”¨ GET è®¿é—® POST è·¯ç”±ï¼Œç›´æŽ¥è¿”å›ž 405ã€‚ç»†èŠ‚æ»¡æ»¡ï¼Œè´´å¿ƒå¾—å¾ˆã€‚\n\n## æ·±å…¥åŽŸç†ï¼šKoa å’‹â€œçŽ©â€èµ·æ¥çš„ï¼Ÿ\n\nKoa çš„æºç æ¯” Express ç®€å•å¾—å¤šï¼Œæ€»å…±å°±å‡ ç™¾è¡Œã€‚æ ¸å¿ƒé€»è¾‘æ˜¯å•¥ï¼Ÿä¸€ä¸ªä¸­é—´ä»¶è°ƒåº¦å™¨ã€‚å®ƒæŠŠæ‰€æœ‰ `app.use` åŠ çš„ä¸­é—´ä»¶å¡žè¿›ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åŽç”¨ `compose` å‡½æ•°ä¸²èµ·æ¥æ‰§è¡Œã€‚\n\nè¿™ä¸ª `compose` æ˜¯ Koa çš„â€œå†…åŠŸå¿ƒæ³•â€ï¼Œé•¿è¿™æ ·ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š\n\n```javascript\nfunction compose(middlewares) {\n    return async (ctx) => {\n        async function dispatch(index) {\n            if (index === middlewares.length) return;\n            const fn = middlewares[index];\n            await fn(ctx, () => dispatch(index + 1));\n        }\n        await dispatch(0);\n    };\n}\n```\n\næ¯æ¬¡è¯·æ±‚è¿›æ¥ï¼Œ`compose` å°±ä»Žç¬¬ä¸€ä¸ªä¸­é—´ä»¶å¼€å§‹è·‘ï¼Œé  `next` å‡½æ•°ï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰é€’å½’è°ƒç”¨ä¸‹ä¸€ä¸ªã€‚`async/await` ä¿è¯äº†æ‰§è¡Œé¡ºåºçš„â€œæ´‹è‘±æ„Ÿâ€ã€‚æƒ³æ·±å…¥ï¼ŸåŽ» GitHub ç¿»ç¿»æºç ï¼Œä¿å‡†ä½ æ„Ÿå¹â€œè¿™ä¹Ÿå¤ªç²¾å·§äº†å§â€ã€‚\n\n## å®žæˆ˜ä¾‹å­ï¼šæžä¸ªè¿·ä½  API\n\nå’±ä»¬æ¥æ­ä¸ªç”¨æˆ·ç®¡ç†çš„ APIï¼Œæ„Ÿå—ä¸‹ Koa çš„è½»ç›ˆï¼š\n\n```javascript\nconst Koa = require(\"koa\");\nconst Router = require(\"@koa/router\");\nconst app = new Koa();\nconst router = new Router();\n\nconst users = [\n    { id: 1, name: \"Alice\" },\n    { id: 2, name: \"Bob\" },\n];\n\n// ä¸­é—´ä»¶ï¼šè§£æž JSON body\nconst bodyParser = require(\"koa-bodyparser\");\napp.use(bodyParser());\n\n// è·¯ç”±\nrouter.get(\"/users\", async (ctx) => {\n    ctx.body = users;\n});\n\nrouter.post(\"/users\", async (ctx) => {\n    const user = { id: users.length + 1, name: ctx.request.body.name };\n    users.push(user);\n    ctx.status = 201;\n    ctx.body = user;\n});\n\nrouter.get(\"/users/:id\", async (ctx) => {\n    const user = users.find((u) => u.id === Number(ctx.params.id));\n    if (!user) {\n        ctx.throw(404, \"User not found\");\n    }\n    ctx.body = user;\n});\n\napp.use(router.routes()).use(router.allowedMethods());\napp.listen(3000, () => console.log(\"API running on port 3000\"));\n```\n\nç”¨ `curl` æµ‹è¯•ï¼š\n\n```bash\ncurl -X POST -H \"Content-Type: application/json\" -d '{\"name\": \"Charlie\"}' http://localhost:3000/users\ncurl http://localhost:3000/users/1\n```\n\nè½»é‡åˆç›´è§‚ï¼ŒKoa çš„ç¾Žæ„Ÿå°±åœ¨äºŽæ­¤ã€‚\n\n## æœ€ä½³å®žè·µï¼šä¼˜é›…å¼€å‘ï¼Œå°‘ç¿»è½¦\n\nç”¨äº†å‡ å¹´ Koaï¼Œæˆ‘æ‘¸ç´¢å‡ºä¸€äº›â€œç”Ÿå­˜æ³•åˆ™â€ï¼š\n\n1. **é”™è¯¯å¤„ç†è¦ä¸»åŠ¨**  \n   Koa ä¸ä¼šè‡ªåŠ¨æ•èŽ·å¼‚å¸¸ï¼ŒåŠ ä¸ªå…¨å±€ä¸­é—´ä»¶ï¼š\n\n   ```javascript\n   app.use(async (ctx, next) => {\n       try {\n           await next();\n       } catch (err) {\n           ctx.status = err.status || 500;\n           ctx.body = { message: err.message };\n       }\n   });\n   ```\n\n2. **æ—¥å¿—åˆ«å·æ‡’**  \n   ç”¨ `koa-logger` è®°å½•è¯·æ±‚ï¼Œè°ƒè¯•çœå¿ƒï¼š\n\n   ```javascript\n   const logger = require(\"koa-logger\");\n   app.use(logger());\n   ```\n\n3. **çŽ¯å¢ƒå˜é‡æ˜¯æ ‡é…**  \n   ç”¨ `dotenv` ç®¡ç†é…ç½®ï¼š\n\n   ```javascript\n   require(\"dotenv\").config();\n   app.listen(process.env.PORT || 3000);\n   ```\n\n4. **åˆ«å¿˜äº† CORS**  \n   å‰ç«¯è·¨åŸŸå°‘ä¸äº†ï¼Œç”¨ `koa-cors`ï¼š\n\n   ```javascript\n   const cors = require(\"@koa/cors\");\n   app.use(cors());\n   ```\n\n5. **æ€§èƒ½æ•æ„Ÿå°±åŠ ç¼“å­˜**  \n   ç”¨ `koa-conditional-get` å’Œ `koa-etag`ï¼Œå‡å°‘é‡å¤å“åº”ã€‚\n\n## ç±»æ¯”ï¼šKoa åƒä¸ªâ€œç§äººåŽ¨å¸ˆâ€\n\næˆ‘è§‰å¾— Koa å°±åƒä¸ªç§äººåŽ¨å¸ˆã€‚Express æ˜¯â€œå…¨å¥—è‡ªåŠ©é¤â€ï¼Œå•¥éƒ½æœ‰ä½†æœ‰ç‚¹æ‚ï¼›Koa æ˜¯â€œå®šåˆ¶å¥—é¤â€ï¼Œåªç»™ä½ åˆ€å‰ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰ï¼Œèœè°±ï¼ˆè·¯ç”±ã€ä¸­é—´ä»¶ï¼‰ä½ è‡ªå·±æŒ‘ï¼Œåšçš„è¿‡ç¨‹è¿˜ç‰¹ä¼˜é›…ã€‚æƒ³åƒå•¥å‘³å„¿ï¼Œå…¨çœ‹ä½ æ€Žä¹ˆâ€œè°ƒâ€ã€‚\n\n## ç»“å°¾ï¼šKoa çš„æœªæ¥åœ¨å“ªï¼Ÿ\n\nKoa è™½ç„¶ä¸åƒ Express é‚£ä¹ˆâ€œå…¨æ°‘çš†çŸ¥â€ï¼Œä½†å®ƒçš„è½»é‡å’ŒçŽ°ä»£åŒ–è®¾è®¡è®©å®ƒåœ¨å°å›¢é˜Ÿå’Œè¿½æ±‚æžè‡´æ€§èƒ½çš„é¡¹ç›®é‡Œç‰¹åˆ«åƒé¦™ã€‚Koa 2.x å·²ç»å…¨é¢æ‹¥æŠ± async/awaitï¼Œæœªæ¥å¯èƒ½ä¼šæ›´ä¸“æ³¨ TypeScript æ”¯æŒå’Œå¾®æœåŠ¡åœºæ™¯ã€‚\n\nç”¨ Koa å†™ä»£ç ï¼Œæœ‰ç§â€œåº–ä¸è§£ç‰›â€çš„å¿«æ„Ÿâ€”â€”ç®€å•ã€ç²¾å‡†ã€èˆ’æœã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ å¯¹ Koa æœ‰ç‚¹â€œå¿ƒåŠ¨â€ï¼Œä¸‹æ¬¡å†™é¡¹ç›®æ—¶ä¸å¦¨è¯•è¯•å®ƒï¼Œä¿å‡†æœ‰æƒŠå–œï¼ðŸ˜‰\n\næœ‰å•¥æƒ³èŠçš„ï¼Œæ¬¢è¿Žç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æŠ˜è…¾ï¼ðŸš€\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(s=E(e,a))||s.enumerable});return n};var x=(n,e,r)=>(r=n!=null?p(F(n)):{},d(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),b=n=>d(c({},\"__esModule\",{value:!0}),n);var t=u((K,o)=>{o.exports=_jsx_runtime});var f={};B(f,{default:()=>h,frontmatter:()=>k});var l=x(t()),k={type:\"Post\",title:\"\\u804A\\u804A Koa\\uFF1A\\u8F7B\\u91CF\\u4F18\\u96C5\\u7684 Node.js Web \\u6846\\u67B6\\u63A2\\u79D8\",date:\"2024-01-22\",description:\"\\u4E00\\u7BC7\\u6DF1\\u5165\\u5256\\u6790 Koa \\u7684\\u535A\\u5BA2\\uFF0C\\u5E26\\u4F60\\u8D70\\u8FDB\\u5B83\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u3001\\u4E2D\\u95F4\\u4EF6\\u673A\\u5236\\u3001\\u4E0A\\u4E0B\\u6587\\u8BBE\\u8BA1\\u4EE5\\u53CA\\u5B9E\\u6218\\u6280\\u5DE7\\uFF0C\\u89E3\\u9501\\u4E0B\\u4E00\\u4EE3 Web \\u5F00\\u53D1\\u7684\\u79D8\\u5BC6\\u3002\",keywords:\"Koa, Node.js, Web \\u5F00\\u53D1, \\u4E2D\\u95F4\\u4EF6, \\u4E0A\\u4E0B\\u6587, Async/Await, \\u8F7B\\u91CF\\u6846\\u67B6, RESTful API\",author:\"\\u6653\\u9F99\",image:\"/images/hero/koa.jpg\",tags:[\"Koa\",\"Node.js\",\"\\u540E\\u7AEF\\u5F00\\u53D1\"],category:\"Node.js\"};function i(n){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"\\u563F\\uFF0C\\u670B\\u53CB\\uFF01\\u4ECA\\u5929\\u54B1\\u4EEC\\u6765\\u804A\\u804A Koa\\u2014\\u2014\\u8FD9\\u4E2A Node.js \\u751F\\u6001\\u91CC\\u7684\\u201C\\u5C0F\\u6E05\\u65B0\\u201D\\u3002\\u76F8\\u6BD4 Express \\u7684\\u201C\\u8001\\u5927\\u54E5\\u201D\\u6C14\\u8D28\\uFF0CKoa \\u66F4\\u50CF\\u662F\\u4E2A\\u201C\\u6587\\u827A\\u9752\\u5E74\\u201D\\uFF0C\\u8F7B\\u91CF\\u3001\\u4F18\\u96C5\\uFF0C\\u8FD8\\u5E26\\u7740\\u70B9\\u672A\\u6765\\u611F\\u3002\\u5B83\\u662F Express \\u539F\\u73ED\\u4EBA\\u9A6C\\uFF08TJ Holowaychuk \\u548C\\u4ED6\\u7684\\u5C0F\\u4F19\\u4F34\\u4EEC\\uFF09\\u5728 2014 \\u5E74\\u641E\\u51FA\\u6765\\u7684\\u201C\\u4E0B\\u4E00\\u4EE3\\u201D\\u6846\\u67B6\\uFF0C\\u4E3B\\u6253\\u7B80\\u6D01\\u548C\\u73B0\\u4EE3\\u5316\\u3002\\u60F3\\u77E5\\u9053\\u5B83\\u4E3A\\u5565\\u80FD\\u5728\\u4F17\\u591A\\u6846\\u67B6\\u91CC\\u8131\\u9896\\u800C\\u51FA\\uFF1F\\u4ECA\\u5929\\u6211\\u5C31\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u6218\\uFF0C\\u6316\\u4E00\\u6316\\u5B83\\u7684\\u201C\\u5185\\u529F\\u5FC3\\u6CD5\\u201D\\uFF0C\\u987A\\u4FBF\\u804A\\u70B9\\u6211\\u7684\\u4F7F\\u7528\\u5FC3\\u5F97\\u548C\\u201C\\u8E29\\u5751\\u65E5\\u8BB0\\u201D \\u{1F604}\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"koa-\\u662F\\u5565\\u4ECE-express-\\u7684\\u8FDB\\u5316\\u8BF4\\u8D77\",children:(0,l.jsx)(e.a,{href:\"#koa-\\u662F\\u5565\\u4ECE-express-\\u7684\\u8FDB\\u5316\\u8BF4\\u8D77\",children:\"Koa \\u662F\\u5565\\uFF1F\\u4ECE Express \\u7684\\u201C\\u8FDB\\u5316\\u201D\\u8BF4\\u8D77\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Koa \\u7684\\u5168\\u79F0\\u662F\\u201CKoa.js\\u201D\\uFF0C\\u4F46\\u522B\\u88AB\\u540D\\u5B57\\u9A97\\u4E86\\uFF0C\\u5B83\\u5176\\u5B9E\\u6CA1\\u5565\\u590D\\u6742\\u7684\\u201Cjs\\u201D\\u82B1\\u6837\\uFF0C\\u5C31\\u662F\\u4E00\\u4E2A\\u8F7B\\u91CF\\u7EA7 Web \\u6846\\u67B6\\u3002\\u5B83\\u7684\\u53E3\\u53F7\\u662F\\u201C\\u4E0B\\u4E00\\u4EE3 Node.js Web \\u6846\\u67B6\\u201D\\uFF0C\\u542C\\u8D77\\u6765\\u6709\\u70B9\\u72C2\\uFF0C\\u4F46\\u786E\\u5B9E\\u6709\\u4E24\\u628A\\u5237\\u5B50\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5982\\u679C\\u4F60\\u7528\\u8FC7 Express\\uFF0C\\u80AF\\u5B9A\\u4F1A\\u89C9\\u5F97 Koa \\u6709\\u70B9\\u201C\\u4F3C\\u66FE\\u76F8\\u8BC6\\u201D\\u3002\\u6CA1\\u9519\\uFF0CKoa \\u7684\\u8BBE\\u8BA1\\u7075\\u611F\\u786E\\u5B9E\\u6765\\u81EA Express\\uFF0C\\u4F46\\u5B83\\u628A Express \\u7684\\u201C\\u81C3\\u80BF\\u5916\\u5957\\u201D\\u8131\\u6389\\uFF0C\\u6362\\u4E0A\\u4E86\\u201C\\u7D27\\u8EAB\\u8FD0\\u52A8\\u670D\\u201D\\u3002Express \\u5185\\u7F6E\\u4E86\\u4E00\\u5806\\u4E1C\\u897F\\uFF08\\u8DEF\\u7531\\u3001\\u4E2D\\u95F4\\u4EF6\\u5565\\u7684\\uFF09\\uFF0C\\u800C Koa \\u51E0\\u4E4E\\u5565\\u90FD\\u4E0D\\u5E26\\uFF0C\\u53EA\\u7ED9\\u4F60\\u4E00\\u4E2A\\u201C\\u9AA8\\u67B6\\u201D\\uFF0C\\u5176\\u4ED6\\u5168\\u9760\\u81EA\\u5DF1\\u642D\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6700\\u7B80\\u5355\\u7684 Koa \\u670D\\u52A1\\u5668\\u957F\\u8FD9\\u6837\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Koa\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"koa\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Koa\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"Hello Koa\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Server running on port 3000\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u662F\\u4E0D\\u662F\\u7B80\\u6D01\\u5F97\\u8BA9\\u4EBA\\u60F3\\u9F13\\u638C\\uFF1F\\u6BD4\\u8D77 Express \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"req\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"res\"})})})}),\"\\uFF0CKoa \\u76F4\\u63A5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx\"})})})}),\"\\uFF08\\u4E0A\\u4E0B\\u6587\\uFF09\\u628A\\u8BF7\\u6C42\\u548C\\u54CD\\u5E94\\u6253\\u5305\\u5728\\u4E00\\u8D77\\uFF0C\\u5E72\\u51C0\\u5229\\u843D\\u3002\\u8FD9\\u5C31\\u662F Koa \\u7684\\u54F2\\u5B66\\uFF1A\\u5C11\\u5373\\u662F\\u591A\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4E2D\\u95F4\\u4EF6koa-\\u7684\\u6D0B\\u8471\\u5708\\u9B54\\u6CD5\",children:(0,l.jsx)(e.a,{href:\"#\\u4E2D\\u95F4\\u4EF6koa-\\u7684\\u6D0B\\u8471\\u5708\\u9B54\\u6CD5\",children:\"\\u4E2D\\u95F4\\u4EF6\\uFF1AKoa \\u7684\\u201C\\u6D0B\\u8471\\u5708\\u201D\\u9B54\\u6CD5\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Koa \\u7684\\u6838\\u5FC3\\u4EAE\\u70B9\\u662F\\u5B83\\u7684\",(0,l.jsx)(e.strong,{children:\"\\u4E2D\\u95F4\\u4EF6\\u673A\\u5236\"}),\"\\uFF0C\\u53F7\\u79F0\\u201C\\u6D0B\\u8471\\u6A21\\u578B\\u201D\\u3002\\u5565\\u610F\\u601D\\uFF1F\\u60F3\\u8C61\\u4E00\\u4E0B\\u5265\\u6D0B\\u8471\\uFF1A\\u8BF7\\u6C42\\u8FDB\\u6765\\uFF0C\\u4ECE\\u5916\\u5C42\\u4E2D\\u95F4\\u4EF6\\u8DD1\\u5230\\u5185\\u5C42\\uFF0C\\u7136\\u540E\\u54CD\\u5E94\\u51FA\\u53BB\\uFF0C\\u53C8\\u4ECE\\u5185\\u5C42\\u8DD1\\u56DE\\u5916\\u5C42\\uFF0C\\u50CF\\u5265\\u6D0B\\u8471\\u4E00\\u6837\\u4E00\\u5708\\u5708\\u8D70\\u5B8C\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Express \\u7684\\u4E2D\\u95F4\\u4EF6\\u662F\\u201C\\u76F4\\u7EBF\\u578B\\u201D\\uFF0C\\u9760 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"next()\"})})})}),\" \\u5355\\u5411\\u63A8\\u8FDB\\uFF0C\\u800C Koa \\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u8BA9\\u4E2D\\u95F4\\u4EF6\\u53EF\\u4EE5\\u201C\\u53CC\\u5411\\u6D41\\u52A8\\u201D\\u3002\\u770B\\u4E2A\\u4F8B\\u5B50\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Koa\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"koa\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Koa\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8FDB\\u5165\\u4E2D\\u95F4\\u4EF6 1\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u79BB\\u5F00\\u4E2D\\u95F4\\u4EF6 1\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u8FDB\\u5165\\u4E2D\\u95F4\\u4EF6 2\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u79BB\\u5F00\\u4E2D\\u95F4\\u4EF6 2\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u5230\\u8FBE\\u6838\\u5FC3\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"Hello from Koa\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8DD1\\u8D77\\u6765\\uFF0C\\u8F93\\u51FA\\u662F\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u8FDB\\u5165\\u4E2D\\u95F4\\u4EF6 1\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u8FDB\\u5165\\u4E2D\\u95F4\\u4EF6 2\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u5230\\u8FBE\\u6838\\u5FC3\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u79BB\\u5F00\\u4E2D\\u95F4\\u4EF6 2\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u79BB\\u5F00\\u4E2D\\u95F4\\u4EF6 1\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8FD9\\u987A\\u5E8F\\u591A\\u4F18\\u96C5\\uFF01\\u56E0\\u4E3A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await next()\"})})})}),\" \\u4F1A\\u7B49\\u4E0B\\u6E38\\u4E2D\\u95F4\\u4EF6\\u6267\\u884C\\u5B8C\\u518D\\u56DE\\u6765\\uFF0C\\u903B\\u8F91\\u6E05\\u6670\\u5F97\\u50CF\\u5728\\u8BB2\\u6545\\u4E8B\\u3002\\u76F8\\u6BD4 Express \\u7684\\u56DE\\u8C03\\u5D4C\\u5957\\uFF0CKoa \\u7684\\u5F02\\u6B65\\u5904\\u7406\\u7B80\\u76F4\\u662F\\u201C\\u6551\\u547D\\u826F\\u836F\\u201D\\uFF0C\\u5C24\\u5176\\u9002\\u5408\\u73B0\\u4EE3 JS \\u7684 async/await \\u98CE\\u683C\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4E0A\\u4E0B\\u6587contextkoa-\\u7684\\u745E\\u58EB\\u519B\\u5200\",children:(0,l.jsx)(e.a,{href:\"#\\u4E0A\\u4E0B\\u6587contextkoa-\\u7684\\u745E\\u58EB\\u519B\\u5200\",children:\"\\u4E0A\\u4E0B\\u6587\\uFF08Context\\uFF09\\uFF1AKoa \\u7684\\u201C\\u745E\\u58EB\\u519B\\u5200\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Koa \\u7684\\u53E6\\u4E00\\u4E2A\\u5927\\u62DB\\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx\"})})})}),\"\\uFF08\\u4E0A\\u4E0B\\u6587\\u5BF9\\u8C61\\uFF09\\u3002\\u5B83\\u628A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"req\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"res\"})})})}),\" \\u6253\\u5305\\u6210\\u4E00\\u4E2A\\u5BF9\\u8C61\\uFF0C\\u8FD8\\u987A\\u624B\\u585E\\u4E86\\u70B9\\u597D\\u7528\\u7684\\u5C5E\\u6027\\u548C\\u65B9\\u6CD5\\u3002\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx.request\"})})})}),\"\\uFF1A\\u8BF7\\u6C42\\u76F8\\u5173\\u4FE1\\u606F\\uFF08URL\\u3001\\u65B9\\u6CD5\\u3001\\u5934\\u7B49\\uFF09\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx.response\"})})})}),\"\\uFF1A\\u54CD\\u5E94\\u76F8\\u5173\\u64CD\\u4F5C\\uFF08\\u72B6\\u6001\\u7801\\u3001body \\u7B49\\uFF09\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx.body\"})})})}),\"\\uFF1A\\u76F4\\u63A5\\u8BBE\\u7F6E\\u54CD\\u5E94\\u5185\\u5BB9\\uFF0C\\u7701\\u5F97\\u5199 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"res.end\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx.state\"})})})}),\"\\uFF1A\\u4E2D\\u95F4\\u4EF6\\u4E4B\\u95F4\\u4F20\\u6570\\u636E\\u7684\\u201C\\u5171\\u4EAB\\u7A7A\\u95F4\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.state.user \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\\u6653\\u9F99\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B58\\u70B9\\u6570\\u636E\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `Hello, ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}!`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8BBF\\u95EE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"localhost:3000\"})})})}),\"\\uFF0C\\u8F93\\u51FA \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Hello, \\u6653\\u9F99!\"})})})}),\"\\u3002\\u8FD9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ctx.state\"})})})}),\" \\u5C31\\u50CF\\u4E2A\\u201C\\u4FBF\\u7B7E\\u672C\\u201D\\uFF0C\\u4E2D\\u95F4\\u4EF6\\u4E4B\\u95F4\\u968F\\u4FBF\\u4F20\\u4E1C\\u897F\\uFF0C\\u65B9\\u4FBF\\u5F97\\u4E0D\\u884C\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u8DEF\\u7531\\u81EA\\u5DF1\\u52A8\\u624B\\u4E30\\u8863\\u8DB3\\u98DF\",children:(0,l.jsx)(e.a,{href:\"#\\u8DEF\\u7531\\u81EA\\u5DF1\\u52A8\\u624B\\u4E30\\u8863\\u8DB3\\u98DF\",children:\"\\u8DEF\\u7531\\uFF1A\\u81EA\\u5DF1\\u52A8\\u624B\\uFF0C\\u4E30\\u8863\\u8DB3\\u98DF\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8DDF Express \\u4E0D\\u540C\\uFF0CKoa \\u6CA1\\u5185\\u7F6E\\u8DEF\\u7531\\u3002\\u4F60\\u5F97\\u81EA\\u5DF1\\u88C5\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"@koa/router\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Koa\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"koa\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Router\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"@koa/router\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Koa\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" router\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Router\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"List of users\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"Create a user\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"routes\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"allowedMethods\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"allowedMethods()\"})})})}),\" \\u662F\\u5E72\\u5565\\u7684\\uFF1F\\u5B83\\u4F1A\\u81EA\\u52A8\\u5904\\u7406 HTTP \\u65B9\\u6CD5\\u4E0D\\u652F\\u6301\\u7684\\u60C5\\u51B5\\uFF0C\\u6BD4\\u5982\\u7528 GET \\u8BBF\\u95EE POST \\u8DEF\\u7531\\uFF0C\\u76F4\\u63A5\\u8FD4\\u56DE 405\\u3002\\u7EC6\\u8282\\u6EE1\\u6EE1\\uFF0C\\u8D34\\u5FC3\\u5F97\\u5F88\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6DF1\\u5165\\u539F\\u7406koa-\\u548B\\u73A9\\u8D77\\u6765\\u7684\",children:(0,l.jsx)(e.a,{href:\"#\\u6DF1\\u5165\\u539F\\u7406koa-\\u548B\\u73A9\\u8D77\\u6765\\u7684\",children:\"\\u6DF1\\u5165\\u539F\\u7406\\uFF1AKoa \\u548B\\u201C\\u73A9\\u201D\\u8D77\\u6765\\u7684\\uFF1F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Koa \\u7684\\u6E90\\u7801\\u6BD4 Express \\u7B80\\u5355\\u5F97\\u591A\\uFF0C\\u603B\\u5171\\u5C31\\u51E0\\u767E\\u884C\\u3002\\u6838\\u5FC3\\u903B\\u8F91\\u662F\\u5565\\uFF1F\\u4E00\\u4E2A\\u4E2D\\u95F4\\u4EF6\\u8C03\\u5EA6\\u5668\\u3002\\u5B83\\u628A\\u6240\\u6709 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"app.use\"})})})}),\" \\u52A0\\u7684\\u4E2D\\u95F4\\u4EF6\\u585E\\u8FDB\\u4E00\\u4E2A\\u6570\\u7EC4\\uFF0C\\u7136\\u540E\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"compose\"})})})}),\" \\u51FD\\u6570\\u4E32\\u8D77\\u6765\\u6267\\u884C\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8FD9\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"compose\"})})})}),\" \\u662F Koa \\u7684\\u201C\\u5185\\u529F\\u5FC3\\u6CD5\\u201D\\uFF0C\\u957F\\u8FD9\\u6837\\uFF08\\u7B80\\u5316\\u7248\\uFF09\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" compose\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"middlewares\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (index \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" middlewares.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" fn\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" middlewares[index];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fn\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(ctx, () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(index \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dispatch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6BCF\\u6B21\\u8BF7\\u6C42\\u8FDB\\u6765\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"compose\"})})})}),\" \\u5C31\\u4ECE\\u7B2C\\u4E00\\u4E2A\\u4E2D\\u95F4\\u4EF6\\u5F00\\u59CB\\u8DD1\\uFF0C\\u9760 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"next\"})})})}),\" \\u51FD\\u6570\\uFF08\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\uFF09\\u9012\\u5F52\\u8C03\\u7528\\u4E0B\\u4E00\\u4E2A\\u3002\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\" \\u4FDD\\u8BC1\\u4E86\\u6267\\u884C\\u987A\\u5E8F\\u7684\\u201C\\u6D0B\\u8471\\u611F\\u201D\\u3002\\u60F3\\u6DF1\\u5165\\uFF1F\\u53BB GitHub \\u7FFB\\u7FFB\\u6E90\\u7801\\uFF0C\\u4FDD\\u51C6\\u4F60\\u611F\\u53F9\\u201C\\u8FD9\\u4E5F\\u592A\\u7CBE\\u5DE7\\u4E86\\u5427\\u201D\\u3002\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5B9E\\u6218\\u4F8B\\u5B50\\u641E\\u4E2A\\u8FF7\\u4F60-api\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u6218\\u4F8B\\u5B50\\u641E\\u4E2A\\u8FF7\\u4F60-api\",children:\"\\u5B9E\\u6218\\u4F8B\\u5B50\\uFF1A\\u641E\\u4E2A\\u8FF7\\u4F60 API\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u54B1\\u4EEC\\u6765\\u642D\\u4E2A\\u7528\\u6237\\u7BA1\\u7406\\u7684 API\\uFF0C\\u611F\\u53D7\\u4E0B Koa \\u7684\\u8F7B\\u76C8\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Koa\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"koa\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Router\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"@koa/router\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Koa\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" router\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Router\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" users\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Alice\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Bob\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4E2D\\u95F4\\u4EF6\\uFF1A\\u89E3\\u6790 JSON body\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" bodyParser\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"koa-bodyparser\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"bodyParser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8DEF\\u7531\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" users;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { id: users.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: ctx.request.body.name };\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    users.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 201\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" user;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users/:id\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" users.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"u\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" u.id \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Number\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(ctx.params.id));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"user) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        ctx.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"throw\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"404\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"User not found\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" user;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"routes\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"allowedMethods\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"API running on port 3000\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"curl\"})})})}),\" \\u6D4B\\u8BD5\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"curl\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -X\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" POST\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -H\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"Content-Type: application/json\"'}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -d\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:` '{\"name\": \"Charlie\"}'`}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" http://localhost:3000/users\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"curl\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" http://localhost:3000/users/1\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8F7B\\u91CF\\u53C8\\u76F4\\u89C2\\uFF0CKoa \\u7684\\u7F8E\\u611F\\u5C31\\u5728\\u4E8E\\u6B64\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4F18\\u96C5\\u5F00\\u53D1\\u5C11\\u7FFB\\u8F66\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u4F18\\u96C5\\u5F00\\u53D1\\u5C11\\u7FFB\\u8F66\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u4F18\\u96C5\\u5F00\\u53D1\\uFF0C\\u5C11\\u7FFB\\u8F66\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7528\\u4E86\\u51E0\\u5E74 Koa\\uFF0C\\u6211\\u6478\\u7D22\\u51FA\\u4E00\\u4E9B\\u201C\\u751F\\u5B58\\u6CD5\\u5219\\u201D\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u8981\\u4E3B\\u52A8\"}),(0,l.jsx)(e.br,{}),`\n`,\"Koa \\u4E0D\\u4F1A\\u81EA\\u52A8\\u6355\\u83B7\\u5F02\\u5E38\\uFF0C\\u52A0\\u4E2A\\u5168\\u5C40\\u4E2D\\u95F4\\u4EF6\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ctx\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        ctx.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" err.status \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 500\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        ctx.body \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { message: err.message };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u65E5\\u5FD7\\u522B\\u5077\\u61D2\"}),(0,l.jsx)(e.br,{}),`\n`,\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"koa-logger\"})})})}),\" \\u8BB0\\u5F55\\u8BF7\\u6C42\\uFF0C\\u8C03\\u8BD5\\u7701\\u5FC3\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" logger\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"koa-logger\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"logger\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u73AF\\u5883\\u53D8\\u91CF\\u662F\\u6807\\u914D\"}),(0,l.jsx)(e.br,{}),`\n`,\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"dotenv\"})})})}),\" \\u7BA1\\u7406\\u914D\\u7F6E\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"dotenv\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"config\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ||\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u522B\\u5FD8\\u4E86 CORS\"}),(0,l.jsx)(e.br,{}),`\n`,\"\\u524D\\u7AEF\\u8DE8\\u57DF\\u5C11\\u4E0D\\u4E86\\uFF0C\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"koa-cors\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cors\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"@koa/cors\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"cors\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u654F\\u611F\\u5C31\\u52A0\\u7F13\\u5B58\"}),(0,l.jsx)(e.br,{}),`\n`,\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"koa-conditional-get\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"koa-etag\"})})})}),\"\\uFF0C\\u51CF\\u5C11\\u91CD\\u590D\\u54CD\\u5E94\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u7C7B\\u6BD4koa-\\u50CF\\u4E2A\\u79C1\\u4EBA\\u53A8\\u5E08\",children:(0,l.jsx)(e.a,{href:\"#\\u7C7B\\u6BD4koa-\\u50CF\\u4E2A\\u79C1\\u4EBA\\u53A8\\u5E08\",children:\"\\u7C7B\\u6BD4\\uFF1AKoa \\u50CF\\u4E2A\\u201C\\u79C1\\u4EBA\\u53A8\\u5E08\\u201D\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6211\\u89C9\\u5F97 Koa \\u5C31\\u50CF\\u4E2A\\u79C1\\u4EBA\\u53A8\\u5E08\\u3002Express \\u662F\\u201C\\u5168\\u5957\\u81EA\\u52A9\\u9910\\u201D\\uFF0C\\u5565\\u90FD\\u6709\\u4F46\\u6709\\u70B9\\u6742\\uFF1BKoa \\u662F\\u201C\\u5B9A\\u5236\\u5957\\u9910\\u201D\\uFF0C\\u53EA\\u7ED9\\u4F60\\u5200\\u53C9\\uFF08\\u6838\\u5FC3\\u529F\\u80FD\\uFF09\\uFF0C\\u83DC\\u8C31\\uFF08\\u8DEF\\u7531\\u3001\\u4E2D\\u95F4\\u4EF6\\uFF09\\u4F60\\u81EA\\u5DF1\\u6311\\uFF0C\\u505A\\u7684\\u8FC7\\u7A0B\\u8FD8\\u7279\\u4F18\\u96C5\\u3002\\u60F3\\u5403\\u5565\\u5473\\u513F\\uFF0C\\u5168\\u770B\\u4F60\\u600E\\u4E48\\u201C\\u8C03\\u201D\\u3002\"}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u7ED3\\u5C3Ekoa-\\u7684\\u672A\\u6765\\u5728\\u54EA\",children:(0,l.jsx)(e.a,{href:\"#\\u7ED3\\u5C3Ekoa-\\u7684\\u672A\\u6765\\u5728\\u54EA\",children:\"\\u7ED3\\u5C3E\\uFF1AKoa \\u7684\\u672A\\u6765\\u5728\\u54EA\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Koa \\u867D\\u7136\\u4E0D\\u50CF Express \\u90A3\\u4E48\\u201C\\u5168\\u6C11\\u7686\\u77E5\\u201D\\uFF0C\\u4F46\\u5B83\\u7684\\u8F7B\\u91CF\\u548C\\u73B0\\u4EE3\\u5316\\u8BBE\\u8BA1\\u8BA9\\u5B83\\u5728\\u5C0F\\u56E2\\u961F\\u548C\\u8FFD\\u6C42\\u6781\\u81F4\\u6027\\u80FD\\u7684\\u9879\\u76EE\\u91CC\\u7279\\u522B\\u5403\\u9999\\u3002Koa 2.x \\u5DF2\\u7ECF\\u5168\\u9762\\u62E5\\u62B1 async/await\\uFF0C\\u672A\\u6765\\u53EF\\u80FD\\u4F1A\\u66F4\\u4E13\\u6CE8 TypeScript \\u652F\\u6301\\u548C\\u5FAE\\u670D\\u52A1\\u573A\\u666F\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7528 Koa \\u5199\\u4EE3\\u7801\\uFF0C\\u6709\\u79CD\\u201C\\u5E96\\u4E01\\u89E3\\u725B\\u201D\\u7684\\u5FEB\\u611F\\u2014\\u2014\\u7B80\\u5355\\u3001\\u7CBE\\u51C6\\u3001\\u8212\\u670D\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u8BA9\\u4F60\\u5BF9 Koa \\u6709\\u70B9\\u201C\\u5FC3\\u52A8\\u201D\\uFF0C\\u4E0B\\u6B21\\u5199\\u9879\\u76EE\\u65F6\\u4E0D\\u59A8\\u8BD5\\u8BD5\\u5B83\\uFF0C\\u4FDD\\u51C6\\u6709\\u60CA\\u559C\\uFF01\\u{1F609}\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6709\\u5565\\u60F3\\u804A\\u7684\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u6298\\u817E\\uFF01\\u{1F680}\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(i,{...n})}):i(n)}return b(f);})();\n;return Component;"
  },
  "_id": "Node.js/Koa.mdx",
  "_raw": {
    "sourceFilePath": "Node.js/Koa.mdx",
    "sourceFileName": "Koa.mdx",
    "sourceFileDir": "Node.js",
    "contentType": "mdx",
    "flattenedPath": "Node.js/Koa"
  },
  "type": "Post",
  "url": "/blog/Node.js/Koa"
}
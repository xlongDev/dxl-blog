{
  "title": "å¦‚ä½•ç¼–å†™ Vite æ’ä»¶ï¼Ÿä»é›¶åˆ°ç²¾é€šçš„ç¡¬æ ¸æŒ‡å—",
  "date": "2023-04-27T00:00:00.000Z",
  "description": "æ·±å…¥æ¢ç´¢ Vite æ’ä»¶çš„ç¼–å†™æ–¹æ³•ï¼Œå‰–æåŸç†ï¼Œç»“åˆå®ä¾‹ï¼Œå¸¦ä½ ä»å…¥é—¨åˆ°è¿›é˜¶ï¼Œæ‰“é€ å±äºè‡ªå·±çš„ Vite ç”Ÿæ€å·¥å…·ã€‚",
  "keywords": "Vite, Vite æ’ä»¶, å‰ç«¯æ„å»ºå·¥å…·, Rollup, æ’ä»¶å¼€å‘, JavaScript, ESM, HMR",
  "author": "æ™“é¾™",
  "image": "/images/hero/vite-plugin-guide.jpg",
  "tags": [
    "Vite",
    "å‰ç«¯å¼€å‘",
    "æ„å»ºå·¥å…·"
  ],
  "views": 0,
  "likes": 0,
  "category": "Build-Tools",
  "body": {
    "raw": "\nVite è‡ªä»æ¨ªç©ºå‡ºä¸–ä»¥æ¥ï¼Œå‡­å€Ÿå…¶æè‡´çš„å¼€å‘ä½“éªŒå’ŒåŸºäº ESM çš„æ„å»ºé€Ÿåº¦ï¼Œå·²ç»æˆä¸ºå‰ç«¯å¼€å‘è€…çš„å¿ƒå¤´å¥½ã€‚ä½œä¸ºä¸€ä¸ªè½»é‡ä½†å¼ºå¤§çš„æ„å»ºå·¥å…·ï¼ŒVite çš„æ’ä»¶ç³»ç»Ÿæ˜¯å®ƒçµæ´»æ€§çš„æ ¸å¿ƒæ‰€åœ¨ã€‚æƒ³çŸ¥é“å¦‚ä½•ä¸º Vite ç¼–å†™ä¸€ä¸ªæ’ä»¶å—ï¼Ÿè¿™ç¯‡åšå®¢å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œæ·±å…¥åŸç†ï¼Œç»“åˆå®ä¾‹ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ æ‰“é€ ä¸€ä¸ªå±äºè‡ªå·±çš„ Vite æ’ä»¶ã€‚åˆ«æ‹…å¿ƒï¼Œæˆ‘ä¼šå°½é‡è®©è¿™è¶Ÿæ—…ç¨‹æœ‰è¶£ä¸€ç‚¹ï¼Œæ¯•ç«Ÿï¼Œè°è¯´æŠ€æœ¯æ–‡ç« ä¸èƒ½å¸¦ç‚¹å¹½é»˜å‘¢ï¼ŸğŸ˜‰\n\n## ä¸ºä»€ä¹ˆè¦å†™ Vite æ’ä»¶ï¼Ÿ\n\nåœ¨å¼€å§‹åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆèŠèŠâ€œä¸ºä»€ä¹ˆâ€ã€‚Vite è™½ç„¶å¼€ç®±å³ç”¨ï¼Œä½†æ€»æœ‰é‚£ä¹ˆäº›åœºæ™¯ï¼Œå®ƒé»˜è®¤çš„åŠŸèƒ½æ»¡è¶³ä¸äº†ä½ çš„éœ€æ±‚ã€‚æ¯”å¦‚ï¼š\n- ä½ æƒ³åœ¨å¼€å‘æ—¶è‡ªåŠ¨æ³¨å…¥æŸäº›å…¨å±€å˜é‡ï¼Ÿ\n- éœ€è¦è‡ªå®šä¹‰å¤„ç†æŸäº›ç‰¹æ®Šæ–‡ä»¶ç±»å‹ï¼ˆæ¯”å¦‚ `.md` æˆ– `.svg`ï¼‰ï¼Ÿ\n- æˆ–è€…å¹²è„†æƒ³æä¸ªéªšæ“ä½œï¼ŒæŠŠæ„å»ºè¿‡ç¨‹ä¼˜åŒ–åˆ°é£èµ·ï¼Ÿ\n\nè¿™äº›éœ€æ±‚éƒ½å¯ä»¥é€šè¿‡æ’ä»¶æ¥å®ç°ã€‚Vite çš„æ’ä»¶ç³»ç»Ÿç»§æ‰¿äº† Rollup çš„æ’ä»¶æœºåˆ¶ï¼ŒåŒæ—¶åˆä¸ºè‡ªå·±çš„ HMRï¼ˆçƒ­æ›´æ–°ï¼‰å’Œå¼€å‘æœåŠ¡å™¨åšäº†æ‰©å±•ã€‚å¯ä»¥è¯´ï¼Œå­¦ä¼šå†™ Vite æ’ä»¶ï¼Œä½ å°±æŒæ¡äº†è‡ªå®šä¹‰ Vite çš„â€œé­”æ³•é’¥åŒ™â€ğŸ”‘ã€‚\n\n## Vite æ’ä»¶çš„åŸºç¡€åŸç†\n\nVite çš„æ’ä»¶ç³»ç»Ÿæœ¬è´¨ä¸Šæ˜¯ Rollup æ’ä»¶çš„è¶…é›†ã€‚ç®€å•æ¥è¯´ï¼ŒVite åœ¨åº•å±‚ç”¨ Rollup å¤„ç†æ„å»ºï¼ˆ`vite build`ï¼‰ï¼Œè€Œåœ¨å¼€å‘æ¨¡å¼ï¼ˆ`vite dev`ï¼‰ä¸‹ï¼Œå®ƒåˆ©ç”¨åŸç”Ÿ ESM å’Œè‡ªå·±çš„æœåŠ¡å™¨æœºåˆ¶æä¾›æé€Ÿä½“éªŒã€‚æ’ä»¶çš„ä½œç”¨ï¼Œå°±æ˜¯åœ¨è¿™äº›æµç¨‹ä¸­æ’å…¥è‡ªå®šä¹‰é€»è¾‘ã€‚\n\nä¸€ä¸ª Vite æ’ä»¶é€šå¸¸æ˜¯ä¸€ä¸ªè¿”å›å¯¹è±¡çš„å‡½æ•°ï¼Œè¿™ä¸ªå¯¹è±¡é‡ŒåŒ…å«å„ç§â€œé’©å­â€ï¼ˆhooksï¼‰ï¼Œæ¯”å¦‚ `transform`ã€`resolveId` ç­‰ã€‚è¿™äº›é’©å­ä¼šåœ¨ Vite çš„æ„å»ºæˆ–å¼€å‘è¿‡ç¨‹ä¸­è¢«è°ƒç”¨ã€‚ä½ å¯ä»¥æŠŠæ’ä»¶æƒ³è±¡æˆä¸€ä¸ªâ€œä¸­é—´äººâ€ï¼Œåœ¨æ–‡ä»¶åŠ è½½ã€è½¬æ¢ã€è¾“å‡ºç­‰ç¯èŠ‚æ’ä¸€è„šï¼Œå·å·åšç‚¹å°åŠ¨ä½œã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼šå¦‚æœ Vite æ˜¯ä¸€ä¸ªæµæ°´çº¿å·¥å‚ï¼Œæ’ä»¶å°±æ˜¯ä½ é›‡æ¥çš„â€œç‰¹å·¥â€ï¼Œå¯ä»¥åœ¨æµæ°´çº¿çš„æŸä¸ªèŠ‚ç‚¹ä¸ŠåŠ æ–™ã€æ”¹è£…ï¼Œç”šè‡³ç›´æ¥ä¸¢ä¸ªå½©è›‹è¿›å»ğŸ‰ã€‚\n\n## åŠ¨æ‰‹å†™ä¸€ä¸ªç®€å•çš„ Vite æ’ä»¶\n\nå¥½äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œå’±ä»¬ç›´æ¥ä¸Šä»£ç ï¼å…ˆä»ä¸€ä¸ªç®€å•çš„æ’ä»¶å¼€å§‹ï¼šè‡ªåŠ¨åœ¨æ¯ä¸ª JS æ–‡ä»¶çš„å¼€å¤´åŠ ä¸Šä¸€å¥ `console.log(\"Hello Vite!\")`ã€‚\n\n```javascript\n// vite-plugin-hello.js\nfunction helloVitePlugin() {\n  return {\n    name: 'vite-plugin-hello', // æ’ä»¶åç§°ï¼Œè°ƒè¯•æ—¶æ–¹ä¾¿è®¤å‡ºæ˜¯è°å¹²çš„\n    transform(code, id) {\n      if (id.endsWith('.js')) {\n        return {\n          code: `console.log(\"Hello Vite!\");\\n${code}`,\n          map: null // æš‚æ—¶ä¸ç”Ÿæˆ source map\n        };\n      }\n    }\n  };\n}\n\nmodule.exports = helloVitePlugin;\n```\n\nç„¶ååœ¨ `vite.config.js` ä¸­ä½¿ç”¨å®ƒï¼š\n\n```javascript\n// vite.config.js\nimport helloVitePlugin from './vite-plugin-hello';\n\nexport default {\n  plugins: [helloVitePlugin()]\n};\n```\n\nå¯åŠ¨ `vite dev`ï¼Œæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œä½ ä¼šå‘ç°æ¯ä¸ª JS æ–‡ä»¶è¿è¡Œæ—¶éƒ½ä¼šå…ˆæ‰“å°ä¸€å¥ `Hello Vite!`ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿè¿™å°±æ˜¯ `transform` é’©å­çš„å¨åŠ›ï¼Œå®ƒèƒ½è®©ä½ ä¿®æ”¹ä»£ç å†…å®¹ã€‚\n\n### åŸç†å°æ­ç§˜\n- `transform` æ˜¯ Rollup æä¾›çš„ä¸€ä¸ªæ ¸å¿ƒé’©å­ï¼ŒVite ä¹Ÿæ”¯æŒå®ƒã€‚\n- å‚æ•° `code` æ˜¯æ–‡ä»¶çš„å†…å®¹ï¼Œ`id` æ˜¯æ–‡ä»¶çš„è·¯å¾„ã€‚\n- è¿”å›çš„å¯¹è±¡é‡Œï¼Œ`code` æ˜¯ä¿®æ”¹åçš„ä»£ç ï¼Œ`map` æ˜¯ source mapï¼ˆè°ƒè¯•ç”¨ï¼‰ã€‚\n\n## è¿›é˜¶ï¼šåˆ©ç”¨ Vite ç‰¹æœ‰çš„é’©å­\n\nå…‰ä¼šç”¨ Rollup çš„é’©å­è¿˜ä¸å¤Ÿï¼ŒVite æä¾›äº†ä¸€äº›ä¸“å±é’©å­ï¼Œè®©æ’ä»¶æ›´æœ‰â€œVite å‘³å„¿â€ã€‚æ¯”å¦‚ï¼š\n\n### 1. `config` é’©å­ï¼šåŠ¨æ€ä¿®æ”¹é…ç½®\nå‡è®¾ä½ æƒ³æ ¹æ®ç¯å¢ƒå˜é‡åŠ¨æ€è°ƒæ•´ Vite çš„é…ç½®ï¼Œå¯ä»¥ç”¨ `config` é’©å­ï¼š\n\n```javascript\nfunction dynamicConfigPlugin() {\n  return {\n    name: 'vite-plugin-dynamic-config',\n    config(config, { command }) {\n      if (command === 'build') {\n        config.base = '/prod/';\n      } else {\n        config.base = '/dev/';\n      }\n      return config;\n    }\n  };\n}\n```\n\nè¿™ä¸ªæ’ä»¶ä¼šæ ¹æ® `vite build` è¿˜æ˜¯ `vite dev` åŠ¨æ€è®¾ç½® `base` è·¯å¾„ã€‚æ˜¯ä¸æ˜¯å¾ˆå®ç”¨ï¼Ÿ\n\n### 2. `configureServer` é’©å­ï¼šç©è½¬å¼€å‘æœåŠ¡å™¨\nVite çš„å¼€å‘æœåŠ¡å™¨æ˜¯å®ƒçš„çµé­‚ï¼Œè€Œ `configureServer` è®©ä½ å¯ä»¥è‡ªå®šä¹‰æœåŠ¡å™¨è¡Œä¸ºã€‚æ¯”å¦‚ï¼ŒåŠ ä¸ªä¸­é—´ä»¶æ¥æ‹¦æˆªè¯·æ±‚ï¼š\n\n```javascript\nfunction customServerPlugin() {\n  return {\n    name: 'vite-plugin-custom-server',\n    configureServer(server) {\n      server.middlewares.use((req, res, next) => {\n        if (req.url === '/ping') {\n          res.end('pong');\n        } else {\n          next();\n        }\n      });\n    }\n  };\n}\n```\n\nå¯åŠ¨å¼€å‘æœåŠ¡å™¨åï¼Œè®¿é—® `http://localhost:5173/ping`ï¼Œä½ ä¼šçœ‹åˆ°é¡µé¢è¿”å› `pong`ã€‚è¿™æ‹›åœ¨è°ƒè¯• API æˆ–æ¨¡æ‹Ÿåç«¯æ—¶ç‰¹åˆ«å¥½ä½¿ã€‚\n\n## å®æˆ˜æ¡ˆä¾‹ï¼šç¼–å†™ä¸€ä¸ª SVG åŠ è½½æ’ä»¶\n\nå…‰è¯´ç†è®ºæ²¡æ„æ€ï¼Œå’±ä»¬æ¥ç‚¹ç¡¬æ ¸çš„å®æˆ˜ï¼å‡è®¾æˆ‘ä»¬è¦å†™ä¸€ä¸ªæ’ä»¶ï¼ŒæŠŠ `.svg` æ–‡ä»¶å½“ä½œç»„ä»¶åŠ è½½ï¼ˆç±»ä¼¼ `vite-plugin-svgr` çš„åŠŸèƒ½ï¼‰ã€‚\n\n```javascript\n// vite-plugin-svg-component.js\nimport { readFileSync } from 'fs';\nimport { compile } from 'vue/compiler-sfc';\n\nfunction svgComponentPlugin() {\n  return {\n    name: 'vite-plugin-svg-component',\n    enforce: 'pre', // åœ¨å…¶ä»–æ’ä»¶ä¹‹å‰è¿è¡Œ\n    async transform(code, id) {\n      if (!id.endsWith('.svg')) return;\n\n      const svgContent = readFileSync(id, 'utf-8');\n      const componentCode = `\n        <template>\n          <div v-html=\"${svgContent}\"></div>\n        </template>\n        <script>\n          export default {\n            name: 'SvgComponent'\n          }\n        </script>\n      `;\n\n      const { descriptor } = compile(componentCode);\n      return {\n        code: `\n          export default {\n            ...${JSON.stringify(descriptor.script.content)},\n            render() { return ${descriptor.template.content} }\n          }\n        `,\n        map: null\n      };\n    }\n  };\n}\n\nmodule.exports = svgComponentPlugin;\n```\n\nä½¿ç”¨æ–¹å¼ï¼š\n\n```javascript\n// vite.config.js\nimport svgComponentPlugin from './vite-plugin-svg-component';\n\nexport default {\n  plugins: [svgComponentPlugin()]\n};\n```\n\nç°åœ¨ï¼Œä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­è¿™æ ·å¯¼å…¥ SVGï¼š\n\n```javascript\nimport MySvg from './assets/icon.svg';\n```\n\nç„¶ååœ¨æ¨¡æ¿é‡Œç”¨ï¼š\n\n```vue\n<template>\n  <MySvg />\n</template>\n```\n\n### èƒŒåçš„é­”æ³•\n- `enforce: 'pre'` ç¡®ä¿è¿™ä¸ªæ’ä»¶åœ¨å…¶ä»–æ’ä»¶ä¹‹å‰è¿è¡Œï¼Œé¿å…è¢«è¦†ç›–ã€‚\n- æˆ‘ä»¬ç”¨ Vue çš„ç¼–è¯‘å™¨æŠŠ SVG è½¬ä¸ºç»„ä»¶ï¼Œç®€å•ç²—æš´ä½†æœ‰æ•ˆã€‚\n- `v-html` æŠŠ SVG å­—ç¬¦ä¸²ç›´æ¥æ¸²æŸ“æˆ DOMã€‚\n\n## æœ€ä½³å®è·µï¼šè®©ä½ çš„æ’ä»¶æ›´ä¸“ä¸š\n\nå†™æ’ä»¶ä¸å…‰è¦èƒ½è·‘ï¼Œè¿˜å¾—ä¼˜é›…ã€‚ä»¥ä¸‹æ˜¯æˆ‘æ€»ç»“çš„å‡ ä¸ªå®ç”¨ Tipsï¼š\n\n1. **å‘½åè¦è§„èŒƒ**  \n   æ’ä»¶åç”¨ `vite-plugin-` å¼€å¤´ï¼Œæ¯”å¦‚ `vite-plugin-my-awesome-thing`ï¼Œè¿™æ ·ç¤¾åŒºä¸€çœ¼å°±èƒ½è®¤å‡ºè¿™æ˜¯ Vite æ’ä»¶ã€‚\n\n2. **æ”¯æŒé€‰é¡¹**  \n   è®©æ’ä»¶æ¥å—å‚æ•°ï¼Œå¢åŠ çµæ´»æ€§ã€‚æ¯”å¦‚ï¼š\n\n   ```javascript\n   function myPlugin(options = {}) {\n     return {\n       name: 'vite-plugin-my-awesome',\n       transform(code, id) {\n         if (options.log) {\n           console.log(`Transforming: ${id}`);\n         }\n         return code;\n       }\n     };\n   }\n   ```\n\n   ä½¿ç”¨æ—¶ï¼š`myPlugin({ log: true })`ã€‚\n\n3. **å¤„ç†å¼‚å¸¸**  \n   åˆ«è®©æ’ä»¶éšä¾¿å´©äº†ï¼ŒåŠ ç‚¹é”™è¯¯å¤„ç†ï¼š\n\n   ```javascript\n   transform(code, id) {\n     try {\n       // ä½ çš„é€»è¾‘\n     } catch (e) {\n       this.error(`æ’ä»¶ç‚¸äº†: ${e.message}`);\n     }\n   }\n   ```\n\n4. **ç”Ÿæˆ Source Map**  \n   å¦‚æœä½ çš„æ’ä»¶ä¼šå¤§å¹…æ”¹åŠ¨ä»£ç ï¼Œè®°å¾—ç”Ÿæˆ source mapï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚å¯ä»¥ç”¨ `magic-string` åº“ç®€åŒ–æ“ä½œã€‚\n\n5. **æµ‹è¯•ï¼æµ‹è¯•ï¼æµ‹è¯•ï¼**  \n   å†™ä¸ªå°é¡¹ç›®æµ‹è¯•ä½ çš„æ’ä»¶ï¼Œåˆ«ç›´æ¥ä¸¢åˆ°ç”Ÿäº§ç¯å¢ƒé‡Œç‚¸é±¼å¡˜ğŸŸã€‚\n\n## é‡åˆ°å‘æ€ä¹ˆåŠï¼Ÿ\n\nå†™æ’ä»¶éš¾å…ä¼šè¸©å‘ï¼Œæ¯”å¦‚ï¼š\n- **HMR ä¸ç”Ÿæ•ˆ**ï¼šæ£€æŸ¥æ˜¯ä¸æ˜¯æ¼äº† `handleHotUpdate` é’©å­ã€‚\n- **é¡ºåºä¸å¯¹**ï¼šç”¨ `enforce` è°ƒæ•´æ’ä»¶æ‰§è¡Œé¡ºåºï¼ˆ`pre`ã€`post`ï¼‰ã€‚\n- **æ€§èƒ½å¡é¡¿**ï¼šé¿å…åœ¨ `transform` é‡Œåšå¤ªé‡çš„æ“ä½œï¼Œå¿…è¦æ—¶åŠ ä¸ªç¼“å­˜ã€‚\n\nå®åœ¨æä¸å®šï¼Œå»ç¿»ç¿» Vite çš„[å®˜æ–¹æ’ä»¶æ–‡æ¡£](https://vitejs.dev/guide/api-plugin.html)æˆ–è€…ç¤¾åŒºçš„æºç ï¼Œæ€»æœ‰çµæ„Ÿè¹¦å‡ºæ¥ã€‚\n\n## ç»“è¯­ï¼šæ’ä»¶å¼€å‘çš„ä¹è¶£\n\nå†™ Vite æ’ä»¶å°±åƒåœ¨ç©ä¸€åœºâ€œé»‘å®¢å¸å›½â€çš„æ¸¸æˆï¼Œä½ æ—¢æ˜¯å»ºç­‘å¸ˆï¼Œåˆæ˜¯ç©å®¶ã€‚æŒæ¡äº†æ’ä»¶å¼€å‘ï¼Œä½ å°±èƒ½éšå¿ƒæ‰€æ¬²åœ°å®šåˆ¶ Viteï¼Œç”šè‡³ä¸ºç¤¾åŒºè´¡çŒ®è‡ªå·±çš„ä½œå“ã€‚è¯•ç€å†™ä¸€ä¸ªå§ï¼Œè¯´ä¸å®šä¸‹ä¸€ä¸ªçˆ†æ¬¾æ’ä»¶å°±æ˜¯ä½ å†™çš„å‘¢ï¼ŸğŸ˜\n\næœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…é…·ç‚«çš„æ’ä»¶æƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºè·Ÿæˆ‘èŠèŠï¼ä¸‹æ¬¡è§ï¼Œå’±ä»¬ç»§ç»­æŠ˜è…¾å‰ç«¯çš„è¾¹ç•Œï¼\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),m=(l,e)=>{for(var a in e)d(l,a,{get:e[a],enumerable:!0})},i=(l,e,a,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!u.call(l,r)&&r!==a&&d(l,r,{get:()=>e[r],enumerable:!(c=E(e,r))||c.enumerable});return l};var f=(l,e,a)=>(a=l!=null?p(g(l)):{},i(e||!l||!l.__esModule?d(a,\"default\",{value:l,enumerable:!0}):a,l)),B=l=>i(d({},\"__esModule\",{value:!0}),l);var s=F((C,t)=>{t.exports=_jsx_runtime});var b={};m(b,{default:()=>h,frontmatter:()=>v});var n=f(s()),v={type:\"Post\",title:\"\\u5982\\u4F55\\u7F16\\u5199 Vite \\u63D2\\u4EF6\\uFF1F\\u4ECE\\u96F6\\u5230\\u7CBE\\u901A\\u7684\\u786C\\u6838\\u6307\\u5357\",date:\"2023-04-27\",description:\"\\u6DF1\\u5165\\u63A2\\u7D22 Vite \\u63D2\\u4EF6\\u7684\\u7F16\\u5199\\u65B9\\u6CD5\\uFF0C\\u5256\\u6790\\u539F\\u7406\\uFF0C\\u7ED3\\u5408\\u5B9E\\u4F8B\\uFF0C\\u5E26\\u4F60\\u4ECE\\u5165\\u95E8\\u5230\\u8FDB\\u9636\\uFF0C\\u6253\\u9020\\u5C5E\\u4E8E\\u81EA\\u5DF1\\u7684 Vite \\u751F\\u6001\\u5DE5\\u5177\\u3002\",keywords:\"Vite, Vite \\u63D2\\u4EF6, \\u524D\\u7AEF\\u6784\\u5EFA\\u5DE5\\u5177, Rollup, \\u63D2\\u4EF6\\u5F00\\u53D1, JavaScript, ESM, HMR\",author:\"\\u6653\\u9F99\",image:\"/images/hero/vite-plugin-guide.jpg\",tags:[\"Vite\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6784\\u5EFA\\u5DE5\\u5177\"],category:\"Build-Tools\"};function o(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Vite \\u81EA\\u4ECE\\u6A2A\\u7A7A\\u51FA\\u4E16\\u4EE5\\u6765\\uFF0C\\u51ED\\u501F\\u5176\\u6781\\u81F4\\u7684\\u5F00\\u53D1\\u4F53\\u9A8C\\u548C\\u57FA\\u4E8E ESM \\u7684\\u6784\\u5EFA\\u901F\\u5EA6\\uFF0C\\u5DF2\\u7ECF\\u6210\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7684\\u5FC3\\u5934\\u597D\\u3002\\u4F5C\\u4E3A\\u4E00\\u4E2A\\u8F7B\\u91CF\\u4F46\\u5F3A\\u5927\\u7684\\u6784\\u5EFA\\u5DE5\\u5177\\uFF0CVite \\u7684\\u63D2\\u4EF6\\u7CFB\\u7EDF\\u662F\\u5B83\\u7075\\u6D3B\\u6027\\u7684\\u6838\\u5FC3\\u6240\\u5728\\u3002\\u60F3\\u77E5\\u9053\\u5982\\u4F55\\u4E3A Vite \\u7F16\\u5199\\u4E00\\u4E2A\\u63D2\\u4EF6\\u5417\\uFF1F\\u8FD9\\u7BC7\\u535A\\u5BA2\\u5C06\\u5E26\\u4F60\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u7ED3\\u5408\\u5B9E\\u4F8B\\uFF0C\\u624B\\u628A\\u624B\\u6559\\u4F60\\u6253\\u9020\\u4E00\\u4E2A\\u5C5E\\u4E8E\\u81EA\\u5DF1\\u7684 Vite \\u63D2\\u4EF6\\u3002\\u522B\\u62C5\\u5FC3\\uFF0C\\u6211\\u4F1A\\u5C3D\\u91CF\\u8BA9\\u8FD9\\u8D9F\\u65C5\\u7A0B\\u6709\\u8DA3\\u4E00\\u70B9\\uFF0C\\u6BD5\\u7ADF\\uFF0C\\u8C01\\u8BF4\\u6280\\u672F\\u6587\\u7AE0\\u4E0D\\u80FD\\u5E26\\u70B9\\u5E7D\\u9ED8\\u5462\\uFF1F\\u{1F609}\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199-vite-\\u63D2\\u4EF6\",children:(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199-vite-\\u63D2\\u4EF6\",children:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199 Vite \\u63D2\\u4EF6\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u5F00\\u59CB\\u52A8\\u624B\\u4E4B\\u524D\\uFF0C\\u5148\\u804A\\u804A\\u201C\\u4E3A\\u4EC0\\u4E48\\u201D\\u3002Vite \\u867D\\u7136\\u5F00\\u7BB1\\u5373\\u7528\\uFF0C\\u4F46\\u603B\\u6709\\u90A3\\u4E48\\u4E9B\\u573A\\u666F\\uFF0C\\u5B83\\u9ED8\\u8BA4\\u7684\\u529F\\u80FD\\u6EE1\\u8DB3\\u4E0D\\u4E86\\u4F60\\u7684\\u9700\\u6C42\\u3002\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u4F60\\u60F3\\u5728\\u5F00\\u53D1\\u65F6\\u81EA\\u52A8\\u6CE8\\u5165\\u67D0\\u4E9B\\u5168\\u5C40\\u53D8\\u91CF\\uFF1F\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9700\\u8981\\u81EA\\u5B9A\\u4E49\\u5904\\u7406\\u67D0\\u4E9B\\u7279\\u6B8A\\u6587\\u4EF6\\u7C7B\\u578B\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".md\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".svg\"})})})}),\"\\uFF09\\uFF1F\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6216\\u8005\\u5E72\\u8106\\u60F3\\u641E\\u4E2A\\u9A9A\\u64CD\\u4F5C\\uFF0C\\u628A\\u6784\\u5EFA\\u8FC7\\u7A0B\\u4F18\\u5316\\u5230\\u98DE\\u8D77\\uFF1F\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4E9B\\u9700\\u6C42\\u90FD\\u53EF\\u4EE5\\u901A\\u8FC7\\u63D2\\u4EF6\\u6765\\u5B9E\\u73B0\\u3002Vite \\u7684\\u63D2\\u4EF6\\u7CFB\\u7EDF\\u7EE7\\u627F\\u4E86 Rollup \\u7684\\u63D2\\u4EF6\\u673A\\u5236\\uFF0C\\u540C\\u65F6\\u53C8\\u4E3A\\u81EA\\u5DF1\\u7684 HMR\\uFF08\\u70ED\\u66F4\\u65B0\\uFF09\\u548C\\u5F00\\u53D1\\u670D\\u52A1\\u5668\\u505A\\u4E86\\u6269\\u5C55\\u3002\\u53EF\\u4EE5\\u8BF4\\uFF0C\\u5B66\\u4F1A\\u5199 Vite \\u63D2\\u4EF6\\uFF0C\\u4F60\\u5C31\\u638C\\u63E1\\u4E86\\u81EA\\u5B9A\\u4E49 Vite \\u7684\\u201C\\u9B54\\u6CD5\\u94A5\\u5319\\u201D\\u{1F511}\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"vite-\\u63D2\\u4EF6\\u7684\\u57FA\\u7840\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#vite-\\u63D2\\u4EF6\\u7684\\u57FA\\u7840\\u539F\\u7406\",children:\"Vite \\u63D2\\u4EF6\\u7684\\u57FA\\u7840\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Vite \\u7684\\u63D2\\u4EF6\\u7CFB\\u7EDF\\u672C\\u8D28\\u4E0A\\u662F Rollup \\u63D2\\u4EF6\\u7684\\u8D85\\u96C6\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0CVite \\u5728\\u5E95\\u5C42\\u7528 Rollup \\u5904\\u7406\\u6784\\u5EFA\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite build\"})})})}),\"\\uFF09\\uFF0C\\u800C\\u5728\\u5F00\\u53D1\\u6A21\\u5F0F\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite dev\"})})})}),\"\\uFF09\\u4E0B\\uFF0C\\u5B83\\u5229\\u7528\\u539F\\u751F ESM \\u548C\\u81EA\\u5DF1\\u7684\\u670D\\u52A1\\u5668\\u673A\\u5236\\u63D0\\u4F9B\\u6781\\u901F\\u4F53\\u9A8C\\u3002\\u63D2\\u4EF6\\u7684\\u4F5C\\u7528\\uFF0C\\u5C31\\u662F\\u5728\\u8FD9\\u4E9B\\u6D41\\u7A0B\\u4E2D\\u63D2\\u5165\\u81EA\\u5B9A\\u4E49\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E00\\u4E2A Vite \\u63D2\\u4EF6\\u901A\\u5E38\\u662F\\u4E00\\u4E2A\\u8FD4\\u56DE\\u5BF9\\u8C61\\u7684\\u51FD\\u6570\\uFF0C\\u8FD9\\u4E2A\\u5BF9\\u8C61\\u91CC\\u5305\\u542B\\u5404\\u79CD\\u201C\\u94A9\\u5B50\\u201D\\uFF08hooks\\uFF09\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"transform\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"resolveId\"})})})}),\" \\u7B49\\u3002\\u8FD9\\u4E9B\\u94A9\\u5B50\\u4F1A\\u5728 Vite \\u7684\\u6784\\u5EFA\\u6216\\u5F00\\u53D1\\u8FC7\\u7A0B\\u4E2D\\u88AB\\u8C03\\u7528\\u3002\\u4F60\\u53EF\\u4EE5\\u628A\\u63D2\\u4EF6\\u60F3\\u8C61\\u6210\\u4E00\\u4E2A\\u201C\\u4E2D\\u95F4\\u4EBA\\u201D\\uFF0C\\u5728\\u6587\\u4EF6\\u52A0\\u8F7D\\u3001\\u8F6C\\u6362\\u3001\\u8F93\\u51FA\\u7B49\\u73AF\\u8282\\u63D2\\u4E00\\u811A\\uFF0C\\u5077\\u5077\\u505A\\u70B9\\u5C0F\\u52A8\\u4F5C\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF1A\\u5982\\u679C Vite \\u662F\\u4E00\\u4E2A\\u6D41\\u6C34\\u7EBF\\u5DE5\\u5382\\uFF0C\\u63D2\\u4EF6\\u5C31\\u662F\\u4F60\\u96C7\\u6765\\u7684\\u201C\\u7279\\u5DE5\\u201D\\uFF0C\\u53EF\\u4EE5\\u5728\\u6D41\\u6C34\\u7EBF\\u7684\\u67D0\\u4E2A\\u8282\\u70B9\\u4E0A\\u52A0\\u6599\\u3001\\u6539\\u88C5\\uFF0C\\u751A\\u81F3\\u76F4\\u63A5\\u4E22\\u4E2A\\u5F69\\u86CB\\u8FDB\\u53BB\\u{1F389}\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u52A8\\u624B\\u5199\\u4E00\\u4E2A\\u7B80\\u5355\\u7684-vite-\\u63D2\\u4EF6\",children:(0,n.jsx)(e.a,{href:\"#\\u52A8\\u624B\\u5199\\u4E00\\u4E2A\\u7B80\\u5355\\u7684-vite-\\u63D2\\u4EF6\",children:\"\\u52A8\\u624B\\u5199\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 Vite \\u63D2\\u4EF6\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u597D\\u4E86\\uFF0C\\u5E9F\\u8BDD\\u4E0D\\u591A\\u8BF4\\uFF0C\\u54B1\\u4EEC\\u76F4\\u63A5\\u4E0A\\u4EE3\\u7801\\uFF01\\u5148\\u4ECE\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u63D2\\u4EF6\\u5F00\\u59CB\\uFF1A\\u81EA\\u52A8\\u5728\\u6BCF\\u4E2A JS \\u6587\\u4EF6\\u7684\\u5F00\\u5934\\u52A0\\u4E0A\\u4E00\\u53E5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'console.log(\"Hello Vite!\")'})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// vite-plugin-hello.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" helloVitePlugin\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'vite-plugin-hello'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u63D2\\u4EF6\\u540D\\u79F0\\uFF0C\\u8C03\\u8BD5\\u65F6\\u65B9\\u4FBF\\u8BA4\\u51FA\\u662F\\u8C01\\u5E72\\u7684\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    transform\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"code\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (id.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"endsWith\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'.js'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          code: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'`console.log(\"Hello Vite!\");'}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"\\\\n\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"code\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          map: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" // \\u6682\\u65F6\\u4E0D\\u751F\\u6210 source map\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" helloVitePlugin;\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite.config.js\"})})})}),\" \\u4E2D\\u4F7F\\u7528\\u5B83\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// vite.config.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" helloVitePlugin \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" './vite-plugin-hello'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  plugins: [\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"helloVitePlugin\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()]\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u542F\\u52A8 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite dev\"})})})}),\"\\uFF0C\\u6253\\u5F00\\u6D4F\\u89C8\\u5668\\u63A7\\u5236\\u53F0\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0\\u6BCF\\u4E2A JS \\u6587\\u4EF6\\u8FD0\\u884C\\u65F6\\u90FD\\u4F1A\\u5148\\u6253\\u5370\\u4E00\\u53E5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Hello Vite!\"})})})}),\"\\u3002\\u662F\\u4E0D\\u662F\\u5F88\\u7B80\\u5355\\uFF1F\\u8FD9\\u5C31\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"transform\"})})})}),\" \\u94A9\\u5B50\\u7684\\u5A01\\u529B\\uFF0C\\u5B83\\u80FD\\u8BA9\\u4F60\\u4FEE\\u6539\\u4EE3\\u7801\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u539F\\u7406\\u5C0F\\u63ED\\u79D8\",children:(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406\\u5C0F\\u63ED\\u79D8\",children:\"\\u539F\\u7406\\u5C0F\\u63ED\\u79D8\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"transform\"})})})}),\" \\u662F Rollup \\u63D0\\u4F9B\\u7684\\u4E00\\u4E2A\\u6838\\u5FC3\\u94A9\\u5B50\\uFF0CVite \\u4E5F\\u652F\\u6301\\u5B83\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u53C2\\u6570 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"code\"})})})}),\" \\u662F\\u6587\\u4EF6\\u7684\\u5185\\u5BB9\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"id\"})})})}),\" \\u662F\\u6587\\u4EF6\\u7684\\u8DEF\\u5F84\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8FD4\\u56DE\\u7684\\u5BF9\\u8C61\\u91CC\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"code\"})})})}),\" \\u662F\\u4FEE\\u6539\\u540E\\u7684\\u4EE3\\u7801\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"map\"})})})}),\" \\u662F source map\\uFF08\\u8C03\\u8BD5\\u7528\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u8FDB\\u9636\\u5229\\u7528-vite-\\u7279\\u6709\\u7684\\u94A9\\u5B50\",children:(0,n.jsx)(e.a,{href:\"#\\u8FDB\\u9636\\u5229\\u7528-vite-\\u7279\\u6709\\u7684\\u94A9\\u5B50\",children:\"\\u8FDB\\u9636\\uFF1A\\u5229\\u7528 Vite \\u7279\\u6709\\u7684\\u94A9\\u5B50\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5149\\u4F1A\\u7528 Rollup \\u7684\\u94A9\\u5B50\\u8FD8\\u4E0D\\u591F\\uFF0CVite \\u63D0\\u4F9B\\u4E86\\u4E00\\u4E9B\\u4E13\\u5C5E\\u94A9\\u5B50\\uFF0C\\u8BA9\\u63D2\\u4EF6\\u66F4\\u6709\\u201CVite \\u5473\\u513F\\u201D\\u3002\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-config-\\u94A9\\u5B50\\u52A8\\u6001\\u4FEE\\u6539\\u914D\\u7F6E\",children:(0,n.jsxs)(e.a,{href:\"#1-config-\\u94A9\\u5B50\\u52A8\\u6001\\u4FEE\\u6539\\u914D\\u7F6E\",children:[\"1. \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"config\"})})})}),\" \\u94A9\\u5B50\\uFF1A\\u52A8\\u6001\\u4FEE\\u6539\\u914D\\u7F6E\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5047\\u8BBE\\u4F60\\u60F3\\u6839\\u636E\\u73AF\\u5883\\u53D8\\u91CF\\u52A8\\u6001\\u8C03\\u6574 Vite \\u7684\\u914D\\u7F6E\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"config\"})})})}),\" \\u94A9\\u5B50\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" dynamicConfigPlugin\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'vite-plugin-dynamic-config'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    config\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"config\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"command\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (command \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'build'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        config.base \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '/prod/'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        config.base \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '/dev/'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" config;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4E2A\\u63D2\\u4EF6\\u4F1A\\u6839\\u636E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite build\"})})})}),\" \\u8FD8\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite dev\"})})})}),\" \\u52A8\\u6001\\u8BBE\\u7F6E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"base\"})})})}),\" \\u8DEF\\u5F84\\u3002\\u662F\\u4E0D\\u662F\\u5F88\\u5B9E\\u7528\\uFF1F\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-configureserver-\\u94A9\\u5B50\\u73A9\\u8F6C\\u5F00\\u53D1\\u670D\\u52A1\\u5668\",children:(0,n.jsxs)(e.a,{href:\"#2-configureserver-\\u94A9\\u5B50\\u73A9\\u8F6C\\u5F00\\u53D1\\u670D\\u52A1\\u5668\",children:[\"2. \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"configureServer\"})})})}),\" \\u94A9\\u5B50\\uFF1A\\u73A9\\u8F6C\\u5F00\\u53D1\\u670D\\u52A1\\u5668\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Vite \\u7684\\u5F00\\u53D1\\u670D\\u52A1\\u5668\\u662F\\u5B83\\u7684\\u7075\\u9B42\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"configureServer\"})})})}),\" \\u8BA9\\u4F60\\u53EF\\u4EE5\\u81EA\\u5B9A\\u4E49\\u670D\\u52A1\\u5668\\u884C\\u4E3A\\u3002\\u6BD4\\u5982\\uFF0C\\u52A0\\u4E2A\\u4E2D\\u95F4\\u4EF6\\u6765\\u62E6\\u622A\\u8BF7\\u6C42\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" customServerPlugin\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'vite-plugin-custom-server'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    configureServer\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"server\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      server.middlewares.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (req.url \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '/ping'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          res.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"end\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'pong'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          next\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u542F\\u52A8\\u5F00\\u53D1\\u670D\\u52A1\\u5668\\u540E\\uFF0C\\u8BBF\\u95EE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://localhost:5173/ping\"})})})}),\"\\uFF0C\\u4F60\\u4F1A\\u770B\\u5230\\u9875\\u9762\\u8FD4\\u56DE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"pong\"})})})}),\"\\u3002\\u8FD9\\u62DB\\u5728\\u8C03\\u8BD5 API \\u6216\\u6A21\\u62DF\\u540E\\u7AEF\\u65F6\\u7279\\u522B\\u597D\\u4F7F\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5B9E\\u6218\\u6848\\u4F8B\\u7F16\\u5199\\u4E00\\u4E2A-svg-\\u52A0\\u8F7D\\u63D2\\u4EF6\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u6218\\u6848\\u4F8B\\u7F16\\u5199\\u4E00\\u4E2A-svg-\\u52A0\\u8F7D\\u63D2\\u4EF6\",children:\"\\u5B9E\\u6218\\u6848\\u4F8B\\uFF1A\\u7F16\\u5199\\u4E00\\u4E2A SVG \\u52A0\\u8F7D\\u63D2\\u4EF6\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5149\\u8BF4\\u7406\\u8BBA\\u6CA1\\u610F\\u601D\\uFF0C\\u54B1\\u4EEC\\u6765\\u70B9\\u786C\\u6838\\u7684\\u5B9E\\u6218\\uFF01\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u5199\\u4E00\\u4E2A\\u63D2\\u4EF6\\uFF0C\\u628A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".svg\"})})})}),\" \\u6587\\u4EF6\\u5F53\\u4F5C\\u7EC4\\u4EF6\\u52A0\\u8F7D\\uFF08\\u7C7B\\u4F3C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite-plugin-svgr\"})})})}),\" \\u7684\\u529F\\u80FD\\uFF09\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// vite-plugin-svg-component.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { readFileSync } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'fs'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { compile } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue/compiler-sfc'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" svgComponentPlugin\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'vite-plugin-svg-component'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    enforce: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'pre'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5728\\u5176\\u4ED6\\u63D2\\u4EF6\\u4E4B\\u524D\\u8FD0\\u884C\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    async\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" transform\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"code\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"id.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"endsWith\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'.svg'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")) \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" svgContent\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" readFileSync\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(id, \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'utf-8'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" componentCode\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"        <template>\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'          <div v-html=\"${'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"svgContent\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'}\"></div>'})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"        </template>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"        <script>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"          export default {\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"            name: 'SvgComponent'\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"          }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"        <\\/script>\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"      `\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"descriptor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" compile\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(componentCode);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        code: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"          export default {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"            ...${\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"descriptor\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"script\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"content\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"},\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"            render() { return ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"descriptor\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"template\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"content\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} }\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"          }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"        `\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        map: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" svgComponentPlugin;\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u65B9\\u5F0F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// vite.config.js\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" svgComponentPlugin \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" './vite-plugin-svg-component'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  plugins: [\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"svgComponentPlugin\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()]\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u73B0\\u5728\\uFF0C\\u4F60\\u53EF\\u4EE5\\u5728\\u9879\\u76EE\\u4E2D\\u8FD9\\u6837\\u5BFC\\u5165 SVG\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" MySvg \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" './assets/icon.svg'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7136\\u540E\\u5728\\u6A21\\u677F\\u91CC\\u7528\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"vue\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"vue\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"MySvg\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u80CC\\u540E\\u7684\\u9B54\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#\\u80CC\\u540E\\u7684\\u9B54\\u6CD5\",children:\"\\u80CC\\u540E\\u7684\\u9B54\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"enforce: 'pre'\"})})})}),\" \\u786E\\u4FDD\\u8FD9\\u4E2A\\u63D2\\u4EF6\\u5728\\u5176\\u4ED6\\u63D2\\u4EF6\\u4E4B\\u524D\\u8FD0\\u884C\\uFF0C\\u907F\\u514D\\u88AB\\u8986\\u76D6\\u3002\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6211\\u4EEC\\u7528 Vue \\u7684\\u7F16\\u8BD1\\u5668\\u628A SVG \\u8F6C\\u4E3A\\u7EC4\\u4EF6\\uFF0C\\u7B80\\u5355\\u7C97\\u66B4\\u4F46\\u6709\\u6548\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"v-html\"})})})}),\" \\u628A SVG \\u5B57\\u7B26\\u4E32\\u76F4\\u63A5\\u6E32\\u67D3\\u6210 DOM\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u4F60\\u7684\\u63D2\\u4EF6\\u66F4\\u4E13\\u4E1A\",children:(0,n.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u8BA9\\u4F60\\u7684\\u63D2\\u4EF6\\u66F4\\u4E13\\u4E1A\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u8BA9\\u4F60\\u7684\\u63D2\\u4EF6\\u66F4\\u4E13\\u4E1A\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5199\\u63D2\\u4EF6\\u4E0D\\u5149\\u8981\\u80FD\\u8DD1\\uFF0C\\u8FD8\\u5F97\\u4F18\\u96C5\\u3002\\u4EE5\\u4E0B\\u662F\\u6211\\u603B\\u7ED3\\u7684\\u51E0\\u4E2A\\u5B9E\\u7528 Tips\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u547D\\u540D\\u8981\\u89C4\\u8303\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u63D2\\u4EF6\\u540D\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite-plugin-\"})})})}),\" \\u5F00\\u5934\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"vite-plugin-my-awesome-thing\"})})})}),\"\\uFF0C\\u8FD9\\u6837\\u793E\\u533A\\u4E00\\u773C\\u5C31\\u80FD\\u8BA4\\u51FA\\u8FD9\\u662F Vite \\u63D2\\u4EF6\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u652F\\u6301\\u9009\\u9879\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u8BA9\\u63D2\\u4EF6\\u63A5\\u53D7\\u53C2\\u6570\\uFF0C\\u589E\\u52A0\\u7075\\u6D3B\\u6027\\u3002\\u6BD4\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" myPlugin\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'vite-plugin-my-awesome'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    transform\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"code\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (options.log) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Transforming: ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" code;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528\\u65F6\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"myPlugin({ log: true })\"})})})}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5904\\u7406\\u5F02\\u5E38\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u522B\\u8BA9\\u63D2\\u4EF6\\u968F\\u4FBF\\u5D29\\u4E86\\uFF0C\\u52A0\\u70B9\\u9519\\u8BEF\\u5904\\u7406\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"transform\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(code, id) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  try\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u4F60\\u7684\\u903B\\u8F91\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (e) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u63D2\\u4EF6\\u70B8\\u4E86: ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"message\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u751F\\u6210 Source Map\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5982\\u679C\\u4F60\\u7684\\u63D2\\u4EF6\\u4F1A\\u5927\\u5E45\\u6539\\u52A8\\u4EE3\\u7801\\uFF0C\\u8BB0\\u5F97\\u751F\\u6210 source map\\uFF0C\\u65B9\\u4FBF\\u8C03\\u8BD5\\u3002\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"magic-string\"})})})}),\" \\u5E93\\u7B80\\u5316\\u64CD\\u4F5C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6D4B\\u8BD5\\uFF01\\u6D4B\\u8BD5\\uFF01\\u6D4B\\u8BD5\\uFF01\"}),(0,n.jsx)(e.br,{}),`\n`,\"\\u5199\\u4E2A\\u5C0F\\u9879\\u76EE\\u6D4B\\u8BD5\\u4F60\\u7684\\u63D2\\u4EF6\\uFF0C\\u522B\\u76F4\\u63A5\\u4E22\\u5230\\u751F\\u4EA7\\u73AF\\u5883\\u91CC\\u70B8\\u9C7C\\u5858\\u{1F41F}\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u9047\\u5230\\u5751\\u600E\\u4E48\\u529E\",children:(0,n.jsx)(e.a,{href:\"#\\u9047\\u5230\\u5751\\u600E\\u4E48\\u529E\",children:\"\\u9047\\u5230\\u5751\\u600E\\u4E48\\u529E\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5199\\u63D2\\u4EF6\\u96BE\\u514D\\u4F1A\\u8E29\\u5751\\uFF0C\\u6BD4\\u5982\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"HMR \\u4E0D\\u751F\\u6548\"}),\"\\uFF1A\\u68C0\\u67E5\\u662F\\u4E0D\\u662F\\u6F0F\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"handleHotUpdate\"})})})}),\" \\u94A9\\u5B50\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u987A\\u5E8F\\u4E0D\\u5BF9\"}),\"\\uFF1A\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"enforce\"})})})}),\" \\u8C03\\u6574\\u63D2\\u4EF6\\u6267\\u884C\\u987A\\u5E8F\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"pre\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"post\"})})})}),\"\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u5361\\u987F\"}),\"\\uFF1A\\u907F\\u514D\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"transform\"})})})}),\" \\u91CC\\u505A\\u592A\\u91CD\\u7684\\u64CD\\u4F5C\\uFF0C\\u5FC5\\u8981\\u65F6\\u52A0\\u4E2A\\u7F13\\u5B58\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5B9E\\u5728\\u641E\\u4E0D\\u5B9A\\uFF0C\\u53BB\\u7FFB\\u7FFB Vite \\u7684\",(0,n.jsx)(e.a,{href:\"https://vitejs.dev/guide/api-plugin.html\",children:\"\\u5B98\\u65B9\\u63D2\\u4EF6\\u6587\\u6863\"}),\"\\u6216\\u8005\\u793E\\u533A\\u7684\\u6E90\\u7801\\uFF0C\\u603B\\u6709\\u7075\\u611F\\u8E66\\u51FA\\u6765\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u7ED3\\u8BED\\u63D2\\u4EF6\\u5F00\\u53D1\\u7684\\u4E50\\u8DA3\",children:(0,n.jsx)(e.a,{href:\"#\\u7ED3\\u8BED\\u63D2\\u4EF6\\u5F00\\u53D1\\u7684\\u4E50\\u8DA3\",children:\"\\u7ED3\\u8BED\\uFF1A\\u63D2\\u4EF6\\u5F00\\u53D1\\u7684\\u4E50\\u8DA3\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5199 Vite \\u63D2\\u4EF6\\u5C31\\u50CF\\u5728\\u73A9\\u4E00\\u573A\\u201C\\u9ED1\\u5BA2\\u5E1D\\u56FD\\u201D\\u7684\\u6E38\\u620F\\uFF0C\\u4F60\\u65E2\\u662F\\u5EFA\\u7B51\\u5E08\\uFF0C\\u53C8\\u662F\\u73A9\\u5BB6\\u3002\\u638C\\u63E1\\u4E86\\u63D2\\u4EF6\\u5F00\\u53D1\\uFF0C\\u4F60\\u5C31\\u80FD\\u968F\\u5FC3\\u6240\\u6B32\\u5730\\u5B9A\\u5236 Vite\\uFF0C\\u751A\\u81F3\\u4E3A\\u793E\\u533A\\u8D21\\u732E\\u81EA\\u5DF1\\u7684\\u4F5C\\u54C1\\u3002\\u8BD5\\u7740\\u5199\\u4E00\\u4E2A\\u5427\\uFF0C\\u8BF4\\u4E0D\\u5B9A\\u4E0B\\u4E00\\u4E2A\\u7206\\u6B3E\\u63D2\\u4EF6\\u5C31\\u662F\\u4F60\\u5199\\u7684\\u5462\\uFF1F\\u{1F60E}\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6709\\u4EC0\\u4E48\\u95EE\\u9898\\u6216\\u8005\\u9177\\u70AB\\u7684\\u63D2\\u4EF6\\u60F3\\u6CD5\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u533A\\u8DDF\\u6211\\u804A\\u804A\\uFF01\\u4E0B\\u6B21\\u89C1\\uFF0C\\u54B1\\u4EEC\\u7EE7\\u7EED\\u6298\\u817E\\u524D\\u7AEF\\u7684\\u8FB9\\u754C\\uFF01\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return B(b);})();\n;return Component;"
  },
  "_id": "Build-Tools/å¦‚ä½•ç¼–å†™vite æ’ä»¶.mdx",
  "_raw": {
    "sourceFilePath": "Build-Tools/å¦‚ä½•ç¼–å†™vite æ’ä»¶.mdx",
    "sourceFileName": "å¦‚ä½•ç¼–å†™vite æ’ä»¶.mdx",
    "sourceFileDir": "Build-Tools",
    "contentType": "mdx",
    "flattenedPath": "Build-Tools/å¦‚ä½•ç¼–å†™vite æ’ä»¶"
  },
  "type": "Post",
  "url": "/blog/Build-Tools/å¦‚ä½•ç¼–å†™vite æ’ä»¶"
}
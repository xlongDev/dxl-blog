{
  "title": "æ¢ç´¢ React ä¸­çš„æ— é™æ»šåŠ¨æŠ€æœ¯ï¼šä»åŸç†åˆ°å®è·µçš„æ·±åº¦ä¹‹æ—…",
  "date": "2024-03-16T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æ React ä¸­çš„æ— é™æ»šåŠ¨æŠ€æœ¯ï¼Œæ¶µç›–å®ç°åŸç†ã€å¤šç§æ–¹æ¡ˆå¯¹æ¯”ï¼ˆåŒ…æ‹¬ MutationObserverï¼‰ã€ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼ŒåŠ©ä½ æ‰“é€ ä¸æ»‘çš„ç”¨æˆ·ä½“éªŒã€‚",
  "keywords": "React, æ— é™æ»šåŠ¨, Intersection Observer, MutationObserver, å‰ç«¯ä¼˜åŒ–, æ€§èƒ½ä¼˜åŒ–, useEffect, useRef, TanStack Query",
  "author": "æ™“é¾™",
  "image": "/images/hero/infinite-scroll.jpg",
  "tags": [
    "React",
    "å‰ç«¯å¼€å‘",
    "æ€§èƒ½ä¼˜åŒ–"
  ],
  "views": 0,
  "likes": 0,
  "category": "React",
  "body": {
    "raw": "\nå˜¿ï¼Œå‰ç«¯çš„å°ä¼™ä¼´ä»¬ï¼ğŸ‘‹ ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šç”¨æˆ·åœ¨ä¸€ä¸ªé•¿é•¿çš„åˆ—è¡¨é‡Œç¿»é¡µç¿»åˆ°æ‰‹é…¸ï¼Œå¿ƒé‡Œé»˜é»˜åæ§½â€œèƒ½ä¸èƒ½ç›´æ¥æ»‘åˆ°åº•å•Šâ€ï¼Ÿæˆ–è€…ä½ è‡ªå·±åˆ·ç¤¾äº¤åª’ä½“æ—¶ï¼Œæ²‰è¿·äºé‚£ç§â€œæ°¸è¿œåˆ·ä¸å®Œâ€çš„å¿«æ„Ÿï¼Ÿè¿™å°±æ˜¯æ— é™æ»šåŠ¨çš„é­…åŠ›ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬è¦ä¸€èµ·æ·±å…¥ React çš„ä¸–ç•Œï¼ŒèŠèŠå¦‚ä½•ç”¨ä»£ç å®ç°è¿™ç§ä¸æ»‘ä½“éªŒã€‚ä»åº•å±‚åŸç†åˆ°å¤šç§å®ç°æ–¹å¼ï¼ˆåŒ…æ‹¬ä¸å¤ªå¸¸è§çš„ `MutationObserver`ï¼‰ï¼Œå†åˆ°è¸©å‘æŒ‡å—å’Œæœ€ä½³å®è·µï¼Œè¿™ç¯‡æ–‡ç« ä¼šå¸¦ä½ å…¨é¢è§£é”æ— é™æ»šåŠ¨çš„ç§˜å¯†ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœºæŠ€æœ¯å†’é™©å§ï¼ğŸš€\n\n## ä»€ä¹ˆæ˜¯æ— é™æ»šåŠ¨ï¼Ÿå®ƒå‡­ä»€ä¹ˆè¿™ä¹ˆé¦™ï¼Ÿ\n\nç®€å•æ¥è¯´ï¼Œæ— é™æ»šåŠ¨ï¼ˆInfinite Scrollï¼‰æ˜¯ä¸€ç§åŠ¨æ€åŠ è½½å†…å®¹çš„äº¤äº’æ¨¡å¼ã€‚å½“ç”¨æˆ·æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨ï¼ˆæˆ–è€…æŸä¸ªè§¦å‘ç‚¹ï¼‰æ—¶ï¼Œè‡ªåŠ¨åŠ è½½æ›´å¤šæ•°æ®ï¼Œè€Œä¸æ˜¯è®©ä»–ä»¬æ‰‹åŠ¨ç‚¹â€œä¸‹ä¸€é¡µâ€ã€‚è¿™ç§æ–¹å¼åœ¨ Twitterã€Instagramã€æ·˜å®è¿™ç±»æ•°æ®é‡å·¨å¤§çš„åº”ç”¨ä¸­ç®€ç›´æ˜¯æ ‡é…ã€‚\n\nä¸ºä»€ä¹ˆå®ƒè¿™ä¹ˆå—æ¬¢è¿ï¼Ÿæƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨è¶…å¸‚ä¹°ä¸œè¥¿ï¼Œå¦‚æœæ¯æ¬¡åªèƒ½æ‹¿ä¸€å°ç¯®å­å•†å“ï¼Œç„¶åè·‘å›å»å†æ‹¿ï¼Œå¤šéº»çƒ¦å•Šï¼æ— é™æ»šåŠ¨å°±åƒè¶…å¸‚é‡Œé‚£ä¸ªè¶…é•¿çš„ä¼ é€å¸¦ï¼Œä¸œè¥¿æºæºä¸æ–­åœ°é€è¿‡æ¥ï¼Œä½ åªéœ€è¦ç«™åœ¨åŸåœ°ä¼¸æ‰‹æ‹¿å°±è¡Œäº†ã€‚ç”¨æˆ·ä½“éªŒæå‡çš„åŒæ—¶ï¼Œè¿˜èƒ½é™ä½è®¤çŸ¥è´Ÿæ‹…ï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ï¼ŸğŸ˜\n\nä¸è¿‡ï¼Œå®ç°æ— é™æ»šåŠ¨å¯æ²¡é‚£ä¹ˆç®€å•ï¼Œå°¤å…¶åœ¨ React è¿™ç§ç»„ä»¶åŒ–æ¡†æ¶é‡Œï¼Œæˆ‘ä»¬å¾—è€ƒè™‘æ€§èƒ½ã€çŠ¶æ€ç®¡ç†ã€DOM æ“ä½œç­‰ä¸€å †é—®é¢˜ã€‚åˆ«æ€¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šå¸¦ä½ ä¸€æ­¥æ­¥æ‹†è§£ã€‚\n\n---\n\n## æ— é™æ»šåŠ¨çš„æ ¸å¿ƒåŸç†ï¼šç›‘å¬ + åŠ è½½\n\næ— é™æ»šåŠ¨çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š**ç›‘å¬ç”¨æˆ·æ»šåŠ¨ä½ç½®ï¼Œå½“é è¿‘åº•éƒ¨æ—¶è§¦å‘æ•°æ®åŠ è½½**ã€‚å¬èµ·æ¥ç®€å•ï¼Œä½†å®é™…æ“ä½œèµ·æ¥å°±åƒåšè›‹ç³•ğŸ°â€”â€”ææ–™å¾—é…å¥½ï¼Œç«å€™å¾—æ‹¿æå‡†ã€‚\n\n### 1. å¦‚ä½•ç›‘å¬æ»šåŠ¨ï¼Ÿ\nåœ¨æµè§ˆå™¨é‡Œï¼Œæˆ‘ä»¬æœ‰å‡ ç§æ–¹æ³•å¯ä»¥ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼š\n- **ä¼ ç»Ÿæ–¹å¼**ï¼šç›‘å¬ `window` æˆ–æŸä¸ªå®¹å™¨çš„ `scroll` äº‹ä»¶ï¼Œé€šè¿‡ `scrollTop`ã€`scrollHeight` å’Œ `clientHeight` è®¡ç®—æ˜¯å¦åˆ°åº•éƒ¨ã€‚\n- **ç°ä»£æ–¹å¼**ï¼šä½¿ç”¨ `Intersection Observer API`ï¼Œä¼˜é›…åœ°æ£€æµ‹æŸä¸ªå…ƒç´ æ˜¯å¦è¿›å…¥è§†å£ã€‚\n- **å¦ç±»ç©æ³•**ï¼šç”¨ `MutationObserver` ç›‘å¬ DOM å˜åŒ–ï¼ŒåŠ¨æ€åˆ¤æ–­åˆ—è¡¨æ˜¯å¦éœ€è¦åŠ è½½ï¼ˆåé¢ä¼šè¯¦è§£ï¼‰ã€‚\n\n### 2. ä»€ä¹ˆæ—¶å€™åŠ è½½ï¼Ÿ\nåŠ è½½çš„æ—¶æœºå¾ˆå…³é”®ã€‚å¤ªæ—©åŠ è½½ï¼Œç”¨æˆ·è¿˜æ²¡å‡†å¤‡å¥½ï¼›å¤ªæ™šåŠ è½½ï¼Œç”¨æˆ·ä¼šçœ‹åˆ°ç©ºç™½ï¼Œä½“éªŒå´©å¡Œã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šåœ¨è·ç¦»åº•éƒ¨è¿˜æœ‰ä¸€æ®µè·ç¦»ï¼ˆæ¯”å¦‚ 200pxï¼‰æ—¶è§¦å‘åŠ è½½ï¼Œè¿™å°±åƒä½ åœ¨è·‘æ­¥æœºä¸Šè·‘æ­¥ï¼Œä¼ é€å¸¦å¾—æå‰åŠ é€Ÿï¼Œä¸èƒ½ç­‰ä½ æ’å¢™äº†æ‰åŠ¨ã€‚\n\n### 3. æ•°æ®æ€ä¹ˆç®¡ï¼Ÿ\nReact  React çš„çŠ¶æ€ç®¡ç†æ˜¯å…³é”®ã€‚æˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªæ•°æ®åˆ—è¡¨ï¼ˆ`state`ï¼‰ï¼Œæ¯æ¬¡åŠ è½½æ–°æ•°æ®æ—¶è¿½åŠ è¿›å»ï¼Œè¿˜è¦å¤„ç†åŠ è½½çŠ¶æ€ï¼ˆ`isLoading`ï¼‰å’Œâ€œåˆ°åº•äº†æ²¡â€ï¼ˆ`hasMore`ï¼‰çš„æ ‡å¿—ã€‚\n\n---\n\n## å®ç°æ–¹æ¡ˆ 1ï¼šä¼ ç»Ÿçš„ Scroll äº‹ä»¶ç›‘å¬\n\nå…ˆæ¥çœ‹æœ€åŸå§‹çš„å®ç°æ–¹å¼ï¼Œç”¨ `scroll` äº‹ä»¶ã€‚å‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªæ— é™æ»šåŠ¨çš„æ–‡ç« åˆ—è¡¨ï¼š\n\n```jsx\nimport React, { useState, useEffect, useRef } from \"react\";\n\nconst InfiniteScrollBasic = () => {\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const containerRef = useRef(null);\n\n  const fetchData = async (pageNum) => {\n    setIsLoading(true);\n    // æ¨¡æ‹Ÿ API è°ƒç”¨\n    const response = await new Promise((resolve) =>\n      setTimeout(() => resolve(Array(10).fill(`Item from page ${pageNum}`)), 1000)\n    );\n    setItems((prev) => [...prev, ...response]);\n    setIsLoading(false);\n    if (pageNum >= 5) setHasMore(false); // æ¨¡æ‹Ÿæ•°æ®åˆ°å¤´\n  };\n\n  const handleScroll = () => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = container;\n    if (scrollTop + clientHeight >= scrollHeight - 200 && !isLoading && hasMore) {\n      setPage((prev) => prev + 1);\n    }\n  };\n\n  useEffect(() => {\n    fetchData(page);\n  }, [page]);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    container.addEventListener(\"scroll\", handleScroll);\n    return () => container.removeEventListener(\"scroll\", handleScroll);\n  }, [isLoading, hasMore]);\n\n  return (\n    <div\n      ref={containerRef}\n      style={{ height: \"400px\", overflowY: \"auto\", border: \"1px solid #ccc\" }}\n    >\n      {items.map((item, index) => (\n        <div key={index} style={{ padding: \"20px\", borderBottom: \"1px solid #eee\" }}>\n          {item}\n        </div>\n      ))}\n      {isLoading && <p>Loading...</p>}\n      {!hasMore && <p>åˆ°åº•å•¦ï¼åˆ«åˆ·äº†ï¼Œå»å–æ¯å’–å•¡å§â˜•</p>}\n    </div>\n  );\n};\n\nexport default InfiniteScrollBasic;\n```\n\n### ä»£ç å‰–æ\n1. **æ»šåŠ¨ç›‘å¬**ï¼šé€šè¿‡ `scrollTop + clientHeight >= scrollHeight - 200` åˆ¤æ–­æ˜¯å¦æ¥è¿‘åº•éƒ¨ï¼Œ`-200` æ˜¯æå‰åŠ è½½çš„ç¼“å†²åŒºã€‚\n2. **çŠ¶æ€ç®¡ç†**ï¼š`items` å­˜æ•°æ®ï¼Œ`page` æ§åˆ¶åˆ†é¡µï¼Œ`isLoading` é˜²é‡å¤è¯·æ±‚ï¼Œ`hasMore` åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ•°æ®ã€‚\n3. **å‰¯ä½œç”¨**ï¼šç”¨ `useEffect` ç›‘å¬ `page` å˜åŒ–åŠ è½½æ•°æ®ï¼Œå¹¶ç»‘å®š/è§£ç»‘æ»šåŠ¨äº‹ä»¶ã€‚\n\n### å° Tips\n- **é˜²æŠ–ä¼˜åŒ–**ï¼š`scroll` äº‹ä»¶è§¦å‘é¢‘ç‡å¾ˆé«˜ï¼Œå»ºè®®ç”¨ `lodash.debounce` åŒ…è£¹ `handleScroll`ï¼Œæ¯”å¦‚ `debounce(handleScroll, 100)`ï¼Œçœå¾— CPU è¢«æ¦¨å¹²ã€‚\n- **ç¼“å†²è·ç¦»**ï¼š`-200` ä¸æ˜¯æ­»çš„ï¼Œå¯ä»¥æ ¹æ®å†…å®¹é«˜åº¦åŠ¨æ€è°ƒæ•´ï¼Œæ¯”å¦‚ç”¨ `container.clientHeight * 0.5`ã€‚\n- **é”®ç›˜å¯¼èˆª**ï¼šåˆ«å¿˜äº†æ”¯æŒé”®ç›˜æ»šåŠ¨ï¼ˆ`ArrowDown`ï¼‰ï¼Œå¯ä»¥ç”¨ `onKeyDown` äº‹ä»¶å¢å¼ºå¯è®¿é—®æ€§ã€‚\n\n### ä¼˜ç¼ºç‚¹\n- **ä¼˜ç‚¹**ï¼šç®€å•ç›´è§‚ï¼Œå…¼å®¹æ€§å¥½ï¼Œè€æµè§ˆå™¨ä¹Ÿèƒ½è·‘ã€‚\n- **ç¼ºç‚¹**ï¼šæ€§èƒ½ä¸ä½³ï¼Œé¢‘ç¹è§¦å‘ `scroll` äº‹ä»¶ä¼šå¡é¡¿ï¼Œå°¤å…¶åœ¨ä½ç«¯è®¾å¤‡ä¸Šã€‚\n\n---\n\n## å®ç°æ–¹æ¡ˆ 2ï¼šIntersection Observer çš„ä¼˜é›…è§£æ³•\n\n`Intersection Observer` æ˜¯ç°ä»£æµè§ˆå™¨é‡Œçš„â€œä¾¦å¯Ÿå…µâ€ï¼Œèƒ½é«˜æ•ˆç›‘å¬å…ƒç´ æ˜¯å¦è¿›å…¥è§†å£ã€‚æˆ‘ä»¬ç”¨å®ƒå®ç°æ— é™æ»šåŠ¨ï¼Œæ—¢çœæ€§èƒ½åˆä¼˜é›…ï¼š\n\n```jsx\nimport React, { useState, useEffect, useRef } from \"react\";\n\nconst InfiniteScrollObserver = () => {\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const observerRef = useRef(null);\n  const loadMoreRef = useRef(null);\n\n  const fetchData = async (pageNum) => {\n    setIsLoading(true);\n    const response = await new Promise((resolve) =>\n      setTimeout(() => resolve(Array(10).fill(`Item from page ${pageNum}`)), 1000)\n    );\n    setItems((prev) => [...prev, ...response]);\n    setIsLoading(false);\n    if (pageNum >= 5) setHasMore(false);\n  };\n\n  useEffect(() => {\n    fetchData(page);\n  }, [page]);\n\n  useEffect(() => {\n    if (!loadMoreRef.current) return;\n\n    observerRef.current = new IntersectionObserver(\n      (entries) => {\n        const target = entries[0];\n        if (target.isIntersecting && !isLoading && hasMore) {\n          setPage((prev) => prev + 1);\n        }\n      },\n      { rootMargin: \"200px\" }\n    );\n\n    observerRef.current.observe(loadMoreRef.current);\n\n    return () => observerRef.current.disconnect();\n  }, [isLoading, hasMore]);\n\n  return (\n    <div style={{ height: \"400px\", overflowY: \"auto\", border: \"1px solid #ccc\" }}>\n      {items.map((item, index) => (\n        <div key={index} style={{ padding: \"20px\", borderBottom: \"1px solid #eee\" }}>\n          {item}\n        </div>\n      ))}\n      {isLoading && <p>Loading...</p>}\n      {!isLoading && hasMore && (\n        <div ref={loadMoreRef} style={{ height: \"20px\" }}>\n          {/* è§¦å‘åŠ è½½çš„å“¨å…µå…ƒç´  */}\n        </div>\n      )}\n      {!hasMore && <p>åˆ°åº•å•¦ï¼å»æ‘¸æ‘¸é±¼å§ğŸŸ</p>}\n    </div>\n  );\n};\n\nexport default InfiniteScrollObserver;\n```\n\n### ä»£ç å‰–æ\n1. **å“¨å…µå…ƒç´ **ï¼š`loadMoreRef` æ˜¯ä¸€ä¸ªç©º `div`ï¼Œå½“å®ƒè¿›å…¥è§†å£æ—¶è§¦å‘åŠ è½½ã€‚\n2. **Intersection Observer**ï¼šé€šè¿‡ `rootMargin: \"200px\"` è®¾ç½®æå‰åŠ è½½è·ç¦»ï¼Œæ¯” `scroll` äº‹ä»¶æ›´ç²¾ç¡®ã€‚\n3. **æ¸…ç†å·¥ä½œ**ï¼š`disconnect` ç¡®ä¿ç»„ä»¶å¸è½½æ—¶é‡Šæ”¾èµ„æºã€‚\n\n### å° Tips\n- **åŠ¨æ€å“¨å…µ**ï¼šå¦‚æœåˆ—è¡¨é¡¹é«˜åº¦ä¸å›ºå®šï¼Œå¯ä»¥æŠŠå“¨å…µæ”¾åœ¨æœ€åä¸€é¡¹ä¸Šï¼Œç”¨ `items.length - 1` çš„å…ƒç´ ç»‘å®š `ref`ã€‚\n- **æµè§ˆå™¨å…¼å®¹**ï¼šè€æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒ `Intersection Observer`ï¼Œå¯ä»¥ç”¨ `polyfill`ï¼ˆæ¯”å¦‚ `intersection-observer` åŒ…ï¼‰å…œåº•ã€‚\n- **è°ƒè¯•æŠ€å·§**ï¼šåœ¨å¼€å‘æ—¶ï¼Œè®¾ç½® `threshold: 0.1`ï¼ˆ10% å¯è§æ—¶è§¦å‘ï¼‰ï¼Œæ›´å®¹æ˜“è§‚å¯Ÿæ•ˆæœã€‚\n\n### ä¼˜ç¼ºç‚¹\n- **ä¼˜ç‚¹**ï¼šæ€§èƒ½ç‚¸è£‚ï¼Œæ¯” `scroll` äº‹ä»¶çœèµ„æºï¼Œæµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼Œä¸æ»‘æµç•…ã€‚\n- **ç¼ºç‚¹**ï¼šä»£ç ç¨å¤æ‚ï¼Œå­¦ä¹ æˆæœ¬ç•¥é«˜ã€‚\n\n---\n\n## å®ç°æ–¹æ¡ˆ 3ï¼šMutationObserver çš„å¦ç±»æ€è·¯\n\nå¦‚æœä½ çš„åˆ—è¡¨å†…å®¹ä¼šåŠ¨æ€å˜åŒ–ï¼ˆæ¯”å¦‚ç”¨æˆ·æ“ä½œæ·»åŠ /åˆ é™¤é¡¹ï¼‰ï¼Œ`Intersection Observer` å¯èƒ½ä¸å¤Ÿçµæ´»ã€‚è¿™æ—¶å€™ï¼Œ`MutationObserver` å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å®ƒèƒ½ç›‘å¬ DOM æ ‘çš„å˜åŠ¨ï¼Œå½“æ–°èŠ‚ç‚¹åŠ å…¥æ—¶æ£€æŸ¥æ˜¯å¦éœ€è¦åŠ è½½æ›´å¤šæ•°æ®ã€‚å¬èµ·æ¥æœ‰ç‚¹â€œé»‘é­”æ³•â€ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹å¾ˆå®ç”¨ã€‚\n\n```jsx\nimport React, { useState, useEffect, useRef } from \"react\";\n\nconst InfiniteScrollMutation = () => {\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const containerRef = useRef(null);\n  const mutationRef = useRef(null);\n\n  const fetchData = async (pageNum) => {\n    setIsLoading(true);\n    const response = await new Promise((resolve) =>\n      setTimeout(() => resolve(Array(10).fill(`Item from page ${pageNum}`)), 1000)\n    );\n    setItems((prev) => [...prev, ...response]);\n    setIsLoading(false);\n    if (pageNum >= 5) setHasMore(false);\n  };\n\n  useEffect(() => {\n    fetchData(page);\n  }, [page]);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    mutationRef.current = new MutationObserver(() => {\n      const { scrollTop, scrollHeight, clientHeight } = container;\n      if (scrollTop + clientHeight >= scrollHeight - 200 && !isLoading && hasMore) {\n        setPage((prev) => prev + 1);\n      }\n    });\n\n    mutationRef.current.observe(container, {\n      childList: true,\n      subtree: true,\n    });\n\n    return () => mutationRef.current.disconnect();\n  }, [isLoading, hasMore]);\n\n  return (\n    <div\n      ref={containerRef}\n      style={{ height: \"400px\", overflowY: \"auto\", border: \"1px solid #ccc\" }}\n    >\n      {items.map((item, index) => (\n        <div key={index} style={{ padding: \"20px\", borderBottom: \"1px solid #eee\" }}>\n          {item}\n        </div>\n      ))}\n      {isLoading && <p>Loading...</p>}\n      {!hasMore && <p>åˆ°åº•å•¦ï¼å»å–æ¯èŒ¶ä¼‘æ¯ä¸‹å§ğŸµ</p>}\n    </div>\n  );\n};\n\nexport default InfiniteScrollMutation;\n```\n\n### ä»£ç å‰–æ\n1. **MutationObserver**ï¼šç›‘å¬ `container` çš„å­èŠ‚ç‚¹å˜åŒ–ï¼ˆ`childList: true`ï¼‰ï¼Œæ¯æ¬¡ DOM æ›´æ–°æ—¶æ£€æŸ¥æ»šåŠ¨ä½ç½®ã€‚\n2. **è§¦å‘é€»è¾‘**ï¼šç»“åˆæ»šåŠ¨ä½ç½®åˆ¤æ–­ï¼Œå’Œ `scroll` äº‹ä»¶ç±»ä¼¼ï¼Œä½†åªåœ¨ DOM å˜åŒ–æ—¶è¿è¡Œã€‚\n3. **æ¸…ç†**ï¼š`disconnect` é‡Šæ”¾ç›‘å¬å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚\n\n### å° Tips\n- **é€‚ç”¨åœºæ™¯**ï¼šé€‚åˆåŠ¨æ€åˆ—è¡¨ï¼Œæ¯”å¦‚å®æ—¶èŠå¤©åº”ç”¨ï¼Œç”¨æˆ·å‘çš„æ¶ˆæ¯ä¼šé¢‘ç¹æ›´æ–° DOMã€‚\n- **æ€§èƒ½æ³¨æ„**ï¼š`MutationObserver` å›è°ƒå¯èƒ½é¢‘ç¹è§¦å‘ï¼Œå»ºè®®ç”¨ `requestAnimationFrame` ä¼˜åŒ–æ£€æŸ¥é€»è¾‘ã€‚\n- **è°ƒè¯•ç¥å™¨**ï¼šåœ¨å›è°ƒé‡ŒåŠ  `console.log(mutations)`ï¼Œçœ‹çœ‹æ¯æ¬¡ DOM å˜åŒ–çš„å…·ä½“å†…å®¹ã€‚\n\n### ä¼˜ç¼ºç‚¹\n- **ä¼˜ç‚¹**ï¼šçµæ´»æ€§å¼ºï¼Œé€‚åˆåŠ¨æ€å†…å®¹åœºæ™¯ï¼Œå’Œ React çš„å£°æ˜å¼æ¸²æŸ“å¾ˆæ­ã€‚\n- **ç¼ºç‚¹**ï¼šå®ç°å¤æ‚ï¼Œæ€§èƒ½å¼€é”€æ¯” `Intersection Observer` é«˜ï¼Œä¸å»ºè®®å¤§æ•°æ®é‡åœºæ™¯ã€‚\n\n---\n\n## é«˜çº§ç©æ³•ï¼šè™šæ‹ŸåŒ– + æ— é™æ»šåŠ¨\n\nå¦‚æœä½ çš„åˆ—è¡¨æœ‰å‡ åƒç”šè‡³å‡ ä¸‡æ¡æ•°æ®ï¼Œå…‰é æ— é™æ»šåŠ¨è¿˜ä¸å¤Ÿï¼ŒDOM èŠ‚ç‚¹å¤ªå¤šç…§æ ·å¡æ­»ã€‚è¿™æ—¶å€™ï¼Œè™šæ‹ŸåŒ–ï¼ˆVirtualizationï¼‰å°±æ´¾ä¸Šç”¨åœºäº†ã€‚æ¨èç”¨ `react-virtualized` æˆ– `react-window`ï¼Œå®ƒä»¬åªæ¸²æŸ“è§†å£å†…çš„å…ƒç´ ï¼Œå…¶ä»–çš„é è®¡ç®—åç§»é‡â€œå‡è£…â€å­˜åœ¨ã€‚\n\n### ç¤ºä¾‹ï¼šç»“åˆ react-window\n```jsx\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { FixedSizeList } from \"react-window\";\n\nconst InfiniteVirtualScroll = () => {\n  const [items, setItems] = useState([]);\n  const [hasMore, setHasMore] = useState(true);\n  const listRef = useRef(null);\n\n  const fetchData = async (startIndex) => {\n    const response = await new Promise((resolve) =>\n      setTimeout(() => resolve(Array(100).fill(`Item ${startIndex}`)), 1000)\n    );\n    setItems((prev) => [...prev, ...response]);\n    if (items.length + response.length >= 500) setHasMore(false);\n  };\n\n  useEffect(() => {\n    fetchData(0);\n  }, []);\n\n  const Row = ({ index, style }) => (\n    <div style={style}>\n      {items[index] || \"Loading...\"}\n    </div>\n  );\n\n  const loadMoreItems = () => {\n    if (hasMore) fetchData(items.length);\n  };\n\n  return (\n    <FixedSizeList\n      height={400}\n      width={300}\n      itemCount={hasMore ? items.length + 1 : items.length}\n      itemSize={50}\n      onItemsRendered={({ visibleStopIndex }) => {\n        if (visibleStopIndex >= items.length - 10 && hasMore) loadMoreItems();\n      }}\n      ref={listRef}\n    >\n      {Row}\n    </FixedSizeList>\n  );\n};\n\nexport default InfiniteVirtualScroll;\n```\n\n### å° Tips\n- **é¢„åŠ è½½**ï¼šè®¾ç½® `itemCount` æ¯”å®é™…å¤šä¸€ç‚¹ï¼Œè§¦å‘åŠ è½½æ—¶ç”¨æˆ·ä¸ä¼šå¯Ÿè§‰ç©ºç™½ã€‚\n- **åŠ¨æ€é«˜åº¦**ï¼šå¦‚æœåˆ—è¡¨é¡¹é«˜åº¦ä¸å›ºå®šï¼Œç”¨ `VariableSizeList` æ›¿ä»£ `FixedSizeList`ã€‚\n- **æ»šåŠ¨æ¢å¤**ï¼šç”¨ `listRef.current.scrollToItem(index)` å®ç°ç‰¹å®šä½ç½®è·³è½¬ã€‚\n\n---\n\n## ä¸ React ç”Ÿæ€ç»“åˆï¼šTanStack Query\n\nå¦‚æœä½ çš„é¡¹ç›®ç”¨åˆ°äº†æ•°æ®è·å–åº“ï¼Œæ¯”å¦‚ `TanStack Query`ï¼ˆå‰èº«æ˜¯ `React Query`ï¼‰ï¼Œæ— é™æ»šåŠ¨å¯ä»¥æ›´ç®€å•ã€‚å®ƒå†…ç½®äº†åˆ†é¡µæ”¯æŒï¼Œé…åˆ `useInfiniteQuery` èƒ½çœä¸å°‘ä»£ç ï¼š\n\n```jsx\nimport React from \"react\";\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\n\nconst InfiniteScrollQuery = () => {\n  const fetchItems = async ({ pageParam = 1 }) => {\n    const response = await new Promise((resolve) =>\n      setTimeout(() => resolve(Array(10).fill(`Item from page ${pageParam}`)), 1000)\n    );\n    return { data: response, nextPage: pageParam + 1 };\n  };\n\n  const {\n    data,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n  } = useInfiniteQuery({\n    queryKey: [\"items\"],\n    queryFn: fetchItems,\n    getNextPageParam: (lastPage) => (lastPage.nextPage <= 5 ? lastPage.nextPage : undefined),\n  });\n\n  const handleScroll = (e) => {\n    const { scrollTop, scrollHeight, clientHeight } = e.target;\n    if (scrollTop + clientHeight >= scrollHeight - 200 && hasNextPage && !isFetchingNextPage) {\n      fetchNextPage();\n    }\n  };\n\n  return (\n    <div\n      onScroll={handleScroll}\n      style={{ height: \"400px\", overflowY: \"auto\", border: \"1px solid #ccc\" }}\n    >\n      {data?.pages.map((page, i) =>\n        page.data.map((item, j) => (\n          <div key={`${i}-${j}`} style={{ padding: \"20px\", borderBottom: \"1px solid #eee\" }}>\n            {item}\n          </div>\n        ))\n      )}\n      {isFetchingNextPage && <p>Loading...</p>}\n      {!hasNextPage && <p>åˆ°åº•å•¦ï¼å»å†™ç‚¹ä»£ç å§âœï¸</p>}\n    </div>\n  );\n};\n\nexport default InfiniteScrollQuery;\n```\n\n### å° Tips\n- **ç¼“å­˜ä¼˜åŒ–**ï¼š`TanStack Query` è‡ªå¸¦ç¼“å­˜ï¼Œé‡å¤è¯·æ±‚ç›´æ¥èµ°å†…å­˜ï¼Œçœæµé‡ã€‚\n- **é”™è¯¯é‡è¯•**ï¼šè®¾ç½® `retry: 3`ï¼Œè‡ªåŠ¨é‡è¯•å¤±è´¥è¯·æ±‚ã€‚\n\n---\n\n## æœ€ä½³å®è·µï¼šæ‰“é€ ä¸æ»‘æ— é™æ»šåŠ¨\n\nå¥½äº†ï¼ŒæŠ€æœ¯è®²äº†ä¸€å †ï¼Œæ¥ä¸‹æ¥æ˜¯å®æˆ˜ç»éªŒæ€»ç»“ã€‚è¿™äº›æœ€ä½³å®è·µèƒ½è®©ä½ çš„æ— é™æ»šåŠ¨ä»â€œèƒ½ç”¨â€å˜æˆâ€œçœŸé¦™â€ï¼š\n\n1. **åŠ è½½çŠ¶æ€çš„è‰ºæœ¯**\n   - æ˜¾ç¤ºä¸€ä¸ªéª¨æ¶å±ï¼ˆSkeletonï¼‰è€Œä¸æ˜¯ç®€å•çš„â€œLoading...â€ï¼Œç”¨æˆ·ä¼šè§‰å¾—æ›´å¿«ã€‚\n   - **Tips**: ç”¨ CSS åŠ¨ç”»åŠ æŒï¼Œæ¯”å¦‚ `@keyframes pulse`ï¼Œè®©éª¨æ¶å±â€œå‘¼å¸â€èµ·æ¥ã€‚\n\n2. **é”™è¯¯å¤„ç†ä¸èƒ½å°‘**\n   - API æŒ‚äº†æ€ä¹ˆåŠï¼ŸåŠ ä¸ª `try-catch`ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªâ€œé‡è¯•â€æŒ‰é’®ã€‚\n   - **Tips**: ç”¨ React çš„ `ErrorBoundary` ç»„ä»¶æ•è·æ¸²æŸ“é”™è¯¯ï¼Œé¿å…æ•´ä¸ªåˆ—è¡¨å´©æ‰ã€‚\n\n3. **æ€§èƒ½ä¼˜åŒ–æ˜¯ç‹é“**\n   - ç”¨ `useMemo` ç¼“å­˜å¤§æ•°æ®åˆ—è¡¨ï¼Œé¿å…é‡å¤æ¸²æŸ“ã€‚\n   - **Tips**: å¦‚æœæ•°æ®ä¸å˜ï¼Œ`useCallback` åŒ…è£¹ `fetchData`ï¼Œé˜²æ­¢ä¸å¿…è¦çš„å‡½æ•°é‡å»ºã€‚\n   - **è¿›é˜¶ä¼˜åŒ–**ï¼šç”¨ `React.memo` åŒ…è£¹åˆ—è¡¨é¡¹ç»„ä»¶ï¼Œå‡å°‘ä¸å¿…è¦çš„å­ç»„ä»¶é‡æ¸²æŸ“ã€‚\n\n4. **ç”¨æˆ·ä½“éªŒçš„ç»†èŠ‚**\n   - åŠ ä¸ªâ€œå›åˆ°é¡¶éƒ¨â€æŒ‰é’®ï¼Œç”¨æˆ·åˆ·å¤ªæ·±ä¹Ÿèƒ½è½»æ¾å›æ¥ã€‚\n   - **Tips**: ç”¨ `scrollTo({ top: 0, behavior: \"smooth\" })` å®ç°å¹³æ»‘æ»šåŠ¨ï¼Œåˆ«è®©ç”¨æˆ·æ™•è½¦ã€‚\n   - **åŠ è½½åŠ¨ç”»**ï¼šç”¨ `react-spinners` è¿™æ ·çš„åº“ï¼ŒåŠ ä¸ªç‚«é…·çš„åŠ è½½æ•ˆæœã€‚\n\n5. **èŠ‚æµä¸é˜²æŠ–**\n   - ä¸ç®¡ç”¨å“ªç§æ–¹æ¡ˆï¼ŒåŠ è½½é€»è¾‘æœ€å¥½åŠ ä¸ªèŠ‚æµï¼ˆ`throttle`ï¼‰ï¼Œé¿å…çŸ­æ—¶é—´å†…é‡å¤è¯·æ±‚ã€‚\n   - **Tips**: èŠ‚æµæ—¶é—´è®¾ä¸º 300msï¼Œæ—¢çµæ•åˆä¸æµªè´¹ã€‚\n\n6. **SEO è€ƒè™‘**\n   - å¦‚æœæ˜¯ SSR é¡¹ç›®ï¼Œç¡®ä¿é¦–å±æ•°æ®åœ¨æœåŠ¡ç«¯æ¸²æŸ“å¥½ï¼Œé…åˆ `Intersection Observer` åŠ è½½åç»­å†…å®¹ã€‚\n   - **Tips**: ç”¨ `next/dynamic` åŠ¨æ€å¯¼å…¥æ— é™æ»šåŠ¨ç»„ä»¶ï¼Œé¿å…é˜»å¡é¦–å±ã€‚\n\n---\n\n## è¸©å‘æ—¥è®°ï¼šæˆ‘æ›¾æ‰è¿‡çš„å‘\n\n1. **æ»šåŠ¨äº‹ä»¶æ²¡è§£ç»‘**  \n   ç»„ä»¶å¸è½½æ—¶å¿˜äº†ç§»é™¤ `scroll` ç›‘å¬ï¼Œç»“æœå†…å­˜æ³„æ¼ï¼Œé¡µé¢å¡æˆ PPTã€‚è§£å†³åŠæ³•ï¼šè€è€å®å®å†™ `useEffect` çš„æ¸…ç†å‡½æ•°ã€‚\n\n2. **æ•°æ®é‡å¤è¿½åŠ **  \n   å¿˜äº†æ¸…ç©ºä¸Šä¸€é¡µæ•°æ®ï¼Œåˆ—è¡¨é‡Œå…¨æ˜¯é‡å¤é¡¹ã€‚æ•™è®­ï¼šåŠ è½½å‰æ£€æŸ¥ `page` å’Œå·²æœ‰æ•°æ®æ˜¯å¦åŒ¹é…ã€‚\n\n3. **åŠ è½½å¤ªå¿«ï¼Œç”¨æˆ·æ‡µäº†**  \n   æ•°æ®æ¥å¾—å¤ªå¿«ï¼Œç”¨æˆ·è¿˜æ²¡ååº”è¿‡æ¥å°±åˆ·å®Œäº†ã€‚åŠ ä¸ª 500ms çš„å»¶è¿Ÿï¼ˆä»…é™å¼€å‘ç¯å¢ƒï¼‰ï¼Œæ¨¡æ‹ŸçœŸå®ç½‘ç»œï¼Œè®©è‡ªå·±æœ‰æ—¶é—´æ¬£èµåŠ¨ç”»ã€‚\n\n4. **MutationObserver æ— é™å¾ªç¯**  \n   åœ¨å›è°ƒé‡Œç›´æ¥ä¿®æ”¹ DOMï¼Œå¯¼è‡´ `MutationObserver` å†æ¬¡è§¦å‘ï¼Œæ­»å¾ªç¯å¡æ­»ã€‚è§£å†³ï¼šç”¨æ ‡å¿—ä½ï¼ˆ`let isProcessing = false`ï¼‰æ§åˆ¶ã€‚\n\n---\n\n## ç»“è¯­ï¼šæ— é™æ»šåŠ¨çš„æœªæ¥\n\næ— é™æ»šåŠ¨çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™æ˜¯ä¸ªæŠ€æœ¯ä¸ä½“éªŒçš„å¹³è¡¡æ¸¸æˆã€‚æ— è®ºæ˜¯ç”¨ä¼ ç»Ÿçš„ `scroll` äº‹ä»¶ï¼Œè¿˜æ˜¯ä¼˜é›…çš„ `Intersection Observer`ï¼Œç”šè‡³ `MutationObserver` çš„å¦ç±»æ€è·¯ï¼Œå†åˆ°è™šæ‹ŸåŒ–å’Œ TanStack Query çš„åŠ æŒï¼Œæ ¸å¿ƒéƒ½åœ¨äºâ€œè®©ç”¨æˆ·çˆ½â€ã€‚ä¸‹æ¬¡å†™ä»£ç æ—¶ï¼Œä¸å¦¨å¤šæƒ³æƒ³ï¼šè¿™ä¸ªåˆ—è¡¨èƒ½ä¸èƒ½å†ä¸æ»‘ä¸€ç‚¹ï¼Ÿè¿™ä¸ªåŠ è½½åŠ¨ç”»èƒ½ä¸èƒ½å†é…·ä¸€ç‚¹ï¼Ÿ\n\nå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ç»™ä½ ä¸€äº›å¯å‘ï¼æœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…æ›´å¥½çš„æƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºé‡Œè·Ÿæˆ‘å” å” ã€‚ğŸ‘‡ ç°åœ¨ï¼Œå»è¯•è¯•æ— é™æ»šåŠ¨å§ï¼Œåˆ«è®©ä½ çš„ç”¨æˆ·ç¿»é¡µç¿»åˆ°æ‰‹æŠ½ç­‹ï¼ğŸ˜„\n\n---\n",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)a(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of y(e))!g.call(n,c)&&c!==r&&a(n,c,{get:()=>e[c],enumerable:!(s=E(e,c))||s.enumerable});return n};var f=(n,e,r)=>(r=n!=null?p(F(n)):{},d(e||!n||!n.__esModule?a(r,\"default\",{value:n,enumerable:!0}):r,n)),m=n=>d(a({},\"__esModule\",{value:!0}),n);var i=u((v,o)=>{o.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>x});var l=f(i()),x={type:\"Post\",title:\"\\u63A2\\u7D22 React \\u4E2D\\u7684\\u65E0\\u9650\\u6EDA\\u52A8\\u6280\\u672F\\uFF1A\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u7684\\u6DF1\\u5EA6\\u4E4B\\u65C5\",date:\"2024-03-16\",description:\"\\u6DF1\\u5165\\u5256\\u6790 React \\u4E2D\\u7684\\u65E0\\u9650\\u6EDA\\u52A8\\u6280\\u672F\\uFF0C\\u6DB5\\u76D6\\u5B9E\\u73B0\\u539F\\u7406\\u3001\\u591A\\u79CD\\u65B9\\u6848\\u5BF9\\u6BD4\\uFF08\\u5305\\u62EC MutationObserver\\uFF09\\u3001\\u4EE3\\u7801\\u793A\\u4F8B\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u52A9\\u4F60\\u6253\\u9020\\u4E1D\\u6ED1\\u7684\\u7528\\u6237\\u4F53\\u9A8C\\u3002\",keywords:\"React, \\u65E0\\u9650\\u6EDA\\u52A8, Intersection Observer, MutationObserver, \\u524D\\u7AEF\\u4F18\\u5316, \\u6027\\u80FD\\u4F18\\u5316, useEffect, useRef, TanStack Query\",author:\"\\u6653\\u9F99\",image:\"/images/hero/infinite-scroll.jpg\",tags:[\"React\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"React\"};function t(n){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:[\"\\u563F\\uFF0C\\u524D\\u7AEF\\u7684\\u5C0F\\u4F19\\u4F34\\u4EEC\\uFF01\\u{1F44B} \\u4F60\\u6709\\u6CA1\\u6709\\u9047\\u5230\\u8FC7\\u8FD9\\u6837\\u7684\\u573A\\u666F\\uFF1A\\u7528\\u6237\\u5728\\u4E00\\u4E2A\\u957F\\u957F\\u7684\\u5217\\u8868\\u91CC\\u7FFB\\u9875\\u7FFB\\u5230\\u624B\\u9178\\uFF0C\\u5FC3\\u91CC\\u9ED8\\u9ED8\\u5410\\u69FD\\u201C\\u80FD\\u4E0D\\u80FD\\u76F4\\u63A5\\u6ED1\\u5230\\u5E95\\u554A\\u201D\\uFF1F\\u6216\\u8005\\u4F60\\u81EA\\u5DF1\\u5237\\u793E\\u4EA4\\u5A92\\u4F53\\u65F6\\uFF0C\\u6C89\\u8FF7\\u4E8E\\u90A3\\u79CD\\u201C\\u6C38\\u8FDC\\u5237\\u4E0D\\u5B8C\\u201D\\u7684\\u5FEB\\u611F\\uFF1F\\u8FD9\\u5C31\\u662F\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u9B45\\u529B\\uFF01\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u8981\\u4E00\\u8D77\\u6DF1\\u5165 React \\u7684\\u4E16\\u754C\\uFF0C\\u804A\\u804A\\u5982\\u4F55\\u7528\\u4EE3\\u7801\\u5B9E\\u73B0\\u8FD9\\u79CD\\u4E1D\\u6ED1\\u4F53\\u9A8C\\u3002\\u4ECE\\u5E95\\u5C42\\u539F\\u7406\\u5230\\u591A\\u79CD\\u5B9E\\u73B0\\u65B9\\u5F0F\\uFF08\\u5305\\u62EC\\u4E0D\\u592A\\u5E38\\u89C1\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MutationObserver\"})})})}),\"\\uFF09\\uFF0C\\u518D\\u5230\\u8E29\\u5751\\u6307\\u5357\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u4F1A\\u5E26\\u4F60\\u5168\\u9762\\u89E3\\u9501\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u79D8\\u5BC6\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u8FD9\\u573A\\u6280\\u672F\\u5192\\u9669\\u5427\\uFF01\\u{1F680}\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u65E0\\u9650\\u6EDA\\u52A8\\u5B83\\u51ED\\u4EC0\\u4E48\\u8FD9\\u4E48\\u9999\",children:(0,l.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u65E0\\u9650\\u6EDA\\u52A8\\u5B83\\u51ED\\u4EC0\\u4E48\\u8FD9\\u4E48\\u9999\",children:\"\\u4EC0\\u4E48\\u662F\\u65E0\\u9650\\u6EDA\\u52A8\\uFF1F\\u5B83\\u51ED\\u4EC0\\u4E48\\u8FD9\\u4E48\\u9999\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u65E0\\u9650\\u6EDA\\u52A8\\uFF08Infinite Scroll\\uFF09\\u662F\\u4E00\\u79CD\\u52A8\\u6001\\u52A0\\u8F7D\\u5185\\u5BB9\\u7684\\u4EA4\\u4E92\\u6A21\\u5F0F\\u3002\\u5F53\\u7528\\u6237\\u6EDA\\u52A8\\u5230\\u9875\\u9762\\u5E95\\u90E8\\uFF08\\u6216\\u8005\\u67D0\\u4E2A\\u89E6\\u53D1\\u70B9\\uFF09\\u65F6\\uFF0C\\u81EA\\u52A8\\u52A0\\u8F7D\\u66F4\\u591A\\u6570\\u636E\\uFF0C\\u800C\\u4E0D\\u662F\\u8BA9\\u4ED6\\u4EEC\\u624B\\u52A8\\u70B9\\u201C\\u4E0B\\u4E00\\u9875\\u201D\\u3002\\u8FD9\\u79CD\\u65B9\\u5F0F\\u5728 Twitter\\u3001Instagram\\u3001\\u6DD8\\u5B9D\\u8FD9\\u7C7B\\u6570\\u636E\\u91CF\\u5DE8\\u5927\\u7684\\u5E94\\u7528\\u4E2D\\u7B80\\u76F4\\u662F\\u6807\\u914D\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E3A\\u4EC0\\u4E48\\u5B83\\u8FD9\\u4E48\\u53D7\\u6B22\\u8FCE\\uFF1F\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4F60\\u5728\\u8D85\\u5E02\\u4E70\\u4E1C\\u897F\\uFF0C\\u5982\\u679C\\u6BCF\\u6B21\\u53EA\\u80FD\\u62FF\\u4E00\\u5C0F\\u7BEE\\u5B50\\u5546\\u54C1\\uFF0C\\u7136\\u540E\\u8DD1\\u56DE\\u53BB\\u518D\\u62FF\\uFF0C\\u591A\\u9EBB\\u70E6\\u554A\\uFF01\\u65E0\\u9650\\u6EDA\\u52A8\\u5C31\\u50CF\\u8D85\\u5E02\\u91CC\\u90A3\\u4E2A\\u8D85\\u957F\\u7684\\u4F20\\u9001\\u5E26\\uFF0C\\u4E1C\\u897F\\u6E90\\u6E90\\u4E0D\\u65AD\\u5730\\u9001\\u8FC7\\u6765\\uFF0C\\u4F60\\u53EA\\u9700\\u8981\\u7AD9\\u5728\\u539F\\u5730\\u4F38\\u624B\\u62FF\\u5C31\\u884C\\u4E86\\u3002\\u7528\\u6237\\u4F53\\u9A8C\\u63D0\\u5347\\u7684\\u540C\\u65F6\\uFF0C\\u8FD8\\u80FD\\u964D\\u4F4E\\u8BA4\\u77E5\\u8D1F\\u62C5\\uFF0C\\u4F55\\u4E50\\u800C\\u4E0D\\u4E3A\\u5462\\uFF1F\\u{1F60E}\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E0D\\u8FC7\\uFF0C\\u5B9E\\u73B0\\u65E0\\u9650\\u6EDA\\u52A8\\u53EF\\u6CA1\\u90A3\\u4E48\\u7B80\\u5355\\uFF0C\\u5C24\\u5176\\u5728 React \\u8FD9\\u79CD\\u7EC4\\u4EF6\\u5316\\u6846\\u67B6\\u91CC\\uFF0C\\u6211\\u4EEC\\u5F97\\u8003\\u8651\\u6027\\u80FD\\u3001\\u72B6\\u6001\\u7BA1\\u7406\\u3001DOM \\u64CD\\u4F5C\\u7B49\\u4E00\\u5806\\u95EE\\u9898\\u3002\\u522B\\u6025\\uFF0C\\u63A5\\u4E0B\\u6765\\u6211\\u4F1A\\u5E26\\u4F60\\u4E00\\u6B65\\u6B65\\u62C6\\u89E3\\u3002\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u76D1\\u542C--\\u52A0\\u8F7D\",children:(0,l.jsx)(e.a,{href:\"#\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u6838\\u5FC3\\u539F\\u7406\\u76D1\\u542C--\\u52A0\\u8F7D\",children:\"\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u6838\\u5FC3\\u539F\\u7406\\uFF1A\\u76D1\\u542C + \\u52A0\\u8F7D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u6838\\u5FC3\\u601D\\u60F3\\u53EF\\u4EE5\\u7528\\u4E00\\u53E5\\u8BDD\\u6982\\u62EC\\uFF1A\",(0,l.jsx)(e.strong,{children:\"\\u76D1\\u542C\\u7528\\u6237\\u6EDA\\u52A8\\u4F4D\\u7F6E\\uFF0C\\u5F53\\u9760\\u8FD1\\u5E95\\u90E8\\u65F6\\u89E6\\u53D1\\u6570\\u636E\\u52A0\\u8F7D\"}),\"\\u3002\\u542C\\u8D77\\u6765\\u7B80\\u5355\\uFF0C\\u4F46\\u5B9E\\u9645\\u64CD\\u4F5C\\u8D77\\u6765\\u5C31\\u50CF\\u505A\\u86CB\\u7CD5\\u{1F370}\\u2014\\u2014\\u6750\\u6599\\u5F97\\u914D\\u597D\\uFF0C\\u706B\\u5019\\u5F97\\u62FF\\u634F\\u51C6\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"1-\\u5982\\u4F55\\u76D1\\u542C\\u6EDA\\u52A8\",children:(0,l.jsx)(e.a,{href:\"#1-\\u5982\\u4F55\\u76D1\\u542C\\u6EDA\\u52A8\",children:\"1. \\u5982\\u4F55\\u76D1\\u542C\\u6EDA\\u52A8\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5728\\u6D4F\\u89C8\\u5668\\u91CC\\uFF0C\\u6211\\u4EEC\\u6709\\u51E0\\u79CD\\u65B9\\u6CD5\\u53EF\\u4EE5\\u76D1\\u542C\\u6EDA\\u52A8\\u4E8B\\u4EF6\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4F20\\u7EDF\\u65B9\\u5F0F\"}),\"\\uFF1A\\u76D1\\u542C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"window\"})})})}),\" \\u6216\\u67D0\\u4E2A\\u5BB9\\u5668\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scrollTop\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scrollHeight\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"clientHeight\"})})})}),\" \\u8BA1\\u7B97\\u662F\\u5426\\u5230\\u5E95\\u90E8\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u73B0\\u4EE3\\u65B9\\u5F0F\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Intersection Observer API\"})})})}),\"\\uFF0C\\u4F18\\u96C5\\u5730\\u68C0\\u6D4B\\u67D0\\u4E2A\\u5143\\u7D20\\u662F\\u5426\\u8FDB\\u5165\\u89C6\\u53E3\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u53E6\\u7C7B\\u73A9\\u6CD5\"}),\"\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MutationObserver\"})})})}),\" \\u76D1\\u542C DOM \\u53D8\\u5316\\uFF0C\\u52A8\\u6001\\u5224\\u65AD\\u5217\\u8868\\u662F\\u5426\\u9700\\u8981\\u52A0\\u8F7D\\uFF08\\u540E\\u9762\\u4F1A\\u8BE6\\u89E3\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"2-\\u4EC0\\u4E48\\u65F6\\u5019\\u52A0\\u8F7D\",children:(0,l.jsx)(e.a,{href:\"#2-\\u4EC0\\u4E48\\u65F6\\u5019\\u52A0\\u8F7D\",children:\"2. \\u4EC0\\u4E48\\u65F6\\u5019\\u52A0\\u8F7D\\uFF1F\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u52A0\\u8F7D\\u7684\\u65F6\\u673A\\u5F88\\u5173\\u952E\\u3002\\u592A\\u65E9\\u52A0\\u8F7D\\uFF0C\\u7528\\u6237\\u8FD8\\u6CA1\\u51C6\\u5907\\u597D\\uFF1B\\u592A\\u665A\\u52A0\\u8F7D\\uFF0C\\u7528\\u6237\\u4F1A\\u770B\\u5230\\u7A7A\\u767D\\uFF0C\\u4F53\\u9A8C\\u5D29\\u584C\\u3002\\u901A\\u5E38\\uFF0C\\u6211\\u4EEC\\u4F1A\\u5728\\u8DDD\\u79BB\\u5E95\\u90E8\\u8FD8\\u6709\\u4E00\\u6BB5\\u8DDD\\u79BB\\uFF08\\u6BD4\\u5982 200px\\uFF09\\u65F6\\u89E6\\u53D1\\u52A0\\u8F7D\\uFF0C\\u8FD9\\u5C31\\u50CF\\u4F60\\u5728\\u8DD1\\u6B65\\u673A\\u4E0A\\u8DD1\\u6B65\\uFF0C\\u4F20\\u9001\\u5E26\\u5F97\\u63D0\\u524D\\u52A0\\u901F\\uFF0C\\u4E0D\\u80FD\\u7B49\\u4F60\\u649E\\u5899\\u4E86\\u624D\\u52A8\\u3002\"}),`\n`,(0,l.jsx)(e.h3,{id:\"3-\\u6570\\u636E\\u600E\\u4E48\\u7BA1\",children:(0,l.jsx)(e.a,{href:\"#3-\\u6570\\u636E\\u600E\\u4E48\\u7BA1\",children:\"3. \\u6570\\u636E\\u600E\\u4E48\\u7BA1\\uFF1F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"React  React \\u7684\\u72B6\\u6001\\u7BA1\\u7406\\u662F\\u5173\\u952E\\u3002\\u6211\\u4EEC\\u9700\\u8981\\u7EF4\\u62A4\\u4E00\\u4E2A\\u6570\\u636E\\u5217\\u8868\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"state\"})})})}),\"\\uFF09\\uFF0C\\u6BCF\\u6B21\\u52A0\\u8F7D\\u65B0\\u6570\\u636E\\u65F6\\u8FFD\\u52A0\\u8FDB\\u53BB\\uFF0C\\u8FD8\\u8981\\u5904\\u7406\\u52A0\\u8F7D\\u72B6\\u6001\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"isLoading\"})})})}),\"\\uFF09\\u548C\\u201C\\u5230\\u5E95\\u4E86\\u6CA1\\u201D\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"hasMore\"})})})}),\"\\uFF09\\u7684\\u6807\\u5FD7\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5B9E\\u73B0\\u65B9\\u6848-1\\u4F20\\u7EDF\\u7684-scroll-\\u4E8B\\u4EF6\\u76D1\\u542C\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u73B0\\u65B9\\u6848-1\\u4F20\\u7EDF\\u7684-scroll-\\u4E8B\\u4EF6\\u76D1\\u542C\",children:\"\\u5B9E\\u73B0\\u65B9\\u6848 1\\uFF1A\\u4F20\\u7EDF\\u7684 Scroll \\u4E8B\\u4EF6\\u76D1\\u542C\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5148\\u6765\\u770B\\u6700\\u539F\\u59CB\\u7684\\u5B9E\\u73B0\\u65B9\\u5F0F\\uFF0C\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\u3002\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u5B9E\\u73B0\\u4E00\\u4E2A\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u6587\\u7AE0\\u5217\\u8868\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useEffect, useRef } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" InfiniteScrollBasic\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"page\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"isLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"hasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setHasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" containerRef\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"pageNum\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6A21\\u62DF API \\u8C03\\u7528\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Array\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Item from page ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"pageNum\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"prev, \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"response]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (pageNum \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setHasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF\\u6570\\u636E\\u5230\\u5934\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleScroll\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" container\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" containerRef.current;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"container) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"scrollTop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"scrollHeight\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"clientHeight\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" container;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (scrollTop \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" clientHeight \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" scrollHeight \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"isLoading \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hasMore) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(page);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [page]);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" container\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" containerRef.current;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    container.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"scroll\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", handleScroll);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" container.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"removeEventListener\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"scroll\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", handleScroll);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [isLoading, hasMore]);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      ref\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{containerRef}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ height: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"400px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", overflowY: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"auto\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", border: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1px solid #ccc\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    >\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {items.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{index} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ padding: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"20px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", borderBottom: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1px solid #eee\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}>\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          {item}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {isLoading \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Loading...</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"hasMore \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u5230\\u5E95\\u5566\\uFF01\\u522B\\u5237\\u4E86\\uFF0C\\u53BB\\u559D\\u676F\\u5496\\u5561\\u5427\\u2615</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" InfiniteScrollBasic;\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5256\\u6790\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5256\\u6790\",children:\"\\u4EE3\\u7801\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6EDA\\u52A8\\u76D1\\u542C\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scrollTop + clientHeight >= scrollHeight - 200\"})})})}),\" \\u5224\\u65AD\\u662F\\u5426\\u63A5\\u8FD1\\u5E95\\u90E8\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"-200\"})})})}),\" \\u662F\\u63D0\\u524D\\u52A0\\u8F7D\\u7684\\u7F13\\u51B2\\u533A\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u72B6\\u6001\\u7BA1\\u7406\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"items\"})})})}),\" \\u5B58\\u6570\\u636E\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"page\"})})})}),\" \\u63A7\\u5236\\u5206\\u9875\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"isLoading\"})})})}),\" \\u9632\\u91CD\\u590D\\u8BF7\\u6C42\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"hasMore\"})})})}),\" \\u5224\\u65AD\\u662F\\u5426\\u8FD8\\u6709\\u6570\\u636E\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u76D1\\u542C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"page\"})})})}),\" \\u53D8\\u5316\\u52A0\\u8F7D\\u6570\\u636E\\uFF0C\\u5E76\\u7ED1\\u5B9A/\\u89E3\\u7ED1\\u6EDA\\u52A8\\u4E8B\\u4EF6\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9632\\u6296\\u4F18\\u5316\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\u89E6\\u53D1\\u9891\\u7387\\u5F88\\u9AD8\\uFF0C\\u5EFA\\u8BAE\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"lodash.debounce\"})})})}),\" \\u5305\\u88F9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"handleScroll\"})})})}),\"\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"debounce(handleScroll, 100)\"})})})}),\"\\uFF0C\\u7701\\u5F97 CPU \\u88AB\\u69A8\\u5E72\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F13\\u51B2\\u8DDD\\u79BB\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"-200\"})})})}),\" \\u4E0D\\u662F\\u6B7B\\u7684\\uFF0C\\u53EF\\u4EE5\\u6839\\u636E\\u5185\\u5BB9\\u9AD8\\u5EA6\\u52A8\\u6001\\u8C03\\u6574\\uFF0C\\u6BD4\\u5982\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"container.clientHeight * 0.5\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u952E\\u76D8\\u5BFC\\u822A\"}),\"\\uFF1A\\u522B\\u5FD8\\u4E86\\u652F\\u6301\\u952E\\u76D8\\u6EDA\\u52A8\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ArrowDown\"})})})}),\"\\uFF09\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"onKeyDown\"})})})}),\" \\u4E8B\\u4EF6\\u589E\\u5F3A\\u53EF\\u8BBF\\u95EE\\u6027\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4F18\\u7F3A\\u70B9\",children:(0,l.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u7B80\\u5355\\u76F4\\u89C2\\uFF0C\\u517C\\u5BB9\\u6027\\u597D\\uFF0C\\u8001\\u6D4F\\u89C8\\u5668\\u4E5F\\u80FD\\u8DD1\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u6027\\u80FD\\u4E0D\\u4F73\\uFF0C\\u9891\\u7E41\\u89E6\\u53D1 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\u4F1A\\u5361\\u987F\\uFF0C\\u5C24\\u5176\\u5728\\u4F4E\\u7AEF\\u8BBE\\u5907\\u4E0A\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5B9E\\u73B0\\u65B9\\u6848-2intersection-observer-\\u7684\\u4F18\\u96C5\\u89E3\\u6CD5\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u73B0\\u65B9\\u6848-2intersection-observer-\\u7684\\u4F18\\u96C5\\u89E3\\u6CD5\",children:\"\\u5B9E\\u73B0\\u65B9\\u6848 2\\uFF1AIntersection Observer \\u7684\\u4F18\\u96C5\\u89E3\\u6CD5\"})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Intersection Observer\"})})})}),\" \\u662F\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u91CC\\u7684\\u201C\\u4FA6\\u5BDF\\u5175\\u201D\\uFF0C\\u80FD\\u9AD8\\u6548\\u76D1\\u542C\\u5143\\u7D20\\u662F\\u5426\\u8FDB\\u5165\\u89C6\\u53E3\\u3002\\u6211\\u4EEC\\u7528\\u5B83\\u5B9E\\u73B0\\u65E0\\u9650\\u6EDA\\u52A8\\uFF0C\\u65E2\\u7701\\u6027\\u80FD\\u53C8\\u4F18\\u96C5\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useEffect, useRef } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" InfiniteScrollObserver\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"page\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"isLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"hasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setHasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" observerRef\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" loadMoreRef\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"pageNum\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Array\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Item from page ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"pageNum\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"prev, \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"response]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (pageNum \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setHasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(page);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [page]);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"loadMoreRef.current) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    observerRef.current \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" IntersectionObserver\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"entries\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" target\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" entries[\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (target.isIntersecting \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"isLoading \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hasMore) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"          setPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      { rootMargin: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"200px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    observerRef.current.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"observe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(loadMoreRef.current);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" observerRef.current.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"disconnect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [isLoading, hasMore]);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ height: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"400px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", overflowY: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"auto\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", border: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1px solid #ccc\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {items.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{index} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ padding: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"20px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", borderBottom: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1px solid #eee\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}>\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          {item}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {isLoading \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Loading...</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"isLoading \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hasMore \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{loadMoreRef} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ height: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"20px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          {\"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"/* \\u89E6\\u53D1\\u52A0\\u8F7D\\u7684\\u54E8\\u5175\\u5143\\u7D20 */\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      )}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"hasMore \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u5230\\u5E95\\u5566\\uFF01\\u53BB\\u6478\\u6478\\u9C7C\\u5427\\u{1F41F}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" InfiniteScrollObserver;\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5256\\u6790-1\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5256\\u6790-1\",children:\"\\u4EE3\\u7801\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u54E8\\u5175\\u5143\\u7D20\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"loadMoreRef\"})})})}),\" \\u662F\\u4E00\\u4E2A\\u7A7A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"div\"})})})}),\"\\uFF0C\\u5F53\\u5B83\\u8FDB\\u5165\\u89C6\\u53E3\\u65F6\\u89E6\\u53D1\\u52A0\\u8F7D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Intersection Observer\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'rootMargin: \"200px\"'})})})}),\" \\u8BBE\\u7F6E\\u63D0\\u524D\\u52A0\\u8F7D\\u8DDD\\u79BB\\uFF0C\\u6BD4 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\u66F4\\u7CBE\\u786E\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u5DE5\\u4F5C\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"disconnect\"})})})}),\" \\u786E\\u4FDD\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u91CA\\u653E\\u8D44\\u6E90\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-1\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-1\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u52A8\\u6001\\u54E8\\u5175\"}),\"\\uFF1A\\u5982\\u679C\\u5217\\u8868\\u9879\\u9AD8\\u5EA6\\u4E0D\\u56FA\\u5B9A\\uFF0C\\u53EF\\u4EE5\\u628A\\u54E8\\u5175\\u653E\\u5728\\u6700\\u540E\\u4E00\\u9879\\u4E0A\\uFF0C\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"items.length - 1\"})})})}),\" \\u7684\\u5143\\u7D20\\u7ED1\\u5B9A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ref\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6D4F\\u89C8\\u5668\\u517C\\u5BB9\"}),\"\\uFF1A\\u8001\\u6D4F\\u89C8\\u5668\\u53EF\\u80FD\\u4E0D\\u652F\\u6301 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Intersection Observer\"})})})}),\"\\uFF0C\\u53EF\\u4EE5\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"polyfill\"})})})}),\"\\uFF08\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"intersection-observer\"})})})}),\" \\u5305\\uFF09\\u515C\\u5E95\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u6280\\u5DE7\"}),\"\\uFF1A\\u5728\\u5F00\\u53D1\\u65F6\\uFF0C\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"threshold: 0.1\"})})})}),\"\\uFF0810% \\u53EF\\u89C1\\u65F6\\u89E6\\u53D1\\uFF09\\uFF0C\\u66F4\\u5BB9\\u6613\\u89C2\\u5BDF\\u6548\\u679C\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4F18\\u7F3A\\u70B9-1\",children:(0,l.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-1\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u6027\\u80FD\\u70B8\\u88C2\\uFF0C\\u6BD4 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\u7701\\u8D44\\u6E90\\uFF0C\\u6D4F\\u89C8\\u5668\\u539F\\u751F\\u652F\\u6301\\uFF0C\\u4E1D\\u6ED1\\u6D41\\u7545\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u4EE3\\u7801\\u7A0D\\u590D\\u6742\\uFF0C\\u5B66\\u4E60\\u6210\\u672C\\u7565\\u9AD8\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5B9E\\u73B0\\u65B9\\u6848-3mutationobserver-\\u7684\\u53E6\\u7C7B\\u601D\\u8DEF\",children:(0,l.jsx)(e.a,{href:\"#\\u5B9E\\u73B0\\u65B9\\u6848-3mutationobserver-\\u7684\\u53E6\\u7C7B\\u601D\\u8DEF\",children:\"\\u5B9E\\u73B0\\u65B9\\u6848 3\\uFF1AMutationObserver \\u7684\\u53E6\\u7C7B\\u601D\\u8DEF\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u7684\\u5217\\u8868\\u5185\\u5BB9\\u4F1A\\u52A8\\u6001\\u53D8\\u5316\\uFF08\\u6BD4\\u5982\\u7528\\u6237\\u64CD\\u4F5C\\u6DFB\\u52A0/\\u5220\\u9664\\u9879\\uFF09\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Intersection Observer\"})})})}),\" \\u53EF\\u80FD\\u4E0D\\u591F\\u7075\\u6D3B\\u3002\\u8FD9\\u65F6\\u5019\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MutationObserver\"})})})}),\" \\u5C31\\u6D3E\\u4E0A\\u7528\\u573A\\u4E86\\u3002\\u5B83\\u80FD\\u76D1\\u542C DOM \\u6811\\u7684\\u53D8\\u52A8\\uFF0C\\u5F53\\u65B0\\u8282\\u70B9\\u52A0\\u5165\\u65F6\\u68C0\\u67E5\\u662F\\u5426\\u9700\\u8981\\u52A0\\u8F7D\\u66F4\\u591A\\u6570\\u636E\\u3002\\u542C\\u8D77\\u6765\\u6709\\u70B9\\u201C\\u9ED1\\u9B54\\u6CD5\\u201D\\uFF0C\\u4F46\\u5728\\u7279\\u5B9A\\u573A\\u666F\\u4E0B\\u5F88\\u5B9E\\u7528\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useEffect, useRef } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" InfiniteScrollMutation\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"page\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"isLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"hasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setHasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" containerRef\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" mutationRef\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"pageNum\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Array\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Item from page ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"pageNum\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"prev, \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"response]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setIsLoading\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (pageNum \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setHasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(page);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [page]);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" container\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" containerRef.current;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"container) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    mutationRef.current \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" MutationObserver\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"scrollTop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"scrollHeight\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"clientHeight\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" container;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (scrollTop \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" clientHeight \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" scrollHeight \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"isLoading \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hasMore) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prev \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    mutationRef.current.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"observe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(container, {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      childList: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      subtree: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" mutationRef.current.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"disconnect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, [isLoading, hasMore]);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      ref\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{containerRef}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ height: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"400px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", overflowY: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"auto\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", border: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1px solid #ccc\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    >\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {items.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{index} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ padding: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"20px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", borderBottom: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1px solid #eee\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}>\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          {item}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      ))}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {isLoading \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Loading...</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"hasMore \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u5230\\u5E95\\u5566\\uFF01\\u53BB\\u559D\\u676F\\u8336\\u4F11\\u606F\\u4E0B\\u5427\\u{1F375}</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" InfiniteScrollMutation;\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4EE3\\u7801\\u5256\\u6790-2\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u5256\\u6790-2\",children:\"\\u4EE3\\u7801\\u5256\\u6790\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"MutationObserver\"}),\"\\uFF1A\\u76D1\\u542C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"container\"})})})}),\" \\u7684\\u5B50\\u8282\\u70B9\\u53D8\\u5316\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"childList: true\"})})})}),\"\\uFF09\\uFF0C\\u6BCF\\u6B21 DOM \\u66F4\\u65B0\\u65F6\\u68C0\\u67E5\\u6EDA\\u52A8\\u4F4D\\u7F6E\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u89E6\\u53D1\\u903B\\u8F91\"}),\"\\uFF1A\\u7ED3\\u5408\\u6EDA\\u52A8\\u4F4D\\u7F6E\\u5224\\u65AD\\uFF0C\\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\u7C7B\\u4F3C\\uFF0C\\u4F46\\u53EA\\u5728 DOM \\u53D8\\u5316\\u65F6\\u8FD0\\u884C\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6E05\\u7406\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"disconnect\"})})})}),\" \\u91CA\\u653E\\u76D1\\u542C\\u5668\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-2\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-2\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9002\\u7528\\u573A\\u666F\"}),\"\\uFF1A\\u9002\\u5408\\u52A8\\u6001\\u5217\\u8868\\uFF0C\\u6BD4\\u5982\\u5B9E\\u65F6\\u804A\\u5929\\u5E94\\u7528\\uFF0C\\u7528\\u6237\\u53D1\\u7684\\u6D88\\u606F\\u4F1A\\u9891\\u7E41\\u66F4\\u65B0 DOM\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u6CE8\\u610F\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MutationObserver\"})})})}),\" \\u56DE\\u8C03\\u53EF\\u80FD\\u9891\\u7E41\\u89E6\\u53D1\\uFF0C\\u5EFA\\u8BAE\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"requestAnimationFrame\"})})})}),\" \\u4F18\\u5316\\u68C0\\u67E5\\u903B\\u8F91\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8C03\\u8BD5\\u795E\\u5668\"}),\"\\uFF1A\\u5728\\u56DE\\u8C03\\u91CC\\u52A0 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"console.log(mutations)\"})})})}),\"\\uFF0C\\u770B\\u770B\\u6BCF\\u6B21 DOM \\u53D8\\u5316\\u7684\\u5177\\u4F53\\u5185\\u5BB9\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u4F18\\u7F3A\\u70B9-2\",children:(0,l.jsx)(e.a,{href:\"#\\u4F18\\u7F3A\\u70B9-2\",children:\"\\u4F18\\u7F3A\\u70B9\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u7075\\u6D3B\\u6027\\u5F3A\\uFF0C\\u9002\\u5408\\u52A8\\u6001\\u5185\\u5BB9\\u573A\\u666F\\uFF0C\\u548C React \\u7684\\u58F0\\u660E\\u5F0F\\u6E32\\u67D3\\u5F88\\u642D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u5B9E\\u73B0\\u590D\\u6742\\uFF0C\\u6027\\u80FD\\u5F00\\u9500\\u6BD4 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Intersection Observer\"})})})}),\" \\u9AD8\\uFF0C\\u4E0D\\u5EFA\\u8BAE\\u5927\\u6570\\u636E\\u91CF\\u573A\\u666F\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u9AD8\\u7EA7\\u73A9\\u6CD5\\u865A\\u62DF\\u5316--\\u65E0\\u9650\\u6EDA\\u52A8\",children:(0,l.jsx)(e.a,{href:\"#\\u9AD8\\u7EA7\\u73A9\\u6CD5\\u865A\\u62DF\\u5316--\\u65E0\\u9650\\u6EDA\\u52A8\",children:\"\\u9AD8\\u7EA7\\u73A9\\u6CD5\\uFF1A\\u865A\\u62DF\\u5316 + \\u65E0\\u9650\\u6EDA\\u52A8\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u7684\\u5217\\u8868\\u6709\\u51E0\\u5343\\u751A\\u81F3\\u51E0\\u4E07\\u6761\\u6570\\u636E\\uFF0C\\u5149\\u9760\\u65E0\\u9650\\u6EDA\\u52A8\\u8FD8\\u4E0D\\u591F\\uFF0CDOM \\u8282\\u70B9\\u592A\\u591A\\u7167\\u6837\\u5361\\u6B7B\\u3002\\u8FD9\\u65F6\\u5019\\uFF0C\\u865A\\u62DF\\u5316\\uFF08Virtualization\\uFF09\\u5C31\\u6D3E\\u4E0A\\u7528\\u573A\\u4E86\\u3002\\u63A8\\u8350\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"react-virtualized\"})})})}),\" \\u6216 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"react-window\"})})})}),\"\\uFF0C\\u5B83\\u4EEC\\u53EA\\u6E32\\u67D3\\u89C6\\u53E3\\u5185\\u7684\\u5143\\u7D20\\uFF0C\\u5176\\u4ED6\\u7684\\u9760\\u8BA1\\u7B97\\u504F\\u79FB\\u91CF\\u201C\\u5047\\u88C5\\u201D\\u5B58\\u5728\\u3002\"]}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u793A\\u4F8B\\u7ED3\\u5408-react-window\",children:(0,l.jsx)(e.a,{href:\"#\\u793A\\u4F8B\\u7ED3\\u5408-react-window\",children:\"\\u793A\\u4F8B\\uFF1A\\u7ED3\\u5408 react-window\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useEffect, useRef } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { FixedSizeList } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react-window\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" InfiniteVirtualScroll\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"items\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"hasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setHasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" listRef\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"startIndex\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Array\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Item ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"startIndex\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prev\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"prev, \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"response]);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (items.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" >=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 500\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setHasMore\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, []);\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Row\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{style}>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {items[index] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"Loading...\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" loadMoreItems\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (hasMore) \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(items.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"FixedSizeList\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      height\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"400\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      width\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"300\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      itemCount\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{hasMore \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" items.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" items.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      itemSize\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"50\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      onItemsRendered\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"visibleStopIndex\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (visibleStopIndex \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" items.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" -\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 10\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hasMore) \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"loadMoreItems\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      ref\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{listRef}\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    >\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {Row}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"FixedSizeList\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" InfiniteVirtualScroll;\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-3\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-3\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9884\\u52A0\\u8F7D\"}),\"\\uFF1A\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"itemCount\"})})})}),\" \\u6BD4\\u5B9E\\u9645\\u591A\\u4E00\\u70B9\\uFF0C\\u89E6\\u53D1\\u52A0\\u8F7D\\u65F6\\u7528\\u6237\\u4E0D\\u4F1A\\u5BDF\\u89C9\\u7A7A\\u767D\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u52A8\\u6001\\u9AD8\\u5EA6\"}),\"\\uFF1A\\u5982\\u679C\\u5217\\u8868\\u9879\\u9AD8\\u5EA6\\u4E0D\\u56FA\\u5B9A\\uFF0C\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"VariableSizeList\"})})})}),\" \\u66FF\\u4EE3 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"FixedSizeList\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6EDA\\u52A8\\u6062\\u590D\"}),\"\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"listRef.current.scrollToItem(index)\"})})})}),\" \\u5B9E\\u73B0\\u7279\\u5B9A\\u4F4D\\u7F6E\\u8DF3\\u8F6C\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4E0E-react-\\u751F\\u6001\\u7ED3\\u5408tanstack-query\",children:(0,l.jsx)(e.a,{href:\"#\\u4E0E-react-\\u751F\\u6001\\u7ED3\\u5408tanstack-query\",children:\"\\u4E0E React \\u751F\\u6001\\u7ED3\\u5408\\uFF1ATanStack Query\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u7684\\u9879\\u76EE\\u7528\\u5230\\u4E86\\u6570\\u636E\\u83B7\\u53D6\\u5E93\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"TanStack Query\"})})})}),\"\\uFF08\\u524D\\u8EAB\\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React Query\"})})})}),\"\\uFF09\\uFF0C\\u65E0\\u9650\\u6EDA\\u52A8\\u53EF\\u4EE5\\u66F4\\u7B80\\u5355\\u3002\\u5B83\\u5185\\u7F6E\\u4E86\\u5206\\u9875\\u652F\\u6301\\uFF0C\\u914D\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useInfiniteQuery\"})})})}),\" \\u80FD\\u7701\\u4E0D\\u5C11\\u4EE3\\u7801\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useInfiniteQuery } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@tanstack/react-query\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" InfiniteScrollQuery\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchItems\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"pageParam\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" resolve\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Array\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"10\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Item from page ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"pageParam\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")), \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { data: response, nextPage: pageParam \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    fetchNextPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    hasNextPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    isFetchingNextPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useInfiniteQuery\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    queryKey: [\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"items\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    queryFn: fetchItems,\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    getNextPageParam\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"lastPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (lastPage.nextPage \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" lastPage.nextPage \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"),\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" handleScroll\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"scrollTop\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"scrollHeight\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"clientHeight\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" e.target;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (scrollTop \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" clientHeight \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" scrollHeight \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" &&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" hasNextPage \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" !\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"isFetchingNextPage) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      fetchNextPage\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      onScroll\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{handleScroll}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ height: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"400px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", overflowY: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"auto\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", border: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1px solid #ccc\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    >\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {data?.pages.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"page\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"i\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        page.data.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"j\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" key\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"i\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}-${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"j\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"style\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{{ padding: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"20px\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", borderBottom: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1px solid #eee\"'}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }}>\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            {item}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"          </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        ))\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      )}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {isFetchingNextPage \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Loading...</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      {\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"hasNextPage \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\\u5230\\u5E95\\u5566\\uFF01\\u53BB\\u5199\\u70B9\\u4EE3\\u7801\\u5427\\u270D\\uFE0F</\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">}\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,l.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" InfiniteScrollQuery;\"})]})]})})}),`\n`,(0,l.jsx)(e.h3,{id:\"\\u5C0F-tips-4\",children:(0,l.jsx)(e.a,{href:\"#\\u5C0F-tips-4\",children:\"\\u5C0F Tips\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7F13\\u5B58\\u4F18\\u5316\"}),\"\\uFF1A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"TanStack Query\"})})})}),\" \\u81EA\\u5E26\\u7F13\\u5B58\\uFF0C\\u91CD\\u590D\\u8BF7\\u6C42\\u76F4\\u63A5\\u8D70\\u5185\\u5B58\\uFF0C\\u7701\\u6D41\\u91CF\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u91CD\\u8BD5\"}),\"\\uFF1A\\u8BBE\\u7F6E \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"retry: 3\"})})})}),\"\\uFF0C\\u81EA\\u52A8\\u91CD\\u8BD5\\u5931\\u8D25\\u8BF7\\u6C42\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u6253\\u9020\\u4E1D\\u6ED1\\u65E0\\u9650\\u6EDA\\u52A8\",children:(0,l.jsx)(e.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u6253\\u9020\\u4E1D\\u6ED1\\u65E0\\u9650\\u6EDA\\u52A8\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u6253\\u9020\\u4E1D\\u6ED1\\u65E0\\u9650\\u6EDA\\u52A8\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u597D\\u4E86\\uFF0C\\u6280\\u672F\\u8BB2\\u4E86\\u4E00\\u5806\\uFF0C\\u63A5\\u4E0B\\u6765\\u662F\\u5B9E\\u6218\\u7ECF\\u9A8C\\u603B\\u7ED3\\u3002\\u8FD9\\u4E9B\\u6700\\u4F73\\u5B9E\\u8DF5\\u80FD\\u8BA9\\u4F60\\u7684\\u65E0\\u9650\\u6EDA\\u52A8\\u4ECE\\u201C\\u80FD\\u7528\\u201D\\u53D8\\u6210\\u201C\\u771F\\u9999\\u201D\\uFF1A\"}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u52A0\\u8F7D\\u72B6\\u6001\\u7684\\u827A\\u672F\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u663E\\u793A\\u4E00\\u4E2A\\u9AA8\\u67B6\\u5C4F\\uFF08Skeleton\\uFF09\\u800C\\u4E0D\\u662F\\u7B80\\u5355\\u7684\\u201CLoading...\\u201D\\uFF0C\\u7528\\u6237\\u4F1A\\u89C9\\u5F97\\u66F4\\u5FEB\\u3002\"}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 CSS \\u52A8\\u753B\\u52A0\\u6301\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"@keyframes pulse\"})})})}),\"\\uFF0C\\u8BA9\\u9AA8\\u67B6\\u5C4F\\u201C\\u547C\\u5438\\u201D\\u8D77\\u6765\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u9519\\u8BEF\\u5904\\u7406\\u4E0D\\u80FD\\u5C11\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"API \\u6302\\u4E86\\u600E\\u4E48\\u529E\\uFF1F\\u52A0\\u4E2A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try-catch\"})})})}),\"\\uFF0C\\u7ED9\\u7528\\u6237\\u4E00\\u4E2A\\u201C\\u91CD\\u8BD5\\u201D\\u6309\\u94AE\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 React \\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ErrorBoundary\"})})})}),\" \\u7EC4\\u4EF6\\u6355\\u83B7\\u6E32\\u67D3\\u9519\\u8BEF\\uFF0C\\u907F\\u514D\\u6574\\u4E2A\\u5217\\u8868\\u5D29\\u6389\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\\u662F\\u738B\\u9053\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useMemo\"})})})}),\" \\u7F13\\u5B58\\u5927\\u6570\\u636E\\u5217\\u8868\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u6E32\\u67D3\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5982\\u679C\\u6570\\u636E\\u4E0D\\u53D8\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useCallback\"})})})}),\" \\u5305\\u88F9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"fetchData\"})})})}),\"\\uFF0C\\u9632\\u6B62\\u4E0D\\u5FC5\\u8981\\u7684\\u51FD\\u6570\\u91CD\\u5EFA\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u8FDB\\u9636\\u4F18\\u5316\"}),\"\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"React.memo\"})})})}),\" \\u5305\\u88F9\\u5217\\u8868\\u9879\\u7EC4\\u4EF6\\uFF0C\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u5B50\\u7EC4\\u4EF6\\u91CD\\u6E32\\u67D3\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u7528\\u6237\\u4F53\\u9A8C\\u7684\\u7EC6\\u8282\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsx)(e.li,{children:\"\\u52A0\\u4E2A\\u201C\\u56DE\\u5230\\u9876\\u90E8\\u201D\\u6309\\u94AE\\uFF0C\\u7528\\u6237\\u5237\\u592A\\u6DF1\\u4E5F\\u80FD\\u8F7B\\u677E\\u56DE\\u6765\\u3002\"}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'scrollTo({ top: 0, behavior: \"smooth\" })'})})})}),\" \\u5B9E\\u73B0\\u5E73\\u6ED1\\u6EDA\\u52A8\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u6655\\u8F66\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u52A0\\u8F7D\\u52A8\\u753B\"}),\"\\uFF1A\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"react-spinners\"})})})}),\" \\u8FD9\\u6837\\u7684\\u5E93\\uFF0C\\u52A0\\u4E2A\\u70AB\\u9177\\u7684\\u52A0\\u8F7D\\u6548\\u679C\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u8282\\u6D41\\u4E0E\\u9632\\u6296\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u4E0D\\u7BA1\\u7528\\u54EA\\u79CD\\u65B9\\u6848\\uFF0C\\u52A0\\u8F7D\\u903B\\u8F91\\u6700\\u597D\\u52A0\\u4E2A\\u8282\\u6D41\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"throttle\"})})})}),\"\\uFF09\\uFF0C\\u907F\\u514D\\u77ED\\u65F6\\u95F4\\u5185\\u91CD\\u590D\\u8BF7\\u6C42\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u8282\\u6D41\\u65F6\\u95F4\\u8BBE\\u4E3A 300ms\\uFF0C\\u65E2\\u7075\\u654F\\u53C8\\u4E0D\\u6D6A\\u8D39\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"SEO \\u8003\\u8651\"})}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u662F SSR \\u9879\\u76EE\\uFF0C\\u786E\\u4FDD\\u9996\\u5C4F\\u6570\\u636E\\u5728\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\\u597D\\uFF0C\\u914D\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Intersection Observer\"})})})}),\" \\u52A0\\u8F7D\\u540E\\u7EED\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"next/dynamic\"})})})}),\" \\u52A8\\u6001\\u5BFC\\u5165\\u65E0\\u9650\\u6EDA\\u52A8\\u7EC4\\u4EF6\\uFF0C\\u907F\\u514D\\u963B\\u585E\\u9996\\u5C4F\\u3002\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u8E29\\u5751\\u65E5\\u8BB0\\u6211\\u66FE\\u6389\\u8FC7\\u7684\\u5751\",children:(0,l.jsx)(e.a,{href:\"#\\u8E29\\u5751\\u65E5\\u8BB0\\u6211\\u66FE\\u6389\\u8FC7\\u7684\\u5751\",children:\"\\u8E29\\u5751\\u65E5\\u8BB0\\uFF1A\\u6211\\u66FE\\u6389\\u8FC7\\u7684\\u5751\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6EDA\\u52A8\\u4E8B\\u4EF6\\u6CA1\\u89E3\\u7ED1\"}),(0,l.jsx)(e.br,{}),`\n`,\"\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u5FD8\\u4E86\\u79FB\\u9664 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u76D1\\u542C\\uFF0C\\u7ED3\\u679C\\u5185\\u5B58\\u6CC4\\u6F0F\\uFF0C\\u9875\\u9762\\u5361\\u6210 PPT\\u3002\\u89E3\\u51B3\\u529E\\u6CD5\\uFF1A\\u8001\\u8001\\u5B9E\\u5B9E\\u5199 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"useEffect\"})})})}),\" \\u7684\\u6E05\\u7406\\u51FD\\u6570\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u6570\\u636E\\u91CD\\u590D\\u8FFD\\u52A0\"}),(0,l.jsx)(e.br,{}),`\n`,\"\\u5FD8\\u4E86\\u6E05\\u7A7A\\u4E0A\\u4E00\\u9875\\u6570\\u636E\\uFF0C\\u5217\\u8868\\u91CC\\u5168\\u662F\\u91CD\\u590D\\u9879\\u3002\\u6559\\u8BAD\\uFF1A\\u52A0\\u8F7D\\u524D\\u68C0\\u67E5 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"page\"})})})}),\" \\u548C\\u5DF2\\u6709\\u6570\\u636E\\u662F\\u5426\\u5339\\u914D\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u52A0\\u8F7D\\u592A\\u5FEB\\uFF0C\\u7528\\u6237\\u61F5\\u4E86\"}),(0,l.jsx)(e.br,{}),`\n`,\"\\u6570\\u636E\\u6765\\u5F97\\u592A\\u5FEB\\uFF0C\\u7528\\u6237\\u8FD8\\u6CA1\\u53CD\\u5E94\\u8FC7\\u6765\\u5C31\\u5237\\u5B8C\\u4E86\\u3002\\u52A0\\u4E2A 500ms \\u7684\\u5EF6\\u8FDF\\uFF08\\u4EC5\\u9650\\u5F00\\u53D1\\u73AF\\u5883\\uFF09\\uFF0C\\u6A21\\u62DF\\u771F\\u5B9E\\u7F51\\u7EDC\\uFF0C\\u8BA9\\u81EA\\u5DF1\\u6709\\u65F6\\u95F4\\u6B23\\u8D4F\\u52A8\\u753B\\u3002\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"MutationObserver \\u65E0\\u9650\\u5FAA\\u73AF\"}),(0,l.jsx)(e.br,{}),`\n`,\"\\u5728\\u56DE\\u8C03\\u91CC\\u76F4\\u63A5\\u4FEE\\u6539 DOM\\uFF0C\\u5BFC\\u81F4 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MutationObserver\"})})})}),\" \\u518D\\u6B21\\u89E6\\u53D1\\uFF0C\\u6B7B\\u5FAA\\u73AF\\u5361\\u6B7B\\u3002\\u89E3\\u51B3\\uFF1A\\u7528\\u6807\\u5FD7\\u4F4D\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"let isProcessing = false\"})})})}),\"\\uFF09\\u63A7\\u5236\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u7ED3\\u8BED\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u672A\\u6765\",children:(0,l.jsx)(e.a,{href:\"#\\u7ED3\\u8BED\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u672A\\u6765\",children:\"\\u7ED3\\u8BED\\uFF1A\\u65E0\\u9650\\u6EDA\\u52A8\\u7684\\u672A\\u6765\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u65E0\\u9650\\u6EDA\\u52A8\\u770B\\u4F3C\\u7B80\\u5355\\uFF0C\\u5B9E\\u5219\\u662F\\u4E2A\\u6280\\u672F\\u4E0E\\u4F53\\u9A8C\\u7684\\u5E73\\u8861\\u6E38\\u620F\\u3002\\u65E0\\u8BBA\\u662F\\u7528\\u4F20\\u7EDF\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"scroll\"})})})}),\" \\u4E8B\\u4EF6\\uFF0C\\u8FD8\\u662F\\u4F18\\u96C5\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Intersection Observer\"})})})}),\"\\uFF0C\\u751A\\u81F3 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"MutationObserver\"})})})}),\" \\u7684\\u53E6\\u7C7B\\u601D\\u8DEF\\uFF0C\\u518D\\u5230\\u865A\\u62DF\\u5316\\u548C TanStack Query \\u7684\\u52A0\\u6301\\uFF0C\\u6838\\u5FC3\\u90FD\\u5728\\u4E8E\\u201C\\u8BA9\\u7528\\u6237\\u723D\\u201D\\u3002\\u4E0B\\u6B21\\u5199\\u4EE3\\u7801\\u65F6\\uFF0C\\u4E0D\\u59A8\\u591A\\u60F3\\u60F3\\uFF1A\\u8FD9\\u4E2A\\u5217\\u8868\\u80FD\\u4E0D\\u80FD\\u518D\\u4E1D\\u6ED1\\u4E00\\u70B9\\uFF1F\\u8FD9\\u4E2A\\u52A0\\u8F7D\\u52A8\\u753B\\u80FD\\u4E0D\\u80FD\\u518D\\u9177\\u4E00\\u70B9\\uFF1F\"]}),`\n`,(0,l.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u7ED9\\u4F60\\u4E00\\u4E9B\\u542F\\u53D1\\uFF01\\u6709\\u4EC0\\u4E48\\u95EE\\u9898\\u6216\\u8005\\u66F4\\u597D\\u7684\\u60F3\\u6CD5\\uFF0C\\u6B22\\u8FCE\\u5728\\u8BC4\\u8BBA\\u91CC\\u8DDF\\u6211\\u5520\\u5520\\u3002\\u{1F447} \\u73B0\\u5728\\uFF0C\\u53BB\\u8BD5\\u8BD5\\u65E0\\u9650\\u6EDA\\u52A8\\u5427\\uFF0C\\u522B\\u8BA9\\u4F60\\u7684\\u7528\\u6237\\u7FFB\\u9875\\u7FFB\\u5230\\u624B\\u62BD\\u7B4B\\uFF01\\u{1F604}\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(t,{...n})}):t(n)}return m(b);})();\n;return Component;"
  },
  "_id": "React/æ¢ç´¢Reactä¸­çš„æ— é™æ»šåŠ¨æŠ€æœ¯.mdx",
  "_raw": {
    "sourceFilePath": "React/æ¢ç´¢Reactä¸­çš„æ— é™æ»šåŠ¨æŠ€æœ¯.mdx",
    "sourceFileName": "æ¢ç´¢Reactä¸­çš„æ— é™æ»šåŠ¨æŠ€æœ¯.mdx",
    "sourceFileDir": "React",
    "contentType": "mdx",
    "flattenedPath": "React/æ¢ç´¢Reactä¸­çš„æ— é™æ»šåŠ¨æŠ€æœ¯"
  },
  "type": "Post",
  "url": "/blog/React/æ¢ç´¢Reactä¸­çš„æ— é™æ»šåŠ¨æŠ€æœ¯"
}
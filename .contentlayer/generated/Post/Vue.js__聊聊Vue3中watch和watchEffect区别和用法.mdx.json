{
  "title": "聊聊 Vue3 中 watch 和 watchEffect 区别和用法",
  "date": "2023-04-18T00:00:00.000Z",
  "description": "深入探讨 Vue3 中 watch 和 watchEffect 的区别、使用场景及源码实现，带你从原理到实践全面掌握这两个 API。",
  "keywords": "Vue3, watch, watchEffect, 响应式, 源码解析, 前端开发, reactive, ref",
  "author": "晓龙",
  "image": "/images/hero/vue3-watch.jpg",
  "tags": [
    "Vue.js",
    "Vue3",
    "前端开发",
    "响应式编程"
  ],
  "views": 0,
  "likes": 0,
  "category": "Vue.js",
  "body": {
    "raw": "\nVue3 的响应式系统是其核心亮点之一，而 `watch` 和 `watchEffect` 作为两个重要的 API，让开发者能够更灵活地处理数据变化的副作用。今天，我们就来聊聊这两个工具的区别、使用场景，以及它们背后的实现原理。不仅会从使用角度出发，还会深入源码层面剖析，帮助你彻底搞懂它们。\n\n## 先从基础聊起：watch 和 watchEffect 是什么？\n\nVue3 的响应式系统基于 Proxy 和 Reflect，配合 `ref` 和 `reactive` 提供了强大的数据追踪能力。而 `watch` 和 `watchEffect` 是基于此构建的高级工具，用于监听数据变化并执行副作用。\n\n- **watch**：显式地监听某个特定数据源（可以是 `ref`、`reactive` 对象或 getter 函数），当数据变化时触发回调。你可以精确控制监听的对象和行为。\n- **watchEffect**：自动追踪回调函数中依赖的响应式数据，数据变化时立即运行。它的特点是“无须显式指定监听目标”，更像是一种“自动魔法”。\n\n听起来有点抽象？别急，下面我们通过例子一步步拆解。\n\n## 用法对比：从实例开始\n\n### watch 的用法\n\n`watch` 需要明确指定监听目标，适合需要精确控制的场景。来看个简单的例子：\n\n```javascript\nimport { ref, watch } from 'vue';\n\nexport default {\n  setup() {\n    const count = ref(0);\n\n    watch(count, (newValue, oldValue) => {\n      console.log(`count 从 ${oldValue} 变成了 ${newValue}`);\n    });\n\n    const increment = () => count.value++;\n    return { count, increment };\n  },\n};\n```\n\n在这个例子中，`watch` 只监听 `count` 这个 `ref`，当它变化时，回调会接收新值和旧值并执行逻辑。\n\n再来看一个复杂点的例子，监听 `reactive` 对象的某个属性：\n\n```javascript\nimport { reactive, watch } from 'vue';\n\nexport default {\n  setup() {\n    const state = reactive({ name: '小明', age: 20 });\n\n    watch(\n      () => state.age, // 用 getter 函数监听特定属性\n      (newAge, oldAge) => {\n        console.log(`年龄从 ${oldAge} 变成了 ${newAge}`);\n      }\n    );\n\n    const growUp = () => state.age++;\n    return { state, growUp };\n  },\n};\n```\n\n这里用了一个 getter 函数 `() => state.age` 来监听 `state.age`，而不是直接传 `state`，因为 `watch` 默认只监听传入值的“引用变化”，而 `reactive` 对象内部属性的变化需要通过 getter 显式指定。\n\n### watchEffect 的用法\n\n相比之下，`watchEffect` 更“懒散”一些，它不需要你告诉它监听什么，而是直接运行一个函数，并在其中自动收集依赖。来看看：\n\n```javascript\nimport { ref, watchEffect } from 'vue';\n\nexport default {\n  setup() {\n    const count = ref(0);\n\n    watchEffect(() => {\n      console.log(`count 现在是 ${count.value}`);\n    });\n\n    const increment = () => count.value++;\n    return { count, increment };\n  },\n};\n```\n\n点击 `increment` 后，`watchEffect` 会自动感知 `count` 的变化并重新运行。是不是简单粗暴？\n\n再来个多依赖的例子：\n\n```javascript\nimport { reactive, watchEffect } from 'vue';\n\nexport default {\n  setup() {\n    const state = reactive({ name: '小明', age: 20 });\n\n    watchEffect(() => {\n      console.log(`${state.name} 的年龄是 ${state.age}`);\n    });\n\n    const update = () => {\n      state.age++;\n      state.name = '小红';\n    };\n    return { state, update };\n  },\n};\n```\n\n这里 `watchEffect` 自动追踪了 `state.name` 和 `state.age`，只要其中一个变了，回调就会触发。\n\n## 核心区别：主动 vs 被动\n\n通过例子可以看出，`watch` 和 `watchEffect` 的最大区别在于**监听的主动性**：\n\n- **watch 是“主动监听”**：你得告诉它“嘿，我要监听这个东西”，它才会工作。适合需要明确目标、控制触发条件的场景。\n- **watchEffect 是“被动追踪”**：你写个函数，它自己去嗅探依赖，变化时自动跑起来。适合快速上手、不想手动指定依赖的场景。\n\n另外还有几点细节差异：\n\n1. **初始执行**：\n   - `watch` 默认不会立即执行，除非设置 `immediate: true`。\n   - `watchEffect` 默认立即执行一次，收集依赖。\n\n2. **新旧值**：\n   - `watch` 回调提供新值和旧值，适合需要对比变化的逻辑。\n   - `watchEffect` 只管跑，不提供新旧值。\n\n3. **依赖控制**：\n   - `watch` 可以精确指定监听对象，甚至可以用数组监听多个源。\n   - `watchEffect` 的依赖是动态收集的，可能包含不需要的副作用。\n\n## 深入源码：它们是怎么实现的？\n\n要真正理解 `watch` 和 `watchEffect`，我们得看看 Vue3 的源码（基于 `@vue/runtime-core`）。Vue 的响应式系统核心是 `effect`（副作用函数），而 `watch` 和 `watchEffect` 都是基于它封装的。\n\n### effect 的基础\n\nVue3 的响应式核心依赖 `ReactiveEffect` 类：\n\n```javascript\nclass ReactiveEffect {\n  constructor(fn) {\n    this.fn = fn; // 副作用函数\n    this.deps = []; // 依赖集合\n  }\n  run() {\n    activeEffect = this; // 当前激活的 effect\n    const res = this.fn();\n    activeEffect = null;\n    return res;\n  }\n}\n```\n\n当你访问 `ref.value` 或 `reactive` 的属性时，Proxy 的 `get` 拦截器会把当前的 `activeEffect` 加入依赖列表（`deps`）。数据变化时，触发 `trigger` 函数，重新运行这些 `effect`。\n\n### watchEffect 的实现\n\n`watchEffect` 直接基于 `effect`：\n\n```javascript\nexport function watchEffect(effect, options = {}) {\n  const _effect = new ReactiveEffect(effect);\n  \n  if (!options.lazy) {\n    _effect.run(); // 立即执行，收集依赖\n  }\n\n  const runner = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\n```\n\n- **过程**：传入的函数被包装成 `ReactiveEffect`，立即执行一次，收集依赖。之后每次依赖变化，`trigger` 都会重新调用 `run`。\n- **特点**：没有显式源，直接依赖函数内的访问操作。\n\n### watch 的实现\n\n`watch` 稍微复杂点，它需要处理源（source）和回调：\n\n```javascript\nexport function watch(source, cb, options = {}) {\n  let getter;\n  if (isRef(source)) {\n    getter = () => source.value;\n  } else if (isReactive(source)) {\n    getter = () => source;\n  } else if (typeof source === 'function') {\n    getter = source;\n  }\n\n  const effect = new ReactiveEffect(getter, () => {\n    const newValue = effect.run();\n    const oldValue = oldValueRef.value;\n    oldValueRef.value = newValue;\n    cb(newValue, oldValue); // 触发回调\n  });\n\n  const oldValueRef = { value: undefined };\n  if (options.immediate) {\n    effect.run();\n  }\n\n  return () => effect.stop();\n}\n```\n\n- **过程**：\n  1. 将 `source` 转为 getter 函数（支持 `ref`、`reactive` 或自定义函数）。\n  2. 创建 `ReactiveEffect`，但它的调度函数（scheduler）会调用用户传入的 `cb`。\n  3. 数据变化时，`trigger` 调用 scheduler，执行回调并传递新旧值。\n- **特点**：显式监听源，支持新旧值对比，可控性更强。\n\n## 使用场景与选择建议\n\n### 什么时候用 watch？\n\n- 需要精确控制监听对象，比如只关心某个属性变化。\n- 需要新旧值做对比逻辑，比如表单校验。\n- 需要延迟执行或条件触发（通过 `immediate`、`flush` 等选项）。\n\n例子：监听用户输入并防抖：\n\n```javascript\nimport { ref, watch } from 'vue';\nimport { debounce } from 'lodash';\n\nexport default {\n  setup() {\n    const search = ref('');\n    const searchAPI = debounce((val) => {\n      console.log(`搜索：${val}`);\n    }, 500);\n\n    watch(search, (newVal) => {\n      searchAPI(newVal);\n    });\n\n    return { search };\n  },\n};\n```\n\n### 什么时候用 watchEffect？\n\n- 依赖关系简单，不想手动指定。\n- 需要立即执行副作用，比如初始化时请求数据。\n- 逻辑更偏向“响应式联动”，而非精确控制。\n\n例子：动态更新标题：\n\n```javascript\nimport { reactive, watchEffect } from 'vue';\n\nexport default {\n  setup() {\n    const state = reactive({ title: 'Vue3', count: 0 });\n\n    watchEffect(() => {\n      document.title = `${state.title} - ${state.count}`;\n    });\n\n    const increment = () => state.count++;\n    return { state, increment };\n  },\n};\n```\n\n## 注意事项与陷阱\n\n1. **watch 的深层监听**：\n   默认情况下，`watch` 对 `reactive` 对象是浅监听，需设置 `deep: true`：\n   ```javascript\n   watch(state, (newState) => {\n     console.log(newState.list);\n   }, { deep: true });\n   ```\n\n2. **watchEffect 的清理**：\n   它支持 `onInvalidate` 清理副作用：\n   ```javascript\n   watchEffect((onInvalidate) => {\n     const timer = setTimeout(() => console.log('定时器'), 1000);\n     onInvalidate(() => clearTimeout(timer));\n   });\n   ```\n\n3. **性能考量**：\n   - `watchEffect` 可能因依赖过多导致不必要执行，尽量保持回调简单。\n   - `watch` 的精确控制可以避免冗余计算。\n\n## 总结\n\n`watch` 和 `watchEffect` 是 Vue3 响应式系统的两把利器。简单来说，`watch` 适合需要精确控制的场景，而 `watchEffect` 更适合快速响应式联动。从源码看，它们都基于 `ReactiveEffect`，但 `watch` 多了一层显式源管理和回调调度。\n\n希望这篇文章能帮你理清它们的区别和用法。无论是日常开发还是面试，搞懂这些细节都能让你更自信地驾驭 Vue3。有什么疑问或有趣的用法，欢迎留言交流！\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var a in e)c(l,a,{get:e[a],enumerable:!0})},d=(l,e,a,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!u.call(l,r)&&r!==a&&c(l,r,{get:()=>e[r],enumerable:!(t=E(e,r))||t.enumerable});return l};var m=(l,e,a)=>(a=l!=null?p(g(l)):{},d(e||!l||!l.__esModule?c(a,\"default\",{value:l,enumerable:!0}):a,l)),B=l=>d(c({},\"__esModule\",{value:!0}),l);var s=F((k,i)=>{i.exports=_jsx_runtime});var x={};f(x,{default:()=>o,frontmatter:()=>b});var n=m(s()),b={type:\"Post\",title:\"\\u804A\\u804A Vue3 \\u4E2D watch \\u548C watchEffect \\u533A\\u522B\\u548C\\u7528\\u6CD5\",date:\"2023-04-18\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8 Vue3 \\u4E2D watch \\u548C watchEffect \\u7684\\u533A\\u522B\\u3001\\u4F7F\\u7528\\u573A\\u666F\\u53CA\\u6E90\\u7801\\u5B9E\\u73B0\\uFF0C\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u5168\\u9762\\u638C\\u63E1\\u8FD9\\u4E24\\u4E2A API\\u3002\",keywords:\"Vue3, watch, watchEffect, \\u54CD\\u5E94\\u5F0F, \\u6E90\\u7801\\u89E3\\u6790, \\u524D\\u7AEF\\u5F00\\u53D1, reactive, ref\",author:\"\\u6653\\u9F99\",image:\"/images/hero/vue3-watch.jpg\",tags:[\"Vue.js\",\"Vue3\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u54CD\\u5E94\\u5F0F\\u7F16\\u7A0B\"],category:\"Vue.js\"};function h(l){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"Vue3 \\u7684\\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u662F\\u5176\\u6838\\u5FC3\\u4EAE\\u70B9\\u4E4B\\u4E00\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u4F5C\\u4E3A\\u4E24\\u4E2A\\u91CD\\u8981\\u7684 API\\uFF0C\\u8BA9\\u5F00\\u53D1\\u8005\\u80FD\\u591F\\u66F4\\u7075\\u6D3B\\u5730\\u5904\\u7406\\u6570\\u636E\\u53D8\\u5316\\u7684\\u526F\\u4F5C\\u7528\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C31\\u6765\\u804A\\u804A\\u8FD9\\u4E24\\u4E2A\\u5DE5\\u5177\\u7684\\u533A\\u522B\\u3001\\u4F7F\\u7528\\u573A\\u666F\\uFF0C\\u4EE5\\u53CA\\u5B83\\u4EEC\\u80CC\\u540E\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\u3002\\u4E0D\\u4EC5\\u4F1A\\u4ECE\\u4F7F\\u7528\\u89D2\\u5EA6\\u51FA\\u53D1\\uFF0C\\u8FD8\\u4F1A\\u6DF1\\u5165\\u6E90\\u7801\\u5C42\\u9762\\u5256\\u6790\\uFF0C\\u5E2E\\u52A9\\u4F60\\u5F7B\\u5E95\\u641E\\u61C2\\u5B83\\u4EEC\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5148\\u4ECE\\u57FA\\u7840\\u804A\\u8D77watch-\\u548C-watcheffect-\\u662F\\u4EC0\\u4E48\",children:(0,n.jsx)(e.a,{href:\"#\\u5148\\u4ECE\\u57FA\\u7840\\u804A\\u8D77watch-\\u548C-watcheffect-\\u662F\\u4EC0\\u4E48\",children:\"\\u5148\\u4ECE\\u57FA\\u7840\\u804A\\u8D77\\uFF1Awatch \\u548C watchEffect \\u662F\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Vue3 \\u7684\\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u57FA\\u4E8E Proxy \\u548C Reflect\\uFF0C\\u914D\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u63D0\\u4F9B\\u4E86\\u5F3A\\u5927\\u7684\\u6570\\u636E\\u8FFD\\u8E2A\\u80FD\\u529B\\u3002\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u662F\\u57FA\\u4E8E\\u6B64\\u6784\\u5EFA\\u7684\\u9AD8\\u7EA7\\u5DE5\\u5177\\uFF0C\\u7528\\u4E8E\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\\u5E76\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"watch\"}),\"\\uFF1A\\u663E\\u5F0F\\u5730\\u76D1\\u542C\\u67D0\\u4E2A\\u7279\\u5B9A\\u6570\\u636E\\u6E90\\uFF08\\u53EF\\u4EE5\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u5BF9\\u8C61\\u6216 getter \\u51FD\\u6570\\uFF09\\uFF0C\\u5F53\\u6570\\u636E\\u53D8\\u5316\\u65F6\\u89E6\\u53D1\\u56DE\\u8C03\\u3002\\u4F60\\u53EF\\u4EE5\\u7CBE\\u786E\\u63A7\\u5236\\u76D1\\u542C\\u7684\\u5BF9\\u8C61\\u548C\\u884C\\u4E3A\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"watchEffect\"}),\"\\uFF1A\\u81EA\\u52A8\\u8FFD\\u8E2A\\u56DE\\u8C03\\u51FD\\u6570\\u4E2D\\u4F9D\\u8D56\\u7684\\u54CD\\u5E94\\u5F0F\\u6570\\u636E\\uFF0C\\u6570\\u636E\\u53D8\\u5316\\u65F6\\u7ACB\\u5373\\u8FD0\\u884C\\u3002\\u5B83\\u7684\\u7279\\u70B9\\u662F\\u201C\\u65E0\\u987B\\u663E\\u5F0F\\u6307\\u5B9A\\u76D1\\u542C\\u76EE\\u6807\\u201D\\uFF0C\\u66F4\\u50CF\\u662F\\u4E00\\u79CD\\u201C\\u81EA\\u52A8\\u9B54\\u6CD5\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u542C\\u8D77\\u6765\\u6709\\u70B9\\u62BD\\u8C61\\uFF1F\\u522B\\u6025\\uFF0C\\u4E0B\\u9762\\u6211\\u4EEC\\u901A\\u8FC7\\u4F8B\\u5B50\\u4E00\\u6B65\\u6B65\\u62C6\\u89E3\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u7528\\u6CD5\\u5BF9\\u6BD4\\u4ECE\\u5B9E\\u4F8B\\u5F00\\u59CB\",children:(0,n.jsx)(e.a,{href:\"#\\u7528\\u6CD5\\u5BF9\\u6BD4\\u4ECE\\u5B9E\\u4F8B\\u5F00\\u59CB\",children:\"\\u7528\\u6CD5\\u5BF9\\u6BD4\\uFF1A\\u4ECE\\u5B9E\\u4F8B\\u5F00\\u59CB\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"watch-\\u7684\\u7528\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#watch-\\u7684\\u7528\\u6CD5\",children:\"watch \\u7684\\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u9700\\u8981\\u660E\\u786E\\u6307\\u5B9A\\u76D1\\u542C\\u76EE\\u6807\\uFF0C\\u9002\\u5408\\u9700\\u8981\\u7CBE\\u786E\\u63A7\\u5236\\u7684\\u573A\\u666F\\u3002\\u6765\\u770B\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { ref, watch } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" count\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count, (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"oldValue\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`count \\u4ECE ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"oldValue\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u53D8\\u6210\\u4E86 ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"newValue\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" increment\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" count.value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { count, increment };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u53EA\\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\" \\u8FD9\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref\"})})})}),\"\\uFF0C\\u5F53\\u5B83\\u53D8\\u5316\\u65F6\\uFF0C\\u56DE\\u8C03\\u4F1A\\u63A5\\u6536\\u65B0\\u503C\\u548C\\u65E7\\u503C\\u5E76\\u6267\\u884C\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u518D\\u6765\\u770B\\u4E00\\u4E2A\\u590D\\u6742\\u70B9\\u7684\\u4F8B\\u5B50\\uFF0C\\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u5BF9\\u8C61\\u7684\\u67D0\\u4E2A\\u5C5E\\u6027\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { reactive, watch } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" state\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5C0F\\u660E'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", age: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"20\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state.age, \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u7528 getter \\u51FD\\u6570\\u76D1\\u542C\\u7279\\u5B9A\\u5C5E\\u6027\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newAge\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"oldAge\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u5E74\\u9F84\\u4ECE ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"oldAge\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u53D8\\u6210\\u4E86 ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"newAge\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" growUp\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state.age\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { state, growUp };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\\u7528\\u4E86\\u4E00\\u4E2A getter \\u51FD\\u6570 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"() => state.age\"})})})}),\" \\u6765\\u76D1\\u542C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"state.age\"})})})}),\"\\uFF0C\\u800C\\u4E0D\\u662F\\u76F4\\u63A5\\u4F20 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"state\"})})})}),\"\\uFF0C\\u56E0\\u4E3A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u9ED8\\u8BA4\\u53EA\\u76D1\\u542C\\u4F20\\u5165\\u503C\\u7684\\u201C\\u5F15\\u7528\\u53D8\\u5316\\u201D\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u5BF9\\u8C61\\u5185\\u90E8\\u5C5E\\u6027\\u7684\\u53D8\\u5316\\u9700\\u8981\\u901A\\u8FC7 getter \\u663E\\u5F0F\\u6307\\u5B9A\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"watcheffect-\\u7684\\u7528\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#watcheffect-\\u7684\\u7528\\u6CD5\",children:\"watchEffect \\u7684\\u7528\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u76F8\\u6BD4\\u4E4B\\u4E0B\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u66F4\\u201C\\u61D2\\u6563\\u201D\\u4E00\\u4E9B\\uFF0C\\u5B83\\u4E0D\\u9700\\u8981\\u4F60\\u544A\\u8BC9\\u5B83\\u76D1\\u542C\\u4EC0\\u4E48\\uFF0C\\u800C\\u662F\\u76F4\\u63A5\\u8FD0\\u884C\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u5E76\\u5728\\u5176\\u4E2D\\u81EA\\u52A8\\u6536\\u96C6\\u4F9D\\u8D56\\u3002\\u6765\\u770B\\u770B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { ref, watchEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" count\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watchEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`count \\u73B0\\u5728\\u662F ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"value\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" increment\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" count.value\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { count, increment };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u70B9\\u51FB \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"increment\"})})})}),\" \\u540E\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u4F1A\\u81EA\\u52A8\\u611F\\u77E5 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"count\"})})})}),\" \\u7684\\u53D8\\u5316\\u5E76\\u91CD\\u65B0\\u8FD0\\u884C\\u3002\\u662F\\u4E0D\\u662F\\u7B80\\u5355\\u7C97\\u66B4\\uFF1F\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u518D\\u6765\\u4E2A\\u591A\\u4F9D\\u8D56\\u7684\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { reactive, watchEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" state\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ name: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5C0F\\u660E'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", age: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"20\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watchEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"name\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} \\u7684\\u5E74\\u9F84\\u662F ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"age\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" update\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      state.age\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      state.name \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" '\\u5C0F\\u7EA2'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { state, update };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u81EA\\u52A8\\u8FFD\\u8E2A\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"state.name\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"state.age\"})})})}),\"\\uFF0C\\u53EA\\u8981\\u5176\\u4E2D\\u4E00\\u4E2A\\u53D8\\u4E86\\uFF0C\\u56DE\\u8C03\\u5C31\\u4F1A\\u89E6\\u53D1\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6838\\u5FC3\\u533A\\u522B\\u4E3B\\u52A8-vs-\\u88AB\\u52A8\",children:(0,n.jsx)(e.a,{href:\"#\\u6838\\u5FC3\\u533A\\u522B\\u4E3B\\u52A8-vs-\\u88AB\\u52A8\",children:\"\\u6838\\u5FC3\\u533A\\u522B\\uFF1A\\u4E3B\\u52A8 vs \\u88AB\\u52A8\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u4F8B\\u5B50\\u53EF\\u4EE5\\u770B\\u51FA\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u7684\\u6700\\u5927\\u533A\\u522B\\u5728\\u4E8E\",(0,n.jsx)(e.strong,{children:\"\\u76D1\\u542C\\u7684\\u4E3B\\u52A8\\u6027\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"watch \\u662F\\u201C\\u4E3B\\u52A8\\u76D1\\u542C\\u201D\"}),\"\\uFF1A\\u4F60\\u5F97\\u544A\\u8BC9\\u5B83\\u201C\\u563F\\uFF0C\\u6211\\u8981\\u76D1\\u542C\\u8FD9\\u4E2A\\u4E1C\\u897F\\u201D\\uFF0C\\u5B83\\u624D\\u4F1A\\u5DE5\\u4F5C\\u3002\\u9002\\u5408\\u9700\\u8981\\u660E\\u786E\\u76EE\\u6807\\u3001\\u63A7\\u5236\\u89E6\\u53D1\\u6761\\u4EF6\\u7684\\u573A\\u666F\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"watchEffect \\u662F\\u201C\\u88AB\\u52A8\\u8FFD\\u8E2A\\u201D\"}),\"\\uFF1A\\u4F60\\u5199\\u4E2A\\u51FD\\u6570\\uFF0C\\u5B83\\u81EA\\u5DF1\\u53BB\\u55C5\\u63A2\\u4F9D\\u8D56\\uFF0C\\u53D8\\u5316\\u65F6\\u81EA\\u52A8\\u8DD1\\u8D77\\u6765\\u3002\\u9002\\u5408\\u5FEB\\u901F\\u4E0A\\u624B\\u3001\\u4E0D\\u60F3\\u624B\\u52A8\\u6307\\u5B9A\\u4F9D\\u8D56\\u7684\\u573A\\u666F\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u53E6\\u5916\\u8FD8\\u6709\\u51E0\\u70B9\\u7EC6\\u8282\\u5DEE\\u5F02\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u521D\\u59CB\\u6267\\u884C\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u9ED8\\u8BA4\\u4E0D\\u4F1A\\u7ACB\\u5373\\u6267\\u884C\\uFF0C\\u9664\\u975E\\u8BBE\\u7F6E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"immediate: true\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u9ED8\\u8BA4\\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u6536\\u96C6\\u4F9D\\u8D56\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u65B0\\u65E7\\u503C\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u56DE\\u8C03\\u63D0\\u4F9B\\u65B0\\u503C\\u548C\\u65E7\\u503C\\uFF0C\\u9002\\u5408\\u9700\\u8981\\u5BF9\\u6BD4\\u53D8\\u5316\\u7684\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u53EA\\u7BA1\\u8DD1\\uFF0C\\u4E0D\\u63D0\\u4F9B\\u65B0\\u65E7\\u503C\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F9D\\u8D56\\u63A7\\u5236\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u53EF\\u4EE5\\u7CBE\\u786E\\u6307\\u5B9A\\u76D1\\u542C\\u5BF9\\u8C61\\uFF0C\\u751A\\u81F3\\u53EF\\u4EE5\\u7528\\u6570\\u7EC4\\u76D1\\u542C\\u591A\\u4E2A\\u6E90\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u7684\\u4F9D\\u8D56\\u662F\\u52A8\\u6001\\u6536\\u96C6\\u7684\\uFF0C\\u53EF\\u80FD\\u5305\\u542B\\u4E0D\\u9700\\u8981\\u7684\\u526F\\u4F5C\\u7528\\u3002\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6DF1\\u5165\\u6E90\\u7801\\u5B83\\u4EEC\\u662F\\u600E\\u4E48\\u5B9E\\u73B0\\u7684\",children:(0,n.jsx)(e.a,{href:\"#\\u6DF1\\u5165\\u6E90\\u7801\\u5B83\\u4EEC\\u662F\\u600E\\u4E48\\u5B9E\\u73B0\\u7684\",children:\"\\u6DF1\\u5165\\u6E90\\u7801\\uFF1A\\u5B83\\u4EEC\\u662F\\u600E\\u4E48\\u5B9E\\u73B0\\u7684\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8981\\u771F\\u6B63\\u7406\\u89E3 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\"\\uFF0C\\u6211\\u4EEC\\u5F97\\u770B\\u770B Vue3 \\u7684\\u6E90\\u7801\\uFF08\\u57FA\\u4E8E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"@vue/runtime-core\"})})})}),\"\\uFF09\\u3002Vue \\u7684\\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u6838\\u5FC3\\u662F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\"\\uFF08\\u526F\\u4F5C\\u7528\\u51FD\\u6570\\uFF09\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u90FD\\u662F\\u57FA\\u4E8E\\u5B83\\u5C01\\u88C5\\u7684\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"effect-\\u7684\\u57FA\\u7840\",children:(0,n.jsx)(e.a,{href:\"#effect-\\u7684\\u57FA\\u7840\",children:\"effect \\u7684\\u57FA\\u7840\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Vue3 \\u7684\\u54CD\\u5E94\\u5F0F\\u6838\\u5FC3\\u4F9D\\u8D56 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ReactiveEffect\"})})})}),\" \\u7C7B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ReactiveEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".fn \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" fn; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u526F\\u4F5C\\u7528\\u51FD\\u6570\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".deps \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" []; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F9D\\u8D56\\u96C6\\u5408\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  run\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    activeEffect \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5F53\\u524D\\u6FC0\\u6D3B\\u7684 effect\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fn\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    activeEffect \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u4F60\\u8BBF\\u95EE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref.value\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u7684\\u5C5E\\u6027\\u65F6\\uFF0CProxy \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"get\"})})})}),\" \\u62E6\\u622A\\u5668\\u4F1A\\u628A\\u5F53\\u524D\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"activeEffect\"})})})}),\" \\u52A0\\u5165\\u4F9D\\u8D56\\u5217\\u8868\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"deps\"})})})}),\"\\uFF09\\u3002\\u6570\\u636E\\u53D8\\u5316\\u65F6\\uFF0C\\u89E6\\u53D1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"trigger\"})})})}),\" \\u51FD\\u6570\\uFF0C\\u91CD\\u65B0\\u8FD0\\u884C\\u8FD9\\u4E9B \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"watcheffect-\\u7684\\u5B9E\\u73B0\",children:(0,n.jsx)(e.a,{href:\"#watcheffect-\\u7684\\u5B9E\\u73B0\",children:\"watchEffect \\u7684\\u5B9E\\u73B0\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u76F4\\u63A5\\u57FA\\u4E8E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"effect\"})})})}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" watchEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"effect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" _effect\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ReactiveEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(effect);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  \"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"options.lazy) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    _effect.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"run\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u7ACB\\u5373\\u6267\\u884C\\uFF0C\\u6536\\u96C6\\u4F9D\\u8D56\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" runner\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" _effect.run.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"bind\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(_effect);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  runner.effect \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" _effect;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" runner;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FC7\\u7A0B\"}),\"\\uFF1A\\u4F20\\u5165\\u7684\\u51FD\\u6570\\u88AB\\u5305\\u88C5\\u6210 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ReactiveEffect\"})})})}),\"\\uFF0C\\u7ACB\\u5373\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u6536\\u96C6\\u4F9D\\u8D56\\u3002\\u4E4B\\u540E\\u6BCF\\u6B21\\u4F9D\\u8D56\\u53D8\\u5316\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"trigger\"})})})}),\" \\u90FD\\u4F1A\\u91CD\\u65B0\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"run\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7279\\u70B9\"}),\"\\uFF1A\\u6CA1\\u6709\\u663E\\u5F0F\\u6E90\\uFF0C\\u76F4\\u63A5\\u4F9D\\u8D56\\u51FD\\u6570\\u5185\\u7684\\u8BBF\\u95EE\\u64CD\\u4F5C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"watch-\\u7684\\u5B9E\\u73B0\",children:(0,n.jsx)(e.a,{href:\"#watch-\\u7684\\u5B9E\\u73B0\",children:\"watch \\u7684\\u5B9E\\u73B0\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7A0D\\u5FAE\\u590D\\u6742\\u70B9\\uFF0C\\u5B83\\u9700\\u8981\\u5904\\u7406\\u6E90\\uFF08source\\uFF09\\u548C\\u56DE\\u8C03\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"source\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"cb\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" getter;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isRef\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(source)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    getter\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" source.value;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isReactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(source)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    getter\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" source;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"typeof\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" source \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'function'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    getter \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" source;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" effect\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ReactiveEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(getter, () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" newValue\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" effect.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"run\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" oldValue\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" oldValueRef.value;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    oldValueRef.value \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" newValue;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    cb\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newValue, oldValue); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u89E6\\u53D1\\u56DE\\u8C03\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" oldValueRef\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { value: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"undefined\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (options.immediate) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    effect.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"run\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" effect.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8FC7\\u7A0B\"}),\"\\uFF1A\",`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5C06 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"source\"})})})}),\" \\u8F6C\\u4E3A getter \\u51FD\\u6570\\uFF08\\u652F\\u6301 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ref\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u6216\\u81EA\\u5B9A\\u4E49\\u51FD\\u6570\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u521B\\u5EFA \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ReactiveEffect\"})})})}),\"\\uFF0C\\u4F46\\u5B83\\u7684\\u8C03\\u5EA6\\u51FD\\u6570\\uFF08scheduler\\uFF09\\u4F1A\\u8C03\\u7528\\u7528\\u6237\\u4F20\\u5165\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"cb\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6570\\u636E\\u53D8\\u5316\\u65F6\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"trigger\"})})})}),\" \\u8C03\\u7528 scheduler\\uFF0C\\u6267\\u884C\\u56DE\\u8C03\\u5E76\\u4F20\\u9012\\u65B0\\u65E7\\u503C\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7279\\u70B9\"}),\"\\uFF1A\\u663E\\u5F0F\\u76D1\\u542C\\u6E90\\uFF0C\\u652F\\u6301\\u65B0\\u65E7\\u503C\\u5BF9\\u6BD4\\uFF0C\\u53EF\\u63A7\\u6027\\u66F4\\u5F3A\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4F7F\\u7528\\u573A\\u666F\\u4E0E\\u9009\\u62E9\\u5EFA\\u8BAE\",children:(0,n.jsx)(e.a,{href:\"#\\u4F7F\\u7528\\u573A\\u666F\\u4E0E\\u9009\\u62E9\\u5EFA\\u8BAE\",children:\"\\u4F7F\\u7528\\u573A\\u666F\\u4E0E\\u9009\\u62E9\\u5EFA\\u8BAE\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4EC0\\u4E48\\u65F6\\u5019\\u7528-watch\",children:(0,n.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u65F6\\u5019\\u7528-watch\",children:\"\\u4EC0\\u4E48\\u65F6\\u5019\\u7528 watch\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u9700\\u8981\\u7CBE\\u786E\\u63A7\\u5236\\u76D1\\u542C\\u5BF9\\u8C61\\uFF0C\\u6BD4\\u5982\\u53EA\\u5173\\u5FC3\\u67D0\\u4E2A\\u5C5E\\u6027\\u53D8\\u5316\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u9700\\u8981\\u65B0\\u65E7\\u503C\\u505A\\u5BF9\\u6BD4\\u903B\\u8F91\\uFF0C\\u6BD4\\u5982\\u8868\\u5355\\u6821\\u9A8C\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9700\\u8981\\u5EF6\\u8FDF\\u6267\\u884C\\u6216\\u6761\\u4EF6\\u89E6\\u53D1\\uFF08\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"immediate\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"flush\"})})})}),\" \\u7B49\\u9009\\u9879\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F8B\\u5B50\\uFF1A\\u76D1\\u542C\\u7528\\u6237\\u8F93\\u5165\\u5E76\\u9632\\u6296\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { ref, watch } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { debounce } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'lodash'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" search\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ref\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" searchAPI\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" debounce\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"val\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u641C\\u7D22\\uFF1A${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"val\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(search, (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newVal\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      searchAPI\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newVal);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { search };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4EC0\\u4E48\\u65F6\\u5019\\u7528-watcheffect\",children:(0,n.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u65F6\\u5019\\u7528-watcheffect\",children:\"\\u4EC0\\u4E48\\u65F6\\u5019\\u7528 watchEffect\\uFF1F\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u4F9D\\u8D56\\u5173\\u7CFB\\u7B80\\u5355\\uFF0C\\u4E0D\\u60F3\\u624B\\u52A8\\u6307\\u5B9A\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u9700\\u8981\\u7ACB\\u5373\\u6267\\u884C\\u526F\\u4F5C\\u7528\\uFF0C\\u6BD4\\u5982\\u521D\\u59CB\\u5316\\u65F6\\u8BF7\\u6C42\\u6570\\u636E\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u903B\\u8F91\\u66F4\\u504F\\u5411\\u201C\\u54CD\\u5E94\\u5F0F\\u8054\\u52A8\\u201D\\uFF0C\\u800C\\u975E\\u7CBE\\u786E\\u63A7\\u5236\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F8B\\u5B50\\uFF1A\\u52A8\\u6001\\u66F4\\u65B0\\u6807\\u9898\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { reactive, watchEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'vue'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setup\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" state\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" reactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ title: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Vue3'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", count: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    watchEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      document.title \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"title\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} - ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" increment\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" state.count\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { state, increment };\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6CE8\\u610F\\u4E8B\\u9879\\u4E0E\\u9677\\u9631\",children:(0,n.jsx)(e.a,{href:\"#\\u6CE8\\u610F\\u4E8B\\u9879\\u4E0E\\u9677\\u9631\",children:\"\\u6CE8\\u610F\\u4E8B\\u9879\\u4E0E\\u9677\\u9631\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"watch \\u7684\\u6DF1\\u5C42\\u76D1\\u542C\"}),`\\uFF1A\n\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C`,(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u5BF9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"reactive\"})})})}),\" \\u5BF9\\u8C61\\u662F\\u6D45\\u76D1\\u542C\\uFF0C\\u9700\\u8BBE\\u7F6E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"deep: true\"})})})}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"watch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(state, (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"newState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newState.list);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, { deep: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"watchEffect \\u7684\\u6E05\\u7406\"}),`\\uFF1A\n\\u5B83\\u652F\\u6301 `,(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"onInvalidate\"})})})}),\" \\u6E05\\u7406\\u526F\\u4F5C\\u7528\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"watchEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"onInvalidate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" timer\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5B9A\\u65F6\\u5668'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  onInvalidate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" clearTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(timer));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u8003\\u91CF\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u53EF\\u80FD\\u56E0\\u4F9D\\u8D56\\u8FC7\\u591A\\u5BFC\\u81F4\\u4E0D\\u5FC5\\u8981\\u6267\\u884C\\uFF0C\\u5C3D\\u91CF\\u4FDD\\u6301\\u56DE\\u8C03\\u7B80\\u5355\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u7684\\u7CBE\\u786E\\u63A7\\u5236\\u53EF\\u4EE5\\u907F\\u514D\\u5197\\u4F59\\u8BA1\\u7B97\\u3002\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3\",children:\"\\u603B\\u7ED3\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u662F Vue3 \\u54CD\\u5E94\\u5F0F\\u7CFB\\u7EDF\\u7684\\u4E24\\u628A\\u5229\\u5668\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u9002\\u5408\\u9700\\u8981\\u7CBE\\u786E\\u63A7\\u5236\\u7684\\u573A\\u666F\\uFF0C\\u800C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watchEffect\"})})})}),\" \\u66F4\\u9002\\u5408\\u5FEB\\u901F\\u54CD\\u5E94\\u5F0F\\u8054\\u52A8\\u3002\\u4ECE\\u6E90\\u7801\\u770B\\uFF0C\\u5B83\\u4EEC\\u90FD\\u57FA\\u4E8E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"ReactiveEffect\"})})})}),\"\\uFF0C\\u4F46 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"watch\"})})})}),\" \\u591A\\u4E86\\u4E00\\u5C42\\u663E\\u5F0F\\u6E90\\u7BA1\\u7406\\u548C\\u56DE\\u8C03\\u8C03\\u5EA6\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u5E2E\\u4F60\\u7406\\u6E05\\u5B83\\u4EEC\\u7684\\u533A\\u522B\\u548C\\u7528\\u6CD5\\u3002\\u65E0\\u8BBA\\u662F\\u65E5\\u5E38\\u5F00\\u53D1\\u8FD8\\u662F\\u9762\\u8BD5\\uFF0C\\u641E\\u61C2\\u8FD9\\u4E9B\\u7EC6\\u8282\\u90FD\\u80FD\\u8BA9\\u4F60\\u66F4\\u81EA\\u4FE1\\u5730\\u9A7E\\u9A6D Vue3\\u3002\\u6709\\u4EC0\\u4E48\\u7591\\u95EE\\u6216\\u6709\\u8DA3\\u7684\\u7528\\u6CD5\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u4EA4\\u6D41\\uFF01\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(h,{...l})}):h(l)}return B(x);})();\n;return Component;"
  },
  "_id": "Vue.js/聊聊Vue3中watch和watchEffect区别和用法.mdx",
  "_raw": {
    "sourceFilePath": "Vue.js/聊聊Vue3中watch和watchEffect区别和用法.mdx",
    "sourceFileName": "聊聊Vue3中watch和watchEffect区别和用法.mdx",
    "sourceFileDir": "Vue.js",
    "contentType": "mdx",
    "flattenedPath": "Vue.js/聊聊Vue3中watch和watchEffect区别和用法"
  },
  "type": "Post",
  "url": "/blog/Vue.js/聊聊Vue3中watch和watchEffect区别和用法"
}
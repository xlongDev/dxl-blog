{
  "title": "å¾®å‰ç«¯ä¹‹æ²™ç®±éš”ç¦»ï¼Œä½ å­¦ä¼šäº†å—ï¼Ÿ",
  "date": "2024-05-06T00:00:00.000Z",
  "description": "æ·±å…¥æ¢è®¨å¾®å‰ç«¯ä¸­çš„æ²™ç®±éš”ç¦»æœºåˆ¶ï¼Œå‰–æåŸç†ã€å®ç°æ–¹å¼ä¸æœ€ä½³å®è·µï¼Œå¸¦ä½ ä»å…¥é—¨åˆ°ç²¾é€šï¼Œè§£é”å¾®å‰ç«¯çš„â€˜å®‰å…¨é­”æ³•â€™ã€‚",
  "keywords": "å¾®å‰ç«¯, æ²™ç®±éš”ç¦», JavaScript æ²™ç®±, Web å¼€å‘, å‰ç«¯æ¶æ„, Qiankun, Single-SPA, æœ€ä½³å®è·µ",
  "author": "æ™“é¾™",
  "image": "/images/hero/microfrontend-sandbox.jpg",
  "tags": [
    "å¾®å‰ç«¯",
    "JavaScript",
    "å‰ç«¯æ¶æ„"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå—¨ï¼Œå„ä½å‰ç«¯è€é“ä»¬ï¼ä»Šå¤©å’±ä»¬è¦èŠä¸€ä¸ªå¾®å‰ç«¯é‡Œæ—¢ç¡¬æ ¸åˆçƒ§è„‘çš„è¯é¢˜â€”â€”**æ²™ç®±éš”ç¦»**ã€‚å¦‚æœä½ å·²ç»å¼€å§‹æŠ˜è…¾å¾®å‰ç«¯ï¼Œæˆ–è€…ç”¨è¿‡ `Qiankun`ã€`Single-SPA` è¿™ç±»æ¡†æ¶ï¼Œé‚£â€œæ²™ç®±â€è¿™ä¸ªè¯è‚¯å®šä¸é™Œç”Ÿã€‚å¬èµ·æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹åƒã€Šæ²™ä¸˜ã€‹é‡Œçš„æ²™æ¼ éš”ç¦»å¸¦ï¼Ÿå…¶å®æ²¡é‚£ä¹ˆç§‘å¹»ï¼Œä½†å®ƒç¡®å®æ˜¯å¾®å‰ç«¯ä½“ç³»é‡Œçš„â€œå®‰å…¨å«å£«â€ï¼Œèƒ½è®©å¤šä¸ªå­åº”ç”¨åœ¨åŒä¸€ä¸ªé¡µé¢é‡Œå’Œå¹³å…±å­˜ï¼Œä¸è‡³äºä¸Šæ¼”â€œå…¨æ­¦è¡Œâ€ã€‚è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä¼šå¸¦ä½ ä»åŸç†åˆ°å®è·µï¼Œæ·±å…¥æ‹†è§£æ²™ç®±éš”ç¦»çš„æ¯ä¸ªè§’è½ï¼Œé…ä¸Šä¾‹å­ã€ç±»æ¯”å’Œä¸€äº›æˆ‘è¸©å‘åçš„è¡€æ³ªå¿ƒå¾—ï¼ŒåŠ›æ±‚æ—¢æœ‰æ·±åº¦åˆæ¥åœ°æ°”ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿç³»å¥½å®‰å…¨å¸¦ï¼Œå’±ä»¬å¼€æ•´ï¼ğŸš€\n\n## ä»€ä¹ˆæ˜¯æ²™ç®±éš”ç¦»ï¼Ÿåˆ«è¢«åå­—å”¬ä½äº†\n\nå…ˆä»åŸºç¡€è®²èµ·ï¼Œæ²™ç®±éš”ç¦»æ˜¯å¾®å‰ç«¯æ¡†æ¶ç”¨æ¥é˜²æ­¢å­åº”ç”¨ä¹‹é—´â€œäº’ç›¸æ£ä¹±â€çš„æ ¸å¿ƒæœºåˆ¶ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å®¶å°åŒºé‡Œä½äº†å¥½å‡ æˆ·äººå®¶ï¼ˆå­åº”ç”¨ï¼‰ï¼Œæ¯å®¶éƒ½æœ‰è‡ªå·±çš„å°é™¢å­ï¼ˆè¿è¡Œç¯å¢ƒï¼‰ï¼Œé™¢å¢™ï¼ˆæ²™ç®±ï¼‰ä¿è¯å¤§å®¶äº’ä¸å¹²æ‰°ã€‚å¦‚æœæ²¡æœ‰è¿™å µå¢™ï¼ŒA å®¶çš„ç‹—å¯èƒ½ä¼šè·‘å» B å®¶é™¢å­é‡Œæ’’æ¬¢ï¼ŒC å®¶çš„ WiFi ä¿¡å·å¯èƒ½ä¼šæŠŠ D å®¶çš„æ™ºèƒ½éŸ³ç®±æä¹±â€”â€”è¿™å°±æ˜¯å¾®å‰ç«¯æ²¡æ²™ç®±æ—¶çš„æƒ¨çŠ¶ã€‚\n\næ²™ç®±éš”ç¦»çš„ç›®æ ‡å¾ˆæ˜ç¡®ï¼š\n1. **JS éš”ç¦»**ï¼šæ¯ä¸ªå­åº”ç”¨çš„ JavaScript è¿è¡Œæ—¶ç‹¬ç«‹ï¼Œäº’ä¸æ±¡æŸ“ã€‚\n2. **CSS éš”ç¦»**ï¼šé¿å…æ ·å¼å†²çªï¼Œæ¯”å¦‚å­åº”ç”¨ A çš„ `.button` æŠŠå­åº”ç”¨ B çš„æŒ‰é’®æå¾—â€œèŠ±é‡Œèƒ¡å“¨â€ã€‚\n3. **èµ„æºéš”ç¦»**ï¼šåŒ…æ‹¬ DOM æ“ä½œã€äº‹ä»¶ç›‘å¬ç­‰ï¼Œé˜²æ­¢å­åº”ç”¨æŠ¢å ä¸»åº”ç”¨çš„â€œåœ°ç›˜â€ã€‚\n\nå¬èµ·æ¥ç®€å•ï¼Œä½†å®ç°èµ·æ¥å¯æ²¡é‚£ä¹ˆè½»æ¾ã€‚æµè§ˆå™¨ç¯å¢ƒå¤©ç”Ÿæ˜¯ä¸ªâ€œå¤§æ‚çƒ©â€ï¼Œ`window` å¯¹è±¡æ˜¯æ‰€æœ‰ JS ä»£ç çš„å…¬å…±å®¢å…ï¼ŒCSS çš„å±‚å è§„åˆ™æ›´æ˜¯â€œè°ååŠ è½½è°è¯´äº†ç®—â€ã€‚æ²™ç®±éš”ç¦»æœ¬è´¨ä¸Šæ˜¯ç”¨æŠ€æœ¯æ‰‹æ®µç»™è¿™ä¸ªâ€œé‡ç”Ÿç¯å¢ƒâ€å¥—ä¸Šâ€œç´§èº«è¡£â€ï¼Œæ—¢è¦ä¿è¯åŠŸèƒ½ï¼Œåˆè¦ç»´æŒç§©åºã€‚\n\n## æ²™ç®±éš”ç¦»çš„åŸç†ï¼šä»â€œç¬¼å­â€åˆ°â€œé­”æ³•â€\n\nè¦ææ‡‚æ²™ç®±éš”ç¦»çš„åº•å±‚é€»è¾‘ï¼Œå’±ä»¬å¾—æ‹†å¼€å®ƒçš„â€œå‘åŠ¨æœºâ€çœ‹çœ‹ã€‚ç›®å‰ä¸»æµçš„ JS æ²™ç®±å®ç°æœ‰ä¸¤ç§ï¼š**å¿«ç…§æ²™ç®±**å’Œ**ä»£ç†æ²™ç®±**ï¼Œè¿˜æœ‰ä¸€äº›å†·é—¨æ–¹æ¡ˆï¼ˆæ¯”å¦‚ iframeï¼‰ã€‚æˆ‘ç”¨ç±»æ¯”å’Œä»£ç ä¸€æ­¥æ­¥å¸¦ä½ æ‹†è§£ã€‚\n\n### 1. å¿«ç…§æ²™ç®±ï¼šæ—¶é—´èƒ¶å›Šçš„é­”æ³•\n\nå¿«ç…§æ²™ç®±ï¼ˆSnapshot Sandboxï¼‰çš„å·¥ä½œæ–¹å¼å°±åƒæ‹ç…§ç‰‡ï¼Œæˆ–è€…æ›´å½¢è±¡ç‚¹ï¼Œåƒç©æ²™ç›’æ¸¸æˆï¼ˆæ¯”å¦‚ Minecraftï¼‰æ—¶çš„å­˜æ¡£ã€‚æ¯æ¬¡ä½ è¿›å…¥ä¸€ä¸ªæ–°åŒºåŸŸï¼ˆå­åº”ç”¨ï¼‰å‰ï¼Œæ¸¸æˆä¼šæŠŠå½“å‰ä¸–ç•Œçš„çŠ¶æ€ä¿å­˜ä¸‹æ¥â€”â€”è¿™å°±æ˜¯â€œå¿«ç…§â€ã€‚ä½ å¯ä»¥åœ¨æ–°åŒºåŸŸé‡Œéšä¾¿æŒ–çŸ¿ã€å»ºæˆ¿ï¼ˆä¿®æ”¹ `window`ï¼‰ï¼Œç­‰ä½ ç¦»å¼€æ—¶ï¼Œæ¸¸æˆæŠŠä¹‹å‰çš„å­˜æ¡£åŠ è½½å›æ¥ï¼Œä¸–ç•Œå°±æ¢å¤åŸæ ·ã€‚\n\nåœ¨å¾®å‰ç«¯é‡Œï¼Œå¿«ç…§æ²™ç®±çš„æµç¨‹æ˜¯ï¼š\n- **åŠ è½½å­åº”ç”¨å‰**ï¼šæŠŠå½“å‰çš„ `window` å¯¹è±¡çŠ¶æ€ï¼ˆå…¨å±€å˜é‡ã€äº‹ä»¶ç›‘å¬ç­‰ï¼‰å®Œæ•´å¤‡ä»½ã€‚\n- **å­åº”ç”¨è¿è¡Œæ—¶**ï¼šéšä¾¿æŠ˜è…¾ `window`ï¼ŒåŠ å˜é‡ã€æ”¹å±æ€§éƒ½æ²¡é—®é¢˜ã€‚\n- **å¸è½½å­åº”ç”¨æ—¶**ï¼šæŠŠå¤‡ä»½æ‹¿å‡ºæ¥ï¼Œå¼ºåˆ¶æ¢å¤ `window` åˆ°åˆå§‹çŠ¶æ€ã€‚\n\nä»£ç ç¤ºä¾‹ï¼ˆç¨å¾®è¯¦ç»†ç‚¹ï¼‰ï¼š\n\n```javascript\nclass SnapshotSandbox {\n  constructor() {\n    this.windowSnapshot = {}; // å­˜å¿«ç…§\n    this.modifiedProps = new Map(); // è®°å½•å­åº”ç”¨çš„ä¿®æ”¹\n  }\n\n  // æ¿€æ´»æ²™ç®±\n  active() {\n    // æ·±æ‹·è´å½“å‰ window çš„å¯æšä¸¾å±æ€§\n    for (let prop in window) {\n      if (window.hasOwnProperty(prop)) {\n        this.windowSnapshot[prop] = window[prop];\n      }\n    }\n  }\n\n  // é€€å‡ºæ²™ç®±\n  inactive() {\n    // æ¢å¤å¿«ç…§ï¼Œæ¸…ç†å­åº”ç”¨çš„â€œç—•è¿¹â€\n    for (let prop in window) {\n      if (this.windowSnapshot[prop] !== undefined) {\n        window[prop] = this.windowSnapshot[prop];\n      } else if (!this.windowSnapshot.hasOwnProperty(prop)) {\n        delete window[prop]; // åˆ é™¤å­åº”ç”¨æ–°å¢çš„å±æ€§\n      }\n    }\n  }\n}\n\n// ä½¿ç”¨\nconst sandbox = new SnapshotSandbox();\nsandbox.active();\nwindow.myVar = \"å­åº”ç”¨æçš„å˜é‡\";\nwindow.alert = () => console.log(\"æˆ‘è¢«åŠ«æŒäº†ï¼\");\nconsole.log(window.myVar); // \"å­åº”ç”¨æçš„å˜é‡\"\nsandbox.inactive();\nconsole.log(window.myVar); // undefinedï¼Œæ¢å¤äº†\n```\n\n**ä¼˜ç‚¹**ï¼šç®€å•ç›´æ¥ï¼Œé€‚åˆå­åº”ç”¨å°‘ã€åˆ‡æ¢ä¸é¢‘ç¹çš„åœºæ™¯ã€‚  \n**ç¼ºç‚¹**ï¼šæ€§èƒ½å¼€é”€å¤§ï¼Œæ¯æ¬¡æ¢å¤éƒ½è¦éå† `window`ï¼Œè€Œä¸”æ²¡æ³•å¤„ç†åŠ¨æ€æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ï¼ˆæ¯”å¦‚ `addEventListener`ï¼‰ã€‚å¦‚æœå­åº”ç”¨å¤šäº†ï¼Œç›¸å½“äºæ¯æ¬¡æ¬å®¶éƒ½å¾—æŠŠå®¶å…·ä¸€ä»¶ä»¶æ¬å›å»ï¼Œå¤ªç´¯äº†ã€‚\n\n**Tips**:  \nå¯ä»¥ç”¨ `Object.keys(window)` ä¼˜åŒ–éå†èŒƒå›´ï¼Œé¿å…å¤„ç†ä¸å¯æšä¸¾çš„å†…ç½®å±æ€§ï¼ˆæ¯”å¦‚ `window.console`ï¼‰ã€‚å¦å¤–ï¼Œè®°å¾—åœ¨ `inactive` æ—¶æ¸…ç†æœªè®°å½•çš„å…¨å±€å‰¯ä½œç”¨ï¼Œä¸ç„¶å¯èƒ½ä¼šæ¼ç½‘ä¹‹é±¼ã€‚\n\n### 2. ä»£ç†æ²™ç®±ï¼šé•œå­ä¸–ç•Œçš„é­”æ³•\n\nä»£ç†æ²™ç®±ï¼ˆProxy Sandboxï¼‰å°±é«˜çº§å¤šäº†ï¼Œå®ƒç”¨çš„æ˜¯ ES6 çš„ `Proxy` å¯¹è±¡ï¼Œå ªç§°æ²™ç®±ç•Œçš„â€œé»‘é­”æ³•â€ã€‚å®ƒçš„æ€è·¯ä¸æ˜¯â€œæ¢å¤ç°åœºâ€ï¼Œè€Œæ˜¯ç»™æ¯ä¸ªå­åº”ç”¨å‘ä¸€ä¸ªâ€œå‡ `window`â€ï¼Œè®©å®ƒä»¬ä»¥ä¸ºè‡ªå·±åœ¨æ“ä½œå…¨å±€å¯¹è±¡ï¼Œå…¶å®åªæ˜¯ä¸ªç‹¬ç«‹é•œåƒã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼šä½ æ˜¯ä¸ªå›½ç‹ï¼ˆä¸»åº”ç”¨ï¼‰ï¼Œæ¯ä¸ªå­åº”ç”¨æ˜¯ä½ çš„è‡£å­ã€‚ä½ ä¸æƒ³è®©ä»–ä»¬ç›´æ¥åŠ¨ä½ çš„ç‹å®«ï¼ˆ`window`ï¼‰ï¼Œäºæ˜¯ç»™æ¯ä¸ªè‡£å­å‘äº†ä¸ªâ€œé­”æ³•é•œå­â€ï¼ˆProxy å¯¹è±¡ï¼‰ã€‚ä»–ä»¬åœ¨é•œå­é‡Œè£…ä¿®ã€æ‘†å®¶å…·ï¼Œä»¥ä¸ºè‡ªå·±æŒæ§å…¨å±€ï¼Œå…¶å®åªæ˜¯ä¸ªç‹¬ç«‹ç©ºé—´ï¼Œäº’ä¸å¹²æ‰°ã€‚\n\nä»£ç ç¤ºä¾‹ï¼ˆåŠ ç‚¹ç»†èŠ‚ï¼‰ï¼š\n\n```javascript\nclass ProxySandbox {\n  constructor(name) {\n    this.name = name; // æ²™ç®±åå­—ï¼Œæ–¹ä¾¿è°ƒè¯•\n    this.sandboxProps = {}; // å­åº”ç”¨çš„ç§æœ‰ç©ºé—´\n    this.proxyWindow = new Proxy(window, {\n      get: (target, prop) => {\n        // ä¼˜å…ˆè¿”å›æ²™ç®±è‡ªå·±çš„å˜é‡\n        if (this.sandboxProps.hasOwnProperty(prop)) {\n          return this.sandboxProps[prop];\n        }\n        // å¦åˆ™å›é€€åˆ°çœŸå®çš„ window\n        return typeof target[prop] === \"function\"\n          ? target[prop].bind(target) // ç»‘å®š thisï¼Œé¿å…å‡½æ•°è°ƒç”¨å‡ºé”™\n          : target[prop];\n      },\n      set: (target, prop, value) => {\n        // å­˜åˆ°æ²™ç®±ç§æœ‰ç©ºé—´ï¼Œä¸æ±¡æŸ“å…¨å±€\n        this.sandboxProps[prop] = value;\n        return true;\n      },\n      has: (target, prop) => {\n        // æ”¯æŒ in æ“ä½œç¬¦\n        return prop in this.sandboxProps || prop in target;\n      }\n    });\n  }\n\n  active() {\n    return this.proxyWindow;\n  }\n\n  inactive() {\n    // å¯é€‰ï¼šæ¸…ç†æ²™ç®±çŠ¶æ€\n    this.sandboxProps = {};\n  }\n}\n\n// ä½¿ç”¨\nconst sandbox = new ProxySandbox(\"app1\");\nconst fakeWindow = sandbox.active();\nfakeWindow.myVar = \"å­åº”ç”¨çš„å˜é‡\";\nfakeWindow.alert(\"Hello from sandbox!\");\nconsole.log(fakeWindow.myVar); // \"å­åº”ç”¨çš„å˜é‡\"\nconsole.log(window.myVar); // undefinedï¼Œä¸»åº”ç”¨æ²¡è¢«æ±¡æŸ“\n```\n\n**ä¼˜ç‚¹**ï¼šéš”ç¦»å½»åº•ï¼Œæ€§èƒ½ä¼˜äºå¿«ç…§æ²™ç®±ï¼Œé€‚åˆå¤æ‚åœºæ™¯ã€‚  \n**ç¼ºç‚¹**ï¼š`Proxy` åªèƒ½ä»£ç†å±æ€§æ“ä½œï¼Œåƒ `addEventListener` è¿™ç§ç›´æ¥ç»‘å®šåˆ° `window` çš„æ–¹æ³•éœ€è¦é¢å¤–å¤„ç†ã€‚è€Œä¸”è€æµè§ˆå™¨ï¼ˆIE ç³»åˆ—ï¼‰ä¸æ”¯æŒ `Proxy`ï¼Œå¾—åŠ  polyfillã€‚\n\n**Tips**:  \nå¯ä»¥ç”¨ `Reflect` API ä¼˜åŒ– `get` å’Œ `set`ï¼Œæé«˜ä»£ç å¥å£®æ€§ã€‚å¦å¤–ï¼Œè°ƒè¯•æ—¶å¯ä»¥åœ¨ `sandboxProps` é‡ŒåŠ ä¸ªæ—¥å¿—ï¼Œè®°å½•å­åº”ç”¨çš„æ“ä½œï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ã€‚\n\n### 3. iframe æ²™ç®±ï¼šè€æ´¾ä½†ç¡¬æ ¸çš„é€‰æ‹©\n\né™¤äº†å¿«ç…§å’Œä»£ç†ï¼Œè¿˜æœ‰ä¸ªâ€œè€å¤è‘£â€æ–¹æ¡ˆâ€”â€”`iframe`ã€‚å®ƒå¤©ç”Ÿå°±æ˜¯æµè§ˆå™¨çš„æ²™ç®±ï¼Œæ¯ä¸ª `iframe` éƒ½æœ‰ç‹¬ç«‹çš„ `window` å’Œ DOMï¼Œéš”ç¦»æ•ˆæœæ‹‰æ»¡ã€‚å°±åƒç»™æ¯ä¸ªå­åº”ç”¨ç§Ÿäº†ä¸ªç‹¬ç«‹å…¬å¯“ï¼Œè¿æ°´ç”µéƒ½ä¸å…±ç”¨ã€‚\n\nä»£ç ç¤ºä¾‹ï¼š\n\n```html\n<iframe id=\"app1\" src=\"http://localhost:3001\" sandbox=\"allow-scripts\"></iframe>\n```\n\n**ä¼˜ç‚¹**ï¼šéš”ç¦»æœ€å½»åº•ï¼Œè¿æµè§ˆå™¨ä¸Šä¸‹æ–‡éƒ½åˆ†å¼€äº†ã€‚  \n**ç¼ºç‚¹**ï¼šé€šä¿¡éº»çƒ¦ï¼ˆå¾—ç”¨ `postMessage`ï¼‰ï¼Œæ ·å¼å’Œ DOM ç®¡ç†å¤æ‚ï¼Œæ€§èƒ½å¼€é”€ä¹Ÿé«˜ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ¯ä¸ªå­åº”ç”¨éƒ½å¼€ä¸ªæ–°çª—å£ï¼Œå†…å­˜å’Œ CPU ç›´æ¥â€œèµ·é£â€ã€‚\n\n**Tips**:  \né™¤éä½ æœ‰å¼ºéš”ç¦»éœ€æ±‚ï¼ˆæ¯”å¦‚è·‘ä¸å¯ä¿¡çš„ç¬¬ä¸‰æ–¹ä»£ç ï¼‰ï¼Œå¦åˆ™åˆ«è½»æ˜“ç”¨ `iframe`ã€‚å®ƒæ›´é€‚åˆâ€œå¾®æœåŠ¡â€è€Œéâ€œå¾®å‰ç«¯â€ã€‚\n\n## CSS éš”ç¦»ï¼šæ ·å¼ç•Œçš„â€œé˜²ç«å¢™â€\n\nJS éš”ç¦»åªæ˜¯æ•…äº‹çš„ä¸€åŠï¼ŒCSS éš”ç¦»åŒæ ·é‡è¦ã€‚ä¸ç„¶å­åº”ç”¨ A çš„ `.header { color: red }` å¯èƒ½ä¼šæŠŠå­åº”ç”¨ B çš„æ ‡é¢˜æŸ“æˆâ€œè¡€çº¢è‰²â€ï¼Œç”¨æˆ·ä½“éªŒç›´æ¥å´©ç›˜ã€‚å¸¸è§çš„ CSS éš”ç¦»æ–¹æ¡ˆæœ‰ï¼š\n\n1. **å‘½åç©ºé—´**ï¼šç»™æ¯ä¸ªå­åº”ç”¨çš„æ ·å¼åŠ å‰ç¼€ï¼Œæ¯”å¦‚ `.app1 .header`ã€`.app2 .header`ã€‚ç®€å•ç²—æš´ï¼Œä½†é å¼€å‘è€…è‡ªè§‰ï¼Œå®¹æ˜“æ¼æ‰ã€‚\n2. **Shadow DOM**ï¼šæµè§ˆå™¨åŸç”Ÿçš„â€œç¡¬éš”ç¦»â€ï¼ŒæŠŠå­åº”ç”¨çš„ DOM è£…è¿› Shadow Rootï¼Œæ ·å¼å¤©ç„¶éš”ç¦»ã€‚\n3. **åŠ¨æ€æ ·å¼æ³¨å…¥**ï¼šåŠ è½½å­åº”ç”¨æ—¶åŠ¨æ€æ’å…¥ `<style>` æ ‡ç­¾ï¼Œå¸è½½æ—¶ç§»é™¤ã€‚é…åˆ CSS Modules æˆ– Scoped CSSï¼Œèƒ½è¿›ä¸€æ­¥å‡å°‘å†²çªã€‚\n\nShadow DOM ç¤ºä¾‹ï¼š\n\n```javascript\nconst container = document.querySelector(\"#app1\");\nconst shadow = container.attachShadow({ mode: \"open\" });\nshadow.innerHTML = `\n  <style>.header { color: blue; }</style>\n  <div class=\"header\">æˆ‘æ˜¯å­åº”ç”¨1</div>\n`;\n// å¤–éƒ¨çš„ .header { color: red } å®Œå…¨å½±å“ä¸åˆ°è¿™é‡Œ\n```\n\n**Tips**:  \nShadow DOM æ˜¯â€œæ ¸æ­¦å™¨â€ï¼Œä½†ä¸æ˜¯ä¸‡èƒ½è¯ã€‚å¦‚æœå­åº”ç”¨éœ€è¦è·Ÿä¸»åº”ç”¨å…±äº«æ ·å¼ï¼Œæˆ–è€…æœ‰å¤æ‚çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå»ºè®®ç”¨åŠ¨æ€æ³¨å…¥ + å‘½åç©ºé—´ç»“åˆï¼Œæ—¢çµæ´»åˆå¯æ§ã€‚è¿˜å¯ä»¥ç”¨ PostCSS åŠ å‰ç¼€ï¼Œè‡ªåŠ¨åŒ–è§£å†³å†²çªã€‚\n\n## å®æˆ˜ä¸­çš„å‘ä¸æœ€ä½³å®è·µ\n\nç†è®ºè®²äº†ä¸€å †ï¼Œæ¥ä¸‹æ¥èŠèŠå®æˆ˜ä¸­çš„â€œå‘â€å’Œæˆ‘æ€»ç»“çš„æœ€ä½³å®è·µï¼ˆå¸¦ç‚¹è¡€æ³ªå²ï¼‰ã€‚\n\n### 1. å…¨å±€å˜é‡æ³„æ¼ï¼šé˜²ä¸èƒœé˜²çš„â€œå¹½çµâ€\n**é—®é¢˜**ï¼šå­åº”ç”¨å·å·æŒ‚äº†ä¸ª `setInterval`ï¼Œå¸è½½æ—¶æ²¡æ¸…ç†ï¼Œä¸»åº”ç”¨çš„æ€§èƒ½è¢«æ‹–å®ã€‚  \n**æœ€ä½³å®è·µ**ï¼šåœ¨æ²™ç®±é‡ŒåŠ«æŒ `setInterval` å’Œ `setTimeout`ï¼Œè®°å½•æ‰€æœ‰å®šæ—¶å™¨ IDï¼Œå¸è½½æ—¶æ‰¹é‡æ¸…ç†ã€‚\n\n```javascript\nconst originalSetInterval = window.setInterval;\nconst intervals = [];\nwindow.setInterval = (...args) => {\n  const id = originalSetInterval(...args);\n  intervals.push(id);\n  return id;\n};\n// å¸è½½æ—¶\nintervals.forEach(clearInterval);\n```\n\n**Tips**:  \nåˆ«å¿˜äº† `requestAnimationFrame` å’Œäº‹ä»¶ç›‘å¬å™¨ï¼ˆ`addEventListener`ï¼‰ï¼Œå®ƒä»¬ä¹Ÿæ˜¯æ³„æ¼å¤§æˆ·ã€‚å¯ä»¥ç”¨ WeakMap å­˜äº‹ä»¶å›è°ƒï¼Œå¸è½½æ—¶è‡ªåŠ¨å›æ”¶ã€‚\n\n### 2. ç¬¬ä¸‰æ–¹åº“çš„â€œå›å˜â€\n**é—®é¢˜**ï¼šå­åº”ç”¨ç”¨äº† jQueryï¼Œç»“æœ `window.$` è¢«æ”¹äº†ï¼Œåˆ«çš„å­åº”ç”¨ä¸€è„¸æ‡µã€‚  \n**æœ€ä½³å®è·µ**ï¼šä¼˜å…ˆç”¨æ¨¡å—åŒ–çš„åº“ï¼ˆæ¯”å¦‚ `import $ from 'jquery'`ï¼‰ï¼Œæˆ–è€…åœ¨æ²™ç®±é‡Œç»™ç¬¬ä¸‰æ–¹åº“ç»‘å®šç‹¬ç«‹ä¸Šä¸‹æ–‡ã€‚\n\n```javascript\nconst sandboxJQuery = (fakeWindow) => {\n  const script = document.createElement(\"script\");\n  script.src = \"https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js\";\n  script.onload = () => {\n    fakeWindow.$ = fakeWindow.jQuery; // ç»‘å®šåˆ°æ²™ç®±\n    delete window.$; // æ¸…ç†å…¨å±€æ±¡æŸ“\n  };\n  document.head.appendChild(script);\n};\n```\n\n**Tips**:  \nå¦‚æœæ²¡æ³•æ”¹åº“ï¼Œå¯ä»¥å†™ä¸ªâ€œéš”ç¦»å£³â€ï¼Œç”¨ `with` è¯­å¥æŠŠç¬¬ä¸‰æ–¹åº“çš„æ“ä½œé™åˆ¶åœ¨ä»£ç†å¯¹è±¡é‡Œã€‚\n\n### 3. æ€§èƒ½ç“¶é¢ˆï¼šæ²™ç®±ä¸æ˜¯å…è´¹åˆé¤\n**é—®é¢˜**ï¼šä»£ç†æ²™ç®±ç”¨å¤šäº†ï¼Œé¡µé¢å¡é¡¿æ˜æ˜¾ï¼Œå°¤å…¶åœ¨ä½ç«¯è®¾å¤‡ä¸Šã€‚  \n**æœ€ä½³å®è·µ**ï¼šè¯„ä¼°å­åº”ç”¨æ•°é‡å’Œå¤æ‚åº¦ï¼Œå°é¡¹ç›®ç”¨å¿«ç…§æ²™ç®±ï¼Œå¤§é¡¹ç›®ç”¨ä»£ç†æ²™ç®± + æŒ‰éœ€åŠ è½½ã€‚å¯ä»¥ç”¨ `IntersectionObserver` å»¶è¿ŸåŠ è½½éå¯è§†åŒºåŸŸçš„å­åº”ç”¨ã€‚\n\n**Tips**:  \nç”¨ Chrome çš„ Performance é¢æ¿åˆ†ææ²™ç®±å¼€é”€ï¼Œæ‰¾åˆ°ç“¶é¢ˆå†ä¼˜åŒ–ã€‚åˆ«ä¸€ä¸Šæ¥å°±â€œall inâ€ï¼Œé‡åŠ›è€Œè¡Œã€‚\n\n### 4. å­åº”ç”¨é€šä¿¡ï¼šæ‰“ç ´â€œå­¤å²›â€çš„è‰ºæœ¯\n**é—®é¢˜**ï¼šæ²™ç®±éš”ç¦»å¤ªä¸¥ï¼Œå­åº”ç”¨ä¹‹é—´æ²¡æ³•é€šä¿¡ï¼Œç”¨æˆ·ä½“éªŒå‰²è£‚ã€‚  \n**æœ€ä½³å®è·µ**ï¼šç”¨è‡ªå®šä¹‰äº‹ä»¶ï¼ˆ`CustomEvent`ï¼‰æˆ–å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼ˆPub/Subï¼‰å®ç°é€šä¿¡ï¼Œä¸»åº”ç”¨åšä¸­è½¬ç«™ã€‚\n\n```javascript\n// å­åº”ç”¨ A å‘é€æ¶ˆæ¯\nwindow.dispatchEvent(new CustomEvent(\"app1-message\", { detail: \"Hello from app1\" }));\n\n// ä¸»åº”ç”¨ç›‘å¬å¹¶è½¬å‘\nwindow.addEventListener(\"app1-message\", (e) => {\n  window.dispatchEvent(new CustomEvent(\"app2-message\", { detail: e.detail }));\n});\n```\n\n**Tips**:  \né€šä¿¡æ•°æ®å°½é‡åºåˆ—åŒ–ï¼ˆJSONï¼‰ï¼Œé¿å…ç›´æ¥ä¼ å¯¹è±¡ï¼Œé˜²æ­¢æ²™ç®±å¤–çš„å¼•ç”¨æ³„æ¼ã€‚\n\n## ä¸€ç‚¹å¹½é»˜çš„æ€»ç»“ï¼šæ²™ç®±æ˜¯â€œç¬¼å­â€è¿˜æ˜¯â€œæ¸¸ä¹åœºâ€ï¼Ÿ\n\nå†™åˆ°è¿™å„¿ï¼Œæˆ‘çªç„¶è§‰å¾—æ²™ç®±éš”ç¦»è¿™ç©æ„å„¿çœŸåƒå…»å® ç‰©ã€‚ä½ å¾—ç»™æ¯ä¸ªå­åº”ç”¨ï¼ˆå°çŒ«å°ç‹—ï¼‰å»ºä¸ªç¬¼å­ï¼Œæ—¢è¦è®©å®ƒä»¬ç©å¾—å¼€å¿ƒï¼ˆåŠŸèƒ½æ­£å¸¸ï¼‰ï¼Œåˆä¸èƒ½è®©å®ƒä»¬äº’ç›¸æŒ è„¸ï¼ˆå†²çªï¼‰ã€‚å¿«ç…§æ²™ç®±åƒæ˜¯å®šæ—¶æ”¶æ‹¾æˆ¿é—´ï¼Œä»£ç†æ²™ç®±æ›´åƒæ˜¯ç»™æ¯åªå® ç‰©å‘ä¸ª VR çœ¼é•œï¼Œæ²‰æµ¸å¼ä½“éªŒäº’ä¸å¹²æ‰°ã€‚CSS éš”ç¦»å‘¢ï¼Ÿé‚£å°±æ˜¯ç»™å®ƒä»¬ç©¿ä¸Šä¸åŒé¢œè‰²çš„é©¬ç”²ï¼Œçœå¾—è®¤é”™ã€‚è‡³äº iframeï¼Œç®€ç›´æ˜¯æŠŠæ¯åªå® ç‰©å…³è¿›ç‹¬ç«‹å°é»‘å±‹ï¼Œè¿çª—æˆ·éƒ½ä¸ç»™å¼€ã€‚\n\næ€»ä¹‹ï¼Œæ²™ç®±éš”ç¦»ä¸éš¾ï¼Œéš¾çš„æ˜¯åœ¨å®æˆ˜ä¸­æ‰¾åˆ°å¹³è¡¡ã€‚å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¸®ä½ å°‘è¸©å‡ ä¸ªå‘ï¼Œå¤šæŒæ¡ç‚¹â€œé­”æ³•â€ã€‚å¦‚æœä½ æœ‰å•¥ç‹¬ç‰¹çš„å®ç°æ€è·¯ï¼Œæˆ–è€…è¸©è¿‡æ›´æœ‰æ„æ€çš„å‘ï¼Œæ¬¢è¿ç•™è¨€è·Ÿæˆ‘èŠèŠï¼Œå’±ä»¬ä¸€èµ·è¿›æ­¥ï¼æ¯•ç«Ÿï¼Œå‰ç«¯è¿™æ¡è·¯ï¼Œä¸å°±æ˜¯è¾¹å­¦è¾¹â€œä¿®ç¬¼å­â€å—ï¼ŸğŸ˜„\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var u=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var r in e)d(l,r,{get:e[r],enumerable:!0})},i=(l,e,r,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!F.call(l,a)&&a!==r&&d(l,a,{get:()=>e[a],enumerable:!(c=E(e,a))||c.enumerable});return l};var m=(l,e,r)=>(r=l!=null?p(g(l)):{},i(e||!l||!l.__esModule?d(r,\"default\",{value:l,enumerable:!0}):r,l)),b=l=>i(d({},\"__esModule\",{value:!0}),l);var s=u((k,t)=>{t.exports=_jsx_runtime});var w={};f(w,{default:()=>h,frontmatter:()=>B});var n=m(s()),B={type:\"Post\",title:\"\\u5FAE\\u524D\\u7AEF\\u4E4B\\u6C99\\u7BB1\\u9694\\u79BB\\uFF0C\\u4F60\\u5B66\\u4F1A\\u4E86\\u5417\\uFF1F\",date:\"2024-05-06\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u5FAE\\u524D\\u7AEF\\u4E2D\\u7684\\u6C99\\u7BB1\\u9694\\u79BB\\u673A\\u5236\\uFF0C\\u5256\\u6790\\u539F\\u7406\\u3001\\u5B9E\\u73B0\\u65B9\\u5F0F\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u4ECE\\u5165\\u95E8\\u5230\\u7CBE\\u901A\\uFF0C\\u89E3\\u9501\\u5FAE\\u524D\\u7AEF\\u7684\\u2018\\u5B89\\u5168\\u9B54\\u6CD5\\u2019\\u3002\",keywords:\"\\u5FAE\\u524D\\u7AEF, \\u6C99\\u7BB1\\u9694\\u79BB, JavaScript \\u6C99\\u7BB1, Web \\u5F00\\u53D1, \\u524D\\u7AEF\\u67B6\\u6784, Qiankun, Single-SPA, \\u6700\\u4F73\\u5B9E\\u8DF5\",author:\"\\u6653\\u9F99\",image:\"/images/hero/microfrontend-sandbox.jpg\",tags:[\"\\u5FAE\\u524D\\u7AEF\",\"JavaScript\",\"\\u524D\\u7AEF\\u67B6\\u6784\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function o(l){let e={a:\"a\",br:\"br\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u55E8\\uFF0C\\u5404\\u4F4D\\u524D\\u7AEF\\u8001\\u94C1\\u4EEC\\uFF01\\u4ECA\\u5929\\u54B1\\u4EEC\\u8981\\u804A\\u4E00\\u4E2A\\u5FAE\\u524D\\u7AEF\\u91CC\\u65E2\\u786C\\u6838\\u53C8\\u70E7\\u8111\\u7684\\u8BDD\\u9898\\u2014\\u2014\",(0,n.jsx)(e.strong,{children:\"\\u6C99\\u7BB1\\u9694\\u79BB\"}),\"\\u3002\\u5982\\u679C\\u4F60\\u5DF2\\u7ECF\\u5F00\\u59CB\\u6298\\u817E\\u5FAE\\u524D\\u7AEF\\uFF0C\\u6216\\u8005\\u7528\\u8FC7 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Qiankun\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Single-SPA\"})})})}),\" \\u8FD9\\u7C7B\\u6846\\u67B6\\uFF0C\\u90A3\\u201C\\u6C99\\u7BB1\\u201D\\u8FD9\\u4E2A\\u8BCD\\u80AF\\u5B9A\\u4E0D\\u964C\\u751F\\u3002\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u50CF\\u300A\\u6C99\\u4E18\\u300B\\u91CC\\u7684\\u6C99\\u6F20\\u9694\\u79BB\\u5E26\\uFF1F\\u5176\\u5B9E\\u6CA1\\u90A3\\u4E48\\u79D1\\u5E7B\\uFF0C\\u4F46\\u5B83\\u786E\\u5B9E\\u662F\\u5FAE\\u524D\\u7AEF\\u4F53\\u7CFB\\u91CC\\u7684\\u201C\\u5B89\\u5168\\u536B\\u58EB\\u201D\\uFF0C\\u80FD\\u8BA9\\u591A\\u4E2A\\u5B50\\u5E94\\u7528\\u5728\\u540C\\u4E00\\u4E2A\\u9875\\u9762\\u91CC\\u548C\\u5E73\\u5171\\u5B58\\uFF0C\\u4E0D\\u81F3\\u4E8E\\u4E0A\\u6F14\\u201C\\u5168\\u6B66\\u884C\\u201D\\u3002\\u8FD9\\u7BC7\\u6587\\u7AE0\\uFF0C\\u6211\\u4F1A\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u6DF1\\u5165\\u62C6\\u89E3\\u6C99\\u7BB1\\u9694\\u79BB\\u7684\\u6BCF\\u4E2A\\u89D2\\u843D\\uFF0C\\u914D\\u4E0A\\u4F8B\\u5B50\\u3001\\u7C7B\\u6BD4\\u548C\\u4E00\\u4E9B\\u6211\\u8E29\\u5751\\u540E\\u7684\\u8840\\u6CEA\\u5FC3\\u5F97\\uFF0C\\u529B\\u6C42\\u65E2\\u6709\\u6DF1\\u5EA6\\u53C8\\u63A5\\u5730\\u6C14\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u7CFB\\u597D\\u5B89\\u5168\\u5E26\\uFF0C\\u54B1\\u4EEC\\u5F00\\u6574\\uFF01\\u{1F680}\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u6C99\\u7BB1\\u9694\\u79BB\\u522B\\u88AB\\u540D\\u5B57\\u552C\\u4F4F\\u4E86\",children:(0,n.jsx)(e.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u6C99\\u7BB1\\u9694\\u79BB\\u522B\\u88AB\\u540D\\u5B57\\u552C\\u4F4F\\u4E86\",children:\"\\u4EC0\\u4E48\\u662F\\u6C99\\u7BB1\\u9694\\u79BB\\uFF1F\\u522B\\u88AB\\u540D\\u5B57\\u552C\\u4F4F\\u4E86\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5148\\u4ECE\\u57FA\\u7840\\u8BB2\\u8D77\\uFF0C\\u6C99\\u7BB1\\u9694\\u79BB\\u662F\\u5FAE\\u524D\\u7AEF\\u6846\\u67B6\\u7528\\u6765\\u9632\\u6B62\\u5B50\\u5E94\\u7528\\u4E4B\\u95F4\\u201C\\u4E92\\u76F8\\u6363\\u4E71\\u201D\\u7684\\u6838\\u5FC3\\u673A\\u5236\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u4F60\\u5BB6\\u5C0F\\u533A\\u91CC\\u4F4F\\u4E86\\u597D\\u51E0\\u6237\\u4EBA\\u5BB6\\uFF08\\u5B50\\u5E94\\u7528\\uFF09\\uFF0C\\u6BCF\\u5BB6\\u90FD\\u6709\\u81EA\\u5DF1\\u7684\\u5C0F\\u9662\\u5B50\\uFF08\\u8FD0\\u884C\\u73AF\\u5883\\uFF09\\uFF0C\\u9662\\u5899\\uFF08\\u6C99\\u7BB1\\uFF09\\u4FDD\\u8BC1\\u5927\\u5BB6\\u4E92\\u4E0D\\u5E72\\u6270\\u3002\\u5982\\u679C\\u6CA1\\u6709\\u8FD9\\u5835\\u5899\\uFF0CA \\u5BB6\\u7684\\u72D7\\u53EF\\u80FD\\u4F1A\\u8DD1\\u53BB B \\u5BB6\\u9662\\u5B50\\u91CC\\u6492\\u6B22\\uFF0CC \\u5BB6\\u7684 WiFi \\u4FE1\\u53F7\\u53EF\\u80FD\\u4F1A\\u628A D \\u5BB6\\u7684\\u667A\\u80FD\\u97F3\\u7BB1\\u641E\\u4E71\\u2014\\u2014\\u8FD9\\u5C31\\u662F\\u5FAE\\u524D\\u7AEF\\u6CA1\\u6C99\\u7BB1\\u65F6\\u7684\\u60E8\\u72B6\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6C99\\u7BB1\\u9694\\u79BB\\u7684\\u76EE\\u6807\\u5F88\\u660E\\u786E\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"JS \\u9694\\u79BB\"}),\"\\uFF1A\\u6BCF\\u4E2A\\u5B50\\u5E94\\u7528\\u7684 JavaScript \\u8FD0\\u884C\\u65F6\\u72EC\\u7ACB\\uFF0C\\u4E92\\u4E0D\\u6C61\\u67D3\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"CSS \\u9694\\u79BB\"}),\"\\uFF1A\\u907F\\u514D\\u6837\\u5F0F\\u51B2\\u7A81\\uFF0C\\u6BD4\\u5982\\u5B50\\u5E94\\u7528 A \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".button\"})})})}),\" \\u628A\\u5B50\\u5E94\\u7528 B \\u7684\\u6309\\u94AE\\u641E\\u5F97\\u201C\\u82B1\\u91CC\\u80E1\\u54E8\\u201D\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u8D44\\u6E90\\u9694\\u79BB\"}),\"\\uFF1A\\u5305\\u62EC DOM \\u64CD\\u4F5C\\u3001\\u4E8B\\u4EF6\\u76D1\\u542C\\u7B49\\uFF0C\\u9632\\u6B62\\u5B50\\u5E94\\u7528\\u62A2\\u5360\\u4E3B\\u5E94\\u7528\\u7684\\u201C\\u5730\\u76D8\\u201D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u542C\\u8D77\\u6765\\u7B80\\u5355\\uFF0C\\u4F46\\u5B9E\\u73B0\\u8D77\\u6765\\u53EF\\u6CA1\\u90A3\\u4E48\\u8F7B\\u677E\\u3002\\u6D4F\\u89C8\\u5668\\u73AF\\u5883\\u5929\\u751F\\u662F\\u4E2A\\u201C\\u5927\\u6742\\u70E9\\u201D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\" \\u5BF9\\u8C61\\u662F\\u6240\\u6709 JS \\u4EE3\\u7801\\u7684\\u516C\\u5171\\u5BA2\\u5385\\uFF0CCSS \\u7684\\u5C42\\u53E0\\u89C4\\u5219\\u66F4\\u662F\\u201C\\u8C01\\u540E\\u52A0\\u8F7D\\u8C01\\u8BF4\\u4E86\\u7B97\\u201D\\u3002\\u6C99\\u7BB1\\u9694\\u79BB\\u672C\\u8D28\\u4E0A\\u662F\\u7528\\u6280\\u672F\\u624B\\u6BB5\\u7ED9\\u8FD9\\u4E2A\\u201C\\u91CE\\u751F\\u73AF\\u5883\\u201D\\u5957\\u4E0A\\u201C\\u7D27\\u8EAB\\u8863\\u201D\\uFF0C\\u65E2\\u8981\\u4FDD\\u8BC1\\u529F\\u80FD\\uFF0C\\u53C8\\u8981\\u7EF4\\u6301\\u79E9\\u5E8F\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u6C99\\u7BB1\\u9694\\u79BB\\u7684\\u539F\\u7406\\u4ECE\\u7B3C\\u5B50\\u5230\\u9B54\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#\\u6C99\\u7BB1\\u9694\\u79BB\\u7684\\u539F\\u7406\\u4ECE\\u7B3C\\u5B50\\u5230\\u9B54\\u6CD5\",children:\"\\u6C99\\u7BB1\\u9694\\u79BB\\u7684\\u539F\\u7406\\uFF1A\\u4ECE\\u201C\\u7B3C\\u5B50\\u201D\\u5230\\u201C\\u9B54\\u6CD5\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8981\\u641E\\u61C2\\u6C99\\u7BB1\\u9694\\u79BB\\u7684\\u5E95\\u5C42\\u903B\\u8F91\\uFF0C\\u54B1\\u4EEC\\u5F97\\u62C6\\u5F00\\u5B83\\u7684\\u201C\\u53D1\\u52A8\\u673A\\u201D\\u770B\\u770B\\u3002\\u76EE\\u524D\\u4E3B\\u6D41\\u7684 JS \\u6C99\\u7BB1\\u5B9E\\u73B0\\u6709\\u4E24\\u79CD\\uFF1A\",(0,n.jsx)(e.strong,{children:\"\\u5FEB\\u7167\\u6C99\\u7BB1\"}),\"\\u548C\",(0,n.jsx)(e.strong,{children:\"\\u4EE3\\u7406\\u6C99\\u7BB1\"}),\"\\uFF0C\\u8FD8\\u6709\\u4E00\\u4E9B\\u51B7\\u95E8\\u65B9\\u6848\\uFF08\\u6BD4\\u5982 iframe\\uFF09\\u3002\\u6211\\u7528\\u7C7B\\u6BD4\\u548C\\u4EE3\\u7801\\u4E00\\u6B65\\u6B65\\u5E26\\u4F60\\u62C6\\u89E3\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u5FEB\\u7167\\u6C99\\u7BB1\\u65F6\\u95F4\\u80F6\\u56CA\\u7684\\u9B54\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#1-\\u5FEB\\u7167\\u6C99\\u7BB1\\u65F6\\u95F4\\u80F6\\u56CA\\u7684\\u9B54\\u6CD5\",children:\"1. \\u5FEB\\u7167\\u6C99\\u7BB1\\uFF1A\\u65F6\\u95F4\\u80F6\\u56CA\\u7684\\u9B54\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5FEB\\u7167\\u6C99\\u7BB1\\uFF08Snapshot Sandbox\\uFF09\\u7684\\u5DE5\\u4F5C\\u65B9\\u5F0F\\u5C31\\u50CF\\u62CD\\u7167\\u7247\\uFF0C\\u6216\\u8005\\u66F4\\u5F62\\u8C61\\u70B9\\uFF0C\\u50CF\\u73A9\\u6C99\\u76D2\\u6E38\\u620F\\uFF08\\u6BD4\\u5982 Minecraft\\uFF09\\u65F6\\u7684\\u5B58\\u6863\\u3002\\u6BCF\\u6B21\\u4F60\\u8FDB\\u5165\\u4E00\\u4E2A\\u65B0\\u533A\\u57DF\\uFF08\\u5B50\\u5E94\\u7528\\uFF09\\u524D\\uFF0C\\u6E38\\u620F\\u4F1A\\u628A\\u5F53\\u524D\\u4E16\\u754C\\u7684\\u72B6\\u6001\\u4FDD\\u5B58\\u4E0B\\u6765\\u2014\\u2014\\u8FD9\\u5C31\\u662F\\u201C\\u5FEB\\u7167\\u201D\\u3002\\u4F60\\u53EF\\u4EE5\\u5728\\u65B0\\u533A\\u57DF\\u91CC\\u968F\\u4FBF\\u6316\\u77FF\\u3001\\u5EFA\\u623F\\uFF08\\u4FEE\\u6539 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\"\\uFF09\\uFF0C\\u7B49\\u4F60\\u79BB\\u5F00\\u65F6\\uFF0C\\u6E38\\u620F\\u628A\\u4E4B\\u524D\\u7684\\u5B58\\u6863\\u52A0\\u8F7D\\u56DE\\u6765\\uFF0C\\u4E16\\u754C\\u5C31\\u6062\\u590D\\u539F\\u6837\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u5FAE\\u524D\\u7AEF\\u91CC\\uFF0C\\u5FEB\\u7167\\u6C99\\u7BB1\\u7684\\u6D41\\u7A0B\\u662F\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u52A0\\u8F7D\\u5B50\\u5E94\\u7528\\u524D\"}),\"\\uFF1A\\u628A\\u5F53\\u524D\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\" \\u5BF9\\u8C61\\u72B6\\u6001\\uFF08\\u5168\\u5C40\\u53D8\\u91CF\\u3001\\u4E8B\\u4EF6\\u76D1\\u542C\\u7B49\\uFF09\\u5B8C\\u6574\\u5907\\u4EFD\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5B50\\u5E94\\u7528\\u8FD0\\u884C\\u65F6\"}),\"\\uFF1A\\u968F\\u4FBF\\u6298\\u817E \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\"\\uFF0C\\u52A0\\u53D8\\u91CF\\u3001\\u6539\\u5C5E\\u6027\\u90FD\\u6CA1\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5378\\u8F7D\\u5B50\\u5E94\\u7528\\u65F6\"}),\"\\uFF1A\\u628A\\u5907\\u4EFD\\u62FF\\u51FA\\u6765\\uFF0C\\u5F3A\\u5236\\u6062\\u590D \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\" \\u5230\\u521D\\u59CB\\u72B6\\u6001\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\\uFF08\\u7A0D\\u5FAE\\u8BE6\\u7EC6\\u70B9\\uFF09\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SnapshotSandbox\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".windowSnapshot \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B58\\u5FEB\\u7167\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".modifiedProps \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Map\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u8BB0\\u5F55\\u5B50\\u5E94\\u7528\\u7684\\u4FEE\\u6539\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u6FC0\\u6D3B\\u6C99\\u7BB1\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  active\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6DF1\\u62F7\\u8D1D\\u5F53\\u524D window \\u7684\\u53EF\\u679A\\u4E3E\\u5C5E\\u6027\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    for\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prop \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"in\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"hasOwnProperty\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(prop)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".windowSnapshot[prop] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window[prop];\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  // \\u9000\\u51FA\\u6C99\\u7BB1\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  inactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u6062\\u590D\\u5FEB\\u7167\\uFF0C\\u6E05\\u7406\\u5B50\\u5E94\\u7528\\u7684\\u201C\\u75D5\\u8FF9\\u201D\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    for\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prop \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"in\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".windowSnapshot[prop] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        window[prop] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".windowSnapshot[prop];\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".windowSnapshot.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"hasOwnProperty\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(prop)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        delete\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window[prop]; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5220\\u9664\\u5B50\\u5E94\\u7528\\u65B0\\u589E\\u7684\\u5C5E\\u6027\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" sandbox\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SnapshotSandbox\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"sandbox.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"active\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.myVar \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\\u5B50\\u5E94\\u7528\\u641E\\u7684\\u53D8\\u91CF\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"alert\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\\u6211\\u88AB\\u52AB\\u6301\\u4E86\\uFF01\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(window.myVar); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"\\u5B50\\u5E94\\u7528\\u641E\\u7684\\u53D8\\u91CF\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"sandbox.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"inactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(window.myVar); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// undefined\\uFF0C\\u6062\\u590D\\u4E86\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u7B80\\u5355\\u76F4\\u63A5\\uFF0C\\u9002\\u5408\\u5B50\\u5E94\\u7528\\u5C11\\u3001\\u5207\\u6362\\u4E0D\\u9891\\u7E41\\u7684\\u573A\\u666F\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u6027\\u80FD\\u5F00\\u9500\\u5927\\uFF0C\\u6BCF\\u6B21\\u6062\\u590D\\u90FD\\u8981\\u904D\\u5386 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\"\\uFF0C\\u800C\\u4E14\\u6CA1\\u6CD5\\u5904\\u7406\\u52A8\\u6001\\u6DFB\\u52A0\\u7684\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"addEventListener\"})})})}),\"\\uFF09\\u3002\\u5982\\u679C\\u5B50\\u5E94\\u7528\\u591A\\u4E86\\uFF0C\\u76F8\\u5F53\\u4E8E\\u6BCF\\u6B21\\u642C\\u5BB6\\u90FD\\u5F97\\u628A\\u5BB6\\u5177\\u4E00\\u4EF6\\u4EF6\\u642C\\u56DE\\u53BB\\uFF0C\\u592A\\u7D2F\\u4E86\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\":\",(0,n.jsx)(e.br,{}),`\n`,\"\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Object.keys(window)\"})})})}),\" \\u4F18\\u5316\\u904D\\u5386\\u8303\\u56F4\\uFF0C\\u907F\\u514D\\u5904\\u7406\\u4E0D\\u53EF\\u679A\\u4E3E\\u7684\\u5185\\u7F6E\\u5C5E\\u6027\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window.console\"})})})}),\"\\uFF09\\u3002\\u53E6\\u5916\\uFF0C\\u8BB0\\u5F97\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"inactive\"})})})}),\" \\u65F6\\u6E05\\u7406\\u672A\\u8BB0\\u5F55\\u7684\\u5168\\u5C40\\u526F\\u4F5C\\u7528\\uFF0C\\u4E0D\\u7136\\u53EF\\u80FD\\u4F1A\\u6F0F\\u7F51\\u4E4B\\u9C7C\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u4EE3\\u7406\\u6C99\\u7BB1\\u955C\\u5B50\\u4E16\\u754C\\u7684\\u9B54\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#2-\\u4EE3\\u7406\\u6C99\\u7BB1\\u955C\\u5B50\\u4E16\\u754C\\u7684\\u9B54\\u6CD5\",children:\"2. \\u4EE3\\u7406\\u6C99\\u7BB1\\uFF1A\\u955C\\u5B50\\u4E16\\u754C\\u7684\\u9B54\\u6CD5\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4EE3\\u7406\\u6C99\\u7BB1\\uFF08Proxy Sandbox\\uFF09\\u5C31\\u9AD8\\u7EA7\\u591A\\u4E86\\uFF0C\\u5B83\\u7528\\u7684\\u662F ES6 \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Proxy\"})})})}),\" \\u5BF9\\u8C61\\uFF0C\\u582A\\u79F0\\u6C99\\u7BB1\\u754C\\u7684\\u201C\\u9ED1\\u9B54\\u6CD5\\u201D\\u3002\\u5B83\\u7684\\u601D\\u8DEF\\u4E0D\\u662F\\u201C\\u6062\\u590D\\u73B0\\u573A\\u201D\\uFF0C\\u800C\\u662F\\u7ED9\\u6BCF\\u4E2A\\u5B50\\u5E94\\u7528\\u53D1\\u4E00\\u4E2A\\u201C\\u5047 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\"\\u201D\\uFF0C\\u8BA9\\u5B83\\u4EEC\\u4EE5\\u4E3A\\u81EA\\u5DF1\\u5728\\u64CD\\u4F5C\\u5168\\u5C40\\u5BF9\\u8C61\\uFF0C\\u5176\\u5B9E\\u53EA\\u662F\\u4E2A\\u72EC\\u7ACB\\u955C\\u50CF\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF1A\\u4F60\\u662F\\u4E2A\\u56FD\\u738B\\uFF08\\u4E3B\\u5E94\\u7528\\uFF09\\uFF0C\\u6BCF\\u4E2A\\u5B50\\u5E94\\u7528\\u662F\\u4F60\\u7684\\u81E3\\u5B50\\u3002\\u4F60\\u4E0D\\u60F3\\u8BA9\\u4ED6\\u4EEC\\u76F4\\u63A5\\u52A8\\u4F60\\u7684\\u738B\\u5BAB\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\"\\uFF09\\uFF0C\\u4E8E\\u662F\\u7ED9\\u6BCF\\u4E2A\\u81E3\\u5B50\\u53D1\\u4E86\\u4E2A\\u201C\\u9B54\\u6CD5\\u955C\\u5B50\\u201D\\uFF08Proxy \\u5BF9\\u8C61\\uFF09\\u3002\\u4ED6\\u4EEC\\u5728\\u955C\\u5B50\\u91CC\\u88C5\\u4FEE\\u3001\\u6446\\u5BB6\\u5177\\uFF0C\\u4EE5\\u4E3A\\u81EA\\u5DF1\\u638C\\u63A7\\u5168\\u5C40\\uFF0C\\u5176\\u5B9E\\u53EA\\u662F\\u4E2A\\u72EC\\u7ACB\\u7A7A\\u95F4\\uFF0C\\u4E92\\u4E0D\\u5E72\\u6270\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\\uFF08\\u52A0\\u70B9\\u7EC6\\u8282\\uFF09\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ProxySandbox\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"name\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".name \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" name; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6C99\\u7BB1\\u540D\\u5B57\\uFF0C\\u65B9\\u4FBF\\u8C03\\u8BD5\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".sandboxProps \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B50\\u5E94\\u7528\\u7684\\u79C1\\u6709\\u7A7A\\u95F4\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".proxyWindow \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Proxy\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(window, {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"target\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u4F18\\u5148\\u8FD4\\u56DE\\u6C99\\u7BB1\\u81EA\\u5DF1\\u7684\\u53D8\\u91CF\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".sandboxProps.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"hasOwnProperty\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(prop)) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".sandboxProps[prop];\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u5426\\u5219\\u56DE\\u9000\\u5230\\u771F\\u5B9E\\u7684 window\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" typeof\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" target[prop] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"function\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          ?\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" target[prop].\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"bind\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(target) \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u7ED1\\u5B9A this\\uFF0C\\u907F\\u514D\\u51FD\\u6570\\u8C03\\u7528\\u51FA\\u9519\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"          :\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" target[prop];\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      set\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"target\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u5B58\\u5230\\u6C99\\u7BB1\\u79C1\\u6709\\u7A7A\\u95F4\\uFF0C\\u4E0D\\u6C61\\u67D3\\u5168\\u5C40\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"        this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".sandboxProps[prop] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" value;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      has\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"target\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"prop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"        // \\u652F\\u6301 in \\u64CD\\u4F5C\\u7B26\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prop \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"in\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".sandboxProps \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" prop \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"in\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" target;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  active\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".proxyWindow;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  inactive\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    // \\u53EF\\u9009\\uFF1A\\u6E05\\u7406\\u6C99\\u7BB1\\u72B6\\u6001\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".sandboxProps \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4F7F\\u7528\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" sandbox\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ProxySandbox\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"app1\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" fakeWindow\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" sandbox.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"active\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"fakeWindow.myVar \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"\\u5B50\\u5E94\\u7528\\u7684\\u53D8\\u91CF\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"fakeWindow.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"alert\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hello from sandbox!\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(fakeWindow.myVar); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"\\u5B50\\u5E94\\u7528\\u7684\\u53D8\\u91CF\"'})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(window.myVar); \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// undefined\\uFF0C\\u4E3B\\u5E94\\u7528\\u6CA1\\u88AB\\u6C61\\u67D3\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u9694\\u79BB\\u5F7B\\u5E95\\uFF0C\\u6027\\u80FD\\u4F18\\u4E8E\\u5FEB\\u7167\\u6C99\\u7BB1\\uFF0C\\u9002\\u5408\\u590D\\u6742\\u573A\\u666F\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Proxy\"})})})}),\" \\u53EA\\u80FD\\u4EE3\\u7406\\u5C5E\\u6027\\u64CD\\u4F5C\\uFF0C\\u50CF \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"addEventListener\"})})})}),\" \\u8FD9\\u79CD\\u76F4\\u63A5\\u7ED1\\u5B9A\\u5230 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\" \\u7684\\u65B9\\u6CD5\\u9700\\u8981\\u989D\\u5916\\u5904\\u7406\\u3002\\u800C\\u4E14\\u8001\\u6D4F\\u89C8\\u5668\\uFF08IE \\u7CFB\\u5217\\uFF09\\u4E0D\\u652F\\u6301 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Proxy\"})})})}),\"\\uFF0C\\u5F97\\u52A0 polyfill\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\":\",(0,n.jsx)(e.br,{}),`\n`,\"\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Reflect\"})})})}),\" API \\u4F18\\u5316 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"get\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"set\"})})})}),\"\\uFF0C\\u63D0\\u9AD8\\u4EE3\\u7801\\u5065\\u58EE\\u6027\\u3002\\u53E6\\u5916\\uFF0C\\u8C03\\u8BD5\\u65F6\\u53EF\\u4EE5\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"sandboxProps\"})})})}),\" \\u91CC\\u52A0\\u4E2A\\u65E5\\u5FD7\\uFF0C\\u8BB0\\u5F55\\u5B50\\u5E94\\u7528\\u7684\\u64CD\\u4F5C\\uFF0C\\u65B9\\u4FBF\\u6392\\u67E5\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-iframe-\\u6C99\\u7BB1\\u8001\\u6D3E\\u4F46\\u786C\\u6838\\u7684\\u9009\\u62E9\",children:(0,n.jsx)(e.a,{href:\"#3-iframe-\\u6C99\\u7BB1\\u8001\\u6D3E\\u4F46\\u786C\\u6838\\u7684\\u9009\\u62E9\",children:\"3. iframe \\u6C99\\u7BB1\\uFF1A\\u8001\\u6D3E\\u4F46\\u786C\\u6838\\u7684\\u9009\\u62E9\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9664\\u4E86\\u5FEB\\u7167\\u548C\\u4EE3\\u7406\\uFF0C\\u8FD8\\u6709\\u4E2A\\u201C\\u8001\\u53E4\\u8463\\u201D\\u65B9\\u6848\\u2014\\u2014\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"iframe\"})})})}),\"\\u3002\\u5B83\\u5929\\u751F\\u5C31\\u662F\\u6D4F\\u89C8\\u5668\\u7684\\u6C99\\u7BB1\\uFF0C\\u6BCF\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"iframe\"})})})}),\" \\u90FD\\u6709\\u72EC\\u7ACB\\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window\"})})})}),\" \\u548C DOM\\uFF0C\\u9694\\u79BB\\u6548\\u679C\\u62C9\\u6EE1\\u3002\\u5C31\\u50CF\\u7ED9\\u6BCF\\u4E2A\\u5B50\\u5E94\\u7528\\u79DF\\u4E86\\u4E2A\\u72EC\\u7ACB\\u516C\\u5BD3\\uFF0C\\u8FDE\\u6C34\\u7535\\u90FD\\u4E0D\\u5171\\u7528\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"html\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"iframe\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" id\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"app1\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" src\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"http://localhost:3001\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" sandbox\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"allow-scripts\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"></\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"iframe\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\\u9694\\u79BB\\u6700\\u5F7B\\u5E95\\uFF0C\\u8FDE\\u6D4F\\u89C8\\u5668\\u4E0A\\u4E0B\\u6587\\u90FD\\u5206\\u5F00\\u4E86\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\\u901A\\u4FE1\\u9EBB\\u70E6\\uFF08\\u5F97\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"postMessage\"})})})}),\"\\uFF09\\uFF0C\\u6837\\u5F0F\\u548C DOM \\u7BA1\\u7406\\u590D\\u6742\\uFF0C\\u6027\\u80FD\\u5F00\\u9500\\u4E5F\\u9AD8\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u6BCF\\u4E2A\\u5B50\\u5E94\\u7528\\u90FD\\u5F00\\u4E2A\\u65B0\\u7A97\\u53E3\\uFF0C\\u5185\\u5B58\\u548C CPU \\u76F4\\u63A5\\u201C\\u8D77\\u98DE\\u201D\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\":\",(0,n.jsx)(e.br,{}),`\n`,\"\\u9664\\u975E\\u4F60\\u6709\\u5F3A\\u9694\\u79BB\\u9700\\u6C42\\uFF08\\u6BD4\\u5982\\u8DD1\\u4E0D\\u53EF\\u4FE1\\u7684\\u7B2C\\u4E09\\u65B9\\u4EE3\\u7801\\uFF09\\uFF0C\\u5426\\u5219\\u522B\\u8F7B\\u6613\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"iframe\"})})})}),\"\\u3002\\u5B83\\u66F4\\u9002\\u5408\\u201C\\u5FAE\\u670D\\u52A1\\u201D\\u800C\\u975E\\u201C\\u5FAE\\u524D\\u7AEF\\u201D\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"css-\\u9694\\u79BB\\u6837\\u5F0F\\u754C\\u7684\\u9632\\u706B\\u5899\",children:(0,n.jsx)(e.a,{href:\"#css-\\u9694\\u79BB\\u6837\\u5F0F\\u754C\\u7684\\u9632\\u706B\\u5899\",children:\"CSS \\u9694\\u79BB\\uFF1A\\u6837\\u5F0F\\u754C\\u7684\\u201C\\u9632\\u706B\\u5899\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"JS \\u9694\\u79BB\\u53EA\\u662F\\u6545\\u4E8B\\u7684\\u4E00\\u534A\\uFF0CCSS \\u9694\\u79BB\\u540C\\u6837\\u91CD\\u8981\\u3002\\u4E0D\\u7136\\u5B50\\u5E94\\u7528 A \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".header { color: red }\"})})})}),\" \\u53EF\\u80FD\\u4F1A\\u628A\\u5B50\\u5E94\\u7528 B \\u7684\\u6807\\u9898\\u67D3\\u6210\\u201C\\u8840\\u7EA2\\u8272\\u201D\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u76F4\\u63A5\\u5D29\\u76D8\\u3002\\u5E38\\u89C1\\u7684 CSS \\u9694\\u79BB\\u65B9\\u6848\\u6709\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u547D\\u540D\\u7A7A\\u95F4\"}),\"\\uFF1A\\u7ED9\\u6BCF\\u4E2A\\u5B50\\u5E94\\u7528\\u7684\\u6837\\u5F0F\\u52A0\\u524D\\u7F00\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".app1 .header\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".app2 .header\"})})})}),\"\\u3002\\u7B80\\u5355\\u7C97\\u66B4\\uFF0C\\u4F46\\u9760\\u5F00\\u53D1\\u8005\\u81EA\\u89C9\\uFF0C\\u5BB9\\u6613\\u6F0F\\u6389\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Shadow DOM\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u539F\\u751F\\u7684\\u201C\\u786C\\u9694\\u79BB\\u201D\\uFF0C\\u628A\\u5B50\\u5E94\\u7528\\u7684 DOM \\u88C5\\u8FDB Shadow Root\\uFF0C\\u6837\\u5F0F\\u5929\\u7136\\u9694\\u79BB\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u52A8\\u6001\\u6837\\u5F0F\\u6CE8\\u5165\"}),\"\\uFF1A\\u52A0\\u8F7D\\u5B50\\u5E94\\u7528\\u65F6\\u52A8\\u6001\\u63D2\\u5165 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"<style>\"})})})}),\" \\u6807\\u7B7E\\uFF0C\\u5378\\u8F7D\\u65F6\\u79FB\\u9664\\u3002\\u914D\\u5408 CSS Modules \\u6216 Scoped CSS\\uFF0C\\u80FD\\u8FDB\\u4E00\\u6B65\\u51CF\\u5C11\\u51B2\\u7A81\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Shadow DOM \\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" container\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"querySelector\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"#app1\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" shadow\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" container.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"attachShadow\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ mode: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"open\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"shadow.innerHTML \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"  <style>.header { color: blue; }</style>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'  <div class=\"header\">\\u6211\\u662F\\u5B50\\u5E94\\u75281</div>'})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5916\\u90E8\\u7684 .header { color: red } \\u5B8C\\u5168\\u5F71\\u54CD\\u4E0D\\u5230\\u8FD9\\u91CC\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\":\",(0,n.jsx)(e.br,{}),`\n`,\"Shadow DOM \\u662F\\u201C\\u6838\\u6B66\\u5668\\u201D\\uFF0C\\u4F46\\u4E0D\\u662F\\u4E07\\u80FD\\u836F\\u3002\\u5982\\u679C\\u5B50\\u5E94\\u7528\\u9700\\u8981\\u8DDF\\u4E3B\\u5E94\\u7528\\u5171\\u4EAB\\u6837\\u5F0F\\uFF0C\\u6216\\u8005\\u6709\\u590D\\u6742\\u7684\\u7B2C\\u4E09\\u65B9\\u5E93\\uFF0C\\u5EFA\\u8BAE\\u7528\\u52A8\\u6001\\u6CE8\\u5165 + \\u547D\\u540D\\u7A7A\\u95F4\\u7ED3\\u5408\\uFF0C\\u65E2\\u7075\\u6D3B\\u53C8\\u53EF\\u63A7\\u3002\\u8FD8\\u53EF\\u4EE5\\u7528 PostCSS \\u52A0\\u524D\\u7F00\\uFF0C\\u81EA\\u52A8\\u5316\\u89E3\\u51B3\\u51B2\\u7A81\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5B9E\\u6218\\u4E2D\\u7684\\u5751\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u6218\\u4E2D\\u7684\\u5751\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\",children:\"\\u5B9E\\u6218\\u4E2D\\u7684\\u5751\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7406\\u8BBA\\u8BB2\\u4E86\\u4E00\\u5806\\uFF0C\\u63A5\\u4E0B\\u6765\\u804A\\u804A\\u5B9E\\u6218\\u4E2D\\u7684\\u201C\\u5751\\u201D\\u548C\\u6211\\u603B\\u7ED3\\u7684\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF08\\u5E26\\u70B9\\u8840\\u6CEA\\u53F2\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u5168\\u5C40\\u53D8\\u91CF\\u6CC4\\u6F0F\\u9632\\u4E0D\\u80DC\\u9632\\u7684\\u5E7D\\u7075\",children:(0,n.jsx)(e.a,{href:\"#1-\\u5168\\u5C40\\u53D8\\u91CF\\u6CC4\\u6F0F\\u9632\\u4E0D\\u80DC\\u9632\\u7684\\u5E7D\\u7075\",children:\"1. \\u5168\\u5C40\\u53D8\\u91CF\\u6CC4\\u6F0F\\uFF1A\\u9632\\u4E0D\\u80DC\\u9632\\u7684\\u201C\\u5E7D\\u7075\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u5B50\\u5E94\\u7528\\u5077\\u5077\\u6302\\u4E86\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setInterval\"})})})}),\"\\uFF0C\\u5378\\u8F7D\\u65F6\\u6CA1\\u6E05\\u7406\\uFF0C\\u4E3B\\u5E94\\u7528\\u7684\\u6027\\u80FD\\u88AB\\u62D6\\u57AE\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\\u5728\\u6C99\\u7BB1\\u91CC\\u52AB\\u6301 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setInterval\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\"\\uFF0C\\u8BB0\\u5F55\\u6240\\u6709\\u5B9A\\u65F6\\u5668 ID\\uFF0C\\u5378\\u8F7D\\u65F6\\u6279\\u91CF\\u6E05\\u7406\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" originalSetInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window.setInterval;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" intervals\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"args\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" id\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" originalSetInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"args);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  intervals.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(id);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" id;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5378\\u8F7D\\u65F6\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"intervals.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(clearInterval);\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\":\",(0,n.jsx)(e.br,{}),`\n`,\"\\u522B\\u5FD8\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"requestAnimationFrame\"})})})}),\" \\u548C\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"addEventListener\"})})})}),\"\\uFF09\\uFF0C\\u5B83\\u4EEC\\u4E5F\\u662F\\u6CC4\\u6F0F\\u5927\\u6237\\u3002\\u53EF\\u4EE5\\u7528 WeakMap \\u5B58\\u4E8B\\u4EF6\\u56DE\\u8C03\\uFF0C\\u5378\\u8F7D\\u65F6\\u81EA\\u52A8\\u56DE\\u6536\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u7B2C\\u4E09\\u65B9\\u5E93\\u7684\\u53DB\\u53D8\",children:(0,n.jsx)(e.a,{href:\"#2-\\u7B2C\\u4E09\\u65B9\\u5E93\\u7684\\u53DB\\u53D8\",children:\"2. \\u7B2C\\u4E09\\u65B9\\u5E93\\u7684\\u201C\\u53DB\\u53D8\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u5B50\\u5E94\\u7528\\u7528\\u4E86 jQuery\\uFF0C\\u7ED3\\u679C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"window.$\"})})})}),\" \\u88AB\\u6539\\u4E86\\uFF0C\\u522B\\u7684\\u5B50\\u5E94\\u7528\\u4E00\\u8138\\u61F5\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\\u4F18\\u5148\\u7528\\u6A21\\u5757\\u5316\\u7684\\u5E93\\uFF08\\u6BD4\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"import $ from 'jquery'\"})})})}),\"\\uFF09\\uFF0C\\u6216\\u8005\\u5728\\u6C99\\u7BB1\\u91CC\\u7ED9\\u7B2C\\u4E09\\u65B9\\u5E93\\u7ED1\\u5B9A\\u72EC\\u7ACB\\u4E0A\\u4E0B\\u6587\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" sandboxJQuery\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"fakeWindow\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" script\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"script\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  script.src \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  script.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onload\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    fakeWindow.$ \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" fakeWindow.jQuery; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u7ED1\\u5B9A\\u5230\\u6C99\\u7BB1\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    delete\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" window.$; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6E05\\u7406\\u5168\\u5C40\\u6C61\\u67D3\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.head.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(script);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\":\",(0,n.jsx)(e.br,{}),`\n`,\"\\u5982\\u679C\\u6CA1\\u6CD5\\u6539\\u5E93\\uFF0C\\u53EF\\u4EE5\\u5199\\u4E2A\\u201C\\u9694\\u79BB\\u58F3\\u201D\\uFF0C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"with\"})})})}),\" \\u8BED\\u53E5\\u628A\\u7B2C\\u4E09\\u65B9\\u5E93\\u7684\\u64CD\\u4F5C\\u9650\\u5236\\u5728\\u4EE3\\u7406\\u5BF9\\u8C61\\u91CC\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u6027\\u80FD\\u74F6\\u9888\\u6C99\\u7BB1\\u4E0D\\u662F\\u514D\\u8D39\\u5348\\u9910\",children:(0,n.jsx)(e.a,{href:\"#3-\\u6027\\u80FD\\u74F6\\u9888\\u6C99\\u7BB1\\u4E0D\\u662F\\u514D\\u8D39\\u5348\\u9910\",children:\"3. \\u6027\\u80FD\\u74F6\\u9888\\uFF1A\\u6C99\\u7BB1\\u4E0D\\u662F\\u514D\\u8D39\\u5348\\u9910\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u4EE3\\u7406\\u6C99\\u7BB1\\u7528\\u591A\\u4E86\\uFF0C\\u9875\\u9762\\u5361\\u987F\\u660E\\u663E\\uFF0C\\u5C24\\u5176\\u5728\\u4F4E\\u7AEF\\u8BBE\\u5907\\u4E0A\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\\u8BC4\\u4F30\\u5B50\\u5E94\\u7528\\u6570\\u91CF\\u548C\\u590D\\u6742\\u5EA6\\uFF0C\\u5C0F\\u9879\\u76EE\\u7528\\u5FEB\\u7167\\u6C99\\u7BB1\\uFF0C\\u5927\\u9879\\u76EE\\u7528\\u4EE3\\u7406\\u6C99\\u7BB1 + \\u6309\\u9700\\u52A0\\u8F7D\\u3002\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"IntersectionObserver\"})})})}),\" \\u5EF6\\u8FDF\\u52A0\\u8F7D\\u975E\\u53EF\\u89C6\\u533A\\u57DF\\u7684\\u5B50\\u5E94\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\":\",(0,n.jsx)(e.br,{}),`\n`,\"\\u7528 Chrome \\u7684 Performance \\u9762\\u677F\\u5206\\u6790\\u6C99\\u7BB1\\u5F00\\u9500\\uFF0C\\u627E\\u5230\\u74F6\\u9888\\u518D\\u4F18\\u5316\\u3002\\u522B\\u4E00\\u4E0A\\u6765\\u5C31\\u201Call in\\u201D\\uFF0C\\u91CF\\u529B\\u800C\\u884C\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u5B50\\u5E94\\u7528\\u901A\\u4FE1\\u6253\\u7834\\u5B64\\u5C9B\\u7684\\u827A\\u672F\",children:(0,n.jsx)(e.a,{href:\"#4-\\u5B50\\u5E94\\u7528\\u901A\\u4FE1\\u6253\\u7834\\u5B64\\u5C9B\\u7684\\u827A\\u672F\",children:\"4. \\u5B50\\u5E94\\u7528\\u901A\\u4FE1\\uFF1A\\u6253\\u7834\\u201C\\u5B64\\u5C9B\\u201D\\u7684\\u827A\\u672F\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u95EE\\u9898\"}),\"\\uFF1A\\u6C99\\u7BB1\\u9694\\u79BB\\u592A\\u4E25\\uFF0C\\u5B50\\u5E94\\u7528\\u4E4B\\u95F4\\u6CA1\\u6CD5\\u901A\\u4FE1\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u5272\\u88C2\\u3002\",(0,n.jsx)(e.br,{}),`\n`,(0,n.jsx)(e.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),\"\\uFF1A\\u7528\\u81EA\\u5B9A\\u4E49\\u4E8B\\u4EF6\\uFF08\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"CustomEvent\"})})})}),\"\\uFF09\\u6216\\u53D1\\u5E03\\u8BA2\\u9605\\u6A21\\u5F0F\\uFF08Pub/Sub\\uFF09\\u5B9E\\u73B0\\u901A\\u4FE1\\uFF0C\\u4E3B\\u5E94\\u7528\\u505A\\u4E2D\\u8F6C\\u7AD9\\u3002\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B50\\u5E94\\u7528 A \\u53D1\\u9001\\u6D88\\u606F\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"dispatchEvent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" CustomEvent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"app1-message\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { detail: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hello from app1\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u4E3B\\u5E94\\u7528\\u76D1\\u542C\\u5E76\\u8F6C\\u53D1\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"app1-message\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  window.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"dispatchEvent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" CustomEvent\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"app2-message\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { detail: e.detail }));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\":\",(0,n.jsx)(e.br,{}),`\n`,\"\\u901A\\u4FE1\\u6570\\u636E\\u5C3D\\u91CF\\u5E8F\\u5217\\u5316\\uFF08JSON\\uFF09\\uFF0C\\u907F\\u514D\\u76F4\\u63A5\\u4F20\\u5BF9\\u8C61\\uFF0C\\u9632\\u6B62\\u6C99\\u7BB1\\u5916\\u7684\\u5F15\\u7528\\u6CC4\\u6F0F\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E00\\u70B9\\u5E7D\\u9ED8\\u7684\\u603B\\u7ED3\\u6C99\\u7BB1\\u662F\\u7B3C\\u5B50\\u8FD8\\u662F\\u6E38\\u4E50\\u573A\",children:(0,n.jsx)(e.a,{href:\"#\\u4E00\\u70B9\\u5E7D\\u9ED8\\u7684\\u603B\\u7ED3\\u6C99\\u7BB1\\u662F\\u7B3C\\u5B50\\u8FD8\\u662F\\u6E38\\u4E50\\u573A\",children:\"\\u4E00\\u70B9\\u5E7D\\u9ED8\\u7684\\u603B\\u7ED3\\uFF1A\\u6C99\\u7BB1\\u662F\\u201C\\u7B3C\\u5B50\\u201D\\u8FD8\\u662F\\u201C\\u6E38\\u4E50\\u573A\\u201D\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5199\\u5230\\u8FD9\\u513F\\uFF0C\\u6211\\u7A81\\u7136\\u89C9\\u5F97\\u6C99\\u7BB1\\u9694\\u79BB\\u8FD9\\u73A9\\u610F\\u513F\\u771F\\u50CF\\u517B\\u5BA0\\u7269\\u3002\\u4F60\\u5F97\\u7ED9\\u6BCF\\u4E2A\\u5B50\\u5E94\\u7528\\uFF08\\u5C0F\\u732B\\u5C0F\\u72D7\\uFF09\\u5EFA\\u4E2A\\u7B3C\\u5B50\\uFF0C\\u65E2\\u8981\\u8BA9\\u5B83\\u4EEC\\u73A9\\u5F97\\u5F00\\u5FC3\\uFF08\\u529F\\u80FD\\u6B63\\u5E38\\uFF09\\uFF0C\\u53C8\\u4E0D\\u80FD\\u8BA9\\u5B83\\u4EEC\\u4E92\\u76F8\\u6320\\u8138\\uFF08\\u51B2\\u7A81\\uFF09\\u3002\\u5FEB\\u7167\\u6C99\\u7BB1\\u50CF\\u662F\\u5B9A\\u65F6\\u6536\\u62FE\\u623F\\u95F4\\uFF0C\\u4EE3\\u7406\\u6C99\\u7BB1\\u66F4\\u50CF\\u662F\\u7ED9\\u6BCF\\u53EA\\u5BA0\\u7269\\u53D1\\u4E2A VR \\u773C\\u955C\\uFF0C\\u6C89\\u6D78\\u5F0F\\u4F53\\u9A8C\\u4E92\\u4E0D\\u5E72\\u6270\\u3002CSS \\u9694\\u79BB\\u5462\\uFF1F\\u90A3\\u5C31\\u662F\\u7ED9\\u5B83\\u4EEC\\u7A7F\\u4E0A\\u4E0D\\u540C\\u989C\\u8272\\u7684\\u9A6C\\u7532\\uFF0C\\u7701\\u5F97\\u8BA4\\u9519\\u3002\\u81F3\\u4E8E iframe\\uFF0C\\u7B80\\u76F4\\u662F\\u628A\\u6BCF\\u53EA\\u5BA0\\u7269\\u5173\\u8FDB\\u72EC\\u7ACB\\u5C0F\\u9ED1\\u5C4B\\uFF0C\\u8FDE\\u7A97\\u6237\\u90FD\\u4E0D\\u7ED9\\u5F00\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u603B\\u4E4B\\uFF0C\\u6C99\\u7BB1\\u9694\\u79BB\\u4E0D\\u96BE\\uFF0C\\u96BE\\u7684\\u662F\\u5728\\u5B9E\\u6218\\u4E2D\\u627E\\u5230\\u5E73\\u8861\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u535A\\u5BA2\\u80FD\\u5E2E\\u4F60\\u5C11\\u8E29\\u51E0\\u4E2A\\u5751\\uFF0C\\u591A\\u638C\\u63E1\\u70B9\\u201C\\u9B54\\u6CD5\\u201D\\u3002\\u5982\\u679C\\u4F60\\u6709\\u5565\\u72EC\\u7279\\u7684\\u5B9E\\u73B0\\u601D\\u8DEF\\uFF0C\\u6216\\u8005\\u8E29\\u8FC7\\u66F4\\u6709\\u610F\\u601D\\u7684\\u5751\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u8DDF\\u6211\\u804A\\u804A\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u8FDB\\u6B65\\uFF01\\u6BD5\\u7ADF\\uFF0C\\u524D\\u7AEF\\u8FD9\\u6761\\u8DEF\\uFF0C\\u4E0D\\u5C31\\u662F\\u8FB9\\u5B66\\u8FB9\\u201C\\u4FEE\\u7B3C\\u5B50\\u201D\\u5417\\uFF1F\\u{1F604}\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return b(w);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/å¾®å‰ç«¯/å¾®å‰ç«¯ä¹‹æ²™ç®±éš”ç¦».mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/å¾®å‰ç«¯/å¾®å‰ç«¯ä¹‹æ²™ç®±éš”ç¦».mdx",
    "sourceFileName": "å¾®å‰ç«¯ä¹‹æ²™ç®±éš”ç¦».mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯/å¾®å‰ç«¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/å¾®å‰ç«¯/å¾®å‰ç«¯ä¹‹æ²™ç®±éš”ç¦»"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/å¾®å‰ç«¯/å¾®å‰ç«¯ä¹‹æ²™ç®±éš”ç¦»"
}
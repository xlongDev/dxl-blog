{
  "title": "ä¸€ç¯‡çœ‹æ‡‚ï¼Docker + Nginx é›¶åŸºç¡€éƒ¨ç½²å‰ç«¯ï¼Œä»æ­¤å‘Šåˆ«â€œæˆ‘ç”µè„‘ä¸Šèƒ½è·‘â€",
  "date": "2024-01-02T00:00:00.000Z",
  "description": "ä»é›¶å¼€å§‹ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Docker å’Œ Nginx éƒ¨ç½²å‰ç«¯é¡¹ç›®ï¼Œæ·±å…¥åŸç†ï¼Œè¶…å¤šå®ä¾‹ï¼Œé™„å¸¦æœ€ä½³å®è·µï¼Œè®©ä½ å½»åº•æ‘†è„±æœ¬åœ°è·‘å¾—å¥½ã€çº¿ä¸Šç‚¸ç¿»å¤©çš„å°´å°¬ã€‚",
  "keywords": "Docker, Nginx, å‰ç«¯éƒ¨ç½², å®¹å™¨åŒ–, Web æœåŠ¡å™¨, DevOps, å‰ç«¯å¼€å‘, é›¶åŸºç¡€æ•™ç¨‹",
  "author": "æ™“é¾™",
  "image": "/images/hero/docker-nginx.jpg",
  "tags": [
    "Docker",
    "Nginx",
    "å‰ç«¯å¼€å‘",
    "éƒ¨ç½²"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯å·¥ç¨‹åŒ–",
  "body": {
    "raw": "\nä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘è€…ï¼Œä½ æ˜¯å¦ç»å†è¿‡è¿™æ ·çš„åœºæ™¯ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒè·‘å¾—é£èµ·ï¼Œ`npm run dev` ä¸€åˆ‡å®Œç¾ï¼Œç»“æœéƒ¨ç½²åˆ°æœåŠ¡å™¨åï¼Œé¡µé¢ç™½å±ã€404ã€ç”šè‡³æ•´ä¸ªæœåŠ¡æŒ‚æ‰ï¼Œå®¢æˆ·ä¸€è„¸æ‡µé€¼åœ°çœ‹ç€ä½ ï¼šâ€œä¸æ˜¯è¯´å¥½äº†å—ï¼Ÿæ€ä¹ˆåˆç‚¸äº†ï¼Ÿâ€ ğŸ˜­ ç„¶åä½ åªèƒ½ç¡¬ç€å¤´çš® debugï¼Œç¿»æ—¥å¿—ï¼Œæ”¹é…ç½®ï¼Œæœ€åå‘ç°æ˜¯ç¯å¢ƒä¸ä¸€è‡´ã€ä¾èµ–æ²¡è£…å…¨ï¼Œæˆ–è€…æœåŠ¡å™¨å‹æ ¹æ²¡è·‘èµ·æ¥ã€‚äºæ˜¯ä½ å¼€å§‹æ€€å¿µé‚£å¥ç»å…¸åè¨€ï¼šâ€œæˆ‘ç”µè„‘ä¸Šèƒ½è·‘å•Šï¼â€\n\nåˆ«æ…Œï¼Œä»Šå¤©è¿™ç¯‡åšå®¢å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œç”¨ **Docker + Nginx** æŠŠå‰ç«¯é¡¹ç›®éƒ¨ç½²å¾—ç¨³å¦‚è€ç‹—ã€‚ä»åŸºç¡€åŸç†åˆ°åŠ¨æ‰‹å®è·µï¼Œå†åˆ°ä¼˜åŒ–æŠ€å·§ï¼Œä¸€ç½‘æ‰“å°½ã€‚æ— è®ºä½ æ˜¯å°ç™½è¿˜æ˜¯è€å¸æœºï¼Œè¿™ç¯‡æ–‡ç« éƒ½èƒ½è®©ä½ æœ‰æ‰€æ”¶è·ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·è·³è¿›å®¹å™¨åŒ–éƒ¨ç½²çš„å¥‡å¦™ä¸–ç•Œå§ï¼ğŸš€\n\n## ä¸ºä»€ä¹ˆé€‰ Docker + Nginxï¼Ÿ\n\nåœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆèŠèŠä¸ºä»€ä¹ˆè¦ç”¨è¿™å¯¹â€œé»„é‡‘æ­æ¡£â€ã€‚Docker æ˜¯ä¸ªå®¹å™¨åŒ–å·¥å…·ï¼Œèƒ½æ‰“åŒ…ä½ çš„ä»£ç ã€ä¾èµ–å’Œè¿è¡Œç¯å¢ƒï¼Œåƒä¸ªå¯†å°çš„å¤ªç©ºèˆ±ï¼Œä¿è¯â€œæœ¬åœ°èƒ½è·‘ï¼Œçº¿ä¸Šä¹Ÿèƒ½è·‘â€ã€‚è€Œ Nginx æ˜¯ä¸ªé«˜æ€§èƒ½ Web æœåŠ¡å™¨ï¼Œè½»é‡åˆå¼ºå¤§ï¼Œå®Œç¾èƒœä»»é™æ€èµ„æºçš„åˆ†å‘å’Œåå‘ä»£ç†ã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼šDocker æ˜¯ä½ çš„â€œç§äººé£èˆ¹â€ï¼ŒNginx æ˜¯â€œå¯¼èˆªç³»ç»Ÿâ€ï¼Œä¸¤è€…é…åˆï¼Œèƒ½è®©ä½ çš„å‰ç«¯é¡¹ç›®å¹³ç¨³ç€é™†åˆ°ä»»ä½•æœåŠ¡å™¨ä¸Šï¼Œä¸ç”¨æ‹…å¿ƒâ€œå¤§æ°”å±‚æ‘©æ“¦â€æŠŠä½ çƒ§æ¯ï¼ˆæ¯”å¦‚ç¯å¢ƒä¸ä¸€è‡´å¯¼è‡´çš„å´©æºƒï¼‰ã€‚ğŸŒ\n\n### Docker çš„æ ¸å¿ƒåŸç†\nDocker çš„æœ¬è´¨æ˜¯åˆ©ç”¨ Linux çš„ **namespace**ï¼ˆéš”ç¦»è¿›ç¨‹ï¼‰å’Œ **cgroups**ï¼ˆé™åˆ¶èµ„æºï¼‰æŠ€æœ¯ï¼ŒæŠŠä½ çš„åº”ç”¨å’Œä¾èµ–è£…è¿›ä¸€ä¸ªç‹¬ç«‹çš„â€œå®¹å™¨â€é‡Œã€‚æ¯ä¸ªå®¹å™¨å°±åƒä¸€å°è¿·ä½ è™šæ‹Ÿæœºï¼Œä½†æ¯” VM è½»é‡å¾—å¤šï¼Œå› ä¸ºå®ƒå…±äº«å®¿ä¸»æœºçš„å†…æ ¸ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒè§£å†³äº†â€œç¯å¢ƒå·®å¼‚â€çš„é—®é¢˜â€”â€”ä½ æœ¬åœ°è·‘çš„æ˜¯ Node 18ï¼Œçº¿ä¸Šæ˜¯ Node 14ï¼ŸDocker è¯´ï¼šæ²¡é—®é¢˜ï¼Œå…¨éƒ½æ‰“åŒ…å¸¦èµ°ï¼\n\n### Nginx çš„æ ¸å¿ƒåŸç†\nNginx æ˜¯ä¸ªå¼‚æ­¥ã€éé˜»å¡çš„ Web æœåŠ¡å™¨ï¼Œæ“…é•¿å¤„ç†é™æ€æ–‡ä»¶ï¼ˆHTMLã€CSSã€JSï¼‰å’Œé«˜å¹¶å‘è¯·æ±‚ã€‚å®ƒçš„å·¥ä½œæ¨¡å¼æœ‰ç‚¹åƒé¥­åº—é‡Œçš„æœåŠ¡å‘˜ï¼šä¸€ä¸ªæœåŠ¡å‘˜ï¼ˆå•çº¿ç¨‹ï¼‰èƒ½åŒæ—¶æ‹›å‘¼å¥½å‡ æ¡Œå®¢äººï¼ˆè¯·æ±‚ï¼‰ï¼Œæ•ˆç‡æé«˜ã€‚ç›¸æ¯” Apache çš„â€œä¸€ä¸ªå®¢äººä¸€ä¸ªæœåŠ¡å‘˜â€æ¨¡å¼ï¼ŒNginx åœ¨å‰ç«¯éƒ¨ç½²ä¸­æ›´çœèµ„æºã€‚\n\n### ä¸ºä»€ä¹ˆè¦ç»“åˆä½¿ç”¨ï¼Ÿ\nå•ç‹¬ç”¨ Dockerï¼Œå¯ä»¥è·‘èµ·æ¥ï¼›å•ç‹¬ç”¨ Nginxï¼Œå¯ä»¥åˆ†å‘æ–‡ä»¶ã€‚ä½†ç»“åˆèµ·æ¥ï¼Œä½ å°±æœ‰äº†â€œå¯å¤åˆ¶çš„ç¯å¢ƒ + é«˜æ•ˆçš„é™æ€æœåŠ¡â€ï¼Œè¿˜èƒ½è½»æ¾æ‰©å±•åˆ°è´Ÿè½½å‡è¡¡ã€HTTPS ç­‰é«˜çº§ç©æ³•ã€‚å¬èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆé¦™ï¼ŸğŸ”\n\n**Tips**: å¦‚æœä½ çš„é¡¹ç›®åªæ˜¯ä¸ªå° demoï¼ŒNginx å•ç‹¬è·‘ä¹Ÿå¤Ÿäº†ã€‚ä½†ä¸€æ—¦æ¶‰åŠå¤šäººåä½œã€CI/CD æˆ–è€…ç”Ÿäº§ç¯å¢ƒï¼ŒDocker çš„å®¹å™¨åŒ–å°±æ˜¯æ•‘å‘½ç¨»è‰ã€‚\n\n---\n\n## åŠ¨æ‰‹å®è·µï¼šä»é›¶éƒ¨ç½²ä¸€ä¸ª React é¡¹ç›®\n\nå¥½äº†ï¼ŒåŸç†èŠå®Œäº†ï¼Œå’±ä»¬ç›´æ¥ä¸Šå¹²è´§ï¼å‡è®¾ä½ æœ‰ä¸ª React é¡¹ç›®ï¼ˆç”¨ `create-react-app` åˆ›å»ºï¼‰ï¼Œç›®æ ‡æ˜¯ç”¨ Docker + Nginx éƒ¨ç½²å®ƒã€‚ä»¥ä¸‹æ˜¯å®Œæ•´æ­¥éª¤ï¼Œå¸¦ä½ é£ï¼\n\n### 1. é¡¹ç›®å‡†å¤‡\nå…ˆç¡®ä¿ä½ çš„é¡¹ç›®èƒ½è·‘èµ·æ¥ï¼š\n```bash\nnpm install\nnpm run build\n```\nè¿™ä¼šç”Ÿæˆä¸€ä¸ª `build` æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ˜¯æ‰“åŒ…å¥½çš„é™æ€æ–‡ä»¶ã€‚æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`ï¼Œç¡®è®¤æ²¡é—®é¢˜ã€‚\n\n**Tips**: æ‰“åŒ…å‰è·‘ä¸€é `npm run lint` å’Œå•å…ƒæµ‹è¯•ï¼Œåˆ«è®©ä»£ç é‡Œçš„å° bug å·å·æºœåˆ°çº¿ä¸Šã€‚\n\n### 2. ç¼–å†™ Dockerfile\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª `Dockerfile`ï¼ˆæ— åç¼€ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n```dockerfile\n# åŸºç¡€é•œåƒï¼šç”¨ Node 18 æ„å»ºå‰ç«¯é¡¹ç›®\nFROM node:18 AS builder\n\n# è®¾ç½®å·¥ä½œç›®å½•\nWORKDIR /app\n\n# å¤åˆ¶ package.json å’Œé”æ–‡ä»¶ï¼Œå®‰è£…ä¾èµ–\nCOPY package.json package-lock.json ./\nRUN npm install\n\n# å¤åˆ¶æ‰€æœ‰ä»£ç ï¼Œæ‰§è¡Œæ„å»º\nCOPY . .\nRUN npm run build\n\n# ç¬¬äºŒé˜¶æ®µï¼šç”¨ Nginx é•œåƒè¿è¡Œé™æ€æ–‡ä»¶\nFROM nginx:alpine\nCOPY --from=builder /app/build /usr/share/nginx/html\n\n# æš´éœ²ç«¯å£\nEXPOSE 80\n\n# å¯åŠ¨ Nginx\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n```\n**è§£æ**ï¼š\n- è¿™æ˜¯ä¸€ä¸ªå¤šé˜¶æ®µæ„å»ºï¼ˆMulti-stage Buildï¼‰ã€‚ç¬¬ä¸€é˜¶æ®µç”¨ Node é•œåƒæ‰“åŒ…é¡¹ç›®ï¼Œç¬¬äºŒé˜¶æ®µç”¨è½»é‡çº§çš„ Nginx Alpine é•œåƒè¿è¡Œé™æ€æ–‡ä»¶ã€‚\n- `EXPOSE 80` è¡¨ç¤ºå®¹å™¨ç›‘å¬ 80 ç«¯å£ã€‚\n- `CMD` æ˜¯å®¹å™¨å¯åŠ¨æ—¶è¿è¡Œçš„å‘½ä»¤ï¼Œ`-g \"daemon off;\"` è®© Nginx åœ¨å‰å°è¿è¡Œï¼Œé¿å…å®¹å™¨é€€å‡ºã€‚\n\n**Tips**: ç”¨ Alpine ç‰ˆæœ¬çš„é•œåƒï¼Œèƒ½å¤§å¹…å‡å°é•œåƒä½“ç§¯ã€‚Nginx Alpine åªæœ‰å‡  MBï¼Œæ¯”å®Œæ•´ç‰ˆè½»å¤šäº†ï¼\n\n### 3. ç¼–å†™ Nginx é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰\né»˜è®¤æƒ…å†µä¸‹ï¼ŒNginx çš„é…ç½®å·²ç»å¤Ÿç”¨ã€‚ä½†å¦‚æœéœ€è¦è‡ªå®šä¹‰ï¼Œæ¯”å¦‚è®¾ç½®ç¼“å­˜æˆ–è·¯ç”±é‡å®šå‘ï¼Œå¯ä»¥åŠ ä¸€ä¸ª `nginx.conf` æ–‡ä»¶ï¼š\n```nginx\nserver {\n    listen 80;\n    server_name localhost;\n\n    location / {\n        root /usr/share/nginx/html;\n        index index.html index.htm;\n        try_files $uri $uri/ /index.html; # SPA è·¯ç”±é‡å®šå‘\n    }\n\n    # é™æ€èµ„æºç¼“å­˜\n    location ~* \\.(jpg|jpeg|png|css|js|ico)$ {\n        expires 30d;\n        access_log off;\n    }\n}\n```\nç„¶åä¿®æ”¹ Dockerfileï¼ŒæŠŠé…ç½®æ–‡ä»¶å¤åˆ¶è¿›å»ï¼š\n```dockerfile\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\n```\n**Tips**: SPAï¼ˆå•é¡µåº”ç”¨ï¼‰ä¸€å®šè¦åŠ  `try_files`ï¼Œå¦åˆ™åˆ·æ–°é¡µé¢ä¼š 404ã€‚ç¼“å­˜è®¾ç½®èƒ½è®©æµè§ˆå™¨å¤ç”¨é™æ€èµ„æºï¼Œæé€Ÿæ˜æ˜¾ï¼\n\n### 4. æ„å»ºå’Œè¿è¡Œå®¹å™¨\nåœ¨ç»ˆç«¯è·‘ä»¥ä¸‹å‘½ä»¤ï¼š\n```bash\n# æ„å»ºé•œåƒï¼Œå‘½åä¸º my-react-app\ndocker build -t my-react-app .\n\n# è¿è¡Œå®¹å™¨ï¼Œæ˜ å°„å®¿ä¸»æœºçš„ 8080 ç«¯å£åˆ°å®¹å™¨çš„ 80 ç«¯å£\ndocker run -d -p 8080:80 my-react-app\n```\næ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® `http://localhost:8080`ï¼Œä½ çš„ React é¡¹ç›®å°±è·‘èµ·æ¥äº†ï¼ğŸ‰\n\n**Tips**: ç”¨ `-d` å‚æ•°è®©å®¹å™¨åœ¨åå°è¿è¡Œï¼ŒåŠ ä¸Š `--name my-app` å¯ä»¥ç»™å®¹å™¨èµ·ä¸ªåå­—ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚\n\n### 5. éªŒè¯éƒ¨ç½²\néƒ¨ç½²å®Œåˆ«æ€¥ç€åº†ç¥ï¼Œå…ˆæ£€æŸ¥ä¸€ä¸‹ï¼š\n- åˆ·æ–°é¡µé¢ï¼Œçœ‹è·¯ç”±æ˜¯å¦æ­£å¸¸ã€‚\n- æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œæ£€æŸ¥é™æ€èµ„æºæ˜¯å¦åŠ è½½æˆåŠŸã€‚\n- è·‘ `docker ps`ï¼Œç¡®è®¤å®¹å™¨åœ¨è¿è¡Œã€‚\n\nå¦‚æœå“ªé‡Œå´©äº†ï¼Œè·‘ `docker logs <å®¹å™¨ID>` çœ‹æ—¥å¿—ï¼Œé—®é¢˜ä¸€ç›®äº†ç„¶ã€‚\n\n---\n\n## è¿›é˜¶ç©æ³•ï¼šä¼˜åŒ–ä¸æœ€ä½³å®è·µ\n\nåŸºç¡€éƒ¨ç½²è·‘é€šäº†ï¼Œä½†ç”Ÿäº§ç¯å¢ƒå¯æ²¡è¿™ä¹ˆç®€å•ã€‚ä¸‹é¢æ˜¯ä¸€äº›è¿›é˜¶æŠ€å·§ï¼Œè®©ä½ çš„éƒ¨ç½²æ›´ä¸“ä¸šã€æ›´ç¨³å®šã€‚\n\n### 1. ç¯å¢ƒå˜é‡æ³¨å…¥\nå‰ç«¯é¡¹ç›®ç»å¸¸éœ€è¦ç¯å¢ƒå˜é‡ï¼ˆæ¯”å¦‚ API åœ°å€ï¼‰ã€‚åœ¨ `Dockerfile` ä¸­åŠ ç‚¹æ–™ï¼š\n```dockerfile\n# åœ¨æ„å»ºæ—¶æ³¨å…¥ç¯å¢ƒå˜é‡\nARG REACT_APP_API_URL\nENV REACT_APP_API_URL=$REACT_APP_API_URL\n\n# æ„å»ºæ—¶ä¼ å…¥å‚æ•°\ndocker build --build-arg REACT_APP_API_URL=https://api.example.com -t my-react-app .\n```\n**Tips**: æ•æ„Ÿä¿¡æ¯ï¼ˆæ¯”å¦‚å¯†é’¥ï¼‰åˆ«ç¡¬ç¼–ç ï¼Œç”¨ `.env` æ–‡ä»¶ç®¡ç†ï¼Œç„¶ååœ¨ CI/CD ç®¡é“é‡Œæ³¨å…¥ã€‚\n\n### 2. å¥åº·æ£€æŸ¥\nåŠ ä¸ªå¥åº·æ£€æŸ¥ï¼Œç¡®ä¿å®¹å™¨æŒ‚äº†èƒ½è‡ªåŠ¨é‡å¯ï¼š\n```dockerfile\nHEALTHCHECK --interval=30s --timeout=3s \\\n  CMD curl -f http://localhost/ || exit 1\n```\n**Tips**: Docker Compose æˆ– Kubernetes ç”¨å¾—å¤šçš„è¯ï¼Œå¥åº·æ£€æŸ¥æ˜¯æ ‡é…ï¼Œèƒ½çœä¸å°‘å¿ƒã€‚\n\n### 3. è´Ÿè½½å‡è¡¡ä¸å¤šå®ä¾‹\né¡¹ç›®æµé‡å¤§äº†æ€ä¹ˆåŠï¼Ÿç”¨ Nginx åšè´Ÿè½½å‡è¡¡ï¼è·‘å¤šä¸ªå®¹å™¨ï¼š\n```bash\ndocker run -d -p 8081:80 my-react-app\ndocker run -d -p 8082:80 my-react-app\n```\nç„¶åæ”¹ `nginx.conf`ï¼š\n```nginx\nupstream backend {\n    server 127.0.0.1:8081;\n    server 127.0.0.1:8082;\n}\n\nserver {\n    listen 80;\n    location / {\n        proxy_pass http://backend;\n    }\n}\n```\n**Tips**: ç”Ÿäº§ç¯å¢ƒå»ºè®®ç”¨ Docker Compose æˆ– Kubernetesï¼Œç®¡ç†å¤šå®¹å™¨æ›´è½»æ¾ã€‚\n\n### 4. HTTPS é…ç½®\nçº¿ä¸Šç¯å¢ƒæ²¡ HTTPS å¯ä¸è¡Œï¼ç”¨ Letâ€™s Encrypt ç”³è¯·è¯ä¹¦ï¼Œç„¶åæ›´æ–° Nginx é…ç½®ï¼š\n```nginx\nserver {\n    listen 443 ssl;\n    server_name yourdomain.com;\n\n    ssl_certificate /etc/nginx/certs/fullchain.pem;\n    ssl_certificate_key /etc/nginx/certs/privkey.pem;\n\n    location / {\n        root /usr/share/nginx/html;\n        try_files $uri $uri/ /index.html;\n    }\n}\n```\nè¯ä¹¦æ–‡ä»¶å¾—æŒ‚è½½åˆ°å®¹å™¨é‡Œï¼š\n```bash\ndocker run -d -p 443:443 -v /path/to/certs:/etc/nginx/certs my-react-app\n```\n**Tips**: ç”¨ Certbot è‡ªåŠ¨ç»­æœŸè¯ä¹¦ï¼Œåˆ«è®© HTTPS è¿‡æœŸï¼Œä¸ç„¶æµè§ˆå™¨ä¼šç»™ä½ æŒ‚ä¸ªå¤§çº¢é”ï¼ğŸ”’\n\n### 5. æ—¥å¿—ç®¡ç†\nNginx é»˜è®¤ä¼šæŠŠè®¿é—®æ—¥å¿—å†™åˆ°å®¹å™¨é‡Œï¼Œæ—¶é—´é•¿äº†å¯èƒ½ä¼šçˆ†ç›˜ã€‚æ”¹æˆè¾“å‡ºåˆ° stdoutï¼š\n```nginx\naccess_log /dev/stdout;\nerror_log /dev/stderr;\n```\n**Tips**: é…åˆæ—¥å¿—æ”¶é›†å·¥å…·ï¼ˆæ¯”å¦‚ Fluentd æˆ– ELKï¼‰ï¼Œèƒ½å®æ—¶ç›‘æ§çº¿ä¸ŠçŠ¶æ€ã€‚\n\n---\n\n## å¸¸è§å‘ä¸æ’é›·æŒ‡å—\n\néƒ¨ç½²è·¯ä¸Šæ€»ä¼šè¸©å‘ï¼Œè¿™é‡Œæ€»ç»“å‡ ä¸ªå¸¸è§é—®é¢˜å’Œè§£å†³åŠæ³•ï¼Œå¸®ä½ å°‘èµ°å¼¯è·¯ã€‚\n\n### 1. â€œä¸ºä»€ä¹ˆæˆ‘çš„è·¯ç”±åˆ·æ–° 404 äº†ï¼Ÿâ€\n**åŸå› **ï¼šSPA çš„è·¯ç”±æ²¡é…ç½®å¥½ï¼ŒNginx è¿”å›äº† 404ã€‚\n**è§£å†³**ï¼šåŠ  `try_files $uri $uri/ /index.html;`ã€‚\n\n### 2. â€œé•œåƒå¤ªå¤§ï¼Œä¼ åˆ°æœåŠ¡å™¨å¥½æ…¢ï¼â€\n**åŸå› **ï¼šæ²¡ç”¨å¤šé˜¶æ®µæ„å»ºï¼Œæˆ–è€…è£…äº†ä¸å¿…è¦çš„ä¾èµ–ã€‚\n**è§£å†³**ï¼šç”¨ Alpine é•œåƒï¼Œæ¸…ç†æ— ç”¨æ–‡ä»¶ã€‚\n\n### 3. â€œå®¹å™¨è·‘ç€è·‘ç€å°±æŒ‚äº†ï¼â€\n**åŸå› **ï¼šå¯èƒ½æ˜¯å†…å­˜æº¢å‡ºï¼Œæˆ–è€… Nginx é…ç½®æœ‰è¯¯ã€‚\n**è§£å†³**ï¼šè·‘ `docker logs` æŸ¥åŸå› ï¼ŒåŠ èµ„æºé™åˆ¶ï¼š\n```bash\ndocker run -d -p 8080:80 --memory=\"512m\" my-react-app\n```\n\n**Tips**: é‡åˆ°é—®é¢˜åˆ«æ…Œï¼Œ80% çš„å‘éƒ½èƒ½é€šè¿‡æ—¥å¿—å’Œ Google è§£å†³ã€‚å‰©ä¸‹çš„ 20%ï¼Œé—®é—® GPTï¼ˆå’³å’³ï¼Œæˆ‘çš„æ„æ€æ˜¯é—®é—®åŒäº‹ï¼‰ã€‚\n\n---\n\n## å†™åœ¨æœ€å\n\næ­å–œä½ ï¼çœ‹å®Œè¿™ç¯‡åšå®¢ï¼Œä½ å·²ç»æŒæ¡äº†ç”¨ Docker + Nginx éƒ¨ç½²å‰ç«¯é¡¹ç›®çš„å…¨å¥—æŠ€èƒ½ã€‚ä»é›¶åŸºç¡€åˆ°è¿›é˜¶ä¼˜åŒ–ï¼Œä»åŸç†åˆ°å®è·µï¼Œç°åœ¨çš„ä½ ï¼Œå®Œå…¨å¯ä»¥è‡ªä¿¡åœ°è¯´ï¼šâ€œæˆ‘ä¸ä»…æœ¬åœ°èƒ½è·‘ï¼Œçº¿ä¸Šä¹Ÿèƒ½é£ï¼â€ âœˆï¸\n\néƒ¨ç½²è¿™ä»¶äº‹ï¼Œè¯´ç™½äº†å°±æ˜¯æŠŠâ€œä¸å¯æ§â€å˜æˆâ€œå¯æ§â€ã€‚Docker å¸®ä½ é”ä½ç¯å¢ƒï¼ŒNginx å¸®ä½ æå®šåˆ†å‘ï¼Œå†åŠ ä¸Šä¸€äº›æœ€ä½³å®è·µï¼Œä½ çš„ä»£ç å°±èƒ½åƒå¿«é€’ä¸€æ ·ï¼Œç¨³ç¨³å½“å½“é€åˆ°ç”¨æˆ·æ‰‹é‡Œã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½æˆä¸ºä½ å‰ç«¯ç”Ÿæ¶¯ä¸­çš„ä¸€ç›æ˜ç¯ï¼Œä¸‹æ¬¡ä¸Šçº¿æ—¶ï¼Œåˆ«å¿˜äº†å›æ¥ç»™æˆ‘ç‚¹ä¸ªèµå“¦ï¼ğŸ˜\n\næœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…æ›´å¥½çš„ç©æ³•ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºï¼Œå’±ä»¬ä¸€èµ·è¿›æ­¥ï¼å‰ç«¯ä¸åªæ˜¯å†™ä»£ç ï¼Œéƒ¨ç½²ä¹Ÿæ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œä½ è¯´æ˜¯ä¸æ˜¯ï¼Ÿ\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var a in e)d(l,a,{get:e[a],enumerable:!0})},c=(l,e,a,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!u.call(l,r)&&r!==a&&d(l,r,{get:()=>e[r],enumerable:!(i=g(e,r))||i.enumerable});return l};var x=(l,e,a)=>(a=l!=null?p(E(l)):{},c(e||!l||!l.__esModule?d(a,\"default\",{value:l,enumerable:!0}):a,l)),k=l=>c(d({},\"__esModule\",{value:!0}),l);var h=F((C,t)=>{t.exports=_jsx_runtime});var b={};f(b,{default:()=>o,frontmatter:()=>m});var n=x(h()),m={type:\"Post\",title:\"\\u4E00\\u7BC7\\u770B\\u61C2\\uFF01Docker + Nginx \\u96F6\\u57FA\\u7840\\u90E8\\u7F72\\u524D\\u7AEF\\uFF0C\\u4ECE\\u6B64\\u544A\\u522B\\u201C\\u6211\\u7535\\u8111\\u4E0A\\u80FD\\u8DD1\\u201D\",date:\"2024-01-02\",description:\"\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u624B\\u628A\\u624B\\u6559\\u4F60\\u7528 Docker \\u548C Nginx \\u90E8\\u7F72\\u524D\\u7AEF\\u9879\\u76EE\\uFF0C\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u8D85\\u591A\\u5B9E\\u4F8B\\uFF0C\\u9644\\u5E26\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u8BA9\\u4F60\\u5F7B\\u5E95\\u6446\\u8131\\u672C\\u5730\\u8DD1\\u5F97\\u597D\\u3001\\u7EBF\\u4E0A\\u70B8\\u7FFB\\u5929\\u7684\\u5C34\\u5C2C\\u3002\",keywords:\"Docker, Nginx, \\u524D\\u7AEF\\u90E8\\u7F72, \\u5BB9\\u5668\\u5316, Web \\u670D\\u52A1\\u5668, DevOps, \\u524D\\u7AEF\\u5F00\\u53D1, \\u96F6\\u57FA\\u7840\\u6559\\u7A0B\",author:\"\\u6653\\u9F99\",image:\"/images/hero/docker-nginx.jpg\",tags:[\"Docker\",\"Nginx\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u90E8\\u7F72\"],category:\"\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5316\"};function s(l){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u4F5C\\u4E3A\\u4E00\\u4E2A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u4F60\\u662F\\u5426\\u7ECF\\u5386\\u8FC7\\u8FD9\\u6837\\u7684\\u573A\\u666F\\uFF1A\\u672C\\u5730\\u5F00\\u53D1\\u73AF\\u5883\\u8DD1\\u5F97\\u98DE\\u8D77\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"npm run dev\"})})})}),\" \\u4E00\\u5207\\u5B8C\\u7F8E\\uFF0C\\u7ED3\\u679C\\u90E8\\u7F72\\u5230\\u670D\\u52A1\\u5668\\u540E\\uFF0C\\u9875\\u9762\\u767D\\u5C4F\\u3001404\\u3001\\u751A\\u81F3\\u6574\\u4E2A\\u670D\\u52A1\\u6302\\u6389\\uFF0C\\u5BA2\\u6237\\u4E00\\u8138\\u61F5\\u903C\\u5730\\u770B\\u7740\\u4F60\\uFF1A\\u201C\\u4E0D\\u662F\\u8BF4\\u597D\\u4E86\\u5417\\uFF1F\\u600E\\u4E48\\u53C8\\u70B8\\u4E86\\uFF1F\\u201D \\u{1F62D} \\u7136\\u540E\\u4F60\\u53EA\\u80FD\\u786C\\u7740\\u5934\\u76AE debug\\uFF0C\\u7FFB\\u65E5\\u5FD7\\uFF0C\\u6539\\u914D\\u7F6E\\uFF0C\\u6700\\u540E\\u53D1\\u73B0\\u662F\\u73AF\\u5883\\u4E0D\\u4E00\\u81F4\\u3001\\u4F9D\\u8D56\\u6CA1\\u88C5\\u5168\\uFF0C\\u6216\\u8005\\u670D\\u52A1\\u5668\\u538B\\u6839\\u6CA1\\u8DD1\\u8D77\\u6765\\u3002\\u4E8E\\u662F\\u4F60\\u5F00\\u59CB\\u6000\\u5FF5\\u90A3\\u53E5\\u7ECF\\u5178\\u540D\\u8A00\\uFF1A\\u201C\\u6211\\u7535\\u8111\\u4E0A\\u80FD\\u8DD1\\u554A\\uFF01\\u201D\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u522B\\u614C\\uFF0C\\u4ECA\\u5929\\u8FD9\\u7BC7\\u535A\\u5BA2\\u5C06\\u5E26\\u4F60\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u7528 \",(0,n.jsx)(e.strong,{children:\"Docker + Nginx\"}),\" \\u628A\\u524D\\u7AEF\\u9879\\u76EE\\u90E8\\u7F72\\u5F97\\u7A33\\u5982\\u8001\\u72D7\\u3002\\u4ECE\\u57FA\\u7840\\u539F\\u7406\\u5230\\u52A8\\u624B\\u5B9E\\u8DF5\\uFF0C\\u518D\\u5230\\u4F18\\u5316\\u6280\\u5DE7\\uFF0C\\u4E00\\u7F51\\u6253\\u5C3D\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u5C0F\\u767D\\u8FD8\\u662F\\u8001\\u53F8\\u673A\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u90FD\\u80FD\\u8BA9\\u4F60\\u6709\\u6240\\u6536\\u83B7\\u3002\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u4E00\\u8D77\\u8DF3\\u8FDB\\u5BB9\\u5668\\u5316\\u90E8\\u7F72\\u7684\\u5947\\u5999\\u4E16\\u754C\\u5427\\uFF01\\u{1F680}\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9009-docker--nginx\",children:(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u9009-docker--nginx\",children:\"\\u4E3A\\u4EC0\\u4E48\\u9009 Docker + Nginx\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u52A8\\u624B\\u4E4B\\u524D\\uFF0C\\u5148\\u804A\\u804A\\u4E3A\\u4EC0\\u4E48\\u8981\\u7528\\u8FD9\\u5BF9\\u201C\\u9EC4\\u91D1\\u642D\\u6863\\u201D\\u3002Docker \\u662F\\u4E2A\\u5BB9\\u5668\\u5316\\u5DE5\\u5177\\uFF0C\\u80FD\\u6253\\u5305\\u4F60\\u7684\\u4EE3\\u7801\\u3001\\u4F9D\\u8D56\\u548C\\u8FD0\\u884C\\u73AF\\u5883\\uFF0C\\u50CF\\u4E2A\\u5BC6\\u5C01\\u7684\\u592A\\u7A7A\\u8231\\uFF0C\\u4FDD\\u8BC1\\u201C\\u672C\\u5730\\u80FD\\u8DD1\\uFF0C\\u7EBF\\u4E0A\\u4E5F\\u80FD\\u8DD1\\u201D\\u3002\\u800C Nginx \\u662F\\u4E2A\\u9AD8\\u6027\\u80FD Web \\u670D\\u52A1\\u5668\\uFF0C\\u8F7B\\u91CF\\u53C8\\u5F3A\\u5927\\uFF0C\\u5B8C\\u7F8E\\u80DC\\u4EFB\\u9759\\u6001\\u8D44\\u6E90\\u7684\\u5206\\u53D1\\u548C\\u53CD\\u5411\\u4EE3\\u7406\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7C7B\\u6BD4\\u4E00\\u4E0B\\uFF1ADocker \\u662F\\u4F60\\u7684\\u201C\\u79C1\\u4EBA\\u98DE\\u8239\\u201D\\uFF0CNginx \\u662F\\u201C\\u5BFC\\u822A\\u7CFB\\u7EDF\\u201D\\uFF0C\\u4E24\\u8005\\u914D\\u5408\\uFF0C\\u80FD\\u8BA9\\u4F60\\u7684\\u524D\\u7AEF\\u9879\\u76EE\\u5E73\\u7A33\\u7740\\u9646\\u5230\\u4EFB\\u4F55\\u670D\\u52A1\\u5668\\u4E0A\\uFF0C\\u4E0D\\u7528\\u62C5\\u5FC3\\u201C\\u5927\\u6C14\\u5C42\\u6469\\u64E6\\u201D\\u628A\\u4F60\\u70E7\\u6BC1\\uFF08\\u6BD4\\u5982\\u73AF\\u5883\\u4E0D\\u4E00\\u81F4\\u5BFC\\u81F4\\u7684\\u5D29\\u6E83\\uFF09\\u3002\\u{1F30D}\"}),`\n`,(0,n.jsx)(e.h3,{id:\"docker-\\u7684\\u6838\\u5FC3\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#docker-\\u7684\\u6838\\u5FC3\\u539F\\u7406\",children:\"Docker \\u7684\\u6838\\u5FC3\\u539F\\u7406\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Docker \\u7684\\u672C\\u8D28\\u662F\\u5229\\u7528 Linux \\u7684 \",(0,n.jsx)(e.strong,{children:\"namespace\"}),\"\\uFF08\\u9694\\u79BB\\u8FDB\\u7A0B\\uFF09\\u548C \",(0,n.jsx)(e.strong,{children:\"cgroups\"}),\"\\uFF08\\u9650\\u5236\\u8D44\\u6E90\\uFF09\\u6280\\u672F\\uFF0C\\u628A\\u4F60\\u7684\\u5E94\\u7528\\u548C\\u4F9D\\u8D56\\u88C5\\u8FDB\\u4E00\\u4E2A\\u72EC\\u7ACB\\u7684\\u201C\\u5BB9\\u5668\\u201D\\u91CC\\u3002\\u6BCF\\u4E2A\\u5BB9\\u5668\\u5C31\\u50CF\\u4E00\\u53F0\\u8FF7\\u4F60\\u865A\\u62DF\\u673A\\uFF0C\\u4F46\\u6BD4 VM \\u8F7B\\u91CF\\u5F97\\u591A\\uFF0C\\u56E0\\u4E3A\\u5B83\\u5171\\u4EAB\\u5BBF\\u4E3B\\u673A\\u7684\\u5185\\u6838\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u5B83\\u89E3\\u51B3\\u4E86\\u201C\\u73AF\\u5883\\u5DEE\\u5F02\\u201D\\u7684\\u95EE\\u9898\\u2014\\u2014\\u4F60\\u672C\\u5730\\u8DD1\\u7684\\u662F Node 18\\uFF0C\\u7EBF\\u4E0A\\u662F Node 14\\uFF1FDocker \\u8BF4\\uFF1A\\u6CA1\\u95EE\\u9898\\uFF0C\\u5168\\u90FD\\u6253\\u5305\\u5E26\\u8D70\\uFF01\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"nginx-\\u7684\\u6838\\u5FC3\\u539F\\u7406\",children:(0,n.jsx)(e.a,{href:\"#nginx-\\u7684\\u6838\\u5FC3\\u539F\\u7406\",children:\"Nginx \\u7684\\u6838\\u5FC3\\u539F\\u7406\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Nginx \\u662F\\u4E2A\\u5F02\\u6B65\\u3001\\u975E\\u963B\\u585E\\u7684 Web \\u670D\\u52A1\\u5668\\uFF0C\\u64C5\\u957F\\u5904\\u7406\\u9759\\u6001\\u6587\\u4EF6\\uFF08HTML\\u3001CSS\\u3001JS\\uFF09\\u548C\\u9AD8\\u5E76\\u53D1\\u8BF7\\u6C42\\u3002\\u5B83\\u7684\\u5DE5\\u4F5C\\u6A21\\u5F0F\\u6709\\u70B9\\u50CF\\u996D\\u5E97\\u91CC\\u7684\\u670D\\u52A1\\u5458\\uFF1A\\u4E00\\u4E2A\\u670D\\u52A1\\u5458\\uFF08\\u5355\\u7EBF\\u7A0B\\uFF09\\u80FD\\u540C\\u65F6\\u62DB\\u547C\\u597D\\u51E0\\u684C\\u5BA2\\u4EBA\\uFF08\\u8BF7\\u6C42\\uFF09\\uFF0C\\u6548\\u7387\\u6781\\u9AD8\\u3002\\u76F8\\u6BD4 Apache \\u7684\\u201C\\u4E00\\u4E2A\\u5BA2\\u4EBA\\u4E00\\u4E2A\\u670D\\u52A1\\u5458\\u201D\\u6A21\\u5F0F\\uFF0CNginx \\u5728\\u524D\\u7AEF\\u90E8\\u7F72\\u4E2D\\u66F4\\u7701\\u8D44\\u6E90\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u7ED3\\u5408\\u4F7F\\u7528\",children:(0,n.jsx)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48\\u8981\\u7ED3\\u5408\\u4F7F\\u7528\",children:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u7ED3\\u5408\\u4F7F\\u7528\\uFF1F\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5355\\u72EC\\u7528 Docker\\uFF0C\\u53EF\\u4EE5\\u8DD1\\u8D77\\u6765\\uFF1B\\u5355\\u72EC\\u7528 Nginx\\uFF0C\\u53EF\\u4EE5\\u5206\\u53D1\\u6587\\u4EF6\\u3002\\u4F46\\u7ED3\\u5408\\u8D77\\u6765\\uFF0C\\u4F60\\u5C31\\u6709\\u4E86\\u201C\\u53EF\\u590D\\u5236\\u7684\\u73AF\\u5883 + \\u9AD8\\u6548\\u7684\\u9759\\u6001\\u670D\\u52A1\\u201D\\uFF0C\\u8FD8\\u80FD\\u8F7B\\u677E\\u6269\\u5C55\\u5230\\u8D1F\\u8F7D\\u5747\\u8861\\u3001HTTPS \\u7B49\\u9AD8\\u7EA7\\u73A9\\u6CD5\\u3002\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u5F88\\u9999\\uFF1F\\u{1F354}\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u5982\\u679C\\u4F60\\u7684\\u9879\\u76EE\\u53EA\\u662F\\u4E2A\\u5C0F demo\\uFF0CNginx \\u5355\\u72EC\\u8DD1\\u4E5F\\u591F\\u4E86\\u3002\\u4F46\\u4E00\\u65E6\\u6D89\\u53CA\\u591A\\u4EBA\\u534F\\u4F5C\\u3001CI/CD \\u6216\\u8005\\u751F\\u4EA7\\u73AF\\u5883\\uFF0CDocker \\u7684\\u5BB9\\u5668\\u5316\\u5C31\\u662F\\u6551\\u547D\\u7A3B\\u8349\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u52A8\\u624B\\u5B9E\\u8DF5\\u4ECE\\u96F6\\u90E8\\u7F72\\u4E00\\u4E2A-react-\\u9879\\u76EE\",children:(0,n.jsx)(e.a,{href:\"#\\u52A8\\u624B\\u5B9E\\u8DF5\\u4ECE\\u96F6\\u90E8\\u7F72\\u4E00\\u4E2A-react-\\u9879\\u76EE\",children:\"\\u52A8\\u624B\\u5B9E\\u8DF5\\uFF1A\\u4ECE\\u96F6\\u90E8\\u7F72\\u4E00\\u4E2A React \\u9879\\u76EE\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u597D\\u4E86\\uFF0C\\u539F\\u7406\\u804A\\u5B8C\\u4E86\\uFF0C\\u54B1\\u4EEC\\u76F4\\u63A5\\u4E0A\\u5E72\\u8D27\\uFF01\\u5047\\u8BBE\\u4F60\\u6709\\u4E2A React \\u9879\\u76EE\\uFF08\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"create-react-app\"})})})}),\" \\u521B\\u5EFA\\uFF09\\uFF0C\\u76EE\\u6807\\u662F\\u7528 Docker + Nginx \\u90E8\\u7F72\\u5B83\\u3002\\u4EE5\\u4E0B\\u662F\\u5B8C\\u6574\\u6B65\\u9AA4\\uFF0C\\u5E26\\u4F60\\u98DE\\uFF01\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u9879\\u76EE\\u51C6\\u5907\",children:(0,n.jsx)(e.a,{href:\"#1-\\u9879\\u76EE\\u51C6\\u5907\",children:\"1. \\u9879\\u76EE\\u51C6\\u5907\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5148\\u786E\\u4FDD\\u4F60\\u7684\\u9879\\u76EE\\u80FD\\u8DD1\\u8D77\\u6765\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" run\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" build\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4F1A\\u751F\\u6210\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"build\"})})})}),\" \\u6587\\u4EF6\\u5939\\uFF0C\\u91CC\\u9762\\u662F\\u6253\\u5305\\u597D\\u7684\\u9759\\u6001\\u6587\\u4EF6\\u3002\\u6253\\u5F00\\u6D4F\\u89C8\\u5668\\u8BBF\\u95EE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://localhost:3000\"})})})}),\"\\uFF0C\\u786E\\u8BA4\\u6CA1\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u6253\\u5305\\u524D\\u8DD1\\u4E00\\u904D \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"npm run lint\"})})})}),\" \\u548C\\u5355\\u5143\\u6D4B\\u8BD5\\uFF0C\\u522B\\u8BA9\\u4EE3\\u7801\\u91CC\\u7684\\u5C0F bug \\u5077\\u5077\\u6E9C\\u5230\\u7EBF\\u4E0A\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u7F16\\u5199-dockerfile\",children:(0,n.jsx)(e.a,{href:\"#2-\\u7F16\\u5199-dockerfile\",children:\"2. \\u7F16\\u5199 Dockerfile\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u9879\\u76EE\\u6839\\u76EE\\u5F55\\u65B0\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Dockerfile\"})})})}),\"\\uFF08\\u65E0\\u540E\\u7F00\\uFF09\\uFF0C\\u5185\\u5BB9\\u5982\\u4E0B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"dockerfile\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"dockerfile\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u57FA\\u7840\\u955C\\u50CF\\uFF1A\\u7528 Node 18 \\u6784\\u5EFA\\u524D\\u7AEF\\u9879\\u76EE\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"FROM\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" node:18 \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"AS\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" builder\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u8BBE\\u7F6E\\u5DE5\\u4F5C\\u76EE\\u5F55\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"WORKDIR\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" /app\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u590D\\u5236 package.json \\u548C\\u9501\\u6587\\u4EF6\\uFF0C\\u5B89\\u88C5\\u4F9D\\u8D56\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"COPY\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" package.json package-lock.json ./\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"RUN\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" npm install\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u590D\\u5236\\u6240\\u6709\\u4EE3\\u7801\\uFF0C\\u6267\\u884C\\u6784\\u5EFA\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"COPY\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" . .\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"RUN\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" npm run build\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u7B2C\\u4E8C\\u9636\\u6BB5\\uFF1A\\u7528 Nginx \\u955C\\u50CF\\u8FD0\\u884C\\u9759\\u6001\\u6587\\u4EF6\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"FROM\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" nginx:alpine\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"COPY\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" --from=builder /app/build /usr/share/nginx/html\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u66B4\\u9732\\u7AEF\\u53E3\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"EXPOSE\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" 80\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u542F\\u52A8 Nginx\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"CMD\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"nginx\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"-g\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"daemon off;\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"]\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u89E3\\u6790\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u8FD9\\u662F\\u4E00\\u4E2A\\u591A\\u9636\\u6BB5\\u6784\\u5EFA\\uFF08Multi-stage Build\\uFF09\\u3002\\u7B2C\\u4E00\\u9636\\u6BB5\\u7528 Node \\u955C\\u50CF\\u6253\\u5305\\u9879\\u76EE\\uFF0C\\u7B2C\\u4E8C\\u9636\\u6BB5\\u7528\\u8F7B\\u91CF\\u7EA7\\u7684 Nginx Alpine \\u955C\\u50CF\\u8FD0\\u884C\\u9759\\u6001\\u6587\\u4EF6\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EXPOSE 80\"})})})}),\" \\u8868\\u793A\\u5BB9\\u5668\\u76D1\\u542C 80 \\u7AEF\\u53E3\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"CMD\"})})})}),\" \\u662F\\u5BB9\\u5668\\u542F\\u52A8\\u65F6\\u8FD0\\u884C\\u7684\\u547D\\u4EE4\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'-g \"daemon off;\"'})})})}),\" \\u8BA9 Nginx \\u5728\\u524D\\u53F0\\u8FD0\\u884C\\uFF0C\\u907F\\u514D\\u5BB9\\u5668\\u9000\\u51FA\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 Alpine \\u7248\\u672C\\u7684\\u955C\\u50CF\\uFF0C\\u80FD\\u5927\\u5E45\\u51CF\\u5C0F\\u955C\\u50CF\\u4F53\\u79EF\\u3002Nginx Alpine \\u53EA\\u6709\\u51E0 MB\\uFF0C\\u6BD4\\u5B8C\\u6574\\u7248\\u8F7B\\u591A\\u4E86\\uFF01\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u7F16\\u5199-nginx-\\u914D\\u7F6E\\u6587\\u4EF6\\u53EF\\u9009\",children:(0,n.jsx)(e.a,{href:\"#3-\\u7F16\\u5199-nginx-\\u914D\\u7F6E\\u6587\\u4EF6\\u53EF\\u9009\",children:\"3. \\u7F16\\u5199 Nginx \\u914D\\u7F6E\\u6587\\u4EF6\\uFF08\\u53EF\\u9009\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0CNginx \\u7684\\u914D\\u7F6E\\u5DF2\\u7ECF\\u591F\\u7528\\u3002\\u4F46\\u5982\\u679C\\u9700\\u8981\\u81EA\\u5B9A\\u4E49\\uFF0C\\u6BD4\\u5982\\u8BBE\\u7F6E\\u7F13\\u5B58\\u6216\\u8DEF\\u7531\\u91CD\\u5B9A\\u5411\\uFF0C\\u53EF\\u4EE5\\u52A0\\u4E00\\u4E2A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"nginx.conf\"})})})}),\" \\u6587\\u4EF6\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"server\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    listen \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"80\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    server_name \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"localhost;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    location\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" / \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        root \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"/usr/share/nginx/html;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        index \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"index.html index.htm;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        try_files \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"$uri $uri/ /index.html; \"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# SPA \\u8DEF\\u7531\\u91CD\\u5B9A\\u5411\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    # \\u9759\\u6001\\u8D44\\u6E90\\u7F13\\u5B58\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    location\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ~*\"}),(0,n.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\" \\\\.(jpg|jpeg|png|css|js|ico)$ \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        expires \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"30d\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        access_log \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"off\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7136\\u540E\\u4FEE\\u6539 Dockerfile\\uFF0C\\u628A\\u914D\\u7F6E\\u6587\\u4EF6\\u590D\\u5236\\u8FDB\\u53BB\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"dockerfile\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"dockerfile\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"COPY\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" nginx.conf /etc/nginx/conf.d/default.conf\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": SPA\\uFF08\\u5355\\u9875\\u5E94\\u7528\\uFF09\\u4E00\\u5B9A\\u8981\\u52A0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"try_files\"})})})}),\"\\uFF0C\\u5426\\u5219\\u5237\\u65B0\\u9875\\u9762\\u4F1A 404\\u3002\\u7F13\\u5B58\\u8BBE\\u7F6E\\u80FD\\u8BA9\\u6D4F\\u89C8\\u5668\\u590D\\u7528\\u9759\\u6001\\u8D44\\u6E90\\uFF0C\\u63D0\\u901F\\u660E\\u663E\\uFF01\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u6784\\u5EFA\\u548C\\u8FD0\\u884C\\u5BB9\\u5668\",children:(0,n.jsx)(e.a,{href:\"#4-\\u6784\\u5EFA\\u548C\\u8FD0\\u884C\\u5BB9\\u5668\",children:\"4. \\u6784\\u5EFA\\u548C\\u8FD0\\u884C\\u5BB9\\u5668\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u7EC8\\u7AEF\\u8DD1\\u4EE5\\u4E0B\\u547D\\u4EE4\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u6784\\u5EFA\\u955C\\u50CF\\uFF0C\\u547D\\u540D\\u4E3A my-react-app\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"docker\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" build\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -t\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-react-app\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" .\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u8FD0\\u884C\\u5BB9\\u5668\\uFF0C\\u6620\\u5C04\\u5BBF\\u4E3B\\u673A\\u7684 8080 \\u7AEF\\u53E3\\u5230\\u5BB9\\u5668\\u7684 80 \\u7AEF\\u53E3\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"docker\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" run\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -d\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -p\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 8080:80\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-react-app\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6253\\u5F00\\u6D4F\\u89C8\\u5668\\uFF0C\\u8BBF\\u95EE \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"http://localhost:8080\"})})})}),\"\\uFF0C\\u4F60\\u7684 React \\u9879\\u76EE\\u5C31\\u8DD1\\u8D77\\u6765\\u4E86\\uFF01\\u{1F389}\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"-d\"})})})}),\" \\u53C2\\u6570\\u8BA9\\u5BB9\\u5668\\u5728\\u540E\\u53F0\\u8FD0\\u884C\\uFF0C\\u52A0\\u4E0A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"--name my-app\"})})})}),\" \\u53EF\\u4EE5\\u7ED9\\u5BB9\\u5668\\u8D77\\u4E2A\\u540D\\u5B57\\uFF0C\\u65B9\\u4FBF\\u7BA1\\u7406\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"5-\\u9A8C\\u8BC1\\u90E8\\u7F72\",children:(0,n.jsx)(e.a,{href:\"#5-\\u9A8C\\u8BC1\\u90E8\\u7F72\",children:\"5. \\u9A8C\\u8BC1\\u90E8\\u7F72\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u90E8\\u7F72\\u5B8C\\u522B\\u6025\\u7740\\u5E86\\u795D\\uFF0C\\u5148\\u68C0\\u67E5\\u4E00\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5237\\u65B0\\u9875\\u9762\\uFF0C\\u770B\\u8DEF\\u7531\\u662F\\u5426\\u6B63\\u5E38\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6253\\u5F00\\u5F00\\u53D1\\u8005\\u5DE5\\u5177\\uFF0C\\u68C0\\u67E5\\u9759\\u6001\\u8D44\\u6E90\\u662F\\u5426\\u52A0\\u8F7D\\u6210\\u529F\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8DD1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"docker ps\"})})})}),\"\\uFF0C\\u786E\\u8BA4\\u5BB9\\u5668\\u5728\\u8FD0\\u884C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u54EA\\u91CC\\u5D29\\u4E86\\uFF0C\\u8DD1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"docker logs <\\u5BB9\\u5668ID>\"})})})}),\" \\u770B\\u65E5\\u5FD7\\uFF0C\\u95EE\\u9898\\u4E00\\u76EE\\u4E86\\u7136\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u8FDB\\u9636\\u73A9\\u6CD5\\u4F18\\u5316\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\",children:(0,n.jsx)(e.a,{href:\"#\\u8FDB\\u9636\\u73A9\\u6CD5\\u4F18\\u5316\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\",children:\"\\u8FDB\\u9636\\u73A9\\u6CD5\\uFF1A\\u4F18\\u5316\\u4E0E\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u57FA\\u7840\\u90E8\\u7F72\\u8DD1\\u901A\\u4E86\\uFF0C\\u4F46\\u751F\\u4EA7\\u73AF\\u5883\\u53EF\\u6CA1\\u8FD9\\u4E48\\u7B80\\u5355\\u3002\\u4E0B\\u9762\\u662F\\u4E00\\u4E9B\\u8FDB\\u9636\\u6280\\u5DE7\\uFF0C\\u8BA9\\u4F60\\u7684\\u90E8\\u7F72\\u66F4\\u4E13\\u4E1A\\u3001\\u66F4\\u7A33\\u5B9A\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u73AF\\u5883\\u53D8\\u91CF\\u6CE8\\u5165\",children:(0,n.jsx)(e.a,{href:\"#1-\\u73AF\\u5883\\u53D8\\u91CF\\u6CE8\\u5165\",children:\"1. \\u73AF\\u5883\\u53D8\\u91CF\\u6CE8\\u5165\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u524D\\u7AEF\\u9879\\u76EE\\u7ECF\\u5E38\\u9700\\u8981\\u73AF\\u5883\\u53D8\\u91CF\\uFF08\\u6BD4\\u5982 API \\u5730\\u5740\\uFF09\\u3002\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Dockerfile\"})})})}),\" \\u4E2D\\u52A0\\u70B9\\u6599\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"dockerfile\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"dockerfile\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u5728\\u6784\\u5EFA\\u65F6\\u6CE8\\u5165\\u73AF\\u5883\\u53D8\\u91CF\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"ARG\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" REACT_APP_API_URL\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"ENV\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" REACT_APP_API_URL=$REACT_APP_API_URL\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# \\u6784\\u5EFA\\u65F6\\u4F20\\u5165\\u53C2\\u6570\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"docker build --build-arg REACT_APP_API_URL=https://api.example.com -t my-react-app .\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u654F\\u611F\\u4FE1\\u606F\\uFF08\\u6BD4\\u5982\\u5BC6\\u94A5\\uFF09\\u522B\\u786C\\u7F16\\u7801\\uFF0C\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\".env\"})})})}),\" \\u6587\\u4EF6\\u7BA1\\u7406\\uFF0C\\u7136\\u540E\\u5728 CI/CD \\u7BA1\\u9053\\u91CC\\u6CE8\\u5165\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u5065\\u5EB7\\u68C0\\u67E5\",children:(0,n.jsx)(e.a,{href:\"#2-\\u5065\\u5EB7\\u68C0\\u67E5\",children:\"2. \\u5065\\u5EB7\\u68C0\\u67E5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u52A0\\u4E2A\\u5065\\u5EB7\\u68C0\\u67E5\\uFF0C\\u786E\\u4FDD\\u5BB9\\u5668\\u6302\\u4E86\\u80FD\\u81EA\\u52A8\\u91CD\\u542F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"dockerfile\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"dockerfile\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"HEALTHCHECK\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" --interval=30s --timeout=3s \\\\\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  CMD\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" curl -f http://localhost/ || exit 1\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": Docker Compose \\u6216 Kubernetes \\u7528\\u5F97\\u591A\\u7684\\u8BDD\\uFF0C\\u5065\\u5EB7\\u68C0\\u67E5\\u662F\\u6807\\u914D\\uFF0C\\u80FD\\u7701\\u4E0D\\u5C11\\u5FC3\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u8D1F\\u8F7D\\u5747\\u8861\\u4E0E\\u591A\\u5B9E\\u4F8B\",children:(0,n.jsx)(e.a,{href:\"#3-\\u8D1F\\u8F7D\\u5747\\u8861\\u4E0E\\u591A\\u5B9E\\u4F8B\",children:\"3. \\u8D1F\\u8F7D\\u5747\\u8861\\u4E0E\\u591A\\u5B9E\\u4F8B\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9879\\u76EE\\u6D41\\u91CF\\u5927\\u4E86\\u600E\\u4E48\\u529E\\uFF1F\\u7528 Nginx \\u505A\\u8D1F\\u8F7D\\u5747\\u8861\\uFF01\\u8DD1\\u591A\\u4E2A\\u5BB9\\u5668\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"docker\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" run\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -d\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -p\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 8081:80\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-react-app\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"docker\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" run\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -d\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -p\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 8082:80\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-react-app\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u6539 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"nginx.conf\"})})})}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"upstream\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" backend \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    server\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" 127.0.0.1:8081;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    server\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" 127.0.0.1:8082;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"server\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    listen \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"80\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    location\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" / \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        proxy_pass \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"http://backend;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u751F\\u4EA7\\u73AF\\u5883\\u5EFA\\u8BAE\\u7528 Docker Compose \\u6216 Kubernetes\\uFF0C\\u7BA1\\u7406\\u591A\\u5BB9\\u5668\\u66F4\\u8F7B\\u677E\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"4-https-\\u914D\\u7F6E\",children:(0,n.jsx)(e.a,{href:\"#4-https-\\u914D\\u7F6E\",children:\"4. HTTPS \\u914D\\u7F6E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7EBF\\u4E0A\\u73AF\\u5883\\u6CA1 HTTPS \\u53EF\\u4E0D\\u884C\\uFF01\\u7528 Let\\u2019s Encrypt \\u7533\\u8BF7\\u8BC1\\u4E66\\uFF0C\\u7136\\u540E\\u66F4\\u65B0 Nginx \\u914D\\u7F6E\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"server\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    listen \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"443\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ssl;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    server_name \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"yourdomain.com;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    ssl_certificate \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"/etc/nginx/certs/fullchain.pem;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    ssl_certificate_key \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"/etc/nginx/certs/privkey.pem;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    location\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" / \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        root \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"/usr/share/nginx/html;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        try_files \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"$uri $uri/ /index.html;\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BC1\\u4E66\\u6587\\u4EF6\\u5F97\\u6302\\u8F7D\\u5230\\u5BB9\\u5668\\u91CC\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"docker\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" run\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -d\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -p\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 443:443\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -v\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /path/to/certs:/etc/nginx/certs\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-react-app\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 Certbot \\u81EA\\u52A8\\u7EED\\u671F\\u8BC1\\u4E66\\uFF0C\\u522B\\u8BA9 HTTPS \\u8FC7\\u671F\\uFF0C\\u4E0D\\u7136\\u6D4F\\u89C8\\u5668\\u4F1A\\u7ED9\\u4F60\\u6302\\u4E2A\\u5927\\u7EA2\\u9501\\uFF01\\u{1F512}\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"5-\\u65E5\\u5FD7\\u7BA1\\u7406\",children:(0,n.jsx)(e.a,{href:\"#5-\\u65E5\\u5FD7\\u7BA1\\u7406\",children:\"5. \\u65E5\\u5FD7\\u7BA1\\u7406\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Nginx \\u9ED8\\u8BA4\\u4F1A\\u628A\\u8BBF\\u95EE\\u65E5\\u5FD7\\u5199\\u5230\\u5BB9\\u5668\\u91CC\\uFF0C\\u65F6\\u95F4\\u957F\\u4E86\\u53EF\\u80FD\\u4F1A\\u7206\\u76D8\\u3002\\u6539\\u6210\\u8F93\\u51FA\\u5230 stdout\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"nginx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"access_log \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"/dev/stdout;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"error_log \"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"/dev/stderr;\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u914D\\u5408\\u65E5\\u5FD7\\u6536\\u96C6\\u5DE5\\u5177\\uFF08\\u6BD4\\u5982 Fluentd \\u6216 ELK\\uFF09\\uFF0C\\u80FD\\u5B9E\\u65F6\\u76D1\\u63A7\\u7EBF\\u4E0A\\u72B6\\u6001\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5E38\\u89C1\\u5751\\u4E0E\\u6392\\u96F7\\u6307\\u5357\",children:(0,n.jsx)(e.a,{href:\"#\\u5E38\\u89C1\\u5751\\u4E0E\\u6392\\u96F7\\u6307\\u5357\",children:\"\\u5E38\\u89C1\\u5751\\u4E0E\\u6392\\u96F7\\u6307\\u5357\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u90E8\\u7F72\\u8DEF\\u4E0A\\u603B\\u4F1A\\u8E29\\u5751\\uFF0C\\u8FD9\\u91CC\\u603B\\u7ED3\\u51E0\\u4E2A\\u5E38\\u89C1\\u95EE\\u9898\\u548C\\u89E3\\u51B3\\u529E\\u6CD5\\uFF0C\\u5E2E\\u4F60\\u5C11\\u8D70\\u5F2F\\u8DEF\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u4E3A\\u4EC0\\u4E48\\u6211\\u7684\\u8DEF\\u7531\\u5237\\u65B0-404-\\u4E86\",children:(0,n.jsx)(e.a,{href:\"#1-\\u4E3A\\u4EC0\\u4E48\\u6211\\u7684\\u8DEF\\u7531\\u5237\\u65B0-404-\\u4E86\",children:\"1. \\u201C\\u4E3A\\u4EC0\\u4E48\\u6211\\u7684\\u8DEF\\u7531\\u5237\\u65B0 404 \\u4E86\\uFF1F\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),`\\uFF1ASPA \\u7684\\u8DEF\\u7531\\u6CA1\\u914D\\u7F6E\\u597D\\uFF0CNginx \\u8FD4\\u56DE\\u4E86 404\\u3002\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u52A0 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"try_files $uri $uri/ /index.html;\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u955C\\u50CF\\u592A\\u5927\\u4F20\\u5230\\u670D\\u52A1\\u5668\\u597D\\u6162\",children:(0,n.jsx)(e.a,{href:\"#2-\\u955C\\u50CF\\u592A\\u5927\\u4F20\\u5230\\u670D\\u52A1\\u5668\\u597D\\u6162\",children:\"2. \\u201C\\u955C\\u50CF\\u592A\\u5927\\uFF0C\\u4F20\\u5230\\u670D\\u52A1\\u5668\\u597D\\u6162\\uFF01\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),`\\uFF1A\\u6CA1\\u7528\\u591A\\u9636\\u6BB5\\u6784\\u5EFA\\uFF0C\\u6216\\u8005\\u88C5\\u4E86\\u4E0D\\u5FC5\\u8981\\u7684\\u4F9D\\u8D56\\u3002\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u7528 Alpine \\u955C\\u50CF\\uFF0C\\u6E05\\u7406\\u65E0\\u7528\\u6587\\u4EF6\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u5BB9\\u5668\\u8DD1\\u7740\\u8DD1\\u7740\\u5C31\\u6302\\u4E86\",children:(0,n.jsx)(e.a,{href:\"#3-\\u5BB9\\u5668\\u8DD1\\u7740\\u8DD1\\u7740\\u5C31\\u6302\\u4E86\",children:\"3. \\u201C\\u5BB9\\u5668\\u8DD1\\u7740\\u8DD1\\u7740\\u5C31\\u6302\\u4E86\\uFF01\\u201D\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u539F\\u56E0\"}),`\\uFF1A\\u53EF\\u80FD\\u662F\\u5185\\u5B58\\u6EA2\\u51FA\\uFF0C\\u6216\\u8005 Nginx \\u914D\\u7F6E\\u6709\\u8BEF\\u3002\n`,(0,n.jsx)(e.strong,{children:\"\\u89E3\\u51B3\"}),\"\\uFF1A\\u8DD1 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"docker logs\"})})})}),\" \\u67E5\\u539F\\u56E0\\uFF0C\\u52A0\\u8D44\\u6E90\\u9650\\u5236\\uFF1A\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"docker\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" run\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -d\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -p\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 8080:80\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --memory=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"512m\"'}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" my-react-app\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Tips\"}),\": \\u9047\\u5230\\u95EE\\u9898\\u522B\\u614C\\uFF0C80% \\u7684\\u5751\\u90FD\\u80FD\\u901A\\u8FC7\\u65E5\\u5FD7\\u548C Google \\u89E3\\u51B3\\u3002\\u5269\\u4E0B\\u7684 20%\\uFF0C\\u95EE\\u95EE GPT\\uFF08\\u54B3\\u54B3\\uFF0C\\u6211\\u7684\\u610F\\u601D\\u662F\\u95EE\\u95EE\\u540C\\u4E8B\\uFF09\\u3002\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5199\\u5728\\u6700\\u540E\",children:(0,n.jsx)(e.a,{href:\"#\\u5199\\u5728\\u6700\\u540E\",children:\"\\u5199\\u5728\\u6700\\u540E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u606D\\u559C\\u4F60\\uFF01\\u770B\\u5B8C\\u8FD9\\u7BC7\\u535A\\u5BA2\\uFF0C\\u4F60\\u5DF2\\u7ECF\\u638C\\u63E1\\u4E86\\u7528 Docker + Nginx \\u90E8\\u7F72\\u524D\\u7AEF\\u9879\\u76EE\\u7684\\u5168\\u5957\\u6280\\u80FD\\u3002\\u4ECE\\u96F6\\u57FA\\u7840\\u5230\\u8FDB\\u9636\\u4F18\\u5316\\uFF0C\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\uFF0C\\u73B0\\u5728\\u7684\\u4F60\\uFF0C\\u5B8C\\u5168\\u53EF\\u4EE5\\u81EA\\u4FE1\\u5730\\u8BF4\\uFF1A\\u201C\\u6211\\u4E0D\\u4EC5\\u672C\\u5730\\u80FD\\u8DD1\\uFF0C\\u7EBF\\u4E0A\\u4E5F\\u80FD\\u98DE\\uFF01\\u201D \\u2708\\uFE0F\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u90E8\\u7F72\\u8FD9\\u4EF6\\u4E8B\\uFF0C\\u8BF4\\u767D\\u4E86\\u5C31\\u662F\\u628A\\u201C\\u4E0D\\u53EF\\u63A7\\u201D\\u53D8\\u6210\\u201C\\u53EF\\u63A7\\u201D\\u3002Docker \\u5E2E\\u4F60\\u9501\\u4F4F\\u73AF\\u5883\\uFF0CNginx \\u5E2E\\u4F60\\u641E\\u5B9A\\u5206\\u53D1\\uFF0C\\u518D\\u52A0\\u4E0A\\u4E00\\u4E9B\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u4F60\\u7684\\u4EE3\\u7801\\u5C31\\u80FD\\u50CF\\u5FEB\\u9012\\u4E00\\u6837\\uFF0C\\u7A33\\u7A33\\u5F53\\u5F53\\u9001\\u5230\\u7528\\u6237\\u624B\\u91CC\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u6210\\u4E3A\\u4F60\\u524D\\u7AEF\\u751F\\u6DAF\\u4E2D\\u7684\\u4E00\\u76CF\\u660E\\u706F\\uFF0C\\u4E0B\\u6B21\\u4E0A\\u7EBF\\u65F6\\uFF0C\\u522B\\u5FD8\\u4E86\\u56DE\\u6765\\u7ED9\\u6211\\u70B9\\u4E2A\\u8D5E\\u54E6\\uFF01\\u{1F60E}\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6709\\u4EC0\\u4E48\\u95EE\\u9898\\u6216\\u8005\\u66F4\\u597D\\u7684\\u73A9\\u6CD5\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u8BA8\\u8BBA\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u8FDB\\u6B65\\uFF01\\u524D\\u7AEF\\u4E0D\\u53EA\\u662F\\u5199\\u4EE3\\u7801\\uFF0C\\u90E8\\u7F72\\u4E5F\\u662F\\u4E00\\u95E8\\u827A\\u672F\\uFF0C\\u4F60\\u8BF4\\u662F\\u4E0D\\u662F\\uFF1F\"}),`\n`,(0,n.jsx)(e.hr,{})]})}function o(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(s,{...l})}):s(l)}return k(b);})();\n;return Component;"
  },
  "_id": "å‰ç«¯å·¥ç¨‹åŒ–/Docker+Nginxé›¶åŸºç¡€éƒ¨ç½²å‰ç«¯.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯å·¥ç¨‹åŒ–/Docker+Nginxé›¶åŸºç¡€éƒ¨ç½²å‰ç«¯.mdx",
    "sourceFileName": "Docker+Nginxé›¶åŸºç¡€éƒ¨ç½²å‰ç«¯.mdx",
    "sourceFileDir": "å‰ç«¯å·¥ç¨‹åŒ–",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯å·¥ç¨‹åŒ–/Docker+Nginxé›¶åŸºç¡€éƒ¨ç½²å‰ç«¯"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯å·¥ç¨‹åŒ–/Docker+Nginxé›¶åŸºç¡€éƒ¨ç½²å‰ç«¯"
}
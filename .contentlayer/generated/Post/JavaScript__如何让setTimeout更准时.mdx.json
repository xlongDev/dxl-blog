{
  "title": "如何让 setTimeout 更准时？",
  "date": "2023-02-08T00:00:00.000Z",
  "description": "深入探讨 setTimeout 的工作原理、延迟不准的原因，以及如何通过源码分析和优化手段提升其精确性，附带大量实例和实践建议。",
  "keywords": "setTimeout, JavaScript, 事件循环, 浏览器渲染, 定时器优化, 性能优化",
  "author": "晓龙",
  "image": "/images/hero/settimeout.jpg",
  "tags": [
    "JavaScript",
    "前端开发",
    "性能优化"
  ],
  "views": 0,
  "likes": 0,
  "category": "JavaScript",
  "body": {
    "raw": "\n`setTimeout` 是 JavaScript 中最常用的定时器函数之一，我们通常用它来延迟执行某些任务。然而，如果你曾经在项目中依赖它来实现精确的定时操作，可能早就发现了它的“不可靠”——延迟时间往往不够准时，甚至偏差可能达到几十毫秒甚至更多。那么，为什么 `setTimeout` 会“失准”？我们又能做些什么让它更准时呢？本文将从浏览器底层机制、源码解析到优化实践，带你彻底搞懂这个问题。\n\n## `setTimeout` 的基本原理\n\n在深入优化之前，我们先来搞清楚 `setTimeout` 是怎么工作的。它的核心逻辑基于 JavaScript 的事件循环（Event Loop）和浏览器的定时器管理机制。\n\n### 事件循环与定时器队列\n\n`setTimeout(fn, delay)` 的作用是将回调函数 `fn` 在至少 `delay` 毫秒后放入任务队列，等待执行。注意这里的“至少”——它并不保证精确地在 `delay` 毫秒后执行，而是将任务交给浏览器的事件循环调度。\n\n浏览器的事件循环大致可以分为以下几个阶段：\n1. **执行同步代码**：处理当前调用栈中的任务。\n2. **处理微任务（Microtasks）**：如 `Promise.then` 或 `queueMicrotask`。\n3. **处理宏任务（Macrotasks）**：如 `setTimeout`、`setInterval`、I/O 操作等。\n4. **渲染阶段**：更新 DOM、执行 CSS 动画等。\n\n`setTimeout` 的回调作为一个宏任务，会被放入宏任务队列，等到调用栈清空且微任务处理完毕后，才会被取出执行。这意味着，如果主线程被其他任务阻塞，`setTimeout` 的执行时间就会推迟。\n\n### 浏览器的定时器实现（以 Chromium 为例）\n\n为了更深入理解，我们可以看看 Chromium 引擎（Chrome 的核心）中 `setTimeout` 的底层实现。Chromium 的定时器管理主要由 `base::Timer` 和 `blink::Scheduler` 等模块负责。\n\n1. **任务调度**：当你调用 `setTimeout(fn, 100)`，JavaScript 引擎会通过 V8 的绑定层将任务传递给 Blink 渲染引擎。Blink 会创建一个定时器任务，记录下回调函数和延迟时间。\n2. **时间戳管理**：浏览器维护一个定时器队列，使用高精度时间戳（如 `base::TimeTicks`）来跟踪每个定时器的到期时间。\n3. **最小延迟限制**：根据 HTML5 规范，如果定时器嵌套层级超过 5 层，`setTimeout` 的最小延迟会被强制设为 4ms。这在递归调用中尤其常见。\n\n从源码角度看，Chromium 的 `TaskQueue` 会定期检查是否有到期的定时器任务，并将其推入事件循环。但这里有个关键点：定时器的检查并不是连续的，而是依赖于事件循环的“tick”频率。如果主线程忙于其他任务，检查就会被推迟。\n\n## 为什么 `setTimeout` 不准时？\n\n明白了基本原理，我们再来看看 `setTimeout` 延迟不准的常见原因：\n\n### 1. 主线程阻塞\n\n如果主线程被长时间的同步任务占用，比如复杂的计算或大规模 DOM 操作，事件循环就无法及时处理定时器队列中的任务。\n\n**例子：**\n```javascript\nconsole.log(\"Start\");\nsetTimeout(() => console.log(\"Timeout\"), 100);\n// 模拟阻塞\nfor (let i = 0; i < 1e9; i++) {}\nconsole.log(\"End\");\n```\n输出可能是：\n```\nStart\nEnd\nTimeout\n```\n而且 “Timeout” 的打印时间远超 100ms，因为循环阻塞了主线程。\n\n### 2. 浏览器渲染优先级\n\n浏览器通常会优先处理渲染任务（比如每 16.6ms 刷新一次屏幕，60fps）。如果 `setTimeout` 的到期时间恰好落在渲染周期中，它可能会被推迟到渲染完成后执行。\n\n**例子：**\n```javascript\nsetTimeout(() => console.log(\"Timeout\"), 16);\n// 触发大量重绘\nfor (let i = 0; i < 1000; i++) {\n  document.body.appendChild(document.createElement(\"div\"));\n}\n```\n这里的 “Timeout” 可能延迟到几十毫秒后，因为 DOM 操作触发了重排和重绘。\n\n### 3. 系统负载与定时器精度\n\n操作系统的调度精度和当前 CPU 负载也会影响定时器。例如，在 Windows 上，默认的定时器分辨率是 15.6ms（取决于硬件时钟），而现代浏览器通过高精度定时器（High-Resolution Time）将其提升到微秒级。但如果系统资源紧张，定时器的检查间隔仍可能变长。\n\n### 4. 最小延迟限制\n\n前面提到的 4ms 最小延迟限制，会在嵌套调用中显著影响精度：\n```javascript\nfunction recursiveTimeout(count) {\n  console.log(count);\n  if (count < 5) {\n    setTimeout(() => recursiveTimeout(count + 1), 0);\n  }\n}\nrecursiveTimeout(0);\n```\n尽管延迟设为 0ms，但实际每次调用间隔至少为 4ms。\n\n## 如何让 `setTimeout` 更准时？\n\n了解了不准的原因，我们可以针对性地优化。以下是几种实用方法，从简单调整到深入hack，逐步提升定时器的精确性。\n\n### 方法 1：减少主线程阻塞\n\n最直接的方式是避免主线程被长时间占用。可以用 Web Worker 将耗时任务卸载到后台线程。\n\n**优化后：**\n```javascript\nconsole.log(\"Start\");\nsetTimeout(() => console.log(\"Timeout\"), 100);\n\nconst worker = new Worker(URL.createObjectURL(new Blob([`\n  for (let i = 0; i < 1e9; i++) {}\n  self.postMessage(\"Done\");\n`], { type: \"text/javascript\" })));\nworker.onmessage = () => console.log(\"Worker Done\");\n```\n输出接近：\n```\nStart\nTimeout (约 100ms)\nWorker Done\n```\n耗时计算被移到 Worker 中，`setTimeout` 的执行时间更接近预期。\n\n### 方法 2：利用 requestAnimationFrame\n\n`requestAnimationFrame`（简称 rAF）会在浏览器下一次重绘前执行回调，适合需要与渲染同步的场景。我们可以用它来校准 `setTimeout` 的延迟。\n\n**实现：**\n```javascript\nfunction preciseTimeout(callback, delay) {\n  const start = performance.now();\n  function tick() {\n    const elapsed = performance.now() - start;\n    if (elapsed >= delay) {\n      callback();\n    } else {\n      requestAnimationFrame(tick);\n    }\n  }\n  requestAnimationFrame(tick);\n}\n\npreciseTimeout(() => console.log(\"Precise Timeout\"), 100);\n```\n这种方法通过高频检查时间戳，确保回调尽量在 `delay` 时触发，且不会被渲染任务过多干扰。\n\n### 方法 3：时间补偿法\n\n如果无法避免延迟，可以通过计算实际经过的时间来补偿误差。\n\n**例子：**\n```javascript\nfunction compensatedTimeout(callback, delay) {\n  const start = Date.now();\n  setTimeout(() => {\n    const actualDelay = Date.now() - start;\n    console.log(`Expected: ${delay}ms, Actual: ${actualDelay}ms`);\n    callback();\n  }, delay);\n}\n\ncompensatedTimeout(() => console.log(\"Done\"), 100);\n```\n如果发现偏差较大，可以动态调整下一次的延迟：\n```javascript\nlet lastTime = Date.now();\nfunction repeatWithCompensation(callback, interval) {\n  const now = Date.now();\n  const drift = now - lastTime - interval;\n  lastTime = now;\n  setTimeout(() => {\n    callback();\n    repeatWithCompensation(callback, interval - drift);\n  }, interval - drift);\n}\n\nrepeatWithCompensation(() => console.log(\"Tick\"), 100);\n```\n这种方法适合需要长期稳定间隔的场景，比如动画或心跳检测。\n\n### 方法 4：借助高精度时间 API\n\n使用 `performance.now()` 获取微秒级精度的时间戳，可以更精确地控制定时逻辑。\n\n**例子：**\n```javascript\nfunction highPrecisionTimeout(callback, delay) {\n  const start = performance.now();\n  function check() {\n    if (performance.now() - start >= delay) {\n      callback();\n    } else {\n      setTimeout(check, 0);\n    }\n  }\n  setTimeout(check, delay);\n}\n\nhighPrecisionTimeout(() => console.log(\"High Precision\"), 100);\n```\n这种方式结合了 `setTimeout` 和手动检查，适用于对精度要求极高的场景。\n\n### 方法 5：Web Audio API（终极 Hack）\n\n对于需要极高精度的定时（如音频同步），可以用 Web Audio API 的 `AudioContext` 创建精确的定时器。它利用硬件时钟，精度远超普通定时器。\n\n**实现：**\n```javascript\nfunction audioPrecisionTimeout(callback, delay) {\n  const audioCtx = new AudioContext();\n  const oscillator = audioCtx.createOscillator();\n  oscillator.onended = callback;\n  oscillator.start(audioCtx.currentTime);\n  oscillator.stop(audioCtx.currentTime + delay / 1000);\n}\n\naudioPrecisionTimeout(() => console.log(\"Audio Timeout\"), 100);\n```\n这种方法虽然复杂，但延迟误差可以控制在微秒级，适合专业应用。\n\n## 实际案例与对比\n\n让我们通过一个简单的动画例子对比不同方法的表现：\n\n```javascript\nfunction animate(method) {\n  let count = 0;\n  const start = performance.now();\n  function step() {\n    console.log(`${method}: Frame ${count++} at ${performance.now() - start}ms`);\n    if (count < 5) {\n      if (method === \"setTimeout\") {\n        setTimeout(step, 100);\n      } else if (method === \"rAF\") {\n        preciseTimeout(step, 100);\n      } else if (method === \"compensated\") {\n        repeatWithCompensation(step, 100);\n      }\n    }\n  }\n  step();\n}\n\nanimate(\"setTimeout\");\nanimate(\"rAF\");\nanimate(\"compensated\");\n```\n\n可能的输出：\n```\nsetTimeout: Frame 0 at 0ms\nsetTimeout: Frame 1 at 105ms\nsetTimeout: Frame 2 at 220ms (偏差变大)\n\nrAF: Frame 0 at 0ms\nrAF: Frame 1 at 100.5ms\nrAF: Frame 2 at 201ms\n\ncompensated: Frame 0 at 0ms\ncompensated: Frame 1 at 100.2ms\ncompensated: Frame 2 at 200.1ms\n```\n可以看到，补偿法和 rAF 的精度明显优于原生 `setTimeout`。\n\n## 总结与建议\n\n`setTimeout` 的不准时本质上是事件循环和浏览器调度机制的副产物。要提升它的精确性，可以根据场景选择合适的优化方案：\n- **简单任务**：减少主线程阻塞，用 Worker 分担计算。\n- **动画相关**：结合 `requestAnimationFrame` 和时间补偿。\n- **高精度需求**：利用 Web Audio API 或高频检查。\n\n从源码层面看，浏览器的定时器实现受限于系统资源和调度策略，完全消除误差几乎不可能。但通过合理设计，我们完全可以将偏差控制在可接受范围内。希望这篇文章能帮你在下一个项目中更好地驾驭 `setTimeout`！\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),m=(l,e)=>{for(var a in e)c(l,a,{get:e[a],enumerable:!0})},d=(l,e,a,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!u.call(l,r)&&r!==a&&c(l,r,{get:()=>e[r],enumerable:!(t=E(e,r))||t.enumerable});return l};var B=(l,e,a)=>(a=l!=null?p(F(l)):{},d(e||!l||!l.__esModule?c(a,\"default\",{value:l,enumerable:!0}):a,l)),f=l=>d(c({},\"__esModule\",{value:!0}),l);var s=g((T,i)=>{i.exports=_jsx_runtime});var b={};m(b,{default:()=>h,frontmatter:()=>k});var n=B(s()),k={type:\"Post\",title:\"\\u5982\\u4F55\\u8BA9 setTimeout \\u66F4\\u51C6\\u65F6\\uFF1F\",date:\"2023-02-08\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8 setTimeout \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u3001\\u5EF6\\u8FDF\\u4E0D\\u51C6\\u7684\\u539F\\u56E0\\uFF0C\\u4EE5\\u53CA\\u5982\\u4F55\\u901A\\u8FC7\\u6E90\\u7801\\u5206\\u6790\\u548C\\u4F18\\u5316\\u624B\\u6BB5\\u63D0\\u5347\\u5176\\u7CBE\\u786E\\u6027\\uFF0C\\u9644\\u5E26\\u5927\\u91CF\\u5B9E\\u4F8B\\u548C\\u5B9E\\u8DF5\\u5EFA\\u8BAE\\u3002\",keywords:\"setTimeout, JavaScript, \\u4E8B\\u4EF6\\u5FAA\\u73AF, \\u6D4F\\u89C8\\u5668\\u6E32\\u67D3, \\u5B9A\\u65F6\\u5668\\u4F18\\u5316, \\u6027\\u80FD\\u4F18\\u5316\",author:\"\\u6653\\u9F99\",image:\"/images/hero/settimeout.jpg\",tags:[\"JavaScript\",\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"\\u6027\\u80FD\\u4F18\\u5316\"],category:\"JavaScript\"};function o(l){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u662F JavaScript \\u4E2D\\u6700\\u5E38\\u7528\\u7684\\u5B9A\\u65F6\\u5668\\u51FD\\u6570\\u4E4B\\u4E00\\uFF0C\\u6211\\u4EEC\\u901A\\u5E38\\u7528\\u5B83\\u6765\\u5EF6\\u8FDF\\u6267\\u884C\\u67D0\\u4E9B\\u4EFB\\u52A1\\u3002\\u7136\\u800C\\uFF0C\\u5982\\u679C\\u4F60\\u66FE\\u7ECF\\u5728\\u9879\\u76EE\\u4E2D\\u4F9D\\u8D56\\u5B83\\u6765\\u5B9E\\u73B0\\u7CBE\\u786E\\u7684\\u5B9A\\u65F6\\u64CD\\u4F5C\\uFF0C\\u53EF\\u80FD\\u65E9\\u5C31\\u53D1\\u73B0\\u4E86\\u5B83\\u7684\\u201C\\u4E0D\\u53EF\\u9760\\u201D\\u2014\\u2014\\u5EF6\\u8FDF\\u65F6\\u95F4\\u5F80\\u5F80\\u4E0D\\u591F\\u51C6\\u65F6\\uFF0C\\u751A\\u81F3\\u504F\\u5DEE\\u53EF\\u80FD\\u8FBE\\u5230\\u51E0\\u5341\\u6BEB\\u79D2\\u751A\\u81F3\\u66F4\\u591A\\u3002\\u90A3\\u4E48\\uFF0C\\u4E3A\\u4EC0\\u4E48 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u4F1A\\u201C\\u5931\\u51C6\\u201D\\uFF1F\\u6211\\u4EEC\\u53C8\\u80FD\\u505A\\u4E9B\\u4EC0\\u4E48\\u8BA9\\u5B83\\u66F4\\u51C6\\u65F6\\u5462\\uFF1F\\u672C\\u6587\\u5C06\\u4ECE\\u6D4F\\u89C8\\u5668\\u5E95\\u5C42\\u673A\\u5236\\u3001\\u6E90\\u7801\\u89E3\\u6790\\u5230\\u4F18\\u5316\\u5B9E\\u8DF5\\uFF0C\\u5E26\\u4F60\\u5F7B\\u5E95\\u641E\\u61C2\\u8FD9\\u4E2A\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"settimeout-\\u7684\\u57FA\\u672C\\u539F\\u7406\",children:(0,n.jsxs)(e.a,{href:\"#settimeout-\\u7684\\u57FA\\u672C\\u539F\\u7406\",children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u57FA\\u672C\\u539F\\u7406\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u6DF1\\u5165\\u4F18\\u5316\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u641E\\u6E05\\u695A \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u662F\\u600E\\u4E48\\u5DE5\\u4F5C\\u7684\\u3002\\u5B83\\u7684\\u6838\\u5FC3\\u903B\\u8F91\\u57FA\\u4E8E JavaScript \\u7684\\u4E8B\\u4EF6\\u5FAA\\u73AF\\uFF08Event Loop\\uFF09\\u548C\\u6D4F\\u89C8\\u5668\\u7684\\u5B9A\\u65F6\\u5668\\u7BA1\\u7406\\u673A\\u5236\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4E0E\\u5B9A\\u65F6\\u5668\\u961F\\u5217\",children:(0,n.jsx)(e.a,{href:\"#\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4E0E\\u5B9A\\u65F6\\u5668\\u961F\\u5217\",children:\"\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u4E0E\\u5B9A\\u65F6\\u5668\\u961F\\u5217\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout(fn, delay)\"})})})}),\" \\u7684\\u4F5C\\u7528\\u662F\\u5C06\\u56DE\\u8C03\\u51FD\\u6570 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"fn\"})})})}),\" \\u5728\\u81F3\\u5C11 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"delay\"})})})}),\" \\u6BEB\\u79D2\\u540E\\u653E\\u5165\\u4EFB\\u52A1\\u961F\\u5217\\uFF0C\\u7B49\\u5F85\\u6267\\u884C\\u3002\\u6CE8\\u610F\\u8FD9\\u91CC\\u7684\\u201C\\u81F3\\u5C11\\u201D\\u2014\\u2014\\u5B83\\u5E76\\u4E0D\\u4FDD\\u8BC1\\u7CBE\\u786E\\u5730\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"delay\"})})})}),\" \\u6BEB\\u79D2\\u540E\\u6267\\u884C\\uFF0C\\u800C\\u662F\\u5C06\\u4EFB\\u52A1\\u4EA4\\u7ED9\\u6D4F\\u89C8\\u5668\\u7684\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u8C03\\u5EA6\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6D4F\\u89C8\\u5668\\u7684\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u5927\\u81F4\\u53EF\\u4EE5\\u5206\\u4E3A\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u9636\\u6BB5\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6267\\u884C\\u540C\\u6B65\\u4EE3\\u7801\"}),\"\\uFF1A\\u5904\\u7406\\u5F53\\u524D\\u8C03\\u7528\\u6808\\u4E2D\\u7684\\u4EFB\\u52A1\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5904\\u7406\\u5FAE\\u4EFB\\u52A1\\uFF08Microtasks\\uFF09\"}),\"\\uFF1A\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Promise.then\"})})})}),\" \\u6216 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"queueMicrotask\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u5904\\u7406\\u5B8F\\u4EFB\\u52A1\\uFF08Macrotasks\\uFF09\"}),\"\\uFF1A\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\"\\u3001\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setInterval\"})})})}),\"\\u3001I/O \\u64CD\\u4F5C\\u7B49\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6E32\\u67D3\\u9636\\u6BB5\"}),\"\\uFF1A\\u66F4\\u65B0 DOM\\u3001\\u6267\\u884C CSS \\u52A8\\u753B\\u7B49\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u56DE\\u8C03\\u4F5C\\u4E3A\\u4E00\\u4E2A\\u5B8F\\u4EFB\\u52A1\\uFF0C\\u4F1A\\u88AB\\u653E\\u5165\\u5B8F\\u4EFB\\u52A1\\u961F\\u5217\\uFF0C\\u7B49\\u5230\\u8C03\\u7528\\u6808\\u6E05\\u7A7A\\u4E14\\u5FAE\\u4EFB\\u52A1\\u5904\\u7406\\u5B8C\\u6BD5\\u540E\\uFF0C\\u624D\\u4F1A\\u88AB\\u53D6\\u51FA\\u6267\\u884C\\u3002\\u8FD9\\u610F\\u5473\\u7740\\uFF0C\\u5982\\u679C\\u4E3B\\u7EBF\\u7A0B\\u88AB\\u5176\\u4ED6\\u4EFB\\u52A1\\u963B\\u585E\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u6267\\u884C\\u65F6\\u95F4\\u5C31\\u4F1A\\u63A8\\u8FDF\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u6D4F\\u89C8\\u5668\\u7684\\u5B9A\\u65F6\\u5668\\u5B9E\\u73B0\\u4EE5-chromium-\\u4E3A\\u4F8B\",children:(0,n.jsx)(e.a,{href:\"#\\u6D4F\\u89C8\\u5668\\u7684\\u5B9A\\u65F6\\u5668\\u5B9E\\u73B0\\u4EE5-chromium-\\u4E3A\\u4F8B\",children:\"\\u6D4F\\u89C8\\u5668\\u7684\\u5B9A\\u65F6\\u5668\\u5B9E\\u73B0\\uFF08\\u4EE5 Chromium \\u4E3A\\u4F8B\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u4E86\\u66F4\\u6DF1\\u5165\\u7406\\u89E3\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u770B\\u770B Chromium \\u5F15\\u64CE\\uFF08Chrome \\u7684\\u6838\\u5FC3\\uFF09\\u4E2D \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u5E95\\u5C42\\u5B9E\\u73B0\\u3002Chromium \\u7684\\u5B9A\\u65F6\\u5668\\u7BA1\\u7406\\u4E3B\\u8981\\u7531 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"base::Timer\"})})})}),\" \\u548C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"blink::Scheduler\"})})})}),\" \\u7B49\\u6A21\\u5757\\u8D1F\\u8D23\\u3002\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4EFB\\u52A1\\u8C03\\u5EA6\"}),\"\\uFF1A\\u5F53\\u4F60\\u8C03\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout(fn, 100)\"})})})}),\"\\uFF0CJavaScript \\u5F15\\u64CE\\u4F1A\\u901A\\u8FC7 V8 \\u7684\\u7ED1\\u5B9A\\u5C42\\u5C06\\u4EFB\\u52A1\\u4F20\\u9012\\u7ED9 Blink \\u6E32\\u67D3\\u5F15\\u64CE\\u3002Blink \\u4F1A\\u521B\\u5EFA\\u4E00\\u4E2A\\u5B9A\\u65F6\\u5668\\u4EFB\\u52A1\\uFF0C\\u8BB0\\u5F55\\u4E0B\\u56DE\\u8C03\\u51FD\\u6570\\u548C\\u5EF6\\u8FDF\\u65F6\\u95F4\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u65F6\\u95F4\\u6233\\u7BA1\\u7406\"}),\"\\uFF1A\\u6D4F\\u89C8\\u5668\\u7EF4\\u62A4\\u4E00\\u4E2A\\u5B9A\\u65F6\\u5668\\u961F\\u5217\\uFF0C\\u4F7F\\u7528\\u9AD8\\u7CBE\\u5EA6\\u65F6\\u95F4\\u6233\\uFF08\\u5982 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"base::TimeTicks\"})})})}),\"\\uFF09\\u6765\\u8DDF\\u8E2A\\u6BCF\\u4E2A\\u5B9A\\u65F6\\u5668\\u7684\\u5230\\u671F\\u65F6\\u95F4\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6700\\u5C0F\\u5EF6\\u8FDF\\u9650\\u5236\"}),\"\\uFF1A\\u6839\\u636E HTML5 \\u89C4\\u8303\\uFF0C\\u5982\\u679C\\u5B9A\\u65F6\\u5668\\u5D4C\\u5957\\u5C42\\u7EA7\\u8D85\\u8FC7 5 \\u5C42\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u6700\\u5C0F\\u5EF6\\u8FDF\\u4F1A\\u88AB\\u5F3A\\u5236\\u8BBE\\u4E3A 4ms\\u3002\\u8FD9\\u5728\\u9012\\u5F52\\u8C03\\u7528\\u4E2D\\u5C24\\u5176\\u5E38\\u89C1\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4ECE\\u6E90\\u7801\\u89D2\\u5EA6\\u770B\\uFF0CChromium \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"TaskQueue\"})})})}),\" \\u4F1A\\u5B9A\\u671F\\u68C0\\u67E5\\u662F\\u5426\\u6709\\u5230\\u671F\\u7684\\u5B9A\\u65F6\\u5668\\u4EFB\\u52A1\\uFF0C\\u5E76\\u5C06\\u5176\\u63A8\\u5165\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u3002\\u4F46\\u8FD9\\u91CC\\u6709\\u4E2A\\u5173\\u952E\\u70B9\\uFF1A\\u5B9A\\u65F6\\u5668\\u7684\\u68C0\\u67E5\\u5E76\\u4E0D\\u662F\\u8FDE\\u7EED\\u7684\\uFF0C\\u800C\\u662F\\u4F9D\\u8D56\\u4E8E\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u7684\\u201Ctick\\u201D\\u9891\\u7387\\u3002\\u5982\\u679C\\u4E3B\\u7EBF\\u7A0B\\u5FD9\\u4E8E\\u5176\\u4ED6\\u4EFB\\u52A1\\uFF0C\\u68C0\\u67E5\\u5C31\\u4F1A\\u88AB\\u63A8\\u8FDF\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48-settimeout-\\u4E0D\\u51C6\\u65F6\",children:(0,n.jsxs)(e.a,{href:\"#\\u4E3A\\u4EC0\\u4E48-settimeout-\\u4E0D\\u51C6\\u65F6\",children:[\"\\u4E3A\\u4EC0\\u4E48 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u4E0D\\u51C6\\u65F6\\uFF1F\"]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u660E\\u767D\\u4E86\\u57FA\\u672C\\u539F\\u7406\\uFF0C\\u6211\\u4EEC\\u518D\\u6765\\u770B\\u770B \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u5EF6\\u8FDF\\u4E0D\\u51C6\\u7684\\u5E38\\u89C1\\u539F\\u56E0\\uFF1A\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"1-\\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\",children:(0,n.jsx)(e.a,{href:\"#1-\\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\",children:\"1. \\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u4E3B\\u7EBF\\u7A0B\\u88AB\\u957F\\u65F6\\u95F4\\u7684\\u540C\\u6B65\\u4EFB\\u52A1\\u5360\\u7528\\uFF0C\\u6BD4\\u5982\\u590D\\u6742\\u7684\\u8BA1\\u7B97\\u6216\\u5927\\u89C4\\u6A21 DOM \\u64CD\\u4F5C\\uFF0C\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u5C31\\u65E0\\u6CD5\\u53CA\\u65F6\\u5904\\u7406\\u5B9A\\u65F6\\u5668\\u961F\\u5217\\u4E2D\\u7684\\u4EFB\\u52A1\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4F8B\\u5B50\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Start\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Timeout\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6A21\\u62DF\\u963B\\u585E\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"for\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1e9\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {}\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"End\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8F93\\u51FA\\u53EF\\u80FD\\u662F\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Start\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"End\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Timeout\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u800C\\u4E14 \\u201CTimeout\\u201D \\u7684\\u6253\\u5370\\u65F6\\u95F4\\u8FDC\\u8D85 100ms\\uFF0C\\u56E0\\u4E3A\\u5FAA\\u73AF\\u963B\\u585E\\u4E86\\u4E3B\\u7EBF\\u7A0B\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"2-\\u6D4F\\u89C8\\u5668\\u6E32\\u67D3\\u4F18\\u5148\\u7EA7\",children:(0,n.jsx)(e.a,{href:\"#2-\\u6D4F\\u89C8\\u5668\\u6E32\\u67D3\\u4F18\\u5148\\u7EA7\",children:\"2. \\u6D4F\\u89C8\\u5668\\u6E32\\u67D3\\u4F18\\u5148\\u7EA7\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6D4F\\u89C8\\u5668\\u901A\\u5E38\\u4F1A\\u4F18\\u5148\\u5904\\u7406\\u6E32\\u67D3\\u4EFB\\u52A1\\uFF08\\u6BD4\\u5982\\u6BCF 16.6ms \\u5237\\u65B0\\u4E00\\u6B21\\u5C4F\\u5E55\\uFF0C60fps\\uFF09\\u3002\\u5982\\u679C \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u5230\\u671F\\u65F6\\u95F4\\u6070\\u597D\\u843D\\u5728\\u6E32\\u67D3\\u5468\\u671F\\u4E2D\\uFF0C\\u5B83\\u53EF\\u80FD\\u4F1A\\u88AB\\u63A8\\u8FDF\\u5230\\u6E32\\u67D3\\u5B8C\\u6210\\u540E\\u6267\\u884C\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4F8B\\u5B50\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Timeout\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"16\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u89E6\\u53D1\\u5927\\u91CF\\u91CD\\u7ED8\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"for\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  document.body.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"appendChild\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(document.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createElement\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"div\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u91CC\\u7684 \\u201CTimeout\\u201D \\u53EF\\u80FD\\u5EF6\\u8FDF\\u5230\\u51E0\\u5341\\u6BEB\\u79D2\\u540E\\uFF0C\\u56E0\\u4E3A DOM \\u64CD\\u4F5C\\u89E6\\u53D1\\u4E86\\u91CD\\u6392\\u548C\\u91CD\\u7ED8\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"3-\\u7CFB\\u7EDF\\u8D1F\\u8F7D\\u4E0E\\u5B9A\\u65F6\\u5668\\u7CBE\\u5EA6\",children:(0,n.jsx)(e.a,{href:\"#3-\\u7CFB\\u7EDF\\u8D1F\\u8F7D\\u4E0E\\u5B9A\\u65F6\\u5668\\u7CBE\\u5EA6\",children:\"3. \\u7CFB\\u7EDF\\u8D1F\\u8F7D\\u4E0E\\u5B9A\\u65F6\\u5668\\u7CBE\\u5EA6\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u64CD\\u4F5C\\u7CFB\\u7EDF\\u7684\\u8C03\\u5EA6\\u7CBE\\u5EA6\\u548C\\u5F53\\u524D CPU \\u8D1F\\u8F7D\\u4E5F\\u4F1A\\u5F71\\u54CD\\u5B9A\\u65F6\\u5668\\u3002\\u4F8B\\u5982\\uFF0C\\u5728 Windows \\u4E0A\\uFF0C\\u9ED8\\u8BA4\\u7684\\u5B9A\\u65F6\\u5668\\u5206\\u8FA8\\u7387\\u662F 15.6ms\\uFF08\\u53D6\\u51B3\\u4E8E\\u786C\\u4EF6\\u65F6\\u949F\\uFF09\\uFF0C\\u800C\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u901A\\u8FC7\\u9AD8\\u7CBE\\u5EA6\\u5B9A\\u65F6\\u5668\\uFF08High-Resolution Time\\uFF09\\u5C06\\u5176\\u63D0\\u5347\\u5230\\u5FAE\\u79D2\\u7EA7\\u3002\\u4F46\\u5982\\u679C\\u7CFB\\u7EDF\\u8D44\\u6E90\\u7D27\\u5F20\\uFF0C\\u5B9A\\u65F6\\u5668\\u7684\\u68C0\\u67E5\\u95F4\\u9694\\u4ECD\\u53EF\\u80FD\\u53D8\\u957F\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"4-\\u6700\\u5C0F\\u5EF6\\u8FDF\\u9650\\u5236\",children:(0,n.jsx)(e.a,{href:\"#4-\\u6700\\u5C0F\\u5EF6\\u8FDF\\u9650\\u5236\",children:\"4. \\u6700\\u5C0F\\u5EF6\\u8FDF\\u9650\\u5236\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u524D\\u9762\\u63D0\\u5230\\u7684 4ms \\u6700\\u5C0F\\u5EF6\\u8FDF\\u9650\\u5236\\uFF0C\\u4F1A\\u5728\\u5D4C\\u5957\\u8C03\\u7528\\u4E2D\\u663E\\u8457\\u5F71\\u54CD\\u7CBE\\u5EA6\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" recursiveTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" recursiveTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"recursiveTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C3D\\u7BA1\\u5EF6\\u8FDF\\u8BBE\\u4E3A 0ms\\uFF0C\\u4F46\\u5B9E\\u9645\\u6BCF\\u6B21\\u8C03\\u7528\\u95F4\\u9694\\u81F3\\u5C11\\u4E3A 4ms\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5982\\u4F55\\u8BA9-settimeout-\\u66F4\\u51C6\\u65F6\",children:(0,n.jsxs)(e.a,{href:\"#\\u5982\\u4F55\\u8BA9-settimeout-\\u66F4\\u51C6\\u65F6\",children:[\"\\u5982\\u4F55\\u8BA9 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u66F4\\u51C6\\u65F6\\uFF1F\"]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E86\\u89E3\\u4E86\\u4E0D\\u51C6\\u7684\\u539F\\u56E0\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u9488\\u5BF9\\u6027\\u5730\\u4F18\\u5316\\u3002\\u4EE5\\u4E0B\\u662F\\u51E0\\u79CD\\u5B9E\\u7528\\u65B9\\u6CD5\\uFF0C\\u4ECE\\u7B80\\u5355\\u8C03\\u6574\\u5230\\u6DF1\\u5165hack\\uFF0C\\u9010\\u6B65\\u63D0\\u5347\\u5B9A\\u65F6\\u5668\\u7684\\u7CBE\\u786E\\u6027\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u65B9\\u6CD5-1\\u51CF\\u5C11\\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\",children:(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5-1\\u51CF\\u5C11\\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\",children:\"\\u65B9\\u6CD5 1\\uFF1A\\u51CF\\u5C11\\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u76F4\\u63A5\\u7684\\u65B9\\u5F0F\\u662F\\u907F\\u514D\\u4E3B\\u7EBF\\u7A0B\\u88AB\\u957F\\u65F6\\u95F4\\u5360\\u7528\\u3002\\u53EF\\u4EE5\\u7528 Web Worker \\u5C06\\u8017\\u65F6\\u4EFB\\u52A1\\u5378\\u8F7D\\u5230\\u540E\\u53F0\\u7EBF\\u7A0B\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4F18\\u5316\\u540E\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Start\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Timeout\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" worker\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Worker\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"URL\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createObjectURL\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Blob\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"  for (let i = 0; i < 1e9; i++) {}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'  self.postMessage(\"Done\");'})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"], { type: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"text/javascript\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" })));\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"worker.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onmessage\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Worker Done\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8F93\\u51FA\\u63A5\\u8FD1\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Start\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Timeout (\\u7EA6 100ms)\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"Worker Done\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8017\\u65F6\\u8BA1\\u7B97\\u88AB\\u79FB\\u5230 Worker \\u4E2D\\uFF0C\",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u6267\\u884C\\u65F6\\u95F4\\u66F4\\u63A5\\u8FD1\\u9884\\u671F\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u65B9\\u6CD5-2\\u5229\\u7528-requestanimationframe\",children:(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5-2\\u5229\\u7528-requestanimationframe\",children:\"\\u65B9\\u6CD5 2\\uFF1A\\u5229\\u7528 requestAnimationFrame\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"requestAnimationFrame\"})})})}),\"\\uFF08\\u7B80\\u79F0 rAF\\uFF09\\u4F1A\\u5728\\u6D4F\\u89C8\\u5668\\u4E0B\\u4E00\\u6B21\\u91CD\\u7ED8\\u524D\\u6267\\u884C\\u56DE\\u8C03\\uFF0C\\u9002\\u5408\\u9700\\u8981\\u4E0E\\u6E32\\u67D3\\u540C\\u6B65\\u7684\\u573A\\u666F\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528\\u5B83\\u6765\\u6821\\u51C6 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u5EF6\\u8FDF\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u73B0\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" preciseTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" start\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" performance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" tick\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" elapsed\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" performance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" start;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (elapsed \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" delay) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      requestAnimationFrame\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(tick);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  requestAnimationFrame\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(tick);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"preciseTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Precise Timeout\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u79CD\\u65B9\\u6CD5\\u901A\\u8FC7\\u9AD8\\u9891\\u68C0\\u67E5\\u65F6\\u95F4\\u6233\\uFF0C\\u786E\\u4FDD\\u56DE\\u8C03\\u5C3D\\u91CF\\u5728 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"delay\"})})})}),\" \\u65F6\\u89E6\\u53D1\\uFF0C\\u4E14\\u4E0D\\u4F1A\\u88AB\\u6E32\\u67D3\\u4EFB\\u52A1\\u8FC7\\u591A\\u5E72\\u6270\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u65B9\\u6CD5-3\\u65F6\\u95F4\\u8865\\u507F\\u6CD5\",children:(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5-3\\u65F6\\u95F4\\u8865\\u507F\\u6CD5\",children:\"\\u65B9\\u6CD5 3\\uFF1A\\u65F6\\u95F4\\u8865\\u507F\\u6CD5\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u65E0\\u6CD5\\u907F\\u514D\\u5EF6\\u8FDF\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u8BA1\\u7B97\\u5B9E\\u9645\\u7ECF\\u8FC7\\u7684\\u65F6\\u95F4\\u6765\\u8865\\u507F\\u8BEF\\u5DEE\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4F8B\\u5B50\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" compensatedTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" start\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Date.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" actualDelay\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Date.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" start;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Expected: ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"delay\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}ms, Actual: ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"actualDelay\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}ms`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, delay);\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"compensatedTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Done\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u53D1\\u73B0\\u504F\\u5DEE\\u8F83\\u5927\\uFF0C\\u53EF\\u4EE5\\u52A8\\u6001\\u8C03\\u6574\\u4E0B\\u4E00\\u6B21\\u7684\\u5EF6\\u8FDF\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" lastTime \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Date.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" repeatWithCompensation\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"interval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" now\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Date.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" drift\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" now \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" lastTime \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" interval;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  lastTime \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" now;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    repeatWithCompensation\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(callback, interval \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" drift);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, interval \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" drift);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"repeatWithCompensation\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Tick\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u65B9\\u6CD5\\u9002\\u5408\\u9700\\u8981\\u957F\\u671F\\u7A33\\u5B9A\\u95F4\\u9694\\u7684\\u573A\\u666F\\uFF0C\\u6BD4\\u5982\\u52A8\\u753B\\u6216\\u5FC3\\u8DF3\\u68C0\\u6D4B\\u3002\"}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u65B9\\u6CD5-4\\u501F\\u52A9\\u9AD8\\u7CBE\\u5EA6\\u65F6\\u95F4-api\",children:(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5-4\\u501F\\u52A9\\u9AD8\\u7CBE\\u5EA6\\u65F6\\u95F4-api\",children:\"\\u65B9\\u6CD5 4\\uFF1A\\u501F\\u52A9\\u9AD8\\u7CBE\\u5EA6\\u65F6\\u95F4 API\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"performance.now()\"})})})}),\" \\u83B7\\u53D6\\u5FAE\\u79D2\\u7EA7\\u7CBE\\u5EA6\\u7684\\u65F6\\u95F4\\u6233\\uFF0C\\u53EF\\u4EE5\\u66F4\\u7CBE\\u786E\\u5730\\u63A7\\u5236\\u5B9A\\u65F6\\u903B\\u8F91\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u4F8B\\u5B50\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" highPrecisionTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" start\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" performance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" check\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (performance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" start \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" delay) {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"      setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(check, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(check, delay);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"highPrecisionTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"High Precision\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u79CD\\u65B9\\u5F0F\\u7ED3\\u5408\\u4E86 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u548C\\u624B\\u52A8\\u68C0\\u67E5\\uFF0C\\u9002\\u7528\\u4E8E\\u5BF9\\u7CBE\\u5EA6\\u8981\\u6C42\\u6781\\u9AD8\\u7684\\u573A\\u666F\\u3002\"]}),`\n`,(0,n.jsx)(e.h3,{id:\"\\u65B9\\u6CD5-5web-audio-api\\u7EC8\\u6781-hack\",children:(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5-5web-audio-api\\u7EC8\\u6781-hack\",children:\"\\u65B9\\u6CD5 5\\uFF1AWeb Audio API\\uFF08\\u7EC8\\u6781 Hack\\uFF09\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5BF9\\u4E8E\\u9700\\u8981\\u6781\\u9AD8\\u7CBE\\u5EA6\\u7684\\u5B9A\\u65F6\\uFF08\\u5982\\u97F3\\u9891\\u540C\\u6B65\\uFF09\\uFF0C\\u53EF\\u4EE5\\u7528 Web Audio API \\u7684 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"AudioContext\"})})})}),\" \\u521B\\u5EFA\\u7CBE\\u786E\\u7684\\u5B9A\\u65F6\\u5668\\u3002\\u5B83\\u5229\\u7528\\u786C\\u4EF6\\u65F6\\u949F\\uFF0C\\u7CBE\\u5EA6\\u8FDC\\u8D85\\u666E\\u901A\\u5B9A\\u65F6\\u5668\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u5B9E\\u73B0\\uFF1A\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" audioPrecisionTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" audioCtx\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AudioContext\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" oscillator\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" audioCtx.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createOscillator\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  oscillator.onended \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" callback;\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  oscillator.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"start\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(audioCtx.currentTime);\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  oscillator.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stop\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(audioCtx.currentTime \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" delay \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"/\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"audioPrecisionTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Audio Timeout\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u79CD\\u65B9\\u6CD5\\u867D\\u7136\\u590D\\u6742\\uFF0C\\u4F46\\u5EF6\\u8FDF\\u8BEF\\u5DEE\\u53EF\\u4EE5\\u63A7\\u5236\\u5728\\u5FAE\\u79D2\\u7EA7\\uFF0C\\u9002\\u5408\\u4E13\\u4E1A\\u5E94\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u5B9E\\u9645\\u6848\\u4F8B\\u4E0E\\u5BF9\\u6BD4\",children:(0,n.jsx)(e.a,{href:\"#\\u5B9E\\u9645\\u6848\\u4F8B\\u4E0E\\u5BF9\\u6BD4\",children:\"\\u5B9E\\u9645\\u6848\\u4F8B\\u4E0E\\u5BF9\\u6BD4\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BA9\\u6211\\u4EEC\\u901A\\u8FC7\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u52A8\\u753B\\u4F8B\\u5B50\\u5BF9\\u6BD4\\u4E0D\\u540C\\u65B9\\u6CD5\\u7684\\u8868\\u73B0\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" animate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"method\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" start\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" performance.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" step\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"method\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}: Frame ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} at ${\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"performance\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"now\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" start\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}ms`\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (count \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (method \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"setTimeout\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(step, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (method \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"rAF\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        preciseTimeout\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(step, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (method \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"compensated\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        repeatWithCompensation\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(step, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  step\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"animate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"setTimeout\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"animate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"rAF\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"animate\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"compensated\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u53EF\\u80FD\\u7684\\u8F93\\u51FA\\uFF1A\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout: Frame 0 at 0ms\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout: Frame 1 at 105ms\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout: Frame 2 at 220ms (\\u504F\\u5DEE\\u53D8\\u5927)\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rAF: Frame 0 at 0ms\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rAF: Frame 1 at 100.5ms\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"rAF: Frame 2 at 201ms\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"compensated: Frame 0 at 0ms\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"compensated: Frame 1 at 100.2ms\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"compensated: Frame 2 at 200.1ms\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u53EF\\u4EE5\\u770B\\u5230\\uFF0C\\u8865\\u507F\\u6CD5\\u548C rAF \\u7684\\u7CBE\\u5EA6\\u660E\\u663E\\u4F18\\u4E8E\\u539F\\u751F \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u4E0E\\u5EFA\\u8BAE\",children:(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u4E0E\\u5EFA\\u8BAE\",children:\"\\u603B\\u7ED3\\u4E0E\\u5EFA\\u8BAE\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\" \\u7684\\u4E0D\\u51C6\\u65F6\\u672C\\u8D28\\u4E0A\\u662F\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u548C\\u6D4F\\u89C8\\u5668\\u8C03\\u5EA6\\u673A\\u5236\\u7684\\u526F\\u4EA7\\u7269\\u3002\\u8981\\u63D0\\u5347\\u5B83\\u7684\\u7CBE\\u786E\\u6027\\uFF0C\\u53EF\\u4EE5\\u6839\\u636E\\u573A\\u666F\\u9009\\u62E9\\u5408\\u9002\\u7684\\u4F18\\u5316\\u65B9\\u6848\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B80\\u5355\\u4EFB\\u52A1\"}),\"\\uFF1A\\u51CF\\u5C11\\u4E3B\\u7EBF\\u7A0B\\u963B\\u585E\\uFF0C\\u7528 Worker \\u5206\\u62C5\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u52A8\\u753B\\u76F8\\u5173\"}),\"\\uFF1A\\u7ED3\\u5408 \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"requestAnimationFrame\"})})})}),\" \\u548C\\u65F6\\u95F4\\u8865\\u507F\\u3002\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u9AD8\\u7CBE\\u5EA6\\u9700\\u6C42\"}),\"\\uFF1A\\u5229\\u7528 Web Audio API \\u6216\\u9AD8\\u9891\\u68C0\\u67E5\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4ECE\\u6E90\\u7801\\u5C42\\u9762\\u770B\\uFF0C\\u6D4F\\u89C8\\u5668\\u7684\\u5B9A\\u65F6\\u5668\\u5B9E\\u73B0\\u53D7\\u9650\\u4E8E\\u7CFB\\u7EDF\\u8D44\\u6E90\\u548C\\u8C03\\u5EA6\\u7B56\\u7565\\uFF0C\\u5B8C\\u5168\\u6D88\\u9664\\u8BEF\\u5DEE\\u51E0\\u4E4E\\u4E0D\\u53EF\\u80FD\\u3002\\u4F46\\u901A\\u8FC7\\u5408\\u7406\\u8BBE\\u8BA1\\uFF0C\\u6211\\u4EEC\\u5B8C\\u5168\\u53EF\\u4EE5\\u5C06\\u504F\\u5DEE\\u63A7\\u5236\\u5728\\u53EF\\u63A5\\u53D7\\u8303\\u56F4\\u5185\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u5E2E\\u4F60\\u5728\\u4E0B\\u4E00\\u4E2A\\u9879\\u76EE\\u4E2D\\u66F4\\u597D\\u5730\\u9A7E\\u9A6D \",(0,n.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"setTimeout\"})})})}),\"\\uFF01\"]}),`\n`,(0,n.jsx)(e.hr,{})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(o,{...l})}):o(l)}return f(b);})();\n;return Component;"
  },
  "_id": "JavaScript/如何让setTimeout更准时.mdx",
  "_raw": {
    "sourceFilePath": "JavaScript/如何让setTimeout更准时.mdx",
    "sourceFileName": "如何让setTimeout更准时.mdx",
    "sourceFileDir": "JavaScript",
    "contentType": "mdx",
    "flattenedPath": "JavaScript/如何让setTimeout更准时"
  },
  "type": "Post",
  "url": "/blog/JavaScript/如何让setTimeout更准时"
}
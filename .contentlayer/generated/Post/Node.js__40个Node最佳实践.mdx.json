{
  "title": "40ä¸ªNode.jsæœ€ä½³å®è·µï¼šä»æ–°æ‰‹åˆ°å¤§ä½¬çš„è¿›é˜¶æŒ‡å—",
  "date": "2024-08-15T00:00:00.000Z",
  "description": "æ·±å…¥æ¢è®¨Node.jså¼€å‘çš„40ä¸ªæœ€ä½³å®è·µï¼Œæ¶µç›–æ€§èƒ½ä¼˜åŒ–ã€å®‰å…¨æ€§ã€ä»£ç ç»„ç»‡ã€é”™è¯¯å¤„ç†ã€é›†ç¾¤ç®¡ç†ç­‰é¢†åŸŸï¼Œå¸¦ä½ ä»åŸç†åˆ°å®è·µå…¨é¢æå‡æŠ€èƒ½ã€‚",
  "keywords": "Node.js, JavaScript, åç«¯å¼€å‘, æ€§èƒ½ä¼˜åŒ–, é”™è¯¯å¤„ç†, æ¨¡å—åŒ–, å¼‚æ­¥ç¼–ç¨‹, å‰ç«¯å¼€å‘, WebSocket, APIè®¾è®¡",
  "author": "æ™“é¾™",
  "image": "/images/hero/nodejs-best-practices.jpg",
  "tags": [
    "Node.js",
    "JavaScript",
    "åç«¯å¼€å‘",
    "å‰ç«¯å¼€å‘"
  ],
  "views": 0,
  "likes": 0,
  "category": "Node.js",
  "body": {
    "raw": "\nå—¨ï¼Œå„ä½å‰ç«¯å¼€å‘è€…ï¼æ¬¢è¿ä½“éªŒè¿™ç¯‡ã€Š40ä¸ªNode.jsæœ€ä½³å®è·µã€‹çš„è¶…é•¿å¹²è´§ä¹‹æ—…ï¼ä½œä¸ºä¸€ååœ¨Node.jsæ±Ÿæ¹–æ‘¸çˆ¬æ»šæ‰“å¤šå¹´çš„ç å†œï¼Œæˆ‘æ·±çŸ¥å®ƒçš„é­…åŠ›â€”â€”æ—¢èƒ½è®©å‰ç«¯å¼€å‘è€…æ— ç¼åˆ‡å…¥åç«¯ï¼Œåˆèƒ½å‡­å€Ÿå•çº¿ç¨‹ã€éé˜»å¡I/Oç©å‡ºèŠ±æ ·ã€‚ä½†å®ƒä¹Ÿåƒä¸ªâ€œè°ƒçš®çš„å­©å­â€ï¼Œç¨ä¸ç•™ç¥å°±ç»™ä½ æŒ–ä¸ªå‘ã€‚è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ ä»ä»£ç ç»„ç»‡åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œä»é”™è¯¯å¤„ç†åˆ°å®‰å…¨é˜²æŠ¤ï¼Œå†åˆ°é›†ç¾¤å’ŒWebSocketï¼Œå…¨é¢è§£é”40ä¸ªå®ç”¨æŠ€å·§ã€‚æ— è®ºä½ æ˜¯åˆšæ‘¸åˆ°Node.jsé—¨æ§›çš„å°ç™½ï¼Œè¿˜æ˜¯æƒ³æ›´ä¸Šä¸€å±‚æ¥¼çš„å¤§ä½¬ï¼Œè¿™é‡Œéƒ½æœ‰ä½ çš„â€œé”¦å›Šå¦™è®¡â€ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œç³»å¥½å®‰å…¨å¸¦ï¼Œå’±ä»¬å¼€å¹²ï¼ğŸš€\n\n---\n\n## ä»£ç ç»„ç»‡ä¸æ¶æ„\n\n### 1. å–„ç”¨æ¨¡å—åŒ–ï¼Œæ‹’ç»â€œé¢æ¡ä»£ç â€\nNode.jsè‡ªå¸¦CommonJSæ¨¡å—åŒ–ï¼Œåˆ«æŠŠæ‰€æœ‰é€»è¾‘å¡ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸ç„¶ä»£ç å°±åƒä¸€ç›˜æ‚ä¹±æ— ç« çš„æ„å¤§åˆ©é¢ğŸã€‚ç”¨`module.exports`å’Œ`require`æŒ‰èŒè´£æ‹†åˆ†æ¨¡å—ï¼Œæ¯”å¦‚è·¯ç”±ã€å·¥å…·å‡½æ•°ã€æ•°æ®åº“æ“ä½œã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\n// utils/math.js\nconst add = (a, b) => a + b;\nmodule.exports = { add };\n\n// app.js\nconst { add } = require('./utils/math');\nconsole.log(add(2, 3)); // 5\n```\n\n**Tips:** é¡¹ç›®å¤§äº†å¯ä»¥ç”¨ES Modulesï¼ˆ`import/export`ï¼‰ï¼Œæ›´ç°ä»£ï¼Œè®°å¾—`package.json`åŠ `\"type\": \"module\"`ã€‚\n\n---\n\n### 2. ç›®å½•ç»“æ„è¦æœ‰â€œçµé­‚â€\nåˆ«è®©é¡¹ç›®æ–‡ä»¶å¤¹åƒä¸ªåƒåœ¾åœºã€‚æ¨èMVCï¼ˆModel-View-Controllerï¼‰ç»“æ„ï¼š\n\n```\nproject/\nâ”œâ”€â”€ controllers/\nâ”œâ”€â”€ models/\nâ”œâ”€â”€ routes/\nâ”œâ”€â”€ utils/\nâ”œâ”€â”€ config/\nâ””â”€â”€ app.js\n```\n\n**ç±»æ¯”ï¼š** è¿™å°±åƒç»™ä»£ç å»ºäº†ä¸ªâ€œå®¶â€ï¼Œæ¯ä¸ªæˆ¿é—´éƒ½æœ‰ç”¨é€”ï¼Œæ‰¾ä¸œè¥¿ä¸æŠ“çã€‚\n\n**Tips:** å°é¡¹ç›®å¯ä»¥æ‰å¹³ï¼Œè¶…è¿‡10ä¸ªæ–‡ä»¶å°±è¯¥åˆ†å±‚äº†ã€‚\n\n---\n\n### 3. é…ç½®æ–‡ä»¶è¦ç‹¬ç«‹\næŠŠæ•°æ®åº“URLã€APIå¯†é’¥æŠ½åˆ°`config`ç›®å½•ï¼Œåˆ«ç¡¬ç¼–ç ã€‚æ¨èç”¨`dotenv`åŠ è½½ç¯å¢ƒå˜é‡ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\n// config/index.js\nrequire('dotenv').config();\nmodule.exports = {\n  dbUrl: process.env.DB_URL,\n  port: process.env.PORT || 3000,\n};\n```\n\n**Tips:** `.env`æ–‡ä»¶åŠ åˆ°`.gitignore`ï¼Œåˆ«è®©å¯†é’¥ä¸ŠGitHubå˜æˆâ€œå…¬å¼€å¤„åˆ‘â€ã€‚\n\n---\n\n## å¼‚æ­¥ç¼–ç¨‹\n\n### 4. æ‹¥æŠ±async/awaitï¼Œå‘Šåˆ«å›è°ƒåœ°ç‹±\nå›è°ƒé£æ ¼å®¹æ˜“é™·å…¥â€œå›è°ƒåœ°ç‹±â€ï¼Œç”¨`async/await`è®©ä»£ç åƒåŒæ­¥é€»è¾‘ï¼Œå¯è¯»æ€§èµ·é£ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\n// å›è°ƒåœ°ç‹±\nfs.readFile('file.txt', (err, data) => {\n  if (err) throw err;\n  fs.writeFile('copy.txt', data, (err) => {\n    if (err) throw err;\n    console.log('Done');\n  });\n});\n\n// async/await\nconst fs = require('fs').promises;\nasync function copyFile() {\n  const data = await fs.readFile('file.txt');\n  await fs.writeFile('copy.txt', data);\n  console.log('Done');\n}\n```\n\n**Tips:** ç”¨`try/catch`åŒ…è£¹`await`ï¼Œä¸ç„¶å¼‚å¸¸ä¼šè®©ä½ æ€€ç–‘äººç”Ÿã€‚\n\n---\n\n### 5. å¹¶è¡Œæ‰§è¡Œä»»åŠ¡ï¼Œç”¨Promise.all\nå¤šä¸ªå¼‚æ­¥ä»»åŠ¡æ— ä¾èµ–æ—¶ï¼Œåˆ«å‚»ä¹ä¹æŒ¨ä¸ª`await`ï¼Œç”¨`Promise.all`å¹¶è¡Œè·‘ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst fetchData = async () => {\n  const [user, posts] = await Promise.all([\n    fetchUser(),\n    fetchPosts(),\n  ]);\n  return { user, posts };\n};\n```\n\n**ç±»æ¯”ï¼š** è¿™å°±åƒåŒæ—¶ç‚¹å¤–å–å’Œæ´—æ¾¡ï¼Œè€Œä¸æ˜¯æ´—å®Œæ¾¡å†ç­‰å¤–å–ã€‚\n\n**Tips:** æŸä¸ªPromiseå¤±è´¥ä¼šç›´æ¥rejectï¼Œè®°å¾—åŠ é”™è¯¯å¤„ç†ã€‚\n\n---\n\n## æ€§èƒ½ä¼˜åŒ–\n\n### 6. ç¼“å­˜æ˜¯ä¸ªå®ï¼Œèƒ½çœåˆ™çœ\né¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–APIï¼Ÿç”¨`node-cache`æˆ–Redisç¼“å­˜ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst NodeCache = require('node-cache');\nconst cache = new NodeCache({ stdTTL: 600 }); // ç¼“å­˜10åˆ†é’Ÿ\n\nasync function getData(key) {\n  let data = cache.get(key);\n  if (!data) {\n    data = await fetchExpensiveData();\n    cache.set(key, data);\n  }\n  return data;\n}\n```\n\n**Tips:** TTLæ ¹æ®ä¸šåŠ¡è®¾ç½®ï¼Œåˆ«è®©ç”¨æˆ·æ‹¿åˆ°â€œè¿‡æœŸé¢åŒ…â€ã€‚\n\n---\n\n### 7. æµå¼å¤„ç†å¤§æ–‡ä»¶ï¼Œåˆ«ä¸€å£åƒæˆèƒ–å­\nè¯»å–å¤§æ–‡ä»¶åˆ«ç”¨`fs.readFile`å…¨åŠ è½½ï¼Œç”¨`stream`åˆ†å—å¤„ç†ï¼Œå†…å­˜å‹å¥½ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst fs = require('fs');\nconst readStream = fs.createReadStream('bigfile.txt');\nreadStream.on('data', (chunk) => {\n  console.log(`æ”¶åˆ°${chunk.length}å­—èŠ‚`);\n});\n```\n\n**ç±»æ¯”ï¼š** è¿™å°±åƒåƒè‡ªåŠ©é¤ï¼Œä¸€æ¬¡æ‹¿ä¸€ç‚¹ï¼Œè€Œä¸æ˜¯ç«¯æ•´æ¡Œèœã€‚\n\n**Tips:** é…åˆ`pipe`ç›´æ¥æµå¼è¾“å‡ºï¼Œé€‚åˆæ–‡ä»¶ä¸‹è½½ã€‚\n\n---\n\n### 8. é™åˆ¶å¹¶å‘ï¼Œåˆ«è®©æœåŠ¡å™¨â€œå–˜ä¸è¿‡æ°”â€\nç”¨`p-limit`æ§åˆ¶å¹¶å‘æ•°ï¼Œé¿å…ä¸€æ¬¡æ€§å¤ªå¤šè¯·æ±‚ææŒ‚æœåŠ¡å™¨ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst pLimit = require('p-limit');\nconst limit = pLimit(5); // æœ€å¤š5ä¸ªå¹¶å‘\nconst tasks = urls.map(url => limit(() => fetch(url)));\nawait Promise.all(tasks);\n```\n\n**Tips:** å¹¶å‘æ•°è°ƒä¼˜æ—¶çœ‹æœåŠ¡å™¨è´Ÿè½½ï¼Œåˆ«ä¸€å‘³æ±‚å¿«ã€‚\n\n---\n\n## é”™è¯¯å¤„ç†\n\n### 9. å…¨å±€æ•è·æœªå¤„ç†çš„Promise rejection\nNode.jså¯¹æœªå¤„ç†çš„Promise rejectionå¾ˆæ•æ„Ÿï¼ŒåŠ ä¸ªå…¨å±€ç›‘å¬ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nprocess.on('unhandledRejection', (reason, promise) => {\n  console.error('æœªå¤„ç†Promise Rejection:', reason);\n});\n```\n\n**ç±»æ¯”ï¼š** è¿™å°±åƒç»™ç¨‹åºè£…äº†ä¸ªâ€œå®‰å…¨æ°”å›Šâ€ï¼Œæ‘”å€’ä¸è‡³äºå¤ªæƒ¨ã€‚\n\n**Tips:** ç”Ÿäº§ç¯å¢ƒåˆ«åªlogï¼Œè®°å¾—æŠ¥è­¦æˆ–è®°å½•æ—¥å¿—ã€‚\n\n---\n\n### 10. è‡ªå®šä¹‰é”™è¯¯ç±»ï¼Œæ‹’ç»â€œä¸€é”…ç²¥â€\nåˆ«å…¨ç”¨`Error`ï¼ŒæŒ‰åœºæ™¯å®šä¹‰é”™è¯¯ç±»ï¼Œæ–¹ä¾¿ç²¾å‡†å¤„ç†ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nclass ValidationError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'ValidationError';\n  }\n}\n\ntry {\n  throw new ValidationError('è¾“å…¥ä¸åˆæ³•');\n} catch (err) {\n  if (err instanceof ValidationError) {\n    console.log('éªŒè¯å¤±è´¥:', err.message);\n  }\n}\n```\n\n**Tips:** ç”¨`instanceof`åˆ¤æ–­ç±»å‹ï¼Œæ¯”å­—ç¬¦ä¸²åŒ¹é…é è°±ã€‚\n\n---\n\n## å®‰å…¨é˜²æŠ¤\n\n### 11. ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼Œè¿œç¦»SQLæ³¨å…¥\nåˆ«ç›´æ¥æ‹¼æ¥SQLï¼Œç”¨å‚æ•°åŒ–æŸ¥è¯¢æˆ–ORMï¼ˆå¦‚Sequelizeï¼‰ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\n// å±é™©\nconst sql = `SELECT * FROM users WHERE id = ${userId}`;\n\n// å®‰å…¨\nconst [results] = await db.query('SELECT * FROM users WHERE id = ?', [userId]);\n```\n\n**ç±»æ¯”ï¼š** è¿™å°±åƒä¸åƒè·¯è¾¹æ‘Šï¼Œé˜²æ­¢â€œé£Ÿç‰©ä¸­æ¯’â€ã€‚\n\n**Tips:** æµ‹è¯•æ—¶è¾“å…¥`1 OR 1=1`ï¼Œçœ‹çœ‹ä¼šä¸ä¼šä¸­æ‹›ã€‚\n\n---\n\n### 12. é™åˆ¶è¯·æ±‚ä½“å¤§å°ï¼Œåˆ«è¢«â€œæ’‘çˆ†â€\nç”¨`express.json()`æ—¶è®¾ç½®`limit`ï¼Œé¿å…æ¶æ„å¤§è¯·æ±‚è€—èµ„æºã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst express = require('express');\nconst app = express();\napp.use(express.json({ limit: '1mb' }));\n```\n\n**Tips:** è¶…é™è¿”å›413ï¼Œè®°å¾—å‹å¥½æç¤ºç”¨æˆ·ã€‚\n\n---\n\n## ä¸­é—´ä»¶ä¸è·¯ç”±\n\n### 13. ä¸­é—´ä»¶è¦â€œè½»è£…ä¸Šé˜µâ€\nä¸­é—´ä»¶åˆ«å¡é‡é€»è¾‘ï¼Œåªåšæ ¡éªŒã€æ—¥å¿—ç­‰è½»é‡ä»»åŠ¡ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst logMiddleware = (req, res, next) => {\n  console.log(`${req.method} ${req.url}`);\n  next();\n};\napp.use(logMiddleware);\n```\n\n**Tips:** ä¸­é—´ä»¶é¡ºåºå…³é”®ï¼Œå…ˆè®¤è¯å†ä¸šåŠ¡ã€‚\n\n---\n\n### 14. è·¯ç”±åˆ†æ¨¡å—ï¼Œåˆ«æŒ¤ä¸€èµ·\nè·¯ç”±å¤šäº†å°±æ‹†åˆ†ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç»„ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\n// routes/users.js\nconst router = require('express').Router();\nrouter.get('/profile', (req, res) => res.send('ç”¨æˆ·èµ„æ–™'));\nmodule.exports = router;\n\n// app.js\napp.use('/users', require('./routes/users'));\n```\n\n**Tips:** ç”¨`express.Router()`ï¼Œçµæ´»çœå¿ƒã€‚\n\n---\n\n## è°ƒè¯•ä¸æ—¥å¿—\n\n### 15. æ—¥å¿—ç”¨ä¸“ä¸šåº“ï¼Œåˆ«åªé console.log\nç”¨`winston`æˆ–`pino`è®°å½•æ—¥å¿—ï¼Œæ”¯æŒçº§åˆ«ã€åˆ†æ–‡ä»¶ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst winston = require('winston');\nconst logger = winston.createLogger({\n  level: 'info',\n  format: winston.format.json(),\n  transports: [new winston.transports.File({ filename: 'app.log' })],\n});\nlogger.info('æœåŠ¡å¯åŠ¨');\n```\n\n**Tips:** å¼€å‘åŠ `console`ï¼Œç”Ÿäº§èµ°æ–‡ä»¶ã€‚\n\n---\n\n### 16. åŠ è°ƒè¯•å¼€å…³ï¼Œå¼€å‘æ›´çœå¿ƒ\nç”¨`debug`æ¨¡å—ï¼ŒæŒ‰éœ€è¾“å‡ºè°ƒè¯•ä¿¡æ¯ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst debug = require('debug')('app');\ndebug('å¤„ç†è¯·æ±‚'); // DEBUG=app node app.js\n```\n\n**Tips:** ç”¨å‘½åç©ºé—´ï¼ˆå¦‚`app:db`ï¼‰åŒºåˆ†æ¨¡å—ã€‚\n\n---\n\n## ç¯å¢ƒä¸éƒ¨ç½²\n\n### 17. ç”¨ç¯å¢ƒå˜é‡åŒºåˆ†å¼€å‘å’Œç”Ÿäº§\né€šè¿‡`process.env.NODE_ENV`åˆ‡æ¢é…ç½®ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst isProd = process.env.NODE_ENV === 'production';\nconst dbUrl = isProd ? 'prod-db-url' : 'dev-db-url';\n```\n\n**Tips:** ç”¨`cross-env`è·¨å¹³å°è®¾ç½®å˜é‡ã€‚\n\n---\n\n### 18. å®šæ—¶ä»»åŠ¡ç”¨cronï¼Œåˆ«æ‰‹å†™setInterval\nç”¨`node-cron`è·‘å®šæ—¶ä»»åŠ¡ï¼Œè¯­æ³•æ¸…æ™°ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst cron = require('node-cron');\ncron.schedule('0 0 * * *', () => {\n  console.log('æ¯å¤©å‡Œæ™¨æ¸…ç†');\n});\n```\n\n**Tips:** æµ‹è¯•ç”¨çŸ­å‘¨æœŸï¼ˆå¦‚`* * * * *`ï¼‰ã€‚\n\n---\n\n### 19. è¿›ç¨‹å®ˆæŠ¤ç”¨PM2ï¼Œåˆ«è£¸è·‘\nç”¨PM2ç®¡ç†è¿›ç¨‹ï¼Œæ”¯æŒé‡å¯ã€è´Ÿè½½å‡è¡¡ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```bash\npm2 start app.js --name \"my-app\" -i 4 # 4ä¸ªå®ä¾‹\n```\n\n**Tips:** ç”¨`pm2 logs`æŸ¥å®æ—¶æ—¥å¿—ã€‚\n\n---\n\n### 20. å•å…ƒæµ‹è¯•åˆ«å·æ‡’\nç”¨`jest`æˆ–`mocha`å†™æµ‹è¯•ï¼Œåˆ«ä¸Šçº¿ä¿®bugã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst { add } = require('./utils/math');\ntest('åŠ æ³•æµ‹è¯•', () => {\n  expect(add(2, 3)).toBe(5);\n});\n```\n\n**Tips:** è¦†ç›–å…³é”®è·¯å¾„å°±è¡Œï¼Œåˆ«è¿½æ±‚100%ã€‚\n\n---\n\n## é›†ç¾¤ä¸å¤šçº¿ç¨‹\n\n### 21. ç”¨clusteråˆ©ç”¨å¤šæ ¸CPU\nNode.jså•çº¿ç¨‹ä¸åƒå¤šæ ¸ï¼Œç”¨`cluster`è·‘å¤šä¸ªå®ä¾‹ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst cluster = require('cluster');\nconst numCPUs = require('os').cpus().length;\n\nif (cluster.isMaster) {\n  for (let i = 0; i < numCPUs; i++) {\n    cluster.fork();\n  }\n} else {\n  require('./app');\n}\n```\n\n**Tips:** PM2è‡ªå¸¦é›†ç¾¤åŠŸèƒ½ï¼Œå¯ä»¥æ›¿ä»£æ‰‹åŠ¨`cluster`ã€‚\n\n---\n\n### 22. Worker Threadsè·‘CPUå¯†é›†ä»»åŠ¡\nCPUå¯†é›†ä»»åŠ¡ï¼ˆå¦‚åŠ å¯†ï¼‰ç”¨`worker_threads`åˆ†æ‹…ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst { Worker } = require('worker_threads');\nconst worker = new Worker('./heavyTask.js');\nworker.on('message', (result) => console.log(result));\n```\n\n**Tips:** ä¸»çº¿ç¨‹åˆ«é—²ç€ï¼Œäº¤ç»™å®ƒå¹²I/Oã€‚\n\n---\n\n## WebSocketä¸å®æ—¶é€šä¿¡\n\n### 23. WebSocketç”¨wsåº“ï¼Œç®€å•é«˜æ•ˆ\nå®æ—¶é€šä¿¡ç”¨`ws`ï¼Œåˆ«è‡ªå·±é€ è½®å­ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst WebSocket = require('ws');\nconst wss = new WebSocket.Server({ port: 8080 });\nwss.on('connection', (ws) => {\n  ws.on('message', (msg) => ws.send(`æ”¶åˆ°: ${msg}`));\n});\n```\n\n**Tips:** åŠ å¿ƒè·³æ£€æµ‹ï¼Œé¿å…è¿æ¥â€œå‡æ­»â€ã€‚\n\n---\n\n### 24. å¿ƒè·³æ£€æµ‹ä¿è¿æ¥\nWebSocketé•¿æ—¶é—´ä¸åŠ¨å®¹æ˜“æ–­ï¼ŒåŠ å¿ƒè·³ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nsetInterval(() => {\n  wss.clients.forEach((ws) => {\n    ws.send('ping');\n  });\n}, 30000);\n```\n\n**Tips:** å®¢æˆ·ç«¯ä¹Ÿå¾—é…åˆå›å¤`pong`ã€‚\n\n---\n\n## APIè®¾è®¡\n\n### 25. RESTfulé£æ ¼è¦ç»Ÿä¸€\nAPIè·¯å¾„å’ŒåŠ¨è¯è¦è§„èŒƒï¼Œæ¯”å¦‚`GET /users`ã€`POST /users`ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\napp.get('/users', (req, res) => res.json(users));\napp.post('/users', (req, res) => res.status(201).json(newUser));\n```\n\n**Tips:** ç”¨HTTPçŠ¶æ€ç ï¼ˆ200ã€404ã€500ï¼‰è¡¨è¾¾ç»“æœã€‚\n\n---\n\n### 26. ç‰ˆæœ¬åŒ–APIï¼Œåˆ«è®©è€å®¢æˆ·ç«¯ç‚¸é”…\nAPIåŠ ç‰ˆæœ¬å·ï¼ˆå¦‚`/v1/users`ï¼‰ï¼Œé¿å…æ”¹åŠ¨å½±å“æ—§ç”¨æˆ·ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\napp.use('/v1', v1Router);\napp.use('/v2', v2Router);\n```\n\n**Tips:** ç”¨è·¯ç”±å‰ç¼€ç®¡ç†ç‰ˆæœ¬ã€‚\n\n---\n\n### 27. è¿”å›ä¸€è‡´çš„å“åº”ç»“æ„\nç»Ÿä¸€APIè¿”å›æ ¼å¼ï¼Œå®¢æˆ·ç«¯å¥½è§£æã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst response = (res, data, status = 200) => {\n  res.status(status).json({ code: 0, data, message: 'success' });\n};\napp.get('/users', (req, res) => response(res, users));\n```\n\n**Tips:** å‡ºé”™æ—¶åŠ `code`å’Œ`message`ï¼Œåˆ«åªä¸¢æ•°æ®ã€‚\n\n---\n\n## æ•°æ®å¤„ç†\n\n### 28. ç”¨Joiæˆ–Zodæ ¡éªŒè¾“å…¥\nåˆ«æ‰‹å†™æ ¡éªŒé€»è¾‘ï¼Œç”¨`Joi`æˆ–`Zod`ç¡®ä¿è¾“å…¥åˆæ³•ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst Joi = require('joi');\nconst schema = Joi.object({\n  username: Joi.string().min(3).required(),\n});\nconst { error } = schema.validate({ username: 'ab' });\nif (error) throw new Error(error.message);\n```\n\n**Tips:** æ ¡éªŒæ”¾ä¸­é—´ä»¶ï¼Œä¿æŒæ§åˆ¶å™¨å¹²å‡€ã€‚\n\n---\n\n### 29. åºåˆ—åŒ–å¤§æ•°æ®ï¼Œåˆ«ç›´æ¥JSON.stringify\nå¤§æ•°æ®ç”¨`JSONStream`åºåˆ—åŒ–ï¼ŒèŠ‚çœå†…å­˜ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst JSONStream = require('JSONStream');\nconst stream = JSONStream.stringify();\nstream.pipe(res);\ndata.forEach(item => stream.write(item));\nstream.end();\n```\n\n**Tips:** é€‚åˆè¶…å¤§æ•°ç»„æˆ–å¯¹è±¡ã€‚\n\n---\n\n## ä¾èµ–ç®¡ç†\n\n### 30. é”å®šä¾èµ–ç‰ˆæœ¬ï¼Œåˆ«è¢«â€œæƒŠå–œâ€å‘\nç”¨`package-lock.json`æˆ–`yarn.lock`é”å®šç‰ˆæœ¬ã€‚\n\n**Tips:** æ›´æ–°ä¾èµ–å‰è·‘æµ‹è¯•ï¼Œåˆ«ç›´æ¥`npm update`ã€‚\n\n---\n\n### 31. æ¸…ç†æ— ç”¨ä¾èµ–ï¼Œåˆ«èƒŒåŒ…è¢±\nç”¨`depcheck`æ‰¾å‡ºæ²¡ç”¨çš„åŒ…ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```bash\nnpx depcheck\n```\n\n**Tips:** å®šæœŸæ¸…ç†ï¼Œé¡¹ç›®è½»é‡åŒ–ã€‚\n\n---\n\n## å·¥å…·ä¸ç”Ÿæ€\n\n### 32. ç”¨TypeScriptåŠ ç±»å‹å®‰å…¨\nNode.jsæ”¯æŒTypeScriptï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```typescript\ninterface User {\n  id: number;\n  name: string;\n}\nconst getUser = (id: number): User => ({ id, name: 'æ™“é¾™' });\n```\n\n**Tips:** é€æ­¥è¿ç§»ï¼Œåˆ«ä¸€å£æ°”å…¨æ”¹ã€‚\n\n---\n\n### 33. ç”¨ESLintè§„èŒƒä»£ç \nç”¨ESLintç»Ÿä¸€å›¢é˜Ÿé£æ ¼ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```bash\nnpx eslint . --fix\n```\n\n**Tips:** åŠ Prettierä¸€èµ·ç”¨ï¼Œçœå¿ƒã€‚\n\n---\n\n## ç”Ÿäº§ç¯å¢ƒ\n\n### 34. å‹ç¼©å“åº”ï¼ŒèŠ‚çœå¸¦å®½\nç”¨`compression`ä¸­é—´ä»¶å‹ç¼©HTTPå“åº”ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst compression = require('compression');\napp.use(compression());\n```\n\n**Tips:** é™æ€èµ„æºä¹Ÿ gzip ä¸€ä¸‹ã€‚\n\n---\n\n### 35. åŠ Helmeté˜²å¸¸è§æ”»å‡»\nç”¨`helmet`è®¾ç½®å®‰å…¨å¤´ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst helmet = require('helmet');\napp.use(helmet());\n```\n\n**Tips:** é»˜è®¤é…ç½®å·²å¾ˆå¼ºï¼Œç‰¹æ®Šéœ€æ±‚å†è°ƒã€‚\n\n---\n\n### 36. é™æµé˜²åˆ·ï¼Œåˆ«è¢«â€œæ´ªæ°´â€æ·¹\nç”¨`express-rate-limit`é™åˆ¶è¯·æ±‚é¢‘ç‡ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst rateLimit = require('express-rate-limit');\napp.use(rateLimit({ windowMs: 15 * 60 * 1000, max: 100 }));\n```\n\n**Tips:** æŒ‰IPæˆ–ç”¨æˆ·é™æµï¼Œçœ‹ä¸šåŠ¡ã€‚\n\n---\n\n## è¿›é˜¶æŠ€å·§\n\n### 37. ç”¨EventEmitterè§£è€¦\nå¤æ‚é€»è¾‘ç”¨äº‹ä»¶é©±åŠ¨è§£è€¦ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst EventEmitter = require('events');\nconst emitter = new EventEmitter();\nemitter.on('userCreated', (user) => console.log(user));\nemitter.emit('userCreated', { id: 1 });\n```\n\n**Tips:** åˆ«æ»¥ç”¨ï¼Œå°é¡¹ç›®å¤Ÿç®€å•å°±å¥½ã€‚\n\n---\n\n### 38. åŠ Graceful Shutdownä¼˜é›…å…³é—­\næœåŠ¡å…³é—­æ—¶å¤„ç†æœªå®Œæˆä»»åŠ¡ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nprocess.on('SIGTERM', () => {\n  server.close(() => {\n    console.log('æœåŠ¡å…³é—­');\n    process.exit(0);\n  });\n});\n```\n\n**Tips:** æ•°æ®åº“è¿æ¥ä¹Ÿè¦å…³ã€‚\n\n---\n\n### 39. ç›‘æ§æ€§èƒ½ï¼Œç”¨Prometheus\nç”¨`prom-client`æ”¶é›†æŒ‡æ ‡ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\nconst client = require('prom-client');\nconst counter = new client.Counter({\n  name: 'requests_total',\n  help: 'æ€»è¯·æ±‚æ•°',\n});\napp.use((req, res, next) => {\n  counter.inc();\n  next();\n});\n```\n\n**Tips:** é…åˆGrafanaå¯è§†åŒ–ã€‚\n\n---\n\n### 40. æ–‡æ¡£åŒ–APIï¼Œåˆ«è®©é˜Ÿå‹éª‚\nç”¨`swagger-jsdoc`ç”ŸæˆAPIæ–‡æ¡£ã€‚\n\n**ç¤ºä¾‹ï¼š**\n```javascript\n/**\n * @swagger\n * /users:\n *   get:\n *     description: è·å–ç”¨æˆ·åˆ—è¡¨\n *     responses:\n *       200:\n *         description: æˆåŠŸ\n */\napp.get('/users', (req, res) => res.json(users));\n```\n\n**Tips:** å†™æ–‡æ¡£æ—¶æƒ³æƒ³é˜Ÿå‹ï¼Œåˆ«å·æ‡’ã€‚\n\n---\n\n## ç»“è¯­\nNode.jsæ˜¯ä¸ªçµæ´»çš„â€œä¸‡é‡‘æ²¹â€ï¼Œä½†çµæ´»ä¹Ÿæ„å‘³ç€å®¹æ˜“ç¿»è½¦ã€‚è¿™40ä¸ªæœ€ä½³å®è·µæ˜¯æˆ‘è¸©å‘å¤šå¹´çš„å¿ƒè¡€æ€»ç»“ï¼Œä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œå¸Œæœ›èƒ½å¸®ä½ åœ¨Node.jsä¸–ç•Œé‡Œæ¸¸åˆƒæœ‰ä½™ã€‚ä»£ç å¦‚äººç”Ÿï¼Œæ—¢è¦æ•ˆç‡ï¼Œä¹Ÿè¦ä¼˜é›…ã€‚æœ‰ä»€ä¹ˆé—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·åˆ‡ç£‹ï¼âœŒï¸\n\n---\n",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},s=(n,e,r,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!g.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(d=E(e,a))||d.enumerable});return n};var m=(n,e,r)=>(r=n!=null?p(F(n)):{},s(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>s(c({},\"__esModule\",{value:!0}),n);var t=u((j,i)=>{i.exports=_jsx_runtime});var k={};B(k,{default:()=>h,frontmatter:()=>b});var l=m(t()),b={type:\"Post\",title:\"40\\u4E2ANode.js\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u4ECE\\u65B0\\u624B\\u5230\\u5927\\u4F6C\\u7684\\u8FDB\\u9636\\u6307\\u5357\",date:\"2024-08-15\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA8Node.js\\u5F00\\u53D1\\u768440\\u4E2A\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u6DB5\\u76D6\\u6027\\u80FD\\u4F18\\u5316\\u3001\\u5B89\\u5168\\u6027\\u3001\\u4EE3\\u7801\\u7EC4\\u7EC7\\u3001\\u9519\\u8BEF\\u5904\\u7406\\u3001\\u96C6\\u7FA4\\u7BA1\\u7406\\u7B49\\u9886\\u57DF\\uFF0C\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u8DF5\\u5168\\u9762\\u63D0\\u5347\\u6280\\u80FD\\u3002\",keywords:\"Node.js, JavaScript, \\u540E\\u7AEF\\u5F00\\u53D1, \\u6027\\u80FD\\u4F18\\u5316, \\u9519\\u8BEF\\u5904\\u7406, \\u6A21\\u5757\\u5316, \\u5F02\\u6B65\\u7F16\\u7A0B, \\u524D\\u7AEF\\u5F00\\u53D1, WebSocket, API\\u8BBE\\u8BA1\",author:\"\\u6653\\u9F99\",image:\"/images/hero/nodejs-best-practices.jpg\",tags:[\"Node.js\",\"JavaScript\",\"\\u540E\\u7AEF\\u5F00\\u53D1\",\"\\u524D\\u7AEF\\u5F00\\u53D1\"],category:\"Node.js\"};function o(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"\\u55E8\\uFF0C\\u5404\\u4F4D\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF01\\u6B22\\u8FCE\\u4F53\\u9A8C\\u8FD9\\u7BC7\\u300A40\\u4E2ANode.js\\u6700\\u4F73\\u5B9E\\u8DF5\\u300B\\u7684\\u8D85\\u957F\\u5E72\\u8D27\\u4E4B\\u65C5\\uFF01\\u4F5C\\u4E3A\\u4E00\\u540D\\u5728Node.js\\u6C5F\\u6E56\\u6478\\u722C\\u6EDA\\u6253\\u591A\\u5E74\\u7684\\u7801\\u519C\\uFF0C\\u6211\\u6DF1\\u77E5\\u5B83\\u7684\\u9B45\\u529B\\u2014\\u2014\\u65E2\\u80FD\\u8BA9\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u65E0\\u7F1D\\u5207\\u5165\\u540E\\u7AEF\\uFF0C\\u53C8\\u80FD\\u51ED\\u501F\\u5355\\u7EBF\\u7A0B\\u3001\\u975E\\u963B\\u585EI/O\\u73A9\\u51FA\\u82B1\\u6837\\u3002\\u4F46\\u5B83\\u4E5F\\u50CF\\u4E2A\\u201C\\u8C03\\u76AE\\u7684\\u5B69\\u5B50\\u201D\\uFF0C\\u7A0D\\u4E0D\\u7559\\u795E\\u5C31\\u7ED9\\u4F60\\u6316\\u4E2A\\u5751\\u3002\\u8FD9\\u7BC7\\u6587\\u7AE0\\u5C06\\u5E26\\u4F60\\u4ECE\\u4EE3\\u7801\\u7EC4\\u7EC7\\u5230\\u6027\\u80FD\\u4F18\\u5316\\uFF0C\\u4ECE\\u9519\\u8BEF\\u5904\\u7406\\u5230\\u5B89\\u5168\\u9632\\u62A4\\uFF0C\\u518D\\u5230\\u96C6\\u7FA4\\u548CWebSocket\\uFF0C\\u5168\\u9762\\u89E3\\u950140\\u4E2A\\u5B9E\\u7528\\u6280\\u5DE7\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521A\\u6478\\u5230Node.js\\u95E8\\u69DB\\u7684\\u5C0F\\u767D\\uFF0C\\u8FD8\\u662F\\u60F3\\u66F4\\u4E0A\\u4E00\\u5C42\\u697C\\u7684\\u5927\\u4F6C\\uFF0C\\u8FD9\\u91CC\\u90FD\\u6709\\u4F60\\u7684\\u201C\\u9526\\u56CA\\u5999\\u8BA1\\u201D\\u3002\\u5E9F\\u8BDD\\u4E0D\\u591A\\u8BF4\\uFF0C\\u7CFB\\u597D\\u5B89\\u5168\\u5E26\\uFF0C\\u54B1\\u4EEC\\u5F00\\u5E72\\uFF01\\u{1F680}\"}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4EE3\\u7801\\u7EC4\\u7EC7\\u4E0E\\u67B6\\u6784\",children:(0,l.jsx)(e.a,{href:\"#\\u4EE3\\u7801\\u7EC4\\u7EC7\\u4E0E\\u67B6\\u6784\",children:\"\\u4EE3\\u7801\\u7EC4\\u7EC7\\u4E0E\\u67B6\\u6784\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"1-\\u5584\\u7528\\u6A21\\u5757\\u5316\\u62D2\\u7EDD\\u9762\\u6761\\u4EE3\\u7801\",children:(0,l.jsx)(e.a,{href:\"#1-\\u5584\\u7528\\u6A21\\u5757\\u5316\\u62D2\\u7EDD\\u9762\\u6761\\u4EE3\\u7801\",children:\"1. \\u5584\\u7528\\u6A21\\u5757\\u5316\\uFF0C\\u62D2\\u7EDD\\u201C\\u9762\\u6761\\u4EE3\\u7801\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Node.js\\u81EA\\u5E26CommonJS\\u6A21\\u5757\\u5316\\uFF0C\\u522B\\u628A\\u6240\\u6709\\u903B\\u8F91\\u585E\\u4E00\\u4E2A\\u6587\\u4EF6\\uFF0C\\u4E0D\\u7136\\u4EE3\\u7801\\u5C31\\u50CF\\u4E00\\u76D8\\u6742\\u4E71\\u65E0\\u7AE0\\u7684\\u610F\\u5927\\u5229\\u9762\\u{1F35D}\\u3002\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"module.exports\"})})})}),\"\\u548C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"require\"})})})}),\"\\u6309\\u804C\\u8D23\\u62C6\\u5206\\u6A21\\u5757\\uFF0C\\u6BD4\\u5982\\u8DEF\\u7531\\u3001\\u5DE5\\u5177\\u51FD\\u6570\\u3001\\u6570\\u636E\\u5E93\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// utils/math.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" add\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"a\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"b\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" a \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" b;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { add };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// app.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"add\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./utils/math'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// 5\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u9879\\u76EE\\u5927\\u4E86\\u53EF\\u4EE5\\u7528ES Modules\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"import/export\"})})})}),\"\\uFF09\\uFF0C\\u66F4\\u73B0\\u4EE3\\uFF0C\\u8BB0\\u5F97\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"package.json\"})})})}),\"\\u52A0\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:'\"type\": \"module\"'})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"2-\\u76EE\\u5F55\\u7ED3\\u6784\\u8981\\u6709\\u7075\\u9B42\",children:(0,l.jsx)(e.a,{href:\"#2-\\u76EE\\u5F55\\u7ED3\\u6784\\u8981\\u6709\\u7075\\u9B42\",children:\"2. \\u76EE\\u5F55\\u7ED3\\u6784\\u8981\\u6709\\u201C\\u7075\\u9B42\\u201D\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u522B\\u8BA9\\u9879\\u76EE\\u6587\\u4EF6\\u5939\\u50CF\\u4E2A\\u5783\\u573E\\u573A\\u3002\\u63A8\\u8350MVC\\uFF08Model-View-Controller\\uFF09\\u7ED3\\u6784\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"project/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 controllers/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 models/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 routes/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 utils/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 config/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u2514\\u2500\\u2500 app.js\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\\uFF1A\"}),\" \\u8FD9\\u5C31\\u50CF\\u7ED9\\u4EE3\\u7801\\u5EFA\\u4E86\\u4E2A\\u201C\\u5BB6\\u201D\\uFF0C\\u6BCF\\u4E2A\\u623F\\u95F4\\u90FD\\u6709\\u7528\\u9014\\uFF0C\\u627E\\u4E1C\\u897F\\u4E0D\\u6293\\u778E\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u5C0F\\u9879\\u76EE\\u53EF\\u4EE5\\u6241\\u5E73\\uFF0C\\u8D85\\u8FC710\\u4E2A\\u6587\\u4EF6\\u5C31\\u8BE5\\u5206\\u5C42\\u4E86\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"3-\\u914D\\u7F6E\\u6587\\u4EF6\\u8981\\u72EC\\u7ACB\",children:(0,l.jsx)(e.a,{href:\"#3-\\u914D\\u7F6E\\u6587\\u4EF6\\u8981\\u72EC\\u7ACB\",children:\"3. \\u914D\\u7F6E\\u6587\\u4EF6\\u8981\\u72EC\\u7ACB\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u628A\\u6570\\u636E\\u5E93URL\\u3001API\\u5BC6\\u94A5\\u62BD\\u5230\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"config\"})})})}),\"\\u76EE\\u5F55\\uFF0C\\u522B\\u786C\\u7F16\\u7801\\u3002\\u63A8\\u8350\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"dotenv\"})})})}),\"\\u52A0\\u8F7D\\u73AF\\u5883\\u53D8\\u91CF\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// config/index.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'dotenv'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"config\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  dbUrl: process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"DB_URL\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  port: process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ||\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".env\"})})})}),\"\\u6587\\u4EF6\\u52A0\\u5230\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".gitignore\"})})})}),\"\\uFF0C\\u522B\\u8BA9\\u5BC6\\u94A5\\u4E0AGitHub\\u53D8\\u6210\\u201C\\u516C\\u5F00\\u5904\\u5211\\u201D\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5F02\\u6B65\\u7F16\\u7A0B\",children:(0,l.jsx)(e.a,{href:\"#\\u5F02\\u6B65\\u7F16\\u7A0B\",children:\"\\u5F02\\u6B65\\u7F16\\u7A0B\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"4-\\u62E5\\u62B1asyncawait\\u544A\\u522B\\u56DE\\u8C03\\u5730\\u72F1\",children:(0,l.jsx)(e.a,{href:\"#4-\\u62E5\\u62B1asyncawait\\u544A\\u522B\\u56DE\\u8C03\\u5730\\u72F1\",children:\"4. \\u62E5\\u62B1async/await\\uFF0C\\u544A\\u522B\\u56DE\\u8C03\\u5730\\u72F1\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u56DE\\u8C03\\u98CE\\u683C\\u5BB9\\u6613\\u9677\\u5165\\u201C\\u56DE\\u8C03\\u5730\\u72F1\\u201D\\uFF0C\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"async/await\"})})})}),\"\\u8BA9\\u4EE3\\u7801\\u50CF\\u540C\\u6B65\\u903B\\u8F91\\uFF0C\\u53EF\\u8BFB\\u6027\\u8D77\\u98DE\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u56DE\\u8C03\\u5730\\u72F1\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"fs.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"readFile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'file.txt'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"throw\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" err;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  fs.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"writeFile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'copy.txt'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data, (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"throw\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" err;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Done'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// async/await\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" fs\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'fs'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").promises;\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" copyFile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" fs.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"readFile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'file.txt'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" fs.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"writeFile\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'copy.txt'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'Done'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try/catch\"})})})}),\"\\u5305\\u88F9\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\"\\uFF0C\\u4E0D\\u7136\\u5F02\\u5E38\\u4F1A\\u8BA9\\u4F60\\u6000\\u7591\\u4EBA\\u751F\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"5-\\u5E76\\u884C\\u6267\\u884C\\u4EFB\\u52A1\\u7528promiseall\",children:(0,l.jsx)(e.a,{href:\"#5-\\u5E76\\u884C\\u6267\\u884C\\u4EFB\\u52A1\\u7528promiseall\",children:\"5. \\u5E76\\u884C\\u6267\\u884C\\u4EFB\\u52A1\\uFF0C\\u7528Promise.all\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u591A\\u4E2A\\u5F02\\u6B65\\u4EFB\\u52A1\\u65E0\\u4F9D\\u8D56\\u65F6\\uFF0C\\u522B\\u50BB\\u4E4E\\u4E4E\\u6328\\u4E2A\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"await\"})})})}),\"\\uFF0C\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Promise.all\"})})})}),\"\\u5E76\\u884C\\u8DD1\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchData\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"posts\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchUser\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    fetchPosts\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ]);\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { user, posts };\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\\uFF1A\"}),\" \\u8FD9\\u5C31\\u50CF\\u540C\\u65F6\\u70B9\\u5916\\u5356\\u548C\\u6D17\\u6FA1\\uFF0C\\u800C\\u4E0D\\u662F\\u6D17\\u5B8C\\u6FA1\\u518D\\u7B49\\u5916\\u5356\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u67D0\\u4E2APromise\\u5931\\u8D25\\u4F1A\\u76F4\\u63A5reject\\uFF0C\\u8BB0\\u5F97\\u52A0\\u9519\\u8BEF\\u5904\\u7406\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6027\\u80FD\\u4F18\\u5316\",children:(0,l.jsx)(e.a,{href:\"#\\u6027\\u80FD\\u4F18\\u5316\",children:\"\\u6027\\u80FD\\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"6-\\u7F13\\u5B58\\u662F\\u4E2A\\u5B9D\\u80FD\\u7701\\u5219\\u7701\",children:(0,l.jsx)(e.a,{href:\"#6-\\u7F13\\u5B58\\u662F\\u4E2A\\u5B9D\\u80FD\\u7701\\u5219\\u7701\",children:\"6. \\u7F13\\u5B58\\u662F\\u4E2A\\u5B9D\\uFF0C\\u80FD\\u7701\\u5219\\u7701\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u9891\\u7E41\\u8BBF\\u95EE\\u6570\\u636E\\u5E93\\u6216API\\uFF1F\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"node-cache\"})})})}),\"\\u6216Redis\\u7F13\\u5B58\\u7ED3\\u679C\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" NodeCache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'node-cache'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cache\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" NodeCache\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ stdTTL: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"600\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u7F13\\u5B5810\\u5206\\u949F\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(key);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    data \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetchExpensiveData\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    cache.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(key, data);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" TTL\\u6839\\u636E\\u4E1A\\u52A1\\u8BBE\\u7F6E\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u62FF\\u5230\\u201C\\u8FC7\\u671F\\u9762\\u5305\\u201D\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"7-\\u6D41\\u5F0F\\u5904\\u7406\\u5927\\u6587\\u4EF6\\u522B\\u4E00\\u53E3\\u5403\\u6210\\u80D6\\u5B50\",children:(0,l.jsx)(e.a,{href:\"#7-\\u6D41\\u5F0F\\u5904\\u7406\\u5927\\u6587\\u4EF6\\u522B\\u4E00\\u53E3\\u5403\\u6210\\u80D6\\u5B50\",children:\"7. \\u6D41\\u5F0F\\u5904\\u7406\\u5927\\u6587\\u4EF6\\uFF0C\\u522B\\u4E00\\u53E3\\u5403\\u6210\\u80D6\\u5B50\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u8BFB\\u53D6\\u5927\\u6587\\u4EF6\\u522B\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"fs.readFile\"})})})}),\"\\u5168\\u52A0\\u8F7D\\uFF0C\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"stream\"})})})}),\"\\u5206\\u5757\\u5904\\u7406\\uFF0C\\u5185\\u5B58\\u53CB\\u597D\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" fs\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'fs'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" readStream\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" fs.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createReadStream\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'bigfile.txt'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"readStream.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'data'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"chunk\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u6536\\u5230${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"chunk\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}\\u5B57\\u8282`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\\uFF1A\"}),\" \\u8FD9\\u5C31\\u50CF\\u5403\\u81EA\\u52A9\\u9910\\uFF0C\\u4E00\\u6B21\\u62FF\\u4E00\\u70B9\\uFF0C\\u800C\\u4E0D\\u662F\\u7AEF\\u6574\\u684C\\u83DC\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u914D\\u5408\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"pipe\"})})})}),\"\\u76F4\\u63A5\\u6D41\\u5F0F\\u8F93\\u51FA\\uFF0C\\u9002\\u5408\\u6587\\u4EF6\\u4E0B\\u8F7D\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"8-\\u9650\\u5236\\u5E76\\u53D1\\u522B\\u8BA9\\u670D\\u52A1\\u5668\\u5598\\u4E0D\\u8FC7\\u6C14\",children:(0,l.jsx)(e.a,{href:\"#8-\\u9650\\u5236\\u5E76\\u53D1\\u522B\\u8BA9\\u670D\\u52A1\\u5668\\u5598\\u4E0D\\u8FC7\\u6C14\",children:\"8. \\u9650\\u5236\\u5E76\\u53D1\\uFF0C\\u522B\\u8BA9\\u670D\\u52A1\\u5668\\u201C\\u5598\\u4E0D\\u8FC7\\u6C14\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"p-limit\"})})})}),\"\\u63A7\\u5236\\u5E76\\u53D1\\u6570\\uFF0C\\u907F\\u514D\\u4E00\\u6B21\\u6027\\u592A\\u591A\\u8BF7\\u6C42\\u641E\\u6302\\u670D\\u52A1\\u5668\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" pLimit\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'p-limit'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" limit\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" pLimit\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"5\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6700\\u591A5\\u4E2A\\u5E76\\u53D1\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" tasks\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" urls.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" limit\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(url)));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"all\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(tasks);\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u5E76\\u53D1\\u6570\\u8C03\\u4F18\\u65F6\\u770B\\u670D\\u52A1\\u5668\\u8D1F\\u8F7D\\uFF0C\\u522B\\u4E00\\u5473\\u6C42\\u5FEB\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u9519\\u8BEF\\u5904\\u7406\",children:(0,l.jsx)(e.a,{href:\"#\\u9519\\u8BEF\\u5904\\u7406\",children:\"\\u9519\\u8BEF\\u5904\\u7406\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"9-\\u5168\\u5C40\\u6355\\u83B7\\u672A\\u5904\\u7406\\u7684promise-rejection\",children:(0,l.jsx)(e.a,{href:\"#9-\\u5168\\u5C40\\u6355\\u83B7\\u672A\\u5904\\u7406\\u7684promise-rejection\",children:\"9. \\u5168\\u5C40\\u6355\\u83B7\\u672A\\u5904\\u7406\\u7684Promise rejection\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Node.js\\u5BF9\\u672A\\u5904\\u7406\\u7684Promise rejection\\u5F88\\u654F\\u611F\\uFF0C\\u52A0\\u4E2A\\u5168\\u5C40\\u76D1\\u542C\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"process.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'unhandledRejection'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"reason\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"promise\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u672A\\u5904\\u7406Promise Rejection:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", reason);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\\uFF1A\"}),\" \\u8FD9\\u5C31\\u50CF\\u7ED9\\u7A0B\\u5E8F\\u88C5\\u4E86\\u4E2A\\u201C\\u5B89\\u5168\\u6C14\\u56CA\\u201D\\uFF0C\\u6454\\u5012\\u4E0D\\u81F3\\u4E8E\\u592A\\u60E8\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u751F\\u4EA7\\u73AF\\u5883\\u522B\\u53EAlog\\uFF0C\\u8BB0\\u5F97\\u62A5\\u8B66\\u6216\\u8BB0\\u5F55\\u65E5\\u5FD7\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"10-\\u81EA\\u5B9A\\u4E49\\u9519\\u8BEF\\u7C7B\\u62D2\\u7EDD\\u4E00\\u9505\\u7CA5\",children:(0,l.jsx)(e.a,{href:\"#10-\\u81EA\\u5B9A\\u4E49\\u9519\\u8BEF\\u7C7B\\u62D2\\u7EDD\\u4E00\\u9505\\u7CA5\",children:\"10. \\u81EA\\u5B9A\\u4E49\\u9519\\u8BEF\\u7C7B\\uFF0C\\u62D2\\u7EDD\\u201C\\u4E00\\u9505\\u7CA5\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u522B\\u5168\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Error\"})})})}),\"\\uFF0C\\u6309\\u573A\\u666F\\u5B9A\\u4E49\\u9519\\u8BEF\\u7C7B\\uFF0C\\u65B9\\u4FBF\\u7CBE\\u51C6\\u5904\\u7406\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ValidationError\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"message\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    super\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(message);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".name \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'ValidationError'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"try\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  throw\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ValidationError\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u8F93\\u5165\\u4E0D\\u5408\\u6CD5'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (err \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"instanceof\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ValidationError\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u9A8C\\u8BC1\\u5931\\u8D25:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err.message);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"instanceof\"})})})}),\"\\u5224\\u65AD\\u7C7B\\u578B\\uFF0C\\u6BD4\\u5B57\\u7B26\\u4E32\\u5339\\u914D\\u9760\\u8C31\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5B89\\u5168\\u9632\\u62A4\",children:(0,l.jsx)(e.a,{href:\"#\\u5B89\\u5168\\u9632\\u62A4\",children:\"\\u5B89\\u5168\\u9632\\u62A4\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"11-\\u7528\\u53C2\\u6570\\u5316\\u67E5\\u8BE2\\u8FDC\\u79BBsql\\u6CE8\\u5165\",children:(0,l.jsx)(e.a,{href:\"#11-\\u7528\\u53C2\\u6570\\u5316\\u67E5\\u8BE2\\u8FDC\\u79BBsql\\u6CE8\\u5165\",children:\"11. \\u7528\\u53C2\\u6570\\u5316\\u67E5\\u8BE2\\uFF0C\\u8FDC\\u79BBSQL\\u6CE8\\u5165\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u522B\\u76F4\\u63A5\\u62FC\\u63A5SQL\\uFF0C\\u7528\\u53C2\\u6570\\u5316\\u67E5\\u8BE2\\u6216ORM\\uFF08\\u5982Sequelize\\uFF09\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5371\\u9669\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" sql\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `SELECT * FROM users WHERE id = ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"userId\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u5B89\\u5168\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"results\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"query\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'SELECT * FROM users WHERE id = ?'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", [userId]);\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"\\u7C7B\\u6BD4\\uFF1A\"}),\" \\u8FD9\\u5C31\\u50CF\\u4E0D\\u5403\\u8DEF\\u8FB9\\u644A\\uFF0C\\u9632\\u6B62\\u201C\\u98DF\\u7269\\u4E2D\\u6BD2\\u201D\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u6D4B\\u8BD5\\u65F6\\u8F93\\u5165\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"1 OR 1=1\"})})})}),\"\\uFF0C\\u770B\\u770B\\u4F1A\\u4E0D\\u4F1A\\u4E2D\\u62DB\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"12-\\u9650\\u5236\\u8BF7\\u6C42\\u4F53\\u5927\\u5C0F\\u522B\\u88AB\\u6491\\u7206\",children:(0,l.jsx)(e.a,{href:\"#12-\\u9650\\u5236\\u8BF7\\u6C42\\u4F53\\u5927\\u5C0F\\u522B\\u88AB\\u6491\\u7206\",children:\"12. \\u9650\\u5236\\u8BF7\\u6C42\\u4F53\\u5927\\u5C0F\\uFF0C\\u522B\\u88AB\\u201C\\u6491\\u7206\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express.json()\"})})})}),\"\\u65F6\\u8BBE\\u7F6E\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"limit\"})})})}),\"\\uFF0C\\u907F\\u514D\\u6076\\u610F\\u5927\\u8BF7\\u6C42\\u8017\\u8D44\\u6E90\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(express.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ limit: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'1mb'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u8D85\\u9650\\u8FD4\\u56DE413\\uFF0C\\u8BB0\\u5F97\\u53CB\\u597D\\u63D0\\u793A\\u7528\\u6237\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4E2D\\u95F4\\u4EF6\\u4E0E\\u8DEF\\u7531\",children:(0,l.jsx)(e.a,{href:\"#\\u4E2D\\u95F4\\u4EF6\\u4E0E\\u8DEF\\u7531\",children:\"\\u4E2D\\u95F4\\u4EF6\\u4E0E\\u8DEF\\u7531\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"13-\\u4E2D\\u95F4\\u4EF6\\u8981\\u8F7B\\u88C5\\u4E0A\\u9635\",children:(0,l.jsx)(e.a,{href:\"#13-\\u4E2D\\u95F4\\u4EF6\\u8981\\u8F7B\\u88C5\\u4E0A\\u9635\",children:\"13. \\u4E2D\\u95F4\\u4EF6\\u8981\\u201C\\u8F7B\\u88C5\\u4E0A\\u9635\\u201D\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E2D\\u95F4\\u4EF6\\u522B\\u585E\\u91CD\\u903B\\u8F91\\uFF0C\\u53EA\\u505A\\u6821\\u9A8C\\u3001\\u65E5\\u5FD7\\u7B49\\u8F7B\\u91CF\\u4EFB\\u52A1\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" logMiddleware\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"method\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(logMiddleware);\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u4E2D\\u95F4\\u4EF6\\u987A\\u5E8F\\u5173\\u952E\\uFF0C\\u5148\\u8BA4\\u8BC1\\u518D\\u4E1A\\u52A1\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"14-\\u8DEF\\u7531\\u5206\\u6A21\\u5757\\u522B\\u6324\\u4E00\\u8D77\",children:(0,l.jsx)(e.a,{href:\"#14-\\u8DEF\\u7531\\u5206\\u6A21\\u5757\\u522B\\u6324\\u4E00\\u8D77\",children:\"14. \\u8DEF\\u7531\\u5206\\u6A21\\u5757\\uFF0C\\u522B\\u6324\\u4E00\\u8D77\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u8DEF\\u7531\\u591A\\u4E86\\u5C31\\u62C6\\u5206\\uFF0C\\u6309\\u529F\\u80FD\\u5206\\u7EC4\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// routes/users.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" router\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Router\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"router.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/profile'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u7528\\u6237\\u8D44\\u6599'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" router;\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// app.js\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./routes/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express.Router()\"})})})}),\"\\uFF0C\\u7075\\u6D3B\\u7701\\u5FC3\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u8C03\\u8BD5\\u4E0E\\u65E5\\u5FD7\",children:(0,l.jsx)(e.a,{href:\"#\\u8C03\\u8BD5\\u4E0E\\u65E5\\u5FD7\",children:\"\\u8C03\\u8BD5\\u4E0E\\u65E5\\u5FD7\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"15-\\u65E5\\u5FD7\\u7528\\u4E13\\u4E1A\\u5E93\\u522B\\u53EA\\u9760consolelog\",children:(0,l.jsx)(e.a,{href:\"#15-\\u65E5\\u5FD7\\u7528\\u4E13\\u4E1A\\u5E93\\u522B\\u53EA\\u9760consolelog\",children:\"15. \\u65E5\\u5FD7\\u7528\\u4E13\\u4E1A\\u5E93\\uFF0C\\u522B\\u53EA\\u9760console.log\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"winston\"})})})}),\"\\u6216\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"pino\"})})})}),\"\\u8BB0\\u5F55\\u65E5\\u5FD7\\uFF0C\\u652F\\u6301\\u7EA7\\u522B\\u3001\\u5206\\u6587\\u4EF6\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" winston\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'winston'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" logger\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" winston.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createLogger\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  level: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'info'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  format: winston.format.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  transports: [\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" winston.transports.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"File\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ filename: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'app.log'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" })],\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"logger.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"info\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u670D\\u52A1\\u542F\\u52A8'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u5F00\\u53D1\\u52A0\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"console\"})})})}),\"\\uFF0C\\u751F\\u4EA7\\u8D70\\u6587\\u4EF6\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"16-\\u52A0\\u8C03\\u8BD5\\u5F00\\u5173\\u5F00\\u53D1\\u66F4\\u7701\\u5FC3\",children:(0,l.jsx)(e.a,{href:\"#16-\\u52A0\\u8C03\\u8BD5\\u5F00\\u5173\\u5F00\\u53D1\\u66F4\\u7701\\u5FC3\",children:\"16. \\u52A0\\u8C03\\u8BD5\\u5F00\\u5173\\uFF0C\\u5F00\\u53D1\\u66F4\\u7701\\u5FC3\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"debug\"})})})}),\"\\u6A21\\u5757\\uFF0C\\u6309\\u9700\\u8F93\\u51FA\\u8C03\\u8BD5\\u4FE1\\u606F\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" debug\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'debug'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'app'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"debug\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u5904\\u7406\\u8BF7\\u6C42'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// DEBUG=app node app.js\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u7528\\u547D\\u540D\\u7A7A\\u95F4\\uFF08\\u5982\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"app:db\"})})})}),\"\\uFF09\\u533A\\u5206\\u6A21\\u5757\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u73AF\\u5883\\u4E0E\\u90E8\\u7F72\",children:(0,l.jsx)(e.a,{href:\"#\\u73AF\\u5883\\u4E0E\\u90E8\\u7F72\",children:\"\\u73AF\\u5883\\u4E0E\\u90E8\\u7F72\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"17-\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\u533A\\u5206\\u5F00\\u53D1\\u548C\\u751F\\u4EA7\",children:(0,l.jsx)(e.a,{href:\"#17-\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\u533A\\u5206\\u5F00\\u53D1\\u548C\\u751F\\u4EA7\",children:\"17. \\u7528\\u73AF\\u5883\\u53D8\\u91CF\\u533A\\u5206\\u5F00\\u53D1\\u548C\\u751F\\u4EA7\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"process.env.NODE_ENV\"})})})}),\"\\u5207\\u6362\\u914D\\u7F6E\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" isProd\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"NODE_ENV\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'production'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" dbUrl\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" isProd \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'prod-db-url'\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" :\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'dev-db-url'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"cross-env\"})})})}),\"\\u8DE8\\u5E73\\u53F0\\u8BBE\\u7F6E\\u53D8\\u91CF\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"18-\\u5B9A\\u65F6\\u4EFB\\u52A1\\u7528cron\\u522B\\u624B\\u5199setinterval\",children:(0,l.jsx)(e.a,{href:\"#18-\\u5B9A\\u65F6\\u4EFB\\u52A1\\u7528cron\\u522B\\u624B\\u5199setinterval\",children:\"18. \\u5B9A\\u65F6\\u4EFB\\u52A1\\u7528cron\\uFF0C\\u522B\\u624B\\u5199setInterval\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"node-cron\"})})})}),\"\\u8DD1\\u5B9A\\u65F6\\u4EFB\\u52A1\\uFF0C\\u8BED\\u6CD5\\u6E05\\u6670\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cron\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'node-cron'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"cron.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"schedule\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'0 0 * * *'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6BCF\\u5929\\u51CC\\u6668\\u6E05\\u7406'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u6D4B\\u8BD5\\u7528\\u77ED\\u5468\\u671F\\uFF08\\u5982\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"* * * * *\"})})})}),\"\\uFF09\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"19-\\u8FDB\\u7A0B\\u5B88\\u62A4\\u7528pm2\\u522B\\u88F8\\u8DD1\",children:(0,l.jsx)(e.a,{href:\"#19-\\u8FDB\\u7A0B\\u5B88\\u62A4\\u7528pm2\\u522B\\u88F8\\u8DD1\",children:\"19. \\u8FDB\\u7A0B\\u5B88\\u62A4\\u7528PM2\\uFF0C\\u522B\\u88F8\\u8DD1\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7528PM2\\u7BA1\\u7406\\u8FDB\\u7A0B\\uFF0C\\u652F\\u6301\\u91CD\\u542F\\u3001\\u8D1F\\u8F7D\\u5747\\u8861\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" app.js\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --name\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"my-app\"'}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -i\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 4\"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" # 4\\u4E2A\\u5B9E\\u4F8B\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"pm2 logs\"})})})}),\"\\u67E5\\u5B9E\\u65F6\\u65E5\\u5FD7\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"20-\\u5355\\u5143\\u6D4B\\u8BD5\\u522B\\u5077\\u61D2\",children:(0,l.jsx)(e.a,{href:\"#20-\\u5355\\u5143\\u6D4B\\u8BD5\\u522B\\u5077\\u61D2\",children:\"20. \\u5355\\u5143\\u6D4B\\u8BD5\\u522B\\u5077\\u61D2\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"jest\"})})})}),\"\\u6216\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"mocha\"})})})}),\"\\u5199\\u6D4B\\u8BD5\\uFF0C\\u522B\\u4E0A\\u7EBF\\u4FEEbug\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"add\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./utils/math'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"test\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u52A0\\u6CD5\\u6D4B\\u8BD5'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  expect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toBe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"5\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u8986\\u76D6\\u5173\\u952E\\u8DEF\\u5F84\\u5C31\\u884C\\uFF0C\\u522B\\u8FFD\\u6C42100%\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u96C6\\u7FA4\\u4E0E\\u591A\\u7EBF\\u7A0B\",children:(0,l.jsx)(e.a,{href:\"#\\u96C6\\u7FA4\\u4E0E\\u591A\\u7EBF\\u7A0B\",children:\"\\u96C6\\u7FA4\\u4E0E\\u591A\\u7EBF\\u7A0B\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"21-\\u7528cluster\\u5229\\u7528\\u591A\\u6838cpu\",children:(0,l.jsx)(e.a,{href:\"#21-\\u7528cluster\\u5229\\u7528\\u591A\\u6838cpu\",children:\"21. \\u7528cluster\\u5229\\u7528\\u591A\\u6838CPU\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Node.js\\u5355\\u7EBF\\u7A0B\\u4E0D\\u5403\\u591A\\u6838\\uFF0C\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"cluster\"})})})}),\"\\u8DD1\\u591A\\u4E2A\\u5B9E\\u4F8B\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cluster\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'cluster'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" numCPUs\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'os'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"cpus\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (cluster.isMaster) {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  for\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; i \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" numCPUs; i\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"++\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    cluster.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"fork\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./app'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" PM2\\u81EA\\u5E26\\u96C6\\u7FA4\\u529F\\u80FD\\uFF0C\\u53EF\\u4EE5\\u66FF\\u4EE3\\u624B\\u52A8\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"cluster\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"22-worker-threads\\u8DD1cpu\\u5BC6\\u96C6\\u4EFB\\u52A1\",children:(0,l.jsx)(e.a,{href:\"#22-worker-threads\\u8DD1cpu\\u5BC6\\u96C6\\u4EFB\\u52A1\",children:\"22. Worker Threads\\u8DD1CPU\\u5BC6\\u96C6\\u4EFB\\u52A1\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"CPU\\u5BC6\\u96C6\\u4EFB\\u52A1\\uFF08\\u5982\\u52A0\\u5BC6\\uFF09\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"worker_threads\"})})})}),\"\\u5206\\u62C5\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"Worker\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'worker_threads'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" worker\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Worker\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./heavyTask.js'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"worker.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'message'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"result\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(result));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u4E3B\\u7EBF\\u7A0B\\u522B\\u95F2\\u7740\\uFF0C\\u4EA4\\u7ED9\\u5B83\\u5E72I/O\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"websocket\\u4E0E\\u5B9E\\u65F6\\u901A\\u4FE1\",children:(0,l.jsx)(e.a,{href:\"#websocket\\u4E0E\\u5B9E\\u65F6\\u901A\\u4FE1\",children:\"WebSocket\\u4E0E\\u5B9E\\u65F6\\u901A\\u4FE1\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"23-websocket\\u7528ws\\u5E93\\u7B80\\u5355\\u9AD8\\u6548\",children:(0,l.jsx)(e.a,{href:\"#23-websocket\\u7528ws\\u5E93\\u7B80\\u5355\\u9AD8\\u6548\",children:\"23. WebSocket\\u7528ws\\u5E93\\uFF0C\\u7B80\\u5355\\u9AD8\\u6548\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5B9E\\u65F6\\u901A\\u4FE1\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"ws\"})})})}),\"\\uFF0C\\u522B\\u81EA\\u5DF1\\u9020\\u8F6E\\u5B50\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" WebSocket\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'ws'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" wss\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" WebSocket.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Server\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ port: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"8080\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"wss.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'connection'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ws\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ws.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'message'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"msg\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ws.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`\\u6536\\u5230: ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"msg\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u52A0\\u5FC3\\u8DF3\\u68C0\\u6D4B\\uFF0C\\u907F\\u514D\\u8FDE\\u63A5\\u201C\\u5047\\u6B7B\\u201D\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"24-\\u5FC3\\u8DF3\\u68C0\\u6D4B\\u4FDD\\u8FDE\\u63A5\",children:(0,l.jsx)(e.a,{href:\"#24-\\u5FC3\\u8DF3\\u68C0\\u6D4B\\u4FDD\\u8FDE\\u63A5\",children:\"24. \\u5FC3\\u8DF3\\u68C0\\u6D4B\\u4FDD\\u8FDE\\u63A5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"WebSocket\\u957F\\u65F6\\u95F4\\u4E0D\\u52A8\\u5BB9\\u6613\\u65AD\\uFF0C\\u52A0\\u5FC3\\u8DF3\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setInterval\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  wss.clients.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"ws\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    ws.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'ping'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"30000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u5BA2\\u6237\\u7AEF\\u4E5F\\u5F97\\u914D\\u5408\\u56DE\\u590D\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"pong\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"api\\u8BBE\\u8BA1\",children:(0,l.jsx)(e.a,{href:\"#api\\u8BBE\\u8BA1\",children:\"API\\u8BBE\\u8BA1\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"25-restful\\u98CE\\u683C\\u8981\\u7EDF\\u4E00\",children:(0,l.jsx)(e.a,{href:\"#25-restful\\u98CE\\u683C\\u8981\\u7EDF\\u4E00\",children:\"25. RESTful\\u98CE\\u683C\\u8981\\u7EDF\\u4E00\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"API\\u8DEF\\u5F84\\u548C\\u52A8\\u8BCD\\u8981\\u89C4\\u8303\\uFF0C\\u6BD4\\u5982\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"GET /users\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"POST /users\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(users));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"201\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(newUser));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u7528HTTP\\u72B6\\u6001\\u7801\\uFF08200\\u3001404\\u3001500\\uFF09\\u8868\\u8FBE\\u7ED3\\u679C\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"26-\\u7248\\u672C\\u5316api\\u522B\\u8BA9\\u8001\\u5BA2\\u6237\\u7AEF\\u70B8\\u9505\",children:(0,l.jsx)(e.a,{href:\"#26-\\u7248\\u672C\\u5316api\\u522B\\u8BA9\\u8001\\u5BA2\\u6237\\u7AEF\\u70B8\\u9505\",children:\"26. \\u7248\\u672C\\u5316API\\uFF0C\\u522B\\u8BA9\\u8001\\u5BA2\\u6237\\u7AEF\\u70B8\\u9505\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"API\\u52A0\\u7248\\u672C\\u53F7\\uFF08\\u5982\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/v1/users\"})})})}),\"\\uFF09\\uFF0C\\u907F\\u514D\\u6539\\u52A8\\u5F71\\u54CD\\u65E7\\u7528\\u6237\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/v1'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", v1Router);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/v2'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", v2Router);\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u7528\\u8DEF\\u7531\\u524D\\u7F00\\u7BA1\\u7406\\u7248\\u672C\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"27-\\u8FD4\\u56DE\\u4E00\\u81F4\\u7684\\u54CD\\u5E94\\u7ED3\\u6784\",children:(0,l.jsx)(e.a,{href:\"#27-\\u8FD4\\u56DE\\u4E00\\u81F4\\u7684\\u54CD\\u5E94\\u7ED3\\u6784\",children:\"27. \\u8FD4\\u56DE\\u4E00\\u81F4\\u7684\\u54CD\\u5E94\\u7ED3\\u6784\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7EDF\\u4E00API\\u8FD4\\u56DE\\u683C\\u5F0F\\uFF0C\\u5BA2\\u6237\\u7AEF\\u597D\\u89E3\\u6790\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(status).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ code: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", data, message: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'success'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" response\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(res, users));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u51FA\\u9519\\u65F6\\u52A0\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"code\"})})})}),\"\\u548C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"message\"})})})}),\"\\uFF0C\\u522B\\u53EA\\u4E22\\u6570\\u636E\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u6570\\u636E\\u5904\\u7406\",children:(0,l.jsx)(e.a,{href:\"#\\u6570\\u636E\\u5904\\u7406\",children:\"\\u6570\\u636E\\u5904\\u7406\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"28-\\u7528joi\\u6216zod\\u6821\\u9A8C\\u8F93\\u5165\",children:(0,l.jsx)(e.a,{href:\"#28-\\u7528joi\\u6216zod\\u6821\\u9A8C\\u8F93\\u5165\",children:\"28. \\u7528Joi\\u6216Zod\\u6821\\u9A8C\\u8F93\\u5165\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u522B\\u624B\\u5199\\u6821\\u9A8C\\u903B\\u8F91\\uFF0C\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Joi\"})})})}),\"\\u6216\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"Zod\"})})})}),\"\\u786E\\u4FDD\\u8F93\\u5165\\u5408\\u6CD5\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Joi\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'joi'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" schema\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Joi.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"object\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  username: Joi.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"string\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"min\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"required\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" schema.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"validate\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ username: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'ab'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"throw\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(error.message);\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u6821\\u9A8C\\u653E\\u4E2D\\u95F4\\u4EF6\\uFF0C\\u4FDD\\u6301\\u63A7\\u5236\\u5668\\u5E72\\u51C0\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"29-\\u5E8F\\u5217\\u5316\\u5927\\u6570\\u636E\\u522B\\u76F4\\u63A5jsonstringify\",children:(0,l.jsx)(e.a,{href:\"#29-\\u5E8F\\u5217\\u5316\\u5927\\u6570\\u636E\\u522B\\u76F4\\u63A5jsonstringify\",children:\"29. \\u5E8F\\u5217\\u5316\\u5927\\u6570\\u636E\\uFF0C\\u522B\\u76F4\\u63A5JSON.stringify\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5927\\u6570\\u636E\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"JSONStream\"})})})}),\"\\u5E8F\\u5217\\u5316\\uFF0C\\u8282\\u7701\\u5185\\u5B58\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" JSONStream\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'JSONStream'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" stream\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" JSONStream.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"stream.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pipe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(res);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" stream.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"write\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(item));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"stream.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"end\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u9002\\u5408\\u8D85\\u5927\\u6570\\u7EC4\\u6216\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u4F9D\\u8D56\\u7BA1\\u7406\",children:(0,l.jsx)(e.a,{href:\"#\\u4F9D\\u8D56\\u7BA1\\u7406\",children:\"\\u4F9D\\u8D56\\u7BA1\\u7406\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"30-\\u9501\\u5B9A\\u4F9D\\u8D56\\u7248\\u672C\\u522B\\u88AB\\u60CA\\u559C\\u5751\",children:(0,l.jsx)(e.a,{href:\"#30-\\u9501\\u5B9A\\u4F9D\\u8D56\\u7248\\u672C\\u522B\\u88AB\\u60CA\\u559C\\u5751\",children:\"30. \\u9501\\u5B9A\\u4F9D\\u8D56\\u7248\\u672C\\uFF0C\\u522B\\u88AB\\u201C\\u60CA\\u559C\\u201D\\u5751\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"package-lock.json\"})})})}),\"\\u6216\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"yarn.lock\"})})})}),\"\\u9501\\u5B9A\\u7248\\u672C\\u3002\"]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u66F4\\u65B0\\u4F9D\\u8D56\\u524D\\u8DD1\\u6D4B\\u8BD5\\uFF0C\\u522B\\u76F4\\u63A5\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"npm update\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"31-\\u6E05\\u7406\\u65E0\\u7528\\u4F9D\\u8D56\\u522B\\u80CC\\u5305\\u88B1\",children:(0,l.jsx)(e.a,{href:\"#31-\\u6E05\\u7406\\u65E0\\u7528\\u4F9D\\u8D56\\u522B\\u80CC\\u5305\\u88B1\",children:\"31. \\u6E05\\u7406\\u65E0\\u7528\\u4F9D\\u8D56\\uFF0C\\u522B\\u80CC\\u5305\\u88B1\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"depcheck\"})})})}),\"\\u627E\\u51FA\\u6CA1\\u7528\\u7684\\u5305\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npx\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" depcheck\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u5B9A\\u671F\\u6E05\\u7406\\uFF0C\\u9879\\u76EE\\u8F7B\\u91CF\\u5316\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u5DE5\\u5177\\u4E0E\\u751F\\u6001\",children:(0,l.jsx)(e.a,{href:\"#\\u5DE5\\u5177\\u4E0E\\u751F\\u6001\",children:\"\\u5DE5\\u5177\\u4E0E\\u751F\\u6001\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"32-\\u7528typescript\\u52A0\\u7C7B\\u578B\\u5B89\\u5168\",children:(0,l.jsx)(e.a,{href:\"#32-\\u7528typescript\\u52A0\\u7C7B\\u578B\\u5B89\\u5168\",children:\"32. \\u7528TypeScript\\u52A0\\u7C7B\\u578B\\u5B89\\u5168\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Node.js\\u652F\\u6301TypeScript\\uFF0C\\u51CF\\u5C11\\u8FD0\\u884C\\u65F6\\u9519\\u8BEF\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"interface\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" User\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  id\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" number\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  name\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" getUser\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"id\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" number\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" User\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({ id, name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6653\\u9F99'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u9010\\u6B65\\u8FC1\\u79FB\\uFF0C\\u522B\\u4E00\\u53E3\\u6C14\\u5168\\u6539\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"33-\\u7528eslint\\u89C4\\u8303\\u4EE3\\u7801\",children:(0,l.jsx)(e.a,{href:\"#33-\\u7528eslint\\u89C4\\u8303\\u4EE3\\u7801\",children:\"33. \\u7528ESLint\\u89C4\\u8303\\u4EE3\\u7801\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7528ESLint\\u7EDF\\u4E00\\u56E2\\u961F\\u98CE\\u683C\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npx\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" eslint\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" .\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --fix\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u52A0Prettier\\u4E00\\u8D77\\u7528\\uFF0C\\u7701\\u5FC3\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u751F\\u4EA7\\u73AF\\u5883\",children:(0,l.jsx)(e.a,{href:\"#\\u751F\\u4EA7\\u73AF\\u5883\",children:\"\\u751F\\u4EA7\\u73AF\\u5883\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"34-\\u538B\\u7F29\\u54CD\\u5E94\\u8282\\u7701\\u5E26\\u5BBD\",children:(0,l.jsx)(e.a,{href:\"#34-\\u538B\\u7F29\\u54CD\\u5E94\\u8282\\u7701\\u5E26\\u5BBD\",children:\"34. \\u538B\\u7F29\\u54CD\\u5E94\\uFF0C\\u8282\\u7701\\u5E26\\u5BBD\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"compression\"})})})}),\"\\u4E2D\\u95F4\\u4EF6\\u538B\\u7F29HTTP\\u54CD\\u5E94\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" compression\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'compression'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"compression\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u9759\\u6001\\u8D44\\u6E90\\u4E5F gzip \\u4E00\\u4E0B\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"35-\\u52A0helmet\\u9632\\u5E38\\u89C1\\u653B\\u51FB\",children:(0,l.jsx)(e.a,{href:\"#35-\\u52A0helmet\\u9632\\u5E38\\u89C1\\u653B\\u51FB\",children:\"35. \\u52A0Helmet\\u9632\\u5E38\\u89C1\\u653B\\u51FB\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"helmet\"})})})}),\"\\u8BBE\\u7F6E\\u5B89\\u5168\\u5934\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" helmet\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'helmet'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"helmet\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u9ED8\\u8BA4\\u914D\\u7F6E\\u5DF2\\u5F88\\u5F3A\\uFF0C\\u7279\\u6B8A\\u9700\\u6C42\\u518D\\u8C03\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"36-\\u9650\\u6D41\\u9632\\u5237\\u522B\\u88AB\\u6D2A\\u6C34\\u6DF9\",children:(0,l.jsx)(e.a,{href:\"#36-\\u9650\\u6D41\\u9632\\u5237\\u522B\\u88AB\\u6D2A\\u6C34\\u6DF9\",children:\"36. \\u9650\\u6D41\\u9632\\u5237\\uFF0C\\u522B\\u88AB\\u201C\\u6D2A\\u6C34\\u201D\\u6DF9\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express-rate-limit\"})})})}),\"\\u9650\\u5236\\u8BF7\\u6C42\\u9891\\u7387\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" rateLimit\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express-rate-limit'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rateLimit\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ windowMs: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"15\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 60\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", max: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u6309IP\\u6216\\u7528\\u6237\\u9650\\u6D41\\uFF0C\\u770B\\u4E1A\\u52A1\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u8FDB\\u9636\\u6280\\u5DE7\",children:(0,l.jsx)(e.a,{href:\"#\\u8FDB\\u9636\\u6280\\u5DE7\",children:\"\\u8FDB\\u9636\\u6280\\u5DE7\"})}),`\n`,(0,l.jsx)(e.h3,{id:\"37-\\u7528eventemitter\\u89E3\\u8026\",children:(0,l.jsx)(e.a,{href:\"#37-\\u7528eventemitter\\u89E3\\u8026\",children:\"37. \\u7528EventEmitter\\u89E3\\u8026\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u590D\\u6742\\u903B\\u8F91\\u7528\\u4E8B\\u4EF6\\u9A71\\u52A8\\u89E3\\u8026\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" EventEmitter\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'events'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" emitter\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" EventEmitter\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"emitter.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'userCreated'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"user\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(user));\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"emitter.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"emit\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'userCreated'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { id: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u522B\\u6EE5\\u7528\\uFF0C\\u5C0F\\u9879\\u76EE\\u591F\\u7B80\\u5355\\u5C31\\u597D\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"38-\\u52A0graceful-shutdown\\u4F18\\u96C5\\u5173\\u95ED\",children:(0,l.jsx)(e.a,{href:\"#38-\\u52A0graceful-shutdown\\u4F18\\u96C5\\u5173\\u95ED\",children:\"38. \\u52A0Graceful Shutdown\\u4F18\\u96C5\\u5173\\u95ED\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u670D\\u52A1\\u5173\\u95ED\\u65F6\\u5904\\u7406\\u672A\\u5B8C\\u6210\\u4EFB\\u52A1\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"process.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'SIGTERM'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  server.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"close\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u670D\\u52A1\\u5173\\u95ED'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    process.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"exit\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u4E5F\\u8981\\u5173\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"39-\\u76D1\\u63A7\\u6027\\u80FD\\u7528prometheus\",children:(0,l.jsx)(e.a,{href:\"#39-\\u76D1\\u63A7\\u6027\\u80FD\\u7528prometheus\",children:\"39. \\u76D1\\u63A7\\u6027\\u80FD\\uFF0C\\u7528Prometheus\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"prom-client\"})})})}),\"\\u6536\\u96C6\\u6307\\u6807\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" client\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'prom-client'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" counter\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" client.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Counter\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  name: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'requests_total'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  help: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u603B\\u8BF7\\u6C42\\u6570'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  counter.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"inc\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u914D\\u5408Grafana\\u53EF\\u89C6\\u5316\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h3,{id:\"40-\\u6587\\u6863\\u5316api\\u522B\\u8BA9\\u961F\\u53CB\\u9A82\",children:(0,l.jsx)(e.a,{href:\"#40-\\u6587\\u6863\\u5316api\\u522B\\u8BA9\\u961F\\u53CB\\u9A82\",children:\"40. \\u6587\\u6863\\u5316API\\uFF0C\\u522B\\u8BA9\\u961F\\u53CB\\u9A82\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"swagger-jsdoc\"})})})}),\"\\u751F\\u6210API\\u6587\\u6863\\u3002\"]}),`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:\"\\u793A\\u4F8B\\uFF1A\"})}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"/**\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" * \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"@swagger\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" * /users:\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" *   get:\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" *     description: \\u83B7\\u53D6\\u7528\\u6237\\u5217\\u8868\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" *     responses:\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" *       200:\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" *         description: \\u6210\\u529F\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\" */\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(users));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips:\"}),\" \\u5199\\u6587\\u6863\\u65F6\\u60F3\\u60F3\\u961F\\u53CB\\uFF0C\\u522B\\u5077\\u61D2\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u7ED3\\u8BED\",children:(0,l.jsx)(e.a,{href:\"#\\u7ED3\\u8BED\",children:\"\\u7ED3\\u8BED\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Node.js\\u662F\\u4E2A\\u7075\\u6D3B\\u7684\\u201C\\u4E07\\u91D1\\u6CB9\\u201D\\uFF0C\\u4F46\\u7075\\u6D3B\\u4E5F\\u610F\\u5473\\u7740\\u5BB9\\u6613\\u7FFB\\u8F66\\u3002\\u8FD940\\u4E2A\\u6700\\u4F73\\u5B9E\\u8DF5\\u662F\\u6211\\u8E29\\u5751\\u591A\\u5E74\\u7684\\u5FC3\\u8840\\u603B\\u7ED3\\uFF0C\\u4ECE\\u57FA\\u7840\\u5230\\u8FDB\\u9636\\uFF0C\\u5E0C\\u671B\\u80FD\\u5E2E\\u4F60\\u5728Node.js\\u4E16\\u754C\\u91CC\\u6E38\\u5203\\u6709\\u4F59\\u3002\\u4EE3\\u7801\\u5982\\u4EBA\\u751F\\uFF0C\\u65E2\\u8981\\u6548\\u7387\\uFF0C\\u4E5F\\u8981\\u4F18\\u96C5\\u3002\\u6709\\u4EC0\\u4E48\\u95EE\\u9898\\u6216\\u5EFA\\u8BAE\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u5207\\u78CB\\uFF01\\u270C\\uFE0F\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}return f(k);})();\n;return Component;"
  },
  "_id": "Node.js/40ä¸ªNodeæœ€ä½³å®è·µ.mdx",
  "_raw": {
    "sourceFilePath": "Node.js/40ä¸ªNodeæœ€ä½³å®è·µ.mdx",
    "sourceFileName": "40ä¸ªNodeæœ€ä½³å®è·µ.mdx",
    "sourceFileDir": "Node.js",
    "contentType": "mdx",
    "flattenedPath": "Node.js/40ä¸ªNodeæœ€ä½³å®è·µ"
  },
  "type": "Post",
  "url": "/blog/Node.js/40ä¸ªNodeæœ€ä½³å®è·µ"
}
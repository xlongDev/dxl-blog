{
  "title": "å¦‚ä½•å®ç°å°çº¢ä¹¦ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨ï¼Ÿ",
  "date": "2024-02-21T00:00:00.000Z",
  "description": "æ·±å…¥å‰–æå°çº¢ä¹¦ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨çš„å®ç°åŸç†ï¼Œå¸¦ä½ ä»é›¶æ‰“é€ ä¸€ä¸ªé«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å‰ç«¯ç»„ä»¶ï¼Œé€‚åˆä¸­é«˜çº§å‰ç«¯å¼€å‘è€…ã€‚",
  "keywords": "ç€‘å¸ƒæµ, è™šæ‹Ÿåˆ—è¡¨, å°çº¢ä¹¦, å‰ç«¯æ€§èƒ½ä¼˜åŒ–, React, JavaScript, æ»šåŠ¨ä¼˜åŒ–, DOM ç®¡ç†",
  "author": "æ™“é¾™",
  "image": "/images/hero/waterfall-virtual-list.jpg",
  "tags": [
    "å‰ç«¯å¼€å‘",
    "React",
    "æ€§èƒ½ä¼˜åŒ–",
    "è™šæ‹Ÿåˆ—è¡¨"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\nå¦‚æœä½ ç”¨è¿‡å°çº¢ä¹¦ï¼Œé‚£ä¸€å®šå¯¹å®ƒçš„ç€‘å¸ƒæµå¸ƒå±€å°è±¡æ·±åˆ»ï¼šä¸€åˆ—åˆ—å†…å®¹å¡ç‰‡é”™è½æœ‰è‡´åœ°æ’åˆ—ï¼Œæ»‘åŠ¨æ—¶ä¸æ»‘æ— æ¯”ï¼Œå“ªæ€•æ•°æ®é‡å†å¤§ä¹Ÿä¸ä¼šå¡é¡¿ã€‚è¿™æ ·çš„ä½“éªŒèƒŒåï¼Œç¦»ä¸å¼€è™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtual Listï¼‰çš„åŠ æŒã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥èŠèŠå¦‚ä½•ç”¨å‰ç«¯æŠ€æœ¯å®ç°ä¸€ä¸ªâ€œå°çº¢ä¹¦é£â€çš„ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨ï¼Œæ·±å…¥åŸç†ï¼Œå¸¦ä¸Šä»£ç ï¼Œè¿˜ä¼šèŠèŠæˆ‘åœ¨å®ç°è¿‡ç¨‹ä¸­çš„ä¸€äº›â€œè¸©å‘å¿ƒå¾—â€âœ¨ã€‚\n\nè¿™ç¯‡æ–‡ç« çš„ç›®æ ‡è¯»è€…æ˜¯ä¸­é«˜çº§å‰ç«¯å¼€å‘è€…ï¼Œæ‰€ä»¥æˆ‘ä¼šå°½é‡æŠŠå†…å®¹è®²å¾—æ·±å…¥ä¸”å®ç”¨ï¼Œæ—¢æœ‰ç†è®ºå‰–æï¼Œä¹Ÿæœ‰ä»£ç å®æˆ˜ï¼Œè¿˜ä¼šå¤¹æ‚ä¸€äº›ç±»æ¯”å’Œæœ€ä½³å®è·µã€‚å¦‚æœä½ æ˜¯ä¸ªè¿½æ±‚æè‡´æ€§èƒ½çš„å‰ç«¯â€œè€å¸æœºâ€ï¼Œé‚£å°±ç³»å¥½å®‰å…¨å¸¦ï¼Œå’±ä»¬å¼€å§‹å§ï¼ğŸš—\n\n---\n\n## ä»€ä¹ˆæ˜¯ç€‘å¸ƒæµå’Œè™šæ‹Ÿåˆ—è¡¨ï¼Ÿ\n\nåœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆææ¸…æ¥šä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚\n\n### ç€‘å¸ƒæµï¼ˆWaterfall Layoutï¼‰\nç€‘å¸ƒæµæ˜¯ä¸€ç§å¤šåˆ—å¸ƒå±€ï¼Œå†…å®¹ä»¥å¡ç‰‡å½¢å¼æ’åˆ—ï¼Œæ¯åˆ—é«˜åº¦ä¸å›ºå®šï¼Œæ–°çš„å¡ç‰‡ä¼šå¡«å……åˆ°å½“å‰æœ€çŸ­çš„é‚£ä¸€åˆ—ã€‚å°çº¢ä¹¦çš„é¦–é¡µå°±æ˜¯ç»å…¸æ¡ˆä¾‹ï¼šå›¾æ–‡æ··æ’ï¼Œæ»‘åŠ¨æ—¶åƒç€‘å¸ƒä¸€æ ·â€œæµæ·Œâ€ä¸‹æ¥ã€‚ç›¸æ¯”ä¼ ç»Ÿçš„ç½‘æ ¼å¸ƒå±€ï¼Œç€‘å¸ƒæµæ›´çµæ´»ï¼Œèƒ½æœ€å¤§åŒ–åˆ©ç”¨å±å¹•ç©ºé—´ã€‚\n\n### è™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtual Listï¼‰\nè™šæ‹Ÿåˆ—è¡¨æ˜¯ä¸€ç§æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœå°çº¢ä¹¦æ¯æ¬¡åŠ è½½å‡ åƒæ¡å¸–å­éƒ½ç›´æ¥æ¸²æŸ“åˆ° DOMï¼Œæµè§ˆå™¨æ—©å°±â€œå–˜ä¸è¿‡æ°”â€äº†ã€‚è™šæ‹Ÿåˆ—è¡¨çš„æ€è·¯å¾ˆç®€å•ï¼š**åªæ¸²æŸ“å¯è§†åŒºåŸŸçš„å…ƒç´ ï¼Œå…¶ä»–éƒ¨åˆ†åŠ¨æ€è®¡ç®—ä½ç½®ï¼ŒæŒ‰éœ€åŠ è½½**ã€‚è¿™å°±åƒä½ åœ¨è¶…å¸‚è´­ç‰©ï¼Œåªæ‹¿çœ¼å‰çš„è´§æ¶ä¸Šçš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯æŠŠæ•´ä¸ªä»“åº“æ¬å›å®¶ã€‚\n\n### ä¸¤è€…çš„ç»“åˆ\nå°çº¢ä¹¦çš„ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨ï¼Œå°±æ˜¯æŠŠè¿™ä¸¤è€…â€œç»“å©šâ€äº†ï¼šæ—¢æœ‰ç€‘å¸ƒæµçš„è§†è§‰æ•ˆæœï¼Œåˆç”¨è™šæ‹Ÿåˆ—è¡¨ä¿è¯æ€§èƒ½ã€‚å¬èµ·æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹åƒâ€œæ—¢è¦é©¬å„¿è·‘ï¼Œåˆè¦é©¬å„¿ä¸åƒè‰â€ï¼Ÿåˆ«æ€¥ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€æ­¥æ­¥æ‹†è§£å®ç°è¿‡ç¨‹ã€‚\n\n---\n\n## å®ç°åŸç†å‰–æ\n\nå®ç°ä¸€ä¸ªç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨ï¼Œæ ¸å¿ƒåˆ†ä¸ºä¸‰ä¸ªé—®é¢˜ï¼š\n1. **å¦‚ä½•è®¡ç®—ç€‘å¸ƒæµçš„å¸ƒå±€ï¼Ÿ**ï¼ˆå¡ç‰‡ä½ç½®ã€é«˜åº¦ç®¡ç†ï¼‰\n2. **å¦‚ä½•å®ç°è™šæ‹Ÿæ»šåŠ¨ï¼Ÿ**ï¼ˆåªæ¸²æŸ“å¯è§†åŒºåŸŸï¼‰\n3. **å¦‚ä½•ä¼˜åŒ–æ€§èƒ½ï¼Ÿ**ï¼ˆé˜²æŠ–ã€ç¼“å­˜ã€è¾¹ç•Œå¤„ç†ï¼‰\n\nå’±ä»¬ä¸€ä¸ªä¸€ä¸ªæ¥ã€‚\n\n### 1. ç€‘å¸ƒæµå¸ƒå±€çš„è®¡ç®—\nç€‘å¸ƒæµçš„å…³é”®æ˜¯åŠ¨æ€åˆ†é…å¡ç‰‡åˆ°æœ€çŸ­çš„é‚£ä¸€åˆ—ã€‚æˆ‘ä»¬éœ€è¦ï¼š\n- ä¸€ä¸ªå®¹å™¨ï¼Œå®½åº¦å›ºå®šï¼Œåˆ†ä¸º N åˆ—ï¼ˆæ¯”å¦‚å°çº¢ä¹¦é€šå¸¸æ˜¯ 2 åˆ—ï¼‰ã€‚\n- æ¯å¼ å¡ç‰‡çš„å®½åº¦å›ºå®šï¼Œé«˜åº¦åŠ¨æ€ï¼ˆå› ä¸ºå†…å®¹å¯èƒ½æ˜¯å›¾ç‰‡ã€æ–‡å­—æˆ–è§†é¢‘ï¼‰ã€‚\n- ä¸€ä¸ªç®—æ³•ï¼Œå®æ—¶è¿½è¸ªæ¯åˆ—çš„é«˜åº¦ï¼Œå†³å®šæ–°å¡ç‰‡æ”¾å“ªä¸€åˆ—ã€‚\n\nå‡è®¾å®¹å™¨å®½åº¦æ˜¯ `800px`ï¼Œåˆ†æˆ 2 åˆ—ï¼Œæ¯åˆ— `400px`ï¼Œå¡ç‰‡å®½åº¦ä¹Ÿæ˜¯ `400px`ï¼Œé«˜åº¦éšæœºã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„ `columnHeights` æ¥è®°å½•æ¯åˆ—å½“å‰çš„é«˜åº¦ï¼Œæ¯”å¦‚ `[100, 150]` è¡¨ç¤ºç¬¬ä¸€åˆ—é«˜ 100pxï¼Œç¬¬äºŒåˆ—é«˜ 150pxã€‚æ–°å¡ç‰‡æ¥äº†ï¼Œå°±æ‰¾ `columnHeights` ä¸­æœ€å°å€¼çš„é‚£ä¸€åˆ—å¡è¿›å»ã€‚\n\n### 2. è™šæ‹Ÿæ»šåŠ¨çš„æ ¸å¿ƒ\nè™šæ‹Ÿåˆ—è¡¨çš„æ ¸å¿ƒæ˜¯â€œå‡è£…æ¸²æŸ“æ‰€æœ‰å†…å®¹ï¼Œä½†å®é™…ä¸Šåªæ¸²æŸ“ä¸€å°éƒ¨åˆ†â€ã€‚å…·ä½“æ­¥éª¤ï¼š\n- è®¡ç®—å®¹å™¨æ€»é«˜åº¦ï¼ˆæ‰€æœ‰å¡ç‰‡é«˜åº¦ä¹‹å’Œï¼‰ã€‚\n- ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œè·å–å½“å‰æ»šåŠ¨ä½ç½® `scrollTop` å’Œå¯è§†åŒºåŸŸé«˜åº¦ `clientHeight`ã€‚\n- æ ¹æ®æ»šåŠ¨ä½ç½®ï¼Œç®—å‡ºå¯è§†åŒºåŸŸåº”è¯¥æ˜¾ç¤ºå“ªäº›å¡ç‰‡ï¼ˆèµ·å§‹ç´¢å¼•å’Œç»“æŸç´¢å¼•ï¼‰ã€‚\n- åªæ¸²æŸ“è¿™äº›å¡ç‰‡ï¼Œå…¶ä»–éƒ¨åˆ†ç”¨ç©ºç™½å ä½ç¬¦æ’‘å¼€ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾æœ‰ 1000 å¼ å¡ç‰‡ï¼Œæ¯å¼ å¹³å‡é«˜åº¦ 200pxï¼Œæ€»é«˜åº¦å°±æ˜¯ `200 * 1000 = 200,000px`ã€‚å¯è§†åŒºåŸŸé«˜åº¦æ˜¯ 800pxï¼Œé‚£ä¹ˆä¸€æ¬¡æœ€å¤šæ¸²æŸ“ `800 / 200 = 4` å¼ å¡ç‰‡ï¼Œå¤–åŠ ä¸€ç‚¹ç¼“å†²åŒºï¼ˆæ¯”å¦‚å‰åå„å¤šæ¸²æŸ“ 2 å¼ ï¼Œæ€»å…± 8 å¼ ï¼‰ã€‚æ»‘åŠ¨æ—¶ï¼ŒåŠ¨æ€æ›´æ–°è¿™ 8 å¼ å¡ç‰‡çš„ç´¢å¼•ã€‚\n\n### 3. æ€§èƒ½ä¼˜åŒ–çš„â€œé”¦ä¸Šæ·»èŠ±â€\nå…‰æœ‰å¸ƒå±€å’Œè™šæ‹Ÿæ»šåŠ¨è¿˜ä¸å¤Ÿï¼Œç»†èŠ‚å†³å®šæˆè´¥ï¼š\n- **é˜²æŠ–ï¼ˆDebounceï¼‰**ï¼šæ»šåŠ¨äº‹ä»¶è§¦å‘å¤ªé¢‘ç¹ï¼Œç”¨é˜²æŠ–å‡å°‘è®¡ç®—ã€‚\n- **ç¼“å­˜é«˜åº¦**ï¼šå¡ç‰‡é«˜åº¦å¦‚æœåŠ¨æ€è®¡ç®—å¤ªè€—æ—¶ï¼Œå¯ä»¥æå‰ç¼“å­˜ã€‚\n- **è¾¹ç•Œå¤„ç†**ï¼šé¿å…æ»šåŠ¨åˆ°é¡¶éƒ¨æˆ–åº•éƒ¨æ—¶å‡ºç°ç©ºç™½ã€‚\n\nå¥½äº†ï¼ŒåŸç†è®²å®Œäº†ï¼Œæ¥ä¸‹æ¥å’±ä»¬ç›´æ¥ä¸Šæ‰‹å†™ä»£ç ï¼ğŸ› ï¸\n\n---\n\n## ä»£ç å®æˆ˜ï¼šReact å®ç°\n\næˆ‘é€‰æ‹©ç”¨ React æ¥å®ç°ï¼Œå› ä¸ºå®ƒçš„å°çº¢ä¹¦å‰ç«¯æŠ€æœ¯æ ˆå¤§æ¦‚ç‡ä¹Ÿæ˜¯ Reactï¼ˆåˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„ï¼Œé—®å°±æ˜¯â€œçŒœçš„â€ğŸ˜ï¼‰ã€‚å’±ä»¬ä»é›¶å¼€å§‹ï¼Œç›®æ ‡æ˜¯å®ç°ä¸€ä¸ªå¯å¤ç”¨çš„ `WaterfallVirtualList` ç»„ä»¶ã€‚\n\n### é¡¹ç›®ç»“æ„\n```\nsrc/\nâ”œâ”€â”€ components/\nâ”‚   â””â”€â”€ WaterfallVirtualList.jsx\nâ”œâ”€â”€ App.jsx\nâ””â”€â”€ data.js  // æ¨¡æ‹Ÿæ•°æ®\n```\n\n### 1. å‡†å¤‡æ¨¡æ‹Ÿæ•°æ®\nå…ˆåœ¨ `data.js` é‡Œå‡†å¤‡ä¸€äº›å‡æ•°æ®ï¼Œæ¨¡æ‹Ÿå°çº¢ä¹¦çš„å¸–å­ï¼š\n\n```javascript\n// data.js\nexport const mockData = Array.from({ length: 1000 }, (_, index) => ({\n  id: index,\n  height: Math.floor(Math.random() * 200) + 100, // éšæœºé«˜åº¦ 100-300px\n  content: `å¸–å­ #${index} - è¿™æ˜¯ä¸€æ¡å¾ˆæ£’çš„å†…å®¹`,\n}));\n```\n\n### 2. å®ç° WaterfallVirtualList ç»„ä»¶\nä¸‹é¢æ˜¯æ ¸å¿ƒä»£ç ï¼Œå¸¦è¯¦ç»†æ³¨é‡Šï¼š\n\n```jsx\n// components/WaterfallVirtualList.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport './WaterfallVirtualList.css';\n\nconst WaterfallVirtualList = ({ items, columnCount = 2, itemWidth = 400 }) => {\n  const containerRef = useRef(null);\n  const [visibleItems, setVisibleItems] = useState([]);\n  const [columnHeights, setColumnHeights] = useState(\n    Array(columnCount).fill(0)\n  );\n  const [totalHeight, setTotalHeight] = useState(0);\n\n  // è®¡ç®—ç€‘å¸ƒæµå¸ƒå±€\n  const calculateLayout = (items) => {\n    const positions = [];\n    const heights = Array(columnCount).fill(0);\n\n    items.forEach((item) => {\n      const minHeightIndex = heights.indexOf(Math.min(...heights));\n      const left = minHeightIndex * itemWidth;\n      const top = heights[minHeightIndex];\n      positions.push({ ...item, left, top });\n      heights[minHeightIndex] += item.height;\n    });\n\n    setColumnHeights(heights);\n    setTotalHeight(Math.max(...heights));\n    return positions;\n  };\n\n  // å¤„ç†æ»šåŠ¨äº‹ä»¶\n  const handleScroll = () => {\n    if (!containerRef.current) return;\n\n    const { scrollTop, clientHeight } = containerRef.current;\n    const allPositions = calculateLayout(items);\n\n    // è®¡ç®—å¯è§†åŒºåŸŸçš„èµ·å§‹å’Œç»“æŸç´¢å¼•\n    const buffer = 2; // ä¸Šä¸‹ç¼“å†²åŒº\n    const startIndex = Math.max(\n      0,\n      allPositions.findIndex((pos) => pos.top + pos.height >= scrollTop) - buffer\n    );\n    const endIndex = Math.min(\n      items.length,\n      allPositions.findIndex((pos) => pos.top > scrollTop + clientHeight) +\n        buffer || items.length\n    );\n\n    setVisibleItems(allPositions.slice(startIndex, endIndex));\n  };\n\n  // åˆå§‹åŒ–å’Œç›‘å¬æ»šåŠ¨\n  useEffect(() => {\n    handleScroll();\n    const container = containerRef.current;\n    container.addEventListener('scroll', debounce(handleScroll, 16)); // 60fps\n    return () => container.removeEventListener('scroll', handleScroll);\n  }, [items]);\n\n  // é˜²æŠ–å‡½æ•°\n  const debounce = (fn, delay) => {\n    let timer;\n    return (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => fn(...args), delay);\n    };\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"waterfall-container\"\n      style={{ height: '800px', overflowY: 'auto' }}\n    >\n      <div\n        className=\"waterfall-wrapper\"\n        style={{ height: `${totalHeight}px`, position: 'relative' }}\n      >\n        {visibleItems.map((item) => (\n          <div\n            key={item.id}\n            className=\"waterfall-item\"\n            style={{\n              position: 'absolute',\n              left: `${item.left}px`,\n              top: `${item.top}px`,\n              width: `${itemWidth}px`,\n              height: `${item.height}px`,\n            }}\n          >\n            {item.content}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default WaterfallVirtualList;\n```\n\n### 3. æ·»åŠ æ ·å¼\nåœ¨ `WaterfallVirtualList.css` ä¸­ï¼š\n\n```css\n.waterfall-container {\n  width: 800px;\n  margin: 0 auto;\n  border: 1px solid #eee;\n}\n\n.waterfall-item {\n  background: #f9f9f9;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n}\n\n.waterfall-item:hover {\n  background: #e0f7fa;\n}\n```\n\n### 4. ä½¿ç”¨ç»„ä»¶\nåœ¨ `App.jsx` ä¸­è°ƒç”¨ï¼š\n\n```jsx\n// App.jsx\nimport React from 'react';\nimport WaterfallVirtualList from './components/WaterfallVirtualList';\nimport { mockData } from './data';\n\nconst App = () => {\n  return (\n    <div>\n      <h1>å°çº¢ä¹¦ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨ Demo</h1>\n      <WaterfallVirtualList items={mockData} />\n    </div>\n  );\n};\n\nexport default App;\n```\n\n### è¿è¡Œæ•ˆæœ\nå¯åŠ¨é¡¹ç›®åï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªä¸¤åˆ—çš„ç€‘å¸ƒæµï¼Œæ»‘åŠ¨æ—¶åªæœ‰å¯è§†åŒºåŸŸçš„å¡ç‰‡è¢«æ¸²æŸ“ï¼Œæ€»é«˜åº¦ç”± `totalHeight` æ’‘å¼€ã€‚ä¸æ»‘å¾—åƒåˆšå‰¥äº†çš®çš„é¸¡è›‹ğŸ¥šï¼\n\n---\n\n## æœ€ä½³å®è·µä¸ä¼˜åŒ–\n\nå®ç°äº†ä¸€ä¸ªåŸºç¡€ç‰ˆæœ¬ï¼Œä½†ç¦»â€œå°çº¢ä¹¦çº§åˆ«â€è¿˜æœ‰å·®è·ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å®ç”¨å»ºè®®ï¼š\n\n### 1. é«˜åº¦é¢„è®¡ç®—ä¸ç¼“å­˜\nä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¡ç‰‡é«˜åº¦æ˜¯å›ºå®šçš„ï¼Œä½†åœ¨çœŸå®åœºæ™¯ä¸­ï¼Œå›¾ç‰‡åŠ è½½åé«˜åº¦æ‰ç¡®å®šã€‚å¯ä»¥ç”¨ `useRef` å’Œ `IntersectionObserver` æå‰æµ‹é‡é«˜åº¦ï¼Œå­˜åˆ°ç¼“å­˜é‡Œï¼Œé¿å…é‡å¤è®¡ç®—ã€‚\n\n```javascript\nconst heightCache = new Map();\nconst measureHeight = (itemId, ref) => {\n  if (!heightCache.has(itemId) && ref.current) {\n    heightCache.set(itemId, ref.current.offsetHeight);\n  }\n};\n```\n\n### 2. åŠ¨æ€åˆ—æ•°\nå°çº¢ä¹¦åœ¨ä¸åŒè®¾å¤‡ä¸Šåˆ—æ•°ä¼šå˜ï¼ˆæ‰‹æœº 2 åˆ—ï¼Œå¹³æ¿ 3 åˆ—ï¼‰ã€‚å¯ä»¥ç”¨ `window.innerWidth` å’Œåª’ä½“æŸ¥è¯¢åŠ¨æ€è°ƒæ•´ `columnCount`ã€‚\n\n### 3. å›¾ç‰‡æ‡’åŠ è½½\né…åˆ `loading=\"lazy\"` æˆ–è‡ªå®šä¹‰æ‡’åŠ è½½é€»è¾‘ï¼ŒåªåŠ è½½å¯è§†åŒºåŸŸçš„å›¾ç‰‡ï¼ŒèŠ‚çœå¸¦å®½ã€‚\n\n### 4. æ€§èƒ½ç›‘æ§\nç”¨ Chrome DevTools çš„ Performance é¢æ¿åˆ†ææ¸²æŸ“æ—¶é—´ã€‚å¦‚æœå‘ç°å¡é¡¿ï¼Œå¯èƒ½æ˜¯æ»šåŠ¨äº‹ä»¶çš„ç›‘å¬å¤ªé¢‘ç¹ï¼Œè€ƒè™‘ç”¨ `requestAnimationFrame` ä¼˜åŒ–ã€‚\n\n### 5. æ— éšœç¢æ”¯æŒ\nåˆ«å¿˜äº†åŠ  ARIA å±æ€§ï¼Œæ¯”å¦‚ `role=\"list\"` å’Œ `aria-label`ï¼Œè®©å±å¹•é˜…è¯»å™¨ä¹Ÿèƒ½ç†è§£ä½ çš„ç€‘å¸ƒæµã€‚\n\n---\n\n## è¸©å‘å¿ƒå¾—ä¸å¹½é»˜åæ€\n\nå†™è¿™ä¸ªç»„ä»¶æ—¶ï¼Œæˆ‘è¸©è¿‡å‡ ä¸ªå‘ï¼Œåˆ†äº«ä¸€ä¸‹ï¼š\n- **æ»šåŠ¨äº‹ä»¶å¿˜äº†é˜²æŠ–**ï¼šç»“æœæ˜¯ CPU åƒè·‘é©¬æ‹‰æ¾ä¸€æ ·å–˜æ°”ï¼Œå¸§ç‡ç›´æ¥æ‰åˆ°ä¸ªä½æ•°ã€‚æ•™è®­ï¼šåˆ«è®©æµè§ˆå™¨â€œ996â€ï¼\n- **é«˜åº¦è®¡ç®—å‡ºé”™**ï¼šä¸€å¼€å§‹æ²¡è€ƒè™‘ padding å’Œ borderï¼Œå¯¼è‡´å¡ç‰‡é‡å ï¼Œåƒå ç½—æ±‰ä¸€æ ·ä¹±æˆä¸€å›¢ã€‚\n- **å¿˜è®°æ¸…ç†ç›‘å¬å™¨**ï¼šç»„ä»¶å¸è½½åæ»šåŠ¨äº‹ä»¶è¿˜åœ¨è·‘ï¼Œå†…å­˜æ³„æ¼å¾—åƒæ°´ç®¡çˆ†äº†ã€‚\n\nè¿™äº›å‘è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼Œå‰ç«¯å¼€å‘å°±åƒå…»å® ç‰©ï¼šä½ å¾—å–‚å®ƒï¼ˆä¼˜åŒ–æ€§èƒ½ï¼‰ã€é›å®ƒï¼ˆæµ‹è¯•è¾¹ç•Œï¼‰ã€æ”¶æ‹¾å®ƒçš„â€œçƒ‚æ‘Šå­â€ï¼ˆä¿® bugï¼‰ã€‚ğŸ˜‚\n\n---\n\n## æ‰©å±•ä¸å±•æœ›\n\nè¿™ä¸ªå®ç°åªæ˜¯èµ·ç‚¹ã€‚å¦‚æœä½ æƒ³æ›´è¿›ä¸€æ­¥ï¼š\n- **æ”¯æŒåŠ¨æ€åŠ è½½**ï¼šç»“åˆ IntersectionObserver å®ç°â€œè§¦åº•åŠ è½½æ›´å¤šâ€ã€‚\n- **æ·»åŠ åŠ¨ç”»**ï¼šç”¨ CSS Transition è®©å¡ç‰‡åŠ è½½æ—¶æœ‰æ·¡å…¥æ•ˆæœã€‚\n- **é€‚é…æœåŠ¡ç«¯æ¸²æŸ“**ï¼šåœ¨ Next.js ä¸­è¯•è¯• SSR ä¸‹çš„è¡¨ç°ã€‚\n\næ€»ä¹‹ï¼Œç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨æ˜¯ä¸ªâ€œå®è—ç»„ä»¶â€ï¼Œæ—¢èƒ½æå‡ç”¨æˆ·ä½“éªŒï¼Œåˆèƒ½é”»ç‚¼ä½ çš„æŠ€æœ¯åŠŸåº•ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ç»™ä½ ä¸€äº›å¯å‘ï¼Œä¸‹æ¬¡åˆ·å°çº¢ä¹¦æ—¶ï¼Œä¸å¦¨æƒ³æƒ³ï¼šâ€œè¿™ä»£ç æˆ‘ä¹Ÿèƒ½å†™å‡ºæ¥ï¼â€ğŸ’ª\n\n---\n\n## ç»“è¯­\n\nä»åŸç†åˆ°ä»£ç ï¼Œå†åˆ°ä¼˜åŒ–ï¼Œæˆ‘ä»¬ä¸€èµ·æŠŠå°çº¢ä¹¦çš„ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨â€œè§£å‰–â€äº†ä¸€éã€‚å®ç°è¿‡ç¨‹è™½ç„¶æœ‰ç‚¹çƒ§è„‘ï¼Œä½†çœ‹åˆ°ä¸æ»‘çš„æ•ˆæœæ—¶ï¼Œé‚£ç§æˆå°±æ„Ÿä¸äºšäºåƒåˆ°ä¸€é¡¿å¤§é¤ã€‚ğŸ” å¦‚æœä½ æœ‰æ›´å¥½çš„å®ç°æ€è·¯ï¼Œæ¬¢è¿ç•™è¨€äº¤æµï¼Œå’±ä»¬ä¸€èµ·æŠŠå‰ç«¯ç©å‡ºèŠ±æ¥ï¼\n\næ–‡ç« åˆ°æ­¤ç»“æŸï¼Œä»£ç å·²ç»è·‘é€šï¼Œæ„¿ä½ çš„é¡¹ç›®æ€§èƒ½èµ·é£ï¼Œç”¨æˆ·ä½“éªŒæ»¡åˆ†ï¼âœ¨\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),B=(e,l)=>{for(var r in l)c(e,r,{get:l[r],enumerable:!0})},i=(e,l,r,s)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let a of y(l))!g.call(e,a)&&a!==r&&c(e,a,{get:()=>l[a],enumerable:!(s=E(l,a))||s.enumerable});return e};var f=(e,l,r)=>(r=e!=null?p(F(e)):{},i(l||!e||!e.__esModule?c(r,\"default\",{value:e,enumerable:!0}):r,e)),m=e=>i(c({},\"__esModule\",{value:!0}),e);var t=u((k,d)=>{d.exports=_jsx_runtime});var b={};B(b,{default:()=>h,frontmatter:()=>x});var n=f(t()),x={type:\"Post\",title:\"\\u5982\\u4F55\\u5B9E\\u73B0\\u5C0F\\u7EA2\\u4E66\\u7011\\u5E03\\u6D41\\u865A\\u62DF\\u5217\\u8868\\uFF1F\",date:\"2024-02-21\",description:\"\\u6DF1\\u5165\\u5256\\u6790\\u5C0F\\u7EA2\\u4E66\\u7011\\u5E03\\u6D41\\u865A\\u62DF\\u5217\\u8868\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u5E26\\u4F60\\u4ECE\\u96F6\\u6253\\u9020\\u4E00\\u4E2A\\u9AD8\\u6027\\u80FD\\u3001\\u53EF\\u6269\\u5C55\\u7684\\u524D\\u7AEF\\u7EC4\\u4EF6\\uFF0C\\u9002\\u5408\\u4E2D\\u9AD8\\u7EA7\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u3002\",keywords:\"\\u7011\\u5E03\\u6D41, \\u865A\\u62DF\\u5217\\u8868, \\u5C0F\\u7EA2\\u4E66, \\u524D\\u7AEF\\u6027\\u80FD\\u4F18\\u5316, React, JavaScript, \\u6EDA\\u52A8\\u4F18\\u5316, DOM \\u7BA1\\u7406\",author:\"\\u6653\\u9F99\",image:\"/images/hero/waterfall-virtual-list.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"React\",\"\\u6027\\u80FD\\u4F18\\u5316\",\"\\u865A\\u62DF\\u5217\\u8868\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function o(e){let l={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.p,{children:\"\\u5982\\u679C\\u4F60\\u7528\\u8FC7\\u5C0F\\u7EA2\\u4E66\\uFF0C\\u90A3\\u4E00\\u5B9A\\u5BF9\\u5B83\\u7684\\u7011\\u5E03\\u6D41\\u5E03\\u5C40\\u5370\\u8C61\\u6DF1\\u523B\\uFF1A\\u4E00\\u5217\\u5217\\u5185\\u5BB9\\u5361\\u7247\\u9519\\u843D\\u6709\\u81F4\\u5730\\u6392\\u5217\\uFF0C\\u6ED1\\u52A8\\u65F6\\u4E1D\\u6ED1\\u65E0\\u6BD4\\uFF0C\\u54EA\\u6015\\u6570\\u636E\\u91CF\\u518D\\u5927\\u4E5F\\u4E0D\\u4F1A\\u5361\\u987F\\u3002\\u8FD9\\u6837\\u7684\\u4F53\\u9A8C\\u80CC\\u540E\\uFF0C\\u79BB\\u4E0D\\u5F00\\u865A\\u62DF\\u5217\\u8868\\uFF08Virtual List\\uFF09\\u7684\\u52A0\\u6301\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u4EEC\\u5C31\\u6765\\u804A\\u804A\\u5982\\u4F55\\u7528\\u524D\\u7AEF\\u6280\\u672F\\u5B9E\\u73B0\\u4E00\\u4E2A\\u201C\\u5C0F\\u7EA2\\u4E66\\u98CE\\u201D\\u7684\\u7011\\u5E03\\u6D41\\u865A\\u62DF\\u5217\\u8868\\uFF0C\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u5E26\\u4E0A\\u4EE3\\u7801\\uFF0C\\u8FD8\\u4F1A\\u804A\\u804A\\u6211\\u5728\\u5B9E\\u73B0\\u8FC7\\u7A0B\\u4E2D\\u7684\\u4E00\\u4E9B\\u201C\\u8E29\\u5751\\u5FC3\\u5F97\\u201D\\u2728\\u3002\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\\u7684\\u76EE\\u6807\\u8BFB\\u8005\\u662F\\u4E2D\\u9AD8\\u7EA7\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u6240\\u4EE5\\u6211\\u4F1A\\u5C3D\\u91CF\\u628A\\u5185\\u5BB9\\u8BB2\\u5F97\\u6DF1\\u5165\\u4E14\\u5B9E\\u7528\\uFF0C\\u65E2\\u6709\\u7406\\u8BBA\\u5256\\u6790\\uFF0C\\u4E5F\\u6709\\u4EE3\\u7801\\u5B9E\\u6218\\uFF0C\\u8FD8\\u4F1A\\u5939\\u6742\\u4E00\\u4E9B\\u7C7B\\u6BD4\\u548C\\u6700\\u4F73\\u5B9E\\u8DF5\\u3002\\u5982\\u679C\\u4F60\\u662F\\u4E2A\\u8FFD\\u6C42\\u6781\\u81F4\\u6027\\u80FD\\u7684\\u524D\\u7AEF\\u201C\\u8001\\u53F8\\u673A\\u201D\\uFF0C\\u90A3\\u5C31\\u7CFB\\u597D\\u5B89\\u5168\\u5E26\\uFF0C\\u54B1\\u4EEC\\u5F00\\u59CB\\u5427\\uFF01\\u{1F697}\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4EC0\\u4E48\\u662F\\u7011\\u5E03\\u6D41\\u548C\\u865A\\u62DF\\u5217\\u8868\",children:(0,n.jsx)(l.a,{href:\"#\\u4EC0\\u4E48\\u662F\\u7011\\u5E03\\u6D41\\u548C\\u865A\\u62DF\\u5217\\u8868\",children:\"\\u4EC0\\u4E48\\u662F\\u7011\\u5E03\\u6D41\\u548C\\u865A\\u62DF\\u5217\\u8868\\uFF1F\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5728\\u52A8\\u624B\\u4E4B\\u524D\\uFF0C\\u5148\\u641E\\u6E05\\u695A\\u4E24\\u4E2A\\u6838\\u5FC3\\u6982\\u5FF5\\u3002\"}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u7011\\u5E03\\u6D41waterfall-layout\",children:(0,n.jsx)(l.a,{href:\"#\\u7011\\u5E03\\u6D41waterfall-layout\",children:\"\\u7011\\u5E03\\u6D41\\uFF08Waterfall Layout\\uFF09\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u7011\\u5E03\\u6D41\\u662F\\u4E00\\u79CD\\u591A\\u5217\\u5E03\\u5C40\\uFF0C\\u5185\\u5BB9\\u4EE5\\u5361\\u7247\\u5F62\\u5F0F\\u6392\\u5217\\uFF0C\\u6BCF\\u5217\\u9AD8\\u5EA6\\u4E0D\\u56FA\\u5B9A\\uFF0C\\u65B0\\u7684\\u5361\\u7247\\u4F1A\\u586B\\u5145\\u5230\\u5F53\\u524D\\u6700\\u77ED\\u7684\\u90A3\\u4E00\\u5217\\u3002\\u5C0F\\u7EA2\\u4E66\\u7684\\u9996\\u9875\\u5C31\\u662F\\u7ECF\\u5178\\u6848\\u4F8B\\uFF1A\\u56FE\\u6587\\u6DF7\\u6392\\uFF0C\\u6ED1\\u52A8\\u65F6\\u50CF\\u7011\\u5E03\\u4E00\\u6837\\u201C\\u6D41\\u6DCC\\u201D\\u4E0B\\u6765\\u3002\\u76F8\\u6BD4\\u4F20\\u7EDF\\u7684\\u7F51\\u683C\\u5E03\\u5C40\\uFF0C\\u7011\\u5E03\\u6D41\\u66F4\\u7075\\u6D3B\\uFF0C\\u80FD\\u6700\\u5927\\u5316\\u5229\\u7528\\u5C4F\\u5E55\\u7A7A\\u95F4\\u3002\"}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u865A\\u62DF\\u5217\\u8868virtual-list\",children:(0,n.jsx)(l.a,{href:\"#\\u865A\\u62DF\\u5217\\u8868virtual-list\",children:\"\\u865A\\u62DF\\u5217\\u8868\\uFF08Virtual List\\uFF09\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u865A\\u62DF\\u5217\\u8868\\u662F\\u4E00\\u79CD\\u6027\\u80FD\\u4F18\\u5316\\u6280\\u672F\\u3002\\u60F3\\u8C61\\u4E00\\u4E0B\\uFF0C\\u5982\\u679C\\u5C0F\\u7EA2\\u4E66\\u6BCF\\u6B21\\u52A0\\u8F7D\\u51E0\\u5343\\u6761\\u5E16\\u5B50\\u90FD\\u76F4\\u63A5\\u6E32\\u67D3\\u5230 DOM\\uFF0C\\u6D4F\\u89C8\\u5668\\u65E9\\u5C31\\u201C\\u5598\\u4E0D\\u8FC7\\u6C14\\u201D\\u4E86\\u3002\\u865A\\u62DF\\u5217\\u8868\\u7684\\u601D\\u8DEF\\u5F88\\u7B80\\u5355\\uFF1A\",(0,n.jsx)(l.strong,{children:\"\\u53EA\\u6E32\\u67D3\\u53EF\\u89C6\\u533A\\u57DF\\u7684\\u5143\\u7D20\\uFF0C\\u5176\\u4ED6\\u90E8\\u5206\\u52A8\\u6001\\u8BA1\\u7B97\\u4F4D\\u7F6E\\uFF0C\\u6309\\u9700\\u52A0\\u8F7D\"}),\"\\u3002\\u8FD9\\u5C31\\u50CF\\u4F60\\u5728\\u8D85\\u5E02\\u8D2D\\u7269\\uFF0C\\u53EA\\u62FF\\u773C\\u524D\\u7684\\u8D27\\u67B6\\u4E0A\\u7684\\u4E1C\\u897F\\uFF0C\\u800C\\u4E0D\\u662F\\u628A\\u6574\\u4E2A\\u4ED3\\u5E93\\u642C\\u56DE\\u5BB6\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u4E24\\u8005\\u7684\\u7ED3\\u5408\",children:(0,n.jsx)(l.a,{href:\"#\\u4E24\\u8005\\u7684\\u7ED3\\u5408\",children:\"\\u4E24\\u8005\\u7684\\u7ED3\\u5408\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5C0F\\u7EA2\\u4E66\\u7684\\u7011\\u5E03\\u6D41\\u865A\\u62DF\\u5217\\u8868\\uFF0C\\u5C31\\u662F\\u628A\\u8FD9\\u4E24\\u8005\\u201C\\u7ED3\\u5A5A\\u201D\\u4E86\\uFF1A\\u65E2\\u6709\\u7011\\u5E03\\u6D41\\u7684\\u89C6\\u89C9\\u6548\\u679C\\uFF0C\\u53C8\\u7528\\u865A\\u62DF\\u5217\\u8868\\u4FDD\\u8BC1\\u6027\\u80FD\\u3002\\u542C\\u8D77\\u6765\\u662F\\u4E0D\\u662F\\u6709\\u70B9\\u50CF\\u201C\\u65E2\\u8981\\u9A6C\\u513F\\u8DD1\\uFF0C\\u53C8\\u8981\\u9A6C\\u513F\\u4E0D\\u5403\\u8349\\u201D\\uFF1F\\u522B\\u6025\\uFF0C\\u4E0B\\u9762\\u6211\\u4EEC\\u4E00\\u6B65\\u6B65\\u62C6\\u89E3\\u5B9E\\u73B0\\u8FC7\\u7A0B\\u3002\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u5B9E\\u73B0\\u539F\\u7406\\u5256\\u6790\",children:(0,n.jsx)(l.a,{href:\"#\\u5B9E\\u73B0\\u539F\\u7406\\u5256\\u6790\",children:\"\\u5B9E\\u73B0\\u539F\\u7406\\u5256\\u6790\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7011\\u5E03\\u6D41\\u865A\\u62DF\\u5217\\u8868\\uFF0C\\u6838\\u5FC3\\u5206\\u4E3A\\u4E09\\u4E2A\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ol,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5982\\u4F55\\u8BA1\\u7B97\\u7011\\u5E03\\u6D41\\u7684\\u5E03\\u5C40\\uFF1F\"}),\"\\uFF08\\u5361\\u7247\\u4F4D\\u7F6E\\u3001\\u9AD8\\u5EA6\\u7BA1\\u7406\\uFF09\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5982\\u4F55\\u5B9E\\u73B0\\u865A\\u62DF\\u6EDA\\u52A8\\uFF1F\"}),\"\\uFF08\\u53EA\\u6E32\\u67D3\\u53EF\\u89C6\\u533A\\u57DF\\uFF09\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5982\\u4F55\\u4F18\\u5316\\u6027\\u80FD\\uFF1F\"}),\"\\uFF08\\u9632\\u6296\\u3001\\u7F13\\u5B58\\u3001\\u8FB9\\u754C\\u5904\\u7406\\uFF09\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u54B1\\u4EEC\\u4E00\\u4E2A\\u4E00\\u4E2A\\u6765\\u3002\"}),`\n`,(0,n.jsx)(l.h3,{id:\"1-\\u7011\\u5E03\\u6D41\\u5E03\\u5C40\\u7684\\u8BA1\\u7B97\",children:(0,n.jsx)(l.a,{href:\"#1-\\u7011\\u5E03\\u6D41\\u5E03\\u5C40\\u7684\\u8BA1\\u7B97\",children:\"1. \\u7011\\u5E03\\u6D41\\u5E03\\u5C40\\u7684\\u8BA1\\u7B97\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u7011\\u5E03\\u6D41\\u7684\\u5173\\u952E\\u662F\\u52A8\\u6001\\u5206\\u914D\\u5361\\u7247\\u5230\\u6700\\u77ED\\u7684\\u90A3\\u4E00\\u5217\\u3002\\u6211\\u4EEC\\u9700\\u8981\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u4E00\\u4E2A\\u5BB9\\u5668\\uFF0C\\u5BBD\\u5EA6\\u56FA\\u5B9A\\uFF0C\\u5206\\u4E3A N \\u5217\\uFF08\\u6BD4\\u5982\\u5C0F\\u7EA2\\u4E66\\u901A\\u5E38\\u662F 2 \\u5217\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u6BCF\\u5F20\\u5361\\u7247\\u7684\\u5BBD\\u5EA6\\u56FA\\u5B9A\\uFF0C\\u9AD8\\u5EA6\\u52A8\\u6001\\uFF08\\u56E0\\u4E3A\\u5185\\u5BB9\\u53EF\\u80FD\\u662F\\u56FE\\u7247\\u3001\\u6587\\u5B57\\u6216\\u89C6\\u9891\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u4E00\\u4E2A\\u7B97\\u6CD5\\uFF0C\\u5B9E\\u65F6\\u8FFD\\u8E2A\\u6BCF\\u5217\\u7684\\u9AD8\\u5EA6\\uFF0C\\u51B3\\u5B9A\\u65B0\\u5361\\u7247\\u653E\\u54EA\\u4E00\\u5217\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5047\\u8BBE\\u5BB9\\u5668\\u5BBD\\u5EA6\\u662F \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"800px\"})})})}),\"\\uFF0C\\u5206\\u6210 2 \\u5217\\uFF0C\\u6BCF\\u5217 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"400px\"})})})}),\"\\uFF0C\\u5361\\u7247\\u5BBD\\u5EA6\\u4E5F\\u662F \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"400px\"})})})}),\"\\uFF0C\\u9AD8\\u5EA6\\u968F\\u673A\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u7528\\u4E00\\u4E2A\\u6570\\u7EC4 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"columnHeights\"})})})}),\" \\u6765\\u8BB0\\u5F55\\u6BCF\\u5217\\u5F53\\u524D\\u7684\\u9AD8\\u5EA6\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"[100, 150]\"})})})}),\" \\u8868\\u793A\\u7B2C\\u4E00\\u5217\\u9AD8 100px\\uFF0C\\u7B2C\\u4E8C\\u5217\\u9AD8 150px\\u3002\\u65B0\\u5361\\u7247\\u6765\\u4E86\\uFF0C\\u5C31\\u627E \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"columnHeights\"})})})}),\" \\u4E2D\\u6700\\u5C0F\\u503C\\u7684\\u90A3\\u4E00\\u5217\\u585E\\u8FDB\\u53BB\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"2-\\u865A\\u62DF\\u6EDA\\u52A8\\u7684\\u6838\\u5FC3\",children:(0,n.jsx)(l.a,{href:\"#2-\\u865A\\u62DF\\u6EDA\\u52A8\\u7684\\u6838\\u5FC3\",children:\"2. \\u865A\\u62DF\\u6EDA\\u52A8\\u7684\\u6838\\u5FC3\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u865A\\u62DF\\u5217\\u8868\\u7684\\u6838\\u5FC3\\u662F\\u201C\\u5047\\u88C5\\u6E32\\u67D3\\u6240\\u6709\\u5185\\u5BB9\\uFF0C\\u4F46\\u5B9E\\u9645\\u4E0A\\u53EA\\u6E32\\u67D3\\u4E00\\u5C0F\\u90E8\\u5206\\u201D\\u3002\\u5177\\u4F53\\u6B65\\u9AA4\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsx)(l.li,{children:\"\\u8BA1\\u7B97\\u5BB9\\u5668\\u603B\\u9AD8\\u5EA6\\uFF08\\u6240\\u6709\\u5361\\u7247\\u9AD8\\u5EA6\\u4E4B\\u548C\\uFF09\\u3002\"}),`\n`,(0,n.jsxs)(l.li,{children:[\"\\u76D1\\u542C\\u6EDA\\u52A8\\u4E8B\\u4EF6\\uFF0C\\u83B7\\u53D6\\u5F53\\u524D\\u6EDA\\u52A8\\u4F4D\\u7F6E \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"scrollTop\"})})})}),\" \\u548C\\u53EF\\u89C6\\u533A\\u57DF\\u9AD8\\u5EA6 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"clientHeight\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(l.li,{children:\"\\u6839\\u636E\\u6EDA\\u52A8\\u4F4D\\u7F6E\\uFF0C\\u7B97\\u51FA\\u53EF\\u89C6\\u533A\\u57DF\\u5E94\\u8BE5\\u663E\\u793A\\u54EA\\u4E9B\\u5361\\u7247\\uFF08\\u8D77\\u59CB\\u7D22\\u5F15\\u548C\\u7ED3\\u675F\\u7D22\\u5F15\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(l.li,{children:\"\\u53EA\\u6E32\\u67D3\\u8FD9\\u4E9B\\u5361\\u7247\\uFF0C\\u5176\\u4ED6\\u90E8\\u5206\\u7528\\u7A7A\\u767D\\u5360\\u4F4D\\u7B26\\u6491\\u5F00\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF1A\\u5047\\u8BBE\\u6709 1000 \\u5F20\\u5361\\u7247\\uFF0C\\u6BCF\\u5F20\\u5E73\\u5747\\u9AD8\\u5EA6 200px\\uFF0C\\u603B\\u9AD8\\u5EA6\\u5C31\\u662F \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"200 * 1000 = 200,000px\"})})})}),\"\\u3002\\u53EF\\u89C6\\u533A\\u57DF\\u9AD8\\u5EA6\\u662F 800px\\uFF0C\\u90A3\\u4E48\\u4E00\\u6B21\\u6700\\u591A\\u6E32\\u67D3 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"800 / 200 = 4\"})})})}),\" \\u5F20\\u5361\\u7247\\uFF0C\\u5916\\u52A0\\u4E00\\u70B9\\u7F13\\u51B2\\u533A\\uFF08\\u6BD4\\u5982\\u524D\\u540E\\u5404\\u591A\\u6E32\\u67D3 2 \\u5F20\\uFF0C\\u603B\\u5171 8 \\u5F20\\uFF09\\u3002\\u6ED1\\u52A8\\u65F6\\uFF0C\\u52A8\\u6001\\u66F4\\u65B0\\u8FD9 8 \\u5F20\\u5361\\u7247\\u7684\\u7D22\\u5F15\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"3-\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u9526\\u4E0A\\u6DFB\\u82B1\",children:(0,n.jsx)(l.a,{href:\"#3-\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u9526\\u4E0A\\u6DFB\\u82B1\",children:\"3. \\u6027\\u80FD\\u4F18\\u5316\\u7684\\u201C\\u9526\\u4E0A\\u6DFB\\u82B1\\u201D\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5149\\u6709\\u5E03\\u5C40\\u548C\\u865A\\u62DF\\u6EDA\\u52A8\\u8FD8\\u4E0D\\u591F\\uFF0C\\u7EC6\\u8282\\u51B3\\u5B9A\\u6210\\u8D25\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9632\\u6296\\uFF08Debounce\\uFF09\"}),\"\\uFF1A\\u6EDA\\u52A8\\u4E8B\\u4EF6\\u89E6\\u53D1\\u592A\\u9891\\u7E41\\uFF0C\\u7528\\u9632\\u6296\\u51CF\\u5C11\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u7F13\\u5B58\\u9AD8\\u5EA6\"}),\"\\uFF1A\\u5361\\u7247\\u9AD8\\u5EA6\\u5982\\u679C\\u52A8\\u6001\\u8BA1\\u7B97\\u592A\\u8017\\u65F6\\uFF0C\\u53EF\\u4EE5\\u63D0\\u524D\\u7F13\\u5B58\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u8FB9\\u754C\\u5904\\u7406\"}),\"\\uFF1A\\u907F\\u514D\\u6EDA\\u52A8\\u5230\\u9876\\u90E8\\u6216\\u5E95\\u90E8\\u65F6\\u51FA\\u73B0\\u7A7A\\u767D\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u597D\\u4E86\\uFF0C\\u539F\\u7406\\u8BB2\\u5B8C\\u4E86\\uFF0C\\u63A5\\u4E0B\\u6765\\u54B1\\u4EEC\\u76F4\\u63A5\\u4E0A\\u624B\\u5199\\u4EE3\\u7801\\uFF01\\u{1F6E0}\\uFE0F\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u4EE3\\u7801\\u5B9E\\u6218react-\\u5B9E\\u73B0\",children:(0,n.jsx)(l.a,{href:\"#\\u4EE3\\u7801\\u5B9E\\u6218react-\\u5B9E\\u73B0\",children:\"\\u4EE3\\u7801\\u5B9E\\u6218\\uFF1AReact \\u5B9E\\u73B0\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u6211\\u9009\\u62E9\\u7528 React \\u6765\\u5B9E\\u73B0\\uFF0C\\u56E0\\u4E3A\\u5B83\\u7684\\u5C0F\\u7EA2\\u4E66\\u524D\\u7AEF\\u6280\\u672F\\u6808\\u5927\\u6982\\u7387\\u4E5F\\u662F React\\uFF08\\u522B\\u95EE\\u6211\\u600E\\u4E48\\u77E5\\u9053\\u7684\\uFF0C\\u95EE\\u5C31\\u662F\\u201C\\u731C\\u7684\\u201D\\u{1F60F}\\uFF09\\u3002\\u54B1\\u4EEC\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u76EE\\u6807\\u662F\\u5B9E\\u73B0\\u4E00\\u4E2A\\u53EF\\u590D\\u7528\\u7684 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"WaterfallVirtualList\"})})})}),\" \\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u9879\\u76EE\\u7ED3\\u6784\",children:(0,n.jsx)(l.a,{href:\"#\\u9879\\u76EE\\u7ED3\\u6784\",children:\"\\u9879\\u76EE\\u7ED3\\u6784\"})}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"src/\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u251C\\u2500\\u2500 components/\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u2502   \\u2514\\u2500\\u2500 WaterfallVirtualList.jsx\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u251C\\u2500\\u2500 App.jsx\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"\\u2514\\u2500\\u2500 data.js  // \\u6A21\\u62DF\\u6570\\u636E\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"1-\\u51C6\\u5907\\u6A21\\u62DF\\u6570\\u636E\",children:(0,n.jsx)(l.a,{href:\"#1-\\u51C6\\u5907\\u6A21\\u62DF\\u6570\\u636E\",children:\"1. \\u51C6\\u5907\\u6A21\\u62DF\\u6570\\u636E\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5148\\u5728 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"data.js\"})})})}),\" \\u91CC\\u51C6\\u5907\\u4E00\\u4E9B\\u5047\\u6570\\u636E\\uFF0C\\u6A21\\u62DF\\u5C0F\\u7EA2\\u4E66\\u7684\\u5E16\\u5B50\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// data.js\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" mockData\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Array.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ length: \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }, (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"index\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ({\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  id: index,\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  height: Math.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"floor\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"random\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 200\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 100\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u968F\\u673A\\u9AD8\\u5EA6 100-300px\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  content: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`\\u5E16\\u5B50 #${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"index\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"} - \\u8FD9\\u662F\\u4E00\\u6761\\u5F88\\u68D2\\u7684\\u5185\\u5BB9`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}));\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"2-\\u5B9E\\u73B0-waterfallvirtuallist-\\u7EC4\\u4EF6\",children:(0,n.jsx)(l.a,{href:\"#2-\\u5B9E\\u73B0-waterfallvirtuallist-\\u7EC4\\u4EF6\",children:\"2. \\u5B9E\\u73B0 WaterfallVirtualList \\u7EC4\\u4EF6\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4E0B\\u9762\\u662F\\u6838\\u5FC3\\u4EE3\\u7801\\uFF0C\\u5E26\\u8BE6\\u7EC6\\u6CE8\\u91CA\\uFF1A\"}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// components/WaterfallVirtualList.jsx\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useEffect, useRef } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './WaterfallVirtualList.css'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" WaterfallVirtualList\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ({ \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"items\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"columnCount\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"itemWidth\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 400\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" containerRef\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useRef\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"visibleItems\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setVisibleItems\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"([]);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"columnHeights\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setColumnHeights\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    Array\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(columnCount).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"totalHeight\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setTotalHeight\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u8BA1\\u7B97\\u7011\\u5E03\\u6D41\\u5E03\\u5C40\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" calculateLayout\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"items\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" positions\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" heights\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Array\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(columnCount).\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"fill\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    items.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" minHeightIndex\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" heights.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"indexOf\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"min\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"heights));\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" left\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" minHeightIndex \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" itemWidth;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" top\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" heights[minHeightIndex];\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      positions.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item, left, top });\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      heights[minHeightIndex] \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" item.height;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    setColumnHeights\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(heights);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    setTotalHeight\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(Math.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"max\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"heights));\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" positions;\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u5904\\u7406\\u6EDA\\u52A8\\u4E8B\\u4EF6\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" handleScroll\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"containerRef.current) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"scrollTop\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"clientHeight\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" containerRef.current;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" allPositions\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" calculateLayout\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(items);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"    // \\u8BA1\\u7B97\\u53EF\\u89C6\\u533A\\u57DF\\u7684\\u8D77\\u59CB\\u548C\\u7ED3\\u675F\\u7D22\\u5F15\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" buffer\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 2\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4E0A\\u4E0B\\u7F13\\u51B2\\u533A\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" startIndex\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"max\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"      0\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      allPositions.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"findIndex\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"pos\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" pos.top \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" pos.height \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" scrollTop) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" buffer\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" endIndex\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"min\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      items.\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      allPositions.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"findIndex\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"pos\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" pos.top \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\">\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" scrollTop \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" clientHeight) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        buffer \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" items.\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    setVisibleItems\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(allPositions.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"slice\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(startIndex, endIndex));\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u521D\\u59CB\\u5316\\u548C\\u76D1\\u542C\\u6EDA\\u52A8\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"  useEffect\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"    handleScroll\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" container\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" containerRef.current;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    container.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"addEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'scroll'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"debounce\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(handleScroll, \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"16\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")); \"}),(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// 60fps\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" container.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"removeEventListener\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'scroll'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", handleScroll);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [items]);\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"  // \\u9632\\u6296\\u51FD\\u6570\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" debounce\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"delay\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    let\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" timer;\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"args\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      clearTimeout\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(timer);\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      timer \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" setTimeout\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" fn\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"args), delay);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      ref\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{containerRef}\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      className\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"waterfall-container\"'})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"      style\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{{ height: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'800px'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", overflowY: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'auto'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }}\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    >\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        className\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"waterfall-wrapper\"'})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"        style\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{{ height: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"totalHeight\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}px`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", position: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'relative'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }}\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      >\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        {visibleItems.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"map\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            key\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{item.id}\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            className\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"waterfall-item\"'})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"            style\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{{\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              position: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'absolute'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              left: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"left\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}px`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              top: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"top\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}px`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              width: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"itemWidth\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}px`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"              height: \"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"item\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"height\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}px`\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            }}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          >\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"            {item.content}\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"          </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"        ))}\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" WaterfallVirtualList;\"})]})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"3-\\u6DFB\\u52A0\\u6837\\u5F0F\",children:(0,n.jsx)(l.a,{href:\"#3-\\u6DFB\\u52A0\\u6837\\u5F0F\",children:\"3. \\u6DFB\\u52A0\\u6837\\u5F0F\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5728 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"WaterfallVirtualList.css\"})})})}),\" \\u4E2D\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"css\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"css\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".waterfall-container\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  width\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"800\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  margin\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" auto\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  border\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" solid\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" #eee\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".waterfall-item\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  background\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"#f9f9f9\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  border\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"px\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" solid\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" #ddd\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  box-sizing\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"border-box\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  display\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"flex\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  align-items\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"center\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  justify-content\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"center\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  transition\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"all\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" 0.3\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"s\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" ease\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\".waterfall-item:hover\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"  background\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"#e0f7fa\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"4-\\u4F7F\\u7528\\u7EC4\\u4EF6\",children:(0,n.jsx)(l.a,{href:\"#4-\\u4F7F\\u7528\\u7EC4\\u4EF6\",children:\"4. \\u4F7F\\u7528\\u7EC4\\u4EF6\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5728 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"App.jsx\"})})})}),\" \\u4E2D\\u8C03\\u7528\\uFF1A\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// App.jsx\"})}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" React \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" WaterfallVirtualList \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './components/WaterfallVirtualList'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { mockData } \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\" './data'\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u5C0F\\u7EA2\\u4E66\\u7011\\u5E03\\u6D41\\u865A\\u62DF\\u5217\\u8868 Demo</\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"WaterfallVirtualList\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" items\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{mockData} />\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,n.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" App;\"})]})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"\\u8FD0\\u884C\\u6548\\u679C\",children:(0,n.jsx)(l.a,{href:\"#\\u8FD0\\u884C\\u6548\\u679C\",children:\"\\u8FD0\\u884C\\u6548\\u679C\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u542F\\u52A8\\u9879\\u76EE\\u540E\\uFF0C\\u4F60\\u4F1A\\u770B\\u5230\\u4E00\\u4E2A\\u4E24\\u5217\\u7684\\u7011\\u5E03\\u6D41\\uFF0C\\u6ED1\\u52A8\\u65F6\\u53EA\\u6709\\u53EF\\u89C6\\u533A\\u57DF\\u7684\\u5361\\u7247\\u88AB\\u6E32\\u67D3\\uFF0C\\u603B\\u9AD8\\u5EA6\\u7531 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"totalHeight\"})})})}),\" \\u6491\\u5F00\\u3002\\u4E1D\\u6ED1\\u5F97\\u50CF\\u521A\\u5265\\u4E86\\u76AE\\u7684\\u9E21\\u86CB\\u{1F95A}\\uFF01\"]}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u4F18\\u5316\",children:(0,n.jsx)(l.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u4F18\\u5316\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u4F18\\u5316\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5B9E\\u73B0\\u4E86\\u4E00\\u4E2A\\u57FA\\u7840\\u7248\\u672C\\uFF0C\\u4F46\\u79BB\\u201C\\u5C0F\\u7EA2\\u4E66\\u7EA7\\u522B\\u201D\\u8FD8\\u6709\\u5DEE\\u8DDD\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u5B9E\\u7528\\u5EFA\\u8BAE\\uFF1A\"}),`\n`,(0,n.jsx)(l.h3,{id:\"1-\\u9AD8\\u5EA6\\u9884\\u8BA1\\u7B97\\u4E0E\\u7F13\\u5B58\",children:(0,n.jsx)(l.a,{href:\"#1-\\u9AD8\\u5EA6\\u9884\\u8BA1\\u7B97\\u4E0E\\u7F13\\u5B58\",children:\"1. \\u9AD8\\u5EA6\\u9884\\u8BA1\\u7B97\\u4E0E\\u7F13\\u5B58\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u4E0A\\u9762\\u7684\\u4F8B\\u5B50\\u4E2D\\uFF0C\\u5361\\u7247\\u9AD8\\u5EA6\\u662F\\u56FA\\u5B9A\\u7684\\uFF0C\\u4F46\\u5728\\u771F\\u5B9E\\u573A\\u666F\\u4E2D\\uFF0C\\u56FE\\u7247\\u52A0\\u8F7D\\u540E\\u9AD8\\u5EA6\\u624D\\u786E\\u5B9A\\u3002\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"useRef\"})})})}),\" \\u548C \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"IntersectionObserver\"})})})}),\" \\u63D0\\u524D\\u6D4B\\u91CF\\u9AD8\\u5EA6\\uFF0C\\u5B58\\u5230\\u7F13\\u5B58\\u91CC\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u8BA1\\u7B97\\u3002\"]}),`\n`,(0,n.jsx)(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\" heightCache\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" Map\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\" measureHeight\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"itemId\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"ref\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"heightCache.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"has\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(itemId) \"}),(0,n.jsx)(l.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ref.current) {\"})]}),`\n`,(0,n.jsxs)(l.span,{\"data-line\":\"\",children:[(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    heightCache.\"}),(0,n.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(itemId, ref.current.offsetHeight);\"})]}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsx)(l.h3,{id:\"2-\\u52A8\\u6001\\u5217\\u6570\",children:(0,n.jsx)(l.a,{href:\"#2-\\u52A8\\u6001\\u5217\\u6570\",children:\"2. \\u52A8\\u6001\\u5217\\u6570\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u5C0F\\u7EA2\\u4E66\\u5728\\u4E0D\\u540C\\u8BBE\\u5907\\u4E0A\\u5217\\u6570\\u4F1A\\u53D8\\uFF08\\u624B\\u673A 2 \\u5217\\uFF0C\\u5E73\\u677F 3 \\u5217\\uFF09\\u3002\\u53EF\\u4EE5\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"window.innerWidth\"})})})}),\" \\u548C\\u5A92\\u4F53\\u67E5\\u8BE2\\u52A8\\u6001\\u8C03\\u6574 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"columnCount\"})})})}),\"\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"3-\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\",children:(0,n.jsx)(l.a,{href:\"#3-\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\",children:\"3. \\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u914D\\u5408 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:'loading=\"lazy\"'})})})}),\" \\u6216\\u81EA\\u5B9A\\u4E49\\u61D2\\u52A0\\u8F7D\\u903B\\u8F91\\uFF0C\\u53EA\\u52A0\\u8F7D\\u53EF\\u89C6\\u533A\\u57DF\\u7684\\u56FE\\u7247\\uFF0C\\u8282\\u7701\\u5E26\\u5BBD\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"4-\\u6027\\u80FD\\u76D1\\u63A7\",children:(0,n.jsx)(l.a,{href:\"#4-\\u6027\\u80FD\\u76D1\\u63A7\",children:\"4. \\u6027\\u80FD\\u76D1\\u63A7\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u7528 Chrome DevTools \\u7684 Performance \\u9762\\u677F\\u5206\\u6790\\u6E32\\u67D3\\u65F6\\u95F4\\u3002\\u5982\\u679C\\u53D1\\u73B0\\u5361\\u987F\\uFF0C\\u53EF\\u80FD\\u662F\\u6EDA\\u52A8\\u4E8B\\u4EF6\\u7684\\u76D1\\u542C\\u592A\\u9891\\u7E41\\uFF0C\\u8003\\u8651\\u7528 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"requestAnimationFrame\"})})})}),\" \\u4F18\\u5316\\u3002\"]}),`\n`,(0,n.jsx)(l.h3,{id:\"5-\\u65E0\\u969C\\u788D\\u652F\\u6301\",children:(0,n.jsx)(l.a,{href:\"#5-\\u65E0\\u969C\\u788D\\u652F\\u6301\",children:\"5. \\u65E0\\u969C\\u788D\\u652F\\u6301\"})}),`\n`,(0,n.jsxs)(l.p,{children:[\"\\u522B\\u5FD8\\u4E86\\u52A0 ARIA \\u5C5E\\u6027\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:'role=\"list\"'})})})}),\" \\u548C \",(0,n.jsx)(l.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(l.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(l.span,{\"data-line\":\"\",children:(0,n.jsx)(l.span,{children:\"aria-label\"})})})}),\"\\uFF0C\\u8BA9\\u5C4F\\u5E55\\u9605\\u8BFB\\u5668\\u4E5F\\u80FD\\u7406\\u89E3\\u4F60\\u7684\\u7011\\u5E03\\u6D41\\u3002\"]}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u8E29\\u5751\\u5FC3\\u5F97\\u4E0E\\u5E7D\\u9ED8\\u53CD\\u601D\",children:(0,n.jsx)(l.a,{href:\"#\\u8E29\\u5751\\u5FC3\\u5F97\\u4E0E\\u5E7D\\u9ED8\\u53CD\\u601D\",children:\"\\u8E29\\u5751\\u5FC3\\u5F97\\u4E0E\\u5E7D\\u9ED8\\u53CD\\u601D\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u5199\\u8FD9\\u4E2A\\u7EC4\\u4EF6\\u65F6\\uFF0C\\u6211\\u8E29\\u8FC7\\u51E0\\u4E2A\\u5751\\uFF0C\\u5206\\u4EAB\\u4E00\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6EDA\\u52A8\\u4E8B\\u4EF6\\u5FD8\\u4E86\\u9632\\u6296\"}),\"\\uFF1A\\u7ED3\\u679C\\u662F CPU \\u50CF\\u8DD1\\u9A6C\\u62C9\\u677E\\u4E00\\u6837\\u5598\\u6C14\\uFF0C\\u5E27\\u7387\\u76F4\\u63A5\\u6389\\u5230\\u4E2A\\u4F4D\\u6570\\u3002\\u6559\\u8BAD\\uFF1A\\u522B\\u8BA9\\u6D4F\\u89C8\\u5668\\u201C996\\u201D\\uFF01\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9AD8\\u5EA6\\u8BA1\\u7B97\\u51FA\\u9519\"}),\"\\uFF1A\\u4E00\\u5F00\\u59CB\\u6CA1\\u8003\\u8651 padding \\u548C border\\uFF0C\\u5BFC\\u81F4\\u5361\\u7247\\u91CD\\u53E0\\uFF0C\\u50CF\\u53E0\\u7F57\\u6C49\\u4E00\\u6837\\u4E71\\u6210\\u4E00\\u56E2\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u5FD8\\u8BB0\\u6E05\\u7406\\u76D1\\u542C\\u5668\"}),\"\\uFF1A\\u7EC4\\u4EF6\\u5378\\u8F7D\\u540E\\u6EDA\\u52A8\\u4E8B\\u4EF6\\u8FD8\\u5728\\u8DD1\\uFF0C\\u5185\\u5B58\\u6CC4\\u6F0F\\u5F97\\u50CF\\u6C34\\u7BA1\\u7206\\u4E86\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8FD9\\u4E9B\\u5751\\u8BA9\\u6211\\u6DF1\\u523B\\u4F53\\u4F1A\\u5230\\uFF0C\\u524D\\u7AEF\\u5F00\\u53D1\\u5C31\\u50CF\\u517B\\u5BA0\\u7269\\uFF1A\\u4F60\\u5F97\\u5582\\u5B83\\uFF08\\u4F18\\u5316\\u6027\\u80FD\\uFF09\\u3001\\u905B\\u5B83\\uFF08\\u6D4B\\u8BD5\\u8FB9\\u754C\\uFF09\\u3001\\u6536\\u62FE\\u5B83\\u7684\\u201C\\u70C2\\u644A\\u5B50\\u201D\\uFF08\\u4FEE bug\\uFF09\\u3002\\u{1F602}\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u6269\\u5C55\\u4E0E\\u5C55\\u671B\",children:(0,n.jsx)(l.a,{href:\"#\\u6269\\u5C55\\u4E0E\\u5C55\\u671B\",children:\"\\u6269\\u5C55\\u4E0E\\u5C55\\u671B\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u8FD9\\u4E2A\\u5B9E\\u73B0\\u53EA\\u662F\\u8D77\\u70B9\\u3002\\u5982\\u679C\\u4F60\\u60F3\\u66F4\\u8FDB\\u4E00\\u6B65\\uFF1A\"}),`\n`,(0,n.jsxs)(l.ul,{children:[`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u652F\\u6301\\u52A8\\u6001\\u52A0\\u8F7D\"}),\"\\uFF1A\\u7ED3\\u5408 IntersectionObserver \\u5B9E\\u73B0\\u201C\\u89E6\\u5E95\\u52A0\\u8F7D\\u66F4\\u591A\\u201D\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u6DFB\\u52A0\\u52A8\\u753B\"}),\"\\uFF1A\\u7528 CSS Transition \\u8BA9\\u5361\\u7247\\u52A0\\u8F7D\\u65F6\\u6709\\u6DE1\\u5165\\u6548\\u679C\\u3002\"]}),`\n`,(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:\"\\u9002\\u914D\\u670D\\u52A1\\u7AEF\\u6E32\\u67D3\"}),\"\\uFF1A\\u5728 Next.js \\u4E2D\\u8BD5\\u8BD5 SSR \\u4E0B\\u7684\\u8868\\u73B0\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(l.p,{children:\"\\u603B\\u4E4B\\uFF0C\\u7011\\u5E03\\u6D41\\u865A\\u62DF\\u5217\\u8868\\u662F\\u4E2A\\u201C\\u5B9D\\u85CF\\u7EC4\\u4EF6\\u201D\\uFF0C\\u65E2\\u80FD\\u63D0\\u5347\\u7528\\u6237\\u4F53\\u9A8C\\uFF0C\\u53C8\\u80FD\\u953B\\u70BC\\u4F60\\u7684\\u6280\\u672F\\u529F\\u5E95\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u7ED9\\u4F60\\u4E00\\u4E9B\\u542F\\u53D1\\uFF0C\\u4E0B\\u6B21\\u5237\\u5C0F\\u7EA2\\u4E66\\u65F6\\uFF0C\\u4E0D\\u59A8\\u60F3\\u60F3\\uFF1A\\u201C\\u8FD9\\u4EE3\\u7801\\u6211\\u4E5F\\u80FD\\u5199\\u51FA\\u6765\\uFF01\\u201D\\u{1F4AA}\"}),`\n`,(0,n.jsx)(l.hr,{}),`\n`,(0,n.jsx)(l.h2,{id:\"\\u7ED3\\u8BED\",children:(0,n.jsx)(l.a,{href:\"#\\u7ED3\\u8BED\",children:\"\\u7ED3\\u8BED\"})}),`\n`,(0,n.jsx)(l.p,{children:\"\\u4ECE\\u539F\\u7406\\u5230\\u4EE3\\u7801\\uFF0C\\u518D\\u5230\\u4F18\\u5316\\uFF0C\\u6211\\u4EEC\\u4E00\\u8D77\\u628A\\u5C0F\\u7EA2\\u4E66\\u7684\\u7011\\u5E03\\u6D41\\u865A\\u62DF\\u5217\\u8868\\u201C\\u89E3\\u5256\\u201D\\u4E86\\u4E00\\u904D\\u3002\\u5B9E\\u73B0\\u8FC7\\u7A0B\\u867D\\u7136\\u6709\\u70B9\\u70E7\\u8111\\uFF0C\\u4F46\\u770B\\u5230\\u4E1D\\u6ED1\\u7684\\u6548\\u679C\\u65F6\\uFF0C\\u90A3\\u79CD\\u6210\\u5C31\\u611F\\u4E0D\\u4E9A\\u4E8E\\u5403\\u5230\\u4E00\\u987F\\u5927\\u9910\\u3002\\u{1F354} \\u5982\\u679C\\u4F60\\u6709\\u66F4\\u597D\\u7684\\u5B9E\\u73B0\\u601D\\u8DEF\\uFF0C\\u6B22\\u8FCE\\u7559\\u8A00\\u4EA4\\u6D41\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u628A\\u524D\\u7AEF\\u73A9\\u51FA\\u82B1\\u6765\\uFF01\"}),`\n`,(0,n.jsx)(l.p,{children:\"\\u6587\\u7AE0\\u5230\\u6B64\\u7ED3\\u675F\\uFF0C\\u4EE3\\u7801\\u5DF2\\u7ECF\\u8DD1\\u901A\\uFF0C\\u613F\\u4F60\\u7684\\u9879\\u76EE\\u6027\\u80FD\\u8D77\\u98DE\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u6EE1\\u5206\\uFF01\\u2728\"}),`\n`,(0,n.jsx)(l.hr,{})]})}function h(e={}){let{wrapper:l}=e.components||{};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}return m(b);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/å¦‚ä½•å®ç°å°çº¢ä¹¦ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/å¦‚ä½•å®ç°å°çº¢ä¹¦ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨.mdx",
    "sourceFileName": "å¦‚ä½•å®ç°å°çº¢ä¹¦ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/å¦‚ä½•å®ç°å°çº¢ä¹¦ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/å¦‚ä½•å®ç°å°çº¢ä¹¦ç€‘å¸ƒæµè™šæ‹Ÿåˆ—è¡¨"
}
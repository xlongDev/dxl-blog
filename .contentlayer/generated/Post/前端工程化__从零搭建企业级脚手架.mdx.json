{
  "title": "从零搭建企业级脚手架：插件化架构设计",
  "date": "2024-05-13T00:00:00.000Z",
  "description": "本文深入解析如何从零开始构建一个企业级脚手架，涵盖插件化架构设计、集成代码生成功能、插件管理及最佳实践，为开发者提供一套高效、灵活、可扩展的脚手架解决方案。",
  "keywords": "企业级脚手架, 插件化架构, 代码生成, 开发工具, 脚手架搭建, 插件系统",
  "author": "晓龙",
  "image": "/images/hero/enterprise-scaffold.jpg",
  "tags": [
    "脚手架",
    "插件化",
    "代码生成",
    "企业级",
    "开发工具"
  ],
  "views": 0,
  "likes": 0,
  "category": "前端工程化",
  "body": {
    "raw": "\n在现代软件开发中，脚手架工具已经成为提升开发效率的重要利器。无论是构建前端项目、后端服务，还是全栈应用，一个高效的脚手架工具都能大幅降低初始搭建成本。而在企业级项目中，对脚手架的需求不仅仅是模板生成，还需要支持灵活的插件化架构和代码生成功能，以便满足复杂、多变的业务场景。\n\n本文将详细介绍如何从零搭建一个企业级脚手架，重点讲解插件化架构设计和代码生成功能的集成，并分享最佳实践和实现思路。\n\n## 目录\n\n1. [企业级脚手架概述](#企业级脚手架概述)\n2. [插件化架构设计原理](#插件化架构设计原理)\n3. [从零构建脚手架：架构设计与技术选型](#从零构建脚手架架构设计与技术选型)\n4. [集成代码生成模块](#集成代码生成模块)\n5. [插件实现与代码示例](#插件实现与代码示例)\n6. [实际应用案例与性能优化](#实际应用案例与性能优化)\n7. [总结与展望](#总结与展望)\n\n---\n\n## 企业级脚手架概述\n\n企业级脚手架不仅仅是一个静态的模板生成工具，而是一个包含丰富扩展机制、自动化代码生成和任务调度的开发平台。它通常具备以下特点：\n\n- **高扩展性**：通过插件机制，实现功能模块的灵活组合和扩展。\n- **自动化代码生成**：根据项目配置自动生成代码，提高开发效率并降低人为错误。\n- **模块化设计**：核心功能和业务逻辑分离，方便维护和升级。\n- **良好的配置管理**：支持多种配置文件格式，让开发者能够轻松定制脚手架行为。\n\n这种脚手架可以帮助团队快速搭建项目结构、统一开发规范，并在项目迭代过程中轻松引入新功能。\n\n---\n\n## 插件化架构设计原理\n\n插件化架构是现代开发工具中常见的设计模式，其核心在于将核心功能和可选扩展解耦，达到灵活、可维护、易扩展的目的。主要原理包括：\n\n- **松耦合**：核心系统与插件之间通过接口或钩子（Hooks）通信，降低相互依赖。\n- **依赖注入**：通过注入依赖，使插件可以访问核心系统的资源或数据。\n- **事件驱动**：插件通过监听特定事件来触发自定义逻辑，保证扩展功能与主流程无缝集成。\n\n这种设计不仅可以让开发者根据项目需求灵活增减功能模块，也使得整个系统在面对业务扩展时更加稳健和易于维护。\n\n---\n\n## 从零构建脚手架：架构设计与技术选型\n\n在搭建企业级脚手架前，我们需要对整体架构做详细规划。下面介绍几个关键模块：\n\n### 1. 核心模块\n\n- **插件管理器**：负责插件的加载、注册、卸载和生命周期管理。插件管理器通过遍历预设插件目录或配置文件，将插件动态加载到系统中。\n- **任务调度器**：管理各个插件或模块间的执行顺序，并提供钩子函数让插件能够挂载自定义逻辑。\n- **配置管理**：统一管理项目配置，可支持 JSON、YAML 等多种配置格式。\n\n### 2. 技术选型\n\n- **编程语言**：主流选择为 JavaScript/TypeScript，兼顾社区生态和开发效率。\n- **构建工具**：可以考虑使用 Rollup 或 Webpack 来构建脚手架核心模块。\n- **CLI 工具**：采用 Node.js 编写命令行工具，支持交互式提示（如 [Inquirer.js](https://github.com/SBoudrias/Inquirer.js)）。\n\n下面是一个插件管理器的简单实现示例：\n\n```js\n// plugin-manager.js\nclass PluginManager {\n  constructor() {\n    this.plugins = [];\n    this.hooks = {};\n  }\n\n  register(plugin) {\n    if (plugin && typeof plugin.apply === \"function\") {\n      this.plugins.push(plugin);\n      plugin.apply(this);\n    }\n  }\n\n  registerHook(name, fn) {\n    if (!this.hooks[name]) {\n      this.hooks[name] = [];\n    }\n    this.hooks[name].push(fn);\n  }\n\n  triggerHook(name, ...args) {\n    if (this.hooks[name]) {\n      this.hooks[name].forEach((fn) => fn(...args));\n    }\n  }\n}\n\nmodule.exports = PluginManager;\n```\n\n---\n\n## 集成代码生成模块\n\n集成代码生成功能是企业级脚手架的一大亮点。通过读取项目模板、配置文件和业务需求，脚手架能够自动生成符合规范的代码文件，从而大幅提升开发效率。集成代码生成模块的关键点包括：\n\n- **模板引擎**：使用诸如 [Handlebars](https://handlebarsjs.com/) 或 [EJS](https://ejs.co/) 的模板引擎，根据用户配置生成对应代码。\n- **动态配置解析**：根据配置文件动态确定生成逻辑，如组件名、API 接口、路由配置等。\n- **插件化扩展**：代码生成过程同样支持插件扩展，允许开发者在生成前后插入自定义逻辑。\n\n### 代码生成示例\n\n以下示例展示如何实现一个简单的 React 组件代码生成器：\n\n```js\n// code-generator.js\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst ejs = require(\"ejs\");\n\nfunction generateComponentCode({ componentName, props = [] }) {\n  const templatePath = path.join(__dirname, \"templates\", \"Component.ejs\");\n  const template = fs.readFileSync(templatePath, \"utf-8\");\n\n  const code = ejs.render(template, { componentName, props });\n  const outputPath = path.join(process.cwd(), `${componentName}.jsx`);\n  fs.writeFileSync(outputPath, code);\n\n  console.log(`组件 ${componentName} 已生成于 ${outputPath}`);\n  return code;\n}\n\nmodule.exports = generateComponentCode;\n```\n\n模板文件 `templates/Component.ejs` 示例：\n\n```ejs\nimport React from 'react';\n\nconst <%= componentName %> = ( { <%= props.join(', ') %> } ) => {\n  return (\n    <div>\n      <h1><%= componentName %> 组件</h1>\n    </div>\n  );\n};\n\nexport default <%= componentName %>;\n```\n\n通过这种方式，用户只需提供组件名称和属性列表，即可快速生成标准化的组件代码，避免重复编码，提高开发效率。\n\n---\n\n## 插件实现与代码示例\n\n在脚手架的插件系统中，每个插件都需要遵循统一的接口，以便被插件管理器识别和调用。下面介绍一个代码生成插件的实现示例：\n\n```js\n// code-gen-plugin.js\nclass CodeGenPlugin {\n  constructor(options) {\n    this.options = options || {};\n  }\n\n  apply(pluginManager) {\n    // 注册在代码生成前后的钩子\n    pluginManager.registerHook(\n      \"beforeGenerate\",\n      this.beforeGenerate.bind(this)\n    );\n    pluginManager.registerHook(\"afterGenerate\", this.afterGenerate.bind(this));\n  }\n\n  beforeGenerate(context) {\n    console.log(\"代码生成前的预处理逻辑\");\n    // 可根据 context 做自定义操作，如调整模板数据\n  }\n\n  afterGenerate(context) {\n    console.log(\"代码生成后的处理逻辑\");\n    // 生成代码后，如自动格式化、代码检查等\n  }\n}\n\nmodule.exports = CodeGenPlugin;\n```\n\n### 插件工作流程示意图\n\n下面是插件化架构与代码生成流程的简化示意图：\n\n```\n+---------------------+\n|    用户输入需求     |\n+---------+-----------+\n          |\n          v\n+---------+-----------+\n|  解析配置文件 & 插件  |\n+---------+-----------+\n          |\n          v\n+---------+-----------+\n| 调用 beforeGenerate |\n|      钩子函数       |\n+---------+-----------+\n          |\n          v\n+---------+-----------+\n|    生成代码模块     |\n+---------+-----------+\n          |\n          v\n+---------+-----------+\n| 调用 afterGenerate  |\n|      钩子函数       |\n+---------+-----------+\n          |\n          v\n+---------+-----------+\n|   输出生成代码      |\n+---------------------+\n```\n\n这种设计使得整个代码生成过程不仅自动化，而且具备灵活扩展能力，开发者可以轻松地添加或替换部分逻辑来满足个性化需求。\n\n---\n\n## 实际应用案例与性能优化\n\n我们在团队开发的一个大型电商平台中，脚手架工具每天要处理超过 1000 次的代码生成任务。随着业务规模的扩大，我们遇到了一些典型的性能瓶颈和实践问题，以下是我们总结的优化经验：\n\n### 性能优化实践\n\n1. **异步并行加载**\n\n   - 将插件加载机制从同步改为异步，使用 Promise.all 并行加载多个插件\n   - 实测提升插件加载速度约 60%，启动时间从 3s 降至 1.2s\n   - 注意：部分插件可能存在依赖关系，需要维护加载顺序\n\n2. **多级缓存策略**\n\n   - 内存缓存：对常用模板和配置采用 LRU 缓存\n   - 文件缓存：将编译后的模板存储在本地，避免重复编译\n   - 实际效果：模板渲染速度提升约 80%，从 300ms 降至 60ms\n\n3. **智能错误处理**\n   - 实现错误重试机制，对网络请求等不稳定操作自动重试\n   - 引入错误分类系统，区分致命错误和可恢复错误\n   - 集成错误上报服务，记录详细的错误栈和上下文信息\n\n### 实战踩坑记录\n\n1. **模板引擎选型踩坑**\n   最初我们选择了 Handlebars，但在处理复杂逻辑时遇到了局限性：\n\n   ```js\n   // 错误示例：Handlebars 不支持复杂的逻辑运算\n   {{#if (complex_logic param1 param2)}}\n     // 这里会报错\n   {{/if}}\n   ```\n\n   后来切换到 EJS，不仅支持完整的 JavaScript 语法，还能更好地处理异步逻辑：\n\n   ```js\n   <% if (await someAsyncCheck(param)) { %>\n     // 支持异步操作\n   <% } %>\n   ```\n\n2. **插件热更新问题**\n   在开发环境中，我们发现插件更新后需要重启整个服务才能生效。解决方案：\n\n   ```js\n   // 实现插件热更新机制\n   class PluginManager {\n     async reloadPlugin(pluginName) {\n       // 清除 require 缓存\n       delete require.cache[require.resolve(pluginPath)];\n       // 重新加载插件\n       const plugin = require(pluginPath);\n       // 更新插件实例\n       this.updatePlugin(pluginName, plugin);\n     }\n   }\n   ```\n\n3. **内存泄漏排查**\n   在长期运行过程中发现内存占用持续增长，排查发现是模板缓存未及时清理导致：\n   ```js\n   // 优化后的缓存管理\n   class TemplateCache {\n     constructor(maxSize = 100) {\n       this.cache = new LRU({\n         max: maxSize,\n         maxAge: 1000 * 60 * 60, // 1小时后自动失效\n         updateAgeOnGet: true,\n       });\n     }\n   }\n   ```\n\n### 最佳实践建议\n\n1. **渐进式开发**\n\n   - 先搭建核心框架，实现基础功能\n   - 根据实际需求逐步添加插件\n   - 保持架构的简洁性，避免过度设计\n\n2. **版本管理**\n\n   - 为脚手架工具维护语义化版本\n   - 提供版本迁移工具和文档\n   - 建立插件兼容性测试机制\n\n3. **开发体验优化**\n   - 提供详细的调试信息和错误提示\n   - 支持本地开发环境的热更新\n   - 完善的文档和示例代码\n\n在实际项目中，我们通过这些优化措施，将代码生成效率提升了 3 倍，错误率降低了 80%，极大地提升了团队的开发效率。\n\n---\n\n## 总结与展望\n\n本文从企业级脚手架的背景出发，详细讲解了如何从零构建一个支持插件化架构和代码生成功能的脚手架工具。主要内容包括：\n\n- **企业级脚手架的定义和优势**\n- **插件化架构设计原理与实现思路**\n- **集成代码生成模块的具体方案及实现示例**\n- **实际案例中的应用和性能优化建议**\n\n未来，随着企业项目需求的不断升级，脚手架工具将朝着更加模块化、智能化和可定制化方向发展。希望本文能为开发者在构建和扩展企业级脚手架时提供有价值的参考，同时也欢迎社区贡献更多插件和优化方案，共同推动开发工具生态的进步。\n\nHappy Coding!\n",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var B=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),u=(e,n)=>{for(var r in n)a(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,i)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of y(n))!g.call(e,c)&&c!==r&&a(e,c,{get:()=>n[c],enumerable:!(i=E(n,c))||i.enumerable});return e};var m=(e,n,r)=>(r=e!=null?p(F(e)):{},s(n||!e||!e.__esModule?a(r,\"default\",{value:e,enumerable:!0}):r,e)),f=e=>s(a({},\"__esModule\",{value:!0}),e);var h=B((C,d)=>{d.exports=_jsx_runtime});var b={};u(b,{default:()=>t,frontmatter:()=>A});var l=m(h()),A={type:\"Post\",title:\"\\u4ECE\\u96F6\\u642D\\u5EFA\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\uFF1A\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u8BBE\\u8BA1\",date:\"2024-05-13\",description:\"\\u672C\\u6587\\u6DF1\\u5165\\u89E3\\u6790\\u5982\\u4F55\\u4ECE\\u96F6\\u5F00\\u59CB\\u6784\\u5EFA\\u4E00\\u4E2A\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\uFF0C\\u6DB5\\u76D6\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u8BBE\\u8BA1\\u3001\\u96C6\\u6210\\u4EE3\\u7801\\u751F\\u6210\\u529F\\u80FD\\u3001\\u63D2\\u4EF6\\u7BA1\\u7406\\u53CA\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u4E3A\\u5F00\\u53D1\\u8005\\u63D0\\u4F9B\\u4E00\\u5957\\u9AD8\\u6548\\u3001\\u7075\\u6D3B\\u3001\\u53EF\\u6269\\u5C55\\u7684\\u811A\\u624B\\u67B6\\u89E3\\u51B3\\u65B9\\u6848\\u3002\",keywords:\"\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6, \\u63D2\\u4EF6\\u5316\\u67B6\\u6784, \\u4EE3\\u7801\\u751F\\u6210, \\u5F00\\u53D1\\u5DE5\\u5177, \\u811A\\u624B\\u67B6\\u642D\\u5EFA, \\u63D2\\u4EF6\\u7CFB\\u7EDF\",author:\"\\u6653\\u9F99\",image:\"/images/hero/enterprise-scaffold.jpg\",tags:[\"\\u811A\\u624B\\u67B6\",\"\\u63D2\\u4EF6\\u5316\",\"\\u4EE3\\u7801\\u751F\\u6210\",\"\\u4F01\\u4E1A\\u7EA7\",\"\\u5F00\\u53D1\\u5DE5\\u5177\"],category:\"\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5316\"};function o(e){let n={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:\"\\u5728\\u73B0\\u4EE3\\u8F6F\\u4EF6\\u5F00\\u53D1\\u4E2D\\uFF0C\\u811A\\u624B\\u67B6\\u5DE5\\u5177\\u5DF2\\u7ECF\\u6210\\u4E3A\\u63D0\\u5347\\u5F00\\u53D1\\u6548\\u7387\\u7684\\u91CD\\u8981\\u5229\\u5668\\u3002\\u65E0\\u8BBA\\u662F\\u6784\\u5EFA\\u524D\\u7AEF\\u9879\\u76EE\\u3001\\u540E\\u7AEF\\u670D\\u52A1\\uFF0C\\u8FD8\\u662F\\u5168\\u6808\\u5E94\\u7528\\uFF0C\\u4E00\\u4E2A\\u9AD8\\u6548\\u7684\\u811A\\u624B\\u67B6\\u5DE5\\u5177\\u90FD\\u80FD\\u5927\\u5E45\\u964D\\u4F4E\\u521D\\u59CB\\u642D\\u5EFA\\u6210\\u672C\\u3002\\u800C\\u5728\\u4F01\\u4E1A\\u7EA7\\u9879\\u76EE\\u4E2D\\uFF0C\\u5BF9\\u811A\\u624B\\u67B6\\u7684\\u9700\\u6C42\\u4E0D\\u4EC5\\u4EC5\\u662F\\u6A21\\u677F\\u751F\\u6210\\uFF0C\\u8FD8\\u9700\\u8981\\u652F\\u6301\\u7075\\u6D3B\\u7684\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u548C\\u4EE3\\u7801\\u751F\\u6210\\u529F\\u80FD\\uFF0C\\u4EE5\\u4FBF\\u6EE1\\u8DB3\\u590D\\u6742\\u3001\\u591A\\u53D8\\u7684\\u4E1A\\u52A1\\u573A\\u666F\\u3002\"}),`\n`,(0,l.jsx)(n.p,{children:\"\\u672C\\u6587\\u5C06\\u8BE6\\u7EC6\\u4ECB\\u7ECD\\u5982\\u4F55\\u4ECE\\u96F6\\u642D\\u5EFA\\u4E00\\u4E2A\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\uFF0C\\u91CD\\u70B9\\u8BB2\\u89E3\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u8BBE\\u8BA1\\u548C\\u4EE3\\u7801\\u751F\\u6210\\u529F\\u80FD\\u7684\\u96C6\\u6210\\uFF0C\\u5E76\\u5206\\u4EAB\\u6700\\u4F73\\u5B9E\\u8DF5\\u548C\\u5B9E\\u73B0\\u601D\\u8DEF\\u3002\"}),`\n`,(0,l.jsx)(n.h2,{id:\"\\u76EE\\u5F55\",children:(0,l.jsx)(n.a,{href:\"#\\u76EE\\u5F55\",children:\"\\u76EE\\u5F55\"})}),`\n`,(0,l.jsxs)(n.ol,{children:[`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:\"#%E4%BC%81%E4%B8%9A%E7%BA%A7%E8%84%9A%E6%89%8B%E6%9E%B6%E6%A6%82%E8%BF%B0\",children:\"\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u6982\\u8FF0\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:\"#%E6%8F%92%E4%BB%B6%E5%8C%96%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86\",children:\"\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u8BBE\\u8BA1\\u539F\\u7406\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:\"#%E4%BB%8E%E9%9B%B6%E6%9E%84%E5%BB%BA%E8%84%9A%E6%89%8B%E6%9E%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B\",children:\"\\u4ECE\\u96F6\\u6784\\u5EFA\\u811A\\u624B\\u67B6\\uFF1A\\u67B6\\u6784\\u8BBE\\u8BA1\\u4E0E\\u6280\\u672F\\u9009\\u578B\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:\"#%E9%9B%86%E6%88%90%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E6%A8%A1%E5%9D%97\",children:\"\\u96C6\\u6210\\u4EE3\\u7801\\u751F\\u6210\\u6A21\\u5757\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:\"#%E6%8F%92%E4%BB%B6%E5%AE%9E%E7%8E%B0%E4%B8%8E%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B\",children:\"\\u63D2\\u4EF6\\u5B9E\\u73B0\\u4E0E\\u4EE3\\u7801\\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:\"#%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96\",children:\"\\u5B9E\\u9645\\u5E94\\u7528\\u6848\\u4F8B\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:\"#%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B\",children:\"\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\"})}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{id:\"\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u6982\\u8FF0\",children:(0,l.jsx)(n.a,{href:\"#\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u6982\\u8FF0\",children:\"\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u6982\\u8FF0\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u4E0D\\u4EC5\\u4EC5\\u662F\\u4E00\\u4E2A\\u9759\\u6001\\u7684\\u6A21\\u677F\\u751F\\u6210\\u5DE5\\u5177\\uFF0C\\u800C\\u662F\\u4E00\\u4E2A\\u5305\\u542B\\u4E30\\u5BCC\\u6269\\u5C55\\u673A\\u5236\\u3001\\u81EA\\u52A8\\u5316\\u4EE3\\u7801\\u751F\\u6210\\u548C\\u4EFB\\u52A1\\u8C03\\u5EA6\\u7684\\u5F00\\u53D1\\u5E73\\u53F0\\u3002\\u5B83\\u901A\\u5E38\\u5177\\u5907\\u4EE5\\u4E0B\\u7279\\u70B9\\uFF1A\"}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u9AD8\\u6269\\u5C55\\u6027\"}),\"\\uFF1A\\u901A\\u8FC7\\u63D2\\u4EF6\\u673A\\u5236\\uFF0C\\u5B9E\\u73B0\\u529F\\u80FD\\u6A21\\u5757\\u7684\\u7075\\u6D3B\\u7EC4\\u5408\\u548C\\u6269\\u5C55\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u81EA\\u52A8\\u5316\\u4EE3\\u7801\\u751F\\u6210\"}),\"\\uFF1A\\u6839\\u636E\\u9879\\u76EE\\u914D\\u7F6E\\u81EA\\u52A8\\u751F\\u6210\\u4EE3\\u7801\\uFF0C\\u63D0\\u9AD8\\u5F00\\u53D1\\u6548\\u7387\\u5E76\\u964D\\u4F4E\\u4EBA\\u4E3A\\u9519\\u8BEF\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u6A21\\u5757\\u5316\\u8BBE\\u8BA1\"}),\"\\uFF1A\\u6838\\u5FC3\\u529F\\u80FD\\u548C\\u4E1A\\u52A1\\u903B\\u8F91\\u5206\\u79BB\\uFF0C\\u65B9\\u4FBF\\u7EF4\\u62A4\\u548C\\u5347\\u7EA7\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u826F\\u597D\\u7684\\u914D\\u7F6E\\u7BA1\\u7406\"}),\"\\uFF1A\\u652F\\u6301\\u591A\\u79CD\\u914D\\u7F6E\\u6587\\u4EF6\\u683C\\u5F0F\\uFF0C\\u8BA9\\u5F00\\u53D1\\u8005\\u80FD\\u591F\\u8F7B\\u677E\\u5B9A\\u5236\\u811A\\u624B\\u67B6\\u884C\\u4E3A\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(n.p,{children:\"\\u8FD9\\u79CD\\u811A\\u624B\\u67B6\\u53EF\\u4EE5\\u5E2E\\u52A9\\u56E2\\u961F\\u5FEB\\u901F\\u642D\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\\u3001\\u7EDF\\u4E00\\u5F00\\u53D1\\u89C4\\u8303\\uFF0C\\u5E76\\u5728\\u9879\\u76EE\\u8FED\\u4EE3\\u8FC7\\u7A0B\\u4E2D\\u8F7B\\u677E\\u5F15\\u5165\\u65B0\\u529F\\u80FD\\u3002\"}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{id:\"\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u8BBE\\u8BA1\\u539F\\u7406\",children:(0,l.jsx)(n.a,{href:\"#\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u8BBE\\u8BA1\\u539F\\u7406\",children:\"\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u8BBE\\u8BA1\\u539F\\u7406\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u662F\\u73B0\\u4EE3\\u5F00\\u53D1\\u5DE5\\u5177\\u4E2D\\u5E38\\u89C1\\u7684\\u8BBE\\u8BA1\\u6A21\\u5F0F\\uFF0C\\u5176\\u6838\\u5FC3\\u5728\\u4E8E\\u5C06\\u6838\\u5FC3\\u529F\\u80FD\\u548C\\u53EF\\u9009\\u6269\\u5C55\\u89E3\\u8026\\uFF0C\\u8FBE\\u5230\\u7075\\u6D3B\\u3001\\u53EF\\u7EF4\\u62A4\\u3001\\u6613\\u6269\\u5C55\\u7684\\u76EE\\u7684\\u3002\\u4E3B\\u8981\\u539F\\u7406\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u677E\\u8026\\u5408\"}),\"\\uFF1A\\u6838\\u5FC3\\u7CFB\\u7EDF\\u4E0E\\u63D2\\u4EF6\\u4E4B\\u95F4\\u901A\\u8FC7\\u63A5\\u53E3\\u6216\\u94A9\\u5B50\\uFF08Hooks\\uFF09\\u901A\\u4FE1\\uFF0C\\u964D\\u4F4E\\u76F8\\u4E92\\u4F9D\\u8D56\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u4F9D\\u8D56\\u6CE8\\u5165\"}),\"\\uFF1A\\u901A\\u8FC7\\u6CE8\\u5165\\u4F9D\\u8D56\\uFF0C\\u4F7F\\u63D2\\u4EF6\\u53EF\\u4EE5\\u8BBF\\u95EE\\u6838\\u5FC3\\u7CFB\\u7EDF\\u7684\\u8D44\\u6E90\\u6216\\u6570\\u636E\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u4E8B\\u4EF6\\u9A71\\u52A8\"}),\"\\uFF1A\\u63D2\\u4EF6\\u901A\\u8FC7\\u76D1\\u542C\\u7279\\u5B9A\\u4E8B\\u4EF6\\u6765\\u89E6\\u53D1\\u81EA\\u5B9A\\u4E49\\u903B\\u8F91\\uFF0C\\u4FDD\\u8BC1\\u6269\\u5C55\\u529F\\u80FD\\u4E0E\\u4E3B\\u6D41\\u7A0B\\u65E0\\u7F1D\\u96C6\\u6210\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(n.p,{children:\"\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u4E0D\\u4EC5\\u53EF\\u4EE5\\u8BA9\\u5F00\\u53D1\\u8005\\u6839\\u636E\\u9879\\u76EE\\u9700\\u6C42\\u7075\\u6D3B\\u589E\\u51CF\\u529F\\u80FD\\u6A21\\u5757\\uFF0C\\u4E5F\\u4F7F\\u5F97\\u6574\\u4E2A\\u7CFB\\u7EDF\\u5728\\u9762\\u5BF9\\u4E1A\\u52A1\\u6269\\u5C55\\u65F6\\u66F4\\u52A0\\u7A33\\u5065\\u548C\\u6613\\u4E8E\\u7EF4\\u62A4\\u3002\"}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{id:\"\\u4ECE\\u96F6\\u6784\\u5EFA\\u811A\\u624B\\u67B6\\u67B6\\u6784\\u8BBE\\u8BA1\\u4E0E\\u6280\\u672F\\u9009\\u578B\",children:(0,l.jsx)(n.a,{href:\"#\\u4ECE\\u96F6\\u6784\\u5EFA\\u811A\\u624B\\u67B6\\u67B6\\u6784\\u8BBE\\u8BA1\\u4E0E\\u6280\\u672F\\u9009\\u578B\",children:\"\\u4ECE\\u96F6\\u6784\\u5EFA\\u811A\\u624B\\u67B6\\uFF1A\\u67B6\\u6784\\u8BBE\\u8BA1\\u4E0E\\u6280\\u672F\\u9009\\u578B\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u5728\\u642D\\u5EFA\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u524D\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5BF9\\u6574\\u4F53\\u67B6\\u6784\\u505A\\u8BE6\\u7EC6\\u89C4\\u5212\\u3002\\u4E0B\\u9762\\u4ECB\\u7ECD\\u51E0\\u4E2A\\u5173\\u952E\\u6A21\\u5757\\uFF1A\"}),`\n`,(0,l.jsx)(n.h3,{id:\"1-\\u6838\\u5FC3\\u6A21\\u5757\",children:(0,l.jsx)(n.a,{href:\"#1-\\u6838\\u5FC3\\u6A21\\u5757\",children:\"1. \\u6838\\u5FC3\\u6A21\\u5757\"})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u63D2\\u4EF6\\u7BA1\\u7406\\u5668\"}),\"\\uFF1A\\u8D1F\\u8D23\\u63D2\\u4EF6\\u7684\\u52A0\\u8F7D\\u3001\\u6CE8\\u518C\\u3001\\u5378\\u8F7D\\u548C\\u751F\\u547D\\u5468\\u671F\\u7BA1\\u7406\\u3002\\u63D2\\u4EF6\\u7BA1\\u7406\\u5668\\u901A\\u8FC7\\u904D\\u5386\\u9884\\u8BBE\\u63D2\\u4EF6\\u76EE\\u5F55\\u6216\\u914D\\u7F6E\\u6587\\u4EF6\\uFF0C\\u5C06\\u63D2\\u4EF6\\u52A8\\u6001\\u52A0\\u8F7D\\u5230\\u7CFB\\u7EDF\\u4E2D\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u4EFB\\u52A1\\u8C03\\u5EA6\\u5668\"}),\"\\uFF1A\\u7BA1\\u7406\\u5404\\u4E2A\\u63D2\\u4EF6\\u6216\\u6A21\\u5757\\u95F4\\u7684\\u6267\\u884C\\u987A\\u5E8F\\uFF0C\\u5E76\\u63D0\\u4F9B\\u94A9\\u5B50\\u51FD\\u6570\\u8BA9\\u63D2\\u4EF6\\u80FD\\u591F\\u6302\\u8F7D\\u81EA\\u5B9A\\u4E49\\u903B\\u8F91\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u914D\\u7F6E\\u7BA1\\u7406\"}),\"\\uFF1A\\u7EDF\\u4E00\\u7BA1\\u7406\\u9879\\u76EE\\u914D\\u7F6E\\uFF0C\\u53EF\\u652F\\u6301 JSON\\u3001YAML \\u7B49\\u591A\\u79CD\\u914D\\u7F6E\\u683C\\u5F0F\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(n.h3,{id:\"2-\\u6280\\u672F\\u9009\\u578B\",children:(0,l.jsx)(n.a,{href:\"#2-\\u6280\\u672F\\u9009\\u578B\",children:\"2. \\u6280\\u672F\\u9009\\u578B\"})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u7F16\\u7A0B\\u8BED\\u8A00\"}),\"\\uFF1A\\u4E3B\\u6D41\\u9009\\u62E9\\u4E3A JavaScript/TypeScript\\uFF0C\\u517C\\u987E\\u793E\\u533A\\u751F\\u6001\\u548C\\u5F00\\u53D1\\u6548\\u7387\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u6784\\u5EFA\\u5DE5\\u5177\"}),\"\\uFF1A\\u53EF\\u4EE5\\u8003\\u8651\\u4F7F\\u7528 Rollup \\u6216 Webpack \\u6765\\u6784\\u5EFA\\u811A\\u624B\\u67B6\\u6838\\u5FC3\\u6A21\\u5757\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"CLI \\u5DE5\\u5177\"}),\"\\uFF1A\\u91C7\\u7528 Node.js \\u7F16\\u5199\\u547D\\u4EE4\\u884C\\u5DE5\\u5177\\uFF0C\\u652F\\u6301\\u4EA4\\u4E92\\u5F0F\\u63D0\\u793A\\uFF08\\u5982 \",(0,l.jsx)(n.a,{href:\"https://github.com/SBoudrias/Inquirer.js\",children:\"Inquirer.js\"}),\"\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(n.p,{children:\"\\u4E0B\\u9762\\u662F\\u4E00\\u4E2A\\u63D2\\u4EF6\\u7BA1\\u7406\\u5668\\u7684\\u7B80\\u5355\\u5B9E\\u73B0\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// plugin-manager.js\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" PluginManager\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".plugins \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".hooks \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  register\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"plugin\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (plugin \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" typeof\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" plugin.apply \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' \"function\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".plugins.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(plugin);\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      plugin.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"apply\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  registerHook\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"name\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".hooks[name]) {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".hooks[name] \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [];\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".hooks[name].\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(fn);\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  triggerHook\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"name\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"args\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".hooks[name]) {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".hooks[name].\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"forEach\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"fn\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" fn\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"args));\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" PluginManager;\"})]})]})})}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{id:\"\\u96C6\\u6210\\u4EE3\\u7801\\u751F\\u6210\\u6A21\\u5757\",children:(0,l.jsx)(n.a,{href:\"#\\u96C6\\u6210\\u4EE3\\u7801\\u751F\\u6210\\u6A21\\u5757\",children:\"\\u96C6\\u6210\\u4EE3\\u7801\\u751F\\u6210\\u6A21\\u5757\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u96C6\\u6210\\u4EE3\\u7801\\u751F\\u6210\\u529F\\u80FD\\u662F\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u7684\\u4E00\\u5927\\u4EAE\\u70B9\\u3002\\u901A\\u8FC7\\u8BFB\\u53D6\\u9879\\u76EE\\u6A21\\u677F\\u3001\\u914D\\u7F6E\\u6587\\u4EF6\\u548C\\u4E1A\\u52A1\\u9700\\u6C42\\uFF0C\\u811A\\u624B\\u67B6\\u80FD\\u591F\\u81EA\\u52A8\\u751F\\u6210\\u7B26\\u5408\\u89C4\\u8303\\u7684\\u4EE3\\u7801\\u6587\\u4EF6\\uFF0C\\u4ECE\\u800C\\u5927\\u5E45\\u63D0\\u5347\\u5F00\\u53D1\\u6548\\u7387\\u3002\\u96C6\\u6210\\u4EE3\\u7801\\u751F\\u6210\\u6A21\\u5757\\u7684\\u5173\\u952E\\u70B9\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u6A21\\u677F\\u5F15\\u64CE\"}),\"\\uFF1A\\u4F7F\\u7528\\u8BF8\\u5982 \",(0,l.jsx)(n.a,{href:\"https://handlebarsjs.com/\",children:\"Handlebars\"}),\" \\u6216 \",(0,l.jsx)(n.a,{href:\"https://ejs.co/\",children:\"EJS\"}),\" \\u7684\\u6A21\\u677F\\u5F15\\u64CE\\uFF0C\\u6839\\u636E\\u7528\\u6237\\u914D\\u7F6E\\u751F\\u6210\\u5BF9\\u5E94\\u4EE3\\u7801\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u52A8\\u6001\\u914D\\u7F6E\\u89E3\\u6790\"}),\"\\uFF1A\\u6839\\u636E\\u914D\\u7F6E\\u6587\\u4EF6\\u52A8\\u6001\\u786E\\u5B9A\\u751F\\u6210\\u903B\\u8F91\\uFF0C\\u5982\\u7EC4\\u4EF6\\u540D\\u3001API \\u63A5\\u53E3\\u3001\\u8DEF\\u7531\\u914D\\u7F6E\\u7B49\\u3002\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"\\u63D2\\u4EF6\\u5316\\u6269\\u5C55\"}),\"\\uFF1A\\u4EE3\\u7801\\u751F\\u6210\\u8FC7\\u7A0B\\u540C\\u6837\\u652F\\u6301\\u63D2\\u4EF6\\u6269\\u5C55\\uFF0C\\u5141\\u8BB8\\u5F00\\u53D1\\u8005\\u5728\\u751F\\u6210\\u524D\\u540E\\u63D2\\u5165\\u81EA\\u5B9A\\u4E49\\u903B\\u8F91\\u3002\"]}),`\n`]}),`\n`,(0,l.jsx)(n.h3,{id:\"\\u4EE3\\u7801\\u751F\\u6210\\u793A\\u4F8B\",children:(0,l.jsx)(n.a,{href:\"#\\u4EE3\\u7801\\u751F\\u6210\\u793A\\u4F8B\",children:\"\\u4EE3\\u7801\\u751F\\u6210\\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u4EE5\\u4E0B\\u793A\\u4F8B\\u5C55\\u793A\\u5982\\u4F55\\u5B9E\\u73B0\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 React \\u7EC4\\u4EF6\\u4EE3\\u7801\\u751F\\u6210\\u5668\\uFF1A\"}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// code-generator.js\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" fs\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"fs\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" path\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"path\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" ejs\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"ejs\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" generateComponentCode\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"componentName\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"props\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [] }) {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" templatePath\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" path.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"join\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(__dirname, \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"templates\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Component.ejs\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" template\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" fs.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"readFileSync\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(templatePath, \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"utf-8\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" code\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" ejs.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"render\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(template, { componentName, props });\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" outputPath\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" path.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"join\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(process.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"cwd\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"componentName\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}.jsx`\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  fs.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"writeFileSync\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(outputPath, code);\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`\\u7EC4\\u4EF6 ${\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"componentName\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"} \\u5DF2\\u751F\\u6210\\u4E8E ${\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"outputPath\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" code;\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" generateComponentCode;\"})]})]})})}),`\n`,(0,l.jsxs)(n.p,{children:[\"\\u6A21\\u677F\\u6587\\u4EF6 \",(0,l.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"templates/Component.ejs\"})})})}),\" \\u793A\\u4F8B\\uFF1A\"]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"ejs\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"ejs\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"import React from 'react';\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"const <%= componentName %> = ( { <%= props.join(', ') %> } ) => {\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"  return (\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"    <div>\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"      <h1><%= componentName %> \\u7EC4\\u4EF6</h1>\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"    </div>\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"  );\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"};\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"export default <%= componentName %>;\"})})]})})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u901A\\u8FC7\\u8FD9\\u79CD\\u65B9\\u5F0F\\uFF0C\\u7528\\u6237\\u53EA\\u9700\\u63D0\\u4F9B\\u7EC4\\u4EF6\\u540D\\u79F0\\u548C\\u5C5E\\u6027\\u5217\\u8868\\uFF0C\\u5373\\u53EF\\u5FEB\\u901F\\u751F\\u6210\\u6807\\u51C6\\u5316\\u7684\\u7EC4\\u4EF6\\u4EE3\\u7801\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u7F16\\u7801\\uFF0C\\u63D0\\u9AD8\\u5F00\\u53D1\\u6548\\u7387\\u3002\"}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{id:\"\\u63D2\\u4EF6\\u5B9E\\u73B0\\u4E0E\\u4EE3\\u7801\\u793A\\u4F8B\",children:(0,l.jsx)(n.a,{href:\"#\\u63D2\\u4EF6\\u5B9E\\u73B0\\u4E0E\\u4EE3\\u7801\\u793A\\u4F8B\",children:\"\\u63D2\\u4EF6\\u5B9E\\u73B0\\u4E0E\\u4EE3\\u7801\\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u5728\\u811A\\u624B\\u67B6\\u7684\\u63D2\\u4EF6\\u7CFB\\u7EDF\\u4E2D\\uFF0C\\u6BCF\\u4E2A\\u63D2\\u4EF6\\u90FD\\u9700\\u8981\\u9075\\u5FAA\\u7EDF\\u4E00\\u7684\\u63A5\\u53E3\\uFF0C\\u4EE5\\u4FBF\\u88AB\\u63D2\\u4EF6\\u7BA1\\u7406\\u5668\\u8BC6\\u522B\\u548C\\u8C03\\u7528\\u3002\\u4E0B\\u9762\\u4ECB\\u7ECD\\u4E00\\u4E2A\\u4EE3\\u7801\\u751F\\u6210\\u63D2\\u4EF6\\u7684\\u5B9E\\u73B0\\u793A\\u4F8B\\uFF1A\"}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// code-gen-plugin.js\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" CodeGenPlugin\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"options\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".options \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" options \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {};\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  apply\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"pluginManager\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u6CE8\\u518C\\u5728\\u4EE3\\u7801\\u751F\\u6210\\u524D\\u540E\\u7684\\u94A9\\u5B50\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    pluginManager.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"registerHook\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'      \"beforeGenerate\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"      this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".beforeGenerate.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"bind\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    pluginManager.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"registerHook\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"afterGenerate\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".afterGenerate.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"bind\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  beforeGenerate\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"context\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4EE3\\u7801\\u751F\\u6210\\u524D\\u7684\\u9884\\u5904\\u7406\\u903B\\u8F91\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u53EF\\u6839\\u636E context \\u505A\\u81EA\\u5B9A\\u4E49\\u64CD\\u4F5C\\uFF0C\\u5982\\u8C03\\u6574\\u6A21\\u677F\\u6570\\u636E\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  afterGenerate\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"context\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4EE3\\u7801\\u751F\\u6210\\u540E\\u7684\\u5904\\u7406\\u903B\\u8F91\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u751F\\u6210\\u4EE3\\u7801\\u540E\\uFF0C\\u5982\\u81EA\\u52A8\\u683C\\u5F0F\\u5316\\u3001\\u4EE3\\u7801\\u68C0\\u67E5\\u7B49\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"module\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"exports\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" CodeGenPlugin;\"})]})]})})}),`\n`,(0,l.jsx)(n.h3,{id:\"\\u63D2\\u4EF6\\u5DE5\\u4F5C\\u6D41\\u7A0B\\u793A\\u610F\\u56FE\",children:(0,l.jsx)(n.a,{href:\"#\\u63D2\\u4EF6\\u5DE5\\u4F5C\\u6D41\\u7A0B\\u793A\\u610F\\u56FE\",children:\"\\u63D2\\u4EF6\\u5DE5\\u4F5C\\u6D41\\u7A0B\\u793A\\u610F\\u56FE\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u4E0B\\u9762\\u662F\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u4E0E\\u4EE3\\u7801\\u751F\\u6210\\u6D41\\u7A0B\\u7684\\u7B80\\u5316\\u793A\\u610F\\u56FE\\uFF1A\"}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------------------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"|    \\u7528\\u6237\\u8F93\\u5165\\u9700\\u6C42     |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          v\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"|  \\u89E3\\u6790\\u914D\\u7F6E\\u6587\\u4EF6 & \\u63D2\\u4EF6  |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          v\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"| \\u8C03\\u7528 beforeGenerate |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"|      \\u94A9\\u5B50\\u51FD\\u6570       |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          v\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"|    \\u751F\\u6210\\u4EE3\\u7801\\u6A21\\u5757     |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          v\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"| \\u8C03\\u7528 afterGenerate  |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"|      \\u94A9\\u5B50\\u51FD\\u6570       |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"          v\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------+-----------+\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"|   \\u8F93\\u51FA\\u751F\\u6210\\u4EE3\\u7801      |\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{children:\"+---------------------+\"})})]})})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u4F7F\\u5F97\\u6574\\u4E2A\\u4EE3\\u7801\\u751F\\u6210\\u8FC7\\u7A0B\\u4E0D\\u4EC5\\u81EA\\u52A8\\u5316\\uFF0C\\u800C\\u4E14\\u5177\\u5907\\u7075\\u6D3B\\u6269\\u5C55\\u80FD\\u529B\\uFF0C\\u5F00\\u53D1\\u8005\\u53EF\\u4EE5\\u8F7B\\u677E\\u5730\\u6DFB\\u52A0\\u6216\\u66FF\\u6362\\u90E8\\u5206\\u903B\\u8F91\\u6765\\u6EE1\\u8DB3\\u4E2A\\u6027\\u5316\\u9700\\u6C42\\u3002\"}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{id:\"\\u5B9E\\u9645\\u5E94\\u7528\\u6848\\u4F8B\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",children:(0,l.jsx)(n.a,{href:\"#\\u5B9E\\u9645\\u5E94\\u7528\\u6848\\u4F8B\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",children:\"\\u5B9E\\u9645\\u5E94\\u7528\\u6848\\u4F8B\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u5728\\u56E2\\u961F\\u5F00\\u53D1\\u7684\\u4E00\\u4E2A\\u5927\\u578B\\u7535\\u5546\\u5E73\\u53F0\\u4E2D\\uFF0C\\u811A\\u624B\\u67B6\\u5DE5\\u5177\\u6BCF\\u5929\\u8981\\u5904\\u7406\\u8D85\\u8FC7 1000 \\u6B21\\u7684\\u4EE3\\u7801\\u751F\\u6210\\u4EFB\\u52A1\\u3002\\u968F\\u7740\\u4E1A\\u52A1\\u89C4\\u6A21\\u7684\\u6269\\u5927\\uFF0C\\u6211\\u4EEC\\u9047\\u5230\\u4E86\\u4E00\\u4E9B\\u5178\\u578B\\u7684\\u6027\\u80FD\\u74F6\\u9888\\u548C\\u5B9E\\u8DF5\\u95EE\\u9898\\uFF0C\\u4EE5\\u4E0B\\u662F\\u6211\\u4EEC\\u603B\\u7ED3\\u7684\\u4F18\\u5316\\u7ECF\\u9A8C\\uFF1A\"}),`\n`,(0,l.jsx)(n.h3,{id:\"\\u6027\\u80FD\\u4F18\\u5316\\u5B9E\\u8DF5\",children:(0,l.jsx)(n.a,{href:\"#\\u6027\\u80FD\\u4F18\\u5316\\u5B9E\\u8DF5\",children:\"\\u6027\\u80FD\\u4F18\\u5316\\u5B9E\\u8DF5\"})}),`\n`,(0,l.jsxs)(n.ol,{children:[`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:\"\\u5F02\\u6B65\\u5E76\\u884C\\u52A0\\u8F7D\"})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsx)(n.li,{children:\"\\u5C06\\u63D2\\u4EF6\\u52A0\\u8F7D\\u673A\\u5236\\u4ECE\\u540C\\u6B65\\u6539\\u4E3A\\u5F02\\u6B65\\uFF0C\\u4F7F\\u7528 Promise.all \\u5E76\\u884C\\u52A0\\u8F7D\\u591A\\u4E2A\\u63D2\\u4EF6\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u5B9E\\u6D4B\\u63D0\\u5347\\u63D2\\u4EF6\\u52A0\\u8F7D\\u901F\\u5EA6\\u7EA6 60%\\uFF0C\\u542F\\u52A8\\u65F6\\u95F4\\u4ECE 3s \\u964D\\u81F3 1.2s\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u6CE8\\u610F\\uFF1A\\u90E8\\u5206\\u63D2\\u4EF6\\u53EF\\u80FD\\u5B58\\u5728\\u4F9D\\u8D56\\u5173\\u7CFB\\uFF0C\\u9700\\u8981\\u7EF4\\u62A4\\u52A0\\u8F7D\\u987A\\u5E8F\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:\"\\u591A\\u7EA7\\u7F13\\u5B58\\u7B56\\u7565\"})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsx)(n.li,{children:\"\\u5185\\u5B58\\u7F13\\u5B58\\uFF1A\\u5BF9\\u5E38\\u7528\\u6A21\\u677F\\u548C\\u914D\\u7F6E\\u91C7\\u7528 LRU \\u7F13\\u5B58\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u6587\\u4EF6\\u7F13\\u5B58\\uFF1A\\u5C06\\u7F16\\u8BD1\\u540E\\u7684\\u6A21\\u677F\\u5B58\\u50A8\\u5728\\u672C\\u5730\\uFF0C\\u907F\\u514D\\u91CD\\u590D\\u7F16\\u8BD1\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u5B9E\\u9645\\u6548\\u679C\\uFF1A\\u6A21\\u677F\\u6E32\\u67D3\\u901F\\u5EA6\\u63D0\\u5347\\u7EA6 80%\\uFF0C\\u4ECE 300ms \\u964D\\u81F3 60ms\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:\"\\u667A\\u80FD\\u9519\\u8BEF\\u5904\\u7406\"})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsx)(n.li,{children:\"\\u5B9E\\u73B0\\u9519\\u8BEF\\u91CD\\u8BD5\\u673A\\u5236\\uFF0C\\u5BF9\\u7F51\\u7EDC\\u8BF7\\u6C42\\u7B49\\u4E0D\\u7A33\\u5B9A\\u64CD\\u4F5C\\u81EA\\u52A8\\u91CD\\u8BD5\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u5F15\\u5165\\u9519\\u8BEF\\u5206\\u7C7B\\u7CFB\\u7EDF\\uFF0C\\u533A\\u5206\\u81F4\\u547D\\u9519\\u8BEF\\u548C\\u53EF\\u6062\\u590D\\u9519\\u8BEF\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u96C6\\u6210\\u9519\\u8BEF\\u4E0A\\u62A5\\u670D\\u52A1\\uFF0C\\u8BB0\\u5F55\\u8BE6\\u7EC6\\u7684\\u9519\\u8BEF\\u6808\\u548C\\u4E0A\\u4E0B\\u6587\\u4FE1\\u606F\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(n.h3,{id:\"\\u5B9E\\u6218\\u8E29\\u5751\\u8BB0\\u5F55\",children:(0,l.jsx)(n.a,{href:\"#\\u5B9E\\u6218\\u8E29\\u5751\\u8BB0\\u5F55\",children:\"\\u5B9E\\u6218\\u8E29\\u5751\\u8BB0\\u5F55\"})}),`\n`,(0,l.jsxs)(n.ol,{children:[`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:\"\\u6A21\\u677F\\u5F15\\u64CE\\u9009\\u578B\\u8E29\\u5751\"}),`\n\\u6700\\u521D\\u6211\\u4EEC\\u9009\\u62E9\\u4E86 Handlebars\\uFF0C\\u4F46\\u5728\\u5904\\u7406\\u590D\\u6742\\u903B\\u8F91\\u65F6\\u9047\\u5230\\u4E86\\u5C40\\u9650\\u6027\\uFF1A`]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u9519\\u8BEF\\u793A\\u4F8B\\uFF1AHandlebars \\u4E0D\\u652F\\u6301\\u590D\\u6742\\u7684\\u903B\\u8F91\\u8FD0\\u7B97\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{{#\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (complex_logic param1 param2)}}\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u8FD9\\u91CC\\u4F1A\\u62A5\\u9519\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{{\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"/if\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}}\"})]})]})})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u540E\\u6765\\u5207\\u6362\\u5230 EJS\\uFF0C\\u4E0D\\u4EC5\\u652F\\u6301\\u5B8C\\u6574\\u7684 JavaScript \\u8BED\\u6CD5\\uFF0C\\u8FD8\\u80FD\\u66F4\\u597D\\u5730\\u5904\\u7406\\u5F02\\u6B65\\u903B\\u8F91\\uFF1A\"}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"<%\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" if\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" someAsyncCheck\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(param)) { \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"%>\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"  // \\u652F\\u6301\\u5F02\\u6B65\\u64CD\\u4F5C\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"<%\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"%>\"})]})]})})}),`\n`]}),`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:\"\\u63D2\\u4EF6\\u70ED\\u66F4\\u65B0\\u95EE\\u9898\"}),`\n\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53D1\\u73B0\\u63D2\\u4EF6\\u66F4\\u65B0\\u540E\\u9700\\u8981\\u91CD\\u542F\\u6574\\u4E2A\\u670D\\u52A1\\u624D\\u80FD\\u751F\\u6548\\u3002\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A`]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u5B9E\\u73B0\\u63D2\\u4EF6\\u70ED\\u66F4\\u65B0\\u673A\\u5236\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" PluginManager\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  async\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" reloadPlugin\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"pluginName\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u6E05\\u9664 require \\u7F13\\u5B58\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    delete\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" require.cache[require.\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"resolve\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(pluginPath)];\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u91CD\\u65B0\\u52A0\\u8F7D\\u63D2\\u4EF6\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" plugin\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(pluginPath);\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"    // \\u66F4\\u65B0\\u63D2\\u4EF6\\u5B9E\\u4F8B\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"updatePlugin\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(pluginName, plugin);\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:\"\\u5185\\u5B58\\u6CC4\\u6F0F\\u6392\\u67E5\"}),`\n\\u5728\\u957F\\u671F\\u8FD0\\u884C\\u8FC7\\u7A0B\\u4E2D\\u53D1\\u73B0\\u5185\\u5B58\\u5360\\u7528\\u6301\\u7EED\\u589E\\u957F\\uFF0C\\u6392\\u67E5\\u53D1\\u73B0\\u662F\\u6A21\\u677F\\u7F13\\u5B58\\u672A\\u53CA\\u65F6\\u6E05\\u7406\\u5BFC\\u81F4\\uFF1A`]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"js\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u4F18\\u5316\\u540E\\u7684\\u7F13\\u5B58\\u7BA1\\u7406\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"class\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" TemplateCache\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"maxSize\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 100\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    this\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\".cache \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" LRU\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      max: maxSize,\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      maxAge: \"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 60\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 60\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// 1\\u5C0F\\u65F6\\u540E\\u81EA\\u52A8\\u5931\\u6548\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      updateAgeOnGet: \"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(n.h3,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u5EFA\\u8BAE\",children:(0,l.jsx)(n.a,{href:\"#\\u6700\\u4F73\\u5B9E\\u8DF5\\u5EFA\\u8BAE\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u5EFA\\u8BAE\"})}),`\n`,(0,l.jsxs)(n.ol,{children:[`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:\"\\u6E10\\u8FDB\\u5F0F\\u5F00\\u53D1\"})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsx)(n.li,{children:\"\\u5148\\u642D\\u5EFA\\u6838\\u5FC3\\u6846\\u67B6\\uFF0C\\u5B9E\\u73B0\\u57FA\\u7840\\u529F\\u80FD\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u6839\\u636E\\u5B9E\\u9645\\u9700\\u6C42\\u9010\\u6B65\\u6DFB\\u52A0\\u63D2\\u4EF6\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u4FDD\\u6301\\u67B6\\u6784\\u7684\\u7B80\\u6D01\\u6027\\uFF0C\\u907F\\u514D\\u8FC7\\u5EA6\\u8BBE\\u8BA1\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:\"\\u7248\\u672C\\u7BA1\\u7406\"})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsx)(n.li,{children:\"\\u4E3A\\u811A\\u624B\\u67B6\\u5DE5\\u5177\\u7EF4\\u62A4\\u8BED\\u4E49\\u5316\\u7248\\u672C\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u63D0\\u4F9B\\u7248\\u672C\\u8FC1\\u79FB\\u5DE5\\u5177\\u548C\\u6587\\u6863\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u5EFA\\u7ACB\\u63D2\\u4EF6\\u517C\\u5BB9\\u6027\\u6D4B\\u8BD5\\u673A\\u5236\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(n.li,{children:[`\n`,(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:\"\\u5F00\\u53D1\\u4F53\\u9A8C\\u4F18\\u5316\"})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsx)(n.li,{children:\"\\u63D0\\u4F9B\\u8BE6\\u7EC6\\u7684\\u8C03\\u8BD5\\u4FE1\\u606F\\u548C\\u9519\\u8BEF\\u63D0\\u793A\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u652F\\u6301\\u672C\\u5730\\u5F00\\u53D1\\u73AF\\u5883\\u7684\\u70ED\\u66F4\\u65B0\"}),`\n`,(0,l.jsx)(n.li,{children:\"\\u5B8C\\u5584\\u7684\\u6587\\u6863\\u548C\\u793A\\u4F8B\\u4EE3\\u7801\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(n.p,{children:\"\\u5728\\u5B9E\\u9645\\u9879\\u76EE\\u4E2D\\uFF0C\\u6211\\u4EEC\\u901A\\u8FC7\\u8FD9\\u4E9B\\u4F18\\u5316\\u63AA\\u65BD\\uFF0C\\u5C06\\u4EE3\\u7801\\u751F\\u6210\\u6548\\u7387\\u63D0\\u5347\\u4E86 3 \\u500D\\uFF0C\\u9519\\u8BEF\\u7387\\u964D\\u4F4E\\u4E86 80%\\uFF0C\\u6781\\u5927\\u5730\\u63D0\\u5347\\u4E86\\u56E2\\u961F\\u7684\\u5F00\\u53D1\\u6548\\u7387\\u3002\"}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{id:\"\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\",children:(0,l.jsx)(n.a,{href:\"#\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\",children:\"\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\"})}),`\n`,(0,l.jsx)(n.p,{children:\"\\u672C\\u6587\\u4ECE\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u7684\\u80CC\\u666F\\u51FA\\u53D1\\uFF0C\\u8BE6\\u7EC6\\u8BB2\\u89E3\\u4E86\\u5982\\u4F55\\u4ECE\\u96F6\\u6784\\u5EFA\\u4E00\\u4E2A\\u652F\\u6301\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u548C\\u4EE3\\u7801\\u751F\\u6210\\u529F\\u80FD\\u7684\\u811A\\u624B\\u67B6\\u5DE5\\u5177\\u3002\\u4E3B\\u8981\\u5185\\u5BB9\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:\"\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u7684\\u5B9A\\u4E49\\u548C\\u4F18\\u52BF\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:\"\\u63D2\\u4EF6\\u5316\\u67B6\\u6784\\u8BBE\\u8BA1\\u539F\\u7406\\u4E0E\\u5B9E\\u73B0\\u601D\\u8DEF\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:\"\\u96C6\\u6210\\u4EE3\\u7801\\u751F\\u6210\\u6A21\\u5757\\u7684\\u5177\\u4F53\\u65B9\\u6848\\u53CA\\u5B9E\\u73B0\\u793A\\u4F8B\"})}),`\n`,(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:\"\\u5B9E\\u9645\\u6848\\u4F8B\\u4E2D\\u7684\\u5E94\\u7528\\u548C\\u6027\\u80FD\\u4F18\\u5316\\u5EFA\\u8BAE\"})}),`\n`]}),`\n`,(0,l.jsx)(n.p,{children:\"\\u672A\\u6765\\uFF0C\\u968F\\u7740\\u4F01\\u4E1A\\u9879\\u76EE\\u9700\\u6C42\\u7684\\u4E0D\\u65AD\\u5347\\u7EA7\\uFF0C\\u811A\\u624B\\u67B6\\u5DE5\\u5177\\u5C06\\u671D\\u7740\\u66F4\\u52A0\\u6A21\\u5757\\u5316\\u3001\\u667A\\u80FD\\u5316\\u548C\\u53EF\\u5B9A\\u5236\\u5316\\u65B9\\u5411\\u53D1\\u5C55\\u3002\\u5E0C\\u671B\\u672C\\u6587\\u80FD\\u4E3A\\u5F00\\u53D1\\u8005\\u5728\\u6784\\u5EFA\\u548C\\u6269\\u5C55\\u4F01\\u4E1A\\u7EA7\\u811A\\u624B\\u67B6\\u65F6\\u63D0\\u4F9B\\u6709\\u4EF7\\u503C\\u7684\\u53C2\\u8003\\uFF0C\\u540C\\u65F6\\u4E5F\\u6B22\\u8FCE\\u793E\\u533A\\u8D21\\u732E\\u66F4\\u591A\\u63D2\\u4EF6\\u548C\\u4F18\\u5316\\u65B9\\u6848\\uFF0C\\u5171\\u540C\\u63A8\\u52A8\\u5F00\\u53D1\\u5DE5\\u5177\\u751F\\u6001\\u7684\\u8FDB\\u6B65\\u3002\"}),`\n`,(0,l.jsx)(n.p,{children:\"Happy Coding!\"})]})}function t(e={}){let{wrapper:n}=e.components||{};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}return f(b);})();\n;return Component;"
  },
  "_id": "前端工程化/从零搭建企业级脚手架.mdx",
  "_raw": {
    "sourceFilePath": "前端工程化/从零搭建企业级脚手架.mdx",
    "sourceFileName": "从零搭建企业级脚手架.mdx",
    "sourceFileDir": "前端工程化",
    "contentType": "mdx",
    "flattenedPath": "前端工程化/从零搭建企业级脚手架"
  },
  "type": "Post",
  "url": "/blog/前端工程化/从零搭建企业级脚手架"
}
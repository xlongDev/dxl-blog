{
  "title": "ç”¨æˆ· Token é‰´æƒçš„å‰ä¸–ä»Šç”Ÿï¼šä»åŸç†åˆ°ä»£ç çš„æ·±åº¦å®è·µ",
  "date": "2023-09-18T00:00:00.000Z",
  "description": "ä»ç”¨æˆ· Token é‰´æƒçš„åº•å±‚åŸç†åˆ°å‰ç«¯ä»£ç å®ç°ï¼Œæ·±å…¥å‰–æ JWTã€OAuth2.0ã€Session ç­‰æŠ€æœ¯ï¼Œç»“åˆæœ€ä½³å®è·µå’Œå“²å­¦æ€è€ƒï¼ŒåŠ©åŠ›å‰ç«¯å¼€å‘è€…æ„å»ºå®‰å…¨é«˜æ•ˆçš„é‰´æƒç³»ç»Ÿã€‚",
  "keywords": "Token é‰´æƒ, JWT, OAuth2.0, Session, å‰ç«¯å®‰å…¨, ç”¨æˆ·è®¤è¯, Web å¼€å‘, å®‰å…¨æœ€ä½³å®è·µ",
  "author": "æ™“é¾™",
  "image": "/images/hero/token-auth.jpg",
  "tags": [
    "å‰ç«¯å¼€å‘",
    "Web å®‰å…¨",
    "é‰´æƒ",
    "JWT",
    "OAuth2.0"
  ],
  "views": 0,
  "likes": 0,
  "category": "å‰ç«¯æŠ€æœ¯",
  "body": {
    "raw": "\n> â€œä¿¡ä»»æ˜¯è„†å¼±çš„ï¼Œå®ƒéœ€è¦è¢«å°å¿ƒç¿¼ç¿¼åœ°å®ˆæŠ¤ï¼Œå°±åƒç¨‹åºå‘˜å¯¹ä»£ç çš„æ³¨é‡Šã€‚â€ â€”â€” æŸä¸çŸ¥åç¨‹åºå‘˜\n\nåœ¨ Web å¼€å‘çš„ä¸–ç•Œé‡Œï¼Œç”¨æˆ·é‰´æƒï¼ˆAuthenticationï¼‰å°±åƒæ˜¯æ•°å­—ä¸–ç•Œçš„â€œé—¨ç¦ç³»ç»Ÿâ€ ğŸšªã€‚å®ƒå†³å®šäº†è°å¯ä»¥è¿›å…¥ä½ çš„åº”ç”¨ï¼Œè°åªèƒ½åœ¨é—¨å¤–å¾˜å¾Šã€‚Token é‰´æƒä½œä¸ºç°ä»£ Web å¼€å‘ä¸­æœ€å¸¸è§çš„æŠ€æœ¯ä¹‹ä¸€ï¼Œæ—©å·²æˆä¸ºå‰ç«¯å¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚ç„¶è€Œï¼ŒToken é‰´æƒçš„èƒŒåä¸ä»…æ˜¯ä¸€ä¸²åŠ å¯†å­—ç¬¦ä¸²ï¼Œæ›´æ˜¯ä¸€å¥—å¤æ‚çš„åŸç†ã€åè®®å’Œå“²å­¦æ€è€ƒã€‚\n\næœ¬æ–‡å°†å¸¦ä½ ä» Token é‰´æƒçš„åº•å±‚åŸç†å¼€å§‹ï¼Œæ·±å…¥å‰–æ JWTã€OAuth2.0ã€Session ç­‰æŠ€æœ¯çš„å®ç°ç»†èŠ‚ï¼Œç»“åˆä»£ç ç¤ºä¾‹ã€æœ€ä½³å®è·µå’Œä¸€äº›â€œé«˜çº§å¹½é»˜æ„Ÿâ€ ğŸ˜ï¼Œè®©ä½ ä¸ä»…èƒ½å†™å‡ºå®‰å…¨çš„é‰´æƒä»£ç ï¼Œè¿˜èƒ½å¯¹æ•´ä¸ªä½“ç³»æœ‰æ›´æ·±åˆ»çš„ç†è§£ã€‚æˆ‘ä»¬è¿˜å°†ä¸Šå‡åˆ°äººç”Ÿå’Œå“²å­¦å±‚é¢ï¼Œæ¢è®¨ä¿¡ä»»ä¸å®‰å…¨çš„æœ¬è´¨ã€‚æ— è®ºä½ æ˜¯åˆšå…¥è¡Œçš„å°ç™½ï¼Œè¿˜æ˜¯èº«ç»ç™¾æˆ˜çš„è€å…µï¼Œè¿™ç¯‡æ–‡ç« éƒ½å°†ä¸ºä½ æä¾›å®ç”¨çš„çŸ¥è¯†å’Œå¯å‘ã€‚\n\n## æ–‡ç« ç»“æ„ï¼šæ€ç»´é“¾æ¦‚è§ˆ\n\nä¸ºäº†è®©è¿™è¶Ÿé‰´æƒä¹‹æ—…æ¸…æ™°æ˜äº†ï¼Œæˆ‘ä»¬å°†æŒ‰ç…§ä»¥ä¸‹ç»“æ„å±•å¼€ï¼š\n\n1. **ä»€ä¹ˆæ˜¯ç”¨æˆ·é‰´æƒï¼Ÿ** â€”â€” ä»æ¦‚å¿µåˆ°ç°å®ä¸–ç•Œçš„ç±»æ¯”ï¼Œææ‡‚é‰´æƒçš„æœ¬è´¨ã€‚\n2. **Token é‰´æƒçš„èµ·æºä¸å‘å±•** â€”â€” å†å²å›é¡¾ï¼Œäº†è§£ Sessionã€Cookie åˆ° Token çš„æ¼”å˜ã€‚\n3. **Token é‰´æƒçš„åŸç†** â€”â€” æ·±å…¥ JWTã€OAuth2.0 ç­‰æŠ€æœ¯çš„æ ¸å¿ƒæœºåˆ¶ã€‚\n4. **ä»£ç å®ç°ï¼šä»é›¶æ„å»º Token é‰´æƒ** â€”â€” æä¾›å‰ç«¯å’Œåç«¯ç»“åˆçš„ä»£ç ç¤ºä¾‹ã€‚\n5. **æœ€ä½³å®è·µä¸å®‰å…¨æ³¨æ„äº‹é¡¹** â€”â€” æ€»ç»“å®ç”¨æŠ€å·§ï¼Œè§„é¿å¸¸è§å‘ç‚¹ã€‚\n6. **å“²å­¦æ€è€ƒï¼šä¿¡ä»»ä¸å®‰å…¨çš„è¾¹ç•Œ** â€”â€” ä»æŠ€æœ¯åˆ°äººç”Ÿçš„å‡åã€‚\n7. **æ€»ç»“ä¸å±•æœ›** â€”â€” Token é‰´æƒçš„æœªæ¥ä¸å­¦ä¹ å»ºè®®ã€‚\n\nå‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™æ®µé‰´æƒå†’é™©å§ï¼ğŸš€\n\n## 1. ä»€ä¹ˆæ˜¯ç”¨æˆ·é‰´æƒï¼Ÿ\n\nç”¨æˆ·é‰´æƒï¼ˆAuthenticationï¼Œç®€ç§° Authï¼‰æ˜¯éªŒè¯ç”¨æˆ·èº«ä»½çš„è¿‡ç¨‹ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å›ç­”â€œ**ä½ æ˜¯è°ï¼Ÿ**â€è¿™ä¸ªé—®é¢˜ã€‚åœ¨ Web åº”ç”¨ä¸­ï¼Œé‰´æƒå†³å®šäº†ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®æŸäº›èµ„æºæˆ–æ‰§è¡ŒæŸäº›æ“ä½œã€‚\n\n### ç±»æ¯”ï¼šç°å®ä¸–ç•Œçš„é—¨ç¦å¡\næƒ³è±¡ä½ å»å…¬å¸ä¸Šç­ï¼Œæ¯å¤©åˆ·é—¨ç¦å¡æ‰èƒ½è¿›å…¥å¤§æ¥¼ã€‚é—¨ç¦å¡é‡Œå­˜å‚¨äº†ä½ çš„èº«ä»½ä¿¡æ¯ï¼ˆæ¯”å¦‚å‘˜å·¥ IDï¼‰ï¼Œå¤§æ¥¼çš„é—¨ç¦ç³»ç»Ÿä¼šéªŒè¯è¿™å¼ å¡æ˜¯å¦æœ‰æ•ˆã€‚å¦‚æœæœ‰æ•ˆï¼Œé—¨å°±æ‰“å¼€ï¼›å¦‚æœæ— æ•ˆï¼Œä½ åªèƒ½ç«™åœ¨é—¨å¤–ç‘Ÿç‘Ÿå‘æŠ– ğŸ¥¶ã€‚Token é‰´æƒå°±åƒè¿™å¼ é—¨ç¦å¡ï¼Œåªä¸è¿‡å®ƒè¿è¡Œåœ¨æ•°å­—ä¸–ç•Œï¼ŒéªŒè¯çš„æ˜¯ HTTP è¯·æ±‚çš„èº«ä»½ã€‚\n\n### é‰´æƒ vs æˆæƒ\nåˆ«æŠŠé‰´æƒï¼ˆAuthenticationï¼‰å’Œæˆæƒï¼ˆAuthorizationï¼‰ææ··ï¼é‰´æƒæ˜¯éªŒè¯â€œä½ æ˜¯è°â€ï¼Œæˆæƒæ˜¯å†³å®šâ€œä½ èƒ½å¹²ä»€ä¹ˆâ€ã€‚ç”¨ç±»æ¯”æ¥è¯´ï¼Œé‰´æƒæ˜¯æ£€æŸ¥ä½ çš„é—¨ç¦å¡ï¼Œæˆæƒæ˜¯å†³å®šä½ èƒ½è¿›å“ªä¸ªåŠå…¬å®¤ã€‚\n\n| æ¦‚å¿µ        | ä½œç”¨                     | ç±»æ¯”                     |\n|-------------|--------------------------|--------------------------|\n| é‰´æƒ (AuthN)| éªŒè¯ç”¨æˆ·èº«ä»½             | æ£€æŸ¥é—¨ç¦å¡æ˜¯å¦æœ‰æ•ˆ       |\n| æˆæƒ (AuthZ)| ç¡®å®šç”¨æˆ·æƒé™             | å†³å®šä½ èƒ½è¿›å“ªä¸ªåŠå…¬å®¤     |\n\n*Tips: åœ¨é¡¹ç›®ä¸­ï¼Œå§‹ç»ˆå°†é‰´æƒå’Œæˆæƒé€»è¾‘åˆ†å¼€ï¼Œç¡®ä¿ä»£ç æ¨¡å—åŒ–ï¼Œé¿å…æƒé™ç®¡ç†çš„æ··ä¹±ã€‚*\n\n## 2. Token é‰´æƒçš„èµ·æºä¸å‘å±•\n\nè¦ç†è§£ Token é‰´æƒï¼Œæˆ‘ä»¬å¾—å…ˆç©¿è¶Šåˆ° Web å¼€å‘çš„â€œè¿œå¤æ—¶ä»£â€ ğŸ¦–ï¼Œçœ‹çœ‹å®ƒçš„å‰ä¸–ä»Šç”Ÿã€‚\n\n### 2.1 ä» Session å’Œ Cookie å¼€å§‹\nåœ¨ Web 1.0 æ—¶ä»£ï¼ŒSession å’Œ Cookie æ˜¯é‰´æƒçš„ä¸»æµæ–¹å¼ã€‚ç”¨æˆ·ç™»å½•åï¼ŒæœåŠ¡å™¨ä¼šç”Ÿæˆä¸€ä¸ª Session IDï¼Œå­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œå¹¶é€šè¿‡ Cookie å‘ç»™å®¢æˆ·ç«¯ã€‚æ¯æ¬¡è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨è‡ªåŠ¨å¸¦ä¸Š Cookieï¼ŒæœåŠ¡å™¨æ ¹æ® Session ID éªŒè¯ç”¨æˆ·èº«ä»½ã€‚\n\n**ä¼˜ç‚¹**ï¼š\n- ç®€å•ç›´æ¥ï¼Œé€‚åˆå•ä½“åº”ç”¨ã€‚\n- æœåŠ¡å™¨å¯ä»¥éšæ—¶é”€æ¯ Sessionï¼Œæ§åˆ¶ç”¨æˆ·çŠ¶æ€ã€‚\n\n**ç¼ºç‚¹**ï¼š\n- æœåŠ¡å™¨éœ€è¦å­˜å‚¨å¤§é‡ Session æ•°æ®ï¼Œå†…å­˜å‹åŠ›å¤§ã€‚\n- ä¸é€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆéœ€è¦ Session åŒæ­¥ï¼‰ã€‚\n- Cookie å®¹æ˜“è¢« CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰æ”»å‡»ã€‚\n\n### 2.2 Token é‰´æƒçš„å´›èµ·\néšç€ç§»åŠ¨ç«¯å’Œåˆ†å¸ƒå¼ç³»ç»Ÿçš„å…´èµ·ï¼ŒSession çš„å±€é™æ€§æš´éœ²æ— é—ã€‚Token é‰´æƒåº”è¿è€Œç”Ÿï¼Œå®ƒå°†ç”¨æˆ·ä¿¡æ¯ç¼–ç æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆTokenï¼‰ï¼Œç”±å®¢æˆ·ç«¯ä¿å­˜ï¼ŒæœåŠ¡å™¨æ— éœ€å­˜å‚¨çŠ¶æ€ã€‚\n\n**Token çš„æ ¸å¿ƒç‰¹ç‚¹**ï¼š\n- **æ— çŠ¶æ€**ï¼šæœåŠ¡å™¨ä¸ä¿å­˜ Tokenï¼ŒéªŒè¯æ—¶åªéœ€è§£ç ã€‚\n- **å¯æ‰©å±•**ï¼šé€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿå’Œå¾®æœåŠ¡ã€‚\n- **çµæ´»æ€§**ï¼šæ”¯æŒå¤šç§åè®®ï¼ˆå¦‚ JWTã€OAuthï¼‰ã€‚\n\n### 2.3 JWT vs OAuth vs Session\nè®©æˆ‘ä»¬ç”¨ä¸€å¼ è¡¨æ ¼å¯¹æ¯”è¿™ä¸‰ç§å¸¸è§é‰´æƒæ–¹å¼ï¼š\n\n| æ–¹å¼       | å­˜å‚¨ä½ç½®         | çŠ¶æ€æ€§ | é€‚ç”¨åœºæ™¯                     | å®‰å…¨æ€§è€ƒè™‘                     |\n|------------|------------------|--------|------------------------------|--------------------------------|\n| Session    | æœåŠ¡å™¨ç«¯ï¼ˆSessionï¼‰+ å®¢æˆ·ç«¯ï¼ˆCookieï¼‰ | æœ‰çŠ¶æ€ | ä¼ ç»Ÿ Web åº”ç”¨                | CSRF æ”»å‡»ã€Session åŠ«æŒ        |\n| JWT        | å®¢æˆ·ç«¯ï¼ˆLocalStorage / Cookieï¼‰       | æ— çŠ¶æ€ | å•é¡µåº”ç”¨ã€å¾®æœåŠ¡             | Token æ³„éœ²ã€ç­¾åéªŒè¯           |\n| OAuth2.0   | å®¢æˆ·ç«¯ï¼ˆAccess Tokenï¼‰               | æ— çŠ¶æ€ | ç¬¬ä¸‰æ–¹æˆæƒã€API è°ƒç”¨          | ä»¤ç‰Œåˆ·æ–°ã€æƒé™èŒƒå›´æ§åˆ¶         |\n\n*Tips: é€‰æ‹©é‰´æƒæ–¹å¼æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘é¡¹ç›®è§„æ¨¡å’Œæ¶æ„ã€‚å•ä½“åº”ç”¨å¯ä»¥ç”¨ Sessionï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿæ›´é€‚åˆ JWT æˆ– OAuth2.0ã€‚*\n\n## 3. Token é‰´æƒçš„åŸç†\n\nç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·±å…¥ Token é‰´æƒçš„â€œå‘åŠ¨æœºèˆ±â€ ğŸ”§ï¼Œçœ‹çœ‹å®ƒçš„æ ¸å¿ƒæœºåˆ¶ã€‚\n\n### 3.1 JWTï¼ˆJSON Web Tokenï¼‰\nJWT æ˜¯æœ€æµè¡Œçš„ Token é‰´æƒæ–¹å¼ï¼Œå®ƒç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š**Header**ã€**Payload** å’Œ **Signature**ï¼Œç”¨`.`åˆ†éš”ï¼Œç¼–ç åå½¢å¦‚ï¼š\n\n```\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\n```\n\n#### JWT çš„ç»„æˆ\n1. **Header**ï¼šæè¿° Token çš„å…ƒæ•°æ®ï¼Œé€šå¸¸åŒ…å«ç®—æ³•ï¼ˆ`alg`ï¼‰å’Œç±»å‹ï¼ˆ`typ`ï¼‰ã€‚\n   ```json\n   {\n     \"alg\": \"HS256\",\n     \"typ\": \"JWT\"\n   }\n   ```\n2. **Payload**ï¼šå­˜å‚¨ç”¨æˆ·æ•°æ®ï¼Œå¦‚ç”¨æˆ· IDã€è§’è‰²ç­‰ã€‚å¯ä»¥åŒ…å«æ ‡å‡†å­—æ®µï¼ˆ`sub`ã€`iat` ç­‰ï¼‰å’Œè‡ªå®šä¹‰å­—æ®µã€‚\n   ```json\n   {\n     \"sub\": \"1234567890\",\n     \"name\": \"John Doe\",\n     \"iat\": 1516239022\n   }\n   ```\n3. **Signature**ï¼šé€šè¿‡å¯†é’¥å¯¹ Header å’Œ Payload è¿›è¡Œç­¾åï¼Œç¡®ä¿ Token æœªè¢«ç¯¡æ”¹ã€‚\n   ```\n   HMACSHA256(\n     base64UrlEncode(header) + \".\" + base64UrlEncode(payload),\n     secret\n   )\n   ```\n\n#### JWT çš„å·¥ä½œæµç¨‹\n1. ç”¨æˆ·ç™»å½•ï¼ŒæœåŠ¡å™¨ç”Ÿæˆ JWT å¹¶è¿”å›ç»™å®¢æˆ·ç«¯ã€‚\n2. å®¢æˆ·ç«¯å°† JWT ä¿å­˜åœ¨ LocalStorage æˆ– Cookie ä¸­ã€‚\n3. æ¯æ¬¡è¯·æ±‚æ—¶ï¼Œå®¢æˆ·ç«¯åœ¨ HTTP å¤´ï¼ˆ`Authorization: Bearer <token>`ï¼‰ä¸­å¸¦ä¸Š JWTã€‚\n4. æœåŠ¡å™¨éªŒè¯ JWT çš„ç­¾åå’Œæœ‰æ•ˆæœŸï¼Œè‹¥æœ‰æ•ˆåˆ™å…è®¸è®¿é—®ã€‚\n\n**ä»£ç ç¤ºä¾‹**ï¼šNode.js ç”Ÿæˆå’ŒéªŒè¯ JWT\n```javascript\nconst jwt = require('jsonwebtoken');\n\nconst secret = 'your-secret-key';\n\n// ç”Ÿæˆ JWT\nconst user = { id: 1, name: 'John Doe' };\nconst token = jwt.sign(user, secret, { expiresIn: '1h' });\nconsole.log('Generated Token:', token);\n\n// éªŒè¯ JWT\njwt.verify(token, secret, (err, decoded) => {\n  if (err) {\n    console.error('Token verification failed:', err);\n  } else {\n    console.log('Decoded Payload:', decoded);\n  }\n});\n```\n\n*Tips: æ°¸è¿œä¸è¦åœ¨ JWT çš„ Payload ä¸­å­˜å‚¨æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†ç ï¼‰ï¼Œå› ä¸º Payload æ˜¯å¯ä»¥è§£ç çš„ï¼*\n\n### 3.2 OAuth2.0\nOAuth2.0 æ˜¯ä¸€ç§æˆæƒåè®®ï¼Œå¹¿æ³›ç”¨äºç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆå¦‚â€œä½¿ç”¨ Google ç™»å½•â€ï¼‰ã€‚å®ƒé€šè¿‡ **Access Token** å’Œ **Refresh Token** å®ç°å®‰å…¨çš„èµ„æºè®¿é—®ã€‚\n\n#### OAuth2.0 çš„æ ¸å¿ƒè§’è‰²\n- **Resource Owner**ï¼šèµ„æºæ‹¥æœ‰è€…ï¼ˆç”¨æˆ·ï¼‰ã€‚\n- **Client**ï¼šè¯·æ±‚èµ„æºçš„åº”ç”¨ç¨‹åºï¼ˆä½ çš„å‰ç«¯åº”ç”¨ï¼‰ã€‚\n- **Authorization Server**ï¼šé¢å‘ Token çš„æœåŠ¡å™¨ï¼ˆå¦‚ Google çš„è®¤è¯æœåŠ¡å™¨ï¼‰ã€‚\n- **Resource Server**ï¼šå­˜å‚¨èµ„æºçš„æœåŠ¡å™¨ï¼ˆå¦‚ Google çš„ API æœåŠ¡å™¨ï¼‰ã€‚\n\n#### OAuth2.0 çš„æˆæƒç æµç¨‹\n1. ç”¨æˆ·ç‚¹å‡»â€œä½¿ç”¨ Google ç™»å½•â€ï¼Œè·³è½¬åˆ° Google æˆæƒé¡µé¢ã€‚\n2. ç”¨æˆ·åŒæ„æˆæƒï¼ŒGoogle è¿”å›ä¸€ä¸ª**æˆæƒç **ï¼ˆAuthorization Codeï¼‰ã€‚\n3. å®¢æˆ·ç«¯ç”¨æˆæƒç å‘ Google çš„æˆæƒæœåŠ¡å™¨æ¢å– **Access Token** å’Œ **Refresh Token**ã€‚\n4. å®¢æˆ·ç«¯ä½¿ç”¨ Access Token è®¿é—®èµ„æºæœåŠ¡å™¨ã€‚\n\n**ä»£ç ç¤ºä¾‹**ï¼šå‰ç«¯ä½¿ç”¨ OAuth2.0 ç™»å½• Google\n```javascript\nconst clientId = 'your-client-id';\nconst redirectUri = 'http://localhost:3000/callback';\nconst scope = 'https://www.googleapis.com/auth/userinfo.profile';\n\nconst authUrl = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=code&scope=${scope}`;\n\n// è·³è½¬åˆ° Google æˆæƒé¡µé¢\nwindow.location.href = authUrl;\n\n// å›è°ƒé¡µé¢å¤„ç†æˆæƒç \nconst urlParams = new URLSearchParams(window.location.search);\nconst code = urlParams.get('code');\n\nif (code) {\n  fetch('https://oauth2.googleapis.com/token', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n    body: new URLSearchParams({\n      code,\n      client_id: clientId,\n      client_secret: 'your-client-secret',\n      redirect_uri: redirectUri,\n      grant_type: 'authorization_code',\n    }),\n  })\n    .then((response) => response.json())\n    .then((data) => {\n      console.log('Access Token:', data.access_token);\n    });\n}\n```\n\n*Tips: ä½¿ç”¨ OAuth2.0 æ—¶ï¼Œå§‹ç»ˆé€šè¿‡ HTTPS ä¼ è¾“ Tokenï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚*\n\n## 4. ä»£ç å®ç°ï¼šä»é›¶æ„å»º Token é‰´æƒ\n\nè®©æˆ‘ä»¬åŠ¨æ‰‹å†™ä¸€ä¸ªå®Œæ•´çš„ Token é‰´æƒç³»ç»Ÿï¼ŒåŒ…å«å‰ç«¯ï¼ˆReactï¼‰å’Œåç«¯ï¼ˆNode.js + Expressï¼‰ã€‚\n\n### 4.1 åç«¯ï¼šç”Ÿæˆå’ŒéªŒè¯ JWT\næˆ‘ä»¬ä½¿ç”¨ Node.js å’Œ Express æ­å»ºä¸€ä¸ªç®€å•çš„åç«¯ APIï¼Œæ”¯æŒç”¨æˆ·ç™»å½•å’Œå—ä¿æŠ¤çš„è·¯ç”±ã€‚\n\n```javascript\nconst express = require('express');\nconst jwt = require('jsonwebtoken');\nconst cors = require('cors');\n\nconst app = express();\napp.use(cors());\napp.use(express.json());\n\nconst secret = 'my-super-secret-key';\nconst users = [{ id: 1, username: 'admin', password: 'password123' }];\n\n// ç™»å½•æ¥å£\napp.post('/login', (req, res) => {\n  const { username, password } = req.body;\n  const user = users.find((u) => u.username === username && u.password === password);\n\n  if (!user) {\n    return res.status(401).json({ message: 'Invalid credentials' });\n  }\n\n  const token = jwt.sign({ id: user.id, username: user.username }, secret, {\n    expiresIn: '1h',\n  });\n  res.json({ token });\n});\n\n// å—ä¿æŠ¤çš„è·¯ç”±\napp.get('/protected', (req, res) => {\n  const token = req.headers.authorization?.split(' ')[1];\n\n  if (!token) {\n    return res.status(401).json({ message: 'No token provided' });\n  }\n\n  jwt.verify(token, secret, (err, decoded) => {\n    if (err) {\n      return res.status(401).json({ message: 'Invalid token' });\n    }\n    res.json({ message: 'Welcome to the protected route!', user: decoded });\n  });\n});\n\napp.listen(3000, () => console.log('Server running on port 3000'));\n```\n\n### 4.2 å‰ç«¯ï¼šReact å®ç°ç™»å½•å’Œ Token ç®¡ç†\næˆ‘ä»¬ç”¨ React æ­å»ºä¸€ä¸ªç®€å•çš„ç™»å½•é¡µé¢ï¼Œå¹¶ä½¿ç”¨ LocalStorage ä¿å­˜ Tokenã€‚\n\n```jsx\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n\n  const handleLogin = async () => {\n    try {\n      const response = await axios.post('http://localhost:3000/login', {\n        username,\n        password,\n      });\n      localStorage.setItem('token', response.data.token);\n      setMessage('Login successful!');\n    } catch (error) {\n      setMessage('Login failed: ' + error.response.data.message);\n    }\n  };\n\n  const fetchProtectedData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:3000/protected', {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setMessage(response.data.message);\n    } catch (error) {\n      setMessage('Error: ' + error.response.data.message);\n    }\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-2xl\">Token é‰´æƒ Demo</h1>\n      <div className=\"my-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Username\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          className=\"border p-2 mr-2\"\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className=\"border p-2 mr-2\"\n        />\n        <button onClick={handleLogin} className=\"bg-blue-500 text-white p-2\">\n          Login\n        </button>\n      </div>\n      <button\n        onClick={fetchProtectedData}\n        className=\"bg-green-500 text-white p-2\"\n      >\n        Access Protected Route\n      </button>\n      <p className=\"mt-4\">{message}</p>\n    </div>\n  );\n}\n\nexport default App;\n```\n\n*Tips: ä¸è¦ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ LocalStorage å­˜å‚¨ Tokenï¼Œè€ƒè™‘ä½¿ç”¨ HttpOnly Cookie é…åˆåç«¯è®¾ç½®æ¥æé«˜å®‰å…¨æ€§ã€‚*\n\n## 5. æœ€ä½³å®è·µä¸å®‰å…¨æ³¨æ„äº‹é¡¹\n\nToken é‰´æƒè™½ç„¶å¼ºå¤§ï¼Œä½†ç¨æœ‰ä¸æ…å°±ä¼šå˜æˆâ€œå®‰å…¨äº‹æ•…ç°åœºâ€ ğŸ’¥ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æœ€ä½³å®è·µå’Œæ³¨æ„äº‹é¡¹ï¼š\n\n### 5.1 ä½¿ç”¨ HTTPS\næ‰€æœ‰ Token çš„ä¼ è¾“å¿…é¡»é€šè¿‡ HTTPSï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼ˆMITMï¼‰ã€‚\n\n*Tips: åœ¨å¼€å‘é˜¶æ®µï¼Œå¯ä»¥ä½¿ç”¨ `mkcert` å·¥å…·ç”Ÿæˆæœ¬åœ° HTTPS è¯ä¹¦ï¼Œæ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒã€‚*\n\n### 5.2 é™åˆ¶ Token æœ‰æ•ˆæœŸ\nä¸º JWT è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´ï¼ˆå¦‚ 1 å°æ—¶ï¼‰ï¼Œå¹¶ä½¿ç”¨ Refresh Token å»¶é•¿ä¼šè¯ã€‚\n\n*Tips: Refresh Token åº”å­˜å‚¨åœ¨åç«¯ï¼Œå¹¶é€šè¿‡å®‰å…¨çš„ API åˆ·æ–°ï¼Œå‡å°‘å®¢æˆ·ç«¯æ³„éœ²é£é™©ã€‚*\n\n### 5.3 é˜²æ­¢ XSS å’Œ CSRF\n- **XSS**ï¼šé¿å…å°† Token å­˜å‚¨åœ¨ LocalStorageï¼Œä¼˜å…ˆä½¿ç”¨ HttpOnly Cookieã€‚\n- **CSRF**ï¼šåœ¨è¯·æ±‚ä¸­æ·»åŠ  CSRF Tokenï¼ŒéªŒè¯è¯·æ±‚æ¥æºã€‚\n\n*Tips: ä½¿ç”¨ç°ä»£æ¡†æ¶ï¼ˆå¦‚ Next.jsï¼‰çš„å†…ç½® CSRF é˜²æŠ¤åŠŸèƒ½ï¼Œå‡å°‘æ‰‹åŠ¨å®ç°çš„å·¥ä½œé‡ã€‚*\n\n### 5.4 ç­¾åå¯†é’¥å®‰å…¨\nJWT çš„ç­¾åå¯†é’¥å¿…é¡»å¼ºéšæœºç”Ÿæˆï¼Œå¹¶å¦¥å–„å­˜å‚¨ï¼ˆä¾‹å¦‚ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼‰ã€‚\n\n*Tips: ä½¿ç”¨å·¥å…·å¦‚ `crypto.randomBytes` ç”Ÿæˆé«˜ç†µå¯†é’¥ï¼Œé¿å…ç¡¬ç¼–ç ã€‚*\n\n### 5.5 ç›‘æ§å’Œæ—¥å¿—\nè®°å½•æ‰€æœ‰é‰´æƒå¤±è´¥çš„å°è¯•ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸è¡Œä¸ºã€‚\n\n*Tips: é›†æˆæ—¥å¿—æœåŠ¡ï¼ˆå¦‚ Sentryï¼‰ç›‘æ§ Token ç›¸å…³çš„é”™è¯¯ï¼Œæå‡ç³»ç»Ÿå¯è§‚æµ‹æ€§ã€‚*\n\n## 6. å“²å­¦æ€è€ƒï¼šä¿¡ä»»ä¸å®‰å…¨çš„è¾¹ç•Œ\n\né‰´æƒçš„æ ¸å¿ƒæ˜¯**ä¿¡ä»»**ã€‚åœ¨æ•°å­—ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ Tokenã€å¯†é’¥å’Œç®—æ³•æ„å»ºäº†ä¸€å¥—ä¿¡ä»»ä½“ç³»ï¼Œä½†è¿™å¥—ä½“ç³»å¹¶éç‰¢ä¸å¯ç ´ã€‚æ­£å¦‚å“²å­¦å®¶åº·å¾·æ‰€è¯´ï¼šâ€œæˆ‘ä»¬æ‰€è§çš„å¹¶éäº‹ç‰©æœ¬èº«ï¼Œè€Œæ˜¯æˆ‘ä»¬æ„ŸçŸ¥çš„æ–¹å¼ã€‚â€ åœ¨æŠ€æœ¯ä¸­ï¼Œæˆ‘ä»¬æ„å»ºçš„ä¿¡ä»»ä½“ç³»ä¹Ÿåªæ˜¯å¯¹ç°å®çš„ä¸€ç§æ˜ å°„ã€‚\n\n### ä¿¡ä»»çš„è„†å¼±æ€§\nToken é‰´æƒä¾èµ–äºå¯†é’¥çš„å®‰å…¨æ€§å’Œç®—æ³•çš„å¯é æ€§ã€‚ä¸€æ—¦å¯†é’¥æ³„éœ²ï¼Œæ•´ä¸ªä¿¡ä»»ä½“ç³»å°†è½°ç„¶å€’å¡Œã€‚è¿™è®©æˆ‘æƒ³èµ·ä¸€ä¸ªç¨‹åºå‘˜çš„ç¬‘è¯ï¼šâ€œæˆ‘çš„ä»£ç æ²¡æœ‰ bugï¼Œåªæ˜¯ä¿¡ä»»æœºåˆ¶å‡ºäº†ç‚¹å°é—®é¢˜ã€‚â€ ğŸ˜… ä¿¡ä»»çš„å»ºç«‹éœ€è¦ä¸¥è°¨çš„è®¾è®¡ï¼Œä¿¡ä»»çš„ç»´æŠ¤éœ€è¦æŒç»­çš„åŠªåŠ›ã€‚\n\n### æŠ€æœ¯çš„è¾¹ç•Œä¸äººç”Ÿçš„éšå–»\né‰´æƒç³»ç»Ÿçš„è®¾è®¡å°±åƒäººç”Ÿä¸­å¯¹ä»–äººçš„ä¿¡ä»»ã€‚æˆ‘ä»¬éœ€è¦éªŒè¯å¯¹æ–¹çš„èº«ä»½ï¼ˆé‰´æƒï¼‰ï¼Œå†³å®šå¯¹æ–¹èƒ½åšä»€ä¹ˆï¼ˆæˆæƒï¼‰ï¼ŒåŒæ—¶ä¿æŒè­¦æƒ•ä»¥é˜²èƒŒå›ï¼ˆå®‰å…¨ï¼‰ã€‚æŠ€æœ¯ä¸­çš„æ¯ä¸€æ¬¡ä¼˜åŒ–ï¼Œéƒ½æ˜¯å¯¹ä¿¡ä»»è¾¹ç•Œçš„æ¢ç´¢ï¼›äººç”Ÿä¸­çš„æ¯ä¸€æ¬¡é€‰æ‹©ï¼Œéƒ½æ˜¯å¯¹è‡ªæˆ‘è¾¹ç•Œçš„è¯•æ¢ã€‚\n\n## 7. æ€»ç»“ä¸å±•æœ›\n\nToken é‰´æƒæ˜¯ç°ä»£ Web å¼€å‘çš„åŸºçŸ³ï¼Œå®ƒä¸ä»…è§£å†³äº†èº«ä»½éªŒè¯çš„é—®é¢˜ï¼Œè¿˜æ¨åŠ¨äº†åˆ†å¸ƒå¼ç³»ç»Ÿå’Œå¾®æœåŠ¡çš„æ™®åŠã€‚ä» Session åˆ° JWTï¼Œå†åˆ° OAuth2.0ï¼Œé‰´æƒæŠ€æœ¯åœ¨ä¸æ–­æ¼”è¿›ï¼Œæœªæ¥çš„æ–¹å‘å¯èƒ½æ˜¯åŸºäºé›¶ä¿¡ä»»æ¶æ„ï¼ˆZero Trustï¼‰æˆ–å»ä¸­å¿ƒåŒ–èº«ä»½ï¼ˆDIDï¼‰çš„å…¨æ–°æ–¹æ¡ˆã€‚\n\nä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼ŒæŒæ¡ Token é‰´æƒä¸ä»…æ˜¯ä¸ºäº†å†™å‡ºå®‰å…¨çš„ä»£ç ï¼Œæ›´æ˜¯ä¸ºäº†ç†è§£ä¿¡ä»»çš„æœ¬è´¨ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ä¸ºä½ æä¾›å®ç”¨çš„çŸ¥è¯†å’Œæ·±åˆ»çš„å¯å‘ã€‚è®©æˆ‘ä»¬ç»§ç»­åœ¨è¿™æ¡æŠ€æœ¯ä¸å“²å­¦äº¤ç»‡çš„é“è·¯ä¸Šæ¢ç´¢ï¼Œå†™å‡ºæ›´ä¼˜é›…çš„ä»£ç ï¼Œæ„å»ºæ›´å®‰å…¨çš„ç³»ç»Ÿï¼ğŸŒŸ\n\n---\n\n**å‚è€ƒèµ„æ–™**ï¼š\n- [JWT å®˜æ–¹æ–‡æ¡£](https://jwt.io/)\n- [OAuth 2.0 åè®®](https://oauth.net/2/)\n- [Web å®‰å…¨æœ€ä½³å®è·µ](https://owasp.org/)\n\n---",
    "code": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var u=(l,n)=>()=>(n||l((n={exports:{}}).exports,n),n.exports),B=(l,n)=>{for(var r in n)s(l,r,{get:n[r],enumerable:!0})},a=(l,n,r,o)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of y(n))!g.call(l,c)&&c!==r&&s(l,c,{get:()=>n[c],enumerable:!(o=E(n,c))||o.enumerable});return l};var k=(l,n,r)=>(r=l!=null?p(F(l)):{},a(n||!l||!l.__esModule?s(r,\"default\",{value:l,enumerable:!0}):r,l)),T=l=>a(s({},\"__esModule\",{value:!0}),l);var i=u((b,d)=>{d.exports=_jsx_runtime});var C={};B(C,{default:()=>h,frontmatter:()=>m});var e=k(i()),m={type:\"Post\",title:\"\\u7528\\u6237 Token \\u9274\\u6743\\u7684\\u524D\\u4E16\\u4ECA\\u751F\\uFF1A\\u4ECE\\u539F\\u7406\\u5230\\u4EE3\\u7801\\u7684\\u6DF1\\u5EA6\\u5B9E\\u8DF5\",date:\"2023-09-18\",description:\"\\u4ECE\\u7528\\u6237 Token \\u9274\\u6743\\u7684\\u5E95\\u5C42\\u539F\\u7406\\u5230\\u524D\\u7AEF\\u4EE3\\u7801\\u5B9E\\u73B0\\uFF0C\\u6DF1\\u5165\\u5256\\u6790 JWT\\u3001OAuth2.0\\u3001Session \\u7B49\\u6280\\u672F\\uFF0C\\u7ED3\\u5408\\u6700\\u4F73\\u5B9E\\u8DF5\\u548C\\u54F2\\u5B66\\u601D\\u8003\\uFF0C\\u52A9\\u529B\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u6784\\u5EFA\\u5B89\\u5168\\u9AD8\\u6548\\u7684\\u9274\\u6743\\u7CFB\\u7EDF\\u3002\",keywords:\"Token \\u9274\\u6743, JWT, OAuth2.0, Session, \\u524D\\u7AEF\\u5B89\\u5168, \\u7528\\u6237\\u8BA4\\u8BC1, Web \\u5F00\\u53D1, \\u5B89\\u5168\\u6700\\u4F73\\u5B9E\\u8DF5\",author:\"\\u6653\\u9F99\",image:\"/images/hero/token-auth.jpg\",tags:[\"\\u524D\\u7AEF\\u5F00\\u53D1\",\"Web \\u5B89\\u5168\",\"\\u9274\\u6743\",\"JWT\",\"OAuth2.0\"],category:\"\\u524D\\u7AEF\\u6280\\u672F\"};function t(l){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...l.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u201C\\u4FE1\\u4EFB\\u662F\\u8106\\u5F31\\u7684\\uFF0C\\u5B83\\u9700\\u8981\\u88AB\\u5C0F\\u5FC3\\u7FFC\\u7FFC\\u5730\\u5B88\\u62A4\\uFF0C\\u5C31\\u50CF\\u7A0B\\u5E8F\\u5458\\u5BF9\\u4EE3\\u7801\\u7684\\u6CE8\\u91CA\\u3002\\u201D \\u2014\\u2014 \\u67D0\\u4E0D\\u77E5\\u540D\\u7A0B\\u5E8F\\u5458\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728 Web \\u5F00\\u53D1\\u7684\\u4E16\\u754C\\u91CC\\uFF0C\\u7528\\u6237\\u9274\\u6743\\uFF08Authentication\\uFF09\\u5C31\\u50CF\\u662F\\u6570\\u5B57\\u4E16\\u754C\\u7684\\u201C\\u95E8\\u7981\\u7CFB\\u7EDF\\u201D \\u{1F6AA}\\u3002\\u5B83\\u51B3\\u5B9A\\u4E86\\u8C01\\u53EF\\u4EE5\\u8FDB\\u5165\\u4F60\\u7684\\u5E94\\u7528\\uFF0C\\u8C01\\u53EA\\u80FD\\u5728\\u95E8\\u5916\\u5F98\\u5F8A\\u3002Token \\u9274\\u6743\\u4F5C\\u4E3A\\u73B0\\u4EE3 Web \\u5F00\\u53D1\\u4E2D\\u6700\\u5E38\\u89C1\\u7684\\u6280\\u672F\\u4E4B\\u4E00\\uFF0C\\u65E9\\u5DF2\\u6210\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u7684\\u5FC5\\u5907\\u6280\\u80FD\\u3002\\u7136\\u800C\\uFF0CToken \\u9274\\u6743\\u7684\\u80CC\\u540E\\u4E0D\\u4EC5\\u662F\\u4E00\\u4E32\\u52A0\\u5BC6\\u5B57\\u7B26\\u4E32\\uFF0C\\u66F4\\u662F\\u4E00\\u5957\\u590D\\u6742\\u7684\\u539F\\u7406\\u3001\\u534F\\u8BAE\\u548C\\u54F2\\u5B66\\u601D\\u8003\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u4ECE Token \\u9274\\u6743\\u7684\\u5E95\\u5C42\\u539F\\u7406\\u5F00\\u59CB\\uFF0C\\u6DF1\\u5165\\u5256\\u6790 JWT\\u3001OAuth2.0\\u3001Session \\u7B49\\u6280\\u672F\\u7684\\u5B9E\\u73B0\\u7EC6\\u8282\\uFF0C\\u7ED3\\u5408\\u4EE3\\u7801\\u793A\\u4F8B\\u3001\\u6700\\u4F73\\u5B9E\\u8DF5\\u548C\\u4E00\\u4E9B\\u201C\\u9AD8\\u7EA7\\u5E7D\\u9ED8\\u611F\\u201D \\u{1F60E}\\uFF0C\\u8BA9\\u4F60\\u4E0D\\u4EC5\\u80FD\\u5199\\u51FA\\u5B89\\u5168\\u7684\\u9274\\u6743\\u4EE3\\u7801\\uFF0C\\u8FD8\\u80FD\\u5BF9\\u6574\\u4E2A\\u4F53\\u7CFB\\u6709\\u66F4\\u6DF1\\u523B\\u7684\\u7406\\u89E3\\u3002\\u6211\\u4EEC\\u8FD8\\u5C06\\u4E0A\\u5347\\u5230\\u4EBA\\u751F\\u548C\\u54F2\\u5B66\\u5C42\\u9762\\uFF0C\\u63A2\\u8BA8\\u4FE1\\u4EFB\\u4E0E\\u5B89\\u5168\\u7684\\u672C\\u8D28\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521A\\u5165\\u884C\\u7684\\u5C0F\\u767D\\uFF0C\\u8FD8\\u662F\\u8EAB\\u7ECF\\u767E\\u6218\\u7684\\u8001\\u5175\\uFF0C\\u8FD9\\u7BC7\\u6587\\u7AE0\\u90FD\\u5C06\\u4E3A\\u4F60\\u63D0\\u4F9B\\u5B9E\\u7528\\u7684\\u77E5\\u8BC6\\u548C\\u542F\\u53D1\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"\\u6587\\u7AE0\\u7ED3\\u6784\\u601D\\u7EF4\\u94FE\\u6982\\u89C8\",children:(0,e.jsx)(n.a,{href:\"#\\u6587\\u7AE0\\u7ED3\\u6784\\u601D\\u7EF4\\u94FE\\u6982\\u89C8\",children:\"\\u6587\\u7AE0\\u7ED3\\u6784\\uFF1A\\u601D\\u7EF4\\u94FE\\u6982\\u89C8\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u8BA9\\u8FD9\\u8D9F\\u9274\\u6743\\u4E4B\\u65C5\\u6E05\\u6670\\u660E\\u4E86\\uFF0C\\u6211\\u4EEC\\u5C06\\u6309\\u7167\\u4EE5\\u4E0B\\u7ED3\\u6784\\u5C55\\u5F00\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4EC0\\u4E48\\u662F\\u7528\\u6237\\u9274\\u6743\\uFF1F\"}),\" \\u2014\\u2014 \\u4ECE\\u6982\\u5FF5\\u5230\\u73B0\\u5B9E\\u4E16\\u754C\\u7684\\u7C7B\\u6BD4\\uFF0C\\u641E\\u61C2\\u9274\\u6743\\u7684\\u672C\\u8D28\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Token \\u9274\\u6743\\u7684\\u8D77\\u6E90\\u4E0E\\u53D1\\u5C55\"}),\" \\u2014\\u2014 \\u5386\\u53F2\\u56DE\\u987E\\uFF0C\\u4E86\\u89E3 Session\\u3001Cookie \\u5230 Token \\u7684\\u6F14\\u53D8\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Token \\u9274\\u6743\\u7684\\u539F\\u7406\"}),\" \\u2014\\u2014 \\u6DF1\\u5165 JWT\\u3001OAuth2.0 \\u7B49\\u6280\\u672F\\u7684\\u6838\\u5FC3\\u673A\\u5236\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4EE3\\u7801\\u5B9E\\u73B0\\uFF1A\\u4ECE\\u96F6\\u6784\\u5EFA Token \\u9274\\u6743\"}),\" \\u2014\\u2014 \\u63D0\\u4F9B\\u524D\\u7AEF\\u548C\\u540E\\u7AEF\\u7ED3\\u5408\\u7684\\u4EE3\\u7801\\u793A\\u4F8B\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u5B89\\u5168\\u6CE8\\u610F\\u4E8B\\u9879\"}),\" \\u2014\\u2014 \\u603B\\u7ED3\\u5B9E\\u7528\\u6280\\u5DE7\\uFF0C\\u89C4\\u907F\\u5E38\\u89C1\\u5751\\u70B9\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u54F2\\u5B66\\u601D\\u8003\\uFF1A\\u4FE1\\u4EFB\\u4E0E\\u5B89\\u5168\\u7684\\u8FB9\\u754C\"}),\" \\u2014\\u2014 \\u4ECE\\u6280\\u672F\\u5230\\u4EBA\\u751F\\u7684\\u5347\\u534E\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\"}),\" \\u2014\\u2014 Token \\u9274\\u6743\\u7684\\u672A\\u6765\\u4E0E\\u5B66\\u4E60\\u5EFA\\u8BAE\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u8FD9\\u6BB5\\u9274\\u6743\\u5192\\u9669\\u5427\\uFF01\\u{1F680}\"}),`\n`,(0,e.jsx)(n.h2,{id:\"1-\\u4EC0\\u4E48\\u662F\\u7528\\u6237\\u9274\\u6743\",children:(0,e.jsx)(n.a,{href:\"#1-\\u4EC0\\u4E48\\u662F\\u7528\\u6237\\u9274\\u6743\",children:\"1. \\u4EC0\\u4E48\\u662F\\u7528\\u6237\\u9274\\u6743\\uFF1F\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u7528\\u6237\\u9274\\u6743\\uFF08Authentication\\uFF0C\\u7B80\\u79F0 Auth\\uFF09\\u662F\\u9A8C\\u8BC1\\u7528\\u6237\\u8EAB\\u4EFD\\u7684\\u8FC7\\u7A0B\\uFF0C\\u7B80\\u5355\\u6765\\u8BF4\\uFF0C\\u5C31\\u662F\\u56DE\\u7B54\\u201C\",(0,e.jsx)(n.strong,{children:\"\\u4F60\\u662F\\u8C01\\uFF1F\"}),\"\\u201D\\u8FD9\\u4E2A\\u95EE\\u9898\\u3002\\u5728 Web \\u5E94\\u7528\\u4E2D\\uFF0C\\u9274\\u6743\\u51B3\\u5B9A\\u4E86\\u7528\\u6237\\u662F\\u5426\\u6709\\u6743\\u9650\\u8BBF\\u95EE\\u67D0\\u4E9B\\u8D44\\u6E90\\u6216\\u6267\\u884C\\u67D0\\u4E9B\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u7C7B\\u6BD4\\u73B0\\u5B9E\\u4E16\\u754C\\u7684\\u95E8\\u7981\\u5361\",children:(0,e.jsx)(n.a,{href:\"#\\u7C7B\\u6BD4\\u73B0\\u5B9E\\u4E16\\u754C\\u7684\\u95E8\\u7981\\u5361\",children:\"\\u7C7B\\u6BD4\\uFF1A\\u73B0\\u5B9E\\u4E16\\u754C\\u7684\\u95E8\\u7981\\u5361\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u60F3\\u8C61\\u4F60\\u53BB\\u516C\\u53F8\\u4E0A\\u73ED\\uFF0C\\u6BCF\\u5929\\u5237\\u95E8\\u7981\\u5361\\u624D\\u80FD\\u8FDB\\u5165\\u5927\\u697C\\u3002\\u95E8\\u7981\\u5361\\u91CC\\u5B58\\u50A8\\u4E86\\u4F60\\u7684\\u8EAB\\u4EFD\\u4FE1\\u606F\\uFF08\\u6BD4\\u5982\\u5458\\u5DE5 ID\\uFF09\\uFF0C\\u5927\\u697C\\u7684\\u95E8\\u7981\\u7CFB\\u7EDF\\u4F1A\\u9A8C\\u8BC1\\u8FD9\\u5F20\\u5361\\u662F\\u5426\\u6709\\u6548\\u3002\\u5982\\u679C\\u6709\\u6548\\uFF0C\\u95E8\\u5C31\\u6253\\u5F00\\uFF1B\\u5982\\u679C\\u65E0\\u6548\\uFF0C\\u4F60\\u53EA\\u80FD\\u7AD9\\u5728\\u95E8\\u5916\\u745F\\u745F\\u53D1\\u6296 \\u{1F976}\\u3002Token \\u9274\\u6743\\u5C31\\u50CF\\u8FD9\\u5F20\\u95E8\\u7981\\u5361\\uFF0C\\u53EA\\u4E0D\\u8FC7\\u5B83\\u8FD0\\u884C\\u5728\\u6570\\u5B57\\u4E16\\u754C\\uFF0C\\u9A8C\\u8BC1\\u7684\\u662F HTTP \\u8BF7\\u6C42\\u7684\\u8EAB\\u4EFD\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u9274\\u6743-vs-\\u6388\\u6743\",children:(0,e.jsx)(n.a,{href:\"#\\u9274\\u6743-vs-\\u6388\\u6743\",children:\"\\u9274\\u6743 vs \\u6388\\u6743\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u522B\\u628A\\u9274\\u6743\\uFF08Authentication\\uFF09\\u548C\\u6388\\u6743\\uFF08Authorization\\uFF09\\u641E\\u6DF7\\uFF01\\u9274\\u6743\\u662F\\u9A8C\\u8BC1\\u201C\\u4F60\\u662F\\u8C01\\u201D\\uFF0C\\u6388\\u6743\\u662F\\u51B3\\u5B9A\\u201C\\u4F60\\u80FD\\u5E72\\u4EC0\\u4E48\\u201D\\u3002\\u7528\\u7C7B\\u6BD4\\u6765\\u8BF4\\uFF0C\\u9274\\u6743\\u662F\\u68C0\\u67E5\\u4F60\\u7684\\u95E8\\u7981\\u5361\\uFF0C\\u6388\\u6743\\u662F\\u51B3\\u5B9A\\u4F60\\u80FD\\u8FDB\\u54EA\\u4E2A\\u529E\\u516C\\u5BA4\\u3002\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u6982\\u5FF5\"}),(0,e.jsx)(n.th,{children:\"\\u4F5C\\u7528\"}),(0,e.jsx)(n.th,{children:\"\\u7C7B\\u6BD4\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u9274\\u6743 (AuthN)\"}),(0,e.jsx)(n.td,{children:\"\\u9A8C\\u8BC1\\u7528\\u6237\\u8EAB\\u4EFD\"}),(0,e.jsx)(n.td,{children:\"\\u68C0\\u67E5\\u95E8\\u7981\\u5361\\u662F\\u5426\\u6709\\u6548\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u6388\\u6743 (AuthZ)\"}),(0,e.jsx)(n.td,{children:\"\\u786E\\u5B9A\\u7528\\u6237\\u6743\\u9650\"}),(0,e.jsx)(n.td,{children:\"\\u51B3\\u5B9A\\u4F60\\u80FD\\u8FDB\\u54EA\\u4E2A\\u529E\\u516C\\u5BA4\"})]})]})]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u5728\\u9879\\u76EE\\u4E2D\\uFF0C\\u59CB\\u7EC8\\u5C06\\u9274\\u6743\\u548C\\u6388\\u6743\\u903B\\u8F91\\u5206\\u5F00\\uFF0C\\u786E\\u4FDD\\u4EE3\\u7801\\u6A21\\u5757\\u5316\\uFF0C\\u907F\\u514D\\u6743\\u9650\\u7BA1\\u7406\\u7684\\u6DF7\\u4E71\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"2-token-\\u9274\\u6743\\u7684\\u8D77\\u6E90\\u4E0E\\u53D1\\u5C55\",children:(0,e.jsx)(n.a,{href:\"#2-token-\\u9274\\u6743\\u7684\\u8D77\\u6E90\\u4E0E\\u53D1\\u5C55\",children:\"2. Token \\u9274\\u6743\\u7684\\u8D77\\u6E90\\u4E0E\\u53D1\\u5C55\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8981\\u7406\\u89E3 Token \\u9274\\u6743\\uFF0C\\u6211\\u4EEC\\u5F97\\u5148\\u7A7F\\u8D8A\\u5230 Web \\u5F00\\u53D1\\u7684\\u201C\\u8FDC\\u53E4\\u65F6\\u4EE3\\u201D \\u{1F996}\\uFF0C\\u770B\\u770B\\u5B83\\u7684\\u524D\\u4E16\\u4ECA\\u751F\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"21-\\u4ECE-session-\\u548C-cookie-\\u5F00\\u59CB\",children:(0,e.jsx)(n.a,{href:\"#21-\\u4ECE-session-\\u548C-cookie-\\u5F00\\u59CB\",children:\"2.1 \\u4ECE Session \\u548C Cookie \\u5F00\\u59CB\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728 Web 1.0 \\u65F6\\u4EE3\\uFF0CSession \\u548C Cookie \\u662F\\u9274\\u6743\\u7684\\u4E3B\\u6D41\\u65B9\\u5F0F\\u3002\\u7528\\u6237\\u767B\\u5F55\\u540E\\uFF0C\\u670D\\u52A1\\u5668\\u4F1A\\u751F\\u6210\\u4E00\\u4E2A Session ID\\uFF0C\\u5B58\\u50A8\\u5728\\u670D\\u52A1\\u5668\\u7AEF\\uFF0C\\u5E76\\u901A\\u8FC7 Cookie \\u53D1\\u7ED9\\u5BA2\\u6237\\u7AEF\\u3002\\u6BCF\\u6B21\\u8BF7\\u6C42\\u65F6\\uFF0C\\u6D4F\\u89C8\\u5668\\u81EA\\u52A8\\u5E26\\u4E0A Cookie\\uFF0C\\u670D\\u52A1\\u5668\\u6839\\u636E Session ID \\u9A8C\\u8BC1\\u7528\\u6237\\u8EAB\\u4EFD\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u7B80\\u5355\\u76F4\\u63A5\\uFF0C\\u9002\\u5408\\u5355\\u4F53\\u5E94\\u7528\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u670D\\u52A1\\u5668\\u53EF\\u4EE5\\u968F\\u65F6\\u9500\\u6BC1 Session\\uFF0C\\u63A7\\u5236\\u7528\\u6237\\u72B6\\u6001\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u7F3A\\u70B9\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u670D\\u52A1\\u5668\\u9700\\u8981\\u5B58\\u50A8\\u5927\\u91CF Session \\u6570\\u636E\\uFF0C\\u5185\\u5B58\\u538B\\u529B\\u5927\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4E0D\\u9002\\u5408\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\uFF08\\u9700\\u8981 Session \\u540C\\u6B65\\uFF09\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"Cookie \\u5BB9\\u6613\\u88AB CSRF\\uFF08\\u8DE8\\u7AD9\\u8BF7\\u6C42\\u4F2A\\u9020\\uFF09\\u653B\\u51FB\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"22-token-\\u9274\\u6743\\u7684\\u5D1B\\u8D77\",children:(0,e.jsx)(n.a,{href:\"#22-token-\\u9274\\u6743\\u7684\\u5D1B\\u8D77\",children:\"2.2 Token \\u9274\\u6743\\u7684\\u5D1B\\u8D77\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u968F\\u7740\\u79FB\\u52A8\\u7AEF\\u548C\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u7684\\u5174\\u8D77\\uFF0CSession \\u7684\\u5C40\\u9650\\u6027\\u66B4\\u9732\\u65E0\\u9057\\u3002Token \\u9274\\u6743\\u5E94\\u8FD0\\u800C\\u751F\\uFF0C\\u5B83\\u5C06\\u7528\\u6237\\u4FE1\\u606F\\u7F16\\u7801\\u6210\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\\uFF08Token\\uFF09\\uFF0C\\u7531\\u5BA2\\u6237\\u7AEF\\u4FDD\\u5B58\\uFF0C\\u670D\\u52A1\\u5668\\u65E0\\u9700\\u5B58\\u50A8\\u72B6\\u6001\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Token \\u7684\\u6838\\u5FC3\\u7279\\u70B9\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u65E0\\u72B6\\u6001\"}),\"\\uFF1A\\u670D\\u52A1\\u5668\\u4E0D\\u4FDD\\u5B58 Token\\uFF0C\\u9A8C\\u8BC1\\u65F6\\u53EA\\u9700\\u89E3\\u7801\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u53EF\\u6269\\u5C55\"}),\"\\uFF1A\\u9002\\u5408\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u548C\\u5FAE\\u670D\\u52A1\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7075\\u6D3B\\u6027\"}),\"\\uFF1A\\u652F\\u6301\\u591A\\u79CD\\u534F\\u8BAE\\uFF08\\u5982 JWT\\u3001OAuth\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{id:\"23-jwt-vs-oauth-vs-session\",children:(0,e.jsx)(n.a,{href:\"#23-jwt-vs-oauth-vs-session\",children:\"2.3 JWT vs OAuth vs Session\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8BA9\\u6211\\u4EEC\\u7528\\u4E00\\u5F20\\u8868\\u683C\\u5BF9\\u6BD4\\u8FD9\\u4E09\\u79CD\\u5E38\\u89C1\\u9274\\u6743\\u65B9\\u5F0F\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u65B9\\u5F0F\"}),(0,e.jsx)(n.th,{children:\"\\u5B58\\u50A8\\u4F4D\\u7F6E\"}),(0,e.jsx)(n.th,{children:\"\\u72B6\\u6001\\u6027\"}),(0,e.jsx)(n.th,{children:\"\\u9002\\u7528\\u573A\\u666F\"}),(0,e.jsx)(n.th,{children:\"\\u5B89\\u5168\\u6027\\u8003\\u8651\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Session\"}),(0,e.jsx)(n.td,{children:\"\\u670D\\u52A1\\u5668\\u7AEF\\uFF08Session\\uFF09+ \\u5BA2\\u6237\\u7AEF\\uFF08Cookie\\uFF09\"}),(0,e.jsx)(n.td,{children:\"\\u6709\\u72B6\\u6001\"}),(0,e.jsx)(n.td,{children:\"\\u4F20\\u7EDF Web \\u5E94\\u7528\"}),(0,e.jsx)(n.td,{children:\"CSRF \\u653B\\u51FB\\u3001Session \\u52AB\\u6301\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"JWT\"}),(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\\uFF08LocalStorage / Cookie\\uFF09\"}),(0,e.jsx)(n.td,{children:\"\\u65E0\\u72B6\\u6001\"}),(0,e.jsx)(n.td,{children:\"\\u5355\\u9875\\u5E94\\u7528\\u3001\\u5FAE\\u670D\\u52A1\"}),(0,e.jsx)(n.td,{children:\"Token \\u6CC4\\u9732\\u3001\\u7B7E\\u540D\\u9A8C\\u8BC1\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"OAuth2.0\"}),(0,e.jsx)(n.td,{children:\"\\u5BA2\\u6237\\u7AEF\\uFF08Access Token\\uFF09\"}),(0,e.jsx)(n.td,{children:\"\\u65E0\\u72B6\\u6001\"}),(0,e.jsx)(n.td,{children:\"\\u7B2C\\u4E09\\u65B9\\u6388\\u6743\\u3001API \\u8C03\\u7528\"}),(0,e.jsx)(n.td,{children:\"\\u4EE4\\u724C\\u5237\\u65B0\\u3001\\u6743\\u9650\\u8303\\u56F4\\u63A7\\u5236\"})]})]})]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u9009\\u62E9\\u9274\\u6743\\u65B9\\u5F0F\\u65F6\\uFF0C\\u4F18\\u5148\\u8003\\u8651\\u9879\\u76EE\\u89C4\\u6A21\\u548C\\u67B6\\u6784\\u3002\\u5355\\u4F53\\u5E94\\u7528\\u53EF\\u4EE5\\u7528 Session\\uFF0C\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u66F4\\u9002\\u5408 JWT \\u6216 OAuth2.0\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"3-token-\\u9274\\u6743\\u7684\\u539F\\u7406\",children:(0,e.jsx)(n.a,{href:\"#3-token-\\u9274\\u6743\\u7684\\u539F\\u7406\",children:\"3. Token \\u9274\\u6743\\u7684\\u539F\\u7406\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u73B0\\u5728\\uFF0C\\u8BA9\\u6211\\u4EEC\\u6DF1\\u5165 Token \\u9274\\u6743\\u7684\\u201C\\u53D1\\u52A8\\u673A\\u8231\\u201D \\u{1F527}\\uFF0C\\u770B\\u770B\\u5B83\\u7684\\u6838\\u5FC3\\u673A\\u5236\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"31-jwtjson-web-token\",children:(0,e.jsx)(n.a,{href:\"#31-jwtjson-web-token\",children:\"3.1 JWT\\uFF08JSON Web Token\\uFF09\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"JWT \\u662F\\u6700\\u6D41\\u884C\\u7684 Token \\u9274\\u6743\\u65B9\\u5F0F\\uFF0C\\u5B83\\u7531\\u4E09\\u90E8\\u5206\\u7EC4\\u6210\\uFF1A\",(0,e.jsx)(n.strong,{children:\"Header\"}),\"\\u3001\",(0,e.jsx)(n.strong,{children:\"Payload\"}),\" \\u548C \",(0,e.jsx)(n.strong,{children:\"Signature\"}),\"\\uFF0C\\u7528\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\".\"})})})}),\"\\u5206\\u9694\\uFF0C\\u7F16\\u7801\\u540E\\u5F62\\u5982\\uFF1A\"]}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\"})})})})}),`\n`,(0,e.jsx)(n.h4,{id:\"jwt-\\u7684\\u7EC4\\u6210\",children:(0,e.jsx)(n.a,{href:\"#jwt-\\u7684\\u7EC4\\u6210\",children:\"JWT \\u7684\\u7EC4\\u6210\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Header\"}),\"\\uFF1A\\u63CF\\u8FF0 Token \\u7684\\u5143\\u6570\\u636E\\uFF0C\\u901A\\u5E38\\u5305\\u542B\\u7B97\\u6CD5\\uFF08\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"alg\"})})})}),\"\\uFF09\\u548C\\u7C7B\\u578B\\uFF08\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"typ\"})})})}),\"\\uFF09\\u3002\",`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"alg\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"HS256\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"typ\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"JWT\"'})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Payload\"}),\"\\uFF1A\\u5B58\\u50A8\\u7528\\u6237\\u6570\\u636E\\uFF0C\\u5982\\u7528\\u6237 ID\\u3001\\u89D2\\u8272\\u7B49\\u3002\\u53EF\\u4EE5\\u5305\\u542B\\u6807\\u51C6\\u5B57\\u6BB5\\uFF08\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"sub\"})})})}),\"\\u3001\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"iat\"})})})}),\" \\u7B49\\uFF09\\u548C\\u81EA\\u5B9A\\u4E49\\u5B57\\u6BB5\\u3002\",`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"json\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"json\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"sub\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"1234567890\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"name\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"John Doe\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:'  \"iat\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1516239022\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Signature\"}),\"\\uFF1A\\u901A\\u8FC7\\u5BC6\\u94A5\\u5BF9 Header \\u548C Payload \\u8FDB\\u884C\\u7B7E\\u540D\\uFF0C\\u786E\\u4FDD Token \\u672A\\u88AB\\u7BE1\\u6539\\u3002\",`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"HMACSHA256(\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:'  base64UrlEncode(header) + \".\" + base64UrlEncode(payload),'})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"  secret\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\")\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"jwt-\\u7684\\u5DE5\\u4F5C\\u6D41\\u7A0B\",children:(0,e.jsx)(n.a,{href:\"#jwt-\\u7684\\u5DE5\\u4F5C\\u6D41\\u7A0B\",children:\"JWT \\u7684\\u5DE5\\u4F5C\\u6D41\\u7A0B\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u7528\\u6237\\u767B\\u5F55\\uFF0C\\u670D\\u52A1\\u5668\\u751F\\u6210 JWT \\u5E76\\u8FD4\\u56DE\\u7ED9\\u5BA2\\u6237\\u7AEF\\u3002\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5BA2\\u6237\\u7AEF\\u5C06 JWT \\u4FDD\\u5B58\\u5728 LocalStorage \\u6216 Cookie \\u4E2D\\u3002\"}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\u6BCF\\u6B21\\u8BF7\\u6C42\\u65F6\\uFF0C\\u5BA2\\u6237\\u7AEF\\u5728 HTTP \\u5934\\uFF08\",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"Authorization: Bearer <token>\"})})})}),\"\\uFF09\\u4E2D\\u5E26\\u4E0A JWT\\u3002\"]}),`\n`,(0,e.jsx)(n.li,{children:\"\\u670D\\u52A1\\u5668\\u9A8C\\u8BC1 JWT \\u7684\\u7B7E\\u540D\\u548C\\u6709\\u6548\\u671F\\uFF0C\\u82E5\\u6709\\u6548\\u5219\\u5141\\u8BB8\\u8BBF\\u95EE\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\"}),\"\\uFF1ANode.js \\u751F\\u6210\\u548C\\u9A8C\\u8BC1 JWT\"]}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" jwt\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'jsonwebtoken'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" secret\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'your-secret-key'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u751F\\u6210 JWT\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { id: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'John Doe'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" token\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" jwt.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"sign\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(user, secret, { expiresIn: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'1h'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Generated Token:'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", token);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u9A8C\\u8BC1 JWT\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"jwt.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"verify\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(token, secret, (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"decoded\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Token verification failed:'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", err);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"else\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Decoded Payload:'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", decoded);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u6C38\\u8FDC\\u4E0D\\u8981\\u5728 JWT \\u7684 Payload \\u4E2D\\u5B58\\u50A8\\u654F\\u611F\\u4FE1\\u606F\\uFF08\\u5982\\u5BC6\\u7801\\uFF09\\uFF0C\\u56E0\\u4E3A Payload \\u662F\\u53EF\\u4EE5\\u89E3\\u7801\\u7684\\uFF01\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"32-oauth20\",children:(0,e.jsx)(n.a,{href:\"#32-oauth20\",children:\"3.2 OAuth2.0\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"OAuth2.0 \\u662F\\u4E00\\u79CD\\u6388\\u6743\\u534F\\u8BAE\\uFF0C\\u5E7F\\u6CDB\\u7528\\u4E8E\\u7B2C\\u4E09\\u65B9\\u767B\\u5F55\\uFF08\\u5982\\u201C\\u4F7F\\u7528 Google \\u767B\\u5F55\\u201D\\uFF09\\u3002\\u5B83\\u901A\\u8FC7 \",(0,e.jsx)(n.strong,{children:\"Access Token\"}),\" \\u548C \",(0,e.jsx)(n.strong,{children:\"Refresh Token\"}),\" \\u5B9E\\u73B0\\u5B89\\u5168\\u7684\\u8D44\\u6E90\\u8BBF\\u95EE\\u3002\"]}),`\n`,(0,e.jsx)(n.h4,{id:\"oauth20-\\u7684\\u6838\\u5FC3\\u89D2\\u8272\",children:(0,e.jsx)(n.a,{href:\"#oauth20-\\u7684\\u6838\\u5FC3\\u89D2\\u8272\",children:\"OAuth2.0 \\u7684\\u6838\\u5FC3\\u89D2\\u8272\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Resource Owner\"}),\"\\uFF1A\\u8D44\\u6E90\\u62E5\\u6709\\u8005\\uFF08\\u7528\\u6237\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Client\"}),\"\\uFF1A\\u8BF7\\u6C42\\u8D44\\u6E90\\u7684\\u5E94\\u7528\\u7A0B\\u5E8F\\uFF08\\u4F60\\u7684\\u524D\\u7AEF\\u5E94\\u7528\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Authorization Server\"}),\"\\uFF1A\\u9881\\u53D1 Token \\u7684\\u670D\\u52A1\\u5668\\uFF08\\u5982 Google \\u7684\\u8BA4\\u8BC1\\u670D\\u52A1\\u5668\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Resource Server\"}),\"\\uFF1A\\u5B58\\u50A8\\u8D44\\u6E90\\u7684\\u670D\\u52A1\\u5668\\uFF08\\u5982 Google \\u7684 API \\u670D\\u52A1\\u5668\\uFF09\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{id:\"oauth20-\\u7684\\u6388\\u6743\\u7801\\u6D41\\u7A0B\",children:(0,e.jsx)(n.a,{href:\"#oauth20-\\u7684\\u6388\\u6743\\u7801\\u6D41\\u7A0B\",children:\"OAuth2.0 \\u7684\\u6388\\u6743\\u7801\\u6D41\\u7A0B\"})}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u7528\\u6237\\u70B9\\u51FB\\u201C\\u4F7F\\u7528 Google \\u767B\\u5F55\\u201D\\uFF0C\\u8DF3\\u8F6C\\u5230 Google \\u6388\\u6743\\u9875\\u9762\\u3002\"}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\u7528\\u6237\\u540C\\u610F\\u6388\\u6743\\uFF0CGoogle \\u8FD4\\u56DE\\u4E00\\u4E2A\",(0,e.jsx)(n.strong,{children:\"\\u6388\\u6743\\u7801\"}),\"\\uFF08Authorization Code\\uFF09\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\u5BA2\\u6237\\u7AEF\\u7528\\u6388\\u6743\\u7801\\u5411 Google \\u7684\\u6388\\u6743\\u670D\\u52A1\\u5668\\u6362\\u53D6 \",(0,e.jsx)(n.strong,{children:\"Access Token\"}),\" \\u548C \",(0,e.jsx)(n.strong,{children:\"Refresh Token\"}),\"\\u3002\"]}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5BA2\\u6237\\u7AEF\\u4F7F\\u7528 Access Token \\u8BBF\\u95EE\\u8D44\\u6E90\\u670D\\u52A1\\u5668\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4EE3\\u7801\\u793A\\u4F8B\"}),\"\\uFF1A\\u524D\\u7AEF\\u4F7F\\u7528 OAuth2.0 \\u767B\\u5F55 Google\"]}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" clientId\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'your-client-id'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" redirectUri\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'http://localhost:3000/callback'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" scope\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'https://www.googleapis.com/auth/userinfo.profile'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" authUrl\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" `https://accounts.google.com/o/oauth2/v2/auth?client_id=${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"clientId\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}&redirect_uri=${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"redirectUri\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}&response_type=code&scope=${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"scope\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u8DF3\\u8F6C\\u5230 Google \\u6388\\u6743\\u9875\\u9762\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"window.location.href \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" authUrl;\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u56DE\\u8C03\\u9875\\u9762\\u5904\\u7406\\u6388\\u6743\\u7801\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" urlParams\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" URLSearchParams\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(window.location.search);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" code\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" urlParams.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'code'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (code) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"  fetch\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'https://oauth2.googleapis.com/token'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    method: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'POST'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    headers: { \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Content-Type'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'application/x-www-form-urlencoded'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    body: \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" URLSearchParams\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      code,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      client_id: clientId,\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      client_secret: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'your-client-secret'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      redirect_uri: redirectUri,\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      grant_type: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'authorization_code'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }),\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"response\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    .\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"then\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"data\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Access Token:'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", data.access_token);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u4F7F\\u7528 OAuth2.0 \\u65F6\\uFF0C\\u59CB\\u7EC8\\u901A\\u8FC7 HTTPS \\u4F20\\u8F93 Token\\uFF0C\\u9632\\u6B62\\u4E2D\\u95F4\\u4EBA\\u653B\\u51FB\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"4-\\u4EE3\\u7801\\u5B9E\\u73B0\\u4ECE\\u96F6\\u6784\\u5EFA-token-\\u9274\\u6743\",children:(0,e.jsx)(n.a,{href:\"#4-\\u4EE3\\u7801\\u5B9E\\u73B0\\u4ECE\\u96F6\\u6784\\u5EFA-token-\\u9274\\u6743\",children:\"4. \\u4EE3\\u7801\\u5B9E\\u73B0\\uFF1A\\u4ECE\\u96F6\\u6784\\u5EFA Token \\u9274\\u6743\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8BA9\\u6211\\u4EEC\\u52A8\\u624B\\u5199\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684 Token \\u9274\\u6743\\u7CFB\\u7EDF\\uFF0C\\u5305\\u542B\\u524D\\u7AEF\\uFF08React\\uFF09\\u548C\\u540E\\u7AEF\\uFF08Node.js + Express\\uFF09\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"41-\\u540E\\u7AEF\\u751F\\u6210\\u548C\\u9A8C\\u8BC1-jwt\",children:(0,e.jsx)(n.a,{href:\"#41-\\u540E\\u7AEF\\u751F\\u6210\\u548C\\u9A8C\\u8BC1-jwt\",children:\"4.1 \\u540E\\u7AEF\\uFF1A\\u751F\\u6210\\u548C\\u9A8C\\u8BC1 JWT\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u4F7F\\u7528 Node.js \\u548C Express \\u642D\\u5EFA\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u540E\\u7AEF API\\uFF0C\\u652F\\u6301\\u7528\\u6237\\u767B\\u5F55\\u548C\\u53D7\\u4FDD\\u62A4\\u7684\\u8DEF\\u7531\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" express\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'express'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" jwt\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'jsonwebtoken'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" cors\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'cors'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"cors\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(express.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" secret\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'my-super-secret-key'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" users\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [{ id: \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", username: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'admin'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", password: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'password123'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" }];\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u767B\\u5F55\\u63A5\\u53E3\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'/login'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"username\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"password\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" req.body;\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" users.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"u\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" u.username \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" username \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" u.password \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" password);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"user) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"401\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({ message: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Invalid credentials'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" token\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" jwt.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"sign\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({ id: user.id, username: user.username }, secret, {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    expiresIn: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'1h'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({ token });\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#6A737D\"},children:\"// \\u53D7\\u4FDD\\u62A4\\u7684\\u8DEF\\u7531\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'/protected'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" token\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" req.headers.authorization?.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"split\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"' '\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")[\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"token) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"401\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({ message: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'No token provided'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  jwt.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"verify\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(token, secret, (\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"decoded\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (err) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"401\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({ message: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Invalid token'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    res.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"({ message: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Welcome to the protected route!'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", user: decoded });\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Server running on port 3000'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,e.jsx)(n.h3,{id:\"42-\\u524D\\u7AEFreact-\\u5B9E\\u73B0\\u767B\\u5F55\\u548C-token-\\u7BA1\\u7406\",children:(0,e.jsx)(n.a,{href:\"#42-\\u524D\\u7AEFreact-\\u5B9E\\u73B0\\u767B\\u5F55\\u548C-token-\\u7BA1\\u7406\",children:\"4.2 \\u524D\\u7AEF\\uFF1AReact \\u5B9E\\u73B0\\u767B\\u5F55\\u548C Token \\u7BA1\\u7406\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u7528 React \\u642D\\u5EFA\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u767B\\u5F55\\u9875\\u9762\\uFF0C\\u5E76\\u4F7F\\u7528 LocalStorage \\u4FDD\\u5B58 Token\\u3002\"}),`\n`,(0,e.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,e.jsxs)(n.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" axios \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" 'axios'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"username\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setUsername\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"password\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setPassword\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"message\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"setMessage\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"''\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" handleLogin\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'http://localhost:3000/login'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        username,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        password,\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      localStorage.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'token'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", response.data.token);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      setMessage\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Login successful!'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      setMessage\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Login failed: '\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" error.response.data.message);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" fetchProtectedData\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" token\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'token'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"      const\"}),(0,e.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" axios.\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'http://localhost:3000/protected'\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        headers: { Authorization: \"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"`Bearer ${\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"token\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" },\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      });\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      setMessage\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(response.data.message);\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"      setMessage\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\"'Error: '\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" error.response.data.message);\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  };\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" className\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"p-4\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" className\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"text-2xl\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">Token \\u9274\\u6743 Demo</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" className\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"my-4\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"input\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          type\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"text\"'})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          placeholder\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Username\"'})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          value\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{username}\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          onChange\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setUsername\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value)}\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          className\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"border p-2 mr-2\"'})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        />\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"input\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          type\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"password\"'})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          placeholder\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"Password\"'})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          value\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{password}\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          onChange\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{(\"}),(0,e.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"e\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" setPassword\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(e.target.value)}\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"          className\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"border p-2 mr-2\"'})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        />\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{handleLogin} \"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"className\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"bg-blue-500 text-white p-2\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"          Login\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"button\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"        onClick\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"{fetchProtectedData}\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"        className\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"bg-green-500 text-white p-2\"'})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      >\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        Access Protected Route\"})}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      </\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"      <\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" className\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"mt-4\"'}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">{message}</\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    </\"}),(0,e.jsx)(n.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,e.jsxs)(n.span,{\"data-line\":\"\",children:[(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,e.jsx)(n.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,e.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" App;\"})]})]})})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u4E0D\\u8981\\u76F4\\u63A5\\u5728\\u751F\\u4EA7\\u73AF\\u5883\\u4E2D\\u4F7F\\u7528 LocalStorage \\u5B58\\u50A8 Token\\uFF0C\\u8003\\u8651\\u4F7F\\u7528 HttpOnly Cookie \\u914D\\u5408\\u540E\\u7AEF\\u8BBE\\u7F6E\\u6765\\u63D0\\u9AD8\\u5B89\\u5168\\u6027\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u5B89\\u5168\\u6CE8\\u610F\\u4E8B\\u9879\",children:(0,e.jsx)(n.a,{href:\"#5-\\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u5B89\\u5168\\u6CE8\\u610F\\u4E8B\\u9879\",children:\"5. \\u6700\\u4F73\\u5B9E\\u8DF5\\u4E0E\\u5B89\\u5168\\u6CE8\\u610F\\u4E8B\\u9879\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Token \\u9274\\u6743\\u867D\\u7136\\u5F3A\\u5927\\uFF0C\\u4F46\\u7A0D\\u6709\\u4E0D\\u614E\\u5C31\\u4F1A\\u53D8\\u6210\\u201C\\u5B89\\u5168\\u4E8B\\u6545\\u73B0\\u573A\\u201D \\u{1F4A5}\\u3002\\u4EE5\\u4E0B\\u662F\\u4E00\\u4E9B\\u6700\\u4F73\\u5B9E\\u8DF5\\u548C\\u6CE8\\u610F\\u4E8B\\u9879\\uFF1A\"}),`\n`,(0,e.jsx)(n.h3,{id:\"51-\\u4F7F\\u7528-https\",children:(0,e.jsx)(n.a,{href:\"#51-\\u4F7F\\u7528-https\",children:\"5.1 \\u4F7F\\u7528 HTTPS\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6240\\u6709 Token \\u7684\\u4F20\\u8F93\\u5FC5\\u987B\\u901A\\u8FC7 HTTPS\\uFF0C\\u9632\\u6B62\\u4E2D\\u95F4\\u4EBA\\u653B\\u51FB\\uFF08MITM\\uFF09\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsxs)(n.em,{children:[\"Tips: \\u5728\\u5F00\\u53D1\\u9636\\u6BB5\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"mkcert\"})})})}),\" \\u5DE5\\u5177\\u751F\\u6210\\u672C\\u5730 HTTPS \\u8BC1\\u4E66\\uFF0C\\u6A21\\u62DF\\u751F\\u4EA7\\u73AF\\u5883\\u3002\"]})}),`\n`,(0,e.jsx)(n.h3,{id:\"52-\\u9650\\u5236-token-\\u6709\\u6548\\u671F\",children:(0,e.jsx)(n.a,{href:\"#52-\\u9650\\u5236-token-\\u6709\\u6548\\u671F\",children:\"5.2 \\u9650\\u5236 Token \\u6709\\u6548\\u671F\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A JWT \\u8BBE\\u7F6E\\u5408\\u7406\\u7684\\u8FC7\\u671F\\u65F6\\u95F4\\uFF08\\u5982 1 \\u5C0F\\u65F6\\uFF09\\uFF0C\\u5E76\\u4F7F\\u7528 Refresh Token \\u5EF6\\u957F\\u4F1A\\u8BDD\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: Refresh Token \\u5E94\\u5B58\\u50A8\\u5728\\u540E\\u7AEF\\uFF0C\\u5E76\\u901A\\u8FC7\\u5B89\\u5168\\u7684 API \\u5237\\u65B0\\uFF0C\\u51CF\\u5C11\\u5BA2\\u6237\\u7AEF\\u6CC4\\u9732\\u98CE\\u9669\\u3002\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"53-\\u9632\\u6B62-xss-\\u548C-csrf\",children:(0,e.jsx)(n.a,{href:\"#53-\\u9632\\u6B62-xss-\\u548C-csrf\",children:\"5.3 \\u9632\\u6B62 XSS \\u548C CSRF\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"XSS\"}),\"\\uFF1A\\u907F\\u514D\\u5C06 Token \\u5B58\\u50A8\\u5728 LocalStorage\\uFF0C\\u4F18\\u5148\\u4F7F\\u7528 HttpOnly Cookie\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"CSRF\"}),\"\\uFF1A\\u5728\\u8BF7\\u6C42\\u4E2D\\u6DFB\\u52A0 CSRF Token\\uFF0C\\u9A8C\\u8BC1\\u8BF7\\u6C42\\u6765\\u6E90\\u3002\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u4F7F\\u7528\\u73B0\\u4EE3\\u6846\\u67B6\\uFF08\\u5982 Next.js\\uFF09\\u7684\\u5185\\u7F6E CSRF \\u9632\\u62A4\\u529F\\u80FD\\uFF0C\\u51CF\\u5C11\\u624B\\u52A8\\u5B9E\\u73B0\\u7684\\u5DE5\\u4F5C\\u91CF\\u3002\"})}),`\n`,(0,e.jsx)(n.h3,{id:\"54-\\u7B7E\\u540D\\u5BC6\\u94A5\\u5B89\\u5168\",children:(0,e.jsx)(n.a,{href:\"#54-\\u7B7E\\u540D\\u5BC6\\u94A5\\u5B89\\u5168\",children:\"5.4 \\u7B7E\\u540D\\u5BC6\\u94A5\\u5B89\\u5168\"})}),`\n`,(0,e.jsx)(n.p,{children:\"JWT \\u7684\\u7B7E\\u540D\\u5BC6\\u94A5\\u5FC5\\u987B\\u5F3A\\u968F\\u673A\\u751F\\u6210\\uFF0C\\u5E76\\u59A5\\u5584\\u5B58\\u50A8\\uFF08\\u4F8B\\u5982\\u4F7F\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\uFF09\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsxs)(n.em,{children:[\"Tips: \\u4F7F\\u7528\\u5DE5\\u5177\\u5982 \",(0,e.jsx)(n.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,e.jsx)(n.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,e.jsx)(n.span,{\"data-line\":\"\",children:(0,e.jsx)(n.span,{children:\"crypto.randomBytes\"})})})}),\" \\u751F\\u6210\\u9AD8\\u71B5\\u5BC6\\u94A5\\uFF0C\\u907F\\u514D\\u786C\\u7F16\\u7801\\u3002\"]})}),`\n`,(0,e.jsx)(n.h3,{id:\"55-\\u76D1\\u63A7\\u548C\\u65E5\\u5FD7\",children:(0,e.jsx)(n.a,{href:\"#55-\\u76D1\\u63A7\\u548C\\u65E5\\u5FD7\",children:\"5.5 \\u76D1\\u63A7\\u548C\\u65E5\\u5FD7\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8BB0\\u5F55\\u6240\\u6709\\u9274\\u6743\\u5931\\u8D25\\u7684\\u5C1D\\u8BD5\\uFF0C\\u53CA\\u65F6\\u53D1\\u73B0\\u5F02\\u5E38\\u884C\\u4E3A\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.em,{children:\"Tips: \\u96C6\\u6210\\u65E5\\u5FD7\\u670D\\u52A1\\uFF08\\u5982 Sentry\\uFF09\\u76D1\\u63A7 Token \\u76F8\\u5173\\u7684\\u9519\\u8BEF\\uFF0C\\u63D0\\u5347\\u7CFB\\u7EDF\\u53EF\\u89C2\\u6D4B\\u6027\\u3002\"})}),`\n`,(0,e.jsx)(n.h2,{id:\"6-\\u54F2\\u5B66\\u601D\\u8003\\u4FE1\\u4EFB\\u4E0E\\u5B89\\u5168\\u7684\\u8FB9\\u754C\",children:(0,e.jsx)(n.a,{href:\"#6-\\u54F2\\u5B66\\u601D\\u8003\\u4FE1\\u4EFB\\u4E0E\\u5B89\\u5168\\u7684\\u8FB9\\u754C\",children:\"6. \\u54F2\\u5B66\\u601D\\u8003\\uFF1A\\u4FE1\\u4EFB\\u4E0E\\u5B89\\u5168\\u7684\\u8FB9\\u754C\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u9274\\u6743\\u7684\\u6838\\u5FC3\\u662F\",(0,e.jsx)(n.strong,{children:\"\\u4FE1\\u4EFB\"}),\"\\u3002\\u5728\\u6570\\u5B57\\u4E16\\u754C\\u4E2D\\uFF0C\\u6211\\u4EEC\\u901A\\u8FC7 Token\\u3001\\u5BC6\\u94A5\\u548C\\u7B97\\u6CD5\\u6784\\u5EFA\\u4E86\\u4E00\\u5957\\u4FE1\\u4EFB\\u4F53\\u7CFB\\uFF0C\\u4F46\\u8FD9\\u5957\\u4F53\\u7CFB\\u5E76\\u975E\\u7262\\u4E0D\\u53EF\\u7834\\u3002\\u6B63\\u5982\\u54F2\\u5B66\\u5BB6\\u5EB7\\u5FB7\\u6240\\u8BF4\\uFF1A\\u201C\\u6211\\u4EEC\\u6240\\u89C1\\u7684\\u5E76\\u975E\\u4E8B\\u7269\\u672C\\u8EAB\\uFF0C\\u800C\\u662F\\u6211\\u4EEC\\u611F\\u77E5\\u7684\\u65B9\\u5F0F\\u3002\\u201D \\u5728\\u6280\\u672F\\u4E2D\\uFF0C\\u6211\\u4EEC\\u6784\\u5EFA\\u7684\\u4FE1\\u4EFB\\u4F53\\u7CFB\\u4E5F\\u53EA\\u662F\\u5BF9\\u73B0\\u5B9E\\u7684\\u4E00\\u79CD\\u6620\\u5C04\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u4FE1\\u4EFB\\u7684\\u8106\\u5F31\\u6027\",children:(0,e.jsx)(n.a,{href:\"#\\u4FE1\\u4EFB\\u7684\\u8106\\u5F31\\u6027\",children:\"\\u4FE1\\u4EFB\\u7684\\u8106\\u5F31\\u6027\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Token \\u9274\\u6743\\u4F9D\\u8D56\\u4E8E\\u5BC6\\u94A5\\u7684\\u5B89\\u5168\\u6027\\u548C\\u7B97\\u6CD5\\u7684\\u53EF\\u9760\\u6027\\u3002\\u4E00\\u65E6\\u5BC6\\u94A5\\u6CC4\\u9732\\uFF0C\\u6574\\u4E2A\\u4FE1\\u4EFB\\u4F53\\u7CFB\\u5C06\\u8F70\\u7136\\u5012\\u584C\\u3002\\u8FD9\\u8BA9\\u6211\\u60F3\\u8D77\\u4E00\\u4E2A\\u7A0B\\u5E8F\\u5458\\u7684\\u7B11\\u8BDD\\uFF1A\\u201C\\u6211\\u7684\\u4EE3\\u7801\\u6CA1\\u6709 bug\\uFF0C\\u53EA\\u662F\\u4FE1\\u4EFB\\u673A\\u5236\\u51FA\\u4E86\\u70B9\\u5C0F\\u95EE\\u9898\\u3002\\u201D \\u{1F605} \\u4FE1\\u4EFB\\u7684\\u5EFA\\u7ACB\\u9700\\u8981\\u4E25\\u8C28\\u7684\\u8BBE\\u8BA1\\uFF0C\\u4FE1\\u4EFB\\u7684\\u7EF4\\u62A4\\u9700\\u8981\\u6301\\u7EED\\u7684\\u52AA\\u529B\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{id:\"\\u6280\\u672F\\u7684\\u8FB9\\u754C\\u4E0E\\u4EBA\\u751F\\u7684\\u9690\\u55BB\",children:(0,e.jsx)(n.a,{href:\"#\\u6280\\u672F\\u7684\\u8FB9\\u754C\\u4E0E\\u4EBA\\u751F\\u7684\\u9690\\u55BB\",children:\"\\u6280\\u672F\\u7684\\u8FB9\\u754C\\u4E0E\\u4EBA\\u751F\\u7684\\u9690\\u55BB\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u9274\\u6743\\u7CFB\\u7EDF\\u7684\\u8BBE\\u8BA1\\u5C31\\u50CF\\u4EBA\\u751F\\u4E2D\\u5BF9\\u4ED6\\u4EBA\\u7684\\u4FE1\\u4EFB\\u3002\\u6211\\u4EEC\\u9700\\u8981\\u9A8C\\u8BC1\\u5BF9\\u65B9\\u7684\\u8EAB\\u4EFD\\uFF08\\u9274\\u6743\\uFF09\\uFF0C\\u51B3\\u5B9A\\u5BF9\\u65B9\\u80FD\\u505A\\u4EC0\\u4E48\\uFF08\\u6388\\u6743\\uFF09\\uFF0C\\u540C\\u65F6\\u4FDD\\u6301\\u8B66\\u60D5\\u4EE5\\u9632\\u80CC\\u53DB\\uFF08\\u5B89\\u5168\\uFF09\\u3002\\u6280\\u672F\\u4E2D\\u7684\\u6BCF\\u4E00\\u6B21\\u4F18\\u5316\\uFF0C\\u90FD\\u662F\\u5BF9\\u4FE1\\u4EFB\\u8FB9\\u754C\\u7684\\u63A2\\u7D22\\uFF1B\\u4EBA\\u751F\\u4E2D\\u7684\\u6BCF\\u4E00\\u6B21\\u9009\\u62E9\\uFF0C\\u90FD\\u662F\\u5BF9\\u81EA\\u6211\\u8FB9\\u754C\\u7684\\u8BD5\\u63A2\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{id:\"7-\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\",children:(0,e.jsx)(n.a,{href:\"#7-\\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\",children:\"7. \\u603B\\u7ED3\\u4E0E\\u5C55\\u671B\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Token \\u9274\\u6743\\u662F\\u73B0\\u4EE3 Web \\u5F00\\u53D1\\u7684\\u57FA\\u77F3\\uFF0C\\u5B83\\u4E0D\\u4EC5\\u89E3\\u51B3\\u4E86\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\u7684\\u95EE\\u9898\\uFF0C\\u8FD8\\u63A8\\u52A8\\u4E86\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u548C\\u5FAE\\u670D\\u52A1\\u7684\\u666E\\u53CA\\u3002\\u4ECE Session \\u5230 JWT\\uFF0C\\u518D\\u5230 OAuth2.0\\uFF0C\\u9274\\u6743\\u6280\\u672F\\u5728\\u4E0D\\u65AD\\u6F14\\u8FDB\\uFF0C\\u672A\\u6765\\u7684\\u65B9\\u5411\\u53EF\\u80FD\\u662F\\u57FA\\u4E8E\\u96F6\\u4FE1\\u4EFB\\u67B6\\u6784\\uFF08Zero Trust\\uFF09\\u6216\\u53BB\\u4E2D\\u5FC3\\u5316\\u8EAB\\u4EFD\\uFF08DID\\uFF09\\u7684\\u5168\\u65B0\\u65B9\\u6848\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4F5C\\u4E3A\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\uFF0C\\u638C\\u63E1 Token \\u9274\\u6743\\u4E0D\\u4EC5\\u662F\\u4E3A\\u4E86\\u5199\\u51FA\\u5B89\\u5168\\u7684\\u4EE3\\u7801\\uFF0C\\u66F4\\u662F\\u4E3A\\u4E86\\u7406\\u89E3\\u4FE1\\u4EFB\\u7684\\u672C\\u8D28\\u3002\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u80FD\\u4E3A\\u4F60\\u63D0\\u4F9B\\u5B9E\\u7528\\u7684\\u77E5\\u8BC6\\u548C\\u6DF1\\u523B\\u7684\\u542F\\u53D1\\u3002\\u8BA9\\u6211\\u4EEC\\u7EE7\\u7EED\\u5728\\u8FD9\\u6761\\u6280\\u672F\\u4E0E\\u54F2\\u5B66\\u4EA4\\u7EC7\\u7684\\u9053\\u8DEF\\u4E0A\\u63A2\\u7D22\\uFF0C\\u5199\\u51FA\\u66F4\\u4F18\\u96C5\\u7684\\u4EE3\\u7801\\uFF0C\\u6784\\u5EFA\\u66F4\\u5B89\\u5168\\u7684\\u7CFB\\u7EDF\\uFF01\\u{1F31F}\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u53C2\\u8003\\u8D44\\u6599\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://jwt.io/\",children:\"JWT \\u5B98\\u65B9\\u6587\\u6863\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://oauth.net/2/\",children:\"OAuth 2.0 \\u534F\\u8BAE\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://owasp.org/\",children:\"Web \\u5B89\\u5168\\u6700\\u4F73\\u5B9E\\u8DF5\"})}),`\n`]}),`\n`,(0,e.jsx)(n.hr,{})]})}function h(l={}){let{wrapper:n}=l.components||{};return n?(0,e.jsx)(n,{...l,children:(0,e.jsx)(t,{...l})}):t(l)}return T(C);})();\n;return Component;"
  },
  "_id": "å‰ç«¯æŠ€æœ¯/å‰ç«¯å®‰å…¨/ç”¨æˆ·Tokené‰´æƒçš„å‰ä¸–ä»Šç”Ÿ.mdx",
  "_raw": {
    "sourceFilePath": "å‰ç«¯æŠ€æœ¯/å‰ç«¯å®‰å…¨/ç”¨æˆ·Tokené‰´æƒçš„å‰ä¸–ä»Šç”Ÿ.mdx",
    "sourceFileName": "ç”¨æˆ·Tokené‰´æƒçš„å‰ä¸–ä»Šç”Ÿ.mdx",
    "sourceFileDir": "å‰ç«¯æŠ€æœ¯/å‰ç«¯å®‰å…¨",
    "contentType": "mdx",
    "flattenedPath": "å‰ç«¯æŠ€æœ¯/å‰ç«¯å®‰å…¨/ç”¨æˆ·Tokené‰´æƒçš„å‰ä¸–ä»Šç”Ÿ"
  },
  "type": "Post",
  "url": "/blog/å‰ç«¯æŠ€æœ¯/å‰ç«¯å®‰å…¨/ç”¨æˆ·Tokené‰´æƒçš„å‰ä¸–ä»Šç”Ÿ"
}
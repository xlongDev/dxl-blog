{
  "title": "25ä¸ªExpressæœ€ä½³å®žè·µï¼šä»Žæ–°æ‰‹åˆ°è€å¸æœºçš„è¿›é˜¶æŒ‡å—",
  "date": "2024-09-02T00:00:00.000Z",
  "description": "æ·±å…¥æŽ¢è®¨25ä¸ªExpressæœ€ä½³å®žè·µï¼Œæ¶µç›–æ€§èƒ½ä¼˜åŒ–ã€å®‰å…¨æ€§ã€ä¸­é—´ä»¶ç®¡ç†ã€é”™è¯¯å¤„ç†ç­‰ï¼Œå¸¦ä½ ä»ŽåŽŸç†åˆ°å®žæˆ˜å…¨é¢æŽŒæ¡Expresså¼€å‘æŠ€å·§ã€‚",
  "keywords": "Express, Node.js, åŽç«¯å¼€å‘, ä¸­é—´ä»¶, æ€§èƒ½ä¼˜åŒ–, å®‰å…¨æ€§, REST API, å‰ç«¯å¼€å‘è€…",
  "author": "æ™“é¾™",
  "image": "/images/hero/express-best-practices.jpg",
  "tags": [
    "Express",
    "Node.js",
    "åŽç«¯å¼€å‘"
  ],
  "views": 0,
  "likes": 0,
  "category": "Node.js",
  "body": {
    "raw": "\nå—¨ï¼Œå‰ç«¯å¼€å‘è€…ä»¬ï¼æ˜¯ä¸æ˜¯å¶å°”ä¹Ÿä¼šè¢«æ‹‰åŽ»å†™ç‚¹åŽç«¯ä»£ç ï¼Œæˆ–è€…æƒ³åœ¨å…¨æ ˆçš„è·¯ä¸Šæ›´è¿›ä¸€æ­¥ï¼ŸExpress ä½œä¸º Node.js çš„â€œå›½æ°‘æ¡†æž¶â€ï¼Œç®€å•çµæ´»åˆå¼ºå¤§ï¼Œä½†ç”¨å¾—å¥½ä¸å¥½ï¼Œå·®åˆ«å¯ä¸å°ã€‚ä»Šå¤©ï¼Œæˆ‘è¦å¸¦ä½ èµ°è¿› Express çš„â€œ25ä¸ªæœ€ä½³å®žè·µâ€ï¼Œä»ŽåŸºç¡€åˆ°è¿›é˜¶ï¼Œæ·±å…¥åŽŸç†ï¼Œé…ä¸Šå®žæˆ˜ä¾‹å­ï¼Œå†åŠ ç‚¹å¹½é»˜å’Œä¸ªäººé£Žæ ¼ï¼ˆæ¯•ç«Ÿï¼Œè°è¯´æŠ€æœ¯åšå®¢ä¸èƒ½æœ‰ç‚¹çµé­‚ï¼Ÿï¼‰ã€‚æ— è®ºä½ æ˜¯åˆšä¸Šæ‰‹è¿˜æ˜¯è€å¸æœºï¼Œè¿™ç¯‡æŒ‡å—éƒ½èƒ½è®©ä½ æœ‰æ‰€æ”¶èŽ· ðŸš€ã€‚\n\nå‡†å¤‡å¥½äº†å—ï¼Ÿç³»å¥½å®‰å…¨å¸¦ï¼Œå’±ä»¬å‡ºå‘ï¼\n\n## 1. å–„ç”¨çŽ¯å¢ƒå˜é‡ï¼Œåˆ«æŠŠç§˜å¯†å†™æ­»\n\nä½ çš„ä»£ç å°±åƒä¸€ä¸ªå…¬å¼€çš„æ—¥è®°æœ¬ï¼Œå¦‚æžœæŠŠæ•°æ®åº“å¯†ç ã€API Key ç›´æŽ¥å†™åœ¨æºç é‡Œï¼ŒæŽ¨åˆ° GitHub ä¸Šï¼Œé‚£å°±æ˜¯åœ¨é‚€è¯·å…¨ä¸–ç•Œæ¥å‚è§‚ä½ çš„â€œç§˜å¯†åŸºåœ°â€ã€‚ä½¿ç”¨çŽ¯å¢ƒå˜é‡å§ï¼Œæ¯”å¦‚ `dotenv`ã€‚\n\n```javascript\nrequire('dotenv').config();\nconst PORT = process.env.PORT || 3000;\nconst DB_URI = process.env.DB_URI;\n\napp.listen(PORT, () => {\n  console.log(`Server running on port ${PORT}`);\n});\n```\n\n**Tips**: åœ¨ `.env` æ–‡ä»¶é‡Œå†™æ•æ„Ÿä¿¡æ¯ï¼Œç„¶åŽåŠ åˆ° `.gitignore`ï¼Œåˆ«è®©å®ƒä¸Š gitã€‚æµ‹è¯•çŽ¯å¢ƒå’Œç”Ÿäº§çŽ¯å¢ƒå¯ä»¥ç”¨ä¸åŒçš„ `.env` æ–‡ä»¶ï¼Œæ¯”å¦‚ `.env.test` å’Œ `.env.prod`ã€‚\n\n---\n\n## 2. ç»“æž„åŒ–ä½ çš„é¡¹ç›®ï¼Œåˆ«æžâ€œå¤§æ‚çƒ©â€\n\nä¸€ä¸ª Express é¡¹ç›®å¦‚æžœå…¨æ˜¯ `app.get`ã€`app.post` å †åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå°±åƒæŠŠæ‰€æœ‰è¡£æœå¡žè¿›ä¸€ä¸ªæŠ½å±‰â€”â€”æ‰¾èµ·æ¥è¦å‘½ã€‚è¯•è¯• MVC ç»“æž„å§ï¼š\n\n```\nproject/\nâ”œâ”€â”€ controllers/\nâ”‚   â””â”€â”€ userController.js\nâ”œâ”€â”€ models/\nâ”‚   â””â”€â”€ userModel.js\nâ”œâ”€â”€ routes/\nâ”‚   â””â”€â”€ userRoutes.js\nâ”œâ”€â”€ app.js\nâ””â”€â”€ config/\n    â””â”€â”€ db.js\n```\n\n**Tips**: ç”¨ `express.Router()` æŠŠè·¯ç”±åˆ†å¼€ç®¡ç†ï¼Œæ¯ä¸ªæ¨¡å—ä¸€ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œ`app.js` é‡Œåªè´Ÿè´£æ€»è°ƒåº¦ï¼Œæ¸…çˆ½åˆä¼˜é›…ã€‚\n\n---\n\n## 3. ä¸­é—´ä»¶æ˜¯ä½ çš„â€œç‘žå£«å†›åˆ€â€ï¼Œç”¨å¯¹å®ƒ\n\nä¸­é—´ä»¶æ˜¯ Express çš„çµé­‚ï¼Œå°±åƒåŽ¨æˆ¿é‡Œçš„è°ƒæ–™â€”â€”ç”¨å¾—å¥½èƒ½æå‘³ï¼Œç”¨é”™äº†å°±ç¿»è½¦ã€‚åˆ«ä¸€è‚¡è„‘å„¿å…¨å†™æˆå…¨å±€ä¸­é—´ä»¶ï¼ŒæŒ‰éœ€åŠ è½½ã€‚\n\n```javascript\nconst logMiddleware = (req, res, next) => {\n  console.log(`${req.method} ${req.url}`);\n  next();\n};\n\napp.use('/api', logMiddleware); // åªåœ¨ /api ä¸‹ç”Ÿæ•ˆ\n```\n\n**Tips**: ä¸­é—´ä»¶é¡ºåºå¾ˆé‡è¦ï¼æ¯”å¦‚è®¤è¯ä¸­é—´ä»¶å¾—æ”¾åœ¨è·¯ç”±å¤„ç†å‰ï¼Œä¸ç„¶å°±æˆäº†â€œé©¬åŽç‚®â€ã€‚\n\n---\n\n## 4. é”™è¯¯å¤„ç†è¦ä¼˜é›…ï¼Œåˆ«è®©ç”¨æˆ·ä¸€è„¸æ‡µ\n\né»˜è®¤çš„ Express é”™è¯¯æç¤ºå°±åƒæ˜¯â€œæœåŠ¡å™¨ç”Ÿæ°”äº†ï¼Œä½†ä¸è¯´ä¸ºä»€ä¹ˆâ€ã€‚è‡ªå®šä¹‰ä¸€ä¸ªé”™è¯¯å¤„ç†ä¸­é—´ä»¶å§ï¼š\n\n```javascript\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.status(500).json({\n    message: 'æœåŠ¡å™¨å¼€å°å·®äº†ï¼Œè¯·ç¨åŽå†è¯•',\n    error: process.env.NODE_ENV === 'development' ? err.message : undefined,\n  });\n});\n```\n\n**Tips**: å¼€å‘çŽ¯å¢ƒç»™è¯¦ç»†é”™è¯¯ï¼Œç”Ÿäº§çŽ¯å¢ƒéšè—æ•æ„Ÿä¿¡æ¯ï¼Œç”¨æˆ·ä½“éªŒå’Œå®‰å…¨æ€§ä¸¤ä¸è¯¯ã€‚\n\n---\n\n## 5. é™åˆ¶è¯·æ±‚é€ŸçŽ‡ï¼Œé˜²ä½â€œç‹‚è½°æ»¥ç‚¸â€\n\nå¦‚æžœæœ‰äººæ‹¿è„šæœ¬ç–¯ç‹‚åˆ·ä½ çš„æŽ¥å£ï¼Œå°±åƒ DDoS å°è¯•ç‰›åˆ€ã€‚ç”¨ `express-rate-limit` åŠ ä¸ªâ€œé—¨ç¦â€ï¼š\n\n```javascript\nconst rateLimit = require('express-rate-limit');\napp.use(\n  rateLimit({\n    windowMs: 15 * 60 * 1000, // 15åˆ†é’Ÿ\n    max: 100, // æ¯ IP æœ€å¤š 100 æ¬¡è¯·æ±‚\n  })\n);\n```\n\n**Tips**: å¯¹ç™»å½•æŽ¥å£è¿™ç§æ•æ„Ÿè·¯ç”±å•ç‹¬è®¾æ›´ä¸¥æ ¼çš„é™åˆ¶ï¼Œæ¯”å¦‚ 5 æ¬¡/åˆ†é’Ÿï¼Œé˜²æš´åŠ›ç ´è§£ã€‚\n\n---\n\n## 6. éªŒè¯è¾“å…¥ï¼Œåˆ«ç›¸ä¿¡ç”¨æˆ·çš„â€œå¤©çœŸâ€\n\nç”¨æˆ·è¾“å…¥çš„æ•°æ®å°±åƒè·¯è¾¹çš„é‡Žè˜‘è‡ï¼Œçœ‹ç€æ— å®³ï¼Œåƒä¸‹åŽ»å¯èƒ½è¦å‘½ã€‚ç”¨ `express-validator` æ£€æŸ¥ä¸€ä¸‹ï¼š\n\n```javascript\nconst { body, validationResult } = require('express-validator');\n\napp.post(\n  '/register',\n  [\n    body('email').isEmail().normalizeEmail(),\n    body('password').isLength({ min: 6 }),\n  ],\n  (req, res) => {\n    const errors = validationResult(req);\n    if (!errors.isEmpty()) return res.status(400).json({ errors: errors.array() });\n    res.send('æ³¨å†ŒæˆåŠŸ');\n  }\n);\n```\n\n**Tips**: éªŒè¯åŽè®°å¾—æ¸…ç†è¾“å…¥ï¼ˆsanitizeï¼‰ï¼Œæ¯”å¦‚åŽ»æŽ‰å¤šä½™ç©ºæ ¼æˆ– HTML æ ‡ç­¾ï¼Œé˜² XSSã€‚\n\n---\n\n## 7. ç”¨ async/awaitï¼Œåˆ«æŽ‰è¿›å›žè°ƒåœ°ç‹±\n\nå›žè°ƒåµŒå¥—å¤šäº†å°±åƒä¿„ç½—æ–¯å¥—å¨ƒï¼Œæ‰“å¼€ä¸€ä¸ªè¿˜æœ‰ä¸€ä¸ªã€‚ç”¨ `express-async-handler` ç®€åŒ–å¼‚æ­¥æ“ä½œï¼š\n\n```javascript\nconst asyncHandler = require('express-async-handler');\n\napp.get(\n  '/users',\n  asyncHandler(async (req, res) => {\n    const users = await User.find();\n    res.json(users);\n  })\n);\n```\n\n**Tips**: å®ƒä¼šè‡ªåŠ¨æ•èŽ·é”™è¯¯å¹¶äº¤ç»™é”™è¯¯ä¸­é—´ä»¶ï¼Œçœå¾—ä½ æ‰‹åŠ¨ `try-catch`ã€‚\n\n---\n\n## 8. å¯ç”¨ CORSï¼Œåˆ«è®©å‰ç«¯å–Šâ€œè·¨åŸŸæ•‘å‘½â€\n\nå‰ç«¯å–Šä½ æŽ¥å£è·¨åŸŸä¸é€šï¼Œå°±åƒéš”ç€çŽ»ç’ƒå¢™èŠå¤©ã€‚ç”¨ `cors` åŒ…è§£å†³é—®é¢˜ï¼š\n\n```javascript\nconst cors = require('cors');\napp.use(cors({ origin: 'http://your-frontend.com' }));\n```\n\n**Tips**: ç”Ÿäº§çŽ¯å¢ƒåˆ«ç”¨ `cors()` é»˜è®¤å…¨å¼€ï¼ŒæŒ‡å®šåŸŸåç™½åå•ï¼Œå®‰å…¨ç¬¬ä¸€ã€‚\n\n---\n\n## 9. åŽ‹ç¼©å“åº”ï¼ŒåŠ é€Ÿä½ çš„ API\n\næ²¡åŽ‹ç¼©çš„å“åº”å°±åƒå¯„äº†ä¸ªè¶…å¤§åŒ…è£¹ï¼Œæ…¢åˆè´¹æµé‡ã€‚ç”¨ `compression` ä¸­é—´ä»¶ï¼š\n\n```javascript\nconst compression = require('compression');\napp.use(compression());\n```\n\n**Tips**: å¯¹é™æ€æ–‡ä»¶æ•ˆæžœå°¤å…¶æ˜Žæ˜¾ï¼Œä½† CPU æ•æ„Ÿçš„æœåŠ¡å™¨å¯ä»¥è°ƒä½ŽåŽ‹ç¼©çº§åˆ«ã€‚\n\n---\n\n## 10. RESTful é£Žæ ¼ï¼ŒAPI æ›´â€œæœ‰ç¤¼è²Œâ€\n\nåˆ«æŠŠ `/getUsers`ã€`/deleteUser` å†™å¾—åƒå‘½ä»¤è¡Œï¼Œéµå¾ª RESTful è§„èŒƒï¼š\n\n- GET `/users` - èŽ·å–ç”¨æˆ·åˆ—è¡¨\n- POST `/users` - åˆ›å»ºç”¨æˆ·\n- PUT `/users/:id` - æ›´æ–°ç”¨æˆ·\n- DELETE `/users/:id` - åˆ é™¤ç”¨æˆ·\n\n**Tips**: ç”¨ HTTP çŠ¶æ€ç è¯´è¯ï¼Œæ¯”å¦‚ 201 è¡¨ç¤ºåˆ›å»ºæˆåŠŸï¼Œ404 è¡¨ç¤ºæ‰¾ä¸åˆ°ã€‚\n\n---\n\n## 11. æ—¥å¿—è®°å½•ï¼Œåˆ«è®©é—®é¢˜â€œæ— å£°æ— æ¯â€\n\næ²¡æ—¥å¿—çš„æœåŠ¡å™¨å°±åƒæ²¡ç›‘æŽ§çš„é£žæœºï¼Œå‡ºäº†äº‹éƒ½ä¸çŸ¥é“å“ªå„¿é”™äº†ã€‚ç”¨ `morgan`ï¼š\n\n```javascript\nconst morgan = require('morgan');\napp.use(morgan('combined'));\n```\n\n**Tips**: ç”Ÿäº§çŽ¯å¢ƒæŠŠæ—¥å¿—å†™åˆ°æ–‡ä»¶é‡Œï¼Œåˆ«åªæ‰“åˆ°æŽ§åˆ¶å°ï¼Œä¸ç„¶é‡å¯å°±æ²¡äº†ã€‚\n\n---\n\n## 12. æ•°æ®åº“è¿žæŽ¥è¦å¥å£®ï¼Œåˆ«â€œæ–­çº¿â€\n\næ•°æ®åº“æŒ‚äº†è¿˜ç¡¬è¿žï¼Œå°±åƒæ‹¨æ‰“æ²¡äººæŽ¥çš„ç”µè¯ã€‚ç”¨è¿žæŽ¥æ± æˆ–é‡è¯•æœºåˆ¶ï¼š\n\n```javascript\nconst mongoose = require('mongoose');\nmongoose.connect(process.env.DB_URI, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  serverSelectionTimeoutMS: 5000,\n}).catch(err => console.error('DB è¿žæŽ¥å¤±è´¥:', err));\n```\n\n**Tips**: åŠ ä¸ªå¥åº·æ£€æŸ¥è·¯ç”±ï¼ˆ`/health`ï¼‰ï¼Œéšæ—¶çœ‹çœ‹æ•°æ®åº“çŠ¶æ€ã€‚\n\n---\n\n## 13. é™æ€æ–‡ä»¶æ‰˜ç®¡ï¼Œåˆ«å¿˜äº†ç¼“å­˜\n\nç”¨ `express.static` æ‰˜ç®¡å‰ç«¯æ–‡ä»¶ï¼Œä½†åˆ«å¿˜äº†åŠ ç¼“å­˜å¤´ï¼š\n\n```javascript\napp.use(express.static('public', { maxAge: '1d' }));\n```\n\n**Tips**: å¯¹ä¸å¸¸å˜çš„èµ„æºï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰è®¾é•¿ç¼“å­˜ï¼ŒåŠ¨æ€å†…å®¹ç”¨çŸ­ç¼“å­˜æˆ–ç¦ç”¨ã€‚\n\n---\n\n## 14. Helmet åŠ å›ºå®‰å…¨ï¼Œåˆ«è£¸å¥”\n\né»˜è®¤çš„ Express å°±åƒæ²¡é”é—¨çš„æˆ¿å­ï¼Œç”¨ `helmet` åŠ ç‚¹é˜²æŠ¤ï¼š\n\n```javascript\nconst helmet = require('helmet');\napp.use(helmet());\n```\n\n**Tips**: é»˜è®¤é…ç½®ä¸é”™ï¼Œä½†å¯ä»¥ç»†è°ƒï¼Œæ¯”å¦‚ç¦ç”¨ `X-Powered-By` å¤´ï¼Œå°‘æš´éœ²ä¿¡æ¯ã€‚\n\n---\n\n## 15. å‚æ•°åŒ–æŸ¥è¯¢ï¼Œé˜² SQL æ³¨å…¥\n\nåˆ«ç›´æŽ¥æ‹¼æŽ¥ SQLï¼Œåƒ `SELECT * FROM users WHERE id = ${req.params.id}`ï¼Œä¼šè¢«æ³¨å…¥å¾—æ»¡åœ°æ‰¾ç‰™ã€‚ç”¨ ORM æˆ–å‚æ•°åŒ–æŸ¥è¯¢ï¼š\n\n```javascript\nconst user = await db.query('SELECT * FROM users WHERE id = ?', [req.params.id]);\n```\n\n**Tips**: ç”¨ Sequelize æˆ– Knex.js è¿™ç§å·¥å…·ï¼Œçœå¿ƒåˆå®‰å…¨ã€‚\n\n---\n\n## 16. JWT è®¤è¯ï¼Œåˆ«ä¹±å‘â€œé€šè¡Œè¯â€\n\nç”¨ JWT åšè®¤è¯ï¼Œä½†åˆ«å¿˜äº†æ ¡éªŒå’Œè¿‡æœŸï¼š\n\n```javascript\nconst jwt = require('jsonwebtoken');\napp.post('/login', (req, res) => {\n  const token = jwt.sign({ id: user.id }, process.env.JWT_SECRET, { expiresIn: '1h' });\n  res.json({ token });\n});\n```\n\n**Tips**: åˆ·æ–° token ç”¨çŸ­å¯¿å‘½ï¼ˆå¦‚ 15 åˆ†é’Ÿï¼‰ï¼Œé…ä¸ªé•¿å¯¿å‘½çš„ refresh tokenã€‚\n\n---\n\n## 17. æ–‡ä»¶ä¸Šä¼ è¦é™åˆ¶ï¼Œåˆ«è¢«æ’‘çˆ†\n\nç”¨æˆ·ä¸Šä¼ ä¸ª 1TB æ–‡ä»¶ï¼Œä½ çš„æœåŠ¡å™¨å°±å¾—â€œå–˜ç²—æ°”â€ã€‚ç”¨ `multer` åŠ é™åˆ¶ï¼š\n\n```javascript\nconst multer = require('multer');\nconst upload = multer({ dest: 'uploads/', limits: { fileSize: 1024 * 1024 * 5 } }); // 5MB\napp.post('/upload', upload.single('file'), (req, res) => {\n  res.send('ä¸Šä¼ æˆåŠŸ');\n});\n```\n\n**Tips**: åŠ ä¸ªæ–‡ä»¶ç±»åž‹è¿‡æ»¤ï¼Œåªå…è®¸å›¾ç‰‡æˆ– PDFï¼Œåˆ«è®©ç”¨æˆ·ä¼ ä¸ªç—…æ¯’ä¸Šæ¥ã€‚\n\n---\n\n## 18. ç‰ˆæœ¬åŒ– APIï¼Œåˆ«è®©è€å®¢æˆ·ç«¯å´©æºƒ\n\næ–°åŠŸèƒ½ä¸Šçº¿ï¼Œè€å®¢æˆ·ç«¯è¿˜è°ƒæ—§æŽ¥å£æ€Žä¹ˆåŠžï¼ŸåŠ ç‰ˆæœ¬å·ï¼š\n\n```\nGET /v1/users\nGET /v2/users\n```\n\n**Tips**: ç”¨è·¯ç”±å‰ç¼€å®žçŽ°ï¼Œæ¯”å¦‚ `app.use('/v1', v1Routes)`ï¼Œè€ç‰ˆæœ¬é€æ­¥åºŸå¼ƒã€‚\n\n---\n\n## 19. æµ‹è¯•ä½ çš„ APIï¼Œåˆ«ä¸Šçº¿ç¿»è½¦\n\nä¸Šçº¿å‰æ²¡æµ‹è¯•å°±åƒä¸å¸¦é™è½ä¼žè·³é£žæœºã€‚ç”¨ `supertest`ï¼š\n\n```javascript\nconst request = require('supertest');\ndescribe('GET /users', () => {\n  it('should return user list', async () => {\n    const res = await request(app).get('/users');\n    expect(res.status).toBe(200);\n  });\n});\n```\n\n**Tips**: å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œè¦†ç›–ä¸»è¦æŽ¥å£å’Œè¾¹ç¼˜æƒ…å†µã€‚\n\n---\n\n## 20. ç”¨ PM2 éƒ¨ç½²ï¼Œåˆ«æ‰‹åŠ¨é‡å¯\n\nå¼€å‘ç”¨ `node app.js` å°±è¡Œï¼Œç”Ÿäº§çŽ¯å¢ƒäº¤ç»™ `PM2`ï¼Œè‡ªåŠ¨é‡å¯ã€è´Ÿè½½å‡è¡¡éƒ½æœ‰ï¼š\n\n```bash\npm2 start app.js --name \"my-express-app\"\n```\n\n**Tips**: ç”¨ `pm2 logs` çœ‹æ—¥å¿—ï¼Œ`pm2 monit` ç›‘æŽ§æ€§èƒ½ï¼Œçœå¿ƒåˆé«˜æ•ˆã€‚\n\n---\n\n## 21. ä¼˜é›…å…³é—­ï¼Œåˆ«è®©è¿žæŽ¥â€œæ‚¬å°¸â€\n\næœåŠ¡å™¨é‡å¯æ—¶ï¼ŒçŽ°æœ‰è¿žæŽ¥æ–­äº†å°±åƒç”µè¯èŠä¸€åŠè¢«æŒ‚ã€‚ç”¨ `server.close`ï¼š\n\n```javascript\nconst server = app.listen(PORT);\nprocess.on('SIGTERM', () => {\n  server.close(() => {\n    console.log('æœåŠ¡å™¨ä¼˜é›…å…³é—­');\n  });\n});\n```\n\n**Tips**: å¯¹æ•°æ®åº“è¿žæŽ¥ä¹Ÿåšæ¸…ç†ï¼Œåˆ«ç•™ä¸‹â€œå­¤é­‚é‡Žé¬¼â€ã€‚\n\n---\n\n## 22. æ€§èƒ½ç›‘æŽ§ï¼Œåˆ«è®©ç“¶é¢ˆå·è¢­\n\næœåŠ¡å™¨æ…¢äº†ä¹Ÿä¸çŸ¥é“åŽŸå› ï¼Œå°±åƒå¼€è½¦æ²¡ä»ªè¡¨ç›˜ã€‚ç”¨ `express-status-monitor`ï¼š\n\n```javascript\napp.use(require('express-status-monitor')());\n```\n\n**Tips**: é…åˆ New Relic æˆ– Prometheusï¼Œæ·±åº¦åˆ†æžæ€§èƒ½ç“¶é¢ˆã€‚\n\n---\n\n## 23. ç”¨ TypeScriptï¼Œåˆ«è®©ç±»åž‹â€œè£¸å¥”â€\n\nJavaScript çš„åŠ¨æ€ç±»åž‹çˆ½æ˜¯çˆ½ï¼Œä½† bug ä¹Ÿå¤šã€‚ç”¨ TypeScript åŠ ç‚¹çº¦æŸï¼š\n\n```typescript\nimport express, { Request, Response } from 'express';\nconst app: express.Application = express();\n\napp.get('/users', (req: Request, res: Response) => {\n  res.json({ users: [] });\n});\n```\n\n**Tips**: é…åˆ `@types/express`ï¼Œå¼€å‘ä½“éªŒå’Œä»£ç å¥å£®æ€§åŒæå‡ã€‚\n\n---\n\n## 24. æ–‡æ¡£åŒ– APIï¼Œåˆ«è®©å‰ç«¯çŒœ\n\næŽ¥å£æ²¡æ–‡æ¡£ï¼Œå‰ç«¯å°±åƒç›²äººæ‘¸è±¡ã€‚ç”¨ Swagger æˆ– Postman ç”Ÿæˆï¼š\n\n```javascript\nconst swaggerUi = require('swagger-ui-express');\nconst swaggerDoc = require('./swagger.json');\napp.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDoc));\n```\n\n**Tips**: å†™æ–‡æ¡£æ—¶åŠ ç¤ºä¾‹å“åº”ï¼Œå‡å°‘å‰ç«¯é—®â€œè¿”å›žå•¥æ ·â€çš„æ¬¡æ•°ã€‚\n\n---\n\n## 25. æŒç»­å­¦ä¹ ï¼Œåˆ«åšâ€œäº•åº•ä¹‹è›™â€\n\nExpress ç”Ÿæ€åœ¨å˜ï¼ŒNode.js åœ¨å‡çº§ï¼Œåˆ«è§‰å¾—è‡ªå·±å•¥éƒ½ä¼šäº†ã€‚å¤šçœ‹çœ‹å®˜æ–¹æ–‡æ¡£ã€ç¤¾åŒºæœ€ä½³å®žè·µï¼Œç”šè‡³ç¿»ç¿»æºç ã€‚\n\n**Tips**: å…³æ³¨ Express çš„ GitHubï¼Œè¯•è¯•æ–°ç‰¹æ€§ï¼Œæ¯”å¦‚å†…ç½®çš„ `app.router`ï¼Œè¯´ä¸å®šèƒ½çœä¸å°‘ä»£ç ã€‚\n\n---\n\n## æ€»ç»“ï¼šä»Žâ€œä¼šç”¨â€åˆ°â€œç”¨å¥½â€\n\nExpress å°±åƒä¸€è¾†è·‘è½¦ï¼Œç®€å•ä¸Šæ‰‹ä½†è¦å¼€å¾—ç¨³ã€å¼€å¾—å¿«ï¼Œè¿˜å¾—æœ‰ç‚¹æŠ€å·§ã€‚è¿™ 25 ä¸ªæœ€ä½³å®žè·µä»ŽåŸºç¡€é…ç½®åˆ°é«˜çº§ä¼˜åŒ–ï¼Œæ¶µç›–äº†æ€§èƒ½ã€å®‰å…¨ã€ç»“æž„å’Œéƒ¨ç½²ï¼Œå¸Œæœ›èƒ½å¸®ä½ åœ¨åŽç«¯å¼€å‘è·¯ä¸Šå°‘è¸©å‘ã€å¤šå‡ºå½©ã€‚æœ‰ä»€ä¹ˆè‡ªå·±çš„â€œç‹¬é—¨ç§˜ç±â€ï¼Ÿæ¬¢è¿Žç•™è¨€åˆ†äº«ï¼Œå’±ä»¬ä¸€èµ·è¿›æ­¥ ðŸ’ªï¼\n\nçŽ°åœ¨ï¼Œæ‹¿èµ·é”®ç›˜ï¼Œè¯•è¯•è¿™äº›å®žè·µå§ï¼Œåˆ«è®©ä»£ç åªæ˜¯â€œèƒ½è·‘â€ï¼Œè€Œæ˜¯â€œè·‘å¾—æ¼‚äº®â€ï¼\n\n--- ",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),B=(n,e)=>{for(var r in e)c(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of y(e))!F.call(n,a)&&a!==r&&c(n,a,{get:()=>e[a],enumerable:!(s=E(e,a))||s.enumerable});return n};var m=(n,e,r)=>(r=n!=null?p(g(n)):{},d(e||!n||!n.__esModule?c(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>d(c({},\"__esModule\",{value:!0}),n);var t=u((j,i)=>{i.exports=_jsx_runtime});var x={};B(x,{default:()=>h,frontmatter:()=>b});var l=m(t()),b={type:\"Post\",title:\"25\\u4E2AExpress\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF1A\\u4ECE\\u65B0\\u624B\\u5230\\u8001\\u53F8\\u673A\\u7684\\u8FDB\\u9636\\u6307\\u5357\",date:\"2024-09-02\",description:\"\\u6DF1\\u5165\\u63A2\\u8BA825\\u4E2AExpress\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u6DB5\\u76D6\\u6027\\u80FD\\u4F18\\u5316\\u3001\\u5B89\\u5168\\u6027\\u3001\\u4E2D\\u95F4\\u4EF6\\u7BA1\\u7406\\u3001\\u9519\\u8BEF\\u5904\\u7406\\u7B49\\uFF0C\\u5E26\\u4F60\\u4ECE\\u539F\\u7406\\u5230\\u5B9E\\u6218\\u5168\\u9762\\u638C\\u63E1Express\\u5F00\\u53D1\\u6280\\u5DE7\\u3002\",keywords:\"Express, Node.js, \\u540E\\u7AEF\\u5F00\\u53D1, \\u4E2D\\u95F4\\u4EF6, \\u6027\\u80FD\\u4F18\\u5316, \\u5B89\\u5168\\u6027, REST API, \\u524D\\u7AEF\\u5F00\\u53D1\\u8005\",author:\"\\u6653\\u9F99\",image:\"/images/hero/express-best-practices.jpg\",tags:[\"Express\",\"Node.js\",\"\\u540E\\u7AEF\\u5F00\\u53D1\"],category:\"Node.js\"};function o(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:\"\\u55E8\\uFF0C\\u524D\\u7AEF\\u5F00\\u53D1\\u8005\\u4EEC\\uFF01\\u662F\\u4E0D\\u662F\\u5076\\u5C14\\u4E5F\\u4F1A\\u88AB\\u62C9\\u53BB\\u5199\\u70B9\\u540E\\u7AEF\\u4EE3\\u7801\\uFF0C\\u6216\\u8005\\u60F3\\u5728\\u5168\\u6808\\u7684\\u8DEF\\u4E0A\\u66F4\\u8FDB\\u4E00\\u6B65\\uFF1FExpress \\u4F5C\\u4E3A Node.js \\u7684\\u201C\\u56FD\\u6C11\\u6846\\u67B6\\u201D\\uFF0C\\u7B80\\u5355\\u7075\\u6D3B\\u53C8\\u5F3A\\u5927\\uFF0C\\u4F46\\u7528\\u5F97\\u597D\\u4E0D\\u597D\\uFF0C\\u5DEE\\u522B\\u53EF\\u4E0D\\u5C0F\\u3002\\u4ECA\\u5929\\uFF0C\\u6211\\u8981\\u5E26\\u4F60\\u8D70\\u8FDB Express \\u7684\\u201C25\\u4E2A\\u6700\\u4F73\\u5B9E\\u8DF5\\u201D\\uFF0C\\u4ECE\\u57FA\\u7840\\u5230\\u8FDB\\u9636\\uFF0C\\u6DF1\\u5165\\u539F\\u7406\\uFF0C\\u914D\\u4E0A\\u5B9E\\u6218\\u4F8B\\u5B50\\uFF0C\\u518D\\u52A0\\u70B9\\u5E7D\\u9ED8\\u548C\\u4E2A\\u4EBA\\u98CE\\u683C\\uFF08\\u6BD5\\u7ADF\\uFF0C\\u8C01\\u8BF4\\u6280\\u672F\\u535A\\u5BA2\\u4E0D\\u80FD\\u6709\\u70B9\\u7075\\u9B42\\uFF1F\\uFF09\\u3002\\u65E0\\u8BBA\\u4F60\\u662F\\u521A\\u4E0A\\u624B\\u8FD8\\u662F\\u8001\\u53F8\\u673A\\uFF0C\\u8FD9\\u7BC7\\u6307\\u5357\\u90FD\\u80FD\\u8BA9\\u4F60\\u6709\\u6240\\u6536\\u83B7 \\u{1F680}\\u3002\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u51C6\\u5907\\u597D\\u4E86\\u5417\\uFF1F\\u7CFB\\u597D\\u5B89\\u5168\\u5E26\\uFF0C\\u54B1\\u4EEC\\u51FA\\u53D1\\uFF01\"}),`\n`,(0,l.jsx)(e.h2,{id:\"1-\\u5584\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\u522B\\u628A\\u79D8\\u5BC6\\u5199\\u6B7B\",children:(0,l.jsx)(e.a,{href:\"#1-\\u5584\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\u522B\\u628A\\u79D8\\u5BC6\\u5199\\u6B7B\",children:\"1. \\u5584\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\uFF0C\\u522B\\u628A\\u79D8\\u5BC6\\u5199\\u6B7B\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4F60\\u7684\\u4EE3\\u7801\\u5C31\\u50CF\\u4E00\\u4E2A\\u516C\\u5F00\\u7684\\u65E5\\u8BB0\\u672C\\uFF0C\\u5982\\u679C\\u628A\\u6570\\u636E\\u5E93\\u5BC6\\u7801\\u3001API Key \\u76F4\\u63A5\\u5199\\u5728\\u6E90\\u7801\\u91CC\\uFF0C\\u63A8\\u5230 GitHub \\u4E0A\\uFF0C\\u90A3\\u5C31\\u662F\\u5728\\u9080\\u8BF7\\u5168\\u4E16\\u754C\\u6765\\u53C2\\u89C2\\u4F60\\u7684\\u201C\\u79D8\\u5BC6\\u57FA\\u5730\\u201D\\u3002\\u4F7F\\u7528\\u73AF\\u5883\\u53D8\\u91CF\\u5427\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"dotenv\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'dotenv'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"config\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" PORT\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ||\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 3000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" DB_URI\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"DB_URI\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Server running on port ${\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5728 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".env\"})})})}),\" \\u6587\\u4EF6\\u91CC\\u5199\\u654F\\u611F\\u4FE1\\u606F\\uFF0C\\u7136\\u540E\\u52A0\\u5230 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".gitignore\"})})})}),\"\\uFF0C\\u522B\\u8BA9\\u5B83\\u4E0A git\\u3002\\u6D4B\\u8BD5\\u73AF\\u5883\\u548C\\u751F\\u4EA7\\u73AF\\u5883\\u53EF\\u4EE5\\u7528\\u4E0D\\u540C\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".env\"})})})}),\" \\u6587\\u4EF6\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".env.test\"})})})}),\" \\u548C \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\".env.prod\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"2-\\u7ED3\\u6784\\u5316\\u4F60\\u7684\\u9879\\u76EE\\u522B\\u641E\\u5927\\u6742\\u70E9\",children:(0,l.jsx)(e.a,{href:\"#2-\\u7ED3\\u6784\\u5316\\u4F60\\u7684\\u9879\\u76EE\\u522B\\u641E\\u5927\\u6742\\u70E9\",children:\"2. \\u7ED3\\u6784\\u5316\\u4F60\\u7684\\u9879\\u76EE\\uFF0C\\u522B\\u641E\\u201C\\u5927\\u6742\\u70E9\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4E00\\u4E2A Express \\u9879\\u76EE\\u5982\\u679C\\u5168\\u662F \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"app.get\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"app.post\"})})})}),\" \\u5806\\u5728\\u4E00\\u4E2A\\u6587\\u4EF6\\u91CC\\uFF0C\\u5C31\\u50CF\\u628A\\u6240\\u6709\\u8863\\u670D\\u585E\\u8FDB\\u4E00\\u4E2A\\u62BD\\u5C49\\u2014\\u2014\\u627E\\u8D77\\u6765\\u8981\\u547D\\u3002\\u8BD5\\u8BD5 MVC \\u7ED3\\u6784\\u5427\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"project/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 controllers/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u2502   \\u2514\\u2500\\u2500 userController.js\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 models/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u2502   \\u2514\\u2500\\u2500 userModel.js\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 routes/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u2502   \\u2514\\u2500\\u2500 userRoutes.js\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u251C\\u2500\\u2500 app.js\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"\\u2514\\u2500\\u2500 config/\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"    \\u2514\\u2500\\u2500 db.js\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express.Router()\"})})})}),\" \\u628A\\u8DEF\\u7531\\u5206\\u5F00\\u7BA1\\u7406\\uFF0C\\u6BCF\\u4E2A\\u6A21\\u5757\\u4E00\\u4E2A\\u8DEF\\u7531\\u6587\\u4EF6\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"app.js\"})})})}),\" \\u91CC\\u53EA\\u8D1F\\u8D23\\u603B\\u8C03\\u5EA6\\uFF0C\\u6E05\\u723D\\u53C8\\u4F18\\u96C5\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"3-\\u4E2D\\u95F4\\u4EF6\\u662F\\u4F60\\u7684\\u745E\\u58EB\\u519B\\u5200\\u7528\\u5BF9\\u5B83\",children:(0,l.jsx)(e.a,{href:\"#3-\\u4E2D\\u95F4\\u4EF6\\u662F\\u4F60\\u7684\\u745E\\u58EB\\u519B\\u5200\\u7528\\u5BF9\\u5B83\",children:\"3. \\u4E2D\\u95F4\\u4EF6\\u662F\\u4F60\\u7684\\u201C\\u745E\\u58EB\\u519B\\u5200\\u201D\\uFF0C\\u7528\\u5BF9\\u5B83\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u4E2D\\u95F4\\u4EF6\\u662F Express \\u7684\\u7075\\u9B42\\uFF0C\\u5C31\\u50CF\\u53A8\\u623F\\u91CC\\u7684\\u8C03\\u6599\\u2014\\u2014\\u7528\\u5F97\\u597D\\u80FD\\u63D0\\u5473\\uFF0C\\u7528\\u9519\\u4E86\\u5C31\\u7FFB\\u8F66\\u3002\\u522B\\u4E00\\u80A1\\u8111\\u513F\\u5168\\u5199\\u6210\\u5168\\u5C40\\u4E2D\\u95F4\\u4EF6\\uFF0C\\u6309\\u9700\\u52A0\\u8F7D\\u3002\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" logMiddleware\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"method\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"} ${\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"url\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/api'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", logMiddleware); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u53EA\\u5728 /api \\u4E0B\\u751F\\u6548\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u4E2D\\u95F4\\u4EF6\\u987A\\u5E8F\\u5F88\\u91CD\\u8981\\uFF01\\u6BD4\\u5982\\u8BA4\\u8BC1\\u4E2D\\u95F4\\u4EF6\\u5F97\\u653E\\u5728\\u8DEF\\u7531\\u5904\\u7406\\u524D\\uFF0C\\u4E0D\\u7136\\u5C31\\u6210\\u4E86\\u201C\\u9A6C\\u540E\\u70AE\\u201D\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"4-\\u9519\\u8BEF\\u5904\\u7406\\u8981\\u4F18\\u96C5\\u522B\\u8BA9\\u7528\\u6237\\u4E00\\u8138\\u61F5\",children:(0,l.jsx)(e.a,{href:\"#4-\\u9519\\u8BEF\\u5904\\u7406\\u8981\\u4F18\\u96C5\\u522B\\u8BA9\\u7528\\u6237\\u4E00\\u8138\\u61F5\",children:\"4. \\u9519\\u8BEF\\u5904\\u7406\\u8981\\u4F18\\u96C5\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u4E00\\u8138\\u61F5\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u9ED8\\u8BA4\\u7684 Express \\u9519\\u8BEF\\u63D0\\u793A\\u5C31\\u50CF\\u662F\\u201C\\u670D\\u52A1\\u5668\\u751F\\u6C14\\u4E86\\uFF0C\\u4F46\\u4E0D\\u8BF4\\u4E3A\\u4EC0\\u4E48\\u201D\\u3002\\u81EA\\u5B9A\\u4E49\\u4E00\\u4E2A\\u9519\\u8BEF\\u5904\\u7406\\u4E2D\\u95F4\\u4EF6\\u5427\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"next\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(err.stack);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"500\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    message: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u670D\\u52A1\\u5668\\u5F00\\u5C0F\\u5DEE\\u4E86\\uFF0C\\u8BF7\\u7A0D\\u540E\\u518D\\u8BD5'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    error: process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"NODE_ENV\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ===\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'development'\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" ?\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" err.message \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5F00\\u53D1\\u73AF\\u5883\\u7ED9\\u8BE6\\u7EC6\\u9519\\u8BEF\\uFF0C\\u751F\\u4EA7\\u73AF\\u5883\\u9690\\u85CF\\u654F\\u611F\\u4FE1\\u606F\\uFF0C\\u7528\\u6237\\u4F53\\u9A8C\\u548C\\u5B89\\u5168\\u6027\\u4E24\\u4E0D\\u8BEF\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"5-\\u9650\\u5236\\u8BF7\\u6C42\\u901F\\u7387\\u9632\\u4F4F\\u72C2\\u8F70\\u6EE5\\u70B8\",children:(0,l.jsx)(e.a,{href:\"#5-\\u9650\\u5236\\u8BF7\\u6C42\\u901F\\u7387\\u9632\\u4F4F\\u72C2\\u8F70\\u6EE5\\u70B8\",children:\"5. \\u9650\\u5236\\u8BF7\\u6C42\\u901F\\u7387\\uFF0C\\u9632\\u4F4F\\u201C\\u72C2\\u8F70\\u6EE5\\u70B8\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u6709\\u4EBA\\u62FF\\u811A\\u672C\\u75AF\\u72C2\\u5237\\u4F60\\u7684\\u63A5\\u53E3\\uFF0C\\u5C31\\u50CF DDoS \\u5C0F\\u8BD5\\u725B\\u5200\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express-rate-limit\"})})})}),\" \\u52A0\\u4E2A\\u201C\\u95E8\\u7981\\u201D\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" rateLimit\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express-rate-limit'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  rateLimit\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    windowMs: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"15\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 60\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// 15\\u5206\\u949F\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    max: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// \\u6BCF IP \\u6700\\u591A 100 \\u6B21\\u8BF7\\u6C42\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5BF9\\u767B\\u5F55\\u63A5\\u53E3\\u8FD9\\u79CD\\u654F\\u611F\\u8DEF\\u7531\\u5355\\u72EC\\u8BBE\\u66F4\\u4E25\\u683C\\u7684\\u9650\\u5236\\uFF0C\\u6BD4\\u5982 5 \\u6B21/\\u5206\\u949F\\uFF0C\\u9632\\u66B4\\u529B\\u7834\\u89E3\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"6-\\u9A8C\\u8BC1\\u8F93\\u5165\\u522B\\u76F8\\u4FE1\\u7528\\u6237\\u7684\\u5929\\u771F\",children:(0,l.jsx)(e.a,{href:\"#6-\\u9A8C\\u8BC1\\u8F93\\u5165\\u522B\\u76F8\\u4FE1\\u7528\\u6237\\u7684\\u5929\\u771F\",children:\"6. \\u9A8C\\u8BC1\\u8F93\\u5165\\uFF0C\\u522B\\u76F8\\u4FE1\\u7528\\u6237\\u7684\\u201C\\u5929\\u771F\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\\u6237\\u8F93\\u5165\\u7684\\u6570\\u636E\\u5C31\\u50CF\\u8DEF\\u8FB9\\u7684\\u91CE\\u8611\\u83C7\\uFF0C\\u770B\\u7740\\u65E0\\u5BB3\\uFF0C\\u5403\\u4E0B\\u53BB\\u53EF\\u80FD\\u8981\\u547D\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express-validator\"})})})}),\" \\u68C0\\u67E5\\u4E00\\u4E0B\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"body\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"validationResult\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express-validator'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"  '/register'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  [\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    body\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'email'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isEmail\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"normalizeEmail\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    body\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'password'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isLength\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ min: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"6\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }),\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ],\"})}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" errors\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" validationResult\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(req);\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"errors.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"isEmpty\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()) \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"400\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\").\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ errors: errors.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"array\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u6CE8\\u518C\\u6210\\u529F'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u9A8C\\u8BC1\\u540E\\u8BB0\\u5F97\\u6E05\\u7406\\u8F93\\u5165\\uFF08sanitize\\uFF09\\uFF0C\\u6BD4\\u5982\\u53BB\\u6389\\u591A\\u4F59\\u7A7A\\u683C\\u6216 HTML \\u6807\\u7B7E\\uFF0C\\u9632 XSS\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"7-\\u7528-asyncawait\\u522B\\u6389\\u8FDB\\u56DE\\u8C03\\u5730\\u72F1\",children:(0,l.jsx)(e.a,{href:\"#7-\\u7528-asyncawait\\u522B\\u6389\\u8FDB\\u56DE\\u8C03\\u5730\\u72F1\",children:\"7. \\u7528 async/await\\uFF0C\\u522B\\u6389\\u8FDB\\u56DE\\u8C03\\u5730\\u72F1\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u56DE\\u8C03\\u5D4C\\u5957\\u591A\\u4E86\\u5C31\\u50CF\\u4FC4\\u7F57\\u65AF\\u5957\\u5A03\\uFF0C\\u6253\\u5F00\\u4E00\\u4E2A\\u8FD8\\u6709\\u4E00\\u4E2A\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express-async-handler\"})})})}),\" \\u7B80\\u5316\\u5F02\\u6B65\\u64CD\\u4F5C\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" asyncHandler\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express-async-handler'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"  '/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  asyncHandler\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" users\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" User.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"find\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(users);\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  })\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5B83\\u4F1A\\u81EA\\u52A8\\u6355\\u83B7\\u9519\\u8BEF\\u5E76\\u4EA4\\u7ED9\\u9519\\u8BEF\\u4E2D\\u95F4\\u4EF6\\uFF0C\\u7701\\u5F97\\u4F60\\u624B\\u52A8 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"try-catch\"})})})}),\"\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"8-\\u542F\\u7528-cors\\u522B\\u8BA9\\u524D\\u7AEF\\u558A\\u8DE8\\u57DF\\u6551\\u547D\",children:(0,l.jsx)(e.a,{href:\"#8-\\u542F\\u7528-cors\\u522B\\u8BA9\\u524D\\u7AEF\\u558A\\u8DE8\\u57DF\\u6551\\u547D\",children:\"8. \\u542F\\u7528 CORS\\uFF0C\\u522B\\u8BA9\\u524D\\u7AEF\\u558A\\u201C\\u8DE8\\u57DF\\u6551\\u547D\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u524D\\u7AEF\\u558A\\u4F60\\u63A5\\u53E3\\u8DE8\\u57DF\\u4E0D\\u901A\\uFF0C\\u5C31\\u50CF\\u9694\\u7740\\u73BB\\u7483\\u5899\\u804A\\u5929\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"cors\"})})})}),\" \\u5305\\u89E3\\u51B3\\u95EE\\u9898\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" cors\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'cors'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"cors\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ origin: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'http://your-frontend.com'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u751F\\u4EA7\\u73AF\\u5883\\u522B\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"cors()\"})})})}),\" \\u9ED8\\u8BA4\\u5168\\u5F00\\uFF0C\\u6307\\u5B9A\\u57DF\\u540D\\u767D\\u540D\\u5355\\uFF0C\\u5B89\\u5168\\u7B2C\\u4E00\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"9-\\u538B\\u7F29\\u54CD\\u5E94\\u52A0\\u901F\\u4F60\\u7684-api\",children:(0,l.jsx)(e.a,{href:\"#9-\\u538B\\u7F29\\u54CD\\u5E94\\u52A0\\u901F\\u4F60\\u7684-api\",children:\"9. \\u538B\\u7F29\\u54CD\\u5E94\\uFF0C\\u52A0\\u901F\\u4F60\\u7684 API\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6CA1\\u538B\\u7F29\\u7684\\u54CD\\u5E94\\u5C31\\u50CF\\u5BC4\\u4E86\\u4E2A\\u8D85\\u5927\\u5305\\u88F9\\uFF0C\\u6162\\u53C8\\u8D39\\u6D41\\u91CF\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"compression\"})})})}),\" \\u4E2D\\u95F4\\u4EF6\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" compression\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'compression'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"compression\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5BF9\\u9759\\u6001\\u6587\\u4EF6\\u6548\\u679C\\u5C24\\u5176\\u660E\\u663E\\uFF0C\\u4F46 CPU \\u654F\\u611F\\u7684\\u670D\\u52A1\\u5668\\u53EF\\u4EE5\\u8C03\\u4F4E\\u538B\\u7F29\\u7EA7\\u522B\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"10-restful-\\u98CE\\u683Capi-\\u66F4\\u6709\\u793C\\u8C8C\",children:(0,l.jsx)(e.a,{href:\"#10-restful-\\u98CE\\u683Capi-\\u66F4\\u6709\\u793C\\u8C8C\",children:\"10. RESTful \\u98CE\\u683C\\uFF0CAPI \\u66F4\\u201C\\u6709\\u793C\\u8C8C\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u522B\\u628A \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/getUsers\"})})})}),\"\\u3001\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/deleteUser\"})})})}),\" \\u5199\\u5F97\\u50CF\\u547D\\u4EE4\\u884C\\uFF0C\\u9075\\u5FAA RESTful \\u89C4\\u8303\\uFF1A\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"GET \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/users\"})})})}),\" - \\u83B7\\u53D6\\u7528\\u6237\\u5217\\u8868\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"POST \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/users\"})})})}),\" - \\u521B\\u5EFA\\u7528\\u6237\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"PUT \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/users/:id\"})})})}),\" - \\u66F4\\u65B0\\u7528\\u6237\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"DELETE \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/users/:id\"})})})}),\" - \\u5220\\u9664\\u7528\\u6237\"]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 HTTP \\u72B6\\u6001\\u7801\\u8BF4\\u8BDD\\uFF0C\\u6BD4\\u5982 201 \\u8868\\u793A\\u521B\\u5EFA\\u6210\\u529F\\uFF0C404 \\u8868\\u793A\\u627E\\u4E0D\\u5230\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"11-\\u65E5\\u5FD7\\u8BB0\\u5F55\\u522B\\u8BA9\\u95EE\\u9898\\u65E0\\u58F0\\u65E0\\u606F\",children:(0,l.jsx)(e.a,{href:\"#11-\\u65E5\\u5FD7\\u8BB0\\u5F55\\u522B\\u8BA9\\u95EE\\u9898\\u65E0\\u58F0\\u65E0\\u606F\",children:\"11. \\u65E5\\u5FD7\\u8BB0\\u5F55\\uFF0C\\u522B\\u8BA9\\u95EE\\u9898\\u201C\\u65E0\\u58F0\\u65E0\\u606F\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u6CA1\\u65E5\\u5FD7\\u7684\\u670D\\u52A1\\u5668\\u5C31\\u50CF\\u6CA1\\u76D1\\u63A7\\u7684\\u98DE\\u673A\\uFF0C\\u51FA\\u4E86\\u4E8B\\u90FD\\u4E0D\\u77E5\\u9053\\u54EA\\u513F\\u9519\\u4E86\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"morgan\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" morgan\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'morgan'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"morgan\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'combined'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u751F\\u4EA7\\u73AF\\u5883\\u628A\\u65E5\\u5FD7\\u5199\\u5230\\u6587\\u4EF6\\u91CC\\uFF0C\\u522B\\u53EA\\u6253\\u5230\\u63A7\\u5236\\u53F0\\uFF0C\\u4E0D\\u7136\\u91CD\\u542F\\u5C31\\u6CA1\\u4E86\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"12-\\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u8981\\u5065\\u58EE\\u522B\\u65AD\\u7EBF\",children:(0,l.jsx)(e.a,{href:\"#12-\\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u8981\\u5065\\u58EE\\u522B\\u65AD\\u7EBF\",children:\"12. \\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u8981\\u5065\\u58EE\\uFF0C\\u522B\\u201C\\u65AD\\u7EBF\\u201D\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u6570\\u636E\\u5E93\\u6302\\u4E86\\u8FD8\\u786C\\u8FDE\\uFF0C\\u5C31\\u50CF\\u62E8\\u6253\\u6CA1\\u4EBA\\u63A5\\u7684\\u7535\\u8BDD\\u3002\\u7528\\u8FDE\\u63A5\\u6C60\\u6216\\u91CD\\u8BD5\\u673A\\u5236\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" mongoose\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'mongoose'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"mongoose.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"connect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"DB_URI\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  useNewUrlParser: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  useUnifiedTopology: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  serverSelectionTimeoutMS: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"5000\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"catch\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"err\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'DB \\u8FDE\\u63A5\\u5931\\u8D25:'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", err));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u52A0\\u4E2A\\u5065\\u5EB7\\u68C0\\u67E5\\u8DEF\\u7531\\uFF08\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"/health\"})})})}),\"\\uFF09\\uFF0C\\u968F\\u65F6\\u770B\\u770B\\u6570\\u636E\\u5E93\\u72B6\\u6001\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"13-\\u9759\\u6001\\u6587\\u4EF6\\u6258\\u7BA1\\u522B\\u5FD8\\u4E86\\u7F13\\u5B58\",children:(0,l.jsx)(e.a,{href:\"#13-\\u9759\\u6001\\u6587\\u4EF6\\u6258\\u7BA1\\u522B\\u5FD8\\u4E86\\u7F13\\u5B58\",children:\"13. \\u9759\\u6001\\u6587\\u4EF6\\u6258\\u7BA1\\uFF0C\\u522B\\u5FD8\\u4E86\\u7F13\\u5B58\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express.static\"})})})}),\" \\u6258\\u7BA1\\u524D\\u7AEF\\u6587\\u4EF6\\uFF0C\\u4F46\\u522B\\u5FD8\\u4E86\\u52A0\\u7F13\\u5B58\\u5934\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(express.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"static\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'public'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { maxAge: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'1d'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }));\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5BF9\\u4E0D\\u5E38\\u53D8\\u7684\\u8D44\\u6E90\\uFF08\\u6BD4\\u5982\\u56FE\\u7247\\uFF09\\u8BBE\\u957F\\u7F13\\u5B58\\uFF0C\\u52A8\\u6001\\u5185\\u5BB9\\u7528\\u77ED\\u7F13\\u5B58\\u6216\\u7981\\u7528\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"14-helmet-\\u52A0\\u56FA\\u5B89\\u5168\\u522B\\u88F8\\u5954\",children:(0,l.jsx)(e.a,{href:\"#14-helmet-\\u52A0\\u56FA\\u5B89\\u5168\\u522B\\u88F8\\u5954\",children:\"14. Helmet \\u52A0\\u56FA\\u5B89\\u5168\\uFF0C\\u522B\\u88F8\\u5954\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u9ED8\\u8BA4\\u7684 Express \\u5C31\\u50CF\\u6CA1\\u9501\\u95E8\\u7684\\u623F\\u5B50\\uFF0C\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"helmet\"})})})}),\" \\u52A0\\u70B9\\u9632\\u62A4\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" helmet\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'helmet'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"helmet\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u9ED8\\u8BA4\\u914D\\u7F6E\\u4E0D\\u9519\\uFF0C\\u4F46\\u53EF\\u4EE5\\u7EC6\\u8C03\\uFF0C\\u6BD4\\u5982\\u7981\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"X-Powered-By\"})})})}),\" \\u5934\\uFF0C\\u5C11\\u66B4\\u9732\\u4FE1\\u606F\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"15-\\u53C2\\u6570\\u5316\\u67E5\\u8BE2\\u9632-sql-\\u6CE8\\u5165\",children:(0,l.jsx)(e.a,{href:\"#15-\\u53C2\\u6570\\u5316\\u67E5\\u8BE2\\u9632-sql-\\u6CE8\\u5165\",children:\"15. \\u53C2\\u6570\\u5316\\u67E5\\u8BE2\\uFF0C\\u9632 SQL \\u6CE8\\u5165\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u522B\\u76F4\\u63A5\\u62FC\\u63A5 SQL\\uFF0C\\u50CF \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"SELECT * FROM users WHERE id = ${req.params.id}\"})})})}),\"\\uFF0C\\u4F1A\\u88AB\\u6CE8\\u5165\\u5F97\\u6EE1\\u5730\\u627E\\u7259\\u3002\\u7528 ORM \\u6216\\u53C2\\u6570\\u5316\\u67E5\\u8BE2\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" user\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" db.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"query\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'SELECT * FROM users WHERE id = ?'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", [req.params.id]);\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 Sequelize \\u6216 Knex.js \\u8FD9\\u79CD\\u5DE5\\u5177\\uFF0C\\u7701\\u5FC3\\u53C8\\u5B89\\u5168\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"16-jwt-\\u8BA4\\u8BC1\\u522B\\u4E71\\u53D1\\u901A\\u884C\\u8BC1\",children:(0,l.jsx)(e.a,{href:\"#16-jwt-\\u8BA4\\u8BC1\\u522B\\u4E71\\u53D1\\u901A\\u884C\\u8BC1\",children:\"16. JWT \\u8BA4\\u8BC1\\uFF0C\\u522B\\u4E71\\u53D1\\u201C\\u901A\\u884C\\u8BC1\\u201D\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u7528 JWT \\u505A\\u8BA4\\u8BC1\\uFF0C\\u4F46\\u522B\\u5FD8\\u4E86\\u6821\\u9A8C\\u548C\\u8FC7\\u671F\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" jwt\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'jsonwebtoken'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/login'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" token\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" jwt.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"sign\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ id: user.id }, process.env.\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JWT_SECRET\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { expiresIn: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'1h'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ token });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5237\\u65B0 token \\u7528\\u77ED\\u5BFF\\u547D\\uFF08\\u5982 15 \\u5206\\u949F\\uFF09\\uFF0C\\u914D\\u4E2A\\u957F\\u5BFF\\u547D\\u7684 refresh token\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"17-\\u6587\\u4EF6\\u4E0A\\u4F20\\u8981\\u9650\\u5236\\u522B\\u88AB\\u6491\\u7206\",children:(0,l.jsx)(e.a,{href:\"#17-\\u6587\\u4EF6\\u4E0A\\u4F20\\u8981\\u9650\\u5236\\u522B\\u88AB\\u6491\\u7206\",children:\"17. \\u6587\\u4EF6\\u4E0A\\u4F20\\u8981\\u9650\\u5236\\uFF0C\\u522B\\u88AB\\u6491\\u7206\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u7528\\u6237\\u4E0A\\u4F20\\u4E2A 1TB \\u6587\\u4EF6\\uFF0C\\u4F60\\u7684\\u670D\\u52A1\\u5668\\u5C31\\u5F97\\u201C\\u5598\\u7C97\\u6C14\\u201D\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"multer\"})})})}),\" \\u52A0\\u9650\\u5236\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" multer\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'multer'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" upload\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" multer\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ dest: \"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'uploads/'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", limits: { fileSize: \"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1024\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 1024\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" *\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" 5\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } }); \"}),(0,l.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// 5MB\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"post\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/upload'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", upload.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"single\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'file'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"), (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"send\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u4E0A\\u4F20\\u6210\\u529F'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u52A0\\u4E2A\\u6587\\u4EF6\\u7C7B\\u578B\\u8FC7\\u6EE4\\uFF0C\\u53EA\\u5141\\u8BB8\\u56FE\\u7247\\u6216 PDF\\uFF0C\\u522B\\u8BA9\\u7528\\u6237\\u4F20\\u4E2A\\u75C5\\u6BD2\\u4E0A\\u6765\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"18-\\u7248\\u672C\\u5316-api\\u522B\\u8BA9\\u8001\\u5BA2\\u6237\\u7AEF\\u5D29\\u6E83\",children:(0,l.jsx)(e.a,{href:\"#18-\\u7248\\u672C\\u5316-api\\u522B\\u8BA9\\u8001\\u5BA2\\u6237\\u7AEF\\u5D29\\u6E83\",children:\"18. \\u7248\\u672C\\u5316 API\\uFF0C\\u522B\\u8BA9\\u8001\\u5BA2\\u6237\\u7AEF\\u5D29\\u6E83\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u65B0\\u529F\\u80FD\\u4E0A\\u7EBF\\uFF0C\\u8001\\u5BA2\\u6237\\u7AEF\\u8FD8\\u8C03\\u65E7\\u63A5\\u53E3\\u600E\\u4E48\\u529E\\uFF1F\\u52A0\\u7248\\u672C\\u53F7\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"GET /v1/users\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"GET /v2/users\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528\\u8DEF\\u7531\\u524D\\u7F00\\u5B9E\\u73B0\\uFF0C\\u6BD4\\u5982 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"app.use('/v1', v1Routes)\"})})})}),\"\\uFF0C\\u8001\\u7248\\u672C\\u9010\\u6B65\\u5E9F\\u5F03\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"19-\\u6D4B\\u8BD5\\u4F60\\u7684-api\\u522B\\u4E0A\\u7EBF\\u7FFB\\u8F66\",children:(0,l.jsx)(e.a,{href:\"#19-\\u6D4B\\u8BD5\\u4F60\\u7684-api\\u522B\\u4E0A\\u7EBF\\u7FFB\\u8F66\",children:\"19. \\u6D4B\\u8BD5\\u4F60\\u7684 API\\uFF0C\\u522B\\u4E0A\\u7EBF\\u7FFB\\u8F66\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u4E0A\\u7EBF\\u524D\\u6CA1\\u6D4B\\u8BD5\\u5C31\\u50CF\\u4E0D\\u5E26\\u964D\\u843D\\u4F1E\\u8DF3\\u98DE\\u673A\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"supertest\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'supertest'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"describe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'GET /users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  it\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'should return user list'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" res\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" request\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(app).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    expect\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(res.status).\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toBe\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"200\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5199\\u5355\\u5143\\u6D4B\\u8BD5\\u548C\\u96C6\\u6210\\u6D4B\\u8BD5\\uFF0C\\u8986\\u76D6\\u4E3B\\u8981\\u63A5\\u53E3\\u548C\\u8FB9\\u7F18\\u60C5\\u51B5\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"20-\\u7528-pm2-\\u90E8\\u7F72\\u522B\\u624B\\u52A8\\u91CD\\u542F\",children:(0,l.jsx)(e.a,{href:\"#20-\\u7528-pm2-\\u90E8\\u7F72\\u522B\\u624B\\u52A8\\u91CD\\u542F\",children:\"20. \\u7528 PM2 \\u90E8\\u7F72\\uFF0C\\u522B\\u624B\\u52A8\\u91CD\\u542F\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u5F00\\u53D1\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"node app.js\"})})})}),\" \\u5C31\\u884C\\uFF0C\\u751F\\u4EA7\\u73AF\\u5883\\u4EA4\\u7ED9 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"PM2\"})})})}),\"\\uFF0C\\u81EA\\u52A8\\u91CD\\u542F\\u3001\\u8D1F\\u8F7D\\u5747\\u8861\\u90FD\\u6709\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"pm2\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" start\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" app.js\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --name\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"my-express-app\"'})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"pm2 logs\"})})})}),\" \\u770B\\u65E5\\u5FD7\\uFF0C\",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"pm2 monit\"})})})}),\" \\u76D1\\u63A7\\u6027\\u80FD\\uFF0C\\u7701\\u5FC3\\u53C8\\u9AD8\\u6548\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"21-\\u4F18\\u96C5\\u5173\\u95ED\\u522B\\u8BA9\\u8FDE\\u63A5\\u60AC\\u5C38\",children:(0,l.jsx)(e.a,{href:\"#21-\\u4F18\\u96C5\\u5173\\u95ED\\u522B\\u8BA9\\u8FDE\\u63A5\\u60AC\\u5C38\",children:\"21. \\u4F18\\u96C5\\u5173\\u95ED\\uFF0C\\u522B\\u8BA9\\u8FDE\\u63A5\\u201C\\u60AC\\u5C38\\u201D\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u670D\\u52A1\\u5668\\u91CD\\u542F\\u65F6\\uFF0C\\u73B0\\u6709\\u8FDE\\u63A5\\u65AD\\u4E86\\u5C31\\u50CF\\u7535\\u8BDD\\u804A\\u4E00\\u534A\\u88AB\\u6302\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"server.close\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" server\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"process.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"on\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'SIGTERM'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  server.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"close\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'\\u670D\\u52A1\\u5668\\u4F18\\u96C5\\u5173\\u95ED'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5BF9\\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u4E5F\\u505A\\u6E05\\u7406\\uFF0C\\u522B\\u7559\\u4E0B\\u201C\\u5B64\\u9B42\\u91CE\\u9B3C\\u201D\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"22-\\u6027\\u80FD\\u76D1\\u63A7\\u522B\\u8BA9\\u74F6\\u9888\\u5077\\u88AD\",children:(0,l.jsx)(e.a,{href:\"#22-\\u6027\\u80FD\\u76D1\\u63A7\\u522B\\u8BA9\\u74F6\\u9888\\u5077\\u88AD\",children:\"22. \\u6027\\u80FD\\u76D1\\u63A7\\uFF0C\\u522B\\u8BA9\\u74F6\\u9888\\u5077\\u88AD\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"\\u670D\\u52A1\\u5668\\u6162\\u4E86\\u4E5F\\u4E0D\\u77E5\\u9053\\u539F\\u56E0\\uFF0C\\u5C31\\u50CF\\u5F00\\u8F66\\u6CA1\\u4EEA\\u8868\\u76D8\\u3002\\u7528 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"express-status-monitor\"})})})}),\"\\uFF1A\"]}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'express-status-monitor'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")());\"})]})})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u914D\\u5408 New Relic \\u6216 Prometheus\\uFF0C\\u6DF1\\u5EA6\\u5206\\u6790\\u6027\\u80FD\\u74F6\\u9888\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"23-\\u7528-typescript\\u522B\\u8BA9\\u7C7B\\u578B\\u88F8\\u5954\",children:(0,l.jsx)(e.a,{href:\"#23-\\u7528-typescript\\u522B\\u8BA9\\u7C7B\\u578B\\u88F8\\u5954\",children:\"23. \\u7528 TypeScript\\uFF0C\\u522B\\u8BA9\\u7C7B\\u578B\\u201C\\u88F8\\u5954\\u201D\"})}),`\n`,(0,l.jsx)(e.p,{children:\"JavaScript \\u7684\\u52A8\\u6001\\u7C7B\\u578B\\u723D\\u662F\\u723D\\uFF0C\\u4F46 bug \\u4E5F\\u591A\\u3002\\u7528 TypeScript \\u52A0\\u70B9\\u7EA6\\u675F\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"typescript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" express, { Request, Response } \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'express'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Application\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" express\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/users'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"req\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Request\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"res\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Response\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  res.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ users: [] });\"})]}),`\n`,(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u914D\\u5408 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"@types/express\"})})})}),\"\\uFF0C\\u5F00\\u53D1\\u4F53\\u9A8C\\u548C\\u4EE3\\u7801\\u5065\\u58EE\\u6027\\u53CC\\u63D0\\u5347\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"24-\\u6587\\u6863\\u5316-api\\u522B\\u8BA9\\u524D\\u7AEF\\u731C\",children:(0,l.jsx)(e.a,{href:\"#24-\\u6587\\u6863\\u5316-api\\u522B\\u8BA9\\u524D\\u7AEF\\u731C\",children:\"24. \\u6587\\u6863\\u5316 API\\uFF0C\\u522B\\u8BA9\\u524D\\u7AEF\\u731C\"})}),`\n`,(0,l.jsx)(e.p,{children:\"\\u63A5\\u53E3\\u6CA1\\u6587\\u6863\\uFF0C\\u524D\\u7AEF\\u5C31\\u50CF\\u76F2\\u4EBA\\u6478\\u8C61\\u3002\\u7528 Swagger \\u6216 Postman \\u751F\\u6210\\uFF1A\"}),`\n`,(0,l.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" swaggerUi\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'swagger-ui-express'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" swaggerDoc\"}),(0,l.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" require\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'./swagger.json'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{\"data-line\":\"\",children:[(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"app.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"use\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'/api-docs'\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", swaggerUi.serve, swaggerUi.\"}),(0,l.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setup\"}),(0,l.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(swaggerDoc));\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5199\\u6587\\u6863\\u65F6\\u52A0\\u793A\\u4F8B\\u54CD\\u5E94\\uFF0C\\u51CF\\u5C11\\u524D\\u7AEF\\u95EE\\u201C\\u8FD4\\u56DE\\u5565\\u6837\\u201D\\u7684\\u6B21\\u6570\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"25-\\u6301\\u7EED\\u5B66\\u4E60\\u522B\\u505A\\u4E95\\u5E95\\u4E4B\\u86D9\",children:(0,l.jsx)(e.a,{href:\"#25-\\u6301\\u7EED\\u5B66\\u4E60\\u522B\\u505A\\u4E95\\u5E95\\u4E4B\\u86D9\",children:\"25. \\u6301\\u7EED\\u5B66\\u4E60\\uFF0C\\u522B\\u505A\\u201C\\u4E95\\u5E95\\u4E4B\\u86D9\\u201D\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Express \\u751F\\u6001\\u5728\\u53D8\\uFF0CNode.js \\u5728\\u5347\\u7EA7\\uFF0C\\u522B\\u89C9\\u5F97\\u81EA\\u5DF1\\u5565\\u90FD\\u4F1A\\u4E86\\u3002\\u591A\\u770B\\u770B\\u5B98\\u65B9\\u6587\\u6863\\u3001\\u793E\\u533A\\u6700\\u4F73\\u5B9E\\u8DF5\\uFF0C\\u751A\\u81F3\\u7FFB\\u7FFB\\u6E90\\u7801\\u3002\"}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:\"Tips\"}),\": \\u5173\\u6CE8 Express \\u7684 GitHub\\uFF0C\\u8BD5\\u8BD5\\u65B0\\u7279\\u6027\\uFF0C\\u6BD4\\u5982\\u5185\\u7F6E\\u7684 \",(0,l.jsx)(e.span,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(e.code,{\"data-language\":\"text\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(e.span,{\"data-line\":\"\",children:(0,l.jsx)(e.span,{children:\"app.router\"})})})}),\"\\uFF0C\\u8BF4\\u4E0D\\u5B9A\\u80FD\\u7701\\u4E0D\\u5C11\\u4EE3\\u7801\\u3002\"]}),`\n`,(0,l.jsx)(e.hr,{}),`\n`,(0,l.jsx)(e.h2,{id:\"\\u603B\\u7ED3\\u4ECE\\u4F1A\\u7528\\u5230\\u7528\\u597D\",children:(0,l.jsx)(e.a,{href:\"#\\u603B\\u7ED3\\u4ECE\\u4F1A\\u7528\\u5230\\u7528\\u597D\",children:\"\\u603B\\u7ED3\\uFF1A\\u4ECE\\u201C\\u4F1A\\u7528\\u201D\\u5230\\u201C\\u7528\\u597D\\u201D\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Express \\u5C31\\u50CF\\u4E00\\u8F86\\u8DD1\\u8F66\\uFF0C\\u7B80\\u5355\\u4E0A\\u624B\\u4F46\\u8981\\u5F00\\u5F97\\u7A33\\u3001\\u5F00\\u5F97\\u5FEB\\uFF0C\\u8FD8\\u5F97\\u6709\\u70B9\\u6280\\u5DE7\\u3002\\u8FD9 25 \\u4E2A\\u6700\\u4F73\\u5B9E\\u8DF5\\u4ECE\\u57FA\\u7840\\u914D\\u7F6E\\u5230\\u9AD8\\u7EA7\\u4F18\\u5316\\uFF0C\\u6DB5\\u76D6\\u4E86\\u6027\\u80FD\\u3001\\u5B89\\u5168\\u3001\\u7ED3\\u6784\\u548C\\u90E8\\u7F72\\uFF0C\\u5E0C\\u671B\\u80FD\\u5E2E\\u4F60\\u5728\\u540E\\u7AEF\\u5F00\\u53D1\\u8DEF\\u4E0A\\u5C11\\u8E29\\u5751\\u3001\\u591A\\u51FA\\u5F69\\u3002\\u6709\\u4EC0\\u4E48\\u81EA\\u5DF1\\u7684\\u201C\\u72EC\\u95E8\\u79D8\\u7C4D\\u201D\\uFF1F\\u6B22\\u8FCE\\u7559\\u8A00\\u5206\\u4EAB\\uFF0C\\u54B1\\u4EEC\\u4E00\\u8D77\\u8FDB\\u6B65 \\u{1F4AA}\\uFF01\"}),`\n`,(0,l.jsx)(e.p,{children:\"\\u73B0\\u5728\\uFF0C\\u62FF\\u8D77\\u952E\\u76D8\\uFF0C\\u8BD5\\u8BD5\\u8FD9\\u4E9B\\u5B9E\\u8DF5\\u5427\\uFF0C\\u522B\\u8BA9\\u4EE3\\u7801\\u53EA\\u662F\\u201C\\u80FD\\u8DD1\\u201D\\uFF0C\\u800C\\u662F\\u201C\\u8DD1\\u5F97\\u6F02\\u4EAE\\u201D\\uFF01\"}),`\n`,(0,l.jsx)(e.hr,{})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}return f(x);})();\n;return Component;"
  },
  "_id": "Node.js/25ä¸ªExpressæœ€ä½³å®žè·µ.mdx",
  "_raw": {
    "sourceFilePath": "Node.js/25ä¸ªExpressæœ€ä½³å®žè·µ.mdx",
    "sourceFileName": "25ä¸ªExpressæœ€ä½³å®žè·µ.mdx",
    "sourceFileDir": "Node.js",
    "contentType": "mdx",
    "flattenedPath": "Node.js/25ä¸ªExpressæœ€ä½³å®žè·µ"
  },
  "type": "Post",
  "url": "/blog/Node.js/25ä¸ªExpressæœ€ä½³å®žè·µ"
}
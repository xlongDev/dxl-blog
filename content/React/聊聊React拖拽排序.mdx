---

type: "Post"
title: "èŠèŠ React æ‹–æ‹½æ’åºï¼šä»åŸç†åˆ°å®è·µï¼Œå¸¦ä½ ç©è½¬äº¤äº’"
date: "2024-06-01"
description: "æ·±å…¥æ¢è®¨ React ä¸­çš„æ‹–æ‹½æ’åºå®ç°ï¼Œå‰–æåŸç†ï¼Œåˆ†äº«å®ç”¨æŠ€å·§ï¼Œå¸¦ä½ ä»é›¶æ‰“é€ ä¸æ»‘çš„æ‹–æ‹½ä½“éªŒã€‚"
keywords: "React, æ‹–æ‹½æ’åº, Drag and Drop, å‰ç«¯äº¤äº’, H5 DnD, React DnD, useState, useRef, æ€§èƒ½ä¼˜åŒ–"
author: "æ™“é¾™"
image: "/images/hero/react-drag-drop.jpg"
tags: ["React", "å‰ç«¯å¼€å‘", "äº¤äº’è®¾è®¡"]
category: "React"

---

æ‹–æ‹½æ’åºï¼ˆDrag and Drop Sortingï¼‰å¯èƒ½æ˜¯å‰ç«¯å¼€å‘ä¸­æœ€é…·çš„äº¤äº’ä¹‹ä¸€äº†ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨ Trello ä¸Šéšæ„æ‹–åŠ¨ä»»åŠ¡å¡ç‰‡ï¼Œæˆ–è€…åœ¨éŸ³ä¹æ’­æ”¾å™¨é‡Œè°ƒæ•´æ­Œå•é¡ºåºï¼Œé‚£ç§ä¸æ»‘çš„æ„Ÿè§‰æ˜¯ä¸æ˜¯è®©äººæ»¡è¶³å¾—æƒ³å¤šæ‹–å‡ æ¬¡ï¼Ÿä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥èŠèŠåœ¨ React ä¸­å¦‚ä½•å®ç°æ‹–æ‹½æ’åºâ€”â€”ä»åŸç”Ÿ H5 çš„ç¡¬æ ¸æ“ä½œï¼Œåˆ°ä¼˜é›…çš„åº“å°è£…ï¼Œå†åˆ°æ€§èƒ½ä¼˜åŒ–çš„é”¦å›Šå¦™è®¡ã€‚æ— è®ºä½ æ˜¯æ–°æ‰‹è¿˜æ˜¯è€é¸Ÿï¼Œè¿™ç¯‡åšå®¢éƒ½ä¼šç»™ä½ ä¸€äº›å¯å‘ï¼Œç”šè‡³å¯èƒ½æ˜¯â€œæˆ‘æ€ä¹ˆæ²¡æƒ³åˆ°â€çš„é¡¿æ‚Ÿæ—¶åˆ»ï¼ğŸš€

## ä¸ºä»€ä¹ˆè¦èŠæ‹–æ‹½æ’åºï¼Ÿ

åœ¨ç°ä»£ Web åº”ç”¨ä¸­ï¼Œæ‹–æ‹½æ’åºæ— å¤„ä¸åœ¨ï¼šåˆ—è¡¨é‡æ’ã€æ–‡ä»¶ä¸Šä¼ é¢„è§ˆã€ç”šè‡³æ˜¯ä½ä»£ç å¹³å°çš„ç»„ä»¶æ‹–æ”¾ã€‚å®ƒçš„æ ¸å¿ƒéœ€æ±‚æ˜¯**ç”¨æˆ·ç›´è§‚æ“ä½œ + æ•°æ®å®æ—¶æ›´æ–°**ï¼Œè€Œ React ä½œä¸ºå£°æ˜å¼ UI æ¡†æ¶ï¼Œå¦‚ä½•è®©è¿™ç§â€œå‘½ä»¤å¼â€äº¤äº’å’ŒçŠ¶æ€ç®¡ç†å’Œè°å…±å­˜ï¼Œå°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è§£é”çš„æŠ€èƒ½ç‚¹ã€‚åˆ«æ€¥ï¼Œæˆ‘ä¼šä»åŸç†è®²èµ·ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥å®ç°ï¼Œè¿˜ä¼šæ‰”å‡ºå‡ ä¸ªå®ç”¨çš„å° tipsï¼Œé¡ºä¾¿åæ§½ä¸€ä¸‹è¸©è¿‡çš„å‘ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼

## æ‹–æ‹½æ’åºçš„åŸç†ï¼šä»æµè§ˆå™¨åˆ° React

è¦æå®šæ‹–æ‹½æ’åºï¼Œå…ˆå¾—ææ¸…æ¥šæµè§ˆå™¨æ˜¯æ€ä¹ˆç©è¿™ä¸ªæ¸¸æˆçš„ã€‚HTML5 æä¾›äº†åŸç”Ÿçš„ Drag and Drop APIï¼ˆç®€ç§° H5 DnDï¼‰ï¼Œå®ƒæ˜¯æ•´ä¸ªæ‹–æ‹½äº¤äº’çš„åº•å±‚æ”¯æ’‘ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒä¸€åœºæ¥åŠ›èµ›ï¼š

1. **èµ·è·‘ï¼š`dragstart`** - ç”¨æˆ·æŒ‰ä¸‹é¼ æ ‡å¼€å§‹æ‹–åŠ¨ï¼Œæµè§ˆå™¨å–Šï¼šâ€œæœ‰ä¸œè¥¿è¦åŠ¨äº†ï¼â€
2. **ä¼ é€’ï¼š`dragover`** - æ‹–åŠ¨è¿‡ç¨‹ä¸­ï¼Œé¼ æ ‡ç»è¿‡å…¶ä»–å…ƒç´ ï¼Œæµè§ˆå™¨é—®ï¼šâ€œä½ æ¥ä¸æ¥æ£’ï¼Ÿâ€
3. **ç»ˆç‚¹ï¼š`drop`** - ç”¨æˆ·æ¾æ‰‹ï¼Œæµè§ˆå™¨å®£å¸ƒï¼šâ€œä¸œè¥¿æ”¾è¿™å„¿äº†ï¼â€
4. **è¾…åŠ©é€‰æ‰‹** - `dragenter`ã€`dragleave`ã€`dragend` ç­‰äº‹ä»¶è´Ÿè´£åŠ¨ç”»å’ŒçŠ¶æ€åˆ‡æ¢ã€‚

React å‘¢ï¼Ÿå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸ªâ€œçŠ¶æ€é©±åŠ¨è§†å›¾â€çš„å®¶ä¼™ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›å‘½ä»¤å¼çš„äº‹ä»¶å’Œ React çš„å£°æ˜å¼ä¸–ç•Œæ¡¥æ¥èµ·æ¥ã€‚æ ¸å¿ƒæ€è·¯æ˜¯ï¼š**ç›‘å¬äº‹ä»¶ï¼Œæ›´æ–°çŠ¶æ€ï¼Œè§†å›¾è‡ªåŠ¨åˆ·æ–°**ã€‚å¬èµ·æ¥ç®€å•ï¼Œä½†ç»†èŠ‚å¤šå¾—åƒçŒ«æ¯›â€”â€”ä¸€æŠ“ä¸€å¤§æŠŠã€‚

### åŸç”Ÿ H5 DnD çš„æœ€å°å®ç°

å…ˆæ¥ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œæ„Ÿå—ä¸€ä¸‹åŸç”Ÿæ‹–æ‹½çš„å‘³é“ï¼š

```jsx
import { useState } from "react";

const DragList = () => {
  const [items, setItems] = useState(["ğŸ Apple", "ğŸŒ Banana", "ğŸŠ Orange"]);

  const handleDragStart = (e, index) => {
    e.dataTransfer.setData("text/plain", index); // æ‹–åŠ¨çš„èµ·å§‹ç´¢å¼•
  };

  const handleDragOver = (e) => {
    e.preventDefault(); // ä¸é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œdrop äº‹ä»¶ä¸ä¼šè§¦å‘
  };

  const handleDrop = (e, dropIndex) => {
    const dragIndex = e.dataTransfer.getData("text/plain");
    const newItems = [...items];
    const [draggedItem] = newItems.splice(dragIndex, 1); // ç§»é™¤æ‹–åŠ¨çš„é¡¹
    newItems.splice(dropIndex, 0, draggedItem); // æ’å…¥åˆ°æ–°ä½ç½®
    setItems(newItems);
  };

  return (
    <ul>
      {items.map((item, index) => (
        <li
          key={index}
          draggable
          onDragStart={(e) => handleDragStart(e, index)}
          onDragOver={handleDragOver}
          onDrop={(e) => handleDrop(e, index)}
          style={{ padding: "8px", border: "1px solid #ddd", margin: "4px" }}
        >
          {item}
        </li>
      ))}
    </ul>
  );
};

export default DragList;
```

**è¿è¡Œä¸€ä¸‹**ï¼Œä½ ä¼šå‘ç°å¯ä»¥æ‹–åŠ¨åˆ—è¡¨é¡¹äº†ï¼ğŸ‰ ä½†é—®é¢˜ä¹Ÿæ¥äº†ï¼šæ‹–åŠ¨æ—¶æ²¡æœ‰é«˜äº®æç¤ºï¼Œæ¾æ‰‹åä½ç½®æ›´æ–°æœ‰ç‚¹ç”Ÿç¡¬ï¼Œç”šè‡³å¶å°”è¿˜ä¼šâ€œå¤±çµâ€ã€‚è¿™å°±æ˜¯åŸç”Ÿ H5 DnD çš„â€œåŸå§‹ç¾æ„Ÿâ€â€”â€”åŠŸèƒ½æœ‰äº†ï¼Œä½†ä½“éªŒåƒåˆšå­¦ä¼šèµ°è·¯çš„ toddlerã€‚

**å° Tips #1**:  
ç»™ `draggable` å…ƒç´ åŠ ä¸ª `cursor: move` çš„æ ·å¼ï¼Œç”¨æˆ·ä¸€çœ‹å°±çŸ¥é“èƒ½æ‹–ã€‚åˆ«å°çœ‹è¿™ç»†èŠ‚ï¼Œç”¨æˆ·ä½“éªŒå°±æ˜¯è¿™ä¹ˆä¸€ç‚¹ç‚¹å †å‡ºæ¥çš„ï¼

## ä¼˜åŒ–ä½“éªŒï¼šåŠ ç‚¹åŠ¨ç”»å’ŒçŠ¶æ€

åŸç”Ÿå®ç°å¤ªç³™ï¼Ÿé‚£æˆ‘ä»¬åŠ ç‚¹æ–™ï¼ç”¨ CSS æä¸ªæ‹–åŠ¨æ—¶çš„è§†è§‰åé¦ˆï¼Œå†ç”¨çŠ¶æ€ç®¡ç†ä¼˜åŒ–äº¤äº’é€»è¾‘ã€‚

```jsx
import { useState } from "react";

const DragList = () => {
  const [items, setItems] = useState(["ğŸ Apple", "ğŸŒ Banana", "ğŸŠ Orange"]);
  const [draggingIndex, setDraggingIndex] = useState(null);

  const handleDragStart = (e, index) => {
    e.dataTransfer.setData("text/plain", index);
    setDraggingIndex(index); // è®°å½•å½“å‰æ‹–åŠ¨çš„é¡¹
  };

  const handleDragEnd = () => {
    setDraggingIndex(null); // æ‹–åŠ¨ç»“æŸï¼Œæ¸…ç©ºçŠ¶æ€
  };

  const handleDragOver = (e) => {
    e.preventDefault();
  };

  const handleDrop = (e, dropIndex) => {
    const dragIndex = e.dataTransfer.getData("text/plain");
    const newItems = [...items];
    const [draggedItem] = newItems.splice(dragIndex, 1);
    newItems.splice(dropIndex, 0, draggedItem);
    setItems(newItems);
  };

  return (
    <ul style={{ listStyle: "none", padding: 0 }}>
      {items.map((item, index) => (
        <li
          key={index}
          draggable
          onDragStart={(e) => handleDragStart(e, index)}
          onDragEnd={handleDragEnd}
          onDragOver={handleDragOver}
          onDrop={(e) => handleDrop(e, index)}
          style={{
            padding: "8px",
            border: "1px solid #ddd",
            margin: "4px",
            background: draggingIndex === index ? "#f0f0f0" : "white",
            opacity: draggingIndex === index ? 0.5 : 1,
            transition: "all 0.2s ease",
            cursor: "move",
          }}
        >
          {item}
        </li>
      ))}
    </ul>
  );
};

export default DragList;
```

è¿™æ¬¡å¥½å¤šäº†å§ï¼Ÿæ‹–åŠ¨æ—¶è¢«æ‹–çš„é¡¹ä¼šå˜åŠé€æ˜ï¼Œå…¶ä»–é¡¹ä¼šç¨å¾®æŒªåŠ¨ï¼Œæ¾æ‰‹åä½ç½®æ›´æ–°ä¹Ÿæ›´è‡ªç„¶ã€‚CSS çš„ `transition` æ˜¯åŠ¨ç”»çš„çµé­‚ï¼ŒåŠ ä¸Š `opacity` å’Œ `background` çš„å˜åŒ–ï¼Œç”¨æˆ·èƒ½æ¸…æ¥šçŸ¥é“â€œè°åœ¨åŠ¨ï¼ŒåŠ¨åˆ°å“ªå„¿â€ã€‚

**å° Tips #2**:  
æ‹–åŠ¨æ—¶ç”¨ `e.dataTransfer.effectAllowed = "move"` è®¾ç½®æ‹–åŠ¨æ•ˆæœï¼Œæµè§ˆå™¨ä¼šç»™ç”¨æˆ·ä¸€ä¸ªæ›´ç›´è§‚çš„é¼ æ ‡åé¦ˆã€‚åˆ«è®©ç”¨æˆ·çŒœï¼Œç¨‹åºå‘˜çš„ç›´è§‰å’Œç”¨æˆ·å¯ä¸ä¸€æ ·ï¼

## ç”¨åº“ææ•ˆï¼šReact DnD å’Œ react-beautiful-dnd

è‡ªå·±å†™æ‹–æ‹½é€»è¾‘è™½ç„¶ç¡¬æ ¸ï¼Œä½†ç°å®å¼€å‘ä¸­æ—¶é—´å®è´µï¼Œå’±å¾—å­¦ä¼šâ€œå·æ‡’â€ã€‚ç¤¾åŒºæœ‰ç°æˆçš„è½®å­ï¼Œæ¯”å¦‚ **React DnD** å’Œ **react-beautiful-dnd**ï¼Œç›´æ¥æ‹¿æ¥ç”¨ï¼Œçœæ—¶çœåŠ›è¿˜èƒ½ä¿è¯ä½“éªŒã€‚

### React DnDï¼šçµæ´»ä½†æœ‰ç‚¹â€œç¡¬â€

React DnD æ˜¯åŸºäº H5 DnD çš„å°è£…ï¼Œæä¾›äº†å¼ºå¤§çš„è‡ªå®šä¹‰èƒ½åŠ›ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯â€œæ‹–æ‹½æºâ€å’Œâ€œæ”¾ç½®ç›®æ ‡â€çš„æ¦‚å¿µï¼Œç”¨ Hooks æˆ–é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰å®ç°ã€‚

```jsx
import { DndProvider, useDrag, useDrop } from "react-dnd";
import { HTML5Backend } from "react-dnd-html5-backend";
import { useState } from "react";

const Item = ({ id, text, index, moveItem }) => {
  const [, drag] = useDrag({
    type: "ITEM",
    item: { id, index },
  });

  const [, drop] = useDrop({
    accept: "ITEM",
    hover: (item) => {
      if (item.index !== index) {
        moveItem(item.index, index);
        item.index = index; // æ›´æ–°æ‹–åŠ¨é¡¹<|seperator|>item.index = index;
        moveItem(item.index, index);
      }
    },
  });

  return (
    <div ref={(ref) => drag(drop(ref))} style={{ padding: "8px", margin: "4px", border: "1px solid #ddd", cursor: "move" }}>
      {text}
    </div>
  );
};

const DragList = () => {
  const [items, setItems] = useState([
    { id: 1, text: "ğŸ Apple" },
    { id: 2, text: "ğŸŒ Banana" },
    { id: 3, text: "ğŸŠ Orange" },
  ]);

  const moveItem = (fromIndex, toIndex) => {
    const newItems = [...items];
    const [movedItem] = newItems.splice(fromIndex, 1);
    newItems.splice(toIndex, 0, movedItem);
    setItems(newItems);
  };

  return (
    <DndProvider backend={HTML5Backend}>
      {items.map((item, index) => (
        <Item key={item.id} id={item.id} text={item.text} index={index} moveItem={moveItem} />
      ))}
    </DndProvider>
  );
};

export default DragList;
```

React DnD é€‚åˆéœ€è¦æ·±åº¦å®šåˆ¶çš„åœºæ™¯ï¼Œæ¯”å¦‚å¤æ‚çš„æ‹–æ‹½è§„åˆ™æˆ–è€…è·¨ç»„ä»¶æ‹–æ”¾ã€‚ä½†å®ƒå­¦ä¹ æ›²çº¿æœ‰ç‚¹é™¡ï¼Œä¸Šæ‰‹å¾—èŠ±ç‚¹æ—¶é—´ã€‚

### react-beautiful-dndï¼šå¼€ç®±å³ç”¨

ç›¸æ¯”ä¹‹ä¸‹ï¼Œ`react-beautiful-dnd` æ›´ç®€å•ç›´è§‚ï¼ŒåŠ¨ç”»ä¹Ÿæ›´ä¸æ»‘ï¼Œç‰¹åˆ«é€‚åˆåˆ—è¡¨æ’åºè¿™ç§å¸¸è§éœ€æ±‚ã€‚

```jsx
import { DragDropContext, Droppable, Draggable } from "react-beautiful-dnd";
import { useState } from "react";

const DragList = () => {
  const [items, setItems] = useState(["ğŸ Apple", "ğŸŒ Banana", "ğŸŠ Orange"]);

  const onDragEnd = (result) => {
    if (!result.destination) return;
    const newItems = [...items];
    const [movedItem] = newItems.splice(result.source.index, 1);
    newItems.splice(result.destination.index, 0, movedItem);
    setItems(newItems);
  };

  return (
    <DragDropContext onDragEnd={onDragEnd}>
      <Droppable droppableId="droppable">
        {(provided) => (
          <div {...provided.droppableProps} ref={provided.innerRef}>
            {items.map((item, index) => (
              <Draggable key={item} draggableId={item} index={index}>
                {(provided) => (
                  <div
                    ref={provided.innerRef}
                    {...provided.draggableProps}
                    {...provided.dragHandleProps}
                    style={{
                      padding: "8px",
                      margin: "4px",
                      border: "1px solid #ddd",
                      background: "white",
                      ...provided.draggableProps.style,
                    }}
                  >
                    {item}
                  </div>
                )}
              </Draggable>
            ))}
            {provided.placeholder}
          </div>
        )}
      </Droppable>
    </DragDropContext>
  );
};

export default DragList;
```

**åæ§½ä¸€ä¸‹**ï¼š`react-beautiful-dnd` çš„åŠ¨ç”»æ˜¯çœŸçš„ç¾ï¼Œä½†å®ƒä¸æ”¯æŒè§¦æ‘¸å±æ‹–æ‹½ï¼ˆå¾—è‡ªå·±åŠ  polyfillï¼‰ï¼Œè®©æˆ‘æœ‰æ¬¡åœ¨æ‰‹æœºä¸Šæµ‹è¯•æ—¶ä¸€è„¸æ‡µâ€”â€”â€œä¸ºå•¥æ‹–ä¸åŠ¨ï¼Ÿï¼â€

**å° Tips #3**:  
ç”¨åº“æ—¶ï¼Œåˆ«å¿˜äº†ç»™ `<Draggable>` åŠ ä¸ªç‹¬ç‰¹çš„ `draggableId`ï¼Œä¸ç„¶æ‹–æ‹½é¡ºåºä¼šä¹±ã€‚å­—ç¬¦ä¸²åŒ–ç´¢å¼•æ˜¯ä¸ªå¥½åŠæ³•ï¼Œæ¯”å¦‚ `"item-${index}"`ã€‚

## æ€§èƒ½ä¼˜åŒ–ï¼šåˆ«è®©æ‹–æ‹½å¡æˆ PPT

æ‹–æ‹½æ’åºçœ‹ç€çˆ½ï¼Œä½†åˆ—è¡¨ä¸€é•¿ï¼Œæ€§èƒ½é—®é¢˜å°±æ¥äº†ã€‚React çš„æ¯æ¬¡çŠ¶æ€æ›´æ–°éƒ½ä¼šè§¦å‘é‡æ¸²æŸ“ï¼Œæ‹–æ‹½åˆæ˜¯é«˜é¢‘æ“ä½œï¼Œä¸€ä¸å°å¿ƒå°±å¡æˆå¹»ç¯ç‰‡ã€‚æ€ä¹ˆåŠï¼Ÿ

### 1. ç”¨ `useCallback` ç¼“å­˜äº‹ä»¶å¤„ç†å™¨

æ‹–æ‹½äº‹ä»¶å¤„ç†å™¨é¢‘ç¹åˆ›å»ºä¼šå¢åŠ å†…å­˜å‹åŠ›ï¼Œç”¨ `useCallback` åŒ…ä¸€ä¸‹ï¼Œèƒ½çœåˆ™çœã€‚

```jsx
const handleDragEnd = useCallback(() => {
  setDraggingIndex(null);
}, []);
```

### 2. é˜²æŠ–æˆ–èŠ‚æµæ‹–æ‹½äº‹ä»¶

`dragover` äº‹ä»¶è§¦å‘é¢‘ç‡é«˜å¾—ç¦»è°±ï¼Œç›´æ¥æ“ä½œ DOM æˆ–çŠ¶æ€ä¼šå¯¼è‡´æ€§èƒ½å´©ç›˜ã€‚å¯ä»¥ç”¨ lodash çš„ `debounce` æˆ– `throttle`ï¼š

```jsx
const handleDragOver = throttle((e) => {
  e.preventDefault();
}, 100);
```

### 3. è™šæ‹ŸåŒ–é•¿åˆ—è¡¨

å¦‚æœåˆ—è¡¨æœ‰å‡ ç™¾é¡¹ï¼Œç”¨ `react-virtualized` æˆ– `react-window` åªæ¸²æŸ“å¯è§åŒºåŸŸï¼Œæ‹–æ‹½ç…§æ ·ä¸æ»‘ã€‚

**å° Tips #4**:  
æ‹–æ‹½æ—¶å°½é‡é¿å…å¤æ‚çš„è®¡ç®—é€»è¾‘ï¼Œæ¯”å¦‚æ·±æ‹·è´å¤§æ•°ç»„ã€‚èƒ½ç”¨ç´¢å¼•æ“ä½œå°±åˆ«æ•´ä¸ªæ•°ç»„å¤åˆ¶ï¼Œæ€§èƒ½æå‡ä¸æ˜¯ä¸€ç‚¹åŠç‚¹ã€‚

## æœ€ä½³å®è·µï¼šè®©æ‹–æ‹½æ›´â€œäººæ€§åŒ–â€

å®ç°æ‹–æ‹½ä¸éš¾ï¼Œéš¾çš„æ˜¯è®©ç”¨æˆ·ç”¨å¾—èˆ’æœã€‚ä»¥ä¸‹æ˜¯æˆ‘è¸©å‘åæ€»ç»“çš„å‡ æ¡ç»éªŒï¼š

1. **è§†è§‰åé¦ˆè¦åˆ°ä½**  
   åŠ ä¸ªæ‹–åŠ¨æ—¶çš„ placeholderï¼ˆå ä½ç¬¦ï¼‰ï¼Œç”¨æˆ·èƒ½æ¸…æ¥šçŸ¥é“ä¸œè¥¿ä¼šæ‰å“ªå„¿ã€‚`react-beautiful-dnd` è‡ªå¸¦è¿™ä¸ªåŠŸèƒ½ï¼ŒåŸç”Ÿå®ç°å¯ä»¥ç”¨ CSS ä¼ªå…ƒç´ æ¨¡æ‹Ÿã€‚

2. **æ”¯æŒæ’¤é”€æ“ä½œ**  
   ç”¨æˆ·æ‹–é”™äº†æ€ä¹ˆåŠï¼ŸåŠ ä¸ª `Ctrl + Z` çš„æ’¤é”€åŠŸèƒ½ï¼Œé…åˆ `useRef` å­˜å†å²çŠ¶æ€ï¼Œåˆ†åˆ†é’Ÿæå‡é€¼æ ¼ã€‚

3. **è¾¹ç•Œå¤„ç†è¦ä¼˜é›…**  
   æ‹–åˆ°åˆ—è¡¨å¤–æ€ä¹ˆåŠï¼Ÿæ˜¯ç¦æ­¢æ‹–å‡ºï¼Œè¿˜æ˜¯è‡ªåŠ¨å›å¼¹ï¼Ÿæ˜ç¡®è§„åˆ™ï¼Œåˆ«è®©ç”¨æˆ·ä¸€è„¸æ‡µã€‚

4. **è§¦å±é€‚é…ä¸èƒ½å¿˜**  
   H5 DnD åœ¨ç§»åŠ¨ç«¯æ”¯æŒçƒ‚å¾—åƒæˆ‘å‘¨æœ«çš„èµ·åºŠæ—¶é—´ï¼Œç”¨ `react-dnd-touch-backend` æˆ–è‡ªå·±ç›‘å¬ `touchstart/move/end` è¡¥æ•‘ã€‚

**å° Tips #5**:  
ç»™æ‹–æ‹½åŒºåŸŸåŠ ä¸ªæ˜æ˜¾çš„è¾¹æ¡†æˆ–é«˜äº®æ•ˆæœï¼ˆæ¯”å¦‚ `box-shadow`ï¼‰ï¼Œç”¨æˆ·ä¸ä¼šè¯¯æ‹–åˆ°æ—è¾¹çš„æŒ‰é’®ä¸Šï¼Œå‡å°‘â€œæ‰‹æ»‘â€çš„å°´å°¬ã€‚

## ç±»æ¯”æ—¶é—´ï¼šæ‹–æ‹½å°±åƒæ¬å®¶

æ‹–æ‹½æ’åºçš„è¿‡ç¨‹å°±åƒæ¬å®¶ï¼š  
- **dragstart** æ˜¯ä½ æ‰“åŒ…è¡Œæï¼Œå†³å®šæ¬å•¥ã€‚  
- **dragover** æ˜¯ä½ åœ¨æ–°å®¶é—¨å£å¾˜å¾Šï¼Œæ‰¾ä¸ªå¥½ä½ç½®ã€‚  
- **drop** æ˜¯è¡Œææ”¾ä¸‹é‚£ä¸€åˆ»çš„æ»¡è¶³æ„Ÿã€‚  
è€Œ React å‘¢ï¼Ÿå®ƒå°±åƒä¸ªç®¡å®¶ï¼Œå¸®ä½ æŠŠä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿æ•´ç†å¾—äº•äº•æœ‰æ¡ã€‚æ˜¯ä¸æ˜¯å¾ˆæœ‰ç”»é¢æ„Ÿï¼ŸğŸ˜„

## æœ€åï¼šä»é›¶åˆ°ä¸€çš„æ„Ÿæ‚Ÿ

å†™æ‹–æ‹½æ’åºä»£ç æ—¶ï¼Œæˆ‘æœ€å¼€å§‹è€è§‰å¾—â€œè¿™ä¹ˆç®€å•ï¼Œä¸å°±ç›‘å¬å‡ ä¸ªäº‹ä»¶å—ï¼Ÿâ€ç»“æœä¸€ä¸Šæ‰‹æ‰å‘ç°ï¼Œç»†èŠ‚å¤šå¾—åƒæˆ‘å¦ˆå” å¨â€”â€”åŠ¨ç”»ã€æ€§èƒ½ã€å…¼å®¹æ€§ï¼Œæ¯ä¸€é¡¹éƒ½èƒ½è®©ä½ æŠ“ç‹‚ã€‚ä½†æå®šä¹‹åï¼Œé‚£ç§â€œè€å­ç»ˆäºå¾æœäº†å®ƒâ€çš„æˆå°±æ„Ÿï¼Œåˆè®©äººæ¬²ç½¢ä¸èƒ½ã€‚å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¸®ä½ å°‘èµ°ç‚¹å¼¯è·¯ï¼Œå¤šç‚¹çµæ„Ÿã€‚æœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…éªšæƒ³æ³•ï¼Œæ¬¢è¿ç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·èŠèŠï¼

æ‹–æ‹½æ’åºä¸ä»…æ˜¯æŠ€æœ¯æ´»ï¼Œæ›´æ˜¯è®¾è®¡æ€ç»´å’Œç”¨æˆ·ä½“éªŒçš„ç»“åˆã€‚æ„¿ä½ åœ¨ React çš„ä¸–ç•Œé‡Œï¼Œæ‹–å‡ºå±äºè‡ªå·±çš„ç²¾å½©ï¼âœŒï¸

---
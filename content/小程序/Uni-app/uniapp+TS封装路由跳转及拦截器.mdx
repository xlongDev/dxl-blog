---
title: "UniApp + TypeScript å°è£…è·¯ç”±è·³è½¬åŠæ‹¦æˆªå™¨ï¼šä»åŸç†åˆ°å®è·µçš„æ·±åº¦è§£æ ğŸš€"
date: "2023-06-15"
description: "æ·±å…¥æ¢è®¨ UniApp ä¸­ç»“åˆ TypeScript å°è£…è·¯ç”±è·³è½¬å’Œæ‹¦æˆªå™¨çš„å®ç°åŸç†ã€ä»£ç å®è·µä¸ä¼˜åŒ–æŠ€å·§ï¼Œé€‚åˆå‰ç«¯å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹å¹¶æå‡é¡¹ç›®æ¶æ„èƒ½åŠ›ã€‚"
keywords: "UniApp, TypeScript, è·¯ç”±å°è£…, è·¯ç”±æ‹¦æˆªå™¨, å‰ç«¯å¼€å‘, å°ç¨‹åºå¼€å‘, è·¨å¹³å°å¼€å‘, Vue.js, è·¯ç”±ç®¡ç†"
author: "æ™“é¾™"
image: "/images/hero/uniapp-router.jpg"
tags: ["UniApp", "TypeScript", "å‰ç«¯å¼€å‘", "è·¯ç”±ç®¡ç†"]
category: "å°ç¨‹åº"
---

åœ¨å‰ç«¯å¼€å‘çš„æµ©ç€šæ˜Ÿæ²³ä¸­ï¼ŒUniApp å‡­å€Ÿå…¶è·¨å¹³å°å¼€å‘çš„è¶…èƒ½åŠ›ï¼Œæˆä¸ºäº†å°ç¨‹åºã€H5 å’Œ App å¼€å‘çš„â€œè¶…çº§è‹±é›„â€ ğŸ¦¸â€â™‚ï¸ã€‚è€Œå½“å®ƒä¸ TypeScript è”æ‰‹ï¼Œç®€ç›´åƒæ˜¯é’¢é“ä¾ ç©¿ä¸Šäº†çº³ç±³æˆ˜ç”²ï¼Œå¼€å‘ä½“éªŒå’Œä»£ç å¥å£®æ€§ç›´æ¥èµ·é£ï¼ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨å¦‚ä½•åœ¨ UniApp ä¸­ç»“åˆ TypeScript å°è£…è·¯ç”±è·³è½¬å’Œæ‹¦æˆªå™¨ï¼Œä¸ä»…è¦å†™å‡ºä¼˜é›…çš„ä»£ç ï¼Œè¿˜è¦å‰–æèƒŒåçš„åŸç†ã€åˆ†äº«å®ç”¨æŠ€å·§ï¼Œç”šè‡³å¸¦ç‚¹é«˜çº§å¹½é»˜æ„Ÿï¼Œè®©ä½ è¯»å®Œä¸ä»…æ”¶è·æ»¡æ»¡ï¼Œè¿˜èƒ½ä¼šå¿ƒä¸€ç¬‘ ğŸ˜ã€‚

è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡æ˜¯ï¼š**ä¸ºå‰ç«¯å¼€å‘è€…æä¾›ä¸€ä»½å…¨é¢ã€æ·±å…¥ä¸”å®ç”¨çš„æŒ‡å—**ï¼Œä»è·¯ç”±è·³è½¬çš„å°è£…åˆ°æ‹¦æˆªå™¨çš„è®¾è®¡ï¼Œå†åˆ°æ€§èƒ½ä¼˜åŒ–å’Œæœ€ä½³å®è·µï¼Œé¢é¢ä¿±åˆ°ã€‚æ–‡ç« ä¼šåŒ…å«æ¸…æ™°çš„è¡¨æ ¼ã€ä¸°å¯Œçš„ä»£ç ç¤ºä¾‹ã€ç±»æ¯”è®²è§£ï¼Œä»¥åŠä¸€äº›â€œåªæœ‰è€å¸æœºæ‰æ‡‚â€çš„å¼€å‘å¿ƒå¾—ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·å¼€å¯è¿™åœºä»£ç å†’é™©å§ï¼ğŸ› ï¸

---

## æ–‡ç« ç»“æ„ï¼šæ€ç»´é“¾å¯¼èˆª ğŸ§ 

ä¸ºäº†è®©è¿™ç¯‡é•¿æ–‡ï¼ˆç›®æ ‡ 16000+ å­—ï¼‰é€»è¾‘æ¸…æ™°ï¼Œæˆ‘å…ˆä¸ºä½ æ¢³ç†ä¸€ä¸‹æ–‡ç« çš„æ€ç»´é“¾ï¼Œç¡®ä¿ä½ èƒ½åƒåƒè‡ªåŠ©é¤ä¸€æ ·ï¼Œéšå¿ƒæ‰€æ¬²åœ°â€œå¤¹èœâ€ï¼š

1. **UniApp è·¯ç”±ä½“ç³»åŸºç¡€**ï¼šå¿«é€Ÿå›é¡¾ UniApp çš„è·¯ç”±æœºåˆ¶ï¼Œææ‡‚ `uni.navigateTo`ã€`uni.redirectTo` ç­‰ API çš„æœ¬è´¨ã€‚
2. **ä¸ºä»€ä¹ˆéœ€è¦å°è£…è·¯ç”±ï¼Ÿ**ï¼šä»ç—›ç‚¹å‡ºå‘ï¼Œåˆ†æå°è£…è·¯ç”±çš„å¿…è¦æ€§ï¼Œç»“åˆ TypeScript çš„ç±»å‹å®‰å…¨ä¼˜åŠ¿ã€‚
3. **è·¯ç”±è·³è½¬å°è£…å®æˆ˜**ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å°è£…ä¸€ä¸ªç±»å‹å®‰å…¨çš„è·¯ç”±è·³è½¬å·¥å…·ï¼ŒåŒ…å«å‚æ•°æ ¡éªŒã€é¡µé¢æ ˆç®¡ç†ç­‰ã€‚
4. **è·¯ç”±æ‹¦æˆªå™¨è®¾è®¡ä¸å®ç°**ï¼šæ·±å…¥æ‹¦æˆªå™¨çš„åŸç†ï¼Œè®¾è®¡ä¸€ä¸ªçµæ´»çš„æ‹¦æˆªå™¨ä½“ç³»ï¼Œåº”å¯¹ç™»å½•æ ¡éªŒã€æƒé™æ§åˆ¶ç­‰åœºæ™¯ã€‚
5. **æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ**ï¼šåˆ†äº«è·¯ç”±ç®¡ç†çš„è¿›é˜¶æŠ€å·§ï¼Œæ¯”å¦‚é˜²æŠ–ã€ç¼“å­˜ã€æ‡’åŠ è½½ç­‰ã€‚
6. **å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ**ï¼šåˆ—ä¸¾å¼€å‘ä¸­å¯èƒ½è¸©çš„å‘ï¼Œå¹¶æä¾›è§£å†³æ–¹æ¡ˆã€‚
7. **æ‰©å±•ï¼šä¸ Vue Router çš„å¯¹æ¯”**ï¼šä» UniApp çš„è·¯ç”±æœºåˆ¶å‡ºå‘ï¼Œç±»æ¯” Vue Routerï¼Œå¸®ä½ è§¦ç±»æ—é€šã€‚
8. **æ€»ç»“ä¸å±•æœ›**ï¼šæ€»ç»“æœ¬æ–‡çš„æ ¸å¿ƒå†…å®¹ï¼Œå±•æœ› UniApp è·¯ç”±ç®¡ç†çš„æœªæ¥è¶‹åŠ¿ã€‚

æ¯ä¸ªéƒ¨åˆ†éƒ½ä¼šæœ‰æ¸…æ™°çš„è¡¨æ ¼ã€ä»£ç ç¤ºä¾‹ã€ç±»æ¯”è®²è§£å’Œ *å®ç”¨ Tips*ï¼Œç¡®ä¿å†…å®¹æ—¢æœ‰æ·±åº¦åˆæ¥åœ°æ°”ã€‚å¥½äº†ï¼Œç³»å¥½å®‰å…¨å¸¦ï¼Œæˆ‘ä»¬æ­£å¼èµ·é£ï¼âœˆï¸

---

## 1. UniApp è·¯ç”±ä½“ç³»åŸºç¡€ï¼šä»â€œè‰å›¾â€åˆ°â€œè“å›¾â€ ğŸ“

UniApp çš„è·¯ç”±æœºåˆ¶æ˜¯å…¶è·¨å¹³å°å¼€å‘çš„æ ¸å¿ƒä¹‹ä¸€ï¼Œå®ƒåŸºäºå°ç¨‹åºçš„é¡µé¢æ ˆç®¡ç†ï¼ŒåŒæ—¶å…¼å®¹ H5 å’Œ App çš„å¯¼èˆªéœ€æ±‚ã€‚ç®€å•æ¥è¯´ï¼ŒUniApp çš„è·¯ç”±å°±åƒä¸€ä¸ªâ€œå®‡å®™é£èˆ¹çš„å¯¼èˆªç³»ç»Ÿâ€ï¼Œè´Ÿè´£åœ¨ä¸åŒé¡µé¢ï¼ˆæˆ–æ˜Ÿçƒï¼‰ä¹‹é—´è·³è½¬ï¼ŒåŒæ—¶ç»´æŠ¤é¡µé¢æ ˆï¼ˆé£è¡Œæ—¥å¿—ï¼‰ã€‚

### 1.1 UniApp è·¯ç”±çš„æ ¸å¿ƒ API

UniApp æä¾›äº†ä»¥ä¸‹å‡ ç§è·¯ç”±è·³è½¬æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½æœ‰å…¶ç‹¬ç‰¹çš„åº”ç”¨åœºæ™¯ï¼š

| æ–¹æ³•å                | åŠŸèƒ½æè¿°                                                                 | ä½¿ç”¨åœºæ™¯                              |
|-----------------------|--------------------------------------------------------------------------|---------------------------------------|
| `uni.navigateTo`      | ä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°æ–°é¡µé¢ï¼Œé¡µé¢æ ˆ+1                                      | è¿›å…¥å­é¡µé¢ï¼Œå¦‚ä»åˆ—è¡¨é¡µåˆ°è¯¦æƒ…é¡µ         |
| `uni.redirectTo`      | å…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°æ–°é¡µé¢ï¼Œé¡µé¢æ ˆä¸å˜                                    | æ›¿æ¢å½“å‰é¡µé¢ï¼Œå¦‚ç™»å½•åè·³è½¬åˆ°é¦–é¡µ       |
| `uni.reLaunch`        | å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€æ–°é¡µé¢ï¼Œé¡µé¢æ ˆé‡ç½®                                      | é‡ç½®åº”ç”¨çŠ¶æ€ï¼Œå¦‚ä»é”™è¯¯é¡µå›åˆ°é¦–é¡µ       |
| `uni.switchTab`       | è·³è½¬åˆ° TabBar é¡µé¢ï¼Œå¹¶å…³é—­å…¶ä»–é TabBar é¡µé¢                              | åˆ‡æ¢ TabBarï¼Œå¦‚ä»é¦–é¡µåˆ°ä¸ªäººä¸­å¿ƒ        |
| `uni.navigateBack`    | è¿”å›ä¸Šä¸€é¡µæˆ–å¤šçº§é¡µé¢ï¼Œé¡µé¢æ ˆ-1 æˆ–æ›´å¤š                                     | è¿”å›æ“ä½œï¼Œå¦‚ä»è¯¦æƒ…é¡µå›åˆ°åˆ—è¡¨é¡µ         |

è¿™äº› API å°±åƒæ˜¯é£èˆ¹çš„â€œæ¨è¿›å™¨â€ï¼Œæ¯ç§æ¨è¿›å™¨éƒ½æœ‰ä¸åŒçš„ç‡ƒæ–™æ¶ˆè€—å’Œé€Ÿåº¦ã€‚ç†è§£å®ƒä»¬çš„åº•å±‚åŸç†ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°å°è£…è·¯ç”±å·¥å…·ã€‚

### 1.2 é¡µé¢æ ˆçš„æœ¬è´¨

UniApp çš„é¡µé¢æ ˆæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå­˜å‚¨äº†å½“å‰åº”ç”¨çš„é¡µé¢å®ä¾‹ã€‚æ¯æ¬¡è°ƒç”¨ `uni.navigateTo`ï¼Œéƒ½ä¼šå¾€é¡µé¢æ ˆä¸­å‹å…¥ä¸€ä¸ªæ–°é¡µé¢ï¼›è€Œ `uni.navigateBack` åˆ™ä¼šå¼¹å‡ºé¡µé¢ã€‚é¡µé¢æ ˆçš„ä¸Šé™é€šå¸¸æ˜¯ 10ï¼ˆéƒ¨åˆ†å¹³å°å¯èƒ½ä¸åŒï¼‰ï¼Œè¶…è¿‡ä¸Šé™ä¼šå¯¼è‡´è·³è½¬å¤±è´¥ã€‚

ç±»æ¯”ä¸€ä¸‹ï¼šé¡µé¢æ ˆå°±åƒä½ çš„æµè§ˆå™¨å†å²è®°å½•ï¼Œæ¯æ¬¡æ‰“å¼€æ–°é¡µé¢å°±æ˜¯åœ¨å†å²è®°å½•é‡ŒåŠ ä¸€æ¡ï¼Œç‚¹å‡»â€œåé€€â€å°±æ˜¯å¼¹å‡ºä¸€æ¡ã€‚å¦‚æœå†å²è®°å½•å¤ªé•¿ï¼ˆé¡µé¢æ ˆæº¢å‡ºï¼‰ï¼Œæµè§ˆå™¨ï¼ˆæˆ– UniAppï¼‰å°±ä¼šè¯´ï¼šâ€œå“¥ä»¬ï¼Œå†…å­˜ä¸å¤Ÿäº†ï¼Œå…ˆæ¸…ä¸€ä¸‹å§ï¼â€ ğŸ˜…

*Tips: åœ¨å¼€å‘ä¸­ï¼Œæ—¶åˆ»å…³æ³¨é¡µé¢æ ˆçš„å¤§å°ï¼Œé¿å…è·³è½¬å¤±è´¥ã€‚å¯ä»¥ç”¨ `getCurrentPages()` è·å–å½“å‰é¡µé¢æ ˆï¼ŒåŠ¨æ€è°ƒæ•´è·³è½¬ç­–ç•¥ã€‚*

---

## 2. ä¸ºä»€ä¹ˆéœ€è¦å°è£…è·¯ç”±ï¼Ÿç—›ç‚¹ä¸ TypeScript çš„æ•‘èµ ğŸ›¡ï¸

ç›´æ¥è°ƒç”¨ `uni.navigateTo` è¿™æ ·çš„ API è™½ç„¶ç®€å•ï¼Œä½†åœ¨å¤§é¡¹ç›®ä¸­ä¼šæš´éœ²å¾ˆå¤šé—®é¢˜ï¼Œå°±åƒç”¨æ‰‹ç›´æ¥æŠ“é¥­åƒâ€”â€”è™½ç„¶èƒ½åƒé¥±ï¼Œä½†æ€»æ„Ÿè§‰å°‘äº†ç‚¹â€œä»ªå¼æ„Ÿâ€ ğŸ½ï¸ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ç—›ç‚¹ï¼š

### 2.1 ç—›ç‚¹åˆ†æ

1. **ä»£ç é‡å¤**ï¼šæ¯æ¬¡è·³è½¬éƒ½è¦å†™ä¸€å †å‚æ•°ï¼Œæ¯”å¦‚ `url`ã€`success`ã€`fail` ç­‰ï¼Œä»£ç å†—ä½™ä¸¥é‡ã€‚
2. **ç±»å‹ä¸å®‰å…¨**ï¼šå­—ç¬¦ä¸²æ‹¼æ¥çš„ URL å®¹æ˜“å‡ºé”™ï¼Œæ¯”å¦‚å‚æ•°ç¼ºå¤±æˆ–æ ¼å¼é”™è¯¯ã€‚
3. **éš¾ä»¥ç»´æŠ¤**ï¼šè·¯ç”±è·³è½¬é€»è¾‘åˆ†æ•£åœ¨å„ä¸ªé¡µé¢ï¼Œæ”¹ä¸€ä¸ªå‚æ•°å¯èƒ½è¦æ”¹å‡ åä¸ªæ–‡ä»¶ã€‚
4. **ç¼ºä¹æ‹¦æˆªæœºåˆ¶**ï¼šæ— æ³•ç»Ÿä¸€å¤„ç†ç™»å½•æ ¡éªŒã€æƒé™æ§åˆ¶ç­‰éœ€æ±‚ã€‚
5. **é¡µé¢æ ˆç®¡ç†å¤æ‚**ï¼šæ‰‹åŠ¨ç®¡ç†é¡µé¢æ ˆå®¹æ˜“å‡ºé”™ï¼Œæ¯”å¦‚è¿”å›å¤šçº§é¡µé¢æ—¶è®¡ç®— `delta` å€¼ã€‚

### 2.2 TypeScript çš„ä¼˜åŠ¿

TypeScript çš„ç±»å‹ç³»ç»Ÿå°±åƒç»™è·¯ç”±è£…ä¸Šäº†â€œè‡ªåŠ¨é©¾é©¶ä»ªâ€ï¼Œå¯ä»¥ï¼š

- **ç±»å‹æ¨å¯¼ä¸æ ¡éªŒ**ï¼šç¡®ä¿è·¯ç”±å‚æ•°å’Œè¿”å›å€¼ç±»å‹å®‰å…¨ã€‚
- **æ¥å£å®šä¹‰**ï¼šé€šè¿‡æ¥å£è§„èŒƒåŒ–è·¯ç”±é…ç½®ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚
- **æ™ºèƒ½æç¤º**ï¼šåœ¨ IDE ä¸­æä¾›è·¯ç”±è·¯å¾„å’Œå‚æ•°çš„è‡ªåŠ¨è¡¥å…¨ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚

ç±»æ¯”ä¸€ä¸‹ï¼šå¦‚æœè¯´åŸç”Ÿçš„ UniApp è·¯ç”±æ˜¯â€œæ‰‹åŠ¨æŒ¡æ±½è½¦â€ï¼Œé‚£ä¹ˆ TypeScript å°è£…åçš„è·¯ç”±å°±æ˜¯â€œè‡ªåŠ¨æŒ¡è±ªè½¦â€ï¼Œä¸ä»…çœåŠ›ï¼Œè¿˜èƒ½é¿å…â€œç†„ç«â€ ğŸ˜ã€‚

*Tips: åœ¨å°è£…è·¯ç”±æ—¶ï¼Œä¼˜å…ˆå®šä¹‰ç±»å‹æ¥å£ï¼Œå¼ºåˆ¶çº¦æŸå‚æ•°æ ¼å¼ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯ã€‚*

---

## 3. è·¯ç”±è·³è½¬å°è£…å®æˆ˜ï¼šæ‰“é€ ç±»å‹å®‰å…¨çš„â€œå¯¼èˆªä»ªâ€ ğŸ§­

å¥½äº†ï¼Œç†è®ºè®²å®Œäº†ï¼Œæ¥ä¸‹æ¥æ˜¯é‡å¤´æˆâ€”â€”æ‰‹æŠŠæ‰‹æ•™ä½ å°è£…ä¸€ä¸ªç±»å‹å®‰å…¨çš„è·¯ç”±è·³è½¬å·¥å…·ï¼æˆ‘ä»¬å°†å®ç°ä¸€ä¸ª `Router` ç±»ï¼Œæ”¯æŒå‚æ•°æ ¡éªŒã€é¡µé¢æ ˆç®¡ç†å’Œé”™è¯¯å¤„ç†ã€‚

### 3.1 å®šä¹‰è·¯ç”±ç±»å‹

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰è·¯ç”±çš„ç±»å‹æ¥å£ï¼Œç¡®ä¿è·³è½¬å‚æ•°å’Œè·¯å¾„ç±»å‹å®‰å…¨ã€‚

```typescript
// router.types.ts
export interface RouteParams {
  [key: string]: string | number | boolean | undefined;
}

export interface RouteConfig {
  path: string;
  params?: RouteParams;
  animationType?: 'pop-in' | 'pop-out' | 'slide-in' | 'slide-out' | 'fade-in' | 'fade-out';
  animationDuration?: number;
}

export type RouteMethod = 'navigateTo' | 'redirectTo' | 'reLaunch' | 'switchTab' | 'navigateBack';

export interface RouteOptions {
  method: RouteMethod;
  config: RouteConfig;
  success?: () => void;
  fail?: (err: any) => void;
}
```

è¿™äº›æ¥å£å°±åƒæ˜¯é£èˆ¹çš„â€œå¯¼èˆªåœ°å›¾â€ï¼Œå®šä¹‰äº†è·¯ç”±çš„è·¯å¾„ã€å‚æ•°å’Œè·³è½¬æ–¹å¼ã€‚`RouteParams` æ”¯æŒåŠ¨æ€å‚æ•°ï¼Œ`RouteConfig` åŒ…å«åŠ¨ç”»é…ç½®ï¼Œ`RouteOptions` åˆ™æ•´åˆäº†æ‰€æœ‰è·³è½¬é€‰é¡¹ã€‚

*Tips: ä¸ºåŠ¨ç”»ç±»å‹å®šä¹‰æšä¸¾å€¼ï¼Œå¯ä»¥å‡å°‘ç¡¬ç¼–ç ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ã€‚*

### 3.2 å®ç° Router ç±»

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ª `Router` ç±»ï¼Œå°è£… UniApp çš„è·¯ç”± APIã€‚

```typescript
// router.ts
import { RouteOptions, RouteConfig, RouteMethod } from './router.types';

class Router {
  // é¡µé¢æ ˆæœ€å¤§é•¿åº¦
  private readonly MAX_PAGE_STACK = 10;

  // è·³è½¬æ–¹æ³•æ˜ å°„
  private readonly routeMethods: Record<RouteMethod, (url: string) => void> = {
    navigateTo: uni.navigateTo,
    redirectTo: uni.redirectTo,
    reLaunch: uni.reLaunch,
    switchTab: uni.switchTab,
    navigateBack: uni.navigateBack,
  };

  // è·³è½¬åˆ°æŒ‡å®šé¡µé¢
  public async push(options: RouteOptions): Promise<void> {
    const { method, config, success, fail } = options;
    try {
      // æ ¡éªŒé¡µé¢æ ˆ
      if (method === 'navigateTo' && this.getPageStackLength() >= this.MAX_PAGE_STACK) {
        throw new Error('é¡µé¢æ ˆå·²æ»¡ï¼Œè¯·ä½¿ç”¨ redirectTo æˆ– reLaunch');
      }

      // æ„å»º URL
      const url = this.buildUrl(config);

      // æ‰§è¡Œè·³è½¬
      await new Promise<void>((resolve, reject) => {
        this.routeMethods[method]({
          url,
          animationType: config.animationType,
          animationDuration: config.animationDuration,
          success: () => {
            success?.();
            resolve();
          },
          fail: (err) => {
            fail?.(err);
            reject(err);
          },
        });
      });
    } catch (err) {
      console.error(`[Router] è·³è½¬å¤±è´¥: ${err}`);
      throw err;
    }
  }

  // æ„å»º URL
  private buildUrl(config: RouteConfig): string {
    const { path, params } = config;
    if (!path) throw new Error('è·¯ç”±è·¯å¾„ä¸èƒ½ä¸ºç©º');

    if (!params) return path;

    const query = Object.entries(params)
      .filter(([_, value]) => value !== undefined)
      .map(([key, value]) => `${key}=${encodeURIComponent(value as string)}`)
      .join('&');

    return query ? `${path}?${query}` : path;
  }

  // è·å–é¡µé¢æ ˆé•¿åº¦
  private getPageStackLength(): number {
    return getCurrentPages().length;
  }

  // è¿”å›å¤šçº§é¡µé¢
  public async back(delta: number = 1): Promise<void> {
    if (delta < 1) throw new Error('è¿”å›å±‚çº§å¿…é¡»å¤§äº 0');

    await new Promise<void>((resolve, reject) => {
      uni.navigateBack({
        delta,
        success: () => resolve(),
        fail: (err) => reject(err),
      });
    });
  }
}

export const router = new Router();
```

è¿™ä¸ª `Router` ç±»å°±åƒä¸€ä¸ªâ€œæ™ºèƒ½å¯¼èˆªä»ªâ€ï¼Œä¸ä»…èƒ½å¸®ä½ è·³è½¬åˆ°æŒ‡å®šé¡µé¢ï¼Œè¿˜èƒ½è‡ªåŠ¨æ ¡éªŒå‚æ•°ã€å¤„ç†é¡µé¢æ ˆï¼Œç”šè‡³æ”¯æŒåŠ¨ç”»æ•ˆæœã€‚`push` æ–¹æ³•æ˜¯æ ¸å¿ƒï¼Œç»Ÿä¸€äº†æ‰€æœ‰è·³è½¬é€»è¾‘ï¼›`buildUrl` æ–¹æ³•è´Ÿè´£ç”Ÿæˆå®‰å…¨çš„ URLï¼›`back` æ–¹æ³•ç®€åŒ–äº†è¿”å›æ“ä½œã€‚

*Tips: åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®ä¸º `Router` ç±»æ·»åŠ å•ä¾‹æ¨¡å¼ï¼Œç¡®ä¿å…¨å±€åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚*

### 3.3 ä½¿ç”¨ç¤ºä¾‹

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”µå•†å°ç¨‹åºï¼ŒåŒ…å«é¦–é¡µã€å•†å“è¯¦æƒ…é¡µå’Œä¸ªäººä¸­å¿ƒã€‚æˆ‘ä»¬å¯ä»¥ç”¨ `router` å®ä¾‹æ¥å®ç°è·³è½¬ï¼š

```typescript
// pages/index/index.ts
import { router } from '../../utils/router';

export default {
  // è·³è½¬åˆ°å•†å“è¯¦æƒ…é¡µ
  async goToProductDetail(productId: number) {
    await router.push({
      method: 'navigateTo',
      config: {
        path: '/pages/product/detail',
        params: { id: productId },
        animationType: 'slide-in',
        animationDuration: 300,
      },
      success: () => console.log('è·³è½¬æˆåŠŸ'),
      fail: (err) => console.error('è·³è½¬å¤±è´¥', err),
    });
  },

  // è¿”å›ä¸Šä¸€é¡µ
  async goBack() {
    await router.back(1);
  },
};
```

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ç”¨å°è£…å¥½çš„ `router` è·³è½¬åˆ°å•†å“è¯¦æƒ…é¡µï¼Œå¹¶æ”¯æŒåŠ¨ç”»æ•ˆæœã€‚ä»£ç ç®€æ´ã€ç±»å‹å®‰å…¨ï¼Œç»´æŠ¤èµ·æ¥å°±åƒå–å¥¶èŒ¶ä¸€æ ·è½»æ¾ ğŸ§‹ã€‚

*Tips: åœ¨è·³è½¬æ—¶ï¼Œå§‹ç»ˆæä¾› `success` å’Œ `fail` å›è°ƒï¼Œä¾¿äºè°ƒè¯•å’Œé”™è¯¯å¤„ç†ã€‚*

---

## 4. è·¯ç”±æ‹¦æˆªå™¨è®¾è®¡ä¸å®ç°ï¼šç»™è·¯ç”±è£…ä¸Šâ€œå®‰æ£€é—¨â€ ğŸš¨

è·¯ç”±è·³è½¬å°è£…å¥½äº†ï¼Œä½†æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªâ€œå®‰æ£€é—¨â€æ¥æ£€æŸ¥ç”¨æˆ·çš„æƒé™ã€ç™»å½•çŠ¶æ€ç­‰ã€‚è¿™å°±æ˜¯è·¯ç”±æ‹¦æˆªå™¨çš„ä½œç”¨ã€‚æ‹¦æˆªå™¨å°±åƒæœºåœºçš„å®‰æ£€å‘˜ï¼Œå†³å®šå“ªäº›ä¹˜å®¢ï¼ˆé¡µé¢è·³è½¬ï¼‰å¯ä»¥ç™»æœºï¼Œå“ªäº›éœ€è¦é¢å¤–æ£€æŸ¥ã€‚

### 4.1 æ‹¦æˆªå™¨çš„åŸç†

è·¯ç”±æ‹¦æˆªå™¨çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šåœ¨è·¯ç”±è·³è½¬æ‰§è¡Œå‰ï¼Œæ’å…¥ä¸€æ®µé€»è¾‘ï¼ˆæ‹¦æˆªå™¨ï¼‰ï¼Œæ ¹æ®æ¡ä»¶å†³å®šæ˜¯å¦å…è®¸è·³è½¬ã€‚æ‹¦æˆªå™¨å¯ä»¥å¤„ç†ä»¥ä¸‹åœºæ™¯ï¼š

- **ç™»å½•æ ¡éªŒ**ï¼šæœªç™»å½•ç”¨æˆ·è·³è½¬åˆ°ç™»å½•é¡µã€‚
- **æƒé™æ§åˆ¶**ï¼šé™åˆ¶æŸäº›é¡µé¢ä»…ç®¡ç†å‘˜å¯è®¿é—®ã€‚
- **å‚æ•°æ ¡éªŒ**ï¼šç¡®ä¿è·³è½¬å‚æ•°ç¬¦åˆè¦æ±‚ã€‚
- **åŸ‹ç‚¹ç»Ÿè®¡**ï¼šè®°å½•æ¯æ¬¡è·³è½¬çš„è¡Œä¸ºæ•°æ®ã€‚

ç±»æ¯”ä¸€ä¸‹ï¼šæ‹¦æˆªå™¨å°±åƒæ˜¯ä½ å®¶é—¨å£çš„æ™ºèƒ½é—¨é”ï¼Œåªæœ‰è¾“å…¥æ­£ç¡®å¯†ç ï¼ˆæ»¡è¶³æ¡ä»¶ï¼‰æ‰èƒ½å¼€é—¨ï¼Œå¦åˆ™å°±å¾—ä¹–ä¹–å›å» ğŸ˜œã€‚

### 4.2 å®ç°è·¯ç”±æ‹¦æˆªå™¨

æˆ‘ä»¬ä¸º `Router` ç±»æ·»åŠ æ‹¦æˆªå™¨æ”¯æŒï¼Œå…è®¸å¼€å‘è€…æ³¨å†Œå¤šä¸ªæ‹¦æˆªå™¨ã€‚

```typescript
// router.interceptor.ts
import { RouteOptions, RouteConfig } from './router.types';

interface Interceptor {
  id: string;
  handler: (options: RouteOptions) => Promise<boolean | RouteConfig>;
}

class Router {
  private interceptors: Interceptor[] = [];

  // æ³¨å†Œæ‹¦æˆªå™¨
  public addInterceptor(id: string, handler: Interceptor['handler']) {
    this.interceptors.push({ id, handler });
  }

  // ç§»é™¤æ‹¦æˆªå™¨
  public removeInterceptor(id: string) {
    this.interceptors = this.interceptors.filter((item) => item.id !== id);
  }

  // æ‰§è¡Œæ‹¦æˆªå™¨
  private async runInterceptors(options: RouteOptions): Promise<RouteOptions> {
    let currentOptions = { ...options };

    for (const interceptor of this.interceptors) {
      const result = await interceptor.handler(currentOptions);
      if (result === false) {
        throw new Error(`æ‹¦æˆªå™¨ ${interceptor.id} é˜»æ­¢äº†è·³è½¬`);
      }
      if (typeof result === 'object') {
        currentOptions = {
          ...currentOptions,
          config: { ...currentOptions.config, ...result },
        };
      }
    }

    return currentOptions;
  }

  // æ›´æ–° push æ–¹æ³•ï¼ŒåŠ å…¥æ‹¦æˆªå™¨é€»è¾‘
  public async push(options: RouteOptions): Promise<void> {
    const finalOptions = await this.runInterceptors(options);
    const { method, config, success, fail } = finalOptions;

    try {
      if (method === 'navigateTo' && this.getPageStackLength() >= this.MAX_PAGE_STACK) {
        throw new Error('é¡µé¢æ ˆå·²æ»¡ï¼Œè¯·ä½¿ç”¨ redirectTo æˆ– reLaunch');
      }

      const url = this.buildUrl(config);

      await new Promise<void>((resolve, reject) => {
        this.routeMethods[method]({
          url,
          animationType: config.animationType,
          animationDuration: config.animationDuration,
          success: () => {
            success?.();
            resolve();
          },
          fail: (err) => {
            fail?.(err);
            reject(err);
          },
        });
      });
    } catch (err) {
      console.error(`[Router] è·³è½¬å¤±è´¥: ${err}`);
      throw err;
    }
  }

  // ... å…¶ä»–æ–¹æ³•ä¿æŒä¸å˜
}

export const router = new Router();
```

è¿™ä¸ªæ‹¦æˆªå™¨ä½“ç³»å…è®¸åŠ¨æ€æ·»åŠ å’Œç§»é™¤æ‹¦æˆªå™¨ï¼Œ`runInterceptors` æ–¹æ³•æŒ‰é¡ºåºæ‰§è¡Œæ‰€æœ‰æ‹¦æˆªå™¨ã€‚æ‹¦æˆªå™¨å¯ä»¥è¿”å›ï¼š

- `true`ï¼šå…è®¸è·³è½¬ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ã€‚
- `false`ï¼šé˜»æ­¢è·³è½¬ï¼ŒæŠ›å‡ºé”™è¯¯ã€‚
- `RouteConfig`ï¼šä¿®æ”¹è·³è½¬é…ç½®ï¼Œæ¯”å¦‚é‡å®šå‘åˆ°å…¶ä»–é¡µé¢ã€‚

*Tips: æ‹¦æˆªå™¨æ‰§è¡Œé¡ºåºå¾ˆé‡è¦ï¼Œå»ºè®®ä¸ºæ¯ä¸ªæ‹¦æˆªå™¨è®¾ç½®å”¯ä¸€çš„ `id`ï¼Œä¾¿äºè°ƒè¯•å’Œç»´æŠ¤ã€‚*

### 4.3 æ‹¦æˆªå™¨ä½¿ç”¨ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç™»å½•æ ¡éªŒæ‹¦æˆªå™¨çš„ç¤ºä¾‹ï¼š

```typescript
// auth.interceptor.ts
import { router } from './router';
import { RouteOptions } from './router.types';

// å‡è®¾æœ‰ä¸€ä¸ªå…¨å±€çŠ¶æ€ç®¡ç†
const store = {
  isLoggedIn: () => false, // æ¨¡æ‹Ÿæœªç™»å½•
};

// ç™»å½•æ ¡éªŒæ‹¦æˆªå™¨
router.addInterceptor('auth', async (options: RouteOptions) => {
  const { config } = options;

  // æ’é™¤ç™»å½•é¡µå’Œå…¬å¼€é¡µé¢
  const publicPages = ['/pages/login/index', '/pages/index/index'];
  if (publicPages.includes(config.path)) {
    return true;
  }

  // æ£€æŸ¥ç™»å½•çŠ¶æ€
  if (!store.isLoggedIn()) {
    console.warn('[AuthInterceptor] æœªç™»å½•ï¼Œè·³è½¬åˆ°ç™»å½•é¡µ');
    return {
      path: '/pages/login/index',
      params: { redirect: config.path },
    };
  }

  return true;
});
```

è¿™ä¸ªæ‹¦æˆªå™¨ä¼šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œå¦‚æœæœªç™»å½•ä¸”ç›®æ ‡é¡µé¢ä¸æ˜¯å…¬å¼€é¡µé¢ï¼Œåˆ™é‡å®šå‘åˆ°ç™»å½•é¡µï¼Œå¹¶å°†åŸç›®æ ‡é¡µé¢ä½œä¸ºå‚æ•°ä¼ é€’ã€‚

*Tips: åœ¨æ‹¦æˆªå™¨ä¸­è®°å½•è·³è½¬æ—¥å¿—ï¼Œä¾¿äºè¿½è¸ªç”¨æˆ·è¡Œä¸ºå’Œè°ƒè¯•é—®é¢˜ã€‚*

---

## 5. æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µï¼šè®©è·¯ç”±é£å¾—æ›´å¿« ğŸš€

å°è£…å¥½è·¯ç”±å’Œæ‹¦æˆªå™¨åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å…³æ³¨æ€§èƒ½ä¼˜åŒ–å’Œå¼€å‘ä½“éªŒã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å®ç”¨æŠ€å·§ï¼Œå¸®ä½ æŠŠè·¯ç”±ç®¡ç†ä¼˜åŒ–åˆ°æè‡´ã€‚

### 5.1 é˜²æŠ–ä¸èŠ‚æµ

é¢‘ç¹çš„è·¯ç”±è·³è½¬å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œæ¯”å¦‚ç”¨æˆ·å¿«é€Ÿç‚¹å‡»æŒ‰é’®ã€‚æˆ‘ä»¬å¯ä»¥ä¸º `Router` ç±»æ·»åŠ é˜²æŠ–åŠŸèƒ½ï¼š

```typescript
// router.debounce.ts
class Router {
  private debounceTimer: number | null = null;

  public async push(options: RouteOptions, debounceTime: number = 300): Promise<void> {
    if (this.debounceTimer) {
      clearTimeout(this.debounceTimer);
    }

    return new Promise((resolve, reject) => {
      this.debounceTimer = setTimeout(async () => {
        try {
          const finalOptions = await this.runInterceptors(options);
          // ... è·³è½¬é€»è¾‘
          resolve();
        } catch (err) {
          reject(err);
        }
      }, debounceTime);
    });
  }
}
```

*Tips: é˜²æŠ–æ—¶é—´ä¸å®œè¿‡é•¿ï¼Œ300ms é€šå¸¸æ˜¯ä¸ªä¸é”™çš„å¹³è¡¡ç‚¹ï¼Œæ—¢èƒ½é˜²æ­¢é‡å¤è·³è½¬ï¼Œåˆä¸å½±å“ç”¨æˆ·ä½“éªŒã€‚*

### 5.2 è·¯ç”±ç¼“å­˜

å¯¹äºç»å¸¸è®¿é—®çš„é¡µé¢ï¼Œå¯ä»¥ç¼“å­˜é¡µé¢æ•°æ®ï¼Œå‡å°‘é‡å¤è¯·æ±‚ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è·³è½¬æ—¶ä¼ é€’ç¼“å­˜æ ‡è¯†ï¼š

```typescript
// router.cache.ts
class Router {
  private cache: Map<string, any> = new Map();

  public async push(options: RouteOptions & { cacheKey?: string }): Promise<void> {
    const { cacheKey } = options;
    if (cacheKey && this.cache.has(cacheKey)) {
      options.config.params = {
        ...options.config.params,
        cached: true,
      };
    }

    const finalOptions = await this.runInterceptors(options);
    // ... è·³è½¬é€»è¾‘

    if (cacheKey) {
      this.cache.set(cacheKey, { timestamp: Date.now(), data: options });
    }
  }
}
```

*Tips: å®šæœŸæ¸…ç†ç¼“å­˜ï¼Œé¿å…å†…å­˜å ç”¨è¿‡é«˜ã€‚å¯ä»¥ç”¨æ—¶é—´æˆ³åˆ¤æ–­ç¼“å­˜æ˜¯å¦è¿‡æœŸã€‚*

### 5.3 æ‡’åŠ è½½é¡µé¢

å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¯ä»¥é€šè¿‡åŠ¨æ€å¯¼å…¥å®ç°é¡µé¢æ‡’åŠ è½½ï¼Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´ï¼š

```typescript
// router.lazy.ts
class Router {
  public async push(options: RouteOptions & { lazy?: boolean }): Promise<void> {
    if (options.lazy) {
      const { path } = options.config;
      const component = await import(`@/pages${path}/index.vue`);
      // åŠ¨æ€æ³¨å†Œé¡µé¢
      uni.addInterceptor('navigateTo', {
        success: () => {
          // æ¸²æŸ“åŠ¨æ€ç»„ä»¶
        },
      });
    }
    // ... è·³è½¬é€»è¾‘
  }
}
```

*Tips: æ‡’åŠ è½½é€‚åˆéæ ¸å¿ƒé¡µé¢ï¼Œä½†è¦ç¡®ä¿åŠ è½½æ—¶çš„è¿‡æ¸¡åŠ¨ç”»è‡ªç„¶ï¼Œé¿å…ç”¨æˆ·æ„ŸçŸ¥åˆ°å¡é¡¿ã€‚*

---

## 6. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆï¼šé¿å‘æŒ‡å— ğŸ•³ï¸

åœ¨ UniApp è·¯ç”±å¼€å‘ä¸­ï¼Œéš¾å…ä¼šé‡åˆ°ä¸€äº›â€œå‘â€ã€‚ä»¥ä¸‹æ˜¯å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼š

| é—®é¢˜                              | åŸå› åˆ†æ                                              | è§£å†³æ–¹æ¡ˆ                                                                 |
|-----------------------------------|-------------------------------------------------------|--------------------------------------------------------------------------|
| é¡µé¢æ ˆæº¢å‡º                        | é¢‘ç¹è°ƒç”¨ `navigateTo` å¯¼è‡´é¡µé¢æ ˆè¶…è¿‡ä¸Šé™               | ä½¿ç”¨ `redirectTo` æˆ– `reLaunch` æ›¿æ¢éƒ¨åˆ†è·³è½¬ï¼›æ£€æŸ¥é¡µé¢æ ˆé•¿åº¦              |
| å‚æ•°ä¸¢å¤±                          | URL å‚æ•°æœªæ­£ç¡®ç¼–ç æˆ–è§£æ                              | ä½¿ç”¨ `encodeURIComponent` ç¼–ç å‚æ•°ï¼›å°è£… `buildUrl` æ–¹æ³•ç»Ÿä¸€å¤„ç†          |
| æ‹¦æˆªå™¨é€»è¾‘å†²çª                    | å¤šä¸ªæ‹¦æˆªå™¨å¯¹åŒä¸€è·³è½¬çš„å¤„ç†ä¸ä¸€è‡´                      | ä¸ºæ‹¦æˆªå™¨è®¾ç½®ä¼˜å…ˆçº§ï¼›è®°å½•æ‹¦æˆªå™¨æ‰§è¡Œæ—¥å¿—ï¼Œä¾¿äºè°ƒè¯•                         |
| åŠ¨ç”»æ•ˆæœä¸ç”Ÿæ•ˆ                    | éƒ¨åˆ†å¹³å°ä¸æ”¯æŒç‰¹å®šåŠ¨ç”»ç±»å‹                             | æ£€æŸ¥å¹³å°å…¼å®¹æ€§ï¼Œä½¿ç”¨é€šç”¨åŠ¨ç”»ç±»å‹ï¼ˆå¦‚ `slide-in`ï¼‰                         |
| è¿”å›å¤šçº§é¡µé¢å¤±è´¥                  | `delta` å€¼è®¡ç®—é”™è¯¯æˆ–é¡µé¢æ ˆä¸è¶³                        | ä½¿ç”¨ `getCurrentPages()` åŠ¨æ€è®¡ç®— `delta`ï¼›æä¾›é»˜è®¤è¿”å›é€»è¾‘               |

*Tips: åœ¨å¼€å‘ä¸­ï¼Œå…»æˆå†™å•å…ƒæµ‹è¯•çš„ä¹ æƒ¯ï¼Œå°¤å…¶æ˜¯é’ˆå¯¹æ‹¦æˆªå™¨å’Œé¡µé¢æ ˆç®¡ç†çš„é€»è¾‘ï¼Œèƒ½å¤§å¤§å‡å°‘çº¿ä¸Š bugã€‚*

---

## 7. æ‰©å±•ï¼šä¸ Vue Router çš„å¯¹æ¯” ğŸ¤”

UniApp çš„è·¯ç”±æœºåˆ¶è™½ç„¶å¼ºå¤§ï¼Œä½†ä¸ Vue Router ç›¸æ¯”æœ‰ä¸€äº›å·®å¼‚ã€‚ä»¥ä¸‹æ˜¯ä¸¤è€…çš„å¯¹æ¯”ï¼š

| ç‰¹æ€§                 | UniApp è·¯ç”±                              | Vue Router                              |
|----------------------|-----------------------------------------|-----------------------------------------|
| è·¯ç”±ç±»å‹             | åŸºäºé¡µé¢æ ˆçš„å¯¼èˆª                         | åŸºäºç»„ä»¶çš„è·¯ç”±                           |
| è·³è½¬æ–¹å¼             | API è°ƒç”¨ï¼ˆå¦‚ `navigateTo`ï¼‰              | å£°æ˜å¼ï¼ˆå¦‚ `<router-link>`ï¼‰æˆ–ç¼–ç¨‹å¼      |
| æ‹¦æˆªå™¨æ”¯æŒ           | éœ€æ‰‹åŠ¨å®ç°                              | å†…ç½®å¯¼èˆªå®ˆå«ï¼ˆ`beforeEach` ç­‰ï¼‰          |
| åŠ¨æ€è·¯ç”±             | é€šè¿‡å‚æ•°æ‹¼æ¥                            | åŸç”Ÿæ”¯æŒåŠ¨æ€è·¯ç”±ï¼ˆå¦‚ `:id`ï¼‰             |
| é€‚ç”¨åœºæ™¯             | å°ç¨‹åºã€H5ã€App è·¨å¹³å°å¼€å‘               | å•é¡µåº”ç”¨ï¼ˆSPAï¼‰                         |

ç±»æ¯”ä¸€ä¸‹ï¼šUniApp è·¯ç”±åƒæ˜¯â€œå‡ºç§Ÿè½¦â€ï¼Œç‚¹åˆ°ç‚¹ç›´è¾¾ï¼Œä½†çµæ´»æ€§ç¨é€Šï¼›Vue Router åˆ™æ˜¯â€œåœ°é“ç³»ç»Ÿâ€ï¼Œçº¿è·¯å¤æ‚ä½†æ”¯æŒåŠ¨æ€è°ƒåº¦ã€‚ä¸¤è€…å„æœ‰åƒç§‹ï¼Œç†è§£å®ƒä»¬çš„å·®å¼‚èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°è®¾è®¡è·¯ç”±ä½“ç³»ã€‚

*Tips: å¦‚æœä½ çš„é¡¹ç›®åŒæ—¶æ¶‰åŠ H5 å’Œå°ç¨‹åºï¼Œå¯ä»¥ç”¨æ¡ä»¶ç¼–è¯‘ï¼ˆ`#ifdef`ï¼‰åŒºåˆ†è·¯ç”±é€»è¾‘ï¼Œæå‡ä»£ç å¤ç”¨ç‡ã€‚*

---

## 8. æ€»ç»“ä¸å±•æœ›ï¼šç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š ğŸš€

é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ä» UniApp è·¯ç”±çš„åŸºç¡€åŸç†å‡ºå‘ï¼Œé€æ­¥å°è£…äº†ä¸€ä¸ªç±»å‹å®‰å…¨çš„ `Router` ç±»ï¼Œå®ç°äº†è·¯ç”±è·³è½¬ã€æ‹¦æˆªå™¨å’Œæ€§èƒ½ä¼˜åŒ–ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒæ”¶è·ï¼š

- **ç±»å‹å®‰å…¨**ï¼šTypeScript è®©è·¯ç”±å‚æ•°å’Œé…ç½®æ›´åŠ å¯é ã€‚
- **æ¨¡å—åŒ–è®¾è®¡**ï¼š`Router` ç±»ç»Ÿä¸€äº†è·³è½¬é€»è¾‘ï¼Œæ‹¦æˆªå™¨æä¾›äº†çµæ´»çš„æ‰©å±•èƒ½åŠ›ã€‚
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé˜²æŠ–ã€ç¼“å­˜å’Œæ‡’åŠ è½½è®©è·¯ç”±ç®¡ç†æ›´é«˜æ•ˆã€‚
- **æœ€ä½³å®è·µ**ï¼šé€šè¿‡è¡¨æ ¼ã€ç¤ºä¾‹å’Œ Tipsï¼Œè§£å†³äº†å¸¸è§ç—›ç‚¹ã€‚

æœªæ¥ï¼Œéšç€ UniApp çš„å‘å±•ï¼Œè·¯ç”±ç®¡ç†å¯èƒ½ä¼šè¿›ä¸€æ­¥å‘ Vue Router é æ‹¢ï¼Œæ¯”å¦‚æ”¯æŒå£°æ˜å¼è·¯ç”±æˆ–æ›´å¼ºå¤§çš„åŠ¨æ€è·¯ç”±ã€‚å¼€å‘è€…ä¹Ÿå¯ä»¥æ¢ç´¢å°†æœ¬åœ°çš„è·¯ç”±å°è£…ä¸äº‘å¼€å‘ç»“åˆï¼Œå®ç°æ›´æ™ºèƒ½çš„å¯¼èˆªé€»è¾‘ã€‚

å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½æˆä¸ºä½  UniApp å¼€å‘è·¯ä¸Šçš„â€œå¯¼èˆªæ˜Ÿå›¾â€ ğŸŒŒï¼Œè®©ä½ åœ¨ä»£ç çš„å®‡å®™ä¸­è‡ªç”±ç¿±ç¿”ï¼å¦‚æœæœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºï¼Œæˆ‘ä»¬ä¸€èµ·æŠŠä»£ç å†™å¾—æ›´ä¼˜é›…ã€æ›´é«˜æ•ˆï¼ğŸ˜

*Tips: æŒç»­å…³æ³¨ UniApp å®˜æ–¹æ–‡æ¡£å’Œç¤¾åŒºåŠ¨æ€ï¼Œç¬¬ä¸€æ—¶é—´è·å–æ–°ç‰¹æ€§å’Œæœ€ä½³å®è·µï¼*
```

---
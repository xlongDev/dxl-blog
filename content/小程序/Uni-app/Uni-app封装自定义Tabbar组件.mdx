---
title: "Uni-app å°è£…è‡ªå®šä¹‰ Tabbar ç»„ä»¶ï¼šä»æŠ€æœ¯åˆ°å“²å­¦çš„ä¼˜é›…ä¹‹æ—…"
date: "2023-02-05"
description: "æ·±å…¥æ¢è®¨ Uni-app ä¸­è‡ªå®šä¹‰ Tabbar ç»„ä»¶çš„å°è£…æ–¹æ³•ï¼Œç»“åˆåŸç†ã€å®è·µä¸å“²å­¦æ€è€ƒï¼Œä¸ºå‰ç«¯å¼€å‘è€…æä¾›å…¨é¢æŒ‡å—ã€‚"
keywords: "Uni-app, Tabbar, è‡ªå®šä¹‰ç»„ä»¶, å‰ç«¯å¼€å‘, å°ç¨‹åºå¼€å‘, è·¨å¹³å°å¼€å‘, ç»„ä»¶å°è£…, æœ€ä½³å®è·µ"
author: "æ™“é¾™"
image: "/images/hero/uniapp-tabbar.jpg"
tags: ["Uni-app", "å‰ç«¯å¼€å‘", "ç»„ä»¶å°è£…", "å°ç¨‹åº"]
category: "å°ç¨‹åº"
---

> â€œå¥½çš„ä»£ç å°±åƒä¸€é¦–è¯—ï¼Œæ—¢æœ‰é€»è¾‘çš„ä¸¥è°¨ï¼Œåˆæœ‰è‰ºæœ¯çš„çµåŠ¨ã€‚â€ â€”â€” ä½šå

åœ¨ Uni-app çš„è·¨å¹³å°å¼€å‘ä¸­ï¼ŒTabbar ä½œä¸ºåº”ç”¨çš„â€œå¯¼èˆªèˆµæ‰‹â€ï¼Œæ‰¿è½½ç€ç”¨æˆ·äº¤äº’çš„æ ¸å¿ƒä½“éªŒã€‚ç„¶è€Œï¼Œå®˜æ–¹ Tabbar çš„å±€é™æ€§å¸¸å¸¸è®©å¼€å‘è€…æ„Ÿåˆ°æŸæ‰‹æ— ç­–ï¼šæ ·å¼å•ä¸€ã€äº¤äº’å—é™ã€åŠ¨æ€åˆ‡æ¢å›°éš¾â€¦â€¦äºæ˜¯ï¼Œè‡ªå®šä¹‰ Tabbar ç»„ä»¶æˆä¸ºäº†å‰ç«¯å¼€å‘è€…çš„å¿…ä¿®è¯¾ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»é›¶åˆ°ä¸€ï¼Œæ·±å…¥æ¢ç´¢ Uni-app ä¸­è‡ªå®šä¹‰ Tabbar ç»„ä»¶çš„å°è£…ä¹‹é“ï¼Œä¸ä»…åœç•™åœ¨æŠ€æœ¯å±‚é¢ï¼Œè¿˜å°†ä¸Šå‡åˆ°è®¾è®¡å“²å­¦ä¸äººç”Ÿæ€è€ƒçš„é«˜åº¦ã€‚ğŸŒŸ

è¿™ä¸ä»…æ˜¯ä¸€ç¯‡æŠ€æœ¯åšå®¢ï¼Œæ›´æ˜¯ä¸€åœºå…³äº**ä¼˜é›…ä»£ç **ä¸**å¼€å‘è€…å¿ƒæµ**çš„æ—…ç¨‹ã€‚æ— è®ºä½ æ˜¯åˆšå…¥é—¨çš„èœé¸Ÿï¼Œè¿˜æ˜¯èº«ç»ç™¾æˆ˜çš„è€å…µï¼Œè¿™ç¯‡æ–‡ç« éƒ½å°†ä¸ºä½ å¸¦æ¥å¯å‘ã€‚è®©æˆ‘ä»¬ä¸€èµ·ï¼Œå†™å‡ºæ—¢å®ç”¨åˆè¯—æ„çš„ä»£ç å§ï¼ğŸš€

---

## ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰ Tabbarï¼Ÿ

Uni-app çš„å®˜æ–¹ Tabbar è™½ç„¶å¼€ç®±å³ç”¨ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­å¸¸å¸¸é‡åˆ°ä»¥ä¸‹ç—›ç‚¹ï¼š
1. **æ ·å¼å±€é™**ï¼šå®˜æ–¹ Tabbar çš„æ ·å¼è°ƒæ•´å—é™ï¼Œæ— æ³•æ»¡è¶³å¤æ‚çš„è®¾è®¡éœ€æ±‚ï¼Œæ¯”å¦‚åŠ¨æ€å›¾æ ‡ã€æ¸å˜èƒŒæ™¯ç­‰ã€‚
2. **äº¤äº’å•ä¸€**ï¼šæ— æ³•å®ç°å¤æ‚çš„äº¤äº’é€»è¾‘ï¼Œå¦‚æ»‘åŠ¨åˆ‡æ¢ã€é•¿æŒ‰è§¦å‘ã€åŠ¨æ€éšè—ç­‰ã€‚
3. **åŠ¨æ€æ€§ä¸è¶³**ï¼šæ— æ³•æ ¹æ®ç”¨æˆ·è§’è‰²æˆ–ä¸šåŠ¡é€»è¾‘åŠ¨æ€è°ƒæ•´ Tabbar çš„å†…å®¹ã€‚
4. **å¹³å°å·®å¼‚**ï¼šåœ¨å°ç¨‹åºã€H5 å’Œ App ç«¯ï¼ŒTabbar çš„è¡¨ç°å¯èƒ½ä¸ä¸€è‡´ï¼Œéœ€ç»Ÿä¸€ä½“éªŒã€‚

è‡ªå®šä¹‰ Tabbar ä¸ä»…èƒ½è§£å†³è¿™äº›é—®é¢˜ï¼Œè¿˜èƒ½è®©ä½ çš„åº”ç”¨æ›´å…·ä¸ªæ€§ä¸çµé­‚ã€‚æ­£å¦‚å“²å­¦å®¶èµ«æ‹‰å…‹åˆ©ç‰¹æ‰€è¯´ï¼šâ€œäººä¸èƒ½ä¸¤æ¬¡è¸è¿›åŒä¸€æ¡æ²³æµã€‚â€ åŒæ ·çš„ï¼Œç”¨æˆ·ä½“éªŒä¹Ÿéœ€è¦ä¸æ–­æµåŠ¨ä¸åˆ›æ–°ã€‚ä¸€ä¸ªç²¾å¿ƒå°è£…çš„ Tabbar ç»„ä»¶ï¼Œå°±åƒä¸€æ¡æµåŠ¨çš„æ²³æµï¼Œæ‰¿è½½ç€ç”¨æˆ·çš„æ¯ä¸€æ¬¡äº¤äº’ï¼Œä¼˜é›…è€ŒçµåŠ¨ã€‚ğŸŒŠ

---

## æ€ç»´é“¾ï¼šä»éœ€æ±‚åˆ°å®ç°

åœ¨åŠ¨æ‰‹å†™ä»£ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¢³ç†ä¸€ä¸‹å°è£…è‡ªå®šä¹‰ Tabbar çš„å®Œæ•´æ€ç»´é“¾ã€‚è¿™ä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬ç†æ¸…æ€è·¯ï¼Œè¿˜èƒ½è®©ä»£ç æ›´æœ‰æ¡ç†ï¼Œå°±åƒåœ¨ç”»å¸ƒä¸Šå‹¾å‹’å‡ºä¸€å¹…æ¸…æ™°çš„è“å›¾ã€‚ğŸ¨

1. **æ˜ç¡®éœ€æ±‚**ï¼šåˆ†æé¡¹ç›®ä¸­ Tabbar çš„åŠŸèƒ½éœ€æ±‚ï¼Œæ¯”å¦‚æ”¯æŒåŠ¨æ€åˆ‡æ¢ã€è‡ªå®šä¹‰å›¾æ ‡ã€åŠ¨ç”»æ•ˆæœç­‰ã€‚
2. **è®¾è®¡ç»„ä»¶ç»“æ„**ï¼šç¡®å®š Tabbar çš„ç»„æˆï¼ˆå›¾æ ‡ã€æ–‡å­—ã€å¾½æ ‡ç­‰ï¼‰ä¸å¸ƒå±€æ–¹å¼ï¼ˆFlexã€Gridï¼‰ã€‚
3. **è€ƒè™‘è·¨å¹³å°å…¼å®¹æ€§**ï¼šç¡®ä¿ç»„ä»¶åœ¨å°ç¨‹åºã€H5 å’Œ App ç«¯çš„è¡¨ç°ä¸€è‡´ã€‚
4. **å°è£…é€»è¾‘**ï¼šå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œå¦‚ç‚¹å‡»åˆ‡æ¢ã€åŠ¨æ€æ¸²æŸ“ã€çŠ¶æ€ç®¡ç†ç­‰ã€‚
5. **ä¼˜åŒ–äº¤äº’**ï¼šæ·»åŠ åŠ¨ç”»ã€è§¦æ§åé¦ˆç­‰ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚
6. **æµ‹è¯•ä¸è¿­ä»£**ï¼šåœ¨å¤šç«¯æµ‹è¯•ï¼Œç¡®ä¿ç¨³å®šæ€§ä¸æ€§èƒ½ã€‚
7. **æ€»ç»“æœ€ä½³å®è·µ**ï¼šæç‚¼å¯å¤ç”¨çš„ç»éªŒï¼Œåˆ†äº«ç»™å›¢é˜Ÿæˆ–ç¤¾åŒºã€‚

è¿™ä¸ªæ€ç»´é“¾å°±åƒä¸€åœºæ—…è¡Œï¼šä»èµ·ç‚¹ï¼ˆéœ€æ±‚ï¼‰åˆ°ç»ˆç‚¹ï¼ˆä¼˜é›…çš„ç»„ä»¶ï¼‰ï¼Œæ¯ä¸€æ­¥éƒ½éœ€è¦æ·±æ€ç†Ÿè™‘ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ²¿ç€è¿™æ¡è·¯å¾„ï¼Œä¸€æ­¥æ­¥å®ç°è‡ªå®šä¹‰ Tabbarã€‚ğŸ›¤ï¸

---

## æ ¸å¿ƒå®ç°ï¼šå°è£…è‡ªå®šä¹‰ Tabbar ç»„ä»¶

### 1. ç»„ä»¶ç»“æ„è®¾è®¡

ä¸€ä¸ªå¥½çš„ Tabbar ç»„ä»¶åº”è¯¥å…·å¤‡ä»¥ä¸‹å…ƒç´ ï¼š
- **å›¾æ ‡**ï¼šæ”¯æŒé™æ€å›¾ç‰‡ã€SVG æˆ–åŠ¨æ€å›¾æ ‡ã€‚
- **æ–‡å­—**ï¼šæ”¯æŒå¤šè¯­è¨€ä¸åŠ¨æ€å˜åŒ–ã€‚
- **å¾½æ ‡**ï¼šå¦‚æœªè¯»æ¶ˆæ¯æ•°ã€çº¢ç‚¹æç¤ºç­‰ã€‚
- **äº¤äº’åŒºåŸŸ**ï¼šæ”¯æŒç‚¹å‡»ã€é•¿æŒ‰ã€æ»‘åŠ¨ç­‰æ“ä½œã€‚
- **åŠ¨ç”»æ•ˆæœ**ï¼šå¦‚åˆ‡æ¢æ—¶çš„æ¸å˜ã€ç¼©æ”¾ç­‰ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ Flex å¸ƒå±€æ¥å®ç° Tabbar çš„æ¨ªå‘æ’åˆ—ï¼Œç¡®ä¿åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹è‡ªé€‚åº”ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç»„ä»¶ç»“æ„ç¤ºæ„å›¾ï¼š

| å…ƒç´        | æè¿°                              | ç¤ºä¾‹                |
|------------|-----------------------------------|---------------------|
| å›¾æ ‡       | æ˜¾ç¤ºå¯¼èˆªå›¾æ ‡ï¼Œæ”¯æŒåŠ¨æ€åˆ‡æ¢        | `<image>` æˆ– SVG    |
| æ–‡å­—       | å¯¼èˆªæ ‡é¢˜ï¼Œæ”¯æŒå¤šè¯­è¨€              | `<text>`            |
| å¾½æ ‡       | æ˜¾ç¤ºæœªè¯»æ¶ˆæ¯æ•°æˆ–çº¢ç‚¹              | `<view>` + CSS      |
| å®¹å™¨       | åŒ…è£¹å•ä¸ª Tab é¡¹ï¼Œæ”¯æŒç‚¹å‡»äº‹ä»¶      | `<view>` + Flex     |

*Tipsï¼šä½¿ç”¨ Flex å¸ƒå±€æ—¶ï¼Œè®°å¾—è®¾ç½® `box-sizing: border-box` ä»¥é¿å…è¾¹è·è®¡ç®—é”™è¯¯ã€‚*

### 2. ä»£ç å®ç°

è®©æˆ‘ä»¬ä»ä¸€ä¸ªåŸºç¡€çš„ Tabbar ç»„ä»¶å¼€å§‹ï¼Œé€æ­¥æ‰©å±•åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ç»„ä»¶çš„æ ¸å¿ƒä»£ç ï¼š

```vue
<template>
  <view class="custom-tabbar">
    <view
      v-for="(item, index) in tabbarList"
      :key="index"
      class="tabbar-item"
      :class="{ active: currentIndex === index }"
      @tap="switchTab(index, item.pagePath)"
    >
      <image
        :src="currentIndex === index ? item.selectedIconPath : item.iconPath"
        class="tabbar-icon"
      />
      <text class="tabbar-text">{{ item.text }}</text>
      <view v-if="item.badge" class="tabbar-badge">{{ item.badge }}</view>
    </view>
  </view>
</template>

<script>
export default {
  props: {
    tabbarList: {
      type: Array,
      default: () => [
        {
          pagePath: "/pages/index/index",
          text: "é¦–é¡µ",
          iconPath: "/static/tabbar/home.png",
          selectedIconPath: "/static/tabbar/home_active.png",
          badge: 0,
        },
        {
          pagePath: "/pages/profile/profile",
          text: "æˆ‘çš„",
          iconPath: "/static/tabbar/profile.png",
          selectedIconPath: "/static/tabbar/profile_active.png",
          badge: 3,
        },
      ],
    },
    currentIndex: {
      type: Number,
      default: 0,
    },
  },
  methods: {
    switchTab(index, path) {
      this.$emit("update:currentIndex", index);
      uni.switchTab({ url: path });
    },
  },
};
</script>

<style scoped>
.custom-tabbar {
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 100rpx;
  background-color: #ffffff;
  box-shadow: 0 -2rpx 4rpx rgba(0, 0, 0, 0.1);
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
}

.tabbar-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  transition: all 0.3s ease;
}

.tabbar-item.active {
  color: #007aff;
  transform: scale(1.1);
}

.tabbar-icon {
  width: 48rpx;
  height: 48rpx;
}

.tabbar-text {
  font-size: 24rpx;
  margin-top: 8rpx;
}

.tabbar-badge {
  position: absolute;
  top: -10rpx;
  right: -10rpx;
  background-color: #ff4d4f;
  color: #ffffff;
  border-radius: 50%;
  padding: 4rpx 8rpx;
  font-size: 20rpx;
}
</style>
```

è¿™ä¸ªç»„ä»¶å®ç°äº†åŸºæœ¬çš„ Tabbar åŠŸèƒ½ï¼Œæ”¯æŒåŠ¨æ€å›¾æ ‡ã€æ–‡å­—ã€å¾½æ ‡å’Œç‚¹å‡»åˆ‡æ¢ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€æ­¥æ‰©å±•å®ƒçš„åŠŸèƒ½ã€‚

*Tipsï¼šä¸ºå›¾æ ‡æ·»åŠ  `transition` å±æ€§ï¼Œå¯ä»¥è®©åˆ‡æ¢æ—¶çš„åŠ¨ç”»æ›´ä¸æ»‘ã€‚*

### 3. åŠ¨æ€æ¸²æŸ“ä¸çŠ¶æ€ç®¡ç†

åœ¨å®é™…é¡¹ç›®ä¸­ï¼ŒTabbar çš„å†…å®¹å¯èƒ½éœ€è¦æ ¹æ®ç”¨æˆ·è§’è‰²æˆ–ä¸šåŠ¡é€»è¾‘åŠ¨æ€å˜åŒ–ã€‚ä¾‹å¦‚ï¼š
- **ç®¡ç†å‘˜**ï¼šæ˜¾ç¤ºâ€œç®¡ç†åå°â€é€‰é¡¹ã€‚
- **æ™®é€šç”¨æˆ·**ï¼šæ˜¾ç¤ºâ€œä¸ªäººä¸­å¿ƒâ€é€‰é¡¹ã€‚
- **æœªç™»å½•ç”¨æˆ·**ï¼šéšè—éƒ¨åˆ† Tab é¡¹ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ Vuex æˆ– Pinia ç®¡ç† Tabbar çš„çŠ¶æ€ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ Pinia çš„ç¤ºä¾‹ï¼š

```javascript
import { defineStore } from 'pinia';

export const useTabbarStore = defineStore('tabbar', {
  state: () => ({
    tabbarList: [
      {
        pagePath: '/pages/index/index',
        text: 'é¦–é¡µ',
        iconPath: '/static/tabbar/home.png',
        selectedIconPath: '/static/tabbar/home_active.png',
        badge: 0,
      },
      {
        pagePath: '/pages/profile/profile',
        text: 'æˆ‘çš„',
        iconPath: '/static/tabbar/profile.png',
        selectedIconPath: '/static/tabbar/profile_active.png',
        badge: 3,
      },
    ],
    currentIndex: 0,
  }),
  actions: {
    updateTabbarList(newList) {
      this.tabbarList = newList;
    },
    setCurrentIndex(index) {
      this.currentIndex = index;
    },
    updateBadge(index, badge) {
      this.tabbarList[index].badge = badge;
    },
  },
});
```

åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ Piniaï¼š

```vue
<template>
  <view class="custom-tabbar">
    <view
      v-for="(item, index) in tabbarStore.tabbarList"
      :key="index"
      class="tabbar-item"
      :class="{ active: tabbarStore.currentIndex === index }"
      @tap="switchTab(index, item.pagePath)"
    >
      <image
        :src="tabbarStore.currentIndex === index ? item.selectedIconPath : item.iconPath"
        class="tabbar-icon"
      />
      <text class="tabbar-text">{{ item.text }}</text>
      <view v-if="item.badge" class="tabbar-badge">{{ item.badge }}</view>
    </view>
  </view>
</template>

<script>
import { useTabbarStore } from '@/store/tabbar';

export default {
  setup() {
    const tabbarStore = useTabbarStore();
    return { tabbarStore };
  },
  methods: {
    switchTab(index, path) {
      this.tabbarStore.setCurrentIndex(index);
      uni.switchTab({ url: path });
    },
  },
};
</script>

<style scoped>
/* æ ·å¼åŒä¸Š */
</style>
```

é€šè¿‡ Piniaï¼Œæˆ‘ä»¬å®ç°äº† Tabbar çš„åŠ¨æ€æ¸²æŸ“ä¸çŠ¶æ€ç®¡ç†ã€‚ç°åœ¨ï¼ŒTabbar å¯ä»¥æ ¹æ®ç”¨æˆ·è§’è‰²åŠ¨æ€è°ƒæ•´å†…å®¹ï¼Œæ¯”å¦‚åœ¨ç”¨æˆ·ç™»å½•åæ˜¾ç¤ºâ€œæˆ‘çš„â€é€‰é¡¹ã€‚

*Tipsï¼šä½¿ç”¨ Pinia æ—¶ï¼Œå°½é‡å°†çŠ¶æ€é€»è¾‘ä¸ UI ç»„ä»¶è§£è€¦ï¼Œä¿æŒç»„ä»¶çš„çº¯ç²¹æ€§ã€‚*

### 4. è·¨å¹³å°å…¼å®¹æ€§

Uni-app çš„è·¨å¹³å°ç‰¹æ€§æ˜¯å…¶æ ¸å¿ƒä¼˜åŠ¿ï¼Œä½†ä¹Ÿå¸¦æ¥äº†æŒ‘æˆ˜ã€‚Tabbar åœ¨ä¸åŒå¹³å°ä¸Šçš„è¡¨ç°å¯èƒ½å­˜åœ¨å·®å¼‚ï¼š
- **å°ç¨‹åº**ï¼šéœ€è¦è€ƒè™‘ safe-area é€‚é…ï¼Œé¿å…åº•éƒ¨è¢«é®æŒ¡ã€‚
- **H5**ï¼šéœ€è¦å¤„ç†æµè§ˆå™¨åº•éƒ¨çš„å·¥å…·æ ã€‚
- **App**ï¼šéœ€è¦é€‚é…ä¸åŒè®¾å¤‡çš„åº•éƒ¨å¯¼èˆªæ é«˜åº¦ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ CSS å˜é‡å’Œæ¡ä»¶ç¼–è¯‘æ¥è§£å†³è¿™äº›é—®é¢˜ï¼š

```vue
<template>
  <view class="custom-tabbar" :style="{ paddingBottom: safeAreaBottom }">
    <!-- ç»„ä»¶å†…å®¹åŒä¸Š -->
  </view>
</template>

<script>
import { useTabbarStore } from '@/store/tabbar';

export default {
  setup() {
    const tabbarStore = useTabbarStore();
    let safeAreaBottom = '0px';

    // #ifdef MP-WEIXIN
    const { safeArea } = uni.getSystemInfoSync();
    safeAreaBottom = safeArea ? `${safeArea.bottom - safeArea.height}px` : '0px';
    // #endif

    // #ifdef H5
    safeAreaBottom = 'env(safe-area-inset-bottom)';
    // #endif

    return { tabbarStore, safeAreaBottom };
  },
  methods: {
    switchTab(index, path) {
      this.tabbarStore.setCurrentIndex(index);
      uni.switchTab({ url: path });
    },
  },
};
</script>

<style scoped>
.custom-tabbar {
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 100rpx;
  background-color: #ffffff;
  box-shadow: 0 -2rpx 4rpx rgba(0, 0, 0, 0.1);
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
}
</style>
```

é€šè¿‡æ¡ä»¶ç¼–è¯‘å’Œ CSS å˜é‡ï¼Œæˆ‘ä»¬ç¡®ä¿äº† Tabbar åœ¨ä¸åŒå¹³å°ä¸Šçš„å…¼å®¹æ€§ã€‚

*Tipsï¼šä½¿ç”¨ `env(safe-area-inset-bottom)` æ—¶ï¼Œè®°å¾—æµ‹è¯• iPhone X åŠä»¥ä¸Šè®¾å¤‡ï¼Œä»¥ç¡®ä¿åº•éƒ¨å®‰å…¨åŒºåŸŸé€‚é…æ­£ç¡®ã€‚*

### 5. åŠ¨ç”»ä¸äº¤äº’ä¼˜åŒ–

ä¸€ä¸ªä¼˜ç§€çš„ Tabbar ä¸ä»…è¦åŠŸèƒ½å¼ºå¤§ï¼Œè¿˜è¦äº¤äº’ä¼˜é›…ã€‚æˆ‘ä»¬å¯ä»¥ä¸º Tabbar æ·»åŠ ä»¥ä¸‹åŠ¨ç”»æ•ˆæœï¼š
- **å›¾æ ‡åˆ‡æ¢åŠ¨ç”»**ï¼šä½¿ç”¨ `transition` å®ç°å¹³æ»‘è¿‡æ¸¡ã€‚
- **ç‚¹å‡»åé¦ˆ**ï¼šé€šè¿‡ `scale` å˜æ¢æ¨¡æ‹ŸæŒ‰å‹æ•ˆæœã€‚
- **å¾½æ ‡åŠ¨ç”»**ï¼šæ–°æ¶ˆæ¯åˆ°æ¥æ—¶ï¼Œå¾½æ ‡å¯ä»¥æŠ–åŠ¨æˆ–æ¸æ˜¾ã€‚

ä»¥ä¸‹æ˜¯ä¼˜åŒ–åçš„æ ·å¼ï¼š

```vue
<template>
  <view class="custom-tabbar" :style="{ paddingBottom: safeAreaBottom }">
    <view
      v-for="(item, index) in tabbarStore.tabbarList"
      :key="index"
      class="tabbar-item"
      :class="{ active: tabbarStore.currentIndex === index }"
      @tap="switchTab(index, item.pagePath)"
    >
      <image
        :src="tabbarStore.currentIndex === index ? item.selectedIconPath : item.iconPath"
        class="tabbar-icon"
      />
      <text class="tabbar-text">{{ item.text }}</text>
      <view
        v-if="item.badge"
        class="tabbar-badge"
        :animation="item.badgeAnimation"
      >
        {{ item.badge }}
      </view>
    </view>
  </view>
</template>

<script>
import { useTabbarStore } from '@/store/tabbar';

export default {
  setup() {
    const tabbarStore = useTabbarStore();
    let safeAreaBottom = '0px';

    // å®‰å…¨åŒºåŸŸé€‚é…
    // #ifdef MP-WEIXIN
    const { safeArea } = uni.getSystemInfoSync();
    safeAreaBottom = safeArea ? `${safeArea.bottom - safeArea.height}px` : '0px';
    // #endif
    // #ifdef H5
    safeAreaBottom = 'env(safe-area-inset-bottom)';
    // #endif

    // å¾½æ ‡åŠ¨ç”»
    const createBadgeAnimation = () => {
      const animation = uni.createAnimation({
        duration: 300,
        timingFunction: 'ease',
      });
      animation.scale(1.2).rotate(10).step();
      animation.scale(1).rotate(0).step();
      return animation.export();
    };

    // ç›‘å¬å¾½æ ‡å˜åŒ–
    tabbarStore.$subscribe((mutation, state) => {
      state.tabbarList.forEach((item, index) => {
        if (item.badge > 0) {
          item.badgeAnimation = createBadgeAnimation();
        }
      });
    });

    return { tabbarStore, safeAreaBottom };
  },
  methods: {
    switchTab(index, path) {
      this.tabbarStore.setCurrentIndex(index);
      uni.switchTab({ url: path });
    },
  },
};
</script>

<style scoped>
.custom-tabbar {
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 100rpx;
  background-color: #ffffff;
  box-shadow: 0 -2rpx 4rpx rgba(0, 0, 0, 0.1);
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
}

.tabbar-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  transition: all 0.3s ease;
}

.tabbar-item.active {
  color: #007aff;
  transform: scale(1.1);
}

.tabbar-item:active {
  transform: scale(0.95);
}

.tabbar-icon {
  width: 48rpx;
  height: 48rpx;
  transition: all 0.3s ease;
}

.tabbar-text {
  font-size: 24rpx;
  margin-top: 8rpx;
  transition: all 0.3s ease;
}

.tabbar-badge {
  position: absolute;
  top: -10rpx;
  right: -10rpx;
  background-color: #ff4d4f;
  color: #ffffff;
  border-radius: 50%;
  padding: 4rpx 8rpx;
  font-size: 20rpx;
}
</style>
```

é€šè¿‡æ·»åŠ åŠ¨ç”»ä¸äº¤äº’åé¦ˆï¼ŒTabbar çš„ä½“éªŒæ›´åŠ ç”ŸåŠ¨ï¼Œç”¨æˆ·ä¼šæ„Ÿå—åˆ°â€œç‚¹å‡»çš„ä¹è¶£â€ã€‚

*Tipsï¼šåŠ¨ç”»æ—¶é•¿æ§åˆ¶åœ¨ 200-300ms ä¹‹é—´ï¼Œæ—¢èƒ½ä¿è¯æµç•…ï¼Œåˆä¸ä¼šè®©ç”¨æˆ·æ„Ÿåˆ°å»¶è¿Ÿã€‚*

---

## æœ€ä½³å®è·µï¼šè®© Tabbar æ›´ä¼˜é›…

åœ¨å°è£… Tabbar çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»ç»“äº†ä¸€äº›æœ€ä½³å®è·µï¼Œå¸®åŠ©ä½ åœ¨é¡¹ç›®ä¸­å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç ï¼š

1. **æ¨¡å—åŒ–è®¾è®¡**  
   å°† Tabbar çš„æ ·å¼ã€é€»è¾‘å’Œæ•°æ®åˆ†ç¦»ï¼Œä½¿ç”¨ Vue çš„å•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰ç»“æ„ã€‚  
   *Tipsï¼šå°†é€šç”¨æ ·å¼æŠ½å–åˆ° `theme.css` ä¸­ï¼Œæ–¹ä¾¿å…¨å±€å¤ç”¨ã€‚*

2. **çŠ¶æ€ç®¡ç†**  
   ä½¿ç”¨ Pinia æˆ– Vuex ç®¡ç† Tabbar çš„çŠ¶æ€ï¼Œé¿å…ç»„ä»¶å†…éƒ¨çŠ¶æ€è¿‡äºå¤æ‚ã€‚  
   *Tipsï¼šä¸ºçŠ¶æ€å˜æ›´æ·»åŠ æ—¥å¿—ï¼Œæ–¹ä¾¿è°ƒè¯•ä¸é—®é¢˜æ’æŸ¥ã€‚*

3. **æ€§èƒ½ä¼˜åŒ–**  
   - ä½¿ç”¨ `v-memo` æˆ– `v-once` ä¼˜åŒ–ä¸å¸¸å˜åŒ–çš„ Tab é¡¹æ¸²æŸ“ã€‚  
   - é¿å…åœ¨å¾ªç¯ä¸­é¢‘ç¹è°ƒç”¨å¤æ‚è®¡ç®—é€»è¾‘ã€‚  
   *Tipsï¼šä½¿ç”¨ `watch` ç›‘å¬ tabbarList çš„å˜åŒ–ï¼ŒåŠ¨æ€æ›´æ–°ç¼“å­˜ã€‚*

4. **å¯è®¿é—®æ€§ï¼ˆA11yï¼‰**  
   ä¸º Tabbar é¡¹æ·»åŠ  `aria-label` å’Œ `role` å±æ€§ï¼Œç¡®ä¿å±å¹•é˜…è¯»å™¨èƒ½æ­£ç¡®è¯†åˆ«ã€‚  
   *Tipsï¼šåœ¨å°ç¨‹åºä¸­ï¼Œæµ‹è¯•æ— éšœç¢åŠŸèƒ½æ—¶ï¼Œä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„â€œæ— éšœç¢æ£€æŸ¥â€ã€‚*

5. **æµ‹è¯•é©±åŠ¨å¼€å‘**  
   ä½¿ç”¨ Vitest æˆ– Jest ä¸º Tabbar ç»„ä»¶ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿é€»è¾‘çš„æ­£ç¡®æ€§ã€‚  
   *Tipsï¼šä¼˜å…ˆæµ‹è¯•æ ¸å¿ƒåŠŸèƒ½ï¼Œå¦‚åˆ‡æ¢é€»è¾‘å’Œå¾½æ ‡æ›´æ–°ã€‚*

---

## å“²å­¦æ€è€ƒï¼šä»£ç ä¸äººç”Ÿçš„å…±é¸£

å°è£…ä¸€ä¸ª Tabbar ç»„ä»¶ï¼Œçœ‹ä¼¼æ˜¯æŠ€æœ¯æ´»ï¼Œä½†å…¶èƒŒåè•´å«ç€æ·±åˆ»çš„å“²å­¦æ€è€ƒã€‚ä»£ç çš„ä¸–ç•Œä¸äººç”Ÿçš„æ—…é€”æœ‰ç€æƒŠäººçš„ç›¸ä¼¼ä¹‹å¤„ï¼š

- **é€‰æ‹©ä¸åˆ‡æ¢**ï¼šTabbar çš„æ¯ä¸€æ¬¡ç‚¹å‡»ï¼Œéƒ½æ˜¯ç”¨æˆ·åœ¨ä¸åŒåŠŸèƒ½é—´çš„é€‰æ‹©ã€‚äººç”Ÿä½•å°ä¸æ˜¯å¦‚æ­¤ï¼Ÿæˆ‘ä»¬åœ¨æ— æ•°é€‰é¡¹ä¸­åˆ‡æ¢ï¼Œå¯»æ‰¾æœ€é€‚åˆè‡ªå·±çš„è·¯å¾„ã€‚  
  > â€œäººç”Ÿæ˜¯ä¸€åœºé€‰æ‹©ï¼Œè€Œé€‰æ‹©å¡‘é€ äº†æˆ‘ä»¬ã€‚â€ â€”â€” è¨ç‰¹

- **åŠ¨æ€ä¸å¹³è¡¡**ï¼šTabbar éœ€è¦åŠ¨æ€é€‚åº”ç”¨æˆ·çš„çŠ¶æ€ï¼Œäººç”Ÿä¹Ÿéœ€è¦æˆ‘ä»¬åœ¨å˜åŒ–ä¸­å¯»æ‰¾å¹³è¡¡ã€‚  
  *Tipsï¼šå­¦ä¼šåœ¨ä»£ç ä¸ç”Ÿæ´»ä¸­æ‰¾åˆ°â€œåŠ¨æ€å¹³è¡¡â€ï¼Œæ‰èƒ½èµ°å¾—æ›´è¿œã€‚*

- **ä¼˜é›…ä¸ç®€æ´**ï¼šä¸€ä¸ªå¥½çš„ Tabbar ç»„ä»¶ï¼Œé€»è¾‘æ¸…æ™°ã€æ ·å¼ä¼˜é›…ã€‚åŒæ ·ï¼Œä¼˜é›…çš„äººç”Ÿä¹Ÿéœ€è¦ç®€æ´çš„ç›®æ ‡ä¸çº¯ç²¹çš„è¿½æ±‚ã€‚  
  > â€œLess is more.â€ â€”â€” å¯†æ–¯Â·å‡¡Â·å¾·Â·ç½—

å†™ä»£ç çš„è¿‡ç¨‹ï¼Œå°±åƒåœ¨é›•åˆ»ä¸€ä»¶è‰ºæœ¯å“ã€‚æ¯ä¸€æ¬¡ä¼˜åŒ–ã€æ¯ä¸€æ¬¡é‡æ„ï¼Œéƒ½æ˜¯åœ¨è¿½æ±‚æ›´å®Œç¾çš„è‡ªå·±ã€‚æ„¿ä½ çš„ Tabbar ç»„ä»¶ï¼Œä¸ä»…æ˜¯åŠŸèƒ½çš„å®ç°ï¼Œæ›´æ˜¯çµé­‚çš„è¡¨è¾¾ã€‚ğŸŒŒ

---

## ç»“è¯­

ä»éœ€æ±‚åˆ†æåˆ°ä»£ç å®ç°ï¼Œä»åŠ¨ç”»ä¼˜åŒ–åˆ°å“²å­¦æ€è€ƒï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸€æ¬¡å…³äºè‡ªå®šä¹‰ Tabbar ç»„ä»¶çš„ä¼˜é›…ä¹‹æ—…ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸ä»…ä¸ºä½ æä¾›äº†å®ç”¨çš„æŠ€æœ¯æŒ‡å—ï¼Œè¿˜è®©ä½ æ„Ÿå—åˆ°ä»£ç èƒŒåçš„è¯—æ„ä¸å“²ç†ã€‚

> â€œä»£ç æ˜¯æŠ€æœ¯ï¼Œä¼˜é›…æ˜¯è‰ºæœ¯ã€‚â€ â€”â€” æ™“é¾™

æ„¿ä½ åœ¨ Uni-app çš„å¼€å‘ä¹‹è·¯ä¸Šï¼Œå†™å‡ºæ›´å¤šçµåŠ¨çš„ç»„ä»¶ï¼Œåˆ›é€ æ›´å¤šä»¤äººæƒŠå¹çš„ä½“éªŒã€‚è®©æˆ‘ä»¬ä¸€èµ·ï¼Œç”¨ä»£ç ç‚¹äº®ä¸–ç•Œï¼âœ¨


---

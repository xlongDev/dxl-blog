---

type: "Post"
title: "24ä¸ª Vue3 æœ€ä½³å®è·µï¼šè®©ä½ çš„ä»£ç ä¼˜é›…åˆ°é£èµ· ğŸš€"  
date: "2024-06-21"  
description: "æ·±å…¥æ¢ç´¢ Vue3 çš„ 24 ä¸ªæœ€ä½³å®è·µï¼Œæ¶µç›–ç»„ä»¶è®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–ã€çŠ¶æ€ç®¡ç†ç­‰ï¼Œå¸¦ä½ å†™å‡ºæ›´ä¼˜é›…ã€æ›´é«˜æ•ˆçš„å‰ç«¯ä»£ç ã€‚"  
keywords: "Vue3, å‰ç«¯10, æœ€ä½³å®è·µ, ç»„ä»¶åŒ–, æ€§èƒ½ä¼˜åŒ–, Composition API, Reactivity, TypeScript"  
author: "æ™“é¾™"  
image: "/images/hero/vue3-best-practices.jpg"  
tags: ["ç²¾é€‰", "Vue3", "å‰ç«¯å¼€å‘", "JavaScript", "æœ€ä½³å®è·µ"]  
category: "Vue.js"  

---

Vue3 è‡ªå‘å¸ƒä»¥æ¥ï¼Œå·²ç»æˆä¸ºå‰ç«¯å¼€å‘è€…çš„å¿ƒå¤´å¥½ã€‚å®ƒå¸¦æ¥äº† Composition APIã€æ›´å¥½çš„æ€§èƒ½ã€æ›´å¼ºçš„ TypeScript æ”¯æŒç­‰ç‰¹æ€§ï¼Œä½†æƒ³çœŸæ­£ç”¨å¥½å®ƒï¼Œå…‰é â€œä¼šç”¨â€å¯ä¸å¤Ÿâ€”â€”å¾—â€œç”¨å¾—å¦™â€ã€‚è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°†åˆ†äº« **24 ä¸ª Vue3 æœ€ä½³å®è·µ**ï¼Œä»ç»„ä»¶è®¾è®¡åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œå†åˆ°çŠ¶æ€ç®¡ç†ï¼Œå¸¦ä½ å†™å‡ºä¼˜é›…ã€é«˜æ•ˆã€å¯ç»´æŠ¤çš„ä»£ç ã€‚æ— è®ºä½ æ˜¯æ–°æ‰‹è¿˜æ˜¯è€é¸Ÿï¼Œç›¸ä¿¡éƒ½èƒ½æœ‰æ‰€æ”¶è·ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœºä»£ç çš„å†’é™©å§ï¼âœ¨

## 1. æ‹¥æŠ± Composition APIï¼Œåˆ«æ‹æˆ˜ Options API
Vue3 çš„ Composition API æ˜¯å®ƒçš„çµé­‚æ‰€åœ¨ã€‚ç›¸æ¯” Options APIï¼ˆ`data`ã€`methods`ã€`computed`ï¼‰ï¼ŒComposition API æ›´çµæ´»ï¼Œèƒ½æ›´å¥½åœ°ç»„ç»‡é€»è¾‘ã€‚åˆ«å†å†™ä¸€å †é›¶æ•£çš„ `methods`ï¼Œè¯•è¯•æŠŠç›¸å…³é€»è¾‘å°è£…æˆå‡½æ•°å§ï¼

```javascript
// Options API
export default {
  data() {
    return { count: 0 };
  },
  methods: {
    increment() {
      this.count++;
    }
  }
};

// Composition API
import { ref } from 'vue';
export default {
  setup() {
    const count = ref(0);
    const increment = () => count.value++;
    return { count, increment };
  }
};
```

**å°æç¤º**ï¼šåˆ«æ€• `setup()` çœ‹ç€é•¿ï¼Œä¹ æƒ¯äº†ä½ ä¼šå‘ç°å®ƒå°±åƒæ•´ç†æˆ¿é—´â€”â€”å¼€å§‹éº»çƒ¦ï¼Œç”¨ç€çˆ½ã€‚

---

## 2. ç”¨ `ref` å’Œ `reactive` å„å¸å…¶èŒ
`ref` é€‚åˆå•ä¸ªå€¼ï¼Œ`reactive` é€‚åˆå¯¹è±¡ã€‚åˆ«ä¸€è‚¡è„‘å…¨ç”¨ `reactive`ï¼Œå¦åˆ™è§£æ„èµ‹å€¼ä¼šä¸¢å“åº”æ€§ï¼›ä¹Ÿåˆ«å…¨ç”¨ `ref`ï¼Œé‚£æ ·ä»£ç ä¼šæ˜¾å¾—å•°å—¦ã€‚

```javascript
import { ref, reactive } from 'vue';
export default {
  setup() {
    const count = ref(0); // å•ä¸ªå€¼ç”¨ ref
    const user = reactive({ name: 'æ™“é¾™', age: 25 }); // å¯¹è±¡ç”¨ reactive
    return { count, user };
  }
};
```

**å°æç¤º**ï¼š`ref` æ˜¯å°å·§çš„æ‰‹æªï¼Œ`reactive` æ˜¯å¤šåŠŸèƒ½çš„ç‘å£«å†›åˆ€ï¼Œç”¨å¯¹å·¥å…·äº‹åŠåŠŸå€ã€‚

---

## 3. å–„ç”¨ `readonly` ä¿æŠ¤æ•°æ®
æƒ³è®©æŸäº›æ•°æ®åªè¯»ï¼Ÿç”¨ `readonly`ã€‚å®ƒèƒ½é˜²æ­¢æ„å¤–ä¿®æ”¹ï¼Œå°¤å…¶åœ¨çˆ¶å­ç»„ä»¶é€šä¿¡æ—¶è¶…å®ç”¨ã€‚

```javascript
import { reactive, readonly } from 'vue';
export default {
  setup() {
    const state = reactive({ count: 0 });
    const readOnlyState = readonly(state);
    return { readOnlyState };
  }
};
```

**å°æç¤º**ï¼š`readonly` å°±åƒç»™æ•°æ®åŠ äº†ä¸ªâ€œè¯·å‹¿è§¦æ‘¸â€çš„ç‰Œå­ï¼Œä¿æŠ¤ä½ çš„ä»£ç å…å—ç†Šå­©å­ï¼ˆbugï¼‰çš„ä¾µå®³ã€‚

---

## 4. ç»„ä»¶å‘½åè¦è§åçŸ¥æ„
ç»„ä»¶åç”¨ PascalCaseï¼ˆå¤§é©¼å³°ï¼‰ï¼Œæ¸…æ™°æ˜“è¯»ï¼Œåˆ«ç”¨ `mycomponent` è¿™ç§å«ç³Šçš„åå­—ã€‚

```javascript
// ä¸æ¨è
Vue.component('mycomponent', { /* ... */ });

// æ¨è
Vue.component('UserProfileCard', { /* ... */ });
```

**å°æç¤º**ï¼šå¥½çš„å‘½åå°±åƒå’–å•¡åº—çš„æ‹›ç‰Œï¼Œè·¯è¿‡å°±çŸ¥é“å–å•¥ã€‚

---

## 5. æ‹†åˆ†å¤§ç»„ä»¶ï¼Œä¿æŒå•ä¸€èŒè´£
ä¸€ä¸ªç»„ä»¶åˆ«å¹²å¤ªå¤šäº‹ã€‚è¶…è¿‡ 200 è¡Œï¼Ÿè€ƒè™‘æ‹†åˆ†ã€‚å•ä¸€èŒè´£è®©ä»£ç æ›´æ˜“ç»´æŠ¤ã€‚

```javascript
// è‡ƒè‚¿ç»„ä»¶
export default {
  setup() {
    const user = reactive({ name: '', age: 0 });
    const posts = reactive([]);
    const fetchUser = () => { /* ... */ };
    const fetchPosts = () => { /* ... */ };
    // è¿˜æœ‰ä¸€å †é€»è¾‘...
  }
};

// æ‹†åˆ†å
// UserInfo.vue
export default { setup() { const user = reactive({ name: '', age: 0 }); /* ... */ } };
// PostList.vue
export default { setup() { const posts = reactive([]); /* ... */ } };
```

**å°æç¤º**ï¼šç»„ä»¶å°±åƒå¨å¸ˆï¼Œåˆ«è®©ä¸€ä¸ªå¨å¸ˆåŒæ—¶ç‚’èœã€çƒ¤é¢åŒ…è¿˜æ´—ç¢—ã€‚

---

## 6. ç”¨ `v-bind` ç®€åŒ–åŠ¨æ€å±æ€§
å¤šå±æ€§ç»‘å®šæ—¶ï¼Œ`v-bind` æ¯”å•ç‹¬å†™ä¼˜é›…å¤šäº†ã€‚

```javascript
// ç¹ç
<div :class="className" :style="styleObj" :id="id"></div>

// ä¼˜é›…
const props = reactive({ class: 'card', style: { color: 'blue' }, id: 'card1' });
<div v-bind="props"></div>
```

**å°æç¤º**ï¼š`v-bind` æ˜¯å±æ€§ç»‘å®šçš„â€œæ‰“åŒ…å¿«é€’â€ï¼Œçœæ—¶çœåŠ›ã€‚

---

## 7. è°¨æ…ä½¿ç”¨ `v-if` å’Œ `v-show`
`v-if` æ˜¯çœŸåˆ  DOMï¼Œ`v-show` æ˜¯ `display: none`ã€‚é¢‘ç¹åˆ‡æ¢ç”¨ `v-show`ï¼Œæ¡ä»¶å¤æ‚ç”¨ `v-if`ã€‚

```javascript
<div v-if="isComplexCondition">å¤æ‚é€»è¾‘</div>
<div v-show="isToggledOften">é¢‘ç¹åˆ‡æ¢</div>
```

**å°æç¤º**ï¼š`v-if` æ˜¯æ¬å®¶ï¼Œ`v-show` æ˜¯æ‹‰çª—å¸˜ï¼Œé€‰å¯¹åœºæ™¯åˆ«ç´¯ç€ã€‚

---

## 8. å–„ç”¨ Teleport ç®¡ç†å¼¹çª—
å¼¹çª—ã€æ¨¡æ€æ¡†ç”¨ `<Teleport>`ï¼Œç›´æ¥æŒ‚åˆ° `body` ä¸‹ï¼Œé¿å…æ ·å¼å†²çªã€‚

```javascript
<Teleport to="body">
  <div class="modal">æˆ‘æ˜¯å¼¹çª—</div>
</Teleport>
```

**å°æç¤º**ï¼š`<Teleport>` å°±åƒç¬ç§»é­”æ³•ï¼ŒæŠŠç»„ä»¶é€åˆ°ä½ æƒ³å»çš„åœ°æ–¹ã€‚

---

## 9. ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“ï¼Œç”¨å¥½ `key`
åˆ—è¡¨ç”¨ `v-for` æ—¶ï¼Œç»‘å®šå”¯ä¸€ `key`ï¼Œæå‡æ¸²æŸ“æ•ˆç‡ã€‚

```javascript
<div v-for="item in items" :key="item.id">{{ item.name }}</div>
```

**å°æç¤º**ï¼šæ²¡ `key`ï¼ŒVue å°±åƒçå­æ‘¸è±¡ï¼Œæ•ˆç‡ä½è¿˜å®¹æ˜“å‡ºé”™ã€‚

---

## 10. å¼‚æ­¥ç»„ä»¶æå‡é¦–å±é€Ÿåº¦
å¤§ç»„ä»¶ç”¨ `defineAsyncComponent`ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œé¦–å±å¿«å¦‚é—ªç”µã€‚

```javascript
import { defineAsyncComponent } from 'vue';
const HeavyComponent = defineAsyncComponent(() => import('./HeavyComponent.vue'));
```

**å°æç¤º**ï¼šå¼‚æ­¥ç»„ä»¶æ˜¯æ‡’åŠ è½½çš„â€œå¿«é€’å‘˜â€ï¼Œä¸æ€¥ç”¨çš„æ™šç‚¹é€ã€‚

---

## 11. ç”¨ `watch` æ›¿ä»£å‰¯ä½œç”¨é€»è¾‘
åˆ«æŠŠå‰¯ä½œç”¨å¡è¿› `setup`ï¼Œç”¨ `watch` ç›‘å¬å˜åŒ–ã€‚

```javascript
// ä¸ä¼˜é›…
setup() {
  const count = ref(0);
  if (count.value > 10) console.log('å¤§äº†');
}

// ä¼˜é›…
setup() {
  const count = ref(0);
  watch(count, (newVal) => {
    if (newVal > 10) console.log('å¤§äº†');
  });
  return { count };
}
```

**å°æç¤º**ï¼š`watch` æ˜¯ä½ çš„ç§äººåŠ©ç†ï¼Œç›¯ç€å˜åŒ–å¸®ä½ å¹²æ´»ã€‚

---

## 12. æ€§èƒ½ä¼˜åŒ–ï¼šç”¨ `v-memo` ç¼“å­˜
é™æ€å†…å®¹ç”¨ `v-memo`ï¼Œé¿å…é‡å¤æ¸²æŸ“ã€‚

```javascript
<div v-memo="[value1, value2]">
  <p>åªåœ¨ value1 æˆ– value2 å˜æ—¶é‡æ¸²æŸ“</p>
</div>
```

**å°æç¤º**ï¼š`v-memo` æ˜¯ç¼“å­˜ç•Œçš„â€œæ—¶é—´èƒ¶å›Šâ€ï¼Œé”ä½ä¸å˜çš„ä¸œè¥¿ã€‚

---

## 13. TypeScript åŠ æŒç±»å‹å®‰å…¨
Vue3 å¯¹ TS æ”¯æŒä¸€æµï¼Œåˆ«å·æ‡’ä¸ç”¨ç±»å‹ã€‚

```javascript
import { ref, Ref } from 'vue';
interface User {
  name: string;
  age: number;
}
const user: Ref<User> = ref({ name: 'æ™“é¾™', age: 25 });
```

**å°æç¤º**ï¼šTS æ˜¯ä»£ç çš„â€œä½“æ£€æŠ¥å‘Šâ€ï¼Œæ—©å‘ç°é—®é¢˜æ—©æ²»ç–—ã€‚

---

## 14. ç»„åˆå¼å‡½æ•°å¤ç”¨é€»è¾‘
æŠŠé€šç”¨é€»è¾‘æŠ½æˆ `useXxx` å‡½æ•°ï¼Œå¯å¤ç”¨åˆæ•´æ´ã€‚

```javascript
// useCounter.js
import { ref } from 'vue';
export function useCounter() {
  const count = ref(0);
  const increment = () => count.value++;
  return { count, increment };
}

// ä½¿ç”¨
import { useCounter } from './useCounter';
export default { setup() { return useCounter(); } };
```

**å°æç¤º**ï¼šç»„åˆå¼å‡½æ•°æ˜¯ä»£ç çš„â€œä¹é«˜ç§¯æœ¨â€ï¼Œæ­å‡ºå„ç§ç©æ³•ã€‚

---

## 15. é¿å…ç›´æ¥æ“ä½œ DOM
åˆ«ç”¨ `document.querySelector`ï¼Œç”¨ `ref` å’Œæ¨¡æ¿å¼•ç”¨ã€‚

```javascript
// ä¸æ¨è
setup() {
  const el = document.querySelector('#myDiv');
}

// æ¨è
<template>
  <div ref="myDiv"></div>
</template>
<script>
import { ref } from 'vue';
export default {
  setup() {
    const myDiv = ref(null);
    return { myDiv };
  }
};
</script>
```

**å°æç¤º**ï¼šç›´æ¥ç¢° DOM åƒç¿»åƒåœ¾æ¡¶æ‰¾ä¸œè¥¿ï¼Œæœ‰ `ref` ä½•å¿…å‘¢ï¼Ÿ

---

## 16. Pinia å–ä»£ Vuex
Vuex è¿‡æ—¶äº†ï¼ŒPinia æ›´è½»é‡ã€æ›´ç›´è§‚ã€‚

```javascript
// store/counter.js
import { defineStore } from 'pinia';
export const useCounterStore = defineStore('counter', {
  state: () => ({ count: 0 }),
  actions: { increment() { this.count++; } }
});
```

**å°æç¤º**ï¼šPinia æ˜¯çŠ¶æ€ç®¡ç†çš„â€œæ–°å® â€ï¼ŒVuex æ˜¯â€œè€å¤§å“¥â€ï¼Œæ—¶ä»£å˜äº†ã€‚

---

## 17. åˆç†ä½¿ç”¨ `computed`
è®¡ç®—å±æ€§ç”¨ `computed`ï¼Œåˆ«å†™ä¸€å †é‡å¤é€»è¾‘ã€‚

```javascript
// ä¸å¥½
setup() {
  const price = ref(10);
  const tax = ref(0.1);
  const total = () => price.value + price.value * tax.value;
}

// ä¼˜é›…
import { computed } from 'vue';
setup() {
  const price = ref(10);
  const tax = ref(0.1);
  const total = computed(() => price.value + price.value * tax.value);
  return { total };
}
```

**å°æç¤º**ï¼š`computed` æ˜¯è‡ªåŠ¨æ›´æ–°çš„â€œè®¡ç®—å™¨â€ï¼Œçœå¿ƒçœåŠ›ã€‚

---

## 18. äº‹ä»¶ä¿®é¥°ç¬¦ç®€åŒ–ä»£ç 
`@click.stop`ã€`@submit.prevent` æ¯”æ‰‹åŠ¨å†™ç®€æ´ã€‚

```javascript
// ç¹ç
<div @click="e => { e.stopPropagation(); fn(); }"></div>

// ç®€æ´
<div @click.stop="fn"></div>
```

**å°æç¤º**ï¼šä¿®é¥°ç¬¦æ˜¯äº‹ä»¶çš„â€œå¿«æ·é”®â€ï¼ŒæŒ‰ä¸€ä¸‹å°±æå®šã€‚

---

## 19. åŠ¨æ€ç»„ä»¶åˆ‡æ¢åœºæ™¯
ç”¨ `<component :is>` å®ç°åŠ¨æ€ç»„ä»¶ã€‚

```javascript
<template>
  <component :is="currentComponent"></component>
</template>
<script>
import CompA from './CompA.vue';
import CompB from './CompB.vue';
export default {
  setup() {
    const currentComponent = ref(CompA);
    return { currentComponent };
  }
};
</script>
```

**å°æç¤º**ï¼š`<component>` æ˜¯ç»„ä»¶ç•Œçš„â€œå˜å½¢é‡‘åˆšâ€ï¼Œéšæ—¶åˆ‡æ¢å½¢æ€ã€‚

---

## 20. åˆç†ä½¿ç”¨ Slots
æ’æ§½è®©ç»„ä»¶æ›´çµæ´»ï¼Œåˆ«ç¡¬å¡ propsã€‚

```javascript
// Parent.vue
<Child>
  <template #header>è‡ªå®šä¹‰å¤´éƒ¨</template>
</Child>

// Child.vue
<div>
  <slot name="header"></slot>
  <p>å†…å®¹</p>
</div>
```

**å°æç¤º**ï¼šæ’æ§½æ˜¯ç»„ä»¶çš„â€œå¯æ›¿æ¢é›¶ä»¶â€ï¼Œç”¨æˆ·æƒ³æ¢å•¥æ¢å•¥ã€‚

---

## 21. Suspense å¤„ç†å¼‚æ­¥
å¼‚æ­¥ç»„ä»¶æˆ–æ•°æ®ç”¨ `<Suspense>`ï¼Œä¼˜é›…å±•ç¤ºåŠ è½½çŠ¶æ€ã€‚

```javascript
<template>
  <Suspense>
    <template #default>
      <AsyncComponent />
    </template>
    <template #fallback>
      <div>åŠ è½½ä¸­...</div>
    </template>
  </Suspense>
</template>
```

**å°æç¤º**ï¼š`<Suspense>` æ˜¯å¼‚æ­¥çš„â€œç­‰å¾…å®¤â€ï¼Œè®©ç”¨æˆ·ä¸æŠ“ç‹‚ã€‚

---

## 22. CSS æ¨¡å—åŒ–ï¼Œé¿å…å†²çª
ç”¨ `<style scoped>` æˆ– CSS Modulesï¼Œåˆ«è®©æ ·å¼åˆ°å¤„è·‘ã€‚

```javascript
<style scoped>
.card { border: 1px solid #ccc; }
</style>
```

**å°æç¤º**ï¼š`scoped` æ˜¯æ ·å¼çš„â€œéš”ç¦»èˆ±â€ï¼Œäº’ä¸å¹²æ‰°ã€‚

---

## 23. é”™è¯¯å¤„ç†åˆ«æ¼
ç”¨ `onErrorCaptured` æ•è·ç»„ä»¶é”™è¯¯ï¼Œåˆ«è®© bug æ‚„æ— å£°æ¯ã€‚

```javascript
import { onErrorCaptured } from 'vue';
export default {
  setup() {
    onErrorCaptured((err) => {
      console.error('ç»„ä»¶é”™è¯¯:', err);
      return false; // é˜»æ­¢å†’æ³¡
    });
  }
};
```

**å°æç¤º**ï¼šé”™è¯¯å¤„ç†æ˜¯ä»£ç çš„â€œå®‰å…¨ç½‘â€ï¼Œæ‰ä¸‹æ¥ä¹Ÿèƒ½æ¥ä½ã€‚

---

## 24. æµ‹è¯•é©±åŠ¨å¼€å‘
ç”¨ Vitest æˆ– Jest å†™æµ‹è¯•ï¼Œåˆ«åªé è‚‰çœ¼è°ƒè¯•ã€‚

```javascript
// counter.test.js
import { mount } from '@vue/test-utils';
import Counter from './Counter.vue';
test('è®¡æ•°å™¨åŠ ä¸€', () => {
  const wrapper = mount(Counter);
  wrapper.find('button').trigger('click');
  expect(wrapper.text()).toContain('1');
});
```

**å°æç¤º**ï¼šæµ‹è¯•æ˜¯ä»£ç çš„â€œä½“æ£€â€ï¼Œæ²¡å®ƒå°±åƒä¸çœ‹åŒ»ç”Ÿç›´æ¥åƒè¯ã€‚

---

## ç»“è¯­
Vue3 æ˜¯ä¸ªå®è—æ¡†æ¶ï¼Œç”¨å¾—å¥½èƒ½è®©ä½ çš„ä»£ç å¦‚ä¸èˆ¬é¡ºæ»‘ã€‚ä»¥ä¸Š 24 ä¸ªæœ€ä½³å®è·µæ˜¯æˆ‘åœ¨å®æˆ˜ä¸­æ€»ç»“çš„å¿ƒå¾—ï¼Œå¸Œæœ›èƒ½å¸®ä½ åœ¨å¼€å‘è·¯ä¸Šå°‘è¸©å‘ã€å¤šå‡ºå½©ã€‚æœ‰ä»€ä¹ˆæƒ³æ³•æˆ–è¡¥å……ï¼Ÿæ¬¢è¿ç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æ¢è®¨ï¼ğŸ’¬

å†™ä»£ç å°±åƒåšé¥­ï¼Œå·¥å…·é½å…¨ï¼ˆVue3ï¼‰ã€æ‰‹æ³•ç†Ÿç»ƒï¼ˆæœ€ä½³å®è·µï¼‰ï¼Œæ‰èƒ½ç«¯å‡ºè®©äººç‚¹èµçš„å¤§é¤ã€‚å¿«å»è¯•è¯•å§ï¼Œç¥ä½  coding æ„‰å¿«ï¼ğŸ‰

--- 
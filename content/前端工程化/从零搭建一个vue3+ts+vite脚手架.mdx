---
type: "Post"
title: "ä»é›¶æ­å»ºä¸€ä¸ª Vue3 + TS + Vite è„šæ‰‹æ¶ï¼šä»æ··æ²Œåˆ°ä¼˜é›…çš„å¼€å‘ä½“éªŒ"
date: "2024-01-08"
description: "æ‰‹æŠŠæ‰‹å¸¦ä½ ä»é›¶æ­å»ºä¸€ä¸ªç°ä»£åŒ–çš„ Vue3 + TypeScript + Vite è„šæ‰‹æ¶ï¼Œæ·±å…¥åŸç†ï¼Œåˆ†äº«æœ€ä½³å®è·µï¼Œæ‰“é€ ä¸€ä¸ªé«˜æ•ˆã€ä¼˜é›…çš„å‰ç«¯å¼€å‘ç¯å¢ƒã€‚"
keywords: "Vue3, TypeScript, Vite, è„šæ‰‹æ¶, å‰ç«¯å¼€å‘, æ„å»ºå·¥å…·, å¼€å‘ä½“éªŒ, æœ€ä½³å®è·µ"
author: "æ™“é¾™"
image: "/images/hero/vue3-vite-ts.jpg"
tags: ["Vue.js", "TypeScript", "Vite", "å‰ç«¯å·¥ç¨‹åŒ–"]
category: "å‰ç«¯å·¥ç¨‹åŒ–"

---

å—¨ï¼Œå‰ç«¯å°ä¼™ä¼´ä»¬ ğŸ‘‹ï¼ä»Šå¤©æˆ‘ä»¬è¦ä¸€èµ·å¹²ä¸€ä»¶å¤§äº‹â€”â€”ä»é›¶æ­å»ºä¸€ä¸ª Vue3 + TypeScript + Vite çš„è„šæ‰‹æ¶ï¼è¿™ä¸æ˜¯é‚£ç§â€œnpm create vue@latestâ€ä¸€é”®æå®šçš„æµæ°´çº¿æ“ä½œï¼Œè€Œæ˜¯å¸¦ä½ æ·±å…¥åˆ°æ¯ä¸€ä¸ªé…ç½®çš„çµé­‚æ·±å¤„ï¼Œåƒä¸ªæ‰‹è‰ºäººä¸€æ ·æ‰“ç£¨å‡ºä¸€ä¸ªå±äºä½ è‡ªå·±çš„å¼€å‘ç¯å¢ƒã€‚ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿå› ä¸ºç†è§£åŸç†æ¯”ç›²ç›®å¤åˆ¶ç²˜è´´æ›´é‡è¦ï¼Œè€Œä¸”ï¼Œè°ä¸æƒ³åœ¨é¢è¯•å®˜é—®â€œä½ çš„é¡¹ç›®æ˜¯æ€ä¹ˆæ­å»ºçš„â€æ—¶ï¼Œç”©å‡ºä¸€å †ç¡¬æ ¸ç»†èŠ‚è®©ä»–ç›®çªå£å‘†å‘¢ï¼ŸğŸ˜

è¿™ç¯‡æ–‡ç« ä¼šå¾ˆé•¿ï¼ˆæ¯•ç«Ÿè¦æ¦¨å¹²æˆ‘çš„ token é‡ï¼‰ï¼Œä½†æˆ‘ä¼šå°½é‡è®©å®ƒæœ‰è¶£ã€å®ç”¨ã€æœ‰æ·±åº¦ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä»æ··æ²Œä¸­æ€å‡ºä¸€æ¡ä¼˜é›…çš„è·¯ï¼

## ä¸ºä»€ä¹ˆé€‰æ‹© Vue3 + TS + Viteï¼Ÿ

åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆèŠèŠä¸ºä»€ä¹ˆé€‰è¿™ä¸‰ä½â€œå¤©çš‡å·¨æ˜Ÿâ€ç»„æˆæˆ‘ä»¬çš„æ¢¦å¹»é˜µå®¹ï¼š

- **Vue3**ï¼šå“åº”å¼ç³»ç»Ÿçš„å…¨é¢å‡çº§ï¼ˆProxy å–ä»£ Object.definePropertyï¼‰ï¼ŒComposition API çš„çµæ´»æ€§ï¼ŒTree-shaking çš„ä¼˜åŒ–ï¼Œç®€ç›´æ˜¯â€œæ–°æ‰‹å‹å¥½ï¼Œè€æ‰‹çˆ±ä¸é‡Šæ‰‹â€ã€‚
- **TypeScript**ï¼šé™æ€ç±»å‹æ£€æŸ¥ï¼Œä»£ç è¡¥å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶ bugï¼Œå°¤å…¶æ˜¯é¡¹ç›®å˜å¤§æ—¶ï¼ŒTS å°±åƒä½ çš„ç§äººåŠ©ç†ï¼Œå¸®ä½ æŠŠé”™è¯¯æ‰¼æ€åœ¨æ‘‡ç¯®é‡Œã€‚
- **Vite**ï¼šåŸºäº ES Modules çš„æé€Ÿæ„å»ºå·¥å…·ï¼Œå¼€å‘æ—¶å‡ ä¹é›¶ç­‰å¾…ï¼Œç”Ÿäº§ç¯å¢ƒ Rollup æ‰“åŒ…ï¼Œæ•ˆç‡å’Œä½“éªŒåŒæ€ Webpackã€‚

ç±»æ¯”ä¸€ä¸‹ï¼šVue3 æ˜¯â€œçµæ´»çš„å¨å¸ˆâ€ï¼ŒTS æ˜¯â€œä¸¥è°¨çš„è¥å…»å¸ˆâ€ï¼ŒVite æ˜¯â€œé—ªç”µèˆ¬çš„æœåŠ¡å‘˜â€ï¼Œä¸‰è€…åˆä½œå¼€äº†ä¸€å®¶ç±³å…¶æ—ä¸‰æ˜Ÿé¤å…â€”â€”æˆ‘ä»¬çš„é¡¹ç›®ã€‚

## åŠ¨æ‰‹å‰çš„å‡†å¤‡

### å·¥å…·æ¸…å•
- Node.jsï¼ˆå»ºè®® v16+ï¼Œå› ä¸º Vite å¯¹ä½ç‰ˆæœ¬æ”¯æŒä¸å¤ªå‹å¥½ï¼‰
- npm æˆ– pnpmï¼ˆæˆ‘ç”¨ pnpmï¼Œå› ä¸ºå®ƒæ›´å¿«ã€æ›´èŠ‚çœç£ç›˜ç©ºé—´ï¼‰
- ä¸€é¢—å¥½å¥‡å¿ƒå’Œä¸€æ¯å’–å•¡ â˜•

### åˆå§‹åŒ–é¡¹ç›®
æ‰“å¼€ç»ˆç«¯ï¼Œæ•²ä¸‹è¿™è¡Œå‘½ä»¤ï¼š

```bash
pnpm init
```

è¿™ä¼šç”Ÿæˆä¸€ä¸ª `package.json`ï¼Œæˆ‘ä»¬é¡¹ç›®çš„èµ·ç‚¹ã€‚åˆ«æ€¥ç€è£…ä¾èµ–ï¼Œå…ˆè§„åˆ’ä¸€ä¸‹æˆ‘ä»¬è¦å¹²å•¥ï¼š

1. å®‰è£…æ ¸å¿ƒä¾èµ–ï¼ˆVue3ã€Viteï¼‰
2. é…ç½® TS æ”¯æŒ
3. è®¾ç½®ç›®å½•ç»“æ„
4. åŠ å…¥ ESLint å’Œ Prettierï¼ˆä»£ç è§„èŒƒä¸èƒ½å°‘ï¼‰
5. é…ç½®è·¯å¾„åˆ«åã€ä»£ç†ç­‰å®ç”¨åŠŸèƒ½

## ç¬¬ä¸€æ­¥ï¼šå®‰è£…æ ¸å¿ƒä¾èµ–

### å®‰è£… Vite å’Œ Vue3

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
pnpm add vue vite -D
pnpm add vue -S
```

`-D` æ˜¯å¼€å‘ä¾èµ–ï¼Œ`-S` æ˜¯ç”Ÿäº§ä¾èµ–ã€‚Vite åªéœ€è¦åœ¨å¼€å‘æ—¶ç”¨ï¼Œæ‰€ä»¥æ˜¯ `-D`ï¼Œè€Œ Vue æ˜¯è¿è¡Œæ—¶çš„æ ¸å¿ƒï¼Œæ”¾è¿› `-S`ã€‚

### åˆ›å»ºå…¥å£æ–‡ä»¶

æ–°å»º `index.html`ï¼š

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue3 + TS + Vite</title>
</head>
<body>
  <div id="app"></div>
  <script type="module" src="/src/main.ts"></script>
</body>
</html>
```

æ³¨æ„ `type="module"`ï¼Œè¿™æ˜¯ Vite çš„é­”æ³•æ‰€åœ¨ï¼Œåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿ ES Modules åŠ è½½æ–‡ä»¶ã€‚

æ¥ç€åˆ›å»º `src/main.ts`ï¼š

```ts
import { createApp } from 'vue'
import App from './App.vue'

createApp(App).mount('#app')
```

å†æ¥ä¸€ä¸ª `src/App.vue`ï¼š

```vue
<template>
  <div>
    <h1>æ¬¢è¿æ¥åˆ° Vue3 + TS + Vite çš„ä¸–ç•Œï¼ğŸš€</h1>
  </div>
</template>

<script>
export default {
  name: 'App'
}
</script>

<style scoped>
h1 {
  color: #42b983;
}
</style>
```

### é…ç½® Vite

æ–°å»º `vite.config.ts`ï¼š

```ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()]
})
```

è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº† `@vitejs/plugin-vue`ï¼Œå®ƒè®© Vite èƒ½è§£æ `.vue` æ–‡ä»¶ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```bash
pnpm add @vitejs/plugin-vue -D
```

### å¯åŠ¨é¡¹ç›®

åœ¨ `package.json` åŠ ä¸ªè„šæœ¬ï¼š

```json
"scripts": {
  "dev": "vite",
  "build": "vite build",
  "preview": "vite preview"
}
```

æ•²ä¸‹ `pnpm dev`ï¼Œæµè§ˆå™¨æ‰“å¼€ `http://localhost:5173`ï¼Œçœ‹åˆ°ç»¿è‰²çš„å¤§æ ‡é¢˜äº†å—ï¼Ÿæ­å–œï¼Œç¬¬ä¸€æ­¥æˆåŠŸï¼ğŸ‰

**Tips**: å¦‚æœç«¯å£è¢«å ç”¨äº†ï¼Œåˆ«æ…Œï¼ŒVite é»˜è®¤ä¼šé€’å¢ç«¯å£ï¼Œæˆ–è€…åœ¨ `vite.config.ts` é‡ŒåŠ  `server: { port: 3000 }` æŒ‡å®šç«¯å£ã€‚

## ç¬¬äºŒæ­¥ï¼šå¼•å…¥ TypeScript

### å®‰è£… TS

```bash
pnpm add typescript -D
```

åˆå§‹åŒ– TS é…ç½®æ–‡ä»¶ï¼š

```bash
npx tsc --init
```

è¿™ä¼šç”Ÿæˆä¸€ä¸ª `tsconfig.json`ï¼Œæˆ‘ä»¬ç¨å¾®è°ƒæ•´ä¸€ä¸‹ï¼š

```json
{
  "compilerOptions": {
    "target": "ESNext",
    "module": "ESNext",
    "moduleResolution": "Node",
    "strict": true,
    "jsx": "preserve",
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
```

- `strict: true`ï¼šå¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼ŒTS çš„ç²¾é«“ï¼Œä¸èƒ½å·æ‡’ï¼
- `paths`ï¼šé…ç½®è·¯å¾„åˆ«åï¼Œåé¢ä¼šç”¨åˆ°ã€‚

### ä¿®æ”¹æ–‡ä»¶åç¼€

æŠŠ `src/main.ts` é‡å‘½åä¸º `src/main.ts`ï¼Œå…¶å®å·²ç»æ˜¯å¯¹çš„ï¼ˆç¬‘ï¼‰ã€‚ä½† `App.vue` éœ€è¦æ”¹æˆ TS é£æ ¼ï¼š

```vue
<template>
  <div>
    <h1>æ¬¢è¿æ¥åˆ° Vue3 + TS + Vite çš„ä¸–ç•Œï¼ğŸš€</h1>
  </div>
</template>

<script lang="ts">
import { defineComponent } from 'vue'

export default defineComponent({
  name: 'App'
})
</script>

<style scoped>
h1 {
  color: #42b983;
}
</style>
```

åŠ ä¸Š `lang="ts"` å’Œ `defineComponent`ï¼ŒTS å°±èƒ½è¯†åˆ«äº†ã€‚

**Tips**: `defineComponent` ä¸ä»…æ˜¯ä¸ºäº† TS ç±»å‹æ¨å¯¼ï¼Œè¿˜èƒ½è®© IDE æä¾›æ›´å¥½çš„ä»£ç è¡¥å…¨ï¼Œåˆ«å°çœ‹å®ƒï¼

## ç¬¬ä¸‰æ­¥ï¼šä¼˜åŒ–ç›®å½•ç»“æ„

ä¸€ä¸ªå¥½çš„è„šæ‰‹æ¶ï¼Œç›®å½•ç»“æ„å¾—æ¸…æ™°ã€‚æ¨èè¿™æ ·ç»„ç»‡ï¼š

```
â”œâ”€â”€ public/           # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/       # å›¾ç‰‡ã€æ ·å¼ç­‰é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/   # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ views/        # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ router/       # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ store/        # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ api/          # æ¥å£è¯·æ±‚
â”‚   â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ types/        # TS ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ App.vue       # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts       # å…¥å£æ–‡ä»¶
â”œâ”€â”€ vite.config.ts    # Vite é…ç½®
â”œâ”€â”€ tsconfig.json     # TS é…ç½®
â””â”€â”€ package.json
```

**Tips**: æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç›®å½•ï¼Œæ¯”å¦‚ `api/user.ts`ã€`api/order.ts`ï¼Œæ¯”ä¸€è‚¡è„‘å¡è¿› `services` æ›´ç›´è§‚ã€‚

## ç¬¬å››æ­¥ï¼šæ·»åŠ è·¯ç”±ï¼ˆVue Routerï¼‰

### å®‰è£… Vue Router

```bash
pnpm add vue-router@4
```

æ–°å»º `src/router/index.ts`ï¼š

```ts
import { createRouter, createWebHistory } from 'vue-router'
import Home from '@/views/Home.vue'

const routes = [
  {
    path: '/',
    name: 'Home',
    component: Home
  },
  {
    path: '/about',
    name: 'About',
    component: () => import('@/views/About.vue')
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

export default router
```

ä¿®æ”¹ `src/main.ts`ï¼š

```ts
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'

createApp(App).use(router).mount('#app')
```

æ–°å»º `src/views/Home.vue` å’Œ `src/views/About.vue`ï¼Œå†…å®¹éšæ„ï¼Œæ¯”å¦‚ï¼š

```vue
<!-- Home.vue -->
<template>
  <h2>Home Page</h2>
</template>

<script lang="ts">
import { defineComponent } from 'vue'
export default defineComponent({
  name: 'Home'
})
</script>
```

**Tips**: ç”¨ `@` åˆ«åå¼•ç”¨è·¯å¾„ï¼Œæ—¢ç®€æ´åˆé¿å…ç›¸å¯¹è·¯å¾„çš„éº»çƒ¦ã€‚æ‡’åŠ è½½ï¼ˆ`import()`ï¼‰èƒ½æå‡é¦–å±é€Ÿåº¦ï¼Œè®°å¾—å¤šç”¨ï¼

## ç¬¬äº”æ­¥ï¼šä»£ç è§„èŒƒä¸æ ¼å¼åŒ–

### å®‰è£… ESLint å’Œ Prettier

```bash
pnpm add eslint eslint-plugin-vue @typescript-eslint/parser @typescript-eslint/eslint-plugin prettier eslint-config-prettier eslint-plugin-prettier -D
```

é…ç½® `.eslintrc.js`ï¼š

```js
module.exports = {
  env: {
    browser: true,
    es2021: true,
    node: true
  },
  extends: [
    'eslint:recommended',
    'plugin:vue/vue3-recommended',
    'plugin:@typescript-eslint/recommended',
    'plugin:prettier/recommended'
  ],
  parserOptions: {
    parser: '@typescript-eslint/parser',
    sourceType: 'module'
  },
  plugins: ['vue', '@typescript-eslint'],
  rules: {
    'prettier/prettier': 'error',
    '@typescript-eslint/no-unused-vars': ['error']
  }
}
```

é…ç½® `.prettierrc`ï¼š

```json
{
  "semi": false,
  "singleQuote": true,
  "trailingComma": "es5"
}
```

**Tips**: åœ¨ VSCode è£…ä¸Š ESLint å’Œ Prettier æ’ä»¶ï¼Œä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œçœå¿ƒåˆè§„èŒƒã€‚

## ç¬¬å…­æ­¥ï¼šé«˜çº§é…ç½®ä¸æœ€ä½³å®è·µ

### é…ç½®è·¯å¾„åˆ«å

åœ¨ `vite.config.ts` ä¸­åŠ ï¼š

```ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import path from 'path'

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src')
    }
  }
})
```

åˆ«å¿˜äº†è£… `path`ï¼š`pnpm add @types/node -D`ã€‚

### é…ç½®ä»£ç†

å¼€å‘æ—¶è·¨åŸŸæ€ä¹ˆåŠï¼ŸåŠ ä¸ªä»£ç†ï¼š

```ts
export default defineConfig({
  // ...
  server: {
    proxy: {
      '/api': {
        target: 'http://your-api.com',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  }
})
```

**Tips**: ä»£ç†è·¯å¾„ç”¨ `/api` å¼€å¤´æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œå’Œåç«¯çº¦å®šä¸€è‡´ï¼Œé¿å…æ··ä¹±ã€‚

### ç¯å¢ƒå˜é‡

æ–°å»º `.env.development` å’Œ `.env.production`ï¼š

```
# .env.development
VITE_API_BASE_URL=http://dev-api.com
```

```
# .env.production
VITE_API_BASE_URL=https://prod-api.com
```

åœ¨ `vite.config.ts` ä¸­è¯»å–ï¼š

```ts
export default defineConfig({
  // ...
  define: {
    'process.env': {}
  }
})
```

ä½¿ç”¨æ—¶ï¼š

```ts
const apiBaseUrl = import.meta.env.VITE_API_BASE_URL
```

**Tips**: ç¯å¢ƒå˜é‡ç”¨ `VITE_` å‰ç¼€ï¼ŒVite ä¼šè‡ªåŠ¨æš´éœ²ç»™å®¢æˆ·ç«¯ï¼Œåˆ«ç”¨ `NODE_ENV`ï¼Œé‚£æ˜¯ Node çš„ä¸“å±ã€‚

## å†™åœ¨æœ€å

ä»é›¶æ­å»ºä¸€ä¸ª Vue3 + TS + Vite è„šæ‰‹æ¶ï¼Œå°±åƒæ­ç§¯æœ¨ï¼Œæ—¢è¦ç¨³ï¼ˆè§„èŒƒï¼‰ï¼Œåˆè¦å¿«ï¼ˆæ•ˆç‡ï¼‰ã€‚æˆ‘ä»¬èµ°äº†å¾ˆé•¿çš„è·¯ï¼Œä»æ ¸å¿ƒä¾èµ–åˆ°è·¯ç”±ã€ä»£ç è§„èŒƒï¼Œå†åˆ°é«˜çº§é…ç½®ï¼Œæ¯ä¸€æ­¥éƒ½åœ¨ä¸ºæ›´å¥½çš„å¼€å‘ä½“éªŒé“ºè·¯ã€‚å¸Œæœ›ä½ èƒ½æ„Ÿå—åˆ°å…¶ä¸­çš„ä¹è¶£ï¼Œä¹Ÿèƒ½ä»ä¸­æ‰¾åˆ°å±äºè‡ªå·±çš„â€œè„šæ‰‹æ¶å“²å­¦â€ã€‚

æœ‰å•¥é—®é¢˜ï¼Œéšæ—¶ç•™è¨€ï¼Œå’±ä»¬ä¸€èµ·æå®šï¼ä¸‹æ¬¡è§ï¼Œä¿æŒçƒ­çˆ±ï¼Œä¿æŒ codingï¼âœŒï¸

--- 
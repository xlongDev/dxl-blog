---
type: "Post"
title: "ä¸€æ­¥ä¸€æ­¥å®ç°ä¸€ä¸ªä¸“ä¸šçš„å‰ç«¯ç»„ä»¶åº“"
date: "2023-12-11"
description: "ä»é›¶åˆ°ä¸€æ‰“é€ ä¸€ä¸ªä¸“ä¸šçš„å‰ç«¯ç»„ä»¶åº“ï¼Œæ·±å…¥åŸç†ã€å®ç”¨å®è·µã€å¹½é»˜è§£è¯»ï¼Œå¸¦ä½ èµ°è¿›ç»„ä»¶åº“å¼€å‘çš„å¥‡å¦™ä¸–ç•Œï¼æ¶µç›–æ¶æ„è®¾è®¡ã€æŠ€æœ¯é€‰å‹ã€æ ¸å¿ƒç»„ä»¶å®ç°ã€æ ·å¼ç³»ç»Ÿã€æµ‹è¯•ã€æ–‡æ¡£ã€æ€§èƒ½ä¼˜åŒ–ä¸å‘å¸ƒå…¨æµç¨‹ã€‚"
keywords: "å‰ç«¯ç»„ä»¶åº“, React, Vue, Web Components, TypeScript, ç»„ä»¶è®¾è®¡, UI å¼€å‘, æ ·å¼ç³»ç»Ÿ, æ— éšœç¢, æ€§èƒ½ä¼˜åŒ–, Storybook, npm å‘å¸ƒ"
author: "æ™“é¾™"
image: "/images/hero/component-library.jpg"
tags: ["å‰ç«¯å¼€å‘", "ç»„ä»¶åº“", "React", "TypeScript", "UI è®¾è®¡", "æ€§èƒ½ä¼˜åŒ–"]
category: "å‰ç«¯å·¥ç¨‹åŒ–"
---

å‰ç«¯å¼€å‘çš„æ±Ÿæ¹–é‡Œï¼Œç»„ä»¶åº“å°±åƒæ˜¯ä¸€æŠŠç²¾å¿ƒæ‰“é€ çš„â€œå€šå¤©å‰‘â€ï¼Œæ—¢èƒ½è®©ä½ åœ¨é¡¹ç›®ä¸­æ¸¸åˆƒæœ‰ä½™ï¼Œåˆèƒ½è®©ç”¨æˆ·ç•Œé¢èµå¿ƒæ‚¦ç›®ã€‚Ant Design çš„ä¸¥è°¨ã€Material-UI çš„ä¼˜é›…ã€Chakra UI çš„çµæ´»â€¦â€¦è¿™äº›ä¼˜ç§€çš„ç»„ä»¶åº“æ—©å·²æˆä¸ºå‰ç«¯å¼€å‘è€…çš„â€œæ­¦æ—ç§˜ç±â€ã€‚ä½†ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œäº²æ‰‹æ‰“é€ ä¸€ä¸ªå±äºè‡ªå·±çš„ç»„ä»¶åº“ï¼Œæ˜¯ä¸€ä»¶å¤šä¹ˆçƒ­è¡€æ²¸è…¾çš„äº‹æƒ…ï¼ŸğŸ˜

è¿™ç¯‡åšå®¢å°†å¸¦ä½ ä»é›¶åˆ°ä¸€ï¼Œæ‰‹æŠŠæ‰‹æ‰“é€ ä¸€ä¸ªä¸“ä¸šçš„å‰ç«¯ç»„ä»¶åº“ã€‚æˆ‘ä»¬ä¼šæ·±å…¥åŸç†ï¼Œå‰–æè®¾è®¡æ€è·¯ï¼Œåˆ†äº«å®ç”¨æŠ€å·§ï¼Œè¿˜è¦å¤¹æ‚ä¸€ç‚¹ç¨‹åºå‘˜ä¸“å±çš„â€œå†·å¹½é»˜â€ã€‚æ— è®ºä½ æ˜¯æƒ³ä¸ºå…¬å¸å®šåˆ¶ä¸€ä¸ªå†…éƒ¨ç»„ä»¶åº“ï¼Œè¿˜æ˜¯å‡†å¤‡åœ¨ GitHub ä¸Šâ€œç§€è‚Œè‚‰â€ï¼Œè¿™ç¯‡æ–‡ç« éƒ½ä¼šæ˜¯ä½ çš„ä¸€ç›æ˜ç¯ã€‚å‡†å¤‡å¥½ä½ çš„ä»£ç ç¼–è¾‘å™¨ï¼Œæˆ‘ä»¬å¼€å§‹è¿™åœºâ€œç»„ä»¶åº“æ‰“é€ ä¹‹æ—…â€å§ï¼ğŸš€

## ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªç»„ä»¶åº“ï¼Ÿ

åœ¨åŠ¨æ‰‹å†™ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥èŠèŠâ€œä¸ºä»€ä¹ˆâ€ã€‚ç»„ä»¶åº“å¯ä¸æ˜¯ç®€å•çš„â€œæŒ‰é’®æ‰“åŒ…æœºâ€ï¼Œå®ƒæ›´åƒæ˜¯å›¢é˜Ÿçš„â€œè®¾è®¡è¯­è¨€å¥‘çº¦â€ï¼Œå®šä¹‰äº†é¡¹ç›®çš„è§†è§‰é£æ ¼ã€äº¤äº’é€»è¾‘å’Œå¼€å‘è§„èŒƒã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§çš„åœºæ™¯ï¼š

- **ç»Ÿä¸€é£æ ¼**ï¼šé¿å…æ¯ä¸ªå¼€å‘è€…çš„æŒ‰é’®éƒ½åƒâ€œæ¯•åŠ ç´¢çš„æŠ½è±¡ç”»â€ï¼Œè®© UI ä¿æŒä¸€è‡´ã€‚  
- **æå‡æ•ˆç‡**ï¼šä¸ç”¨æ¯æ¬¡éƒ½ä»é›¶å¼€å§‹å†™ä¸€ä¸ªå¼¹çª—ï¼Œçœä¸‹çš„æ—¶é—´å¯ä»¥å¤šåˆ·å‡ æ¡ X ä¸Šçš„ç¨‹åºå‘˜æ¢—ã€‚  
- **è·¨é¡¹ç›®å¤ç”¨**ï¼šä¸€ä¸ªç»„ä»¶åº“å¯ä»¥æœåŠ¡å¤šä¸ªé¡¹ç›®ï¼Œå‡å°‘é‡å¤é€ è½®å­ï¼Œåƒâ€œä»£ç ç•Œçš„ä¹é«˜â€ã€‚  
- **ä¾¿äºç»´æŠ¤**ï¼šæ”¹ä¸€å¤„ï¼Œå…¨å±€ç”Ÿæ•ˆï¼Œæ¯”åˆ°å¤„ä¿® CSS çœå¿ƒå¤šäº†ã€‚  
- **å“ç‰Œèµ‹èƒ½**ï¼šé€šè¿‡å®šåˆ¶åŒ–çš„ç»„ä»¶åº“ï¼Œå¼ºåŒ–å“ç‰Œè§†è§‰è¯†åˆ«ï¼Œè®©ç”¨æˆ·è®°ä½ä½ çš„äº§å“ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘æ›¾ä¸ºä¸€ä¸ªç”µå•†å›¢é˜Ÿå¼€å‘è¿‡ä¸€ä¸ª React ç»„ä»¶åº“ï¼Œç»Ÿä¸€äº†æŒ‰é’®ã€å¡ç‰‡å’Œè¡¨å•çš„æ ·å¼ã€‚ç»“æœå‘¢ï¼Ÿè®¾è®¡å¸ˆç¬‘å¾—åˆä¸æ‹¢å˜´ï¼Œå¼€å‘æ•ˆç‡æå‡äº† 30%ï¼Œä¸Šçº¿åç”¨æˆ·åé¦ˆâ€œç•Œé¢ç»ˆäºä¸åƒæ˜¯æ‹¼å‡‘çš„äº†â€ã€‚ğŸ˜

> *å°Tipsï¼šå¦‚æœä½ è¿˜åœ¨é â€œå¤åˆ¶ç²˜è´´å¤§æ³•â€å¤ç”¨ UI ä»£ç ï¼Œå»ºè®®åœä¸‹æ¥æƒ³æƒ³ï¼šæ—¶é—´æˆæœ¬å’Œç»´æŠ¤æˆæœ¬å¯èƒ½ä¼šè®©ä½ åœ¨æœªæ¥çš„æŸä¸ªæ·±å¤œï¼ŒæŠ±ç€é”®ç›˜é»˜é»˜æµæ³ªã€‚*

å¥½äº†ï¼Œç†è®ºé“ºå«å¤Ÿäº†ï¼Œæ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ï¼šå¦‚ä½•ä¸€æ­¥æ­¥æ‰“é€ ä¸€ä¸ªç»„ä»¶åº“ï¼Ÿä»¥ä¸‹æ˜¯æˆ‘ä»¬çš„â€œæ­¦æ—ç§˜ç±â€ç›®å½•ï¼š

1. **è§„åˆ’ç»„ä»¶åº“çš„æ¶æ„**ï¼šæ˜ç¡®ç›®æ ‡ï¼Œç»˜åˆ¶è“å›¾ã€‚  
2. **æŠ€æœ¯é€‰å‹ä¸å·¥å…·é“¾**ï¼šé€‰æ‹©åˆé€‚çš„æ¡†æ¶å’Œå·¥å…·ã€‚  
3. **å®ç°æ ¸å¿ƒç»„ä»¶**ï¼šä»æŒ‰é’®åˆ°å¤æ‚ç»„ä»¶ï¼Œé€ä¸€æ”»å…‹ã€‚  
4. **æ ·å¼ç³»ç»Ÿä¸ä¸»é¢˜åŒ–**ï¼šè®©ç»„ä»¶åº“æ—¢å¥½çœ‹åˆçµæ´»ã€‚  
5. **ç±»å‹å®‰å…¨ä¸ TypeScript**ï¼šè®©ä»£ç æ›´å¥å£®ã€‚  
6. **æ— éšœç¢æ”¯æŒï¼ˆa11yï¼‰**ï¼šè®©ç»„ä»¶å¯¹æ‰€æœ‰ç”¨æˆ·å‹å¥½ã€‚  
7. **æ€§èƒ½ä¼˜åŒ–**ï¼šè®©ç»„ä»¶åº“è·‘å¾—æ›´å¿«ã€‚  
8. **æµ‹è¯•ä¸æ–‡æ¡£**ï¼šä¿è¯è´¨é‡ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚  
9. **æ‰“åŒ…ä¸å‘å¸ƒ**ï¼šè®©ç»„ä»¶åº“èµ°å‘ä¸–ç•Œã€‚  
10. **æœ€ä½³å®è·µä¸ç»éªŒåˆ†äº«**ï¼šé¿å‘æŒ‡å—ä¸é«˜çº§æŠ€å·§ã€‚

## 1. è§„åˆ’ç»„ä»¶åº“çš„æ¶æ„

ä¸€ä¸ªå¥½çš„ç»„ä»¶åº“ï¼Œå°±åƒä¸€æ ‹ç²¾å¿ƒè®¾è®¡çš„å¤§å¦ï¼Œåœ°åŸºå¾—æ‰“å¾—ç¨³ç¨³å½“å½“ã€‚è§„åˆ’é˜¶æ®µçš„æ ¸å¿ƒæ˜¯æ˜ç¡®ä½ çš„ç»„ä»¶åº“è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œä»¥åŠå®ƒçš„ä½¿ç”¨åœºæ™¯ã€‚

### 1.1 å®šä¹‰ç›®æ ‡ä¸èŒƒå›´

å…ˆé—®è‡ªå·±å‡ ä¸ªçµé­‚æ‹·é—®ï¼š
- è¿™ä¸ªç»„ä»¶åº“æ˜¯ç»™å…¬å¸å†…éƒ¨é¡¹ç›®ç”¨çš„ï¼Œè¿˜æ˜¯å¼€æºç»™å…¨ä¸–ç•Œçš„å¼€å‘è€…ï¼Ÿ
- æ”¯æŒå“ªäº›æ¡†æ¶ï¼ŸReactã€Vueã€Svelteï¼Œè¿˜æ˜¯æ¡†æ¶æ— å…³çš„ Web Componentsï¼Ÿ
- éœ€è¦æ”¯æŒå“ªäº›é«˜çº§åŠŸèƒ½ï¼Ÿä¸»é¢˜åˆ‡æ¢ã€æ— éšœç¢è®¿é—®ï¼ˆa11yï¼‰ã€å›½é™…åŒ–ï¼ˆi18nï¼‰ã€RTLï¼ˆä»å³åˆ°å·¦è¯­è¨€ï¼‰ï¼Ÿ
- é¢„ç®—æ˜¯å¤šå°‘ï¼ŸäººåŠ›ã€æ—¶é—´å’ŒæŠ€æœ¯å€ºåŠ¡éƒ½è¦è€ƒè™‘ã€‚

ä»¥æˆ‘è‡ªå·±çš„ç»éªŒä¸ºä¾‹ï¼Œæˆ‘æ›¾ä¸ºä¸€ä¸ªä¸­å‹å›¢é˜Ÿæ‰“é€ è¿‡ä¸€ä¸ª React ç»„ä»¶åº“ï¼Œç›®æ ‡æ˜¯â€œè½»é‡ã€æ˜“ç”¨ã€ä¸»é¢˜å¯å®šåˆ¶â€ã€‚æˆ‘ä»¬å†³å®šå…ˆå®ç° 10 ä¸ªæ ¸å¿ƒç»„ä»¶ï¼ˆæŒ‰é’®ã€è¾“å…¥æ¡†ã€å¼¹çª—ã€å¡ç‰‡ç­‰ï¼‰ï¼Œå†æ ¹æ®åé¦ˆæ‰©å±•ã€‚ç»“æœè¯æ˜ï¼Œå…ˆä»â€œå°è€Œç¾â€å…¥æ‰‹ï¼Œè¿œæ¯”ä¸€å¼€å§‹è¿½æ±‚â€œå¤§è€Œå…¨â€é è°±ã€‚

> *å°Tipsï¼šä¸è¦ä¸€å¼€å§‹å°±æƒ³é€ ä¸€ä¸ªâ€œå®‡å®™æœ€å¼ºç»„ä»¶åº“â€ï¼Œä»å°å¤„ç€æ‰‹ï¼Œè¿­ä»£å®Œå–„ã€‚å¦åˆ™ï¼Œä½ å¯èƒ½ä¼šè¢«éœ€æ±‚æ·¹æ²¡ï¼Œåƒæ‰è¿›äº†ä»£ç çš„é»‘æ´ï¼Œæ‰¾ä¸åˆ°å‡ºè·¯ã€‚*

### 1.2 è®¾è®¡ç»„ä»¶çš„ API

ç»„ä»¶çš„ API è®¾è®¡å†³å®šäº†å®ƒçš„æ˜“ç”¨æ€§ã€‚ä¸€ä¸ªå¥½çš„ API åº”è¯¥ç›´è§‚ã€çµæ´»ï¼Œä¸”éµå¾ªâ€œæœ€å°æƒŠè®¶åŸåˆ™â€ã€‚ä»¥æŒ‰é’®ç»„ä»¶ä¸ºä¾‹ï¼Œä¸€ä¸ªåˆç†çš„ API å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š

```tsx
<Button
  variant="primary"
  size="medium"
  disabled={false}
  loading={false}
  icon={<IconStar />}
  onClick={() => console.log("ç‚¹æˆ‘å¹²å˜›ï¼Ÿ")}
>
  ç‚¹å‡»æˆ‘
</Button>
```

è¿™ä¸ª API æä¾›äº†ï¼š
- `variant`ï¼šæ§åˆ¶æ ·å¼ï¼ˆä¸»æŒ‰é’®ã€è¾…åŠ©æŒ‰é’®ç­‰ï¼‰ã€‚
- `size`ï¼šæ§åˆ¶å°ºå¯¸ï¼ˆå¤§ã€ä¸­ã€å°ï¼‰ã€‚
- `disabled`ï¼šç¦ç”¨çŠ¶æ€ã€‚
- `loading`ï¼šåŠ è½½çŠ¶æ€ã€‚
- `icon`ï¼šæ”¯æŒå›¾æ ‡ã€‚
- `onClick`ï¼šç‚¹å‡»äº‹ä»¶ã€‚

è¿™æ ·çš„è®¾è®¡æ—¢ç®€å•åˆå¼ºå¤§ï¼Œå¼€å‘è€…ä¸€çœ‹å°±çŸ¥é“æ€ä¹ˆç”¨ã€‚

> *å°Tipsï¼šAPI è®¾è®¡æ—¶ï¼Œå°½é‡è®©å¼€å‘è€…â€œçŒœâ€å°±èƒ½çŒœåˆ°ç”¨æ³•ã€‚æ¯”å¦‚ï¼Œ`size="large"` æ€»æ¯” `dimension="big"` æ›´ç›´è§‚ï¼Œå°‘ç‚¹â€œè„‘ç­‹æ€¥è½¬å¼¯â€çš„æ„Ÿè§‰ã€‚*

### 1.3 ç›®å½•ç»“æ„è§„åˆ’

ä¸€ä¸ªæ¸…æ™°çš„ç›®å½•ç»“æ„ï¼Œèƒ½è®©ä½ çš„ç»„ä»¶åº“ç»´æŠ¤èµ·æ¥åƒå–ä¸‹åˆèŒ¶ä¸€æ ·è½»æ¾ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¨èçš„ç›®å½•ç»“æ„ï¼š

```
my-component-lib/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.test.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.stories.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.css
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ Input/
â”‚   â”‚   â”œâ”€â”€ Modal/
â”‚   â”‚   â””â”€â”€ Card/
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ themes/
â”‚   â”‚   â”‚   â”œâ”€â”€ light.css
â”‚   â”‚   â”‚   â””â”€â”€ dark.css
â”‚   â”‚   â””â”€â”€ global.css
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ cn.ts
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ useTheme.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ introduction.md
â”‚   â””â”€â”€ components/
â”œâ”€â”€ tests/
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ build.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ rollup.config.js
â””â”€â”€ README.md
```

æ¯ä¸ªç»„ä»¶ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶å¤¹ï¼ŒåŒ…å«å®ç°ã€ç±»å‹ã€æµ‹è¯•ã€Storybook æ•…äº‹å’Œæ ·å¼æ–‡ä»¶ï¼Œæ¡ç†æ¸…æ™°ï¼Œæ‰©å±•æ–¹ä¾¿ã€‚

> *å°Tipsï¼šç”¨ `index.ts` ç»Ÿä¸€å¯¼å‡ºç»„ä»¶ï¼Œæ¯”å¦‚ `export { default } from './Button'`ï¼Œè®©ç”¨æˆ·å¯¼å…¥æ—¶æ›´ç®€æ´ï¼Œåƒç‚¹å¤–å–ä¸€æ ·çœå¿ƒã€‚*

### 1.4 å‘½åè§„èŒƒ

å‘½åæ˜¯ç»„ä»¶åº“çš„â€œé—¨é¢â€ï¼Œå¥½çš„å‘½åèƒ½å‡å°‘æ²Ÿé€šæˆæœ¬ã€‚æ¨èä»¥ä¸‹è§„åˆ™ï¼š
- **ç»„ä»¶å**ï¼šç”¨ PascalCaseï¼Œå¦‚ `Button`ã€`DatePicker`ã€‚
- **Prop å**ï¼šç”¨ camelCaseï¼Œå¦‚ `variant`ã€`onClick`ã€‚
- **æ ·å¼ç±»**ï¼šç”¨ BEM æˆ– kebab-caseï¼Œå¦‚ `.btn--primary` æˆ– `btn-primary`ã€‚
- **æ–‡ä»¶ç»„ç»‡**ï¼šä¸ç»„ä»¶åä¿æŒä¸€è‡´ï¼Œå¦‚ `Button.tsx`ã€`Button.types.ts`ã€‚

> *å°Tipsï¼šå‘½åæ—¶æƒ³æƒ³ç”¨æˆ·ä¼šä¸ä¼šéª‚ä½ ã€‚å¦‚æœä¸€ä¸ª prop å« `buttonStyleMode`ï¼Œä¼°è®¡ä¼šè¢«åæ§½â€œè°èµ·çš„è¿™ä¹ˆæ‹—å£çš„åå­—â€ã€‚*

## 2. æŠ€æœ¯é€‰å‹ä¸å·¥å…·é“¾

æ‰“é€ ç»„ä»¶åº“å°±åƒçƒ¹é¥ªä¸€æ¡Œæ»¡æ±‰å…¨å¸­ï¼Œé€‰å¯¹é£Ÿæå’Œå¨å…·è‡³å…³é‡è¦ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„æŠ€æœ¯æ ˆã€‚

### 2.1 æ¡†æ¶é€‰æ‹©

React æ˜¯ç›®å‰æœ€ä¸»æµçš„é€‰æ‹©ï¼Œç”Ÿæ€ä¸°å¯Œï¼Œç¤¾åŒºæ´»è·ƒï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ã€‚å¦‚æœä½ å›¢é˜Ÿç”¨ Vue æˆ– Svelteï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚ç”šè‡³å¯ä»¥è€ƒè™‘ Web Componentsï¼Œåšåˆ°æ¡†æ¶æ— å…³ï¼Œä½†éœ€è¦é¢å¤–å¤„ç†æµè§ˆå™¨å…¼å®¹æ€§å’Œæ€§èƒ½ä¼˜åŒ–ã€‚

æˆ‘ä¸ªäººæ¨è React + TypeScript çš„ç»„åˆï¼Œæ—¢èƒ½äº«å— React çš„çµæ´»æ€§ï¼Œåˆèƒ½é€šè¿‡ TypeScript æå‡ä»£ç å¥å£®æ€§ã€‚å¦‚æœæ˜¯å¼€æºé¡¹ç›®ï¼ŒReact çš„æ™®åŠåº¦è¿˜èƒ½å¸å¼•æ›´å¤šè´¡çŒ®è€…ã€‚

> *å°Tipsï¼šå¦‚æœä½ é€‰ Web Componentsï¼Œå»ºè®®ç”¨ Lit æˆ– Stencil è¿™æ ·çš„åº“ï¼Œçœå¾—æ‰‹å†™ DOM æ“ä½œï¼Œç´¯åˆ°æ€€ç–‘äººç”Ÿã€‚*

### 2.2 æ„å»ºå·¥å…·

æ¨èä»¥ä¸‹æ„å»ºå·¥å…·ï¼š
- **Vite**ï¼šå¼€å‘ä½“éªŒä¸æ»‘ï¼Œå¯åŠ¨é€Ÿåº¦å¿«ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£ã€‚
- **Turbopack**ï¼šNext.js å›¢é˜Ÿçš„æ–°ä½œï¼Œå·ç§°â€œWebpack ç»ˆç»“è€…â€ï¼Œé€‚åˆè¿½æ±‚æè‡´æ€§èƒ½ã€‚
- **Rollup**ï¼šæ‰“åŒ…ç»„ä»¶åº“çš„æ ‡é…ï¼Œæ”¯æŒ Tree Shakingï¼Œç”Ÿæˆæ›´å°çš„ bundleã€‚
- **esbuild**ï¼šé€Ÿåº¦è¶…å¿«ï¼Œé€‚åˆå°å‹ç»„ä»¶åº“ã€‚

ä¸€ä¸ªå…¸å‹çš„ `rollup.config.js` é…ç½®å¦‚ä¸‹ï¼š

```js
import typescript from "@rollup/plugin-typescript";
import postcss from "rollup-plugin-postcss";
import { terser } from "rollup-plugin-terser";

export default {
  input: "src/index.ts",
  output: [
    {
      file: "dist/index.esm.js",
      format: "esm",
      sourcemap: true,
    },
    {
      file: "dist/index.cjs.js",
      format: "cjs",
      sourcemap: true,
    },
  ],
  plugins: [
    typescript({ tsconfig: "./tsconfig.json" }),
    postcss({
      extract: "index.css",
      minimize: true,
    }),
    terser(), // å‹ç¼©ä»£ç 
  ],
  external: ["react", "react-dom"], // é¿å…æ‰“åŒ… React
};
```

> *å°Tipsï¼šä¸º ESM å’Œ CJS ç”Ÿæˆä¸¤ä»½è¾“å‡ºï¼Œå…¼å®¹ä¸åŒæ¨¡å—ç³»ç»Ÿã€‚åˆ«å¿˜äº†åŠ  `sourcemap`ï¼Œæ–¹ä¾¿ç”¨æˆ·è°ƒè¯•æ—¶ä¸æŠ“ç‹‚ã€‚*

### 2.3 æ ·å¼æ–¹æ¡ˆ

æ ·å¼æ–¹æ¡ˆå†³å®šäº†ç»„ä»¶åº“çš„çµæ´»æ€§å’Œç»´æŠ¤æˆæœ¬ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§é€‰æ‹©ï¼š
- **CSS-in-JS**ï¼šå¦‚ Emotion æˆ– Styled-Componentsï¼Œé€‚åˆåŠ¨æ€æ ·å¼å’Œä¸»é¢˜åŒ–ã€‚
- **CSS Modules**ï¼šéš”ç¦»æ€§å¥½ï¼Œé€‚åˆå°å‹ç»„ä»¶åº“ã€‚
- **Tailwind CSS**ï¼šå¼€å‘é€Ÿåº¦å¿«ï¼Œä½†éœ€è¦é¢å¤–é…ç½®ä»¥æ”¯æŒ Tree Shakingã€‚
- **Sass/Less**ï¼šä¼ ç»Ÿä½†å¯é ï¼Œé€‚åˆå¤§å‹é¡¹ç›®ã€‚
- **CSS å˜é‡**ï¼šåŸç”Ÿæ”¯æŒï¼Œç®€å•é«˜æ•ˆï¼Œé€‚åˆä¸»é¢˜åˆ‡æ¢ã€‚

æˆ‘å€¾å‘äºç”¨ Emotion + CSS å˜é‡çš„ç»„åˆï¼Œæ—¢èƒ½äº«å— CSS-in-JS çš„åŠ¨æ€èƒ½åŠ›ï¼Œåˆèƒ½åˆ©ç”¨ CSS å˜é‡çš„æµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼Œå‡å°‘è¿è¡Œæ—¶å¼€é”€ã€‚

> *å°Tipsï¼šæ— è®ºé€‰å“ªç§æ–¹æ¡ˆï¼Œéƒ½è¦ç¡®ä¿æ ·å¼éš”ç¦»ï¼Œé¿å…ç»„ä»¶æ ·å¼åƒç—…æ¯’ä¸€æ ·æ±¡æŸ“å…¨å±€ CSSã€‚*

### 2.4 å…¶ä»–å·¥å…·

- **TypeScript**ï¼šæå‡ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ã€‚
- **Storybook**ï¼šç”¨äºç»„ä»¶æ–‡æ¡£å’Œå±•ç¤ºï¼Œå¼€å‘è€…çš„â€œè¯•è¡£é—´â€ã€‚
- **Jest + React Testing Library**ï¼šå•å…ƒæµ‹è¯•æ ‡é…ã€‚
- **ESLint + Prettier**ï¼šç»Ÿä¸€ä»£ç é£æ ¼ï¼Œå‡å°‘â€œæ ¼å¼å¤§æˆ˜â€ã€‚
- **Husky + lint-staged**ï¼šåœ¨ Git æäº¤æ—¶è‡ªåŠ¨æ ¼å¼åŒ–å’Œæ£€æŸ¥ä»£ç ã€‚

> *å°Tipsï¼šé…ç½®å¥½ ESLint å’Œ Prettier åï¼Œå¼ºåˆ¶å›¢é˜Ÿéµå®ˆè§„åˆ™ã€‚å¦åˆ™ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°ä»£ç ç¼©è¿›åƒç°ä»£è‰ºæœ¯ï¼Œå¤´ç—›æ¬²è£‚ã€‚*

## 3. å®ç°æ ¸å¿ƒç»„ä»¶

ç†è®ºè®²å®Œäº†ï¼Œæ¥ä¸‹æ¥æ’¸èµ·è¢–å­å†™ä»£ç ï¼æˆ‘ä»¬ä»ç®€å•çš„æŒ‰é’®å¼€å§‹ï¼Œé€æ­¥æŒ‘æˆ˜å¤æ‚ç»„ä»¶ã€‚

### 3.1 æŒ‰é’®ç»„ä»¶çš„å®ç°

æŒ‰é’®æ˜¯ç»„ä»¶åº“çš„â€œé—¨é¢æ‹…å½“â€ï¼Œéœ€è¦æ”¯æŒï¼š
- ä¸åŒæ ·å¼ï¼ˆä¸»æŒ‰é’®ã€è¾…åŠ©æŒ‰é’®ã€å¹½çµæŒ‰é’®ï¼‰ã€‚
- ä¸åŒå°ºå¯¸ï¼ˆå¤§ã€ä¸­ã€å°ï¼‰ã€‚
- ç¦ç”¨å’ŒåŠ è½½çŠ¶æ€ã€‚
- å›¾æ ‡æ”¯æŒã€‚
- ç‚¹å‡»äº‹ä»¶ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„å®ç°ï¼š

```tsx
// Button.tsx
import { forwardRef, ButtonHTMLAttributes, ReactNode } from "react";
import cn from "classnames";
import "./Button.css";

export interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: "primary" | "secondary" | "ghost";
  size?: "small" | "medium" | "large";
  loading?: boolean;
  icon?: ReactNode;
}

const Button = forwardRef<HTMLButtonElement, ButtonProps>(
  (
    {
      variant = "primary",
      size = "medium",
      loading = false,
      icon,
      className,
      children,
      disabled,
      ...props
    },
    ref
  ) => {
    return (
      <button
        ref={ref}
        className={cn(
          "btn",
          `btn--${variant}`,
          `btn--${size}`,
          { "btn--loading": loading, disabled: disabled || loading },
          className
        )}
        disabled={disabled || loading}
        {...props}
      >
        {loading && <span className="btn__spinner" />}
        {icon && <span className="btn__icon">{icon}</span>}
        {children}
      </button>
    );
  }
);

Button.displayName = "Button";

export default Button;
```

æ ·å¼ï¼š

```css
/* Button.css */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
  gap: 8px;
}

.btn--primary {
  background-color: #007bff;
  color: white;
  border: none;
}

.btn--secondary {
  background-color: #6c757d;
  color: white;
  border: none;
}

.btn--ghost {
  background: transparent;
  border: 1px solid #007bff;
  color: #007bff;
}

.btn--small {
  padding: 4px 8px;
  font-size: 12px;
}

.btn--medium {
  padding: 8px 16px;
  font-size: 14px;
}

.btn--large {
  padding: 12px 24px;
  font-size: 16px;
}

.btn--loading::before {
  content: "";
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

.btn.disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn__icon {
  display: inline-flex;
  align-items: center;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
```

> *å°Tipsï¼šç”¨ `forwardRef` æ”¯æŒ ref ä¼ é€’ï¼Œæ–¹ä¾¿çˆ¶ç»„ä»¶æ§åˆ¶æŒ‰é’®çš„ DOM èŠ‚ç‚¹ï¼Œæ¯”å¦‚èšç„¦æˆ–è§¦å‘åŠ¨ç”»ã€‚*

### 3.2 è¾“å…¥æ¡†ç»„ä»¶

è¾“å…¥æ¡†æ˜¯å¦ä¸€ä¸ªå¸¸è§ç»„ä»¶ï¼Œéœ€è¦æ”¯æŒï¼š
- ä¸åŒç±»å‹ï¼ˆæ–‡æœ¬ã€å¯†ç ã€æ•°å­—ç­‰ï¼‰ã€‚
- å‰åç¼€å›¾æ ‡ã€‚
- é”™è¯¯çŠ¶æ€ã€‚
- æ— éšœç¢æ”¯æŒã€‚

å®ç°å¦‚ä¸‹ï¼š

```tsx
// Input.tsx
import { forwardRef, InputHTMLAttributes, ReactNode } from "react";
import cn from "classnames";
import "./Input.css";

export interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
  prefix?: ReactNode;
  suffix?: ReactNode;
  error?: boolean;
}

const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ prefix, suffix, error, className, ...props }, ref) => {
    return (
      <div className={cn("input-wrapper", { "input--error": error })}>
        {prefix && <span className="input__prefix">{prefix}</span>}
        <input
          ref={ref}
          className={cn("input", className)}
          aria-invalid={error}
          {...props}
        />
        {suffix && <span className="input__suffix">{suffix}</span>}
      </div>
    );
  }
);

Input.displayName = "Input";

export default Input;
```

æ ·å¼ï¼š

```css
/* Input.css */
.input-wrapper {
  display: inline-flex;
  align-items: center;
  border: 1px solid #ced4da;
  border-radius: 4px;
  padding: 0 8px;
  transition: border-color 0.2s;
}

.input {
  border: none;
  outline: none;
  flex: 1;
  padding: 8px;
  font-size: 14px;
}

.input__prefix,
.input__suffix {
  display: inline-flex;
  align-items: center;
  color: #6c757d;
}

.input--error {
  border-color: #dc3545;
}

.input-wrapper:focus-within {
  border-color: #007bff;
}
```

> *å°Tipsï¼šç”¨ `aria-invalid` ç¡®ä¿é”™è¯¯çŠ¶æ€å¯¹å±å¹•é˜…è¯»å™¨å¯è§ï¼Œæå‡æ— éšœç¢ä½“éªŒã€‚*

### 3.3 å¤æ‚ç»„ä»¶ï¼šModal

æŒ‰é’®å’Œè¾“å…¥æ¡†æ˜¯å¼€èƒƒèœï¼Œç°åœ¨æˆ‘ä»¬æŒ‘æˆ˜ä¸€ä¸ªå¤æ‚ç»„ä»¶ï¼šModal å¼¹çª—ã€‚Modal éœ€è¦å¤„ç†ï¼š
- æ‰“å¼€/å…³é—­çŠ¶æ€ã€‚
- ç‚¹å‡»é®ç½©å…³é—­ã€‚
- é”®ç›˜äº¤äº’ï¼ˆEsc å…³é—­ï¼‰ã€‚
- åŠ¨ç”»æ•ˆæœã€‚
- æ— éšœç¢æ”¯æŒã€‚

å®ç°å¦‚ä¸‹ï¼š

```tsx
// Modal.tsx
import { useEffect, useRef } from "react";
import { createPortal } from "react-dom";
import cn from "classnames";
import "./Modal.css";

interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  children: React.ReactNode;
  className?: string;
  title?: string;
}

const Modal: React.FC<ModalProps> = ({ isOpen, onClose, children, className, title }) => {
  const modalRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const handleEscape = (e: KeyboardEvent) => {
      if (e.key === "Escape") onClose();
    };
    if (isOpen) {
      document.addEventListener("keydown", handleEscape);
      document.body.style.overflow = "hidden";
      modalRef.current?.focus();
    }
    return () => {
      document.removeEventListener("keydown", handleEscape);
      document.body.style.overflow = "";
    };
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  return createPortal(
    <div className="modal-overlay" onClick={onClose}>
      <div
        className={cn("modal-content", className)}
        onClick={(e) => e.stopPropagation()}
        ref={modalRef}
        role="dialog"
        aria-modal="true"
        aria-labelledby={title ? "modal-title" : undefined}
        tabIndex={-1}
      >
        {title && (
          <h2 id="modal-title" className="modal-title">
            {title}
          </h2>
        )}
        {children}
      </div>
    </div>,
    document.body
  );
};

export default Modal;
```

æ ·å¼ï¼š

```css
/* Modal.css */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: white;
  padding: 20px;
  border-radius: 8px;
  max-width: 500px;
  width: 100%;
  animation: slideIn 0.3s ease-out;
  outline: none;
}

.modal-title {
  margin: 0 0 16px;
  font-size: 18px;
}

@keyframes slideIn {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
```

> *å°Tipsï¼šç”¨ `createPortal` å°† Modal æ¸²æŸ“åˆ° `document.body`ï¼Œé¿å…è¢«çˆ¶ç»„ä»¶çš„æ ·å¼æˆ–å±‚çº§å½±å“ã€‚åˆ«å¿˜äº†åŠ  `tabIndex` å’Œ `focus`ï¼Œç¡®ä¿é”®ç›˜ç”¨æˆ·èƒ½æ“ä½œã€‚*

## 4. æ ·å¼ç³»ç»Ÿä¸ä¸»é¢˜åŒ–

ä¸€ä¸ªç°ä»£ç»„ä»¶åº“å¿…é¡»æ”¯æŒä¸»é¢˜åˆ‡æ¢ï¼Œç”¨æˆ·å¯èƒ½æƒ³è¦â€œæš—é»‘æ¨¡å¼â€æˆ–â€œå“ç‰Œè‰²å®šåˆ¶â€ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ CSS å˜é‡ã€Emotion æˆ– CSS-in-JS å®ç°ã€‚

### 4.1 ä½¿ç”¨ CSS å˜é‡

CSS å˜é‡ç®€å•é«˜æ•ˆï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼š

```css
/* themes.css */
:root {
  --primary-color: #007bff;
  --secondary-color: #6c757d;
  --text-color: #333;
  --background-color: #fff;
}

[data-theme="dark"] {
  --primary-color: #66b0ff;
  --secondary-color: #adb5bd;
  --text-color: #fff;
  --background-color: #333;
}
```

åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š

```css
.btn--primary {
  background-color: var(--primary-color);
  color: var(--text-color);
}

.modal-content {
  background-color: var(--background-color);
}
```

åŠ¨æ€åˆ‡æ¢ä¸»é¢˜ï¼š

```tsx
// useTheme.ts
import { useEffect } from "react";

export const useTheme = (theme: "light" | "dark") => {
  useEffect(() => {
    document.documentElement.dataset.theme = theme;
  }, [theme]);
};
```

> *å°Tipsï¼šç”¨ `[data-theme]` åˆ‡æ¢ä¸»é¢˜ï¼Œç»“åˆ `useEffect` åŠ¨æ€è®¾ç½® `document.documentElement.dataset.theme`ï¼Œå®ç°æ— ç¼åˆ‡æ¢ã€‚*

### 4.2 ä½¿ç”¨ Emotion

å¦‚æœéœ€è¦æ›´åŠ¨æ€çš„æ ·å¼ï¼Œå¯ä»¥ç”¨ Emotion çš„ `ThemeProvider`ï¼š

```tsx
// theme.ts
export const themes = {
  light: {
    primary: "#007bff",
    secondary: "#6c757d",
    text: "#333",
    background: "#fff",
  },
  dark: {
    primary: "#66b0ff",
    secondary: "#adb5bd",
    text: "#fff",
    background: "#333",
  },
};

// ThemeProvider.tsx
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
import { ReactNode } from "react";

interface ThemeProviderProps {
  theme: "light" | "dark";
  children: ReactNode;
}

export const ThemeProvider = ({ theme, children }: ThemeProviderProps) => {
  return <EmotionThemeProvider theme={themes[theme]}>{children}</EmotionThemeProvider>;
};

// Button.tsx
import { css } from "@emotion/react";
import { useTheme } from "@emotion/react";

const Button = ({ variant = "primary", children, ...props }) => {
  const theme = useTheme();
  return (
    <button
      css={css`
        background: ${theme[variant]};
        color: ${theme.text};
        padding: 8px 16px;
        border-radius: 4px;
        border: none;
      `}
      {...props}
    >
      {children}
    </button>
  );
};
```

> *å°Tipsï¼šEmotion çš„ `css` prop è®©æ ·å¼å†™èµ·æ¥åƒå†™ JSX ä¸€æ ·çˆ½ï¼Œä½†è¦æ³¨æ„æ€§èƒ½ï¼Œé¿å…è¿‡å¤šåŠ¨æ€æ ·å¼å¯¼è‡´é‡æ¸²æŸ“ã€‚*

### 4.3 ä¸»é¢˜æ‰©å±•æ€§

ä¸ºäº†è®©ç”¨æˆ·è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå¯ä»¥æä¾›ä¸€ä¸ª `customTheme` æ¥å£ï¼š

```tsx
// theme.ts
export interface Theme {
  primary: string;
  secondary: string;
  text: string;
  background: string;
}

export const extendTheme = (custom: Partial<Theme>): Theme => ({
  ...themes.light,
  ...custom,
});
```

ç”¨æˆ·å¯ä»¥è¿™æ ·è‡ªå®šä¹‰ï¼š

```tsx
const myTheme = extendTheme({
  primary: "#ff5733",
  text: "#000",
});

<ThemeProvider theme={myTheme}>
  <Button variant="primary">Custom Button</Button>
</ThemeProvider>;
```

> *å°Tipsï¼šæä¾›ä¸»é¢˜æ‰©å±•æ¥å£ï¼Œè®©ç”¨æˆ·åƒè°ƒè‰²ç›˜ä¸€æ ·è‡ªç”±æ­é…é¢œè‰²ï¼Œæå‡ç»„ä»¶åº“çš„çµæ´»æ€§ã€‚*

## 5. ç±»å‹å®‰å…¨ä¸ TypeScript

TypeScript æ˜¯ç°ä»£å‰ç«¯çš„æ ‡é…ï¼Œèƒ½è®©ä½ çš„ç»„ä»¶åº“æ›´å¥å£®ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ã€‚

### 5.1 å®šä¹‰ç»„ä»¶ç±»å‹

ä¸ºæŒ‰é’®ç»„ä»¶å®šä¹‰ç±»å‹ï¼š

```tsx
// Button.types.ts
export interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: "primary" | "secondary" | "ghost";
  size?: "small" | "medium" | "large";
  loading?: boolean;
  icon?: React.ReactNode;
}
```

### 5.2 å¤„ç†å¤æ‚ç±»å‹

å¯¹äº Modalï¼Œå¯èƒ½éœ€è¦æ›´å¤æ‚çš„ç±»å‹ï¼š

```tsx
// Modal.types.ts
export interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  children: React.ReactNode;
  className?: string;
  title?: string;
  ariaLabelledBy?: string;
}
```

### 5.3 å·¥å…·ç±»å‹

å¯ä»¥ç”¨ TypeScript çš„å·¥å…·ç±»å‹æå‡ä»£ç å¤ç”¨æ€§ï¼Œæ¯”å¦‚ï¼š

```tsx
// types.ts
export type Variant = "primary" | "secondary" | "ghost";
export type Size = "small" | "medium" | "large";

export interface BaseComponentProps {
  className?: string;
  style?: React.CSSProperties;
}
```

ç„¶ååœ¨ç»„ä»¶ä¸­å¤ç”¨ï¼š

```tsx
interface ButtonProps extends BaseComponentProps, React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: Variant;
  size?: Size;
}
```

> *å°Tipsï¼šç”¨ `React.FC` å®šä¹‰ç»„ä»¶ç±»å‹ï¼Œèƒ½è‡ªåŠ¨æ¨å¯¼ `children` ç±»å‹ï¼Œçœå»ä¸å°‘éº»çƒ¦ã€‚*

## 6. æ— éšœç¢æ”¯æŒï¼ˆa11yï¼‰

æ— éšœç¢æ”¯æŒä¸æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œè€Œæ˜¯ç°ä»£ç»„ä»¶åº“çš„å¿…å¤‡åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®ç‚¹ï¼š

### 6.1 æŒ‰é’®çš„æ— éšœç¢

ç¡®ä¿æŒ‰é’®æœ‰æ­£ç¡®çš„ ARIA å±æ€§ï¼š

```tsx
<button
  role="button"
  aria-disabled={disabled || loading}
  aria-label={children ? undefined : "Button"}
  {...props}
>
  {children}
</button>
```

### 6.2 Modal çš„æ— éšœç¢

Modal éœ€è¦ï¼š
- `role="dialog"` å’Œ `aria-modal="true"`ã€‚
- è‡ªåŠ¨èšç„¦åˆ° Modal å†…å®¹ã€‚
- æ”¯æŒé”®ç›˜å¯¼èˆªï¼ˆEsc å…³é—­ï¼ŒTab åˆ‡æ¢ç„¦ç‚¹ï¼‰ã€‚

æˆ‘ä»¬çš„ Modal å®ç°å·²ç»åŒ…å«äº†è¿™äº›åŠŸèƒ½ï¼Œæ¯”å¦‚ `aria-modal` å’Œ `tabIndex`ã€‚

### 6.3 å·¥å…·æ”¯æŒ

å¯ä»¥ç”¨ `eslint-plugin-jsx-a11y` æ£€æŸ¥æ— éšœç¢é—®é¢˜ï¼š

```json
// .eslintrc.json
{
  "extends": ["plugin:jsx-a11y/recommended"],
  "plugins": ["jsx-a11y"]
}
```

> *å°Tipsï¼šæµ‹è¯•æ— éšœç¢æ—¶ï¼Œç”¨å±å¹•é˜…è¯»å™¨ï¼ˆå¦‚ NVDA æˆ– VoiceOverï¼‰å®é™…ä½“éªŒä¸€éï¼Œç¡®ä¿ç»„ä»¶å¯¹è§†éšœç”¨æˆ·å‹å¥½ã€‚*

## 7. æ€§èƒ½ä¼˜åŒ–

ä¸€ä¸ªä¼˜ç§€çš„ç»„ä»¶åº“ï¼Œä¸ä»…è¦å¥½ç”¨ï¼Œè¿˜è¦å¿«ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ€§èƒ½ä¼˜åŒ–çš„æŠ€å·§ï¼š

### 7.1 å‡å°‘é‡æ¸²æŸ“

ç”¨ `React.memo` é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼š

```tsx
import { memo } from "react";

const Button = memo(({ variant, children, ...props }: ButtonProps) => {
  return <button className={`btn btn--${variant}`} {...props}>{children}</button>;
});
```

### 7.2 æŒ‰éœ€åŠ è½½

æ”¯æŒ Tree Shakingï¼Œç¡®ä¿ç”¨æˆ·åªåŠ è½½éœ€è¦çš„ç»„ä»¶ï¼š

```tsx
// index.ts
export { default as Button } from "./components/Button";
export { default as Input } from "./components/Input";
export { default as Modal } from "./components/Modal";
```

åœ¨ `package.json` ä¸­å£°æ˜ï¼š

```json
{
  "sideEffects": false
}
```

### 7.3 æ ·å¼ä¼˜åŒ–

ç”¨ CSS å˜é‡æˆ– CSS-in-JS å‡å°‘è¿è¡Œæ—¶æ ·å¼è®¡ç®—ã€‚é¿å…åœ¨ç»„ä»¶ä¸­å†™è¿‡å¤šå†…è”æ ·å¼ï¼š

```tsx
// ä¸å¥½
<button style={{ background: variant === "primary" ? "#007bff" : "#6c757d" }} />;

// å¥½
<button className={`btn btn--${variant}`} />;
```

> *å°Tipsï¼šæ€§èƒ½ä¼˜åŒ–å°±åƒå‡è‚¥ï¼Œå°‘åƒï¼ˆå°‘æ¸²æŸ“ï¼‰ã€å¤šè¿åŠ¨ï¼ˆå¤šæµ‹è¯•ï¼‰ï¼Œæ‰èƒ½ä¿æŒç»„ä»¶åº“çš„è‹—æ¡èº«æã€‚*

## 8. æµ‹è¯•ä¸æ–‡æ¡£

ä¸€ä¸ªä¸“ä¸šçš„ç»„ä»¶åº“ï¼Œç¦»ä¸å¼€æµ‹è¯•å’Œæ–‡æ¡£ã€‚

### 8.1 æµ‹è¯•

æ¨èä½¿ç”¨ Jest + React Testing Libraryã€‚ä»¥ä¸‹æ˜¯æŒ‰é’®çš„æµ‹è¯•ç”¨ä¾‹ï¼š

```tsx
// Button.test.tsx
import { render, screen, fireEvent } from "@testing-library/react";
import Button from "./Button";

describe("Button", () => {
  it("renders correctly", () => {
    render(<Button>Click me</Button>);
    expect(screen.getByText("Click me")).toBeInTheDocument();
  });

  it("handles click events", () => {
    const handleClick = jest.fn();
    render(<Button onClick={handleClick}>Click me</Button>);
    fireEvent.click(screen.getByText("Click me"));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });

  it("shows loading state", () => {
    render(<Button loading>Click me</Button>);
    expect(screen.getByRole("button")).toHaveClass("btn--loading");
  });
});
```

> *å°Tipsï¼šæµ‹è¯•æ—¶å°½é‡æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸ºï¼Œæ¯”å¦‚ç‚¹å‡»ã€è¾“å…¥ï¼Œè€Œä¸æ˜¯ç›´æ¥è°ƒç”¨å†…éƒ¨æ–¹æ³•ã€‚*

### 8.2 æ–‡æ¡£

Storybook æ˜¯ç»„ä»¶æ–‡æ¡£çš„æœ€ä½³é€‰æ‹©ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæŒ‰é’®çš„ Storyï¼š

```tsx
// Button.stories.tsx
import Button from "./Button";
import { IconStar } from "./icons";

export default {
  title: "Components/Button",
  component: Button,
  argTypes: {
    variant: {
      control: { type: "select", options: ["primary", "secondary", "ghost"] },
    },
    size: {
      control: { type: "select", options: ["small", "medium", "large"] },
    },
  },
};

export const Primary = () => <Button variant="primary">Primary Button</Button>;
export const Secondary = () => <Button variant="secondary">Secondary Button</Button>;
export const WithIcon = () => (
  <Button variant="primary" icon={<IconStar />}>
    Star Button
  </Button>
);
```

> *å°Tipsï¼šç”¨ Storybook çš„ Controls æ’ä»¶ï¼Œè®©ç”¨æˆ·åœ¨æ–‡æ¡£ä¸­åŠ¨æ€è°ƒæ•´ propï¼Œä½“éªŒæ„Ÿæ‹‰æ»¡ã€‚*

### 8.3 è‡ªåŠ¨åŒ–æ–‡æ¡£

å¯ä»¥ç”¨ `react-docgen` æˆ– `docusaurus` è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ï¼š

```json
// package.json
{
  "scripts": {
    "docs": "react-docgen src/components --out docs/api"
  }
}
```

> *å°Tipsï¼šè‡ªåŠ¨åŒ–æ–‡æ¡£èƒ½çœä¸å°‘æ—¶é—´ï¼Œä½†è¦å®šæœŸæ£€æŸ¥ç”Ÿæˆç»“æœï¼Œé¿å…æ–‡æ¡£å’Œä»£ç â€œä¸¤å¼ çš®â€ã€‚*

## 9. æ‰“åŒ…ä¸å‘å¸ƒ

ç»„ä»¶åº“å¼€å‘å®Œäº†ï¼Œæ¥ä¸‹æ¥æ˜¯æ‰“åŒ…å’Œå‘å¸ƒã€‚

### 9.1 æ‰“åŒ…

ç”¨ Rollup æ‰“åŒ…ï¼Œç¡®ä¿è¾“å‡º ESM å’Œ CJS æ¨¡å—ã€‚åˆ«å¿˜äº†ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶ï¼š

```json
// package.json
{
  "scripts": {
    "build": "rollup -c && tsc --emitDeclarationOnly"
  },
  "types": "dist/index.d.ts",
  "main": "dist/index.cjs.js",
  "module": "dist/index.esm.js",
  "files": ["dist"]
}
```

### 9.2 ä¼˜åŒ–åŒ…å¤§å°

- **Tree Shaking**ï¼šç¡®ä¿ `sideEffects: false`ã€‚
- **å‹ç¼©**ï¼šç”¨ `terser` æˆ– `esbuild` å‹ç¼©ä»£ç ã€‚
- **åˆ†åŒ…**ï¼šå°†å¤§ç»„ä»¶ï¼ˆå¦‚ DatePickerï¼‰å•ç‹¬æ‰“åŒ…ï¼š

```tsx
// index.ts
export { default as DatePicker } from "./components/DatePicker";
```

ç”¨æˆ·å¯ä»¥æŒ‰éœ€å¯¼å…¥ï¼š

```tsx
import { DatePicker } from "my-component-lib/date-picker";
```

### 9.3 å‘å¸ƒåˆ° npm

ç¡®ä¿ `package.json` é…ç½®æ­£ç¡®ï¼š

```json
{
  "name": "@your-org/my-component-lib",
  "version": "1.0.0",
  "main": "dist/index.cjs.js",
  "module": "dist/index.esm.js",
  "types": "dist/index.d.ts",
  "files": ["dist"],
  "peerDependencies": {
    "react": "^18.0.0",
    "react-dom": "^18.0.0"
  }
}
```

è¿è¡Œ `npm publish`ï¼Œä½ çš„ç»„ä»¶åº“å°±ä¸Šçº¿å•¦ï¼ğŸ‰

> *å°Tipsï¼šå‘å¸ƒå‰ç”¨ `npm pack` æµ‹è¯•æ‰“åŒ…ç»“æœï¼Œç¡®ä¿ç”¨æˆ·æ‹¿åˆ°çš„æ˜¯æ­£ç¡®çš„å†…å®¹ã€‚åˆ«å¿˜äº†å†™ä¸ªè¯¦ç»†çš„ READMEï¼Œåƒå†™æƒ…ä¹¦ä¸€æ ·ç”¨å¿ƒã€‚*

## 10. æœ€ä½³å®è·µä¸ç»éªŒåˆ†äº«

æœ€åï¼Œåˆ†äº«ä¸€äº›æˆ‘åœ¨å¼€å‘ç»„ä»¶åº“æ—¶çš„ç»éªŒæ•™è®­ï¼š

- **ä¿æŒç®€å•**ï¼šä¸è¦ä¸€å¼€å§‹å°±è¿½æ±‚â€œå¤§è€Œå…¨â€ï¼Œå…ˆæŠŠæ ¸å¿ƒç»„ä»¶åšå¥½ã€‚
- **æ³¨é‡ a11y**ï¼šæ— éšœç¢æ”¯æŒä¸æ˜¯å¯é€‰çš„ï¼Œæ¯”å¦‚ç¡®ä¿æŒ‰é’®æœ‰ `aria-label`ã€‚
- **ç‰ˆæœ¬ç®¡ç†**ï¼šç”¨ SemVer è§„èŒƒç‰ˆæœ¬å·ï¼Œé¿å…ç”¨æˆ·å‡çº§æ—¶ä¸€è„¸æ‡µé€¼ã€‚
- **æ€§èƒ½ä¼˜å…ˆ**ï¼šç”¨ `React.memo` å’Œ Tree Shaking è®©ç»„ä»¶åº“è½»é‡é«˜æ•ˆã€‚
- **ç¤¾åŒºåé¦ˆ**ï¼šå¦‚æœæ˜¯å¼€æºé¡¹ç›®ï¼Œç§¯æå“åº” issue å’Œ PRï¼Œç”¨æˆ·ä¼šçˆ±ä¸Šä½ çš„ã€‚
- **æŒç»­è¿­ä»£**ï¼šç»„ä»¶åº“ä¸æ˜¯â€œä¸€é”¤å­ä¹°å–â€ï¼Œè¦æ ¹æ®ç”¨æˆ·åé¦ˆä¸æ–­ä¼˜åŒ–ã€‚

æˆ‘æ›¾è¸©è¿‡ä¸€ä¸ªå‘ï¼šä¸€å¼€å§‹æ²¡åšæ— éšœç¢æ”¯æŒï¼Œç»“æœè¢«ç”¨æˆ·åæ§½â€œé”®ç›˜ç”¨æˆ·å®Œå…¨ç”¨ä¸äº†â€ã€‚åæ¥èŠ±äº†ä¸¤å‘¨è¡¥é½ a11yï¼Œç—›å®šæ€ç—›ï¼Œä»æ­¤æŠŠæ— éšœç¢åˆ—ä¸ºå¿…å¤‡åŠŸèƒ½ã€‚

> *å°Tipsï¼šå¼€å‘ç»„ä»¶åº“å°±åƒè°ˆæ‹çˆ±ï¼Œå€¾å¬ç”¨æˆ·éœ€æ±‚æ¯”ä¸€å‘³ç‚«æŠ€æ›´é‡è¦ã€‚ç”¨æˆ·åé¦ˆæ˜¯ä½ æœ€å¥½çš„â€œå¯¼å¸ˆâ€ã€‚*

## ç»“è¯­

æ‰“é€ ä¸€ä¸ªå‰ç«¯ç»„ä»¶åº“ï¼Œå°±åƒé…¿ä¸€å›å¥½é…’ï¼Œéœ€è¦æ—¶é—´ã€è€å¿ƒå’Œå¯¹ç»†èŠ‚çš„æè‡´è¿½æ±‚ã€‚ä»è§„åˆ’æ¶æ„åˆ°å®ç°ç»„ä»¶ï¼Œä»æ ·å¼ç³»ç»Ÿåˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œä»æµ‹è¯•æ–‡æ¡£åˆ°å‘å¸ƒä¸Šçº¿ï¼Œæ¯ä¸€æ­¥éƒ½å……æ»¡äº†æŒ‘æˆ˜å’Œä¹è¶£ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä»…èƒ½æå‡ä½ çš„æŠ€æœ¯èƒ½åŠ›ï¼Œè¿˜èƒ½è®©ä½ æ›´æ·±åˆ»åœ°ç†è§£å‰ç«¯å¼€å‘çš„æœ¬è´¨ã€‚

å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½ä¸ºä½ ç‚¹äº®ä¸€ç›ç¯ï¼ŒæŒ‡å¼•ä½ åœ¨ç»„ä»¶åº“å¼€å‘çš„è·¯ä¸Šè¶Šèµ°è¶Šè¿œã€‚å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œæˆ–è€…æƒ³åˆ†äº«ä½ çš„ç»„ä»¶åº“å¼€å‘ç»éªŒï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæˆ– X ä¸Š @æˆ‘ï¼è®©æˆ‘ä»¬ä¸€èµ·åœ¨å‰ç«¯çš„æ±Ÿæ¹–é‡Œï¼Œæ‰“é€ æ›´å¤šâ€œç¥å…µåˆ©å™¨â€ï¼âš”ï¸

---
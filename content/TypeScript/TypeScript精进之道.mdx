---
type: "Post"
title: "TypeScriptç²¾è¿›ä¹‹é“ ğŸ¨"
date: "2024-02-22"
description: "ä¸€ç¯‡å…¨é¢æ·±å…¥çš„ TypeScript æœ€ä½³å®è·µæŒ‡å—ï¼Œæ¶µç›–ç±»å‹ç³»ç»Ÿã€ä»£ç ç»„ç»‡ã€é”™è¯¯å¤„ç†ã€æ€§èƒ½ä¼˜åŒ–ã€æ¡†æ¶æ•´åˆã€æµ‹è¯•ä¸åä½œï¼Œé¢å‘å‰ç«¯å¼€å‘è€…ï¼Œç»“åˆå®ä¾‹ã€åŸç†ä¸å“²å­¦æ€è€ƒï¼ŒåŠ©ä½ å†™å‡ºä¼˜é›…ä¸”å¥å£®çš„ä»£ç ã€‚"
keywords: "TypeScript, å‰ç«¯å¼€å‘, ç±»å‹ç³»ç»Ÿ, ä»£ç è§„èŒƒ, æœ€ä½³å®è·µ, JavaScript, é™æ€ç±»å‹, React, Vue, ç¼–ç¨‹å“²å­¦"
author: "æ™“é¾™"
image: "/images/hero/typescript-best-practices.jpg"
tags: ["TypeScript", "æ¨è", "JavaScript", "React", "Vue", "ç¼–ç è§„èŒƒ"]
category: "TypeScript"
---

> â€œä»£ç æ˜¯å†™ç»™äººè¯»çš„ï¼Œé¡ºä¾¿è®©æœºå™¨æ‰§è¡Œã€‚â€ â€”â€” Robert C. Martin

å—¨ï¼Œå‰ç«¯çš„ä¼™ä¼´ä»¬ï¼ğŸ‘‹ æ¬¢è¿æ¥åˆ° TypeScript çš„å¥‡å¦™ä¸–ç•Œï¼ä½œä¸º JavaScript çš„è¶…é›†ï¼ŒTypeScript å‡­å€Ÿå…¶å¼ºå¤§çš„é™æ€ç±»å‹ç³»ç»Ÿï¼Œå·²ç»æˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„æ ‡é…å·¥å…·ã€‚æ— è®ºæ˜¯ Reactã€Vueã€Angularï¼Œè¿˜æ˜¯ Node.js é¡¹ç›®ï¼ŒTypeScript éƒ½èƒ½è®©ä½ çš„ä»£ç æ›´å¥å£®ã€å¯ç»´æŠ¤ï¼Œç”šè‡³æœ‰ç‚¹â€œä¼˜é›…â€ âœ¨ã€‚ä½†è¦çœŸæ­£é©¾é©­ TypeScriptï¼Œä»…ä»…ä¼šå†™ `interface` å’Œ `type` è¿œè¿œä¸å¤Ÿï¼ä½ éœ€è¦æŒæ¡ä¸€ç³»åˆ—æœ€ä½³å®è·µï¼Œæ‰èƒ½åœ¨â€œç±»å‹å®‰å…¨â€ä¸â€œå¼€å‘æ•ˆç‡â€ä¹‹é—´æ‰¾åˆ°å®Œç¾å¹³è¡¡ã€‚

è¿™ç¯‡åšå®¢å°†å¸¦ä½ ä» TypeScript çš„åŸºç¡€åˆ°é«˜çº§åº”ç”¨ï¼Œæ·±å…¥ç±»å‹ç³»ç»ŸåŸç†ï¼Œåˆ†äº«å®ç”¨æŠ€å·§ï¼Œç©¿æ’çœŸå®æ¡ˆä¾‹ï¼Œç”šè‡³èŠèŠç¼–ç¨‹å“²å­¦å’Œæ€ç»´æ–¹å¼ã€‚æ–‡ç« ä¼šå°½é‡å¹½é»˜é£è¶£ï¼Œå¶å°”å¼•ç”¨åè¨€é‡‘å¥ï¼ŒåŠ›æ±‚è®©æ¯ç‡¥çš„æŠ€æœ¯å†…å®¹å˜å¾—ç”ŸåŠ¨æœ‰è¶£ã€‚æˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•å†™å‡ºä¼˜é›…çš„ä»£ç ã€å¦‚ä½•ä¼˜åŒ–å›¢é˜Ÿåä½œã€å¦‚ä½•åœ¨å¤æ‚é¡¹ç›®ä¸­ä¿æŒå¿ƒæ™ºæ¸…æ˜ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœº TypeScript çš„å†’é™©ä¹‹æ—…å§ï¼ğŸš€



## ç›®å½•

1. **ä¸ºä»€ä¹ˆé€‰æ‹© TypeScriptï¼Ÿ**
   - TypeScript çš„æ ¸å¿ƒä»·å€¼
   - é™æ€ç±»å‹ç³»ç»Ÿçš„å“²å­¦æ€è€ƒ
   - é€‚ç”¨åœºæ™¯ä¸è¯¯åŒº
2. **ç±»å‹ç³»ç»Ÿçš„æœ€ä½³å®è·µ**
   - åŸºç¡€ç±»å‹ä¸é«˜çº§ç±»å‹
   - ç±»å‹çš„ç²¾ç¡®æ€§ä¸å®½æ³›æ€§çš„å¹³è¡¡
   - å®ç”¨ç±»å‹å·¥å…·çš„åº”ç”¨
   - é«˜çº§ç±»å‹æ¨¡å¼ä¸æ¡ˆä¾‹
3. **ä»£ç ç»„ç»‡ä¸æ¨¡å—åŒ–**
   - æ–‡ä»¶ç»“æ„ä¸å‘½åè§„èŒƒ
   - æ¨¡å—åŒ–è®¾è®¡ä¸ç±»å‹å¯¼å‡º
   - å¤§å‹é¡¹ç›®çš„ç±»å‹ç®¡ç†
4. **é”™è¯¯å¤„ç†ä¸ç±»å‹å®‰å…¨**
   - å¼‚å¸¸æ•è·ä¸ç±»å‹æ–­è¨€
   - é¿å… `any` çš„æ­£ç¡®å§¿åŠ¿
   - è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥
5. **æ€§èƒ½ä¼˜åŒ–ä¸ç¼–è¯‘é…ç½®**
   - tsconfig çš„ç²¾å¦™è®¾ç½®
   - ç±»å‹æ¨æ–­ä¸æ€§èƒ½æƒè¡¡
   - ç¼–è¯‘æ€§èƒ½ä¼˜åŒ–æ¡ˆä¾‹
6. **ä¸ç°ä»£æ¡†æ¶çš„ç»“åˆ**
   - React + TypeScript çš„æœ€ä½³å®è·µ
   - Vue + TypeScript çš„æ³¨æ„äº‹é¡¹
   - Node.js ä¸ TypeScript çš„é›†æˆ
7. **æµ‹è¯•ä¸ç±»å‹ç³»ç»Ÿçš„åä½œ**
   - å•å…ƒæµ‹è¯•ä¸­çš„ç±»å‹ä¿éšœ
   - Mock æ•°æ®ä¸ç±»å‹å®‰å…¨
   - é›†æˆæµ‹è¯•ä¸­çš„ç±»å‹æŒ‘æˆ˜
8. **å›¢é˜Ÿåä½œä¸ä»£ç è§„èŒƒ**
   - ESLint ä¸ TypeScript çš„ç»“åˆ
   - ä»£ç å®¡æŸ¥ä¸­çš„ç±»å‹é—®é¢˜
   - åˆ¶å®šå›¢é˜Ÿ TypeScript è§„èŒƒ
9. **ç¼–ç¨‹å“²å­¦ä¸æ„Ÿæ‚Ÿ**
   - ç±»å‹ç³»ç»ŸèƒŒåçš„è®¾è®¡æ€ç»´
   - å†™ä»£ç å¦‚å†™è¯—çš„è‰ºæœ¯
   - ä» TypeScript çœ‹ç¼–ç¨‹æ€ç»´çš„è¿›åŒ–
10. **æ€»ç»“ä¸æœªæ¥å±•æœ›**

---

## 1. ä¸ºä»€ä¹ˆé€‰æ‹© TypeScriptï¼Ÿ

### 1.1 TypeScript çš„æ ¸å¿ƒä»·å€¼

TypeScript çš„å‡ºç°å°±åƒç»™ JavaScript è£…ä¸Šäº†ä¸€å¥—â€œå®‰å…¨å¸¦â€ï¼šå®ƒé€šè¿‡é™æ€ç±»å‹æ£€æŸ¥ï¼Œåœ¨ä»£ç è¿è¡Œå‰å°±èƒ½æªå‡ºæ½œåœ¨çš„é”™è¯¯ã€‚æ— è®ºæ˜¯å°å‹ä¸ªäººé¡¹ç›®è¿˜æ˜¯å¤§å‹ä¼ä¸šçº§åº”ç”¨ï¼ŒTypeScript éƒ½èƒ½æ˜¾è‘—æå‡å¼€å‘ä½“éªŒã€‚ä»¥ä¸‹æ˜¯ TypeScript çš„ä¸‰å¤§æ ¸å¿ƒä»·å€¼ï¼Œç”¨ä¸€å¼ è¡¨æ ¼æ¥æ¸…æ™°å‘ˆç°ï¼š

| **ä»·å€¼**         | **æè¿°**                                                                 | **å®é™…æ”¶ç›Š**                             |
|------------------|--------------------------------------------------------------------------|------------------------------------------|
| **ç±»å‹å®‰å…¨**     | é€šè¿‡é™æ€ç±»å‹æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯                                         | å‘Šåˆ« `undefined is not a function` ğŸ˜…    |
| **ä»£ç å¯è¯»æ€§**   | ç±»å‹å®šä¹‰ç›¸å½“äºä»£ç çš„â€œè‡ªå¸¦æ–‡æ¡£â€ï¼Œè®©ä»£ç æ„å›¾ä¸€ç›®äº†ç„¶                       | å›¢é˜Ÿåä½œæ›´é«˜æ•ˆï¼Œç»´æŠ¤æˆæœ¬ç›´çº¿ä¸‹é™         |
| **å·¥å…·æ”¯æŒ**     | IDE çš„æ™ºèƒ½æç¤ºã€è‡ªåŠ¨è¡¥å…¨ã€é‡æ„å·¥å…·å› ç±»å‹ç³»ç»Ÿè€Œæ›´å¼ºå¤§                     | å¼€å‘æ•ˆç‡ç¿»å€ï¼Œå†™ä»£ç å¦‚ä¸èˆ¬é¡ºæ»‘ ğŸ¥°       |

ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼Œæ²¡æœ‰ TypeScript æ—¶ï¼Œä½ å¯èƒ½å†™å‡ºè¿™æ ·çš„ä»£ç ï¼š

```javascript
function getUserInfo(user) {
  return `${user.name} is ${user.age} years old`;
}

const user = { name: 'Alice' }; // å¿˜è®°å®šä¹‰ age
console.log(getUserInfo(user)); // è¿è¡Œæ—¶é”™è¯¯ï¼šundefined
```

æœ‰äº† TypeScriptï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼š

```typescript
interface User {
  name: string;
  age: number;
}

function getUserInfo(user: User): string {
  return `${user.name} is ${user.age} years old`;
}

const user = { name: 'Alice' }; // ç¼–è¯‘é”™è¯¯ï¼šç¼ºå°‘ age å±æ€§
```

åœ¨ç¼–è¯‘é˜¶æ®µï¼ŒTypeScript å°±æé†’ä½  `user` ç¼ºå°‘ `age` å±æ€§ï¼Œé¿å…äº†è¿è¡Œæ—¶é”™è¯¯ã€‚è¿™ç§â€œé˜²æ‚£äºæœªç„¶â€çš„èƒ½åŠ›ï¼Œæ­£æ˜¯ TypeScript çš„æ ¸å¿ƒé­…åŠ›ã€‚

> *Tips: åœ¨é¡¹ç›®åˆæœŸå°±å¼•å…¥ TypeScriptï¼Œå“ªæ€•åªæ˜¯ç®€å•çš„ç±»å‹å®šä¹‰ï¼Œä¹Ÿèƒ½ä¸ºåç»­å¼€å‘çœä¸‹å¤§é‡è°ƒè¯•æ—¶é—´ã€‚*

### 1.2 é™æ€ç±»å‹ç³»ç»Ÿçš„å“²å­¦æ€è€ƒ

TypeScript çš„ç±»å‹ç³»ç»Ÿæœ¬è´¨ä¸Šæ˜¯ä¸€ç§**å¥‘çº¦**ï¼Œå®ƒå¼ºåˆ¶ä½ å’Œä»£ç ä¹‹é—´è¾¾æˆä¸€è‡´ã€‚å“²å­¦å®¶åº·å¾·æ›¾è¯´ï¼šâ€œè‡ªç”±ä¸æ˜¯éšå¿ƒæ‰€æ¬²ï¼Œè€Œæ˜¯è‡ªæˆ‘çº¦æŸã€‚â€ TypeScript çš„ç±»å‹çº¦æŸçœ‹ä¼¼é™åˆ¶äº† JavaScript çš„â€œè‡ªç”±â€ï¼Œå®åˆ™è®©ä½ åœ¨çº¦æŸä¸­æ‰¾åˆ°æ›´å¤§çš„è‡ªç”±â€”â€”è‡ªç”±åœ°é‡æ„ä»£ç ã€è‡ªç”±åœ°æ‰©å±•åŠŸèƒ½ï¼Œè€Œä¸ç”¨æ‹…å¿ƒâ€œæ”¹ä¸€å¤„å´©å…¨å±€â€ã€‚

è¿™ç§å¥‘çº¦æ€ç»´ä¹Ÿå¯å‘æˆ‘ä»¬æ€è€ƒï¼šå¥½çš„ä»£ç ä¸ä»…ä»…æ˜¯åŠŸèƒ½çš„å®ç°ï¼Œæ›´æ˜¯æ„å›¾çš„è¡¨è¾¾ã€‚TypeScript çš„ç±»å‹å®šä¹‰å°±åƒæ˜¯ä»£ç çš„â€œè“å›¾â€ï¼Œå®ƒè®©ä½ åœ¨åŠ¨æ‰‹å†™ä»£ç å‰ï¼Œå…ˆæ€è€ƒæ¸…æ¥šæ¯ä¸ªéƒ¨åˆ†çš„èŒè´£å’Œè¾¹ç•Œã€‚è¿™ç§â€œå…ˆæ€è€ƒï¼Œåè¡ŒåŠ¨â€çš„ä¹ æƒ¯ï¼Œæ­£æ˜¯ä¼˜ç§€ç¨‹åºå‘˜çš„æ ‡å¿—ã€‚

> *Tips: å†™ç±»å‹å®šä¹‰æ—¶ï¼Œè¯•ç€æŠŠå®ƒä»¬å½“ä½œä»£ç çš„â€œæ•…äº‹æ¿â€ï¼Œæè¿°æ¸…æ¥šæ¯ä¸ªå˜é‡ã€å‡½æ•°çš„è§’è‰²å’Œç›®çš„ã€‚*

### 1.3 é€‚ç”¨åœºæ™¯ä¸è¯¯åŒº

TypeScript å¹¶éä¸‡èƒ½é’¥åŒ™ï¼Œå®ƒæ›´é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š

- **å¤§å‹é¡¹ç›®**ï¼šå›¢é˜Ÿåä½œã€é•¿æœŸç»´æŠ¤çš„é¡¹ç›®ä¸­ï¼ŒTypeScript çš„ç±»å‹ç³»ç»Ÿèƒ½æ˜¾è‘—é™ä½æ²Ÿé€šæˆæœ¬ã€‚
- **å¤æ‚ä¸šåŠ¡é€»è¾‘**ï¼šå½“ä»£ç æ¶‰åŠå¤šå±‚åµŒå¥—çš„æ•°æ®ç»“æ„æ—¶ï¼ŒTypeScript èƒ½å¸®åŠ©ä½ ç†æ¸…å…³ç³»ã€‚
- **æ¡†æ¶å¼€å‘**ï¼šReactã€Vue ç­‰æ¡†æ¶çš„ç”Ÿæ€å·²ç»æ·±åº¦æ‹¥æŠ± TypeScriptï¼Œç±»å‹æ”¯æŒéå¸¸å®Œå–„ã€‚

ä½†ä¹Ÿæœ‰ä¸€äº›è¯¯åŒºéœ€è¦é¿å…ï¼š

- **è¯¯åŒº 1ï¼šTypeScript èƒ½è§£å†³æ‰€æœ‰ Bug**  
  TypeScript åªåœ¨ç¼–è¯‘æœŸæ£€æŸ¥ç±»å‹ï¼Œè¿è¡Œæ—¶é”™è¯¯ï¼ˆå¦‚ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼‰ä»éœ€æ‰‹åŠ¨å¤„ç†ã€‚
- **è¯¯åŒº 2ï¼šç±»å‹è¶Šå¤šè¶Šå¥½**  
  è¿‡åº¦å¤æ‚çš„ç±»å‹å®šä¹‰ä¼šå¢åŠ ç»´æŠ¤æˆæœ¬ï¼Œé™ä½å¼€å‘æ•ˆç‡ã€‚
- **è¯¯åŒº 3ï¼šTypeScript å®Œå…¨å–ä»£ JavaScript**  
  å°å‹è„šæœ¬æˆ–å¿«é€ŸåŸå‹å¼€å‘å¯èƒ½ä¸éœ€è¦ TypeScript çš„â€œé‡å‹è£…å¤‡â€ã€‚

> *Tips: åœ¨å†³å®šæ˜¯å¦ä½¿ç”¨ TypeScript æ—¶ï¼Œè¯„ä¼°é¡¹ç›®çš„è§„æ¨¡å’Œå¤æ‚åº¦ï¼Œé¿å…â€œä¸ºäº†ç”¨è€Œç”¨â€ã€‚*

---

## 2. ç±»å‹ç³»ç»Ÿçš„æœ€ä½³å®è·µ

TypeScript çš„ç±»å‹ç³»ç»Ÿæ˜¯å®ƒçš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯å¼€å‘è€…æœ€éœ€è¦èŠ±æ—¶é—´æŒæ¡çš„éƒ¨åˆ†ã€‚ä»¥ä¸‹å°†ä»åŸºç¡€åˆ°é«˜çº§ï¼Œå…¨é¢æ¢è®¨ç±»å‹ç³»ç»Ÿçš„ç”¨æ³•å’ŒæŠ€å·§ã€‚

### 2.1 åŸºç¡€ç±»å‹ä¸é«˜çº§ç±»å‹

#### åŸºç¡€ç±»å‹

TypeScript çš„åŸºç¡€ç±»å‹åŒ…æ‹¬ `string`ã€`number`ã€`boolean` ç­‰ï¼Œå¼€å‘è€…éœ€è¦å…»æˆæ˜¾å¼å£°æ˜ç±»å‹çš„ä¹ æƒ¯ï¼Œä»¥æé«˜ä»£ç å¯è¯»æ€§ã€‚

```typescript
// âŒ éšå¼æ¨æ–­
let count = 42;

// âœ… æ˜¾å¼å£°æ˜
let count: number = 42;
```

å¦ä¸€ä¸ªå®ç”¨æŠ€å·§æ˜¯ä½¿ç”¨ **const æ–­è¨€**ï¼Œè®©å­—é¢é‡ç±»å‹æ›´ç²¾ç¡®ï¼š

```typescript
// âŒ å®½æ³›çš„ç±»å‹æ¨æ–­
const colors = ['red', 'blue', 'green']; // string[]

// âœ… ç²¾ç¡®çš„å­—é¢é‡ç±»å‹
const colors = ['red', 'blue', 'green'] as const; // readonly ["red", "blue", "green"]
```

> *Tips: ä½¿ç”¨ `as const` å¯ä»¥è®©æ•°ç»„æˆ–å¯¹è±¡å˜æˆåªè¯»çš„å­—é¢é‡ç±»å‹ï¼Œç‰¹åˆ«é€‚åˆå®šä¹‰æšä¸¾å€¼æˆ–é…ç½®é¡¹ã€‚*

#### é«˜çº§ç±»å‹

TypeScript æä¾›äº†ä¸°å¯Œçš„å·¥å…·ç±»å‹ï¼Œæ¯”å¦‚ `Partial<T>`ã€`Pick<T, K>`ã€`Omit<T, K>` ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•åœ¨ç”¨æˆ·ç®¡ç†æ¨¡å—ä¸­ä½¿ç”¨è¿™äº›å·¥å…·ç±»å‹ï¼š

```typescript
interface User {
  id: number;
  name: string;
  email: string;
  age?: number;
  role: 'admin' | 'user' | 'guest';
}

// åªéœ€è¦éƒ¨åˆ†å­—æ®µæ—¶
type UserPreview = Pick<User, 'id' | 'name'>;

// æ›´æ–°ç”¨æˆ·æ—¶å…è®¸éƒ¨åˆ†å­—æ®µ
type UserUpdate = Partial<User>;

// ç§»é™¤æ•æ„Ÿå­—æ®µ
type PublicUser = Omit<User, 'email'>;

// ç¤ºä¾‹ç”¨æ³•
const userPreview: UserPreview = { id: 1, name: 'Alice' };
const userUpdate: UserUpdate = { name: 'Bob' };
const publicUser: PublicUser = { id: 1, name: 'Alice', role: 'user' };
```

> *Tips: å–„ç”¨å·¥å…·ç±»å‹å¯ä»¥è®©ä½ çš„ç±»å‹å®šä¹‰æ›´ç®€æ´ï¼ŒåŒæ—¶ä¿æŒç±»å‹å®‰å…¨ï¼Œé¿å…é‡å¤å®šä¹‰ç›¸ä¼¼çš„ç±»å‹ã€‚*

### 2.2 ç±»å‹çš„ç²¾ç¡®æ€§ä¸å®½æ³›æ€§çš„å¹³è¡¡

ç±»å‹ç³»ç»Ÿå°±åƒçƒ¹é¥ªï¼šå¤ªç²¾ç¡®å¯èƒ½å¯¼è‡´ä»£ç åƒµç¡¬ï¼Œå¤ªå®½æ³›åˆ™å¤±å»ç±»å‹å®‰å…¨çš„æ„ä¹‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¹³è¡¡æŠ€å·§ï¼š

- **ä¼˜å…ˆä½¿ç”¨å…·ä½“ç±»å‹**ï¼šæ¯”å¦‚ç”¨ `string[]` è€Œä¸æ˜¯ `Array<string>`ï¼Œç”¨ `Record<string, number>` è€Œä¸æ˜¯ `{ [key: string]: number }`ã€‚

```typescript
// âŒ è¿‡äºå®½æ³›
function logData(data: any): void {
  console.log(data);
}

// âœ… å…·ä½“ç±»å‹
function logData(data: { id: number; name: string }): void {
  console.log(data);
}
```

- **é¿å…è¿‡åº¦ç²¾ç¡®**ï¼šå¦‚æœç±»å‹è¿‡äºå…·ä½“ï¼Œå¯èƒ½ä¼šé™åˆ¶ä»£ç çš„æ‰©å±•æ€§ã€‚

```typescript
// âŒ è¿‡äºç²¾ç¡®
function greet(name: 'Alice' | 'Bob'): string {
  return `Hello, ${name}!`;
}

// âœ… é€‚å½“å®½æ³›
function greet(name: string): string {
  return `Hello, ${name}!`;
}
```

ä¸€ä¸ªçœŸå®çš„æ¡ˆä¾‹ï¼šå‡è®¾ä½ åœ¨å¼€å‘ä¸€ä¸ªç”µå•†å¹³å°ï¼Œå•†å“æ•°æ®å¯èƒ½æœ‰å¤šç§ç±»å‹ï¼ˆä¹¦ç±ã€ç”µå­äº§å“ç­‰ï¼‰ã€‚ä½ å¯ä»¥è¿™æ ·å®šä¹‰ç±»å‹ï¼š

```typescript
interface Product {
  id: number;
  name: string;
  price: number;
}

interface Book extends Product {
  type: 'book';
  author: string;
}

interface Electronic extends Product {
  type: 'electronic';
  brand: string;
}

type AnyProduct = Book | Electronic;

function displayProduct(product: AnyProduct): string {
  return `${product.name} - $${product.price}`;
}
```

è¿™é‡Œï¼Œ`AnyProduct` æ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œæ—¢ä¿è¯äº†ç±»å‹çš„ç²¾ç¡®æ€§ï¼ˆå¿…é¡»æ˜¯ `Book` æˆ– `Electronic`ï¼‰ï¼Œåˆä¿ç•™äº†çµæ´»æ€§ï¼ˆå¯ä»¥æ‰©å±•æ–°çš„äº§å“ç±»å‹ï¼‰ã€‚

> *Tips: åœ¨å®šä¹‰ç±»å‹æ—¶ï¼Œé—®è‡ªå·±ï¼šâ€œè¿™ä¸ªç±»å‹æ˜¯å¦éœ€è¦æ”¯æŒæœªæ¥çš„æ‰©å±•ï¼Ÿâ€ å¦‚æœéœ€è¦ï¼Œé€‚å½“æ”¾å®½çº¦æŸã€‚*

### 2.3 å®ç”¨ç±»å‹å·¥å…·çš„åº”ç”¨

TypeScript çš„ç±»å‹å·¥å…·æ˜¯ä½ çš„â€œè¶…çº§è‹±é›„è£…å¤‡â€ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›é«˜é˜¶ç”¨æ³•ï¼š

- **æ¡ä»¶ç±»å‹**ï¼šç”¨äºåŠ¨æ€ç”Ÿæˆç±»å‹ã€‚

```typescript
type IsString<T> = T extends string ? true : false;

type Test1 = IsString<string>; // true
type Test2 = IsString<number>; // false
```

- **æ˜ å°„ç±»å‹**ï¼šç”¨äºæ‰¹é‡æ“ä½œç±»å‹ã€‚

```typescript
type ReadonlyProps<T> = {
  readonly [K in keyof T]: T[K];
};

interface User {
  name: string;
  age: number;
}

type ReadonlyUser = ReadonlyProps<User>;
// { readonly name: string; readonly age: number }
```

- **æ¨¡æ¿å­—é¢é‡ç±»å‹**ï¼šç”¨äºç”Ÿæˆå­—ç¬¦ä¸²ç±»å‹çš„ç»„åˆã€‚

```typescript
type Color = 'red' | 'blue';
type Size = 'small' | 'large';
type Style = `${Color}-${Size}`;

const style: Style = 'red-large'; // åˆæ³•
const invalid: Style = 'red-medium'; // ç¼–è¯‘é”™è¯¯
```

ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼šå‡è®¾ä½ éœ€è¦ä¸ºä¸€ä¸ª UI ç»„ä»¶åº“å®šä¹‰æŒ‰é’®çš„å˜ä½“ç±»å‹ï¼š

```typescript
type Variant = 'primary' | 'secondary';
type Size = 'sm' | 'md' | 'lg';
type ButtonStyle = `${Variant}-${Size}`;

interface ButtonProps {
  style: ButtonStyle;
  label: string;
}

const button: ButtonProps = {
  style: 'primary-md',
  label: 'Click Me',
};
```

æ¨¡æ¿å­—é¢é‡ç±»å‹è®©ä½ çš„ä»£ç æ—¢ä¸¥æ ¼åˆçµæ´»ï¼Œå®Œç¾é€‚é…åŠ¨æ€ç”Ÿæˆçš„ç±»åã€‚

> *Tips: æ¡ä»¶ç±»å‹å’Œæ˜ å°„ç±»å‹é€‚åˆå¤„ç†å¤æ‚é€»è¾‘ï¼Œä½†åœ¨ç®€å•åœºæ™¯ä¸‹ä¼˜å…ˆä½¿ç”¨å†…ç½®å·¥å…·ç±»å‹å¦‚ `Partial` æˆ– `Pick`ï¼Œä»¥æé«˜å¯è¯»æ€§ã€‚*

### 2.4 é«˜çº§ç±»å‹æ¨¡å¼ä¸æ¡ˆä¾‹

#### 2.4.1 é€’å½’ç±»å‹

åœ¨å¤„ç†åµŒå¥—æ•°æ®ç»“æ„æ—¶ï¼Œé€’å½’ç±»å‹éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼ŒJSON æ•°æ®å¯èƒ½åŒ…å«ä»»æ„å±‚çº§çš„åµŒå¥—ï¼š

```typescript
type JSONValue =
  | string
  | number
  | boolean
  | null
  | JSONValue[]
  | { [key: string]: JSONValue };

const data: JSONValue = {
  name: 'Alice',
  age: 30,
  address: {
    city: 'New York',
    details: ['street', 123],
  },
};
```

é€’å½’ç±»å‹è®© TypeScript èƒ½å¤Ÿå®‰å…¨åœ°å¤„ç†å¤æ‚çš„åµŒå¥—ç»“æ„ã€‚

> *Tips: å®šä¹‰é€’å½’ç±»å‹æ—¶ï¼Œæ³¨æ„é¿å…æ— é™å¾ªç¯ï¼Œå¿…è¦æ—¶ä½¿ç”¨ `type` è€Œä¸æ˜¯ `interface`ã€‚*

#### 2.4.2 æ³›å‹çº¦æŸ

æ³›å‹æ˜¯ TypeScript çš„é«˜çº§ç‰¹æ€§ï¼Œåˆç†ä½¿ç”¨æ³›å‹çº¦æŸå¯ä»¥è®©ä»£ç æ›´çµæ´»ã€‚ä¾‹å¦‚ï¼š

```typescript
function merge<T extends object, U extends object>(obj1: T, obj2: U): T & U {
  return { ...obj1, ...obj2 };
}

const user = { name: 'Alice' };
const details = { age: 30 };
const merged = merge(user, details); // { name: string; age: number }
```

> *Tips: ä½¿ç”¨ `extends` çº¦æŸæ³›å‹ï¼Œç¡®ä¿è¾“å…¥å‚æ•°ç¬¦åˆé¢„æœŸç±»å‹ï¼Œé¿å…è¿‡äºå®½æ³›çš„ç±»å‹æ¨æ–­ã€‚*

#### 2.4.3 æ¡ˆä¾‹ï¼šè¡¨å•éªŒè¯å™¨

å‡è®¾ä½ éœ€è¦ä¸ºä¸€ä¸ªè¡¨å•è®¾è®¡ç±»å‹å®‰å…¨çš„éªŒè¯å™¨ï¼š

```typescript
interface FieldConfig<T> {
  value: T;
  required?: boolean;
  validator?: (value: T) => string | null;
}

type FormConfig = Record<string, FieldConfig<any>>;

function validateForm(config: FormConfig): Record<string, string | null> {
  const errors: Record<string, string | null> = {};
  for (const [key, field] of Object.entries(config)) {
    if (field.required && !field.value) {
      errors[key] = `${key} is required`;
    } else if (field.validator) {
      errors[key] = field.validator(field.value);
    } else {
      errors[key] = null;
    }
  }
  return errors;
}

// ç¤ºä¾‹
const form: FormConfig = {
  username: {
    value: '',
    required: true,
  },
  email: {
    value: 'alice@example.com',
    validator: (value: string) =>
      /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value) ? null : 'Invalid email',
  },
};

const errors = validateForm(form);
console.log(errors);
// {
//   username: "username is required",
//   email: null
// }
```

è¿™ä¸ªæ¡ˆä¾‹å±•ç¤ºäº†å¦‚ä½•é€šè¿‡æ³›å‹å’ŒåŠ¨æ€ç±»å‹å®šä¹‰ä¸€ä¸ªé€šç”¨çš„è¡¨å•éªŒè¯å™¨ï¼Œæ—¢çµæ´»åˆç±»å‹å®‰å…¨ã€‚

> *Tips: åœ¨è®¾è®¡é€šç”¨å·¥å…·æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨æ³›å‹è€Œé `any`ï¼Œä»¥ä¿ç•™ç±»å‹ä¿¡æ¯ã€‚*

---

## 3. ä»£ç ç»„ç»‡ä¸æ¨¡å—åŒ–

### 3.1 æ–‡ä»¶ç»“æ„ä¸å‘½åè§„èŒƒ

ä¸€ä¸ªå¥½çš„é¡¹ç›®ç»“æ„å°±åƒä¸€æœ¬ç²¾å¿ƒæ’ç‰ˆçš„ä¹¦ï¼Œè®©äººä¸€ç›®äº†ç„¶ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¨èçš„ TypeScript é¡¹ç›®ç»“æ„ï¼Œé€‚åˆä¸­å¤§å‹å‰ç«¯é¡¹ç›®ï¼š

```
src/
â”œâ”€â”€ types/          # å…¨å±€ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ user.ts
â”‚   â”œâ”€â”€ product.ts
â”‚   â”œâ”€â”€ api.ts
â”œâ”€â”€ components/     # React/Vue ç»„ä»¶
â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ format.ts
â”‚   â”œâ”€â”€ validate.ts
â”œâ”€â”€ services/       # API æœåŠ¡
â”‚   â”œâ”€â”€ userService.ts
â”‚   â”œâ”€â”€ productService.ts
â”œâ”€â”€ constants/      # å¸¸é‡
â”‚   â”œâ”€â”€ colors.ts
â”‚   â”œâ”€â”€ endpoints.ts
â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ useAuth.ts
â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”œâ”€â”€ Profile.tsx
```

- **å‘½åè§„èŒƒ**ï¼š
  - ç±»å‹æ–‡ä»¶ä»¥ `.ts` ç»“å°¾ï¼Œç»„ä»¶æ–‡ä»¶ä»¥ `.tsx` ç»“å°¾ã€‚
  - ç±»å‹åä½¿ç”¨ `PascalCase`ï¼Œå¦‚ `UserProfile`ã€‚
  - å¸¸é‡ä½¿ç”¨ `UPPER_SNAKE_CASE`ï¼Œå¦‚ `MAX_RETRY_COUNT`ã€‚
  - å·¥å…·å‡½æ•°å’Œ Hooks ä½¿ç”¨ `camelCase`ï¼Œå¦‚ `formatDate`ã€`useAuth`ã€‚

> *Tips: å°†ç±»å‹å®šä¹‰æ”¾åœ¨å•ç‹¬çš„ `types/` ç›®å½•ä¸­ï¼Œå¯ä»¥æé«˜å¤ç”¨æ€§ï¼ŒåŒæ—¶è®©ç»„ä»¶ä»£ç æ›´èšç„¦äºé€»è¾‘ã€‚*

### 3.2 æ¨¡å—åŒ–è®¾è®¡ä¸ç±»å‹å¯¼å‡º

æ¨¡å—åŒ–æ˜¯ç°ä»£å‰ç«¯å¼€å‘çš„åŸºçŸ³ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ¨¡å—åŒ–çš„æœ€ä½³å®è·µï¼š

- **å¯¼å‡ºç±»å‹**ï¼šå°†ç±»å‹ä¸å®ç°åˆ†ç¦»ï¼Œæ–¹ä¾¿å¤ç”¨ã€‚

```typescript
// types/user.ts
export interface User {
  id: number;
  name: string;
  email: string;
}

// services/userService.ts
import { User } from '../types/user';

export async function fetchUser(id: number): Promise<User> {
  const response = await fetch(`/api/users/${id}`);
  return response.json();
}
```

- **é¿å…å¾ªç¯ä¾èµ–**ï¼šé€šè¿‡æå–å…¬å…±ç±»å‹æˆ–è°ƒæ•´æ¨¡å—ç»“æ„æ¥è§£å†³ã€‚ä¾‹å¦‚ï¼š

```typescript
// types/common.ts
export type ID = number;

// types/user.ts
import { ID } from './common';

export interface User {
  id: ID;
  name: string;
}

// types/product.ts
import { ID } from './common';

export interface Product {
  id: ID;
  name: string;
}
```

> *Tips: ä½¿ç”¨ `export type` ä¸“é—¨å¯¼å‡ºç±»å‹ï¼Œé¿å…ä¸å€¼å¯¼å‡ºæ··æ·†ï¼Œæé«˜ä»£ç æ¸…æ™°åº¦ã€‚*

### 3.3 å¤§å‹é¡¹ç›®çš„ç±»å‹ç®¡ç†

åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œç±»å‹ç®¡ç†å¯èƒ½å˜å¾—å¤æ‚ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åº”å¯¹ç­–ç•¥ï¼š

- **é›†ä¸­å¼ç±»å‹ç®¡ç†**ï¼šå°†å¸¸ç”¨çš„ç±»å‹æ”¾åœ¨ `types/` ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿å…¨å±€å¼•ç”¨ã€‚
- **ç±»å‹å‘½åç©ºé—´**ï¼šä½¿ç”¨å‘½åç©ºé—´é¿å…ç±»å‹å†²çªã€‚

```typescript
namespace API {
  export interface UserResponse {
    data: User;
    status: number;
  }
}

namespace UI {
  export interface User {
    id: number;
    name: string;
  }
}
```

- **ç±»å‹ç”Ÿæˆå·¥å…·**ï¼šä½¿ç”¨å·¥å…·å¦‚ `graphql-codegen` æˆ– `openapi-typescript` è‡ªåŠ¨ç”Ÿæˆç±»å‹ã€‚

> *Tips: åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå®šæœŸå®¡æŸ¥ç±»å‹å®šä¹‰çš„å¤ç”¨ç‡ï¼Œåˆå¹¶é‡å¤ç±»å‹ä»¥å‡å°‘ç»´æŠ¤æˆæœ¬ã€‚*

---

## 4. é”™è¯¯å¤„ç†ä¸ç±»å‹å®‰å…¨

### 4.1 å¼‚å¸¸æ•è·ä¸ç±»å‹æ–­è¨€

TypeScript çš„ç±»å‹ç³»ç»Ÿå¹¶ä¸èƒ½å®Œå…¨æ¶ˆé™¤è¿è¡Œæ—¶é”™è¯¯ï¼Œå› æ­¤éœ€è¦ç»“åˆå¼‚å¸¸å¤„ç†ï¼š

```typescript
async function fetchData(url: string): Promise<unknown> {
  try {
    const response = await fetch(url);
    if (!response.ok) throw new Error('Network error');
    return await response.json();
  } catch (error) {
    console.error('Fetch error:', error);
    throw error;
  }
}

// ç±»å‹æ–­è¨€
interface User {
  id: number;
  name: string;
}

const data = await fetchData('/api/user') as User;
```

> *Tips: ä½¿ç”¨ç±»å‹æ–­è¨€æ—¶ï¼Œç¡®ä¿æœ‰å……åˆ†çš„è¿è¡Œæ—¶æ£€æŸ¥ï¼Œé¿å…ç±»å‹ä¸åŒ¹é…å¯¼è‡´çš„é”™è¯¯ã€‚*

### 4.2 é¿å… `any` çš„æ­£ç¡®å§¿åŠ¿

`any` æ˜¯ TypeScript çš„â€œé€ƒç”Ÿèˆ±â€ï¼Œä½†æ»¥ç”¨ä¼šå¯¼è‡´ç±»å‹å®‰å…¨å¤±æ•ˆã€‚ä»¥ä¸‹æ˜¯æ›¿ä»£æ–¹æ¡ˆï¼š

- **ä½¿ç”¨ `unknown`**ï¼šå½“ç±»å‹ä¸ç¡®å®šæ—¶ï¼Œ`unknown` æ¯” `any` æ›´å®‰å…¨ã€‚

```typescript
// âŒ ä½¿ç”¨ any
function processData(data: any) {
  return data.name;
}

// âœ… ä½¿ç”¨ unknown
function processData(data: unknown) {
  if (typeof data === 'object' && data !== null && 'name' in data) {
    return (data as { name: string }).name;
  }
  throw new Error('Invalid data');
}
```

- **ä½¿ç”¨æ³›å‹**ï¼šå½“éœ€è¦åŠ¨æ€ç±»å‹æ—¶ï¼Œæ³›å‹æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚

```typescript
function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

const user = { name: 'Alice', age: 30 };
const name = getProperty(user, 'name'); // string
```

> *Tips: æ¯æ¬¡æƒ³ç”¨ `any` æ—¶ï¼Œå…ˆé—®è‡ªå·±ï¼šâ€œèƒ½ä¸èƒ½ç”¨ `unknown` æˆ–æ³›å‹ï¼Ÿâ€ è¿™èƒ½æ˜¾è‘—æé«˜ä»£ç å®‰å…¨æ€§ã€‚*

### 4.3 è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥

TypeScript åªåœ¨ç¼–è¯‘æœŸæ£€æŸ¥ç±»å‹ï¼Œè¿è¡Œæ—¶ä»éœ€éªŒè¯æ•°æ®çš„æ­£ç¡®æ€§ã€‚å¯ä»¥ä½¿ç”¨åº“å¦‚ `zod` æˆ– `io-ts` è¿›è¡Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼š

```typescript
import { z } from 'zod';

const UserSchema = z.object({
  id: z.number(),
  name: z.string(),
});

type User = z.infer<typeof UserSchema>;

async function fetchUser(id: number): Promise<User> {
  const response = await fetch(`/api/users/${id}`);
  const data = await response.json();
  return UserSchema.parse(data); // è¿è¡Œæ—¶éªŒè¯
}
```

> *Tips: åœ¨ä¸å¤–éƒ¨ API äº¤äº’æ—¶ï¼Œå§‹ç»ˆä½¿ç”¨è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿æ•°æ®ç¬¦åˆé¢„æœŸç±»å‹ã€‚*

---

## 5. æ€§èƒ½ä¼˜åŒ–ä¸ç¼–è¯‘é…ç½®

### 5.1 tsconfig çš„ç²¾å¦™è®¾ç½®

`tsconfig.json` æ˜¯ TypeScript é¡¹ç›®çš„å¿ƒè„ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¨èé…ç½®ï¼š

```json
{
  "compilerOptions": {
    "target": "es2020",
    "module": "esnext",
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "incremental": true,
    "declaration": true,
    "outDir": "./dist",
    "rootDir": "./src"
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

- **strict æ¨¡å¼**ï¼šå¼€å¯æ‰€æœ‰ä¸¥æ ¼æ£€æŸ¥ï¼Œç¡®ä¿ç±»å‹å®‰å…¨ã€‚
- **skipLibCheck**ï¼šè·³è¿‡ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹æ£€æŸ¥ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦ã€‚
- **incremental**ï¼šå¯ç”¨å¢é‡ç¼–è¯‘ï¼Œå‡å°‘é‡å¤ç¼–è¯‘æ—¶é—´ã€‚

> *Tips: åœ¨é¡¹ç›®åˆæœŸå°±å¯ç”¨ `strict` æ¨¡å¼ï¼Œè™½ç„¶ä¼šå¢åŠ å‰æœŸå·¥ä½œé‡ï¼Œä½†èƒ½é¿å…åæœŸçš„å¤§é‡ç±»å‹é—®é¢˜ã€‚*

### 5.2 ç±»å‹æ¨æ–­ä¸æ€§èƒ½æƒè¡¡

TypeScript çš„ç±»å‹æ¨æ–­å¾ˆå¼ºå¤§ï¼Œä½†è¿‡åº¦å¤æ‚çš„ç±»å‹å®šä¹‰å¯èƒ½å¯¼è‡´ç¼–è¯‘å˜æ…¢ï¼š

- **ç®€åŒ–å¤æ‚ç±»å‹**ï¼šå°†åµŒå¥—ç±»å‹æ‹†åˆ†ä¸ºå¤šä¸ªå°ç±»å‹ã€‚

```typescript
// âŒ å¤æ‚åµŒå¥—
type ComplexType = { a: { b: { c: number } } };

// âœ… æ‹†åˆ†
type C = { c: number };
type B = { b: C };
type A = { a: B };
```

- **é¿å…è¿‡åº¦æ³›å‹**ï¼šæ³›å‹è™½å¼ºå¤§ï¼Œä½†åµŒå¥—è¿‡æ·±ä¼šå¢åŠ ç¼–è¯‘å¼€é”€ã€‚

```typescript
// âŒ å¤æ‚æ³›å‹
type DeepNested<T> = T extends infer U ? { value: DeepNested<U> } : never;

// âœ… ç®€åŒ–
type SimpleNested<T> = { value: T };
```

> *Tips: å¦‚æœç¼–è¯‘é€Ÿåº¦å˜æ…¢ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰è¿‡äºå¤æ‚çš„ç±»å‹å®šä¹‰ï¼Œå°è¯•æ‹†åˆ†æˆ–ä½¿ç”¨ `type` è€Œä¸æ˜¯ `interface`ã€‚*

### 5.3 ç¼–è¯‘æ€§èƒ½ä¼˜åŒ–æ¡ˆä¾‹

åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œç¼–è¯‘æ€§èƒ½å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¼˜åŒ–æ¡ˆä¾‹ï¼š

**é—®é¢˜**ï¼šä¸€ä¸ªåŒ…å« 1000+ æ–‡ä»¶çš„ React é¡¹ç›®ï¼Œ`tsc` ç¼–è¯‘éœ€è¦ 30 ç§’ã€‚

**ä¼˜åŒ–æ­¥éª¤**ï¼š
1. å¯ç”¨ `incremental` ç¼–è¯‘ï¼Œä»…ç¼–è¯‘å˜æ›´æ–‡ä»¶ã€‚
2. ä½¿ç”¨ `skipLibCheck` è·³è¿‡ç¬¬ä¸‰æ–¹åº“æ£€æŸ¥ã€‚
3. åˆ†æ¨¡å—ç¼–è¯‘ï¼šå°†é¡¹ç›®æ‹†åˆ†ä¸ºå¤šä¸ª `tsconfig.json`ï¼ˆå¦‚ `client` å’Œ `server`ï¼‰ã€‚
4. ä½¿ç”¨ `tsc --noEmit` æ£€æŸ¥ç±»å‹ï¼Œç»“åˆ `esbuild` è¿›è¡Œå¿«é€Ÿæ„å»ºã€‚

**ç»“æœ**ï¼šç¼–è¯‘æ—¶é—´ä» 30 ç§’é™è‡³ 5 ç§’ã€‚

> *Tips: åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå°è¯•ä½¿ç”¨ `esbuild` æˆ– `swc` æ›¿æ¢ `tsc` çš„æ„å»ºéƒ¨åˆ†ï¼Œä¿ç•™ TypeScript çš„ç±»å‹æ£€æŸ¥åŠŸèƒ½ã€‚*

---

## 6. ä¸ç°ä»£æ¡†æ¶çš„ç»“åˆ

### 6.1 React + TypeScript çš„æœ€ä½³å®è·µ

React æ˜¯ TypeScript çš„æœ€ä½³æ‹æ¡£ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å®ç”¨æŠ€å·§ï¼š

- **å‡½æ•°ç»„ä»¶çš„ç±»å‹**ï¼š

```typescript
import React from 'react';

interface Props {
  name: string;
  age?: number;
}

const Greeting: React.FC<Props> = ({ name, age }) => {
  return <div>Hello, {name}{age ? `, age ${age}` : ''}!</div>;
};
```

- **äº‹ä»¶å¤„ç†**ï¼š

```typescript
const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {
  console.log('Button clicked:', event.currentTarget);
};
```

- **è‡ªå®šä¹‰ Hooks**ï¼š

```typescript
import { useState, useEffect } from 'react';

interface User {
  id: number;
  name: string;
}

function useUser(id: number): { user: User | null; loading: boolean } {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function fetchUser() {
      const response = await fetch(`/api/users/${id}`);
      const data = await response.json();
      setUser(data);
      setLoading(false);
    }
    fetchUser();
  }, [id]);

  return { user, loading };
}
```

> *Tips: ä½¿ç”¨ `React.FC` å¯ä»¥è‡ªåŠ¨æ¨æ–­ `children` ç±»å‹ï¼Œä½†å¦‚æœä¸éœ€è¦ `children`ï¼Œç›´æ¥ç”¨å‡½æ•°ç±»å‹æ›´ç®€æ´ã€‚*

### 6.2 Vue + TypeScript çš„æ³¨æ„äº‹é¡¹

Vue 3 çš„ `defineComponent` æä¾›äº†è‰¯å¥½çš„ TypeScript æ”¯æŒï¼š

```typescript
import { defineComponent } from 'vue';

export default defineComponent({
  props: {
    name: {
      type: String,
      required: true,
    },
  },
  setup(props) {
    return () => <div>Hello, {props.name}!</div>;
  },
});
```

æ³¨æ„äº‹é¡¹ï¼š
- ç¡®ä¿ `props` çš„ç±»å‹æ˜ç¡®ï¼Œé¿å…éšå¼ `any`ã€‚
- ä½¿ç”¨ `defineProps` å’Œ `defineEmits` æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ TypeScript è¯­æ³•ï¼š

```typescript
import { defineProps, defineEmits } from 'vue';

interface Props {
  name: string;
}

const props = defineProps<Props>();
const emit = defineEmits<{
  (e: 'update', value: string): void;
}>();
```

> *Tips: åœ¨ Vue ä¸­ä½¿ç”¨ TypeScript æ—¶ï¼Œç¡®ä¿æ‰€æœ‰ `props` å’Œ `emits` éƒ½æœ‰æ˜ç¡®çš„ç±»å‹å®šä¹‰ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯ã€‚*

### 6.3 Node.js ä¸ TypeScript çš„é›†æˆ

åœ¨ Node.js é¡¹ç›®ä¸­ï¼ŒTypeScript ä¹Ÿèƒ½å¤§æ˜¾èº«æ‰‹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ª Express åº”ç”¨çš„ç¤ºä¾‹ï¼š

```typescript
import express, { Request, Response } from 'express';

interface User {
  id: number;
  name: string;
}

const app = express();

app.get('/users/:id', async (req: Request<{ id: string }>, res: Response<User>) => {
  const id = parseInt(req.params.id);
  const user: User = { id, name: 'Alice' }; // æ¨¡æ‹Ÿæ•°æ®
  res.json(user);
});

app.listen(3000, () => {
  console.log('Server running on port 3000');
});
```

> *Tips: åœ¨ Node.js é¡¹ç›®ä¸­ï¼Œä½¿ç”¨ `@types` åŒ…ï¼ˆå¦‚ `@types/express`ï¼‰ç¡®ä¿ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹æ”¯æŒã€‚*

---

## 7. æµ‹è¯•ä¸ç±»å‹ç³»ç»Ÿçš„åä½œ

### 7.1 å•å…ƒæµ‹è¯•ä¸­çš„ç±»å‹ä¿éšœ

TypeScript çš„ç±»å‹ç³»ç»Ÿå¯ä»¥æå‡æµ‹è¯•ä»£ç çš„è´¨é‡ï¼š

```typescript
import { describe, it, expect } from 'vitest';
import { getUser } from './userService';

describe('User Service', () => {
  it('should fetch user data', async () => {
    const user = await getUser(1);
    expect(user).toEqual({
      id: 1,
      name: 'Alice',
    });
  });
});
```

> *Tips: åœ¨æµ‹è¯•ä¸­å¤ç”¨é¡¹ç›®çš„ç±»å‹å®šä¹‰ï¼Œç¡®ä¿æµ‹è¯•æ•°æ®ä¸å®é™…ç±»å‹ä¸€è‡´ã€‚*

### 7.2 Mock æ•°æ®ä¸ç±»å‹å®‰å…¨

ä½¿ç”¨ `jest.mock` æˆ– `vi.mock` æ—¶ï¼Œç¡®ä¿ Mock æ•°æ®ç¬¦åˆç±»å‹ï¼š

```typescript
vi.mock('./userService', () => ({
  getUser: vi.fn().mockResolvedValue({ id: 1, name: 'Alice' } as User),
}));
```

> *Tips: Mock æ•°æ®æ—¶ï¼Œæ˜¾å¼å£°æ˜ç±»å‹ï¼ˆå¦‚ `as User`ï¼‰ï¼Œé¿å…ç±»å‹ä¸åŒ¹é…å¯¼è‡´çš„æµ‹è¯•å¤±è´¥ã€‚*

### 7.3 é›†æˆæµ‹è¯•ä¸­çš„ç±»å‹æŒ‘æˆ˜

åœ¨é›†æˆæµ‹è¯•ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°å¤æ‚çš„ç±»å‹é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæµ‹è¯•ä¸€ä¸ªéœ€è¦å¤šä¸ªä¾èµ–çš„ API ç«¯ç‚¹ï¼š

```typescript
import { test, expect } from 'vitest';
import { app } from './app';

test('GET /users/:id returns user data', async () => {
  const response = await app.request('/users/1');
  const data = await response.json();
  expect(data).toEqual({
    id: 1,
    name: 'Alice',
  });
});
```

> *Tips: åœ¨é›†æˆæµ‹è¯•ä¸­ï¼Œä½¿ç”¨ç±»å‹æ–­è¨€æˆ–è¿è¡Œæ—¶éªŒè¯ï¼ˆå¦‚ `zod`ï¼‰ç¡®ä¿è¿”å›æ•°æ®çš„ç±»å‹å®‰å…¨ã€‚*

---

## 8. å›¢é˜Ÿåä½œä¸ä»£ç è§„èŒƒ

### 8.1 ESLint ä¸ TypeScript çš„ç»“åˆ

ESLint å’Œ TypeScript æ˜¯å¤©ä½œä¹‹åˆï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¨èé…ç½®ï¼š

```json
{
  "extends": [
    "plugin:@typescript-eslint/recommended",
    "plugin:react/recommended",
    "plugin:react-hooks/recommended"
  ],
  "plugins": ["@typescript-eslint"],
  "rules": {
    "@typescript-eslint/no-explicit-any": "error",
    "@typescript-eslint/explicit-function-return-type": "warn",
    "@typescript-eslint/consistent-type-imports": "error"
  }
}
```

> *Tips: é…ç½® ESLint æ—¶ï¼Œå¯ç”¨ `@typescript-eslint` æ’ä»¶ï¼Œç¡®ä¿ç±»å‹ç›¸å…³çš„ lint è§„åˆ™ç”Ÿæ•ˆã€‚*

### 8.2 ä»£ç å®¡æŸ¥ä¸­çš„ç±»å‹é—®é¢˜

åœ¨ä»£ç å®¡æŸ¥æ—¶ï¼Œå…³æ³¨ä»¥ä¸‹ç±»å‹é—®é¢˜ï¼š

- æ˜¯å¦æ»¥ç”¨ `any` æˆ– `unknown`ã€‚
- æ˜¯å¦æœ‰ä¸å¿…è¦çš„ç±»å‹æ–­è¨€ã€‚
- ç±»å‹å®šä¹‰æ˜¯å¦æ¸…æ™°ä¸”å¯å¤ç”¨ã€‚

> *Tips: åœ¨ä»£ç å®¡æŸ¥ä¸­ï¼Œå»ºè®®å›¢é˜Ÿæˆå‘˜ä¸ºæ¯ä¸ªç±»å‹å®šä¹‰æ·»åŠ æ³¨é‡Šï¼Œè¯´æ˜å…¶ç”¨é€”ï¼Œæå‡ä»£ç å¯è¯»æ€§ã€‚*

### 8.3 åˆ¶å®šå›¢é˜Ÿ TypeScript è§„èŒƒ

ä¸€ä¸ªå¥½çš„ TypeScript è§„èŒƒå¯ä»¥æ˜¾è‘—æå‡å›¢é˜Ÿæ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹è§„èŒƒï¼š

- **ç±»å‹å®šä¹‰**ï¼š
  - ä¼˜å…ˆä½¿ç”¨ `interface` å®šä¹‰å¯¹è±¡ç±»å‹ï¼Œ`type` ç”¨äºè”åˆç±»å‹æˆ–å¤æ‚ç±»å‹ã€‚
  - ç±»å‹åä½¿ç”¨ `PascalCase`ï¼Œé¿å…ä½¿ç”¨ `I` å‰ç¼€ã€‚
- **æ–‡ä»¶ç»“æ„**ï¼š
  - ç±»å‹å®šä¹‰æ”¾åœ¨ `types/` ç›®å½•ï¼Œç»„ä»¶æ”¾åœ¨ `components/` ç›®å½•ã€‚
  - æ¯ä¸ªæ¨¡å—æœ€å¤šåŒ…å« 3 ä¸ªä¸»è¦ç±»å‹å®šä¹‰ï¼Œè¶…è¿‡åˆ™æ‹†åˆ†æ–‡ä»¶ã€‚
- **ä»£ç é£æ ¼**ï¼š
  - å‡½æ•°è¿”å›ç±»å‹æ˜¾å¼å£°æ˜ï¼Œé™¤éæ˜¯ç®€å•å‡½æ•°ã€‚
  - é¿å…ä½¿ç”¨ `any`ï¼Œä¼˜å…ˆä½¿ç”¨ `unknown` æˆ–æ³›å‹ã€‚

> *Tips: åœ¨åˆ¶å®šè§„èŒƒæ—¶ï¼Œç»„ç»‡ä¸€æ¬¡å›¢é˜Ÿè®¨è®ºï¼Œç¡®ä¿æ‰€æœ‰äººç†è§£å¹¶è®¤åŒè§„èŒƒå†…å®¹ã€‚*

---

## 9. ç¼–ç¨‹å“²å­¦ä¸æ„Ÿæ‚Ÿ

### 9.1 ç±»å‹ç³»ç»ŸèƒŒåçš„è®¾è®¡æ€ç»´

TypeScript çš„ç±»å‹ç³»ç»Ÿä¸ä»…ä»…æ˜¯å·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼ã€‚å®ƒé¼“åŠ±ä½ **æå‰è§„åˆ’**ä»£ç çš„ç»“æ„ï¼Œå°±åƒå»ºç­‘å¸ˆåœ¨ç›–æˆ¿å­å‰å…ˆç”»å¥½è“å›¾ã€‚æ­£å¦‚ã€Šä»£ç å¤§å…¨ã€‹ä¸­æ‰€è¯´ï¼šâ€œå¥½çš„ä»£ç æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯å †ç Œå‡ºæ¥çš„ã€‚â€

ç±»å‹ç³»ç»Ÿè¿˜ä½“ç°äº†**çº¦æŸä¸è‡ªç”±çš„å¹³è¡¡**ã€‚é€šè¿‡å®šä¹‰æ¸…æ™°çš„ç±»å‹ï¼Œä½ ä¸ºä»£ç è®¾å®šäº†è¾¹ç•Œï¼Œä½†è¿™äº›è¾¹ç•Œåè¿‡æ¥èµ‹äºˆäº†ä½ é‡æ„å’Œæ‰©å±•çš„ä¿¡å¿ƒã€‚è¿™ç§å“²å­¦ä¸ã€Šç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯ã€‹ä¸­æåˆ°çš„â€œè´¨é‡â€æ¦‚å¿µä¸ MUR ç›¸é€šï¼šçœŸæ­£çš„è´¨é‡æºäºå¯¹ç»†èŠ‚çš„å…³æ³¨å’Œå¯¹æ•´ä½“çš„æŒæ§ã€‚

> *Tips: åœ¨å†™ç±»å‹å®šä¹‰æ—¶ï¼Œè¯•ç€ä»â€œç”¨æˆ·æ•…äº‹â€çš„è§’åº¦æ€è€ƒï¼šè¿™ä¸ªç±»å‹çš„â€œç”¨æˆ·â€æ˜¯è°ï¼Ÿå®ƒéœ€è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ*

### 9.2 å†™ä»£ç å¦‚å†™è¯—çš„è‰ºæœ¯

å†™ TypeScript ä»£ç å°±åƒå†™è¯—ï¼šæ—¢è¦ç²¾ç¡®åœ°è¡¨è¾¾æ„å›¾ï¼Œåˆè¦ä¿æŒä¼˜é›…çš„ç»“æ„ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›â€œè¯—æ„â€çš„å»ºè®®ï¼š

- **ç®€æ´è€Œä¸ç®€å•**ï¼šç”¨æœ€å°‘çš„ä»£ç è¡¨è¾¾æœ€å¤šçš„æ„å›¾ã€‚
- **ä¸€è‡´æ€§æ˜¯ç¾å¾·**ï¼šä¿æŒå‘½åã€ç»“æ„ã€ç±»å‹çš„ç»Ÿä¸€ã€‚
- **ä¸ºæœªæ¥è€ƒè™‘**ï¼šå†™ä»£ç æ—¶ï¼Œæƒ³è±¡åŠå¹´åçš„è‡ªå·±ä¼šå¦‚ä½•é˜…è¯»å®ƒã€‚

ä¸€ä¸ªæ¯”å–»ï¼šå¦‚æœè¯´ JavaScript æ˜¯è‡ªç”±å¥”æ”¾çš„æ•£æ–‡ï¼ŒTypeScript å°±æ˜¯ç»“æ„ä¸¥è°¨çš„åå››è¡Œè¯—ã€‚å®ƒè¦æ±‚ä½ åœ¨æœ‰é™çš„è§„åˆ™å†…ï¼Œå‘æŒ¥æ— é™çš„åˆ›é€ åŠ›ã€‚

> *Tips: å†™ä»£ç æ—¶ï¼Œå¶å°”åœä¸‹æ¥é—®è‡ªå·±ï¼šâ€œè¿™æ®µä»£ç æ˜¯å¦è¶³å¤Ÿä¼˜é›…ï¼Ÿæ˜¯å¦èƒ½è®©æœªæ¥çš„æˆ‘æ„Ÿåˆ°éª„å‚²ï¼Ÿâ€*

### 9.3 ä» TypeScript çœ‹ç¼–ç¨‹æ€ç»´çš„è¿›åŒ–

TypeScript çš„æµè¡Œåæ˜ äº†ç¼–ç¨‹æ€ç»´çš„è¿›åŒ–ï¼šä»â€œå¿«é€Ÿå®ç°â€åˆ°â€œé•¿æœŸç»´æŠ¤â€ï¼Œä»â€œä¸ªäººè‹±é›„ä¸»ä¹‰â€åˆ°â€œå›¢é˜Ÿåä½œâ€ã€‚å®ƒæé†’æˆ‘ä»¬ï¼Œç¼–ç¨‹ä¸ä»…æ˜¯æŠ€æœ¯çš„å®è·µï¼Œæ›´æ˜¯äººä¸äººæ²Ÿé€šçš„è‰ºæœ¯ã€‚æ­£å¦‚ã€Šäººä»¶ã€‹ä¸­æ‰€è¯´ï¼šâ€œè½¯ä»¶å¼€å‘çš„æ ¸å¿ƒæ˜¯äººï¼Œè€Œä¸æ˜¯æŠ€æœ¯ã€‚â€

TypeScript è¿˜æ•™ä¼šæˆ‘ä»¬ä¸€ç§â€œç³»ç»Ÿæ€§æ€ç»´â€ï¼šé€šè¿‡ç±»å‹å®šä¹‰ï¼Œæˆ‘ä»¬å­¦ä¼šäº†ä»å…¨å±€è§†è§’å®¡è§†ä»£ç ï¼Œç†è§£æ¯ä¸ªéƒ¨åˆ†å¦‚ä½•ä¸å…¶ä»–éƒ¨åˆ†äº¤äº’ã€‚è¿™ç§æ€ç»´ä¸ä»…é€‚ç”¨äºç¼–ç¨‹ï¼Œä¹Ÿé€‚ç”¨äºç”Ÿæ´»ï¼šåˆ¶å®šè®¡åˆ’ã€è®¾å®šè¾¹ç•Œã€é¢„ç•™æ‰©å±•ç©ºé—´ã€‚

> *Tips: åœ¨å­¦ä¹  TypeScript çš„è¿‡ç¨‹ä¸­ï¼Œè¯•ç€å°†å…¶ä¸­çš„æ€ç»´æ–¹å¼åº”ç”¨åˆ°å…¶ä»–é¢†åŸŸï¼Œä½ ä¼šå‘ç°ç¼–ç¨‹çš„æ™ºæ…§æ— å¤„ä¸åœ¨ã€‚*

---

## 10. æ€»ç»“ä¸æœªæ¥å±•æœ›

TypeScript ä¸ä»…æ˜¯ä¸€ç§å·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§ç¼–ç¨‹æ–‡åŒ–çš„ä½“ç°ã€‚å®ƒè®©æˆ‘ä»¬åœ¨åŠ¨æ€çš„ JavaScript ä¸–ç•Œä¸­æ‰¾åˆ°äº†ä¸€ä¸ç¡®å®šæ€§ã€‚ä»ç±»å‹ç³»ç»Ÿçš„è®¾è®¡åˆ°ä»£ç ç»„ç»‡çš„è§„èŒƒï¼Œä»é”™è¯¯å¤„ç†çš„ä¸¥è°¨åˆ°å›¢é˜Ÿåä½œçš„æ•ˆç‡ï¼ŒTypeScript åœ¨æ¯ä¸€ä¸ªç¯èŠ‚éƒ½æå‡äº†æˆ‘ä»¬çš„å¼€å‘ä½“éªŒã€‚

å±•æœ›æœªæ¥ï¼ŒTypeScript å¯èƒ½ä¼šè¿›ä¸€æ­¥èå…¥ AI é©±åŠ¨çš„å¼€å‘æµç¨‹ã€‚ä¾‹å¦‚ï¼Œæ™ºèƒ½ IDE å¯èƒ½åŸºäº TypeScript çš„ç±»å‹ä¿¡æ¯ï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç ç‰‡æ®µæˆ–å»ºè®®é‡æ„æ–¹æ¡ˆã€‚è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥å·¥å…·ä¹Ÿå¯èƒ½å˜å¾—æ›´æ™®åŠï¼Œè®©ç±»å‹å®‰å…¨è´¯ç©¿å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒã€‚

å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½ä¸ºä½ æä¾›å®ç”¨çš„æŒ‡å¯¼ï¼Œä¹Ÿèƒ½æ¿€å‘ä½ å¯¹ç¼–ç¨‹çš„çƒ­çˆ±ã€‚è®©æˆ‘ä»¬ç”¨ TypeScript å†™å‡ºæ›´ä¼˜é›…ã€æ›´å¥å£®çš„ä»£ç ï¼Œåˆ›é€ å±äºè‡ªå·±çš„â€œç¼–ç è‰ºæœ¯â€ï¼ğŸŒŸ

> â€œç¼–ç¨‹æ˜¯è‰ºæœ¯ä¸ç§‘å­¦çš„ç»“åˆï¼ŒTypeScript åˆ™æ˜¯è¿™é—¨è‰ºæœ¯çš„ç”»ç¬”ã€‚â€ 


---
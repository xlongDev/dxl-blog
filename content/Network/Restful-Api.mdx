---
type: "Post"
title: "RESTful API è®¾è®¡ç²¾é«“ä¸å‰ç«¯å¼€å‘æœ€ä½³å®è·µ ğŸŒ"
date: "2023-06-29"
description: "æ·±å…¥å‰–æ RESTful API çš„è®¾è®¡å“²å­¦ã€æ ¸å¿ƒåŸåˆ™ä¸å‰ç«¯å¼€å‘çš„æœ€ä½³å®è·µï¼Œç»“åˆä¸°å¯Œç¤ºä¾‹ä¸å®ç”¨æŠ€å·§ï¼ŒåŠ©åŠ›å‰ç«¯å¼€å‘è€…æ„å»ºä¼˜é›…é«˜æ•ˆçš„ç°ä»£ Web åº”ç”¨ã€‚"
keywords: "RESTful API, å‰ç«¯å¼€å‘, API è®¾è®¡, HTTP, æ¶æ„è®¾è®¡, æœ€ä½³å®è·µ, å¼€å‘å“²å­¦"
author: "æ™“é¾™"
image: "/images/hero/restful-api.jpg"
tags: ["RESTful API", "å‰ç«¯å¼€å‘", "Web æ¶æ„", "HTTP"]
category: "Network"
---

> â€œå¥½çš„è®¾è®¡æ˜¯é€æ˜çš„ï¼Œä¼Ÿå¤§çš„è®¾è®¡æ˜¯éšå½¢çš„ã€‚â€  
> â€”â€” Dieter Rams

åœ¨ç°ä»£ Web å¼€å‘çš„æµ©ç€šæ˜Ÿæµ·ä¸­ï¼ŒRESTful API å®›å¦‚ä¸€ç›ç¯å¡”ï¼ŒæŒ‡å¼•ç€å‰åç«¯åä½œçš„æ–¹å‘ã€‚å®ƒä¸ä»…æ˜¯æ•°æ®äº¤äº’çš„æ¡¥æ¢ï¼Œæ›´æ˜¯æ¶æ„ä¼˜é›…ä¸å¼€å‘å“²å­¦çš„ä½“ç°ã€‚å¯¹äºå‰ç«¯å¼€å‘è€…è€Œè¨€ï¼Œç†è§£ RESTful API çš„è®¾è®¡ç²¾é«“å¹¶æŒæ¡ä¸ä¹‹åä½œçš„æœ€ä½³å®è·µï¼Œä¸ä»…èƒ½æå‡ä»£ç è´¨é‡ï¼Œè¿˜èƒ½è®©ä½ çš„é¡¹ç›®å¦‚è¯—èˆ¬æµç•…ï¼Œå¦‚ç”»èˆ¬ç²¾ç¾ã€‚ğŸ¨

æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ RESTful API çš„æ ¸å¿ƒï¼Œä»è®¾è®¡å“²å­¦åˆ°å®ç°ç»†èŠ‚ï¼Œå†åˆ°å‰ç«¯çš„æœ€ä½³å®è·µï¼Œå±‚å±‚é€’è¿›ï¼ŒåŠ›æ±‚å…¨é¢ä¸”æ·±å…¥ã€‚æˆ‘ä»¬å°†ç”¨ç±»æ¯”ã€ç¤ºä¾‹ã€è¡¨æ ¼ï¼Œç”šè‡³ä¸€ç‚¹è¯—æ„ä¸å¹½é»˜ï¼Œä¸ºä½ å‘ˆç°ä¸€ç¯‡æ—¢æœ‰æŠ€æœ¯æ·±åº¦åˆä¸å¤±é˜…è¯»ä¹è¶£çš„åšå®¢ã€‚æ— è®ºä½ æ˜¯åˆæ¢ REST çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯ä¹…ç»æ²™åœºçš„è€å°†ï¼Œè¿™ç¯‡æ–‡ç« éƒ½å°†ä¸ºä½ å¸¦æ¥å¯å‘ä¸æ”¶è·ã€‚ğŸš€

---

## ç›®å½•

1. **RESTful API çš„æœ¬è´¨ä¸å“²å­¦**  
   - ä»€ä¹ˆæ˜¯ RESTï¼Ÿ  
   - REST çš„å…­å¤§çº¦æŸ  
   - REST çš„è®¾è®¡å“²å­¦ï¼šä»æ¶æ„åˆ°æ€ç»´  
2. **RESTful API è®¾è®¡æ ¸å¿ƒåŸåˆ™**  
   - èµ„æºä¸ URI è®¾è®¡  
   - HTTP æ–¹æ³•çš„æ­£ç¡®ä½¿ç”¨  
   - çŠ¶æ€ç çš„è‰ºæœ¯  
   - ç‰ˆæœ¬æ§åˆ¶ä¸å‘åå…¼å®¹  
   - é”™è¯¯å¤„ç†ä¸ç”¨æˆ·ä½“éªŒ  
3. **å‰ç«¯ä¸ RESTful API çš„é«˜æ•ˆåä½œ**  
   - æ•°æ®è·å–ä¸çŠ¶æ€ç®¡ç†  
   - é”™è¯¯å¤„ç†ä¸ç”¨æˆ·åé¦ˆ  
   - æ€§èƒ½ä¼˜åŒ–ï¼šç¼“å­˜ã€åˆ†é¡µä¸æ‡’åŠ è½½  
   - å®‰å…¨æ€§ï¼šè®¤è¯ä¸æˆæƒ  
4. **RESTful API çš„æœ€ä½³å®è·µ**  
   - è®¾è®¡è§„èŒƒä¸æ–‡æ¡£åŒ–  
   - å‰ç«¯å¼€å‘è€…çš„å®ç”¨æŠ€å·§  
   - å¸¸è§è¯¯åŒºä¸åº”å¯¹ç­–ç•¥  
5. **ä» REST åˆ°æœªæ¥ï¼šGraphQLã€gRPC ä¸æ¶æ„æ¼”è¿›**  
   - REST çš„å±€é™æ€§  
   - æ–°æŠ€æœ¯çš„å´›èµ·ä¸é€‰æ‹©  
6. **å¼€å‘å“²å­¦ä¸æ„Ÿæ‚Ÿ**  
   - æ¶æ„æ€ç»´ï¼šä» REST åˆ°ç³»ç»Ÿè®¾è®¡  
   - ä»£ç å³è¯—ï¼šä¼˜é›…å¼€å‘çš„è‰ºæœ¯  
7. **æ€»ç»“ä¸å±•æœ›**

---

## 1. RESTful API çš„æœ¬è´¨ä¸å“²å­¦ ğŸ§ 

### 1.1 ä»€ä¹ˆæ˜¯ RESTï¼Ÿ

RESTï¼ˆRepresentational State Transferï¼Œè¡¨ç°å±‚çŠ¶æ€è½¬ç§»ï¼‰ç”± Roy Fielding åœ¨ 2000 å¹´çš„åšå£«è®ºæ–‡ä¸­æå‡ºï¼Œæ˜¯ä¸€ç§åŸºäº HTTP åè®®çš„æ¶æ„é£æ ¼ï¼Œè€Œéæ ‡å‡†ã€‚å®ƒå¼ºè°ƒä»¥**èµ„æº**ä¸ºæ ¸å¿ƒï¼Œé€šè¿‡æ ‡å‡†åŒ–çš„æ¥å£å’Œæ— çŠ¶æ€çš„äº¤äº’æ–¹å¼ï¼Œå®ç°å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„é«˜æ•ˆé€šä¿¡ã€‚

ç±»æ¯”ä¸€ä¸‹ï¼ŒREST å°±åƒä¸€åº§ç²¾å¿ƒè®¾è®¡çš„å›¾ä¹¦é¦† ğŸ“šï¼š  
- **èµ„æº**æ˜¯ä¹¦æœ¬ï¼Œæ¯æœ¬ä¹¦æœ‰å”¯ä¸€çš„ç¼–å·ï¼ˆURIï¼‰ã€‚  
- **HTTP æ–¹æ³•**æ˜¯ä½ çš„æ“ä½œï¼šå€Ÿä¹¦ï¼ˆGETï¼‰ã€è¿˜ä¹¦ï¼ˆPUTï¼‰ã€æ·»åŠ æ–°ä¹¦ï¼ˆPOSTï¼‰ã€‚  
- **çŠ¶æ€ç **æ˜¯ç®¡ç†å‘˜çš„åé¦ˆï¼šä¹¦å·²å€Ÿå‡ºï¼ˆ404ï¼‰ã€æ“ä½œæˆåŠŸï¼ˆ200ï¼‰ã€‚  
- **æ— çŠ¶æ€**æ„å‘³ç€æ¯æ¬¡å€Ÿä¹¦éƒ½éœ€è¦å‡ºç¤ºå€Ÿä¹¦è¯ï¼Œç®¡ç†å‘˜ä¸ä¼šè®°ä½ä½ ä¸Šæ¬¡å€Ÿäº†ä»€ä¹ˆã€‚

è¿™ç§è®¾è®¡è®©ç³»ç»Ÿç®€æ´ã€å¯æ‰©å±•ï¼Œä¸”æ˜“äºç»´æŠ¤ã€‚

*Tipsï¼šREST ä¸æ˜¯åè®®ï¼Œä¹Ÿä¸æ˜¯æ ‡å‡†ï¼Œè€Œæ˜¯ä¸€ç§é£æ ¼ã€‚ä¸è¦è¢«â€œå¿…é¡»ä¸¥æ ¼éµå®ˆâ€çš„æƒ³æ³•æŸç¼šï¼Œçµæ´»è¿ç”¨æ‰æ˜¯ç‹é“ã€‚*

### 1.2 REST çš„å…­å¤§çº¦æŸ

REST çš„ä¼˜é›…æºäºå…¶å…­å¤§æ¶æ„çº¦æŸï¼Œå®ƒä»¬å…±åŒæ„æˆäº† RESTful ç³»ç»Ÿçš„åŸºçŸ³ã€‚ä»¥ä¸‹æ˜¯ç®€è¦è¯´æ˜ä¸ç±»æ¯”ï¼š

| çº¦æŸ             | è¯´æ˜                                                                 | ç±»æ¯”                                                                 |
|------------------|----------------------------------------------------------------------|----------------------------------------------------------------------|
| **å®¢æˆ·ç«¯-æœåŠ¡ç«¯** | åˆ†ç¦»å…³æ³¨ç‚¹ï¼Œå®¢æˆ·ç«¯è´Ÿè´£ UIï¼ŒæœåŠ¡ç«¯è´Ÿè´£æ•°æ®ä¸é€»è¾‘                     | é¤å…ï¼šå®¢æˆ·ç‚¹é¤ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼Œå¨æˆ¿çƒ¹é¥ªï¼ˆæœåŠ¡ç«¯ï¼‰                         |
| **æ— çŠ¶æ€**       | æ¯æ¬¡è¯·æ±‚åŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯ï¼ŒæœåŠ¡ç«¯ä¸å­˜å‚¨å®¢æˆ·ç«¯çŠ¶æ€                     | æ¯æ¬¡ç‚¹é¤éƒ½éœ€å®Œæ•´è¯´æ˜éœ€æ±‚ï¼ŒæœåŠ¡å‘˜ä¸è®°ä½ä½ çš„åå¥½                       |
| **ç¼“å­˜**         | å“åº”å¯ç¼“å­˜ä»¥æé«˜æ€§èƒ½                                               | é¤å…å¤‡å¥½å¸¸ç”¨èœè°±ï¼ˆç¼“å­˜ï¼‰ï¼Œå‡å°‘é‡å¤çƒ¹é¥ª                               |
| **ç»Ÿä¸€æ¥å£**     | é€šè¿‡æ ‡å‡†åŒ–çš„æ¥å£ï¼ˆURIã€HTTP æ–¹æ³•ç­‰ï¼‰è®¿é—®èµ„æº                        | é¤å…èœå•ç»Ÿä¸€ï¼Œç‚¹é¤æ–¹å¼ä¸€è‡´                                           |
| **åˆ†å±‚ç³»ç»Ÿ**     | ç³»ç»Ÿåˆ†å±‚ï¼Œæ¯å±‚åªä¸ç›¸é‚»å±‚äº¤äº’ï¼Œéšè—å†…éƒ¨å®ç°                         | é¤å…åˆ†å‰å°ã€å¨æˆ¿ã€ä»“åº“ï¼Œå®¢æˆ·æ— éœ€äº†è§£åå¨è¿ä½œ                         |
| **æŒ‰éœ€ä»£ç **     | æœåŠ¡ç«¯å¯æä¾›å¯æ‰§è¡Œä»£ç ï¼ˆå¯é€‰ï¼Œè¾ƒå°‘ä½¿ç”¨ï¼‰                           | é¤å…æä¾›è‡ªåŠ©ç‚¹é¤æœºï¼ˆå®¢æˆ·ç«¯åŠ¨æ€åŠ è½½é€»è¾‘ï¼‰                             |

*Tipsï¼šç†è§£è¿™å…­å¤§çº¦æŸå°±åƒè¯»æ‡‚ä¸€é¦–è¯—çš„éŸµå¾‹ï¼Œåªæœ‰æŒæ¡èŠ‚å¥ï¼Œæ‰èƒ½å†™å‡ºä¼˜é›…çš„ä»£ç ã€‚*

### 1.3 REST çš„è®¾è®¡å“²å­¦ï¼šä»æ¶æ„åˆ°æ€ç»´

REST ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼ã€‚å®ƒæ•™æˆ‘ä»¬å¦‚ä½•ä»¥**ç®€æ´**å¯¹æŠ—å¤æ‚ï¼Œä»¥**çº¦æŸ**æ¢å–è‡ªç”±ã€‚æ­£å¦‚è€å­åœ¨ã€Šé“å¾·ç»ã€‹ä¸­æ‰€è¨€ï¼šâ€œå¤§é“è‡³ç®€ã€‚â€ REST çš„çº¦æŸçœ‹ä¼¼é™åˆ¶ï¼Œå®åˆ™è®©ç³»ç»Ÿæ›´å…·å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

ä»æ¶æ„å±‚é¢çœ‹ï¼ŒREST å¼ºè°ƒ**è§£è€¦**ä¸**æ¨¡å—åŒ–**ï¼Œè¿™ä¸å‰ç«¯å¼€å‘ä¸­çš„ç»„ä»¶åŒ–æ€æƒ³å¼‚æ›²åŒå·¥ã€‚ä»æ€ç»´å±‚é¢ï¼Œå®ƒå¯å‘æˆ‘ä»¬ä»¥**ç”¨æˆ·ä¸ºä¸­å¿ƒ**ï¼Œè®¾è®¡ç›´è§‚ã€æ˜“ç”¨çš„æ¥å£ã€‚æ­£å¦‚ã€Šç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®çš„è‰ºæœ¯ã€‹ä¸­æ‰€è¯´ï¼šâ€œæŠ€æœ¯çš„çœŸæ­£ä»·å€¼åœ¨äºå®ƒå¦‚ä½•æœåŠ¡äºäººæ€§ã€‚â€ RESTful API çš„è®¾è®¡ä¸ä»…æ˜¯ä»£ç çš„å †ç Œï¼Œæ›´æ˜¯å¼€å‘è€…å¯¹ç”¨æˆ·éœ€æ±‚çš„æ·±åˆ»æ´å¯Ÿã€‚

*Tipsï¼šè®¾è®¡ API æ—¶ï¼Œä¸å¦¨é—®è‡ªå·±ï¼šå¦‚æœæˆ‘æ˜¯ç”¨æˆ·ï¼Œè¿™ä¸ªæ¥å£ç”¨èµ·æ¥ä¼šæ„Ÿåˆ°æ„‰æ‚¦å—ï¼Ÿ*

---

## 2. RESTful API è®¾è®¡æ ¸å¿ƒåŸåˆ™ ğŸ“

å¥½çš„ RESTful API è®¾è®¡å¦‚åŒå»ºç­‘ä¸€åº§æ¡¥æ¢ï¼Œæ—¢è¦ç¨³å›ºï¼Œåˆè¦ç¾è§‚ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒåŸåˆ™ä¸ç¤ºä¾‹ã€‚

### 2.1 èµ„æºä¸ URI è®¾è®¡

REST çš„æ ¸å¿ƒæ˜¯**èµ„æº**ï¼Œæ¯ä¸ªèµ„æºé€šè¿‡å”¯ä¸€çš„ URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰è®¿é—®ã€‚URI è®¾è®¡åº”ç›´è§‚ã€è¯­ä¹‰æ˜ç¡®ã€‚

**åŸåˆ™**ï¼š
- ä½¿ç”¨åè¯è¡¨ç¤ºèµ„æºï¼ˆ`/users`, `/orders`ï¼‰ï¼Œé¿å…åŠ¨è¯ï¼ˆ`/getUsers`ï¼‰ã€‚
- å±‚çº§æ¸…æ™°ï¼Œä½“ç°èµ„æºå…³ç³»ï¼ˆ`/users/123/orders`ï¼‰ã€‚
- ä¿æŒç®€æ´ï¼Œé¿å…å†—é•¿ï¼ˆ`/users` è€Œé `/userManagement`ï¼‰ã€‚
- ä½¿ç”¨å¤æ•°å½¢å¼ï¼ˆ`/users` è€Œé `/user`ï¼‰ã€‚

**ç¤ºä¾‹**ï¼š

| URI ç¤ºä¾‹               | è¯´æ˜                              |
|------------------------|-----------------------------------|
| `GET /users`          | è·å–æ‰€æœ‰ç”¨æˆ·                      |
| `GET /users/123`      | è·å– ID ä¸º 123 çš„ç”¨æˆ·             |
| `POST /users`         | åˆ›å»ºæ–°ç”¨æˆ·                        |
| `PUT /users/123`      | æ›´æ–° ID ä¸º 123 çš„ç”¨æˆ·             |
| `DELETE /users/123`   | åˆ é™¤ ID ä¸º 123 çš„ç”¨æˆ·             |
| `GET /users/123/orders`| è·å– ID ä¸º 123 çš„ç”¨æˆ·çš„è®¢å•åˆ—è¡¨   |

*Tipsï¼šURI å°±åƒä¹¦çš„ç›®å½•ï¼Œæ¸…æ™°çš„å‘½åèƒ½è®©ç”¨æˆ·ä¸€ç›®äº†ç„¶ã€‚*

### 2.2 HTTP æ–¹æ³•çš„æ­£ç¡®ä½¿ç”¨

HTTP æ–¹æ³•æ˜¯ RESTful API çš„â€œåŠ¨è¯â€ï¼Œæ¯ä¸ªæ–¹æ³•æœ‰æ˜ç¡®çš„è¯­ä¹‰ï¼š

| æ–¹æ³•   | è¯­ä¹‰                     | å¹‚ç­‰æ€§ | ç¤ºä¾‹                             |
|--------|--------------------------|--------|----------------------------------|
| GET    | è·å–èµ„æº                 | æ˜¯     | `GET /users/123`                |
| POST   | åˆ›å»ºèµ„æºæˆ–è§¦å‘æ“ä½œ       | å¦     | `POST /users`                   |
| PUT    | æ›´æ–°èµ„æºï¼ˆæ•´ä½“æ›¿æ¢ï¼‰     | æ˜¯     | `PUT /users/123`                |
| PATCH  | æ›´æ–°èµ„æºï¼ˆéƒ¨åˆ†ä¿®æ”¹ï¼‰     | å¦     | `PATCH /users/123`              |
| DELETE | åˆ é™¤èµ„æº                 | æ˜¯     | `DELETE /users/123`             |

**ç¤ºä¾‹**ï¼š
```json
// POST /users
{
  "name": "Alice",
  "email": "alice@example.com"
}

// Response
{
  "id": 123,
  "name": "Alice",
  "email": "alice@example.com",
  "createdAt": "2025-04-21T10:00:00Z"
}
```

*Tipsï¼šé€‰æ‹©æ­£ç¡®çš„ HTTP æ–¹æ³•å°±åƒé€‰å¯¹èˆæ­¥ï¼ŒèŠ‚å¥å¯¹äº†ï¼Œèˆå§¿æ‰ä¼šä¼˜é›…ã€‚*

### 2.3 çŠ¶æ€ç çš„è‰ºæœ¯

HTTP çŠ¶æ€ç æ˜¯ API ä¸å‰ç«¯çš„â€œå¯¹è¯è¯­è¨€â€ã€‚å¸¸è§çŠ¶æ€ç å¦‚ä¸‹ï¼š

| çŠ¶æ€ç  | å«ä¹‰                     | ä½¿ç”¨åœºæ™¯                           |
|--------|--------------------------|------------------------------------|
| 200    | æˆåŠŸ                     | è¯·æ±‚æˆåŠŸï¼Œè¿”å›èµ„æº                 |
| 201    | åˆ›å»ºæˆåŠŸ                 | æˆåŠŸåˆ›å»ºèµ„æº                       |
| 204    | æ— å†…å®¹                   | åˆ é™¤æˆåŠŸï¼Œæ— éœ€è¿”å›å†…å®¹             |
| 400    | å®¢æˆ·ç«¯é”™è¯¯               | è¯·æ±‚å‚æ•°é”™è¯¯                       |
| 401    | æœªæˆæƒ                   | æœªæä¾›æœ‰æ•ˆè®¤è¯                     |
| 403    | ç¦æ­¢è®¿é—®                 | æ— æƒé™è®¿é—®èµ„æº                     |
| 404    | èµ„æºä¸å­˜åœ¨               | è¯·æ±‚çš„èµ„æºæœªæ‰¾åˆ°                   |
| 500    | æœåŠ¡å™¨é”™è¯¯               | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯                     |

**ç¤ºä¾‹**ï¼š
```http
HTTP/1.1 201 Created
Content-Type: application/json
Location: /users/123

{
  "id": 123,
  "name": "Alice",
  "email": "alice@example.com"
}
```

*Tipsï¼šçŠ¶æ€ç æ˜¯ API çš„è¡¨æƒ…åŒ… ğŸ˜Šï¼Œç”¨å¯¹äº†èƒ½è®©å‰ç«¯å¼€å‘è€…ä¼šå¿ƒä¸€ç¬‘ã€‚*

### 2.4 ç‰ˆæœ¬æ§åˆ¶ä¸å‘åå…¼å®¹

API æ¼”è¿›ä¸å¯é¿å…ï¼Œç‰ˆæœ¬æ§åˆ¶ç¡®ä¿å…¼å®¹æ€§ã€‚å¸¸è§æ–¹å¼ï¼š
- **URI ç‰ˆæœ¬æ§åˆ¶**ï¼š`/v1/users`  
- **æŸ¥è¯¢å‚æ•°**ï¼š`/users?version=1`  
- **è¯·æ±‚å¤´**ï¼š`Accept: application/vnd.example.v1+json`

**ç¤ºä¾‹**ï¼š
```http
GET /v1/users/123 HTTP/1.1
Host: api.example.com
Accept: application/json
```

*Tipsï¼šç‰ˆæœ¬æ§åˆ¶å°±åƒç»™ API ç©¿ä¸Šâ€œæ—¶é—´èƒ¶å›Šâ€ï¼Œè®©æ—§ä»£ç ä¹Ÿèƒ½ä¼˜é›…è¿è¡Œã€‚*

### 2.5 é”™è¯¯å¤„ç†ä¸ç”¨æˆ·ä½“éªŒ

ä¼˜é›…çš„é”™è¯¯å¤„ç†èƒ½æå‡ç”¨æˆ·ä½“éªŒã€‚é”™è¯¯å“åº”åº”åŒ…å«ï¼š
- é”™è¯¯ç 
- é”™è¯¯æ¶ˆæ¯
- è¯¦ç»†ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰

**ç¤ºä¾‹**ï¼š
```json
{
  "error": {
    "code": 400,
    "message": "Invalid email format",
    "details": {
      "field": "email",
      "value": "invalid-email"
    }
  }
}
```

*Tipsï¼šå¥½çš„é”™è¯¯å“åº”å°±åƒåŒ»ç”Ÿå¼€å‡ºçš„å¤„æ–¹ï¼Œæ¸…æ™°ä¸”æœ‰æŒ‡å¯¼æ€§ã€‚*

---

## 3. å‰ç«¯ä¸ RESTful API çš„é«˜æ•ˆåä½œ ğŸš€

å‰ç«¯å¼€å‘è€…çš„æ—¥å¸¸ç¦»ä¸å¼€ä¸ API çš„â€œäº²å¯†æ¥è§¦â€ã€‚å¦‚ä½•ä¼˜é›…åœ°è°ƒç”¨ APIã€ç®¡ç†æ•°æ®ã€ä¼˜åŒ–æ€§èƒ½ï¼Ÿä»¥ä¸‹æ˜¯å®ç”¨æŠ€å·§ã€‚

### 3.1 æ•°æ®è·å–ä¸çŠ¶æ€ç®¡ç†

ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Reactã€Vueï¼‰é€šå¸¸ç»“åˆçŠ¶æ€ç®¡ç†åº“ï¼ˆReduxã€Vuexã€Zustandï¼‰ä¸ API äº¤äº’ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ª React ç¤ºä¾‹ï¼Œä½¿ç”¨ `axios` è·å–ç”¨æˆ·æ•°æ®ï¼š

```mdx
import React, { useState, useEffect } from 'react';
import axios from 'axios';

const UserList = () => {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchUsers = async () => {
      try {
        const response = await axios.get('https://api.example.com/v1/users');
        setUsers(response.data);
      } catch (err) {
        setError('Failed to fetch users');
      } finally {
        setLoading(false);
      }
    };
    fetchUsers();
  }, []);

  if (loading) return <div>Loading...</div>;
  if (error) return <div>{error}</div>;

  return (
    <ul>
      {users.map(user => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
};

export default UserList;
```

*Tipsï¼šå°† API è°ƒç”¨å°è£…ä¸ºè‡ªå®šä¹‰ Hookï¼Œèƒ½è®©ä»£ç æ›´ç®€æ´ï¼Œå¤ç”¨æ›´æ–¹ä¾¿ã€‚*

### 3.2 é”™è¯¯å¤„ç†ä¸ç”¨æˆ·åé¦ˆ

å‰ç«¯éœ€ä¼˜é›…å¤„ç† API é”™è¯¯ï¼Œæä¾›å‹å¥½çš„ç”¨æˆ·åé¦ˆã€‚ä»¥ä¸‹æ˜¯ç­–ç•¥ï¼š
- **å…¨å±€æ‹¦æˆª**ï¼šä½¿ç”¨ `axios` æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç† 401ã€500 ç­‰é”™è¯¯ã€‚
- **ç”¨æˆ·æç¤º**ï¼šä½¿ç”¨ Toast æˆ– Modal æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚
- **é™çº§å¤„ç†**ï¼šæä¾›é»˜è®¤æ•°æ®æˆ–é‡è¯•æœºåˆ¶ã€‚

**ç¤ºä¾‹**ï¼ˆaxios æ‹¦æˆªå™¨ï¼‰ï¼š
```javascript
import axios from 'axios';
import { toast } from 'react-toastify';

const instance = axios.create({
  baseURL: 'https://api.example.com/v1',
});

instance.interceptors.response.use(
  response => response,
  error => {
    if (error.response?.status === 401) {
      toast.error('Please log in again');
      // Redirect to login
    } else if (error.response?.status === 500) {
      toast.error('Server error, please try later');
    }
    return Promise.reject(error);
  }
);

export default instance;
```

*Tipsï¼šé”™è¯¯å¤„ç†å°±åƒç»™ç”¨æˆ·é€’ä¸Šä¸€æ¯çƒ­èŒ¶ï¼Œæ¸©æš–ä¸”è´´å¿ƒã€‚*

### 3.3 æ€§èƒ½ä¼˜åŒ–ï¼šç¼“å­˜ã€åˆ†é¡µä¸æ‡’åŠ è½½

API è°ƒç”¨å¯èƒ½è€—æ—¶ï¼Œä¼˜åŒ–æ€§èƒ½è‡³å…³é‡è¦ï¼š
- **ç¼“å­˜**ï¼šä½¿ç”¨ `ETag` æˆ– `Cache-Control` å¤´å‡å°‘é‡å¤è¯·æ±‚ã€‚
- **åˆ†é¡µ**ï¼šé€šè¿‡ `limit` å’Œ `offset` å‚æ•°åˆ†æ‰¹åŠ è½½æ•°æ®ã€‚
- **æ‡’åŠ è½½**ï¼šç»“åˆ Intersection Observer å»¶è¿ŸåŠ è½½ã€‚

**ç¤ºä¾‹**ï¼ˆåˆ†é¡µè¯·æ±‚ï¼‰ï¼š
```javascript
const fetchUsers = async (page = 1, limit = 10) => {
  const response = await axios.get(`/users?page=${page}&limit=${limit}`);
  return response.data;
};
```

*Tipsï¼šæ€§èƒ½ä¼˜åŒ–å°±åƒç»™ API è£…ä¸Šæ¶¡è½®å¢å‹å™¨ï¼Œé€Ÿåº¦ä¸æ•ˆç‡åŒé£ã€‚*

### 3.4 å®‰å…¨æ€§ï¼šè®¤è¯ä¸æˆæƒ

å‰ç«¯éœ€å¤„ç†è®¤è¯ï¼ˆå¦‚ OAuthã€JWTï¼‰ä¸æˆæƒï¼š
- **JWT**ï¼šå°† token å­˜å‚¨åœ¨ `localStorage` æˆ– `HttpOnly Cookie` ä¸­ã€‚
- **è¯·æ±‚å¤´**ï¼šåœ¨è¯·æ±‚ä¸­æ·»åŠ  `Authorization: Bearer <token>`ã€‚
- **CSRF é˜²æŠ¤**ï¼šç¡®ä¿ POST è¯·æ±‚æºå¸¦ CSRF tokenã€‚

**ç¤ºä¾‹**ï¼š
```javascript
instance.defaults.headers.common['Authorization'] = `Bearer ${token}`;
```

*Tipsï¼šå®‰å…¨å°±åƒç»™ API ç©¿ä¸Šç›”ç”²ï¼Œæ—¢è¦åšå›ºåˆè¦çµæ´»ã€‚*

---

## 4. RESTful API çš„æœ€ä½³å®è·µ ğŸŒŸ

ä»¥ä¸‹æ˜¯é¢å‘å‰ç«¯å¼€å‘è€…çš„å®ç”¨å»ºè®®ï¼ŒåŠ©ä½ ä¸ RESTful API å…±èˆã€‚

### 4.1 è®¾è®¡è§„èŒƒä¸æ–‡æ¡£åŒ–

å¥½çš„ API ç¦»ä¸å¼€æ¸…æ™°çš„æ–‡æ¡£ã€‚æ¨èä½¿ç”¨ **OpenAPIï¼ˆSwaggerï¼‰** æˆ– **Postman** æ–‡æ¡£åŒ–æ¥å£ã€‚æ–‡æ¡£åº”åŒ…å«ï¼š
- ç«¯ç‚¹æè¿°
- è¯·æ±‚/å“åº”ç¤ºä¾‹
- é”™è¯¯ç è¯´æ˜

**ç¤ºä¾‹**ï¼ˆOpenAPI ç‰‡æ®µï¼‰ï¼š
```yaml
openapi: 3.0.3
info:
  title: User API
  version: 1.0.0
paths:
  /users:
    get:
      summary: List all users
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        email:
          type: string
```

*Tipsï¼šæ–‡æ¡£æ˜¯ API çš„â€œè¯´æ˜ä¹¦â€ï¼Œå†™å¾—å¥½èƒ½çœå»æ— æ•°æ²Ÿé€šæˆæœ¬ã€‚*

### 4.2 å‰ç«¯å¼€å‘è€…çš„å®ç”¨æŠ€å·§

- **æŠ½è±¡ API è°ƒç”¨**ï¼šå°è£… API ä¸ºæœåŠ¡å±‚ï¼Œå‡å°‘é‡å¤ä»£ç ã€‚
- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨ TypeScript å®šä¹‰è¯·æ±‚/å“åº”ç±»å‹ã€‚
- **Mock æ•°æ®**ï¼šå¼€å‘åˆæœŸä½¿ç”¨ Mock å·¥å…·ï¼ˆå¦‚ Mockoonï¼‰æ¨¡æ‹Ÿ APIã€‚

**ç¤ºä¾‹**ï¼ˆTypeScript ç±»å‹ï¼‰ï¼š
```typescript
export interface User {
  id: number;
  name: string;
  email: string;
}

export interface ApiError {
  code: number;
  message: string;
  details?: Record<string, any>;
}
```

*Tipsï¼šç±»å‹å®‰å…¨å°±åƒç»™ä»£ç æˆ´ä¸Šå®‰å…¨å¸¦ï¼Œç¨³ç¨³å½“å½“è·‘å¾—å¿«ã€‚*

### 4.3 å¸¸è§è¯¯åŒºä¸åº”å¯¹ç­–ç•¥

| è¯¯åŒº                     | åº”å¯¹ç­–ç•¥                             |
|--------------------------|--------------------------------------|
| è¿‡åº¦åµŒå¥— URI             | ä¿æŒ URI ç®€æ´ï¼Œå±‚çº§ä¸è¶…è¿‡ 3 å±‚       |
| æ»¥ç”¨ GET ä¼ é€’æ•æ„Ÿæ•°æ®    | ä½¿ç”¨ POST æˆ– HTTPS åŠ å¯†              |
| å¿½ç•¥åˆ†é¡µå¯¼è‡´æ€§èƒ½é—®é¢˜     | å§‹ç»ˆæ”¯æŒåˆ†é¡µå‚æ•°                     |
| çŠ¶æ€ç ä½¿ç”¨ä¸è§„èŒƒ         | ä¸¥æ ¼éµå¾ª HTTP çŠ¶æ€ç è¯­ä¹‰             |

*Tipsï¼šé¿å¼€è¯¯åŒºå°±åƒèº²è¿‡ä»£ç ä¸­çš„â€œåœ°é›·â€ï¼Œä¸€æ­¥å°å¿ƒï¼Œå¤„å¤„å®‰å¿ƒã€‚*

---

## 5. ä» REST åˆ°æœªæ¥ï¼šGraphQLã€gRPC ä¸æ¶æ„æ¼”è¿› ğŸ”®

REST è™½ä¼˜é›…ï¼Œä½†å¹¶éä¸‡èƒ½ã€‚éšç€å‰ç«¯éœ€æ±‚çš„å˜åŒ–ï¼ŒGraphQL å’Œ gRPC ç­‰æ–°æŠ€æœ¯é€æ¸å´­éœ²å¤´è§’ã€‚

### 5.1 REST çš„å±€é™æ€§

- **è¿‡é‡æˆ–ä¸è¶³çš„æ•°æ®**ï¼šREST å¸¸è¿”å›å›ºå®šç»“æ„çš„æ•°æ®ï¼Œå¯èƒ½åŒ…å«å†—ä½™å­—æ®µæˆ–ç¼ºå°‘æ‰€éœ€å­—æ®µã€‚
- **å¤šæ¬¡è¯·æ±‚**ï¼šå¤æ‚é¡µé¢å¯èƒ½éœ€è¦å¤šæ¬¡ API è°ƒç”¨ã€‚
- **ç‰ˆæœ¬ç®¡ç†å¤æ‚**ï¼šAPI ç‰ˆæœ¬å‡çº§å¯èƒ½å¯¼è‡´å…¼å®¹æ€§é—®é¢˜ã€‚

### 5.2 GraphQL ä¸ gRPC çš„å´›èµ·

- **GraphQL**ï¼šå…è®¸å®¢æˆ·ç«¯ç²¾ç¡®æŒ‡å®šæ‰€éœ€å­—æ®µï¼Œå‡å°‘è¿‡é‡æ•°æ®ã€‚
- **gRPC**ï¼šåŸºäº HTTP/2 å’Œ Protocol Buffersï¼Œé€‚åˆé«˜æ€§èƒ½åœºæ™¯ã€‚

**ç¤ºä¾‹**ï¼ˆGraphQL æŸ¥è¯¢ï¼‰ï¼š
```graphql
query {
  user(id: 123) {
    name
    email
    orders {
      id
      total
    }
  }
}
```

*Tipsï¼šé€‰æ‹©æŠ€æœ¯å°±åƒé€‰é¤å…ï¼ŒREST æ˜¯å®¶å¸¸èœï¼ŒGraphQL æ˜¯å®šåˆ¶é¤ï¼ŒgRPC æ˜¯å¿«é¤ï¼Œå„æœ‰åƒç§‹ã€‚*

---

## 6. å¼€å‘å“²å­¦ä¸æ„Ÿæ‚Ÿ ğŸŒŒ

RESTful API çš„å­¦ä¹ ä¸ä»…æ˜¯æŠ€æœ¯çš„ç§¯ç´¯ï¼Œæ›´æ˜¯æ€ç»´çš„å‡åã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ„Ÿæ‚Ÿï¼š

### 6.1 æ¶æ„æ€ç»´ï¼šä» REST åˆ°ç³»ç»Ÿè®¾è®¡

REST æ•™æˆ‘ä»¬ä»¥èµ„æºä¸ºæ ¸å¿ƒï¼Œè¿™ç§æ€ç»´å¯å»¶ä¼¸åˆ°ç³»ç»Ÿè®¾è®¡ã€‚å¥½çš„æ¶æ„å°±åƒä¸€é¦–äº¤å“ä¹ ğŸ¶ï¼Œæ¯ä¸ªæ¨¡å—å„å¸å…¶èŒï¼Œå’Œè°å…±é¸£ã€‚æ­£å¦‚ã€Šå»ºç­‘çš„æ°¸æ’ä¹‹é“ã€‹ä¸­æ‰€è¯´ï¼šâ€œå¥½çš„è®¾è®¡æ˜¯å¯¹å¤æ‚æ€§çš„å¾æœã€‚â€

### 6.2 ä»£ç å³è¯—ï¼šä¼˜é›…å¼€å‘çš„è‰ºæœ¯

ç¼–å†™ä»£ç å¦‚ä½œè¯—ï¼Œéœ€åœ¨æ„èŠ‚å¥ä¸éŸµå¾‹ã€‚RESTful API çš„ä¼˜é›…è®¾è®¡å¯å‘æˆ‘ä»¬è¿½æ±‚ä»£ç çš„ç¾æ„Ÿã€‚æ­£å¦‚é›ªè±åœ¨ã€Šè¯—è¾©ã€‹ä¸­å†™é“ï¼šâ€œè¯—æ˜¯ç¾çš„è®°å½•ã€‚â€ è®©æˆ‘ä»¬ç”¨ä»£ç è®°å½•ç¾çš„ç¬é—´ã€‚

*Tipsï¼šä¼˜é›…çš„ä»£ç å°±åƒä¸€é¦–å¥½è¯—ï¼Œè¯»æ¥ä»¤äººå¿ƒæ—·ç¥æ€¡ã€‚*

---

## 7. æ€»ç»“ä¸å±•æœ›

RESTful API æ˜¯ç°ä»£ Web å¼€å‘çš„åŸºçŸ³ï¼Œå®ƒä»¥ç®€æ´çš„çº¦æŸå’Œä¼˜é›…çš„è®¾è®¡ï¼Œè¿æ¥äº†å‰ç«¯ä¸åç«¯çš„åä½œã€‚é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬ä» REST çš„å“²å­¦åˆ°å®è·µï¼Œä»å‰ç«¯åä½œåˆ°æœªæ¥è¶‹åŠ¿ï¼Œå…¨é¢å‰–æäº†å…¶ç²¾é«“ã€‚å¸Œæœ›è¿™äº›çŸ¥è¯†ä¸æŠ€å·§èƒ½æˆä¸ºä½ å¼€å‘è·¯ä¸Šçš„æ˜ç¯ï¼Œè®©ä½ çš„ä»£ç æ›´ä¼˜é›…ï¼Œé¡¹ç›®æ›´æˆåŠŸã€‚

> â€œè·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚â€  
> â€”â€” å±ˆåŸã€Šç¦»éªšã€‹

æ„¿ä½ åœ¨ RESTful API çš„ä¸–ç•Œä¸­ï¼Œæ‰¾åˆ°å±äºè‡ªå·±çš„è¯—æ„ä¸å“²ç†ã€‚ğŸŒŸ

---
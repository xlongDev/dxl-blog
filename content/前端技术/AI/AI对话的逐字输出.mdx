---
type: "Post"
title: "AIå¯¹è¯çš„é€å­—è¾“å‡ºï¼šæµå¼è¿”å›æ‰æ˜¯å¹•åé»‘æ‰‹ ğŸš€"
date: "2025-01-26"
description: "æ·±å…¥å‰–ææµå¼è¿”å›åœ¨AIå¯¹è¯ä¸­çš„æ ¸å¿ƒä½œç”¨ï¼Œæ­ç¤ºé€å­—è¾“å‡ºçš„æŠ€æœ¯åŸç†ã€æœ€ä½³å®è·µä¸å‰ç«¯å¼€å‘è€…çš„åº”å¯¹ç­–ç•¥ï¼Œå¸¦ä½ èµ°è¿›å®æ—¶äº¤äº’çš„å¹•åä¸–ç•Œã€‚"
keywords: "æµå¼è¿”å›, AIå¯¹è¯, é€å­—è¾“å‡º, WebSocket, Server-Sent Events, å‰ç«¯å¼€å‘, å®æ—¶äº¤äº’, æ€§èƒ½ä¼˜åŒ–"
author: "æ™“é¾™"
image: "/images/hero/streaming-ai.jpg"
tags: ["AI", "Frontend", "Real-time", "Streaming"]
category: "å‰ç«¯æŠ€æœ¯"
---

åœ¨ç°ä»£Webåº”ç”¨ä¸­ï¼ŒAIå¯¹è¯çš„é€å­—è¾“å‡ºï¼ˆå°±åƒä½ å’ŒGrokèŠå¤©æ—¶ï¼Œæ–‡å­—åƒæ‰“å­—æœºä¸€æ ·é€ä¸ªè¹¦å‡ºæ¥ï¼‰å·²ç»æˆä¸ºç”¨æˆ·ä½“éªŒçš„æ ‡é…ã€‚æ— è®ºæ˜¯ChatGPTçš„æµç•…å›å¤ï¼Œè¿˜æ˜¯Grokçš„å¹½é»˜åæ§½ï¼Œè¿™ç§â€œå®æ—¶æ„Ÿâ€éƒ½è®©äººç€è¿·ã€‚ä½†ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œè¿™èƒŒååˆ°åº•è—ç€ä»€ä¹ˆé»‘ç§‘æŠ€ï¼Ÿç­”æ¡ˆæ˜¯ï¼š**æµå¼è¿”å›**ï¼ˆStreaming Responseï¼‰ã€‚å®ƒä¸ä»…æ˜¯æŠ€æœ¯å®ç°çš„å¹•åè‹±é›„ï¼Œæ›´æ˜¯å‰ç«¯å¼€å‘è€…éœ€è¦æ·±å…¥ç†è§£çš„â€œé­”æ³•â€ã€‚âœ¨

è¿™ç¯‡åšå®¢å°†å¸¦ä½ èµ°è¿›æµå¼è¿”å›çš„ä¸–ç•Œï¼Œä»æŠ€æœ¯åŸç†åˆ°å®ç°ç»†èŠ‚ï¼Œä»å‰ç«¯ä¼˜åŒ–åˆ°æœ€ä½³å®è·µï¼Œå…¨é¢è§£æå¦‚ä½•è®©AIå¯¹è¯çš„é€å­—è¾“å‡ºæ—¢ä¸æ»‘åˆé«˜æ•ˆã€‚ç›®æ ‡å—ä¼—æ˜¯å‰ç«¯å¼€å‘è€…ï¼Œæ‰€ä»¥æˆ‘ä¼šæ·±å…¥ä»£ç ã€å‰–æåŸç†ã€æŠ›å‡ºå®ç”¨æŠ€å·§ï¼ŒåŒæ—¶ç”¨ç±»æ¯”å’Œé«˜çº§å¹½é»˜è®©å†…å®¹æ›´æœ‰è¶£ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœºâ€œé€å­—è¾“å‡ºâ€çš„æ¢ç§˜ä¹‹æ—…ï¼ğŸ”

---

## æ–‡ç« ç»“æ„ï¼šæ€ç»´é“¾æ¦‚è§ˆ ğŸ§ 

ä¸ºäº†è®©è¿™ç¯‡17000+å­—çš„åšå®¢æ¸…æ™°æ˜“è¯»ï¼Œæˆ‘å°†å†…å®¹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼Œé€æ­¥é€’è¿›ï¼Œå±‚å±‚å‰¥å¼€æµå¼è¿”å›çš„â€œæ´‹è‘±â€ï¼š

1. **æµå¼è¿”å›æ˜¯ä»€ä¹ˆï¼Ÿ**  
   - å®šä¹‰ã€èƒŒæ™¯å’Œä¸ºä½•é‡è¦
   - ç±»æ¯”ï¼šä»â€œç€‘å¸ƒæµâ€åˆ°â€œæ¶“æ¶“ç»†æµâ€
2. **é€å­—è¾“å‡ºçš„ç”¨æˆ·ä½“éªŒé­”åŠ›**  
   - ä¸ºä»€ä¹ˆç”¨æˆ·çˆ±é€å­—è¾“å‡ºï¼Ÿ
   - å¿ƒç†å­¦ä¸äº¤äº’è®¾è®¡çš„ç»“åˆ
3. **æµå¼è¿”å›çš„æŠ€æœ¯åŸç†**  
   - HTTP/1.1ã€HTTP/2ã€WebSocketã€Server-Sent Eventsï¼ˆSSEï¼‰çš„å¯¹æ¯”
   - åç«¯å¦‚ä½•â€œåâ€æ•°æ®ï¼Ÿï¼ˆNode.jsã€Python FastAPI ç¤ºä¾‹ï¼‰
   - å‰ç«¯å¦‚ä½•â€œæ¥â€æ•°æ®ï¼Ÿï¼ˆReactã€Vue ç¤ºä¾‹ï¼‰
4. **é€å­—è¾“å‡ºçš„å‰ç«¯å®ç°**  
   - æ ¸å¿ƒä»£ç ï¼šå¦‚ä½•æ¸²æŸ“æµå¼æ–‡æœ¬
   - æ€§èƒ½ä¼˜åŒ–ï¼šé˜²æŠ–ã€èŠ‚æµä¸è™šæ‹ŸDOM
   - é”™è¯¯å¤„ç†ï¼šæ–­çº¿é‡è¿ä¸ä¼˜é›…é™çº§
5. **æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹**  
   - 8æ¡å®ç”¨å»ºè®®ï¼Œæ¯æ¡å¸¦ä»£ç ç¤ºä¾‹
   - å°tipsï¼šä»æ€§èƒ½åˆ°ç”¨æˆ·ä½“éªŒçš„ç»†èŠ‚
6. **è¿›é˜¶è¯é¢˜ï¼šæµå¼è¿”å›çš„æœªæ¥**  
   - HTTP/3ã€WebTransport ä¸ AI æ¨¡å‹ä¼˜åŒ–
   - è¾¹ç¼˜è®¡ç®—ä¸æµå¼è¿”å›çš„ç»“åˆ
7. **æ€»ç»“ä¸å±•æœ›**  
   - æµå¼è¿”å›çš„æ„ä¹‰ä¸å‰ç«¯å¼€å‘è€…çš„ä½¿å‘½

æ¯éƒ¨åˆ†éƒ½ä¼šæœ‰æ¸…æ™°çš„è¡¨æ ¼ã€ä»£ç ç¤ºä¾‹ã€ç±»æ¯”è§£é‡Šï¼Œä»¥åŠä¸€ç‚¹ç‚¹â€œç¨‹åºå‘˜å¼å¹½é»˜â€æ¥è°ƒå‰‚æ°”æ°›ã€‚ğŸ˜

---

## 1. æµå¼è¿”å›æ˜¯ä»€ä¹ˆï¼ŸğŸŒŠ

### å®šä¹‰ä¸èƒŒæ™¯

æµå¼è¿”å›ï¼ˆStreaming Responseï¼‰æ˜¯ä¸€ç§æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯çš„é€šä¿¡æ–¹å¼ï¼ŒæœåŠ¡å™¨ä¸æ˜¯ä¸€æ¬¡æ€§å°†å®Œæ•´å“åº”å‘é€ç»™å®¢æˆ·ç«¯ï¼Œè€Œæ˜¯å°†æ•°æ®åˆ†å—ï¼ˆchunkï¼‰é€æ­¥å‘é€ï¼Œå®¢æˆ·ç«¯å¯ä»¥è¾¹æ¥æ”¶è¾¹å¤„ç†ã€‚è¿™ç§æ–¹å¼ç‰¹åˆ«é€‚åˆéœ€è¦å®æ—¶äº¤äº’çš„åœºæ™¯ï¼Œæ¯”å¦‚AIå¯¹è¯ã€å®æ—¶æœç´¢å»ºè®®ã€æˆ–ç›´æ’­å¼¹å¹•ã€‚

ä¼ ç»ŸHTTPè¯·æ±‚å°±åƒç‚¹å¤–å–ï¼šä½ ä¸‹å•åï¼Œç­‰å¤–å–å‘˜æŠŠæ•´ä»½é¤é€åˆ°æ‰å¼€åƒã€‚è€Œæµå¼è¿”å›åƒæ˜¯è‡ªåŠ©ç«é”…ï¼šé£Ÿæä¸€ç›˜ç›˜ä¸Šæ¡Œï¼Œä½ å¯ä»¥è¾¹æ¶®è¾¹åƒï¼Œè¾¹åƒè¾¹èŠï¼Œä½“éªŒæ›´æµç•…ã€‚ğŸ”¥

### ä¸ºä½•é‡è¦ï¼Ÿ

- **ä½å»¶è¿Ÿ**ï¼šç”¨æˆ·æ— éœ€ç­‰å¾…æ•´ä¸ªå“åº”ç”Ÿæˆï¼Œæ•°æ®ä¸€æ¥å°±èƒ½çœ‹åˆ°ã€‚
- **å®æ—¶æ„Ÿ**ï¼šé€å­—è¾“å‡ºè®©AIå¯¹è¯æ›´æœ‰â€œäººå‘³å„¿â€ï¼Œä»¿ä½›å¯¹é¢çœŸæœ‰ä¸ªæ™ºèƒ½ä½“åœ¨æ‰“å­—ã€‚
- **èŠ‚çœèµ„æº**ï¼šæœåŠ¡å™¨å¯ä»¥è¾¹ç”Ÿæˆè¾¹å‘é€ï¼Œé™ä½å†…å­˜å‹åŠ›ã€‚

### ç±»æ¯”ï¼šä»â€œç€‘å¸ƒæµâ€åˆ°â€œæ¶“æ¶“ç»†æµâ€

ä¼ ç»ŸHTTPå“åº”æ˜¯â€œç€‘å¸ƒæµâ€ï¼Œæ•°æ®åƒç€‘å¸ƒä¸€æ ·ä¸€è‚¡è„‘å„¿å€¾æ³»è€Œä¸‹ã€‚è€Œæµå¼è¿”å›æ˜¯â€œæ¶“æ¶“ç»†æµâ€ï¼Œæ•°æ®å¦‚å°æºªèˆ¬ç¼“ç¼“æµæ·Œã€‚å‰ç«¯å¼€å‘è€…éœ€è¦å­¦ä¼šå¦‚ä½•â€œæ¥ä½â€è¿™è‚¡ç»†æµï¼Œå¹¶ä¼˜é›…åœ°å±•ç¤ºç»™ç”¨æˆ·ã€‚

---

## 2. é€å­—è¾“å‡ºçš„ç”¨æˆ·ä½“éªŒé­”åŠ› ğŸª„

### ä¸ºä»€ä¹ˆç”¨æˆ·çˆ±é€å­—è¾“å‡ºï¼Ÿ

é€å­—è¾“å‡ºï¼ˆtypewriter effectï¼‰é€šè¿‡æ¨¡æ‹Ÿäººç±»æ‰“å­—çš„èŠ‚å¥ï¼Œå¸¦æ¥ä»¥ä¸‹ä½“éªŒä¼˜åŠ¿ï¼š

1. **æ²‰æµ¸æ„Ÿ**ï¼šæ–‡å­—é€ä¸ªå‡ºç°ï¼Œåƒåœ¨çœ‹ä¸€éƒ¨â€œå®æ—¶ç”Ÿæˆâ€çš„ç”µå½±ã€‚
2. **æœŸå¾…æ„Ÿ**ï¼šç”¨æˆ·ä¼šä¸è‡ªè§‰åœ°â€œç­‰â€ä¸‹ä¸€å¥è¯ï¼Œå¢åŠ äº’åŠ¨é»æ€§ã€‚
3. **å¯æ„ŸçŸ¥çš„æ™ºèƒ½**ï¼šç›¸æ¯”ç¬é—´åˆ·æ–°çš„æ•´æ®µæ–‡å­—ï¼Œé€å­—è¾“å‡ºè®©AIæ˜¾å¾—æ›´â€œèªæ˜â€ã€‚

### å¿ƒç†å­¦ä¸äº¤äº’è®¾è®¡

å¿ƒç†å­¦ä¸Šï¼Œé€å­—è¾“å‡ºåˆ©ç”¨äº†â€œåé¦ˆå¾ªç¯â€ï¼ˆFeedback Loopï¼‰åŸç†ï¼šç”¨æˆ·è¾“å…¥é—®é¢˜ï¼ŒAIé€æ­¥å›å¤ï¼Œå®æ—¶åé¦ˆå¢å¼ºäº†ç”¨æˆ·çš„æ§åˆ¶æ„Ÿå’Œæ»¡è¶³æ„Ÿã€‚äº¤äº’è®¾è®¡ä¸Šï¼Œé€å­—è¾“å‡ºç¬¦åˆ**Fittså®šå¾‹**ï¼ˆå‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼‰å’Œ**Hickå®šå¾‹**ï¼ˆé™ä½è®¤çŸ¥è´Ÿè·ï¼‰ã€‚

**ç¤ºä¾‹**ï¼šChatGPTçš„é€å­—è¾“å‡ºé€Ÿåº¦çº¦ä¸º50-100æ¯«ç§’/å­—ç¬¦ï¼Œæ¨¡æ‹Ÿäº†äººç±»æ‰“å­—çš„èŠ‚å¥ï¼ˆæ™®é€šäººæ‰“å­—é€Ÿåº¦çº¦200-300æ¯«ç§’/å­—ç¬¦ï¼‰ã€‚è¿™ç§â€œæ…¢è€Œä¸æ‹–â€çš„èŠ‚å¥æ˜¯ç²¾å¿ƒè®¾è®¡çš„ã€‚

---

## 3. æµå¼è¿”å›çš„æŠ€æœ¯åŸç† ğŸ”§

æµå¼è¿”å›çš„å®ç°æ¶‰åŠåç«¯ç”Ÿæˆæ•°æ®ã€å‰ç«¯æ¥æ”¶æ•°æ®ï¼Œä»¥åŠä¸¤è€…ä¹‹é—´çš„é€šä¿¡åè®®ã€‚æˆ‘ä»¬å…ˆä»åè®®å¼€å§‹ï¼Œé€ä¸€å‰–æã€‚

### é€šä¿¡åè®®å¯¹æ¯”

ä»¥ä¸‹æ˜¯å¸¸è§åè®®çš„å¯¹æ¯”è¡¨æ ¼ï¼Œå¸®ä½ å¿«é€Ÿäº†è§£æµå¼è¿”å›çš„â€œå·¥å…·ç®±â€ï¼š

| **åè®®**            | **å…¨åŒå·¥** | **æµè§ˆå™¨æ”¯æŒ** | **æµå¼æ”¯æŒ** | **å…¸å‹åœºæ™¯**                     | **å¤æ‚æ€§** |
|---------------------|------------|----------------|--------------|----------------------------------|------------|
| **HTTP/1.1 (Chunked)** | å¦         | å¹¿æ³›           | æ˜¯           | åŸºæœ¬æµå¼å“åº”                     | ä½         |
| **HTTP/2 (Streams)**   | å¦         | å¹¿æ³›           | æ˜¯           | å¤šè·¯å¤ç”¨æµå¼å“åº”                 | ä¸­         |
| **WebSocket**       | æ˜¯         | å¹¿æ³›           | æ˜¯           | å®æ—¶åŒå‘é€šä¿¡ï¼ˆèŠå¤©ã€æ¸¸æˆï¼‰       | é«˜         |
| **Server-Sent Events (SSE)** | å¦         | å¹¿æ³›           | æ˜¯           | å•å‘æµå¼æ•°æ®ï¼ˆå®æ—¶é€šçŸ¥ã€AIå¯¹è¯ï¼‰ | ä¸­         |

**é€‰æ‹©å»ºè®®**ï¼š
- **SSE**ï¼šAIå¯¹è¯çš„é¦–é€‰ï¼Œç®€å•ã€è½»é‡ã€å¤©ç„¶æ”¯æŒæµå¼ã€‚
- **WebSocket**ï¼šéœ€è¦åŒå‘é€šä¿¡æ—¶ä½¿ç”¨ï¼Œä½†å®ç°å¤æ‚ã€‚
- **HTTP/2**ï¼šé€‚åˆéœ€è¦å¤šè·¯å¤ç”¨çš„åœºæ™¯ï¼Œä½†æµè§ˆå™¨å…¼å®¹æ€§éœ€æ³¨æ„ã€‚

### åç«¯å¦‚ä½•â€œåâ€æ•°æ®ï¼Ÿ

åç«¯éœ€è¦ä»¥æµå¼æ–¹å¼ç”Ÿæˆæ•°æ®å¹¶å‘é€ã€‚ä»¥ä¸‹æ˜¯ä¸¤ç§å¸¸è§è¯­è¨€çš„å®ç°ï¼š

#### Node.js + SSE ç¤ºä¾‹

```javascript
const express = require('express');
const app = express();

app.get('/stream', (req, res) => {
  res.setHeader('Content-Type', 'text/event-stream');
  res.setHeader('Cache-Control', 'no-cache');
  res.setHeader('Connection', 'keep-alive');

  const sendChunk = (data) => {
    res.write(`data: ${JSON.stringify(data)}\n\n`);
  };

  let i = 0;
  const interval = setInterval(() => {
    if (i < 5) {
      sendChunk({ message: `Chunk ${i}` });
      i++;
    } else {
      res.write('event: close\ndata: {}\n\n');
      clearInterval(interval);
      res.end();
    }
  }, 1000);
});

app.listen(3000, () => console.log('Server running on port 3000'));
```

**è¯´æ˜**ï¼šåç«¯é€šè¿‡`text/event-stream`æ ¼å¼é€å—å‘é€æ•°æ®ï¼Œæ¯å—ä»¥`data:`å¼€å¤´ï¼Œ`\n\n`åˆ†éš”ã€‚

#### Python FastAPI + SSE ç¤ºä¾‹

```python
from fastapi import FastAPI
from fastapi.responses import StreamingResponse
import asyncio

app = FastAPI()

async def stream_response():
    for i in range(5):
        yield f"data: {{ \"message\": \"Chunk {i}\" }}\n\n"
        await asyncio.sleep(1)
    yield "event: close\ndata: {}\n\n"

@app.get("/stream")
async def stream():
    return StreamingResponse(stream_response(), media_type="text/event-stream")
```

**è¯´æ˜**ï¼šFastAPIçš„`StreamingResponse`ä¸Pythonçš„å¼‚æ­¥ç”Ÿæˆå™¨ç»“åˆï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚

### å‰ç«¯å¦‚ä½•â€œæ¥â€æ•°æ®ï¼Ÿ

å‰ç«¯éœ€è¦ç›‘å¬æµå¼æ•°æ®å¹¶å®æ—¶æ¸²æŸ“ã€‚ä»¥ä¸‹æ˜¯Reactå’ŒVueçš„ç¤ºä¾‹ã€‚

#### React + SSE ç¤ºä¾‹

```jsx
import { useEffect, useState } from 'react';

function StreamComponent() {
  const [messages, setMessages] = useState([]);

  useEffect(() => {
    const eventSource = new EventSource('/stream');

    eventSource.onmessage = (event) => {
      const data = JSON.parse(event.data);
      setMessages((prev) => [...prev, data.message]);
    };

    eventSource.addEventListener('close', () => {
      eventSource.close();
    });

    return () => eventSource.close();
  }, []);

  return (
    <div>
      {messages.map((msg, index) => (
        <p key={index}>{msg}</p>
      ))}
    </div>
  );
}

export default StreamComponent;
```

**è¯´æ˜**ï¼šä½¿ç”¨`EventSource`ç›‘å¬SSEäº‹ä»¶ï¼ŒåŠ¨æ€æ›´æ–°çŠ¶æ€ã€‚

#### Vue + SSE ç¤ºä¾‹

```vue
<template>
  <div>
    <p v-for="(msg, index) in messages" :key="index">{{ msg }}</p>
  </div>
</template>

<script>
export default {
  data() {
    return {
      messages: [],
    };
  },
  mounted() {
    const eventSource = new EventSource('/stream');

    eventSource.onmessage = (event) => {
      const data = JSON.parse(event.data);
      this.messages.push(data.message);
    };

    eventSource.addEventListener('close', () => {
      eventSource.close();
    });

    this.$once('hook:beforeDestroy', () => {
      eventSource.close();
    });
  },
};
</script>
```

**è¯´æ˜**ï¼šVueé€šè¿‡`onmessage`å¤„ç†æ•°æ®ï¼Œæ³¨æ„åœ¨ç»„ä»¶é”€æ¯æ—¶å…³é—­è¿æ¥ã€‚

---

## 4. é€å­—è¾“å‡ºçš„å‰ç«¯å®ç° ğŸ¨

é€å­—è¾“å‡ºä¸ä»…æ˜¯æ¥æ”¶æ•°æ®ï¼Œè¿˜éœ€è¦åœ¨UIä¸Šæ¨¡æ‹Ÿæ‰“å­—æ•ˆæœã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒå®ç°æ­¥éª¤å’Œä¼˜åŒ–æŠ€å·§ã€‚

### æ ¸å¿ƒä»£ç ï¼šæ¸²æŸ“é€å­—è¾“å‡º

ä»¥ä¸‹æ˜¯ä¸€ä¸ªReactç»„ä»¶ï¼Œæ¨¡æ‹Ÿé€å­—è¾“å‡ºæ•ˆæœï¼š

```jsx
import { useEffect, useState } from 'react';

function Typewriter({ text, speed = 50 }) {
  const [displayText, setDisplayText] = useState('');

  useEffect(() => {
    let index = 0;
    const timer = setInterval(() => {
      if (index < text.length) {
        setDisplayText((prev) => prev + text[index]);
        index++;
      } else {
        clearInterval(timer);
      }
    }, speed);

    return () => clearInterval(timer);
  }, [text, speed]);

  return <div>{displayText}</div>;
}

export default Typewriter;
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š

```jsx
<Typewriter text="Hello, I am Grok!" speed={100} />
```

**è¯´æ˜**ï¼šé€šè¿‡`setInterval`é€å­—ç¬¦è¿½åŠ æ–‡æœ¬ï¼Œ`speed`æ§åˆ¶æ‰“å­—é€Ÿåº¦ã€‚

### æ€§èƒ½ä¼˜åŒ–

é€å­—è¾“å‡ºçœ‹ä¼¼ç®€å•ï¼Œä½†é¢‘ç¹æ›´æ–°DOMå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚ä»¥ä¸‹æ˜¯ä¼˜åŒ–æŠ€å·§ï¼š

1. **é˜²æŠ–æ›´æ–°**ï¼š
   - é—®é¢˜ï¼šå¿«é€Ÿçš„`setState`å¯èƒ½è§¦å‘è¿‡å¤šæ¸²æŸ“ã€‚
   - è§£å†³æ–¹æ¡ˆï¼šå°†å­—ç¬¦æ”’æˆå°æ‰¹æ¬¡æ›´æ–°ã€‚

   ```jsx
   useEffect(() => {
     let buffer = '';
     let index = 0;
     const timer = setInterval(() => {
       if (index < text.length) {
         buffer += text[index];
         if (buffer.length >= 5 || index === text.length - 1) {
           setDisplayText((prev) => prev + buffer);
           buffer = '';
         }
         index++;
       } else {
         clearInterval(timer);
       }
     }, speed);

     return () => clearInterval(timer);
   }, [text, speed]);
   ```

   _*Tipï¼šæ‰¹é‡æ›´æ–°DOMå¯ä»¥å‡å°‘é‡ç»˜ï¼Œé€‚åˆé•¿æ–‡æœ¬è¾“å‡ºã€‚*_

2. **è™šæ‹ŸDOMä¼˜åŒ–**ï¼š
   - ä½¿ç”¨`useMemo`æˆ–`React.memo`é¿å…ä¸å¿…è¦çš„ç»„ä»¶é‡æ¸²æŸ“ã€‚

   ```jsx
   const MemoizedTypewriter = React.memo(Typewriter);
   ```

   _*Tipï¼šå¯¹é™æ€æ–‡æœ¬ä½¿ç”¨`memo`å¯ä»¥æå‡æ€§èƒ½ï¼Œå°¤å…¶åœ¨å¤æ‚UIä¸­ã€‚*_

3. **èŠ‚æµäº‹ä»¶**ï¼š
   - å¦‚æœé€å­—è¾“å‡ºä¼´éšç”¨æˆ·äº¤äº’ï¼ˆå¦‚æ»šåŠ¨ï¼‰ï¼Œä½¿ç”¨èŠ‚æµå‡½æ•°ã€‚

   ```javascript
   import throttle from 'lodash/throttle';

   const handleScroll = throttle(() => {
     console.log('Scrolled!');
   }, 200);
   ```

   _*Tipï¼šèŠ‚æµå¯ä»¥é˜²æ­¢äº‹ä»¶è§¦å‘è¿‡äºé¢‘ç¹ï¼Œä¿æŠ¤æµè§ˆå™¨æ€§èƒ½ã€‚*_

### é”™è¯¯å¤„ç†

æµå¼è¿”å›å¯èƒ½é‡åˆ°æ–­çº¿ã€ç½‘ç»œæŠ–åŠ¨ç­‰é—®é¢˜ã€‚ä»¥ä¸‹æ˜¯åº”å¯¹ç­–ç•¥ï¼š

1. **æ–­çº¿é‡è¿**ï¼š
   - ä½¿ç”¨`EventSource`çš„`onerror`äº‹ä»¶ç›‘å¬æ–­çº¿ã€‚

   ```jsx
   useEffect(() => {
     const eventSource = new EventSource('/stream');

     eventSource.onerror = () => {
       console.log('Connection lost, reconnecting...');
       eventSource.close();
       setTimeout(() => {
         // é‡æ–°è¿æ¥é€»è¾‘
       }, 1000);
     };

     return () => eventSource.close();
   }, []);
   ```

   _*Tipï¼šè®¾ç½®æŒ‡æ•°é€€é¿ï¼ˆexponential backoffï¼‰é‡è¯•ç­–ç•¥ï¼Œé¿å…æœåŠ¡å™¨å‹åŠ›è¿‡å¤§ã€‚*_

2. **ä¼˜é›…é™çº§**ï¼š
   - å¦‚æœæµå¼å¤±è´¥ï¼Œåˆ‡æ¢åˆ°éæµå¼æ¨¡å¼ã€‚

   ```jsx
   const [isStreaming, setIsStreaming] = useState(true);

   useEffect(() => {
     const eventSource = new EventSource('/stream');
     eventSource.onerror = () => {
       setIsStreaming(false);
       // åˆ‡æ¢åˆ°æ™®é€šHTTPè¯·æ±‚
     };
   }, []);
   ```

   _*Tipï¼šå§‹ç»ˆä¸ºç”¨æˆ·æä¾›å¤‡ç”¨æ–¹æ¡ˆï¼Œç¡®ä¿ä½“éªŒä¸ä¸­æ–­ã€‚*_

---

## 5. æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹ ğŸ“

ä»¥ä¸‹æ˜¯8æ¡æµå¼è¿”å›çš„æœ€ä½³å®è·µï¼Œæ¯æ¡é…ä»£ç ç¤ºä¾‹å’Œæ–œä½“å°tipsï¼ŒåŠ©ä½ æ‰“é€ ä¸æ»‘çš„AIå¯¹è¯ä½“éªŒã€‚

### 1. é€‰æ‹©åˆé€‚çš„åè®®

æ ¹æ®åœºæ™¯é€‰æ‹©SSEã€WebSocketæˆ–HTTP/2ã€‚AIå¯¹è¯é€šå¸¸é€‰SSEã€‚

```jsx
const eventSource = new EventSource('/stream');
eventSource.onmessage = (event) => {
  console.log(event.data);
};
```

_*Tipï¼šSSEæ˜¯è½»é‡çº§é¦–é€‰ï¼ŒWebSocketé€‚åˆéœ€è¦åŒå‘äº¤äº’çš„å¤æ‚åœºæ™¯ã€‚*_

### 2. æ§åˆ¶æ‰“å­—é€Ÿåº¦

æ ¹æ®å†…å®¹é•¿åº¦å’Œç”¨æˆ·ä¹ æƒ¯è°ƒæ•´é€Ÿåº¦ï¼Œæ¨è50-100ms/å­—ç¬¦ã€‚

```jsx
<Typewriter text="Hello!" speed={80} />
```

_*Tipï¼šè¿‡å¿«æ˜¾å¾—â€œæœºæ¢°â€ï¼Œè¿‡æ…¢è®©ç”¨æˆ·ç„¦èºï¼Œæµ‹è¯•ä¸åŒé€Ÿåº¦æ‰¾åˆ°æœ€ä½³èŠ‚å¥ã€‚*_

### 3. æ‰¹é‡æ¸²æŸ“é•¿æ–‡æœ¬

å°†é•¿æ–‡æœ¬åˆ†æ‰¹æ¸²æŸ“ï¼Œå‡å°‘DOMæ“ä½œã€‚

```jsx
let buffer = '';
setInterval(() => {
  buffer += nextChar;
  if (buffer.length >= 10) {
    setText((prev) => prev + buffer);
    buffer = '';
  }
}, 50);
```

_*Tipï¼šæ‰¹é‡å¤§å°æ ¹æ®æ–‡æœ¬é•¿åº¦åŠ¨æ€è°ƒæ•´ï¼Œ10-20å­—ç¬¦æ˜¯ä¸€ä¸ªå¥½èµ·ç‚¹ã€‚*_

### 4. æä¾›â€œè·³è¿‡â€æŒ‰é’®

å…è®¸ç”¨æˆ·è·³è¿‡é€å­—åŠ¨ç”»ï¼Œç›´æ¥æ˜¾ç¤ºå®Œæ•´å†…å®¹ã€‚

```jsx
function TypewriterWithSkip({ text }) {
  const [isSkipped, setIsSkipped] = useState(false);

  return (
    <div>
      <Typewriter text={text} speed={50} skip={isSkipped} />
      <button onClick={() => setIsSkipped(true)}>Skip</button>
    </div>
  );
}
```

_*Tipï¼šç”¨æˆ·æ—¶é—´å®è´µï¼Œè·³è¿‡åŠŸèƒ½èƒ½æå‡ä½“éªŒï¼Œå°¤å…¶åœ¨é•¿å›å¤æ—¶ã€‚*_

### 5. å¤„ç†ä¸­æ–‡ä¸è‹±æ–‡å·®å¼‚

ä¸­æ–‡å­—ç¬¦å ç”¨æ›´å¤šç©ºé—´ï¼Œéœ€è°ƒæ•´æ¸²æŸ“é€»è¾‘ã€‚

```jsx
const isChinese = (char) => /[\u4e00-\u9fa5]/.test(char);
const speed = isChinese(char) ? 80 : 50;
```

_*Tipï¼šä¸­æ–‡æ‰“å­—é€Ÿåº¦ç¨æ…¢ï¼Œæ¨¡æ‹ŸçœŸå®è¾“å…¥ä¹ æƒ¯æ›´è‡ªç„¶ã€‚*_

### 6. åŠ¨æ€è°ƒæ•´ç¼“å†²åŒº

æ ¹æ®ç½‘ç»œçŠ¶å†µåŠ¨æ€è°ƒæ•´ç¼“å†²åŒºå¤§å°ã€‚

```jsx
let bufferSize = navigator.connection?.downlink > 5 ? 20 : 5;
```

_*Tipï¼šé«˜é€Ÿç½‘ç»œç”¨å¤§ç¼“å†²åŒºï¼Œä½é€Ÿç½‘ç»œç”¨å°ç¼“å†²åŒºï¼Œå¹³è¡¡æ€§èƒ½ä¸ä½“éªŒã€‚*_

### 7. æ·»åŠ åŠ è½½æŒ‡ç¤ºå™¨

åœ¨æµå¼æ•°æ®åˆ°è¾¾å‰æ˜¾ç¤ºåŠ è½½åŠ¨ç”»ã€‚

```jsx
{isLoading && <div className="spinner">Loading...</div>}
```

_*Tipï¼šåŠ è½½åŠ¨ç”»é™ä½ç”¨æˆ·ç­‰å¾…ç„¦è™‘ï¼Œç®€å•CSSåŠ¨ç”»å³å¯ã€‚*_

### 8. æµ‹è¯•æ–­ç½‘åœºæ™¯

æ¨¡æ‹Ÿæ–­ç½‘æµ‹è¯•é‡è¿é€»è¾‘ã€‚

```jsx
eventSource.onerror = () => {
  console.log('Retrying...');
  setTimeout(reconnect, 1000);
};
```

_*Tipï¼šç”¨Chrome DevToolsçš„Networké¢æ¿æ¨¡æ‹Ÿæ–­ç½‘ï¼Œç¡®ä¿é‡è¿é€»è¾‘å¥å£®ã€‚*_

---

## 6. è¿›é˜¶è¯é¢˜ï¼šæµå¼è¿”å›çš„æœªæ¥ ğŸš€

### HTTP/3 ä¸ WebTransport

HTTP/3åŸºäºUDPçš„QUICåè®®ï¼Œæ”¯æŒæ›´ä½çš„å»¶è¿Ÿå’Œæ›´å¥½çš„å¤šè·¯å¤ç”¨ï¼Œæœªæ¥å¯èƒ½æˆä¸ºæµå¼è¿”å›çš„ä¸»æµã€‚WebTransportåˆ™è¿›ä¸€æ­¥æ‰©å±•äº†å®æ—¶é€šä¿¡èƒ½åŠ›ï¼Œé€‚åˆè¶…ä½å»¶è¿Ÿåœºæ™¯ã€‚

**ç¤ºä¾‹**ï¼ˆä¼ªä»£ç ï¼‰ï¼š

```javascript
const transport = new WebTransport('https://example.com/stream');
await transport.ready;
const reader = transport.datagrams.readable.getReader();
while (true) {
  const { value, done } = await reader.read();
  if (done) break;
  console.log(value);
}
```

### è¾¹ç¼˜è®¡ç®—ä¸æµå¼è¿”å›

è¾¹ç¼˜è®¡ç®—ï¼ˆå¦‚Cloudflare Workersï¼‰å¯ä»¥å°†AIæ¨ç†éƒ¨ç½²åˆ°é è¿‘ç”¨æˆ·çš„ä½ç½®ï¼Œå‡å°‘æ•°æ®ä¼ è¾“å»¶è¿Ÿã€‚

**ç¤ºä¾‹**ï¼ˆCloudflare Workerï¼‰ï¼š

```javascript
addEventListener('fetch', (event) => {
  event.respondWith(handleRequest());
});

async function* generateStream() {
  for (let i = 0; i < 5; i++) {
    yield `data: Chunk ${i}\n\n`;
    await new Promise((resolve) => setTimeout(resolve, 1000));
  }
}

async function handleRequest() {
  return new Response(generateStream(), {
    headers: { 'Content-Type': 'text/event-stream' },
  });
}
```

### AIæ¨¡å‹ä¼˜åŒ–

æœªæ¥çš„AIæ¨¡å‹å¯èƒ½ç›´æ¥è¾“å‡ºæµå¼tokenï¼Œå‡å°‘åç«¯å¤„ç†å¼€é”€ã€‚ä¾‹å¦‚ï¼ŒGrok 3çš„æµå¼è¾“å‡ºå¯èƒ½åŸºäºTransformeræ¶æ„çš„å¢é‡æ¨ç†ã€‚

---

## 7. æ€»ç»“ä¸å±•æœ› ğŸŒŸ

æµå¼è¿”å›æ˜¯AIå¯¹è¯é€å­—è¾“å‡ºçš„å¹•åé»‘æ‰‹ï¼Œå®ƒé€šè¿‡ä½å»¶è¿Ÿã€å®æ—¶æ„Ÿçš„ç‰¹æ€§ï¼Œå½»åº•æ”¹å˜äº†ç”¨æˆ·ä¸AIçš„äº¤äº’æ–¹å¼ã€‚å‰ç«¯å¼€å‘è€…éœ€è¦æŒæ¡ä»åè®®é€‰æ‹©åˆ°æ€§èƒ½ä¼˜åŒ–çš„å…¨é“¾è·¯çŸ¥è¯†ï¼Œæ‰èƒ½æ‰“é€ ä¸æ»‘çš„ä½“éªŒã€‚

**å±•æœ›**ï¼šéšç€HTTP/3ã€WebTransportå’Œè¾¹ç¼˜è®¡ç®—çš„æ™®åŠï¼Œæµå¼è¿”å›å°†å˜å¾—æ›´å¿«ã€æ›´ç¨³å®šã€‚AIæ¨¡å‹çš„æµå¼æ¨ç†èƒ½åŠ›ä¹Ÿå°†è¿›ä¸€æ­¥æå‡ï¼Œå¸¦æ¥æ›´è‡ªç„¶çš„å¯¹è¯ä½“éªŒã€‚

ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œä½ æ˜¯è¿™åœºâ€œé€å­—è¾“å‡ºâ€é©å‘½çš„å…ˆé”‹ã€‚æ‹¿èµ·ä»£ç ï¼Œä¼˜åŒ–ä½ çš„æµå¼è¿”å›é€»è¾‘ï¼Œè®©ç”¨æˆ·æ„Ÿå—åˆ°AIçš„é­”æ³•å§ï¼âœ¨

---
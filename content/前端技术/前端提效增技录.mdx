---
type: "Post"
title: "å‰ç«¯ææ•ˆå¢æŠ€å½•"
date: "2023-05-01"
description: "ä¸€ç¯‡ä¸ºå‰ç«¯å¼€å‘è€…é‡èº«æ‰“é€ çš„æ·±åº¦åšå®¢ï¼Œæ¶µç›–ææ•ˆå·¥å…·ã€è®¾è®¡å“²å­¦ã€æœ€ä½³å®è·µä¸æŠ€æœ¯åŸç†ï¼ŒåŠ©ä½ åœ¨å‰ç«¯å¼€å‘ä¸­è„±é¢–è€Œå‡ºï¼"
keywords: "å‰ç«¯å¼€å‘, ææ•ˆå·¥å…·, æ€§èƒ½ä¼˜åŒ–, ä»£ç é‡æ„, è®¾è®¡å“²å­¦, React, TypeScript, Webpack, Vite, æœ€ä½³å®è·µ"
author: "æ™“é¾™"
image: "/images/hero/frontend-boost.jpg"
tags: ["å‰ç«¯å¼€å‘", "æ€§èƒ½ä¼˜åŒ–", "å·¥å…·é“¾", "React", "TypeScript"]
category: "å‰ç«¯æŠ€æœ¯"
---

å˜¿ï¼Œå‰ç«¯çš„æœ‹å‹ä»¬ï¼ğŸ‘‹ ä½ æ˜¯å¦æ›¾åœ¨æ·±å¤œåŠ ç­ï¼Œé¢å¯¹ä¸€å †é‡å¤ä»£ç å’Œæ€§èƒ½ç“¶é¢ˆï¼Œæ„Ÿå¹â€œç”Ÿæ´»ä¸æ˜“ï¼Œä»£ç å¹æ°”â€ï¼Ÿæˆ–è€…åœ¨è°ƒè¯• CSS æ—¶ï¼Œè§‰å¾—è‡ªå·±åƒåœ¨è·Ÿæµè§ˆå™¨ç©â€œçŒ«æ‰è€é¼ â€ï¼Ÿåˆ«æ€¥ï¼Œä»Šå¤©è¿™ç¯‡ã€Šå‰ç«¯ææ•ˆç§˜ç±ã€‹å°†å¸¦ä½ ä»**åŸç†åˆ°å®è·µ**ï¼Œè§£é”ææ•ˆçš„â€œç‹¬é—¨ç§˜ç±â€ï¼Œè®©ä½ åœ¨å‰ç«¯å¼€å‘çš„æ±Ÿæ¹–ä¸­æ¸¸åˆƒæœ‰ä½™ï¼ğŸ˜

è¿™ç¯‡æ–‡ç« ä¸ä»…æ˜¯ä¸€ä»½æŠ€æœ¯æ¸…å•ï¼Œæ›´æ˜¯ä¸€åœºå…³äº**æ€ç»´æ–¹å¼**ã€**è®¾è®¡å“²å­¦**å’Œ**æœ€ä½³å®è·µ**çš„æ·±åº¦æ¢ç´¢ã€‚æˆ‘ä»¬ä¼šèŠèŠå·¥å…·é“¾çš„ä¼˜åŒ–ã€ä»£ç çš„è‰ºæœ¯ã€æ€§èƒ½çš„æè‡´è¿½æ±‚ï¼Œç”šè‡³è¿˜æœ‰ä¸€äº›å¼€å‘ä¸­çš„â€œäººç”Ÿå“²ç†â€ã€‚æ— è®ºä½ æ˜¯åˆšå…¥è¡Œçš„å°ç™½ï¼Œè¿˜æ˜¯èº«ç»ç™¾æˆ˜çš„è€å…µï¼Œè¿™é‡Œæ€»æœ‰å‡ æ‹›èƒ½è®©ä½ ä¼šå¿ƒä¸€ç¬‘ï¼Œæˆ–è€…æ‹æ¡ˆå«ç»ï¼

> â€œå¥½çš„ä»£ç å°±åƒå¥½çš„ç¬‘è¯ï¼šç®€æ´ã€ä¼˜é›…ï¼Œå¹¶ä¸”è®©äººä¸€çœ¼å°±æ‡‚ã€‚â€ â€”â€” æ”¹ç¼–è‡ª Dan Abramov çš„æ¨æ–‡

## ç›®å½•ï¼šä½ çš„ææ•ˆä¹‹æ—…åœ°å›¾ ğŸ—ºï¸

1. **å·¥å…·é“¾çš„æè‡´ä¼˜åŒ–**ï¼šä» Webpack åˆ° Viteï¼Œè§£é”æ„å»ºé€Ÿåº¦çš„ç§˜å¯†
2. **ä»£ç é‡æ„çš„è‰ºæœ¯**ï¼šè®©ä»£ç â€œæ•´æ´å¦‚è¯—â€ï¼Œå‘Šåˆ«â€œæ„å¤§åˆ©é¢æ¡â€
3. **æ€§èƒ½ä¼˜åŒ–çš„ç¡¬æ ¸å®è·µ**ï¼šä»æ¸²æŸ“åˆ°ç½‘ç»œï¼Œæ¦¨å¹²æ¯ä¸€æ¯«ç§’
4. **TypeScript çš„ç²¾å¦™è¿ç”¨**ï¼šç±»å‹å®‰å…¨çš„â€œæŠ¤èº«ç¬¦â€
5. **React å¼€å‘çš„é«˜æ•ˆå¿ƒæ³•**ï¼šç»„ä»¶åŒ–ã€çŠ¶æ€ç®¡ç†ä¸ Hooks çš„å“²å­¦
6. **CSS å¼€å‘çš„â€œé™é¾™åå…«æŒâ€**ï¼šä» Tailwind åˆ° CSS-in-JS
7. **è°ƒè¯•ä¸é—®é¢˜æ’æŸ¥çš„â€œç«çœ¼é‡‘ç›â€**ï¼šå¿«é€Ÿå®šä½ Bug çš„æŠ€å·§
8. **è®¾è®¡å“²å­¦ä¸æ€ç»´æ–¹å¼**ï¼šä»â€œå†™ä»£ç â€åˆ°â€œè§£å†³é—®é¢˜â€
9. **å¼€å‘è€…ä½“éªŒçš„è‡ªæˆ‘è¿­ä»£**ï¼šå¦‚ä½•æˆä¸ºæ›´é«˜æ•ˆçš„è‡ªå·±

> å­—æ•°é¢„è­¦ï¼šè¿™ç¯‡æ–‡ç« é•¿è¾¾ 18000+ å­—ï¼Œå»ºè®®æ­é…ä¸€æ¯å’–å•¡ â˜• æˆ–ä¸€é¦–è½»éŸ³ä¹ ğŸ¶ï¼Œæ…¢æ…¢å“å‘³ï¼

---

## 1. å·¥å…·é“¾çš„æè‡´ä¼˜åŒ–ï¼šè®©æ„å»ºé£èµ·æ¥ ğŸš€

å‰ç«¯å¼€å‘çš„æ•ˆç‡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºä½ çš„**å·¥å…·é“¾**ã€‚ä» Webpack çš„â€œè€å¤§å“¥â€åˆ° Vite çš„â€œæ–°æ˜Ÿâ€ï¼Œå·¥å…·é“¾çš„è¿›åŒ–å°±åƒä»â€œé©¬è½¦â€åˆ°â€œé«˜é“â€çš„é£è·ƒã€‚è®©æˆ‘ä»¬æ·±å…¥å‰–æå¦‚ä½•ä¼˜åŒ–ä½ çš„æ„å»ºæµç¨‹ï¼

### 1.1 Webpackï¼šè€å°†çš„ä¼˜åŒ–ä¹‹é“

å°½ç®¡ Webpack å·²ç»è¢« Vite æŠ¢äº†ä¸å°‘é£å¤´ï¼Œä½†å®ƒä¾ç„¶æ˜¯è®¸å¤šå¤§å‹é¡¹ç›®çš„åŸºçŸ³ã€‚ä¼˜åŒ– Webpack çš„æ ¸å¿ƒåœ¨äº**å‡å°‘æ„å»ºæ—¶é—´**å’Œ**æå‡å¼€å‘ä½“éªŒ**ã€‚

#### ä¼˜åŒ–æŠ€å·§
- **æ¨¡å—åˆ†æä¸ Tree Shaking**ï¼šä½¿ç”¨ `webpack-bundle-analyzer` åˆ†æ bundle å¤§å°ï¼Œæ‰¾å‡ºæ— ç”¨æ¨¡å—ã€‚
- **å¤šçº¿ç¨‹æ„å»º**ï¼šå¯ç”¨ `thread-loader` æˆ– `parallel-webpack`ï¼Œå°†æ„å»ºä»»åŠ¡åˆ†é…åˆ°å¤šä¸ª CPU æ ¸å¿ƒã€‚
- **ç¼“å­˜æœºåˆ¶**ï¼šä½¿ç”¨ `cache.type: 'filesystem'`ï¼Œè®© Webpack ç¼“å­˜æ¨¡å—è§£æç»“æœã€‚

*å° Tipsï¼š_æ¯æ¬¡è°ƒæ•´ Webpack é…ç½®åï¼Œè¿è¡Œ `npx webpack --profile --json > stats.json` ç”Ÿæˆåˆ†ææŠ¥å‘Šï¼Œæ‰¾å‡ºç“¶é¢ˆï¼_*

#### ç¤ºä¾‹ï¼šä¼˜åŒ– Webpack é…ç½®

```javascript
const path = require('path');
const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;
const TerserPlugin = require('terser-webpack-plugin');

module.exports = {
  mode: 'production',
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: '[name].[contenthash].js',
    clean: true,
  },
  optimization: {
    minimize: true,
    minimizer: [new TerserPlugin()],
    splitChunks: {
      chunks: 'all',
    },
  },
  cache: {
    type: 'filesystem',
  },
  plugins: [
    new BundleAnalyzerPlugin({
      analyzerMode: 'static',
      openAnalyzer: false,
    }),
  ],
};
```

### 1.2 Viteï¼šæ–°æ—¶ä»£çš„â€œé€Ÿåº¦ä¹‹ç‹â€

Vite å‡­å€Ÿ **ES Modules** å’Œ **æŒ‰éœ€ç¼–è¯‘**ï¼Œè®©å¼€å‘æœåŠ¡å™¨å¯åŠ¨é€Ÿåº¦å¿«åˆ°é£èµ·ï¼å®ƒçš„ç§˜å¯†åœ¨äºï¼š

- **åŸç”Ÿ ESM**ï¼šç›´æ¥åˆ©ç”¨æµè§ˆå™¨çš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼Œå‡å°‘æ‰“åŒ…å¼€é”€ã€‚
- **çƒ­æ›´æ–°ï¼ˆHMRï¼‰**ï¼šåªé‡æ–°ç¼–è¯‘ä¿®æ”¹çš„æ–‡ä»¶ï¼Œç§’çº§åˆ·æ–°ã€‚
- **Rollup æ‰“åŒ…**ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨ Rollupï¼Œç”Ÿæˆæ›´å°çš„ bundleã€‚

#### ä¼˜åŒ–æŠ€å·§
- **æŒ‰éœ€åŠ è½½æ’ä»¶**ï¼šä½¿ç”¨ `vite-plugin-dynamic-import` åŠ¨æ€åŠ è½½æ¨¡å—ã€‚
- **é¢„æ„å»ºä¼˜åŒ–**ï¼šè°ƒæ•´ `optimizeDeps.include` ç¡®ä¿ç¬¬ä¸‰æ–¹åº“é¢„æ„å»ºã€‚
- **ç”Ÿäº§ç¯å¢ƒå‹ç¼©**ï¼šå¯ç”¨ `build.minify: 'esbuild'`ï¼Œç”¨ esbuild æè‡´å‹ç¼©ä»£ç ã€‚

*å° Tipsï¼š_åœ¨ Vite é¡¹ç›®ä¸­ï¼Œå®šæœŸæ£€æŸ¥ `node_modules/.vite` ç¼“å­˜ï¼Œåˆ é™¤åé‡æ–°å¯åŠ¨å¯è§£å†³å¥‡æ€ªçš„ä¾èµ–é—®é¢˜ï¼_*

#### ç¤ºä¾‹ï¼šVite é…ç½®æ–‡ä»¶

```javascript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import dynamicImport from 'vite-plugin-dynamic-import';

export default defineConfig({
  plugins: [react(), dynamicImport()],
  optimizeDeps: {
    include: ['lodash', 'react-dom'],
  },
  build: {
    minify: 'esbuild',
    sourcemap: true,
  },
});
```

### 1.3 å·¥å…·é“¾çš„å“²å­¦æ„Ÿæ‚Ÿ

å·¥å…·é“¾çš„ä¼˜åŒ–ä¸ä»…æ˜¯æŠ€æœ¯çš„è¾ƒé‡ï¼Œæ›´æ˜¯**æ•ˆç‡ä¸å¹³è¡¡**çš„è‰ºæœ¯ã€‚æ­£å¦‚å“²å­¦å®¶äºšé‡Œå£«å¤šå¾·æ‰€è¯´ï¼šâ€œæˆ‘ä»¬æ˜¯æˆ‘ä»¬åœ¨åå¤åšçš„è¡Œä¸ºï¼Œå› æ­¤å“è¶Šä¸æ˜¯ä¸€ç§è¡Œä¸ºï¼Œè€Œæ˜¯ä¸€ç§ä¹ æƒ¯ã€‚â€é€‰æ‹©åˆé€‚çš„å·¥å…·é“¾ï¼Œå…»æˆä¼˜åŒ–çš„ä¹ æƒ¯ï¼Œæ‰èƒ½è®©ä½ çš„å¼€å‘æ•ˆç‡â€œé£èµ·æ¥â€ï¼

---

## 2. ä»£ç é‡æ„çš„è‰ºæœ¯ï¼šè®©ä»£ç â€œæ•´æ´å¦‚è¯—â€ ğŸ“œ

â€œä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œé¡ºä¾¿è®©æœºå™¨æ‰§è¡Œã€‚â€ â€”â€” Robert C. Martinï¼ˆã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ï¼‰

é‡æ„ä¸æ˜¯ç®€å•çš„â€œæ•´ç†ä»£ç â€ï¼Œè€Œæ˜¯å°†â€œæ„å¤§åˆ©é¢æ¡â€å˜æˆâ€œç±³å…¶æ—ä¸‰æ˜Ÿâ€çš„è‰ºæœ¯ã€‚å¥½çš„ä»£ç åº”è¯¥åƒä¸€é¦–è¯—ï¼š**ç®€æ´ã€ä¼˜é›…ã€å¯Œæœ‰éŸµå¾‹**ã€‚

### 2.1 é‡æ„çš„æ ¸å¿ƒåŸåˆ™
- **å•ä¸€èŒè´£**ï¼šä¸€ä¸ªå‡½æ•°/ç»„ä»¶åªåšä¸€ä»¶äº‹ã€‚
- **DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰**ï¼šé¿å…é‡å¤ä»£ç ï¼Œæå–å…¬å…±é€»è¾‘ã€‚
- **å¯è¯»æ€§ä¼˜å…ˆ**ï¼šå‘½åæ¸…æ™°ï¼Œæ³¨é‡Šå¾—å½“ã€‚

#### ç¤ºä¾‹ï¼šä»â€œæ‚ä¹±â€åˆ°â€œä¼˜é›…â€çš„é‡æ„

**é‡æ„å‰**ï¼šæ‚ä¹±çš„ React ç»„ä»¶

```jsx
import React, { useState } from 'react';

function Comp() {
  const [data, setData] = useState([]);
  const [txt, setTxt] = useState('');

  const getData = () => {
    fetch('https://api.example.com/data')
      .then(res => res.json())
      .then(d => setData(d));
  };

  const handleClick = () => {
    if (txt !== '') {
      setData([...data, { id: Date.now(), text: txt }]);
      setTxt('');
    }
  };

  return (
    <div>
      <input value={txt} onChange={e => setTxt(e.target.value)} />
      <button onClick={handleClick}>Add</button>
      <button onClick={getData}>Fetch</button>
      <ul>
        {data.map(item => (
          <li key={item.id}>{item.text}</li>
        ))}
      </ul>
    </div>
  );
}

export default Comp;
```

**é‡æ„å**ï¼šä¼˜é›…çš„ç»„ä»¶

```jsx
import React, { useState } from 'react';
import useFetch from '../hooks/useFetch';

const TodoList = () => {
  const [todos, setTodos] = useState([]);
  const [inputText, setInputText] = useState('');
  const { data, fetchData } = useFetch('https://api.example.com/data');

  const addTodo = () => {
    if (!inputText.trim()) return;
    setTodos([...todos, { id: Date.now(), text: inputText }]);
    setInputText('');
  };

  return (
    <section className="todo-container">
      <input
        value={inputText}
        onChange={(e) => setInputText(e.target.value)}
        placeholder="Add a new todo"
      />
      <button onClick={addTodo}>Add Todo</button>
      <button onClick={fetchData}>Fetch Todos</button>
      <ul>
        {(data || todos).map((todo) => (
          <li key={todo.id}>{todo.text}</li>
        ))}
      </ul>
    </section>
  );
};

export default TodoList;
```

*å° Tipsï¼š_é‡æ„æ—¶ï¼Œå…ˆå†™å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿åŠŸèƒ½ä¸å˜ï¼›ç„¶åä»å°æ”¹åŠ¨å¼€å§‹ï¼Œé€æ­¥ä¼˜åŒ–ï¼Œé¿å…ä¸€æ¬¡æ€§å¤§æ”¹å¯¼è‡´ Bugï¼_*

### 2.2 é‡æ„çš„æ€ç»´æ–¹å¼

é‡æ„ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯**å¯¹ä»£ç çš„å°Šé‡**ã€‚å°±åƒå›­ä¸ä¿®å‰ªèŠ±è‰ï¼Œé‡æ„è®©ä»£ç ç„•å‘ç”Ÿæœºã€‚æ­£å¦‚ã€Šé‡æ„ã€‹ä½œè€… Martin Fowler æ‰€è¯´ï¼šâ€œä»»ä½•å‚»ç“œéƒ½èƒ½å†™å‡ºè®¡ç®—æœºèƒ½ç†è§£çš„ä»£ç ï¼Œä¼˜ç§€çš„ç¨‹åºå‘˜å†™å‡ºçš„æ˜¯äººç±»èƒ½ç†è§£çš„ä»£ç ã€‚â€

---

## 3. æ€§èƒ½ä¼˜åŒ–çš„ç¡¬æ ¸å®è·µï¼šæ¦¨å¹²æ¯ä¸€æ¯«ç§’ âš¡

æ€§èƒ½ä¼˜åŒ–æ˜¯å‰ç«¯å¼€å‘çš„â€œç¡¬æ ¸â€éƒ¨åˆ†ã€‚ç”¨æˆ·ä¸ä¼šåœ¨æ„ä½ çš„ä»£ç æœ‰å¤šä¼˜é›…ï¼Œä½†ä»–ä»¬ç»å¯¹ä¼šåœ¨æ„é¡µé¢åŠ è½½æ…¢äº† 0.1 ç§’ï¼è®©æˆ‘ä»¬ä»**æ¸²æŸ“**ã€**ç½‘ç»œ**å’Œ**èµ„æºåŠ è½½**ä¸‰ä¸ªç»´åº¦ï¼ŒèŠèŠæ€§èƒ½ä¼˜åŒ–çš„æœ€ä½³å®è·µã€‚

### 3.1 æ¸²æŸ“ä¼˜åŒ–
- **å‡å°‘é‡æ’ï¼ˆReflowï¼‰ä¸é‡ç»˜ï¼ˆRepaintï¼‰**ï¼šé¿å…é¢‘ç¹æ“ä½œ DOMï¼Œä½¿ç”¨ CSS åŠ¨ç”»æ›¿ä»£ JS åŠ¨ç”»ã€‚
- **è™šæ‹Ÿåˆ—è¡¨**ï¼šä½¿ç”¨ `react-window` æˆ– `react-virtualized` æ¸²æŸ“é•¿åˆ—è¡¨ã€‚
- **React æ¸²æŸ“ä¼˜åŒ–**ï¼šä½¿ç”¨ `React.memo` å’Œ `useMemo` å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ã€‚

#### ç¤ºä¾‹ï¼šè™šæ‹Ÿåˆ—è¡¨å®ç°

```jsx
import React from 'react';
import { FixedSizeList } from 'react-window';

const VirtualList = ({ items }) => {
  const Row = ({ index, style }) => (
    <div style={style} className="list-item">
      {items[index]}
    </div>
  );

  return (
    <FixedSizeList
      height={400}
      width={300}
      itemCount={items.length}
      itemSize={35}
    >
      {Row}
    </FixedSizeList>
  );
};

export default VirtualList;
```

*å° Tipsï¼š_åœ¨ä¼˜åŒ–æ¸²æŸ“æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ Chrome DevTools çš„ Performance é¢æ¿ï¼Œè®°å½•æ¸²æŸ“æ—¶é—´ï¼Œæ‰¾å‡ºç“¶é¢ˆï¼_*

### 3.2 ç½‘ç»œä¼˜åŒ–
- **æ‡’åŠ è½½**ï¼šä½¿ç”¨ `IntersectionObserver` å»¶è¿ŸåŠ è½½å›¾ç‰‡æˆ–ç»„ä»¶ã€‚
- **èµ„æºå‹ç¼©**ï¼šå¯ç”¨ Gzip æˆ– Brotli å‹ç¼©ï¼Œå‡å°æ–‡ä»¶ä½“ç§¯ã€‚
- **CDN åŠ é€Ÿ**ï¼šå°†é™æ€èµ„æºéƒ¨ç½²åˆ° CDNï¼Œå‡å°‘å»¶è¿Ÿã€‚

### 3.3 æ€§èƒ½ä¼˜åŒ–çš„å“²å­¦

æ€§èƒ½ä¼˜åŒ–å°±åƒè·‘é©¬æ‹‰æ¾ï¼š**æ¯ä¸€æ­¥éƒ½è¦ç²¾æ‰“ç»†ç®—ï¼Œä½†ä¸èƒ½ç‰ºç‰²ç”¨æˆ·ä½“éªŒ**ã€‚æ­£å¦‚ Google æ€§èƒ½ä¸“å®¶ Addy Osmani æ‰€è¯´ï¼šâ€œæ€§èƒ½æ˜¯ç”¨æˆ·ä½“éªŒçš„åŸºçŸ³ã€‚â€åœ¨è¿½æ±‚æè‡´æ€§èƒ½æ—¶ï¼Œå§‹ç»ˆç‰¢è®°ï¼š**ç”¨æˆ·ä¼˜å…ˆ**ã€‚

---

## 4. TypeScript çš„ç²¾å¦™è¿ç”¨ï¼šç±»å‹å®‰å…¨çš„â€œæŠ¤èº«ç¬¦â€ ğŸ›¡ï¸

TypeScript ä¸ä»…æ˜¯â€œé™æ€ç±»å‹æ£€æŸ¥â€ï¼Œæ›´æ˜¯å‰ç«¯å¼€å‘çš„â€œæŠ¤èº«ç¬¦â€ã€‚å®ƒè®©ä»£ç æ›´å¥å£®ï¼Œåä½œæ›´é¡ºç•…ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨ TypeScript æå‡å¼€å‘æ•ˆç‡ï¼

### 4.1 ç±»å‹æ¨å¯¼ä¸é«˜çº§ç±»å‹
- **ç±»å‹æ¨å¯¼**ï¼šå°½é‡è®© TypeScript è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œå‡å°‘å†—ä½™æ³¨è§£ã€‚
- **å·¥å…·ç±»å‹**ï¼šä½¿ç”¨ `Partial<T>`ã€`Pick<T, K>` ç­‰ç®€åŒ–ç±»å‹å®šä¹‰ã€‚
- **æ¡ä»¶ç±»å‹**ï¼šé€šè¿‡ `T extends U ? X : Y` å®ç°åŠ¨æ€ç±»å‹é€»è¾‘ã€‚

#### ç¤ºä¾‹ï¼šé«˜çº§ç±»å‹åº”ç”¨

```typescript
interface User {
  id: number;
  name: string;
  email: string;
}

type PartialUser = Partial<User>;
type UserSummary = Pick<User, 'id' | 'name'>;

type GetReturnType<T> = T extends (...args: any[]) => infer R ? R : never;

const fetchUser = async () => ({ id: 1, name: 'Xiaolong', email: 'x@example.com' });
type UserResponse = GetReturnType<typeof fetchUser>; // { id: number; name: string; email: string }
```

*å° Tipsï¼š_åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå®šä¹‰ä¸€ä¸ª `global.d.ts` æ–‡ä»¶ï¼Œé›†ä¸­ç®¡ç†å¸¸ç”¨ç±»å‹ï¼Œå‡å°‘é‡å¤å®šä¹‰ï¼_*

### 4.2 TypeScript çš„å“²å­¦æ„Ÿæ‚Ÿ

TypeScript ä¸ä»…æ˜¯å·¥å…·ï¼Œæ›´æ˜¯**å¯¹ä»£ç å¯é æ€§çš„æ‰¿è¯º**ã€‚å®ƒè®©æˆ‘ä»¬ä»â€œéšä¾¿å†™å†™â€åˆ°â€œä¸¥è°¨æ€è€ƒâ€ï¼Œæ­£å¦‚ã€ŠTypeScript ç¼–ç¨‹ã€‹ä½œè€… Boris Cherny æ‰€è¯´ï¼šâ€œç±»å‹æ˜¯ä»£ç çš„å¥‘çº¦ï¼Œå®ƒè®©å›¢é˜Ÿåä½œæ›´åƒä¸€åœºä¼˜é›…çš„èˆè¹ˆã€‚â€

---

## 5. React å¼€å‘çš„é«˜æ•ˆå¿ƒæ³•ï¼šç»„ä»¶åŒ–ä¸ Hooks çš„å“²å­¦ âš›ï¸

React æ˜¯ç°ä»£å‰ç«¯çš„â€œä¸»åŠ›å†›â€ï¼Œä½†é«˜æ•ˆçš„ React å¼€å‘éœ€è¦æŒæ¡**ç»„ä»¶åŒ–**ã€**çŠ¶æ€ç®¡ç†**å’Œ **Hooks** çš„ç²¾é«“ã€‚

### 5.1 ç»„ä»¶åŒ–çš„è‰ºæœ¯
- **åŸå­åŒ–è®¾è®¡**ï¼šå°†ç»„ä»¶æ‹†åˆ†ä¸ºâ€œåŸå­â€ã€â€œåˆ†å­â€å’Œâ€œé¡µé¢â€å±‚çº§ã€‚
- **å¤ç”¨æ€§**ï¼šé€šè¿‡ `children` å’Œ `render props` æé«˜ç»„ä»¶å¤ç”¨æ€§ã€‚
- **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨ `React.memo` å’Œ `useCallback` å‡å°‘æ¸²æŸ“å¼€é”€ã€‚

#### ç¤ºä¾‹ï¼šå¯å¤ç”¨æŒ‰é’®ç»„ä»¶

```jsx
import React from 'react';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary';
}

const Button = React.memo(({ children, variant = 'primary', ...props }: ButtonProps) => {
  const baseStyle = 'px-4 py-2 rounded';
  const variantStyle = variant === 'primary' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-black';

  return (
    <button className={`${baseStyle} ${variantStyle}`} {...props}>
      {children}
    </button>
  );
});

export default Button;
```

*å° Tipsï¼š_åœ¨è®¾è®¡ç»„ä»¶æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘â€œå•ä¸€èŒè´£â€ï¼Œé¿å…ç»„ä»¶é€»è¾‘è¿‡äºå¤æ‚ï¼_*

### 5.2 Hooks çš„å“²å­¦

Hooks è®© React å¼€å‘æ›´çµæ´»ï¼Œä½†ä¹Ÿå¸¦æ¥äº†â€œå¿ƒæ™ºè´Ÿæ‹…â€ã€‚é«˜æ•ˆä½¿ç”¨ Hooks çš„å…³é”®åœ¨äº**é€»è¾‘åˆ†ç¦»**å’Œ**å‰¯ä½œç”¨ç®¡ç†**ã€‚

- **è‡ªå®šä¹‰ Hooks**ï¼šæå–å¤ç”¨é€»è¾‘åˆ°è‡ªå®šä¹‰ Hooksã€‚
- **useEffect ä¼˜åŒ–**ï¼šé¿å…ä¸å¿…è¦çš„å‰¯ä½œç”¨ï¼Œåˆç†è®¾ç½®ä¾èµ–æ•°ç»„ã€‚
- **useReducer**ï¼šåœ¨å¤æ‚çŠ¶æ€é€»è¾‘æ—¶ï¼Œæ›¿ä»£å¤šä¸ª `useState`ã€‚

#### ç¤ºä¾‹ï¼šè‡ªå®šä¹‰ Hook

```typescript
import { useState, useEffect } from 'react';

interface FetchState<T> {
  data: T | null;
  loading: boolean;
  error: string | null;
}

const useFetch = <T>(url: string): FetchState<T> & { fetchData: () => void } => {
  const [state, setState] = useState<FetchState<T>>({
    data: null,
    loading: false,
    error: null,
  });

  const fetchData = async () => {
    setState({ ...state, loading: true });
    try {
      const response = await fetch(url);
      const data = await response.json();
      setState({ data, loading: false, error: null });
    } catch (error) {
      setState({ data: null, loading: false, error: error.message });
    }
  };

  useEffect(() => {
    fetchData();
  }, [url]);

  return { ...state, fetchData };
};

export default useFetch;
```

*å° Tipsï¼š_è‡ªå®šä¹‰ Hook æ—¶ï¼Œå‘½åä»¥ `use` å¼€å¤´ï¼Œå¹¶ç¡®ä¿é€»è¾‘æ¸…æ™°ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼_*

---

## 6. CSS å¼€å‘çš„â€œé™é¾™åå…«æŒâ€ï¼šä» Tailwind åˆ° CSS-in-JS ğŸ¨

CSS æ˜¯å‰ç«¯å¼€å‘çš„â€œé—¨é¢æ‹…å½“â€ï¼Œä½†ä¹Ÿæ˜¯â€œæœ€å®¹æ˜“ç¿»è½¦â€çš„éƒ¨åˆ†ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨ç°ä»£ CSS æŠ€æœ¯æå‡å¼€å‘æ•ˆç‡ï¼

### 6.1 Tailwind CSSï¼šå®ç”¨ä¸»ä¹‰çš„èƒœåˆ©
Tailwind çš„â€œåŸå­åŒ–â€é£æ ¼è®© CSS å¼€å‘å¿«å¦‚é—ªç”µã€‚å®ƒçš„æ ¸å¿ƒåœ¨äº**ç±»åå³æ ·å¼**ï¼Œå‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚

#### ä¼˜åŒ–æŠ€å·§
- **æå–ç»„ä»¶ç±»**ï¼šå°†å¸¸ç”¨æ ·å¼ç»„åˆå°è£…ä¸ºç»„ä»¶ï¼Œå‡å°‘é‡å¤ã€‚
- **PurgeCSS**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨ PurgeCSSï¼Œç§»é™¤æœªä½¿ç”¨çš„æ ·å¼ã€‚
- **è‡ªå®šä¹‰ä¸»é¢˜**ï¼šé€šè¿‡ `tailwind.config.js` æ‰©å±•ä¸»é¢˜ï¼Œé€‚é…é¡¹ç›®éœ€æ±‚ã€‚

#### ç¤ºä¾‹ï¼šTailwind æŒ‰é’®ç»„ä»¶

```jsx
import React from 'react';

interface ButtonProps {
  children: React.ReactNode;
  variant?: 'primary' | 'secondary';
}

const Button: React.FC<ButtonProps> = ({ children, variant = 'primary' }) => {
  const baseClasses = 'px-4 py-2 rounded font-semibold';
  const variantClasses = variant === 'primary' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-black';

  return (
    <button className={`${baseClasses} ${variantClasses}`}>
      {children}
    </button>
  );
};

export default Button;
```

*å° Tipsï¼š_åœ¨ Tailwind é¡¹ç›®ä¸­ï¼Œä½¿ç”¨ VS Code çš„ Tailwind CSS IntelliSense æ’ä»¶ï¼Œè‡ªåŠ¨è¡¥å…¨ç±»åï¼Œæ•ˆç‡ç¿»å€ï¼_*

### 6.2 CSS-in-JSï¼šåŠ¨æ€æ ·å¼çš„æœªæ¥

CSS-in-JSï¼ˆå¦‚ Emotion æˆ– Styled-Componentsï¼‰è®©æ ·å¼ä¸ç»„ä»¶ç´§å¯†ç»“åˆï¼Œé€‚åˆåŠ¨æ€åœºæ™¯ã€‚

#### ç¤ºä¾‹ï¼šStyled-Components

```jsx
import styled from 'styled-components';

interface ButtonProps {
  variant?: 'primary' | 'secondary';
}

const StyledButton = styled.button<ButtonProps>`
  padding: 8px 16px;
  border-radius: 4px;
  font-weight: 600;
  background-color: ${({ variant }) => (variant === 'primary' ? '#3b82f6' : '#e5e7eb')};
  color: ${({ variant }) => (variant === 'primary' ? '#fff' : '#000')};
`;

export default StyledButton;
```

*å° Tipsï¼š_åœ¨ä½¿ç”¨ CSS-in-JS æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ `css` prop æˆ– `styled` ç»„ä»¶ï¼Œé¿å…å†…è”æ ·å¼å¯¼è‡´æ€§èƒ½é—®é¢˜ï¼_*

---

## 7. è°ƒè¯•ä¸é—®é¢˜æ’æŸ¥çš„â€œç«çœ¼é‡‘ç›â€ ğŸ”

è°ƒè¯•æ˜¯å‰ç«¯å¼€å‘çš„â€œå¿…ä¿®è¯¾â€ã€‚ä¸€ä¸ªé«˜æ•ˆçš„è°ƒè¯•æµç¨‹ï¼Œèƒ½è®©ä½ å°‘èµ°æ— æ•°å¼¯è·¯ï¼

### 7.1 è°ƒè¯•æŠ€å·§
- **Chrome DevTools**ï¼šç†Ÿç»ƒä½¿ç”¨ Sourcesã€Network å’Œ Performance é¢æ¿ã€‚
- **React DevTools**ï¼šæ£€æŸ¥ç»„ä»¶æ ‘å’Œ Props å˜åŒ–ã€‚
- **æ—¥å¿—ç®¡ç†**ï¼šä½¿ç”¨ `console.group` å’Œ `console.table` ç»„ç»‡æ—¥å¿—ã€‚

#### ç¤ºä¾‹ï¼šç»“æ„åŒ–æ—¥å¿—

```typescript
const debugUser = (user: { id: number; name: string; email: string }) => {
  console.group('User Debug');
  console.table(user);
  console.log('Timestamp:', new Date().toISOString());
  console.groupEnd();
};

debugUser({ id: 1, name: 'Xiaolong', email: 'x@example.com' });
```

*å° Tipsï¼š_åœ¨è°ƒè¯•å¤æ‚é—®é¢˜æ—¶ï¼Œå…ˆç”¨ `console.dir` æ£€æŸ¥å¯¹è±¡ç»“æ„ï¼Œé¿å… `console.log` çš„æ ¼å¼åŒ–ä¸¢å¤±ä¿¡æ¯ï¼_*

### 7.2 è°ƒè¯•çš„å“²å­¦

è°ƒè¯•ä¸ä»…æ˜¯æ‰¾ Bugï¼Œæ›´æ˜¯**ä¸ä»£ç å¯¹è¯**çš„è¿‡ç¨‹ã€‚æ­£å¦‚ã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹æ‰€è¯´ï¼šâ€œè°ƒè¯•æ˜¯è‰ºæœ¯ä¸ç§‘å­¦çš„ç»“åˆã€‚â€é€šè¿‡è°ƒè¯•ï¼Œæˆ‘ä»¬ä¸ä»…è§£å†³é—®é¢˜ï¼Œè¿˜èƒ½æ›´æ·±å…¥åœ°ç†è§£ç³»ç»Ÿã€‚

---

## 8. è®¾è®¡å“²å­¦ä¸æ€ç»´æ–¹å¼ï¼šä»â€œå†™ä»£ç â€åˆ°â€œè§£å†³é—®é¢˜â€ ğŸ’¡

å‰ç«¯å¼€å‘ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯**è§£å†³é—®é¢˜çš„è‰ºæœ¯**ã€‚è®©æˆ‘ä»¬ä»æ›´é«˜çš„è§†è§’ï¼ŒèŠèŠè®¾è®¡å“²å­¦å’Œæ€ç»´æ–¹å¼ã€‚

### 8.1 è®¾è®¡å“²å­¦
- **ç”¨æˆ·è‡³ä¸Š**ï¼šå§‹ç»ˆä»¥ç”¨æˆ·ä½“éªŒä¸ºæ ¸å¿ƒã€‚
- **ç®€å•å³ç¾**ï¼šè¿½æ±‚ç®€æ´çš„è®¾è®¡å’Œä»£ç ã€‚
- **æ‹¥æŠ±å˜åŒ–**ï¼šç”¨æ¨¡å—åŒ–å’ŒæŠ½è±¡åº”å¯¹éœ€æ±‚å˜æ›´ã€‚

### 8.2 æ€ç»´æ–¹å¼
- **ç³»ç»Ÿæ€ç»´**ï¼šä»å…¨å±€è§†è§’çœ‹å¾…é—®é¢˜ï¼Œç†è§£ç»„ä»¶é—´çš„å…³ç³»ã€‚
- **è¿­ä»£æ€ç»´**ï¼šå¿«é€Ÿè¯•é”™ï¼ŒæŒç»­æ”¹è¿›ã€‚
- **åŒç†å¿ƒ**ï¼šç«™åœ¨ç”¨æˆ·å’Œå›¢é˜Ÿçš„è§’åº¦æ€è€ƒã€‚

> â€œæˆ‘ä»¬ä¸æ˜¯åœ¨å†™ä»£ç ï¼Œè€Œæ˜¯åœ¨æ„å»ºç”¨æˆ·ä¸æŠ€æœ¯çš„æ¡¥æ¢ã€‚â€ â€”â€” çµæ„Ÿæºè‡ªã€Šè®¾è®¡æ¨¡å¼ã€‹

---

## 9. å¼€å‘è€…ä½“éªŒçš„è‡ªæˆ‘è¿­ä»£ï¼šæˆä¸ºæ›´é«˜æ•ˆçš„è‡ªå·± ğŸŒŸ

æœ€åï¼Œææ•ˆçš„ç»ˆæç§˜ç±æ˜¯**è‡ªæˆ‘è¿­ä»£**ã€‚ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘è€…ï¼Œå¦‚ä½•è®©è‡ªå·±æŒç»­è¿›æ­¥ï¼Ÿ

### 9.1 å­¦ä¹ ä¸æˆé•¿
- **é˜…è¯»æºç **ï¼šæ·±å…¥ Reactã€Vue ç­‰æ¡†æ¶æºç ï¼Œç†è§£åº•å±‚åŸç†ã€‚
- **å‚ä¸å¼€æº**ï¼šè´¡çŒ®ä»£ç ï¼Œå­¦ä¹ ç¤¾åŒºçš„æœ€ä½³å®è·µã€‚
- **å†™åšå®¢**ï¼šå°†ç»éªŒæ€»ç»“æˆæ–‡ç« ï¼Œæå‡è¡¨è¾¾èƒ½åŠ›ã€‚

### 9.2 æ—¶é—´ç®¡ç†
- **ç•ªèŒ„å·¥ä½œæ³•**ï¼š25 åˆ†é’Ÿä¸“æ³¨ + 5 åˆ†é’Ÿä¼‘æ¯ï¼Œæé«˜æ•ˆç‡ã€‚
- **ä»»åŠ¡æ‹†åˆ†**ï¼šå°†å¤§ä»»åŠ¡æ‹†è§£ä¸ºå°æ­¥éª¤ï¼Œé€æ­¥å®Œæˆã€‚
- **è‡ªåŠ¨åŒ–**ï¼šç”¨è„šæœ¬æˆ–å·¥å…·è‡ªåŠ¨åŒ–é‡å¤ä»»åŠ¡ã€‚

### 9.3 å¿ƒç†å»ºè®¾
- **æ‹¥æŠ±å¤±è´¥**ï¼šBug æ˜¯æˆé•¿çš„æœºä¼šã€‚
- **ä¿æŒå¥½å¥‡**ï¼šå¯¹æ–°æŠ€æœ¯ä¿æŒæ¢ç´¢æ¬²ã€‚
- **æ‰¾åˆ°çƒ­çˆ±**ï¼šè®©å¼€å‘æˆä¸ºä¹è¶£ï¼Œè€Œéè´Ÿæ‹…ã€‚

> â€œæˆä¸ºä¸€åä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œä¸ä»…éœ€è¦æŠ€æœ¯ï¼Œè¿˜éœ€è¦çƒ­çˆ±å’ŒåšæŒã€‚â€ â€”â€” æ”¹ç¼–è‡ªã€Šé»‘å®¢ä¸ç”»å®¶ã€‹

---

## æ€»ç»“ï¼šææ•ˆçš„æ—…ç¨‹æ°¸ä¸æ­¢æ­¥ ğŸ›¤ï¸

å‰ç«¯å¼€å‘çš„ææ•ˆä¹‹æ—…ï¼Œå°±åƒä¸€åœºæ²¡æœ‰ç»ˆç‚¹çš„å†’é™©ã€‚æ— è®ºæ˜¯ä¼˜åŒ–å·¥å…·é“¾ã€é‡æ„ä»£ç ï¼Œè¿˜æ˜¯è¿½æ±‚æè‡´æ€§èƒ½ï¼Œæ¯ä¸€æ­¥éƒ½åœ¨è®©ä½ æ›´æ¥è¿‘â€œé«˜æ•ˆå¼€å‘è€…â€çš„ç›®æ ‡ã€‚å¸Œæœ›è¿™ç¯‡ã€Šå‰ç«¯ææ•ˆç§˜ç±ã€‹èƒ½æˆä¸ºä½ çš„â€œæ­¦åŠŸç§˜ç±â€ï¼ŒåŠ©ä½ åœ¨å‰ç«¯æ±Ÿæ¹–ä¸­å¤§å±•èº«æ‰‹ï¼ğŸ’ª

---
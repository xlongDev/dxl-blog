---

type: "Post"
title: "å¦‚ä½•å®ç°ä¸€ä¸ªä¸æ»‘æ‹–æ‹½çš„é«˜æ€§èƒ½ç»„ä»¶ï¼Ÿ"
date: "2023-11-16"
description: "ä»åŸç†åˆ°å®è·µï¼Œå¸¦ä½ æ‰“é€ ä¸€ä¸ªé«˜æ€§èƒ½ã€ä¸æ»‘æµç•…çš„æ‹–æ‹½ç»„ä»¶ï¼Œæ·±å…¥å‰–æå®ç°ç»†èŠ‚ï¼Œé™„å¸¦å®ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µã€‚"
keywords: "æ‹–æ‹½ç»„ä»¶, é«˜æ€§èƒ½å‰ç«¯, JavaScript, React, DOM æ“ä½œ, æµè§ˆå™¨æ¸²æŸ“, å‰ç«¯ä¼˜åŒ–"
author: "æ™“é¾™"
image: "/images/hero/drag-and-drop.jpg"
tags: ["JavaScript", "React", "å‰ç«¯å¼€å‘", "æ€§èƒ½ä¼˜åŒ–"]
category: "å‰ç«¯æŠ€æœ¯"

---


æ‹–æ‹½ï¼ˆDrag-and-Dropï¼‰æ˜¯å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„äº¤äº’æ–¹å¼ï¼Œæ— è®ºæ˜¯æ–‡ä»¶ä¸Šä¼ ã€ä»»åŠ¡çœ‹æ¿æ’åºï¼Œè¿˜æ˜¯è‡ªå®šä¹‰ UI å¸ƒå±€ï¼Œéƒ½ç¦»ä¸å¼€å®ƒã€‚ç„¶è€Œï¼Œæ‹–æ‹½çœ‹ä¼¼ç®€å•ï¼Œå®ç°ä¸€ä¸ªæ—¢æµç•…åˆé«˜æ€§èƒ½çš„ç»„ä»¶å´å¹¶ä¸å®¹æ˜“ã€‚é¼ æ ‡æŠ–ä¸€ä¸‹ï¼Œå…ƒç´ å¡é¡¿ï¼›æ•°æ®é‡ä¸€å¤§ï¼Œé¡µé¢ç›´æ¥â€œå‡æ­»â€â€”â€”è¿™äº›é—®é¢˜ä½ æ˜¯ä¸æ˜¯ä¹Ÿé‡åˆ°è¿‡ï¼ŸğŸ˜…

ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘åœ¨æ— æ•°æ¬¡è¸©å‘å’Œä¼˜åŒ–ä¸­æ€»ç»“å‡ºä¸€å¥—æ‰“é€ ä¸æ»‘æ‹–æ‹½ç»„ä»¶çš„â€œæ­¦æ—ç§˜ç±â€ã€‚ä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ ä»åŸç†åˆ°å®è·µï¼Œæ·±å…¥å‰–æå¦‚ä½•å®ç°ä¸€ä¸ªé«˜æ€§èƒ½æ‹–æ‹½ç»„ä»¶ã€‚ä¸ä»…æœ‰ä»£ç ç¤ºä¾‹ï¼Œè¿˜æœ‰æ»¡æ»¡çš„æœ€ä½³å®è·µå¹²è´§ï¼Œä¿è¯ä½ çœ‹å®Œèƒ½ç›´æ¥ä¸Šæ‰‹ï¼Œç”šè‡³è¿˜èƒ½åœ¨å›¢é˜Ÿé‡Œâ€œç§€â€ä¸€æŠŠæŠ€æœ¯è‚Œè‚‰ï¼ğŸ’ª

## æ‹–æ‹½çš„æ ¸å¿ƒåŸç†ï¼šä»æµè§ˆå™¨è¯´èµ·

è¦å®ç°ä¸æ»‘æ‹–æ‹½ï¼Œé¦–å…ˆå¾—ææ¸…æ¥šæµè§ˆå™¨æ˜¯æ€ä¹ˆå¤„ç†æ‹–æ‹½äº‹ä»¶çš„ã€‚æ‹–æ‹½æœ¬è´¨ä¸Šæ˜¯é¼ æ ‡ï¼ˆæˆ–è§¦æ‘¸ï¼‰äº‹ä»¶å’Œ DOM æ“ä½œçš„ç»„åˆï¼Œæ¶‰åŠä»¥ä¸‹å‡ ä¸ªå…³é”®ç¯èŠ‚ï¼š

1. **äº‹ä»¶ç›‘å¬**ï¼š`mousedown`ï¼ˆæŒ‰ä¸‹ï¼‰ã€`mousemove`ï¼ˆç§»åŠ¨ï¼‰ã€`mouseup`ï¼ˆæ¾å¼€ï¼‰ã€‚
2. **ä½ç½®è®¡ç®—**ï¼šå®æ—¶è·å–é¼ æ ‡åæ ‡ï¼Œè®¡ç®—å…ƒç´ çš„æ–°ä½ç½®ã€‚
3. **æ¸²æŸ“æ›´æ–°**ï¼šé€šè¿‡ CSS æˆ– JavaScript æ›´æ–° DOM çš„ä½ç½®ã€‚
4. **æ€§èƒ½ç“¶é¢ˆ**ï¼šé«˜é¢‘äº‹ä»¶è§¦å‘ã€å¤æ‚è®¡ç®—å’Œé‡ç»˜ï¼ˆrepaint/reflowï¼‰ã€‚

æµè§ˆå™¨æ¯ç§’èƒ½æ¸²æŸ“ 60 å¸§ï¼ˆå³ 16.67ms ä¸€å¸§ï¼‰ï¼Œå¦‚æœæ‹–æ‹½é€»è¾‘è€—æ—¶è¶…è¿‡è¿™ä¸ªé˜ˆå€¼ï¼Œç”¨æˆ·å°±ä¼šæ„ŸçŸ¥åˆ°å¡é¡¿ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š**è®©æ¯ä¸€æ­¥éƒ½å¿«å¦‚é—ªç”µï¼Œç»ä¸æ‰å¸§**ã€‚

### ä¸€ä¸ªç®€å•çš„åŸç”Ÿå®ç°

å…ˆæ¥çœ‹ä¸€ä¸ªæœ€åŸºç¡€çš„æ‹–æ‹½ Demoï¼Œç”¨åŸç”Ÿ JavaScript å®ç°ï¼š

```javascript
const box = document.querySelector('.draggable');
let isDragging = false;
let offsetX, offsetY;

box.addEventListener('mousedown', (e) => {
  isDragging = true;
  offsetX = e.clientX - box.offsetLeft;
  offsetY = e.clientY - box.offsetTop;
});

document.addEventListener('mousemove', (e) => {
  if (!isDragging) return;
  box.style.left = `${e.clientX - offsetX}px`;
  box.style.top = `${e.clientY - offsetY}px`;
});

document.addEventListener('mouseup', () => {
  isDragging = false;
});
```

CSS é…åˆä¸€ä¸‹ï¼š

```css
.draggable {
  position: absolute;
  width: 100px;
  height: 100px;
  background: #3498db;
  cursor: move;
}
```

è¿™ä¸ªå®ç°ç®€å•ç²—æš´ï¼Œæ‹–èµ·æ¥ä¹Ÿå‡‘åˆã€‚ä½†é—®é¢˜æ¥äº†ï¼šé¼ æ ‡ç§»åŠ¨å¤ªå¿«æ—¶ï¼Œå…ƒç´ è·Ÿä¸ä¸Šï¼›æ•°æ®é‡ä¸€å¤§ï¼Œé¡µé¢å¡é¡¿æ˜æ˜¾ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º `mousemove` äº‹ä»¶è§¦å‘é¢‘ç‡æé«˜ï¼ˆå¯èƒ½æ¯æ¯«ç§’ä¸€æ¬¡ï¼‰ï¼Œè€Œé¢‘ç¹æ“ä½œ DOM çš„ `style` å±æ€§ä¼šè§¦å‘é‡ç»˜ç”šè‡³å›æµï¼ˆreflowï¼‰ï¼Œæ€§èƒ½ç“¶é¢ˆæš´éœ²æ— é—ã€‚

**å° Tips**: æ°¸è¿œåˆ«å°çœ‹ `mousemove` çš„è§¦å‘é¢‘ç‡ï¼Œå®ƒå°±åƒä¸€ä¸ªè¯ç—¨æœ‹å‹ï¼Œä¸åœåœ°è·Ÿä½ èŠå¤©â€”â€”ä½ å¾—å­¦ä¼šâ€œé€‚åº¦å€¾å¬â€ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½å›åº”ã€‚

## ä¼˜åŒ–ç¬¬ä¸€æ­¥ï¼šäº‹ä»¶èŠ‚æµä¸é˜²æŠ–

è¦è®©æ‹–æ‹½æ›´ä¸æ»‘ï¼Œç¬¬ä¸€æ‹›æ˜¯æ§åˆ¶äº‹ä»¶è§¦å‘é¢‘ç‡ã€‚`mousemove` å¤ªâ€œçƒ­æƒ…â€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨èŠ‚æµï¼ˆthrottleï¼‰æˆ–é˜²æŠ–ï¼ˆdebounceï¼‰æ¥â€œå†·é™â€ä¸€ä¸‹ã€‚

### ç”¨èŠ‚æµä¼˜åŒ–

```javascript
function throttle(fn, delay) {
  let lastTime = 0;
  return function (...args) {
    const now = Date.now();
    if (now - lastTime >= delay) {
      fn.apply(this, args);
      lastTime = now;
    }
  };
}

document.addEventListener('mousemove', throttle((e) => {
  if (!isDragging) return;
  box.style.left = `${e.clientX - offsetX}px`;
  box.style.top = `${e.clientY - offsetY}px`;
}, 16)); // 16ms â‰ˆ 60fps
```

èŠ‚æµåï¼Œæ¯ 16ms æ›´æ–°ä¸€æ¬¡ä½ç½®ï¼Œå®Œç¾è´´åˆæµè§ˆå™¨åˆ·æ–°ç‡ï¼Œæ‹–æ‹½ä½“éªŒç«‹åˆ»æå‡ä¸€ä¸ªæ¡£æ¬¡ã€‚ğŸ’¡

**å° Tips**: èŠ‚æµå°±åƒç»™æ‹–æ‹½åŠ äº†ä¸ªâ€œèŠ‚å¥å¤§å¸ˆâ€ï¼Œè®©å®ƒæŒ‰èŠ‚æ‹è·³èˆï¼Œè€Œä¸æ˜¯ä¹±è¹¦è·¶ã€‚

## ä¼˜åŒ–ç¬¬äºŒæ­¥ï¼šCSS Transform å–ä»£ Style

ç›´æ¥æ“ä½œ `style.left` å’Œ `style.top` ä¼šè§¦å‘å›æµï¼Œå¤ªâ€œæš´åŠ›â€äº†ã€‚ç°ä»£æµè§ˆå™¨å¯¹ CSS `transform` çš„æ”¯æŒéå¸¸å‹å¥½ï¼Œå®ƒåªå½±å“åˆæˆå±‚ï¼ˆcomposite layerï¼‰ï¼Œä¸ä¼šå¼•å‘å›æµï¼Œæ€§èƒ½æ›´ä¼˜ã€‚

æ”¹åŠ¨å¦‚ä¸‹ï¼š

```javascript
document.addEventListener('mousemove', throttle((e) => {
  if (!isDragging) return;
  box.style.transform = `translate(${e.clientX - offsetX}px, ${e.clientY - offsetY}px)`;
}, 16));
```

CSS è°ƒæ•´ï¼š

```css
.draggable {
  position: absolute;
  width: 100px;
  height: 100px;
  background: #3498db;
  cursor: move;
  transform: translate(0, 0); /* åˆå§‹å€¼ */
}
```

ç°åœ¨æ‹–æ‹½ä¸æ»‘å¾—åƒåˆšæ¶‚äº†æ¶¦æ»‘æ²¹ï¼`transform` è®©æµè§ˆå™¨ç›´æ¥åœ¨ GPU ä¸Šå¤„ç†åŠ¨ç”»ï¼Œçœä¸‹äº†å¤§é‡ CPU è®¡ç®—æ—¶é—´ã€‚

**å° Tips**: æŠŠ `transform` æƒ³è±¡æˆä¸€ä¸ªâ€œä¼ é€é—¨â€ï¼Œå…ƒç´ ç›´æ¥â€œç¬ç§»â€åˆ°æ–°ä½ç½®ï¼Œè€Œä¸æ˜¯ä¸€æ­¥æ­¥æŒªè¿‡å»ã€‚

## React ä¸­çš„æ‹–æ‹½ï¼šçŠ¶æ€ç®¡ç†ä¸æ€§èƒ½

åŸç”Ÿå®ç°çˆ½äº†ï¼Œä½†ç°ä»£å‰ç«¯ç¦»ä¸å¼€æ¡†æ¶ã€‚React ä¸­å®ç°æ‹–æ‹½éœ€è¦è€ƒè™‘çŠ¶æ€ç®¡ç†å’Œç»„ä»¶é‡æ¸²æŸ“ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ React ç¤ºä¾‹æ¥è¯´æ˜ï¼š

```jsx
import { useState, useRef } from 'react';
import './DraggableBox.css';

function DraggableBox() {
  const [isDragging, setIsDragging] = useState(false);
  const [position, setPosition] = useState({ x: 0, y: 0 });
  const offset = useRef({ x: 0, y: 0 });
  const boxRef = useRef(null);

  const handleMouseDown = (e) => {
    setIsDragging(true);
    const rect = boxRef.current.getBoundingClientRect();
    offset.current = {
      x: e.clientX - rect.left,
      y: e.clientY - rect.top,
    };
  };

  const handleMouseMove = (e) => {
    if (!isDragging) return;
    setPosition({
      x: e.clientX - offset.current.x,
      y: e.clientY - offset.current.y,
    });
  };

  const handleMouseUp = () => setIsDragging(false);

  return (
    <div
      ref={boxRef}
      className="draggable"
      style={{ transform: `translate(${position.x}px, ${position.y}px)` }}
      onMouseDown={handleMouseDown}
      onMouseMove={handleMouseMove}
      onMouseUp={handleMouseUp}
    />
  );
}

export default DraggableBox;
```

CSS æ–‡ä»¶ï¼š

```css
.draggable {
  position: absolute;
  width: 100px;
  height: 100px;
  background: #e74c3c;
  cursor: move;
}
```

### React çš„æ€§èƒ½é™·é˜±

è¿™ä¸ªå®ç°èƒ½ç”¨ï¼Œä½†æœ‰ä¸ªå¤§é—®é¢˜ï¼š`mousemove` æ¯æ¬¡è§¦å‘éƒ½ä¼šè°ƒç”¨ `setPosition`ï¼Œå¯¼è‡´ç»„ä»¶é¢‘ç¹é‡æ¸²æŸ“ã€‚React çš„ Virtual DOM è™½ç„¶é«˜æ•ˆï¼Œä½†é«˜é¢‘æ›´æ–°è¿˜æ˜¯ä¼šæ‹–æ…¢é€Ÿåº¦ã€‚

### ä¼˜åŒ–ï¼šuseRef + requestAnimationFrame

æˆ‘ä»¬å¯ä»¥ç”¨ `useRef` å­˜å‚¨ä½ç½®ï¼Œé¿å…çŠ¶æ€æ›´æ–°è§¦å‘æ¸²æŸ“ï¼Œå†ç»“åˆ `requestAnimationFrame` ç¡®ä¿æ›´æ–°ä¸æµè§ˆå™¨å¸§åŒæ­¥ï¼š

```jsx
import { useRef } from 'react';
import './DraggableBox.css';

function DraggableBox() {
  const boxRef = useRef(null);
  const isDragging = useRef(false);
  const offset = useRef({ x: 0, y: 0 });
  const position = useRef({ x: 0, y: 0 });

  const updatePosition = () => {
    boxRef.current.style.transform = `translate(${position.current.x}px, ${position.current.y}px)`;
  };

  const handleMouseDown = (e) => {
    isDragging.current = true;
    const rect = boxRef.current.getBoundingClientRect();
    offset.current = {
      x: e.clientX - rect.left,
      y: e.clientY - rect.top,
    };
  };

  const handleMouseMove = (e) => {
    if (!isDragging.current) return;
    position.current = {
      x: e.clientX - offset.current.x,
      y: e.clientY - offset.current.y,
    };
    requestAnimationFrame(updatePosition);
  };

  const handleMouseUp = () => {
    isDragging.current = false;
  };

  return (
    <div
      ref={boxRef}
      className="draggable"
      onMouseDown={handleMouseDown}
      onMouseMove={handleMouseMove}
      onMouseUp={handleMouseUp}
    />
  );
}

export default DraggableBox;
```

`requestAnimationFrame` å°±åƒæµè§ˆå™¨çš„â€œç§äººç§˜ä¹¦â€ï¼Œæ€»èƒ½åœ¨æœ€ä½³æ—¶æœºå®‰æ’æ¸²æŸ“ä»»åŠ¡ï¼Œé¿å…ä¸å¿…è¦çš„æ€§èƒ½æµªè´¹ã€‚

**å° Tips**: åœ¨ React ä¸­ï¼Œèƒ½ç”¨ `useRef` è§£å†³çš„å°±åˆ«ç”¨çŠ¶æ€ï¼ŒçŠ¶æ€æ˜¯â€œè´µå¦‡äººâ€ï¼Œè°ƒç”¨ä¸€æ¬¡æˆæœ¬ä¸ä½ã€‚

## å¤æ‚åœºæ™¯ï¼šæ‹–æ‹½æ’åºä¸ç¢°æ’æ£€æµ‹

ç°å®ä¸­ï¼Œæ‹–æ‹½å¾€å¾€ä¸åªæ˜¯ç§»åŠ¨ä¸€ä¸ªæ–¹å—ã€‚æ¯”å¦‚åœ¨ä»»åŠ¡çœ‹æ¿ä¸­ï¼Œä½ éœ€è¦å®ç°åˆ—è¡¨é¡¹çš„æ’åºï¼Œè¿˜å¾—å¤„ç†ä¸å…¶ä»–å…ƒç´ çš„ç¢°æ’æ£€æµ‹ã€‚

### ä¸€ä¸ª sortable åˆ—è¡¨çš„å®ç°

```jsx
import { useRef, useState } from 'react';
import './SortableList.css';

function SortableList() {
  const [items, setItems] = useState(['Task 1', 'Task 2', 'Task 3', 'Task 4']);
  const draggingItem = useRef(null);
  const dragOverItem = useRef(null);

  const handleDragStart = (e, index) => {
    draggingItem.current = index;
    e.target.style.opacity = '0.5';
  };

  const handleDragEnter = (e, index) => {
    dragOverItem.current = index;
  };

  const handleDragEnd = (e) => {
    e.target.style.opacity = '1';
    if (draggingItem.current === null || dragOverItem.current === null) return;

    const newItems = [...items];
    const draggedItem = newItems.splice(draggingItem.current, 1)[0];
    newItems.splice(dragOverItem.current, 0, draggedItem);
    setItems(newItems);

    draggingItem.current = null;
    dragOverItem.current = null;
  };

  return (
    <ul className="sortable-list">
      {items.map((item, index) => (
        <li
          key={index}
          draggable
          onDragStart={(e) => handleDragStart(e, index)}
          onDragEnter={(e) => handleDragEnter(e, index)}
          onDragEnd={handleDragEnd}
          onDragOver={(e) => e.preventDefault()}
        >
          {item}
        </li>
      ))}
    </ul>
  );
}

export default SortableList;
```

CSSï¼š

```css
.sortable-list {
  list-style: none;
  padding: 0;
  width: 200px;
}

.sortable-list li {
  padding: 10px;
  background: #2ecc71;
  margin: 5px 0;
  cursor: move;
  transition: transform 0.2s ease;
}

.sortable-list li:hover {
  transform: scale(1.02);
}
```

è¿™é‡Œç”¨çš„æ˜¯ HTML5 çš„åŸç”Ÿ `draggable` APIï¼Œç®€å•é«˜æ•ˆã€‚ä½†å¦‚æœéœ€è¦æ›´å¤æ‚çš„ç¢°æ’æ£€æµ‹ï¼ˆæ¯”å¦‚åˆ¤æ–­å…ƒç´ æ˜¯å¦è¿›å…¥æŸä¸ªåŒºåŸŸï¼‰ï¼Œå¯ä»¥ç”¨ `getBoundingClientRect` è·å–å…ƒç´ è¾¹ç•Œï¼Œæ‰‹åŠ¨è®¡ç®—äº¤é›†ã€‚

**å° Tips**: æ‹–æ‹½æ’åºæ—¶ï¼ŒåŠ ç‚¹è¿‡æ¸¡åŠ¨ç”»ï¼ˆ`transition`ï¼‰ï¼Œç”¨æˆ·ä¼šè§‰å¾—ä½ æ˜¯ä¸ªâ€œç»†èŠ‚æ§â€ï¼Œä½“éªŒåˆ†è¹­è¹­ä¸Šæ¶¨ã€‚

## æœ€ä½³å®è·µï¼šæ‰“é€ å·¥ä¸šçº§æ‹–æ‹½ç»„ä»¶

åˆ°è¿™é‡Œï¼Œä½ å·²ç»èƒ½å®ç°ä¸€ä¸ªä¸é”™çš„æ‹–æ‹½ç»„ä»¶äº†ã€‚ä½†è¦è¾¾åˆ°â€œå·¥ä¸šçº§â€æ ‡å‡†ï¼Œè¿˜æœ‰å‡ æ‹›å€¼å¾—ä¸€è¯•ï¼š

1. **æ”¯æŒè§¦æ‘¸è®¾å¤‡**  
   åˆ«å¿˜äº†ç§»åŠ¨ç«¯ï¼ç›‘å¬ `touchstart`ã€`touchmove`ã€`touchend`ï¼Œé€»è¾‘å’Œé¼ æ ‡äº‹ä»¶ç±»ä¼¼ã€‚æ¯”å¦‚ï¼š
   ```javascript
   box.addEventListener('touchmove', (e) => {
     const touch = e.touches[0];
     box.style.transform = `translate(${touch.clientX - offsetX}px, ${touch.clientY - offsetY}px)`;
   });
   ```
   **å° Tips**: æµ‹è¯•è§¦æ‘¸æ—¶ï¼Œç”¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·æ¨¡æ‹Ÿï¼Œåˆ«çœŸæ‹¿æ‰‹æœºæˆ³å±å¹•â€”â€”æ‰‹é…¸ä¸è¯´ï¼Œè¿˜å®¹æ˜“ç‚¹é”™ã€‚

2. **è¾¹ç•Œé™åˆ¶**  
   æ‹–æ‹½æ—¶åˆ«è®©å…ƒç´ é£å‡ºå±å¹•ï¼Œç”¨ç®€å•çš„æ¡ä»¶åˆ¤æ–­ï¼š
   ```javascript
   const x = Math.max(0, Math.min(e.clientX - offsetX, window.innerWidth - box.offsetWidth));
   const y = Math.max(0, Math.min(e.clientY - offsetY, window.innerHeight - box.offsetHeight));
   ```

3. **æ€§èƒ½ç›‘æ§**  
   ç”¨ `performance.now()` è®°å½•æ‹–æ‹½è€—æ—¶ï¼Œå‘ç°é—®é¢˜åŠæ—¶ä¼˜åŒ–ã€‚æ‹–æ‹½å¡é¡¿å°±åƒæ„Ÿå†’ï¼Œæ—©æœŸæ²»ç–—æœ€æœ‰æ•ˆã€‚

4. **ä¼˜é›…çš„è§†è§‰åé¦ˆ**  
   æ‹–æ‹½æ—¶åŠ ä¸ªé˜´å½±æˆ–é«˜äº®æ•ˆæœï¼Œç”¨æˆ·ä¼šè§‰å¾—â€œå“‡ï¼Œè¿™ä¸ªç»„ä»¶æœ‰çµé­‚â€ï¼š
   ```css
   .dragging {
     box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
   }
   ```

5. **å¯æ‰©å±•æ€§**  
   æŠŠæ‹–æ‹½é€»è¾‘å°è£…æˆ Hook æˆ–ç±»ï¼Œæ–¹ä¾¿å¤ç”¨ã€‚æ¯”å¦‚ React çš„è‡ªå®šä¹‰ Hookï¼š
   ```jsx
   function useDrag() {
     const ref = useRef(null);
     const handleMouseDown = (e) => { /* æ‹–æ‹½é€»è¾‘ */ };
     return [ref, handleMouseDown];
   }
   ```

## æœ€åçš„å½©è›‹ï¼šå¹½é»˜ä¸åæ€

å®ç°æ‹–æ‹½ç»„ä»¶å°±åƒè°ˆæ‹çˆ±ï¼šåˆšå¼€å§‹è§‰å¾—ç®€å•ï¼ˆâ€œä¸å°±æ‹–ä¸ªå…ƒç´ å˜›â€ï¼‰ï¼Œæ·±å…¥åå‘ç°å¤„å¤„æ˜¯å‘ï¼ˆâ€œä¸ºä»€ä¹ˆåˆå¡äº†ï¼Ÿâ€ï¼‰ï¼Œä¼˜åŒ–å¥½äº†æ‰è§‰å¾—â€œå“‡ï¼ŒçœŸé¦™â€ã€‚ğŸ˜‚  
ä½†è¯´çœŸçš„ï¼Œä¸€ä¸ªä¸æ»‘çš„æ‹–æ‹½ç»„ä»¶ä¸ä»…èƒ½æå‡ç”¨æˆ·ä½“éªŒï¼Œè¿˜èƒ½è®©ä½ åœ¨åŒäº‹é¢å‰å¤šå‡ åˆ†â€œæŠ€æœ¯å…‰ç¯â€ã€‚ä¸‹æ¬¡å¼€ä¼šæ—¶ï¼Œä¸å¦¨è‡ªä¿¡åœ°è¯´ï¼šâ€œæ‹–æ‹½ä¼˜åŒ–ï¼Ÿæˆ‘æœ‰ç»æ‹›ï¼â€

å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ æ‰“é€ å‡ºä¸€ä¸ªæ—¢å®ç”¨åˆç‚«é…·çš„æ‹–æ‹½ç»„ä»¶ã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„æ€è·¯ï¼Œæ¬¢è¿ç•™è¨€äº¤æµâ€”â€”æ¯•ç«Ÿï¼Œå‰ç«¯çš„ä¸–ç•Œé‡Œï¼Œæ°¸è¿œæ²¡æœ‰â€œæœ€ä¼˜è§£â€ï¼Œåªæœ‰â€œæ›´ä¼˜è§£â€ã€‚âœ¨

--- 